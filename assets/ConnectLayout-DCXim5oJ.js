import{k as getAugmentedNamespace,g as commonjsGlobal,p as process$1,j as getDefaultExportFromCjs,l as reactive,d as defineComponent,m as h$1,a as ref$1,n as onUpdated,q as onMounted,F as Fragment,s as toRef,u as computed,_ as _export_sfc,r as resolveComponent,o as openBlock,c as createBlock,w as withCtx,e as createBaseVNode,b as createVNode,f as createTextVNode,T as Teleport,v as createElementBlock,x as withModifiers,i as createCommentVNode,y as renderList,z as router,t as toDisplayString,A as renderSlot}from"./index-CVQZtFQN.js";var src$6={},connect$2={},connect$1={},constants$5={};(function(f){Object.defineProperty(f,"__esModule",{value:!0}),f.ConnectorState=f.CONNECT_PROTOCOL_VER=f.CONNECT_JSONRPC_VER=f.OKXCONNECTOR_MESSAGE_TTL=f.OKXCONNECTOR_WS_URL_PENDING_CLOSE_CODE=f.OKXCONNECTOR_WS_URL_LIST=f.OKXCONNECTOR_WS_URL_IDX_KEY=f.OKXCONNECTOR_WS_URL_3=f.OKXCONNECTOR_WS_URL_2=f.OKXCONNECTOR_WS_URL_1=f.EVENT_EMITTER_MAX_LISTENERS=f.OKXCONNECTOR_PROTOCOL_VERSION=void 0,f.OKXCONNECTOR_PROTOCOL_VERSION=2,f.EVENT_EMITTER_MAX_LISTENERS=10,f.OKXCONNECTOR_WS_URL_1="wss://wsdexpri.okx.com/ws/v1/wallet-connect-relay",f.OKXCONNECTOR_WS_URL_2="wss://wsdexpri.okx.ac/ws/v1/wallet-connect-relay",f.OKXCONNECTOR_WS_URL_3="wss://wsdexpri.coinall.ltd/ws/v1/wallet-connect-relay",f.OKXCONNECTOR_WS_URL_IDX_KEY="wuik",f.OKXCONNECTOR_WS_URL_LIST=[f.OKXCONNECTOR_WS_URL_1,f.OKXCONNECTOR_WS_URL_2,f.OKXCONNECTOR_WS_URL_3],f.OKXCONNECTOR_WS_URL_PENDING_CLOSE_CODE={TIME_OUT:3990,CANCELED:3991,FINISHED:3992},f.OKXCONNECTOR_MESSAGE_TTL=3e5,f.CONNECT_JSONRPC_VER="2.0",f.CONNECT_PROTOCOL_VER=2,f.ConnectorState={InitState:0,Connecting:1,Connected:2,Disconnected:3,OnError:4}})(constants$5);var storageconstants={};Object.defineProperty(storageconstants,"__esModule",{value:!0});storageconstants.OKXCONNECTOR_STORAGE_PROTOCOL_CACHE=storageconstants.OKXCONNECTOR_STORAGE_CIPHER_METHOD=storageconstants.OKXCONNECTOR_STORAGE_CRYPTO_CIPHERIV=storageconstants.OKXCONNECTOR_STORAGER_CRYPTO_SALT=storageconstants.OKXCONNECTOR_STORAGE_CRYPTO_PASSWORD=storageconstants.OKXCONNECTOR_TON_KEY=storageconstants.OKXCONNECTOR_CRYPTO_SENDER_PK_CACHE=storageconstants.OKXCONNECTOR_TOKEN_CACHE=storageconstants.OKXCONNECTOR_JWT_KEY=storageconstants.OKXCONNECTOR_SESSION_PREFIX_KEY=storageconstants.OKXCONNECTOR_CRYPTO_KEY=storageconstants.OKXCONNECTOR_CACHE_KEY_DAPP=storageconstants.OKXCONNECTOR_CACHE_KEY=void 0;storageconstants.OKXCONNECTOR_CACHE_KEY="ck";storageconstants.OKXCONNECTOR_CACHE_KEY_DAPP="ck_dapp";storageconstants.OKXCONNECTOR_CRYPTO_KEY="cck_k";storageconstants.OKXCONNECTOR_SESSION_PREFIX_KEY="cspk_";storageconstants.OKXCONNECTOR_JWT_KEY="cjk_k";storageconstants.OKXCONNECTOR_TOKEN_CACHE="ct";storageconstants.OKXCONNECTOR_CRYPTO_SENDER_PK_CACHE="csp";storageconstants.OKXCONNECTOR_TON_KEY="OKXStorage_ctc";storageconstants.OKXCONNECTOR_STORAGE_CRYPTO_PASSWORD="scp";storageconstants.OKXCONNECTOR_STORAGER_CRYPTO_SALT="scs";storageconstants.OKXCONNECTOR_STORAGE_CRYPTO_CIPHERIV="scpc";storageconstants.OKXCONNECTOR_STORAGE_CIPHER_METHOD="aes-256-cbc";storageconstants.OKXCONNECTOR_STORAGE_PROTOCOL_CACHE="okx_connect_split_cache_key";var storage={};function commonjsRequire(f){throw new Error('Could not dynamically require "'+f+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var naclFast={exports:{}},cryptoBrowserify={},browser$c={exports:{}},safeBuffer$1={exports:{}},buffer$1={},base64Js={};base64Js.byteLength=byteLength;base64Js.toByteArray=toByteArray;base64Js.fromByteArray=fromByteArray;var lookup=[],revLookup=[],Arr=typeof Uint8Array<"u"?Uint8Array:Array,code$2="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var i$1=0,len=code$2.length;i$1<len;++i$1)lookup[i$1]=code$2[i$1],revLookup[code$2.charCodeAt(i$1)]=i$1;revLookup[45]=62;revLookup[95]=63;function getLens(f){var r=f.length;if(r%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var d=f.indexOf("=");d===-1&&(d=r);var g=d===r?0:4-d%4;return[d,g]}function byteLength(f){var r=getLens(f),d=r[0],g=r[1];return(d+g)*3/4-g}function _byteLength(f,r,d){return(r+d)*3/4-d}function toByteArray(f){var r,d=getLens(f),g=d[0],_=d[1],v=new Arr(_byteLength(f,g,_)),y=0,m=_>0?g-4:g,w;for(w=0;w<m;w+=4)r=revLookup[f.charCodeAt(w)]<<18|revLookup[f.charCodeAt(w+1)]<<12|revLookup[f.charCodeAt(w+2)]<<6|revLookup[f.charCodeAt(w+3)],v[y++]=r>>16&255,v[y++]=r>>8&255,v[y++]=r&255;return _===2&&(r=revLookup[f.charCodeAt(w)]<<2|revLookup[f.charCodeAt(w+1)]>>4,v[y++]=r&255),_===1&&(r=revLookup[f.charCodeAt(w)]<<10|revLookup[f.charCodeAt(w+1)]<<4|revLookup[f.charCodeAt(w+2)]>>2,v[y++]=r>>8&255,v[y++]=r&255),v}function tripletToBase64(f){return lookup[f>>18&63]+lookup[f>>12&63]+lookup[f>>6&63]+lookup[f&63]}function encodeChunk(f,r,d){for(var g,_=[],v=r;v<d;v+=3)g=(f[v]<<16&16711680)+(f[v+1]<<8&65280)+(f[v+2]&255),_.push(tripletToBase64(g));return _.join("")}function fromByteArray(f){for(var r,d=f.length,g=d%3,_=[],v=16383,y=0,m=d-g;y<m;y+=v)_.push(encodeChunk(f,y,y+v>m?m:y+v));return g===1?(r=f[d-1],_.push(lookup[r>>2]+lookup[r<<4&63]+"==")):g===2&&(r=(f[d-2]<<8)+f[d-1],_.push(lookup[r>>10]+lookup[r>>4&63]+lookup[r<<2&63]+"=")),_.join("")}var ieee754={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */ieee754.read=function(f,r,d,g,_){var v,y,m=_*8-g-1,w=(1<<m)-1,C=w>>1,b=-7,E=d?_-1:0,S=d?-1:1,R=f[r+E];for(E+=S,v=R&(1<<-b)-1,R>>=-b,b+=m;b>0;v=v*256+f[r+E],E+=S,b-=8);for(y=v&(1<<-b)-1,v>>=-b,b+=g;b>0;y=y*256+f[r+E],E+=S,b-=8);if(v===0)v=1-C;else{if(v===w)return y?NaN:(R?-1:1)*(1/0);y=y+Math.pow(2,g),v=v-C}return(R?-1:1)*y*Math.pow(2,v-g)};ieee754.write=function(f,r,d,g,_,v){var y,m,w,C=v*8-_-1,b=(1<<C)-1,E=b>>1,S=_===23?Math.pow(2,-24)-Math.pow(2,-77):0,R=g?0:v-1,O=g?1:-1,$=r<0||r===0&&1/r<0?1:0;for(r=Math.abs(r),isNaN(r)||r===1/0?(m=isNaN(r)?1:0,y=b):(y=Math.floor(Math.log(r)/Math.LN2),r*(w=Math.pow(2,-y))<1&&(y--,w*=2),y+E>=1?r+=S/w:r+=S*Math.pow(2,1-E),r*w>=2&&(y++,w/=2),y+E>=b?(m=0,y=b):y+E>=1?(m=(r*w-1)*Math.pow(2,_),y=y+E):(m=r*Math.pow(2,E-1)*Math.pow(2,_),y=0));_>=8;f[d+R]=m&255,R+=O,m/=256,_-=8);for(y=y<<_|m,C+=_;C>0;f[d+R]=y&255,R+=O,y/=256,C-=8);f[d+R-O]|=$*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(f){const r=base64Js,d=ieee754,g=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;f.Buffer=b,f.SlowBuffer=X,f.INSPECT_MAX_BYTES=50;const _=2147483647;f.kMaxLength=_;const{Uint8Array:v,ArrayBuffer:y,SharedArrayBuffer:m}=globalThis;b.TYPED_ARRAY_SUPPORT=w(),!b.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function w(){try{const ue=new v(1),ee={foo:function(){return 42}};return Object.setPrototypeOf(ee,v.prototype),Object.setPrototypeOf(ue,ee),ue.foo()===42}catch{return!1}}Object.defineProperty(b.prototype,"parent",{enumerable:!0,get:function(){if(b.isBuffer(this))return this.buffer}}),Object.defineProperty(b.prototype,"offset",{enumerable:!0,get:function(){if(b.isBuffer(this))return this.byteOffset}});function C(ue){if(ue>_)throw new RangeError('The value "'+ue+'" is invalid for option "size"');const ee=new v(ue);return Object.setPrototypeOf(ee,b.prototype),ee}function b(ue,ee,te){if(typeof ue=="number"){if(typeof ee=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return O(ue)}return E(ue,ee,te)}b.poolSize=8192;function E(ue,ee,te){if(typeof ue=="string")return $(ue,ee);if(y.isView(ue))return U(ue);if(ue==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof ue);if(it(ue,y)||ue&&it(ue.buffer,y)||typeof m<"u"&&(it(ue,m)||ue&&it(ue.buffer,m)))return L(ue,ee,te);if(typeof ue=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const de=ue.valueOf&&ue.valueOf();if(de!=null&&de!==ue)return b.from(de,ee,te);const xe=j(ue);if(xe)return xe;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof ue[Symbol.toPrimitive]=="function")return b.from(ue[Symbol.toPrimitive]("string"),ee,te);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof ue)}b.from=function(ue,ee,te){return E(ue,ee,te)},Object.setPrototypeOf(b.prototype,v.prototype),Object.setPrototypeOf(b,v);function S(ue){if(typeof ue!="number")throw new TypeError('"size" argument must be of type number');if(ue<0)throw new RangeError('The value "'+ue+'" is invalid for option "size"')}function R(ue,ee,te){return S(ue),ue<=0?C(ue):ee!==void 0?typeof te=="string"?C(ue).fill(ee,te):C(ue).fill(ee):C(ue)}b.alloc=function(ue,ee,te){return R(ue,ee,te)};function O(ue){return S(ue),C(ue<0?0:F(ue)|0)}b.allocUnsafe=function(ue){return O(ue)},b.allocUnsafeSlow=function(ue){return O(ue)};function $(ue,ee){if((typeof ee!="string"||ee==="")&&(ee="utf8"),!b.isEncoding(ee))throw new TypeError("Unknown encoding: "+ee);const te=z(ue,ee)|0;let de=C(te);const xe=de.write(ue,ee);return xe!==te&&(de=de.slice(0,xe)),de}function I(ue){const ee=ue.length<0?0:F(ue.length)|0,te=C(ee);for(let de=0;de<ee;de+=1)te[de]=ue[de]&255;return te}function U(ue){if(it(ue,v)){const ee=new v(ue);return L(ee.buffer,ee.byteOffset,ee.byteLength)}return I(ue)}function L(ue,ee,te){if(ee<0||ue.byteLength<ee)throw new RangeError('"offset" is outside of buffer bounds');if(ue.byteLength<ee+(te||0))throw new RangeError('"length" is outside of buffer bounds');let de;return ee===void 0&&te===void 0?de=new v(ue):te===void 0?de=new v(ue,ee):de=new v(ue,ee,te),Object.setPrototypeOf(de,b.prototype),de}function j(ue){if(b.isBuffer(ue)){const ee=F(ue.length)|0,te=C(ee);return te.length===0||ue.copy(te,0,0,ee),te}if(ue.length!==void 0)return typeof ue.length!="number"||Fe(ue.length)?C(0):I(ue);if(ue.type==="Buffer"&&Array.isArray(ue.data))return I(ue.data)}function F(ue){if(ue>=_)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+_.toString(16)+" bytes");return ue|0}function X(ue){return+ue!=ue&&(ue=0),b.alloc(+ue)}b.isBuffer=function(ee){return ee!=null&&ee._isBuffer===!0&&ee!==b.prototype},b.compare=function(ee,te){if(it(ee,v)&&(ee=b.from(ee,ee.offset,ee.byteLength)),it(te,v)&&(te=b.from(te,te.offset,te.byteLength)),!b.isBuffer(ee)||!b.isBuffer(te))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(ee===te)return 0;let de=ee.length,xe=te.length;for(let Re=0,Te=Math.min(de,xe);Re<Te;++Re)if(ee[Re]!==te[Re]){de=ee[Re],xe=te[Re];break}return de<xe?-1:xe<de?1:0},b.isEncoding=function(ee){switch(String(ee).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},b.concat=function(ee,te){if(!Array.isArray(ee))throw new TypeError('"list" argument must be an Array of Buffers');if(ee.length===0)return b.alloc(0);let de;if(te===void 0)for(te=0,de=0;de<ee.length;++de)te+=ee[de].length;const xe=b.allocUnsafe(te);let Re=0;for(de=0;de<ee.length;++de){let Te=ee[de];if(it(Te,v))Re+Te.length>xe.length?(b.isBuffer(Te)||(Te=b.from(Te)),Te.copy(xe,Re)):v.prototype.set.call(xe,Te,Re);else if(b.isBuffer(Te))Te.copy(xe,Re);else throw new TypeError('"list" argument must be an Array of Buffers');Re+=Te.length}return xe};function z(ue,ee){if(b.isBuffer(ue))return ue.length;if(y.isView(ue)||it(ue,y))return ue.byteLength;if(typeof ue!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof ue);const te=ue.length,de=arguments.length>2&&arguments[2]===!0;if(!de&&te===0)return 0;let xe=!1;for(;;)switch(ee){case"ascii":case"latin1":case"binary":return te;case"utf8":case"utf-8":return Ve(ue).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return te*2;case"hex":return te>>>1;case"base64":return Je(ue).length;default:if(xe)return de?-1:Ve(ue).length;ee=(""+ee).toLowerCase(),xe=!0}}b.byteLength=z;function Y(ue,ee,te){let de=!1;if((ee===void 0||ee<0)&&(ee=0),ee>this.length||((te===void 0||te>this.length)&&(te=this.length),te<=0)||(te>>>=0,ee>>>=0,te<=ee))return"";for(ue||(ue="utf8");;)switch(ue){case"hex":return M(this,ee,te);case"utf8":case"utf-8":return N(this,ee,te);case"ascii":return P(this,ee,te);case"latin1":case"binary":return k(this,ee,te);case"base64":return B(this,ee,te);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return W(this,ee,te);default:if(de)throw new TypeError("Unknown encoding: "+ue);ue=(ue+"").toLowerCase(),de=!0}}b.prototype._isBuffer=!0;function ne(ue,ee,te){const de=ue[ee];ue[ee]=ue[te],ue[te]=de}b.prototype.swap16=function(){const ee=this.length;if(ee%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let te=0;te<ee;te+=2)ne(this,te,te+1);return this},b.prototype.swap32=function(){const ee=this.length;if(ee%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let te=0;te<ee;te+=4)ne(this,te,te+3),ne(this,te+1,te+2);return this},b.prototype.swap64=function(){const ee=this.length;if(ee%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let te=0;te<ee;te+=8)ne(this,te,te+7),ne(this,te+1,te+6),ne(this,te+2,te+5),ne(this,te+3,te+4);return this},b.prototype.toString=function(){const ee=this.length;return ee===0?"":arguments.length===0?N(this,0,ee):Y.apply(this,arguments)},b.prototype.toLocaleString=b.prototype.toString,b.prototype.equals=function(ee){if(!b.isBuffer(ee))throw new TypeError("Argument must be a Buffer");return this===ee?!0:b.compare(this,ee)===0},b.prototype.inspect=function(){let ee="";const te=f.INSPECT_MAX_BYTES;return ee=this.toString("hex",0,te).replace(/(.{2})/g,"$1 ").trim(),this.length>te&&(ee+=" ... "),"<Buffer "+ee+">"},g&&(b.prototype[g]=b.prototype.inspect),b.prototype.compare=function(ee,te,de,xe,Re){if(it(ee,v)&&(ee=b.from(ee,ee.offset,ee.byteLength)),!b.isBuffer(ee))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof ee);if(te===void 0&&(te=0),de===void 0&&(de=ee?ee.length:0),xe===void 0&&(xe=0),Re===void 0&&(Re=this.length),te<0||de>ee.length||xe<0||Re>this.length)throw new RangeError("out of range index");if(xe>=Re&&te>=de)return 0;if(xe>=Re)return-1;if(te>=de)return 1;if(te>>>=0,de>>>=0,xe>>>=0,Re>>>=0,this===ee)return 0;let Te=Re-xe,dt=de-te;const ut=Math.min(Te,dt),et=this.slice(xe,Re),wt=ee.slice(te,de);for(let ht=0;ht<ut;++ht)if(et[ht]!==wt[ht]){Te=et[ht],dt=wt[ht];break}return Te<dt?-1:dt<Te?1:0};function re(ue,ee,te,de,xe){if(ue.length===0)return-1;if(typeof te=="string"?(de=te,te=0):te>2147483647?te=2147483647:te<-2147483648&&(te=-2147483648),te=+te,Fe(te)&&(te=xe?0:ue.length-1),te<0&&(te=ue.length+te),te>=ue.length){if(xe)return-1;te=ue.length-1}else if(te<0)if(xe)te=0;else return-1;if(typeof ee=="string"&&(ee=b.from(ee,de)),b.isBuffer(ee))return ee.length===0?-1:se(ue,ee,te,de,xe);if(typeof ee=="number")return ee=ee&255,typeof v.prototype.indexOf=="function"?xe?v.prototype.indexOf.call(ue,ee,te):v.prototype.lastIndexOf.call(ue,ee,te):se(ue,[ee],te,de,xe);throw new TypeError("val must be string, number or Buffer")}function se(ue,ee,te,de,xe){let Re=1,Te=ue.length,dt=ee.length;if(de!==void 0&&(de=String(de).toLowerCase(),de==="ucs2"||de==="ucs-2"||de==="utf16le"||de==="utf-16le")){if(ue.length<2||ee.length<2)return-1;Re=2,Te/=2,dt/=2,te/=2}function ut(wt,ht){return Re===1?wt[ht]:wt.readUInt16BE(ht*Re)}let et;if(xe){let wt=-1;for(et=te;et<Te;et++)if(ut(ue,et)===ut(ee,wt===-1?0:et-wt)){if(wt===-1&&(wt=et),et-wt+1===dt)return wt*Re}else wt!==-1&&(et-=et-wt),wt=-1}else for(te+dt>Te&&(te=Te-dt),et=te;et>=0;et--){let wt=!0;for(let ht=0;ht<dt;ht++)if(ut(ue,et+ht)!==ut(ee,ht)){wt=!1;break}if(wt)return et}return-1}b.prototype.includes=function(ee,te,de){return this.indexOf(ee,te,de)!==-1},b.prototype.indexOf=function(ee,te,de){return re(this,ee,te,de,!0)},b.prototype.lastIndexOf=function(ee,te,de){return re(this,ee,te,de,!1)};function G(ue,ee,te,de){te=Number(te)||0;const xe=ue.length-te;de?(de=Number(de),de>xe&&(de=xe)):de=xe;const Re=ee.length;de>Re/2&&(de=Re/2);let Te;for(Te=0;Te<de;++Te){const dt=parseInt(ee.substr(Te*2,2),16);if(Fe(dt))return Te;ue[te+Te]=dt}return Te}function T(ue,ee,te,de){return We(Ve(ee,ue.length-te),ue,te,de)}function D(ue,ee,te,de){return We(Ke(ee),ue,te,de)}function x(ue,ee,te,de){return We(Je(ee),ue,te,de)}function A(ue,ee,te,de){return We(ot(ee,ue.length-te),ue,te,de)}b.prototype.write=function(ee,te,de,xe){if(te===void 0)xe="utf8",de=this.length,te=0;else if(de===void 0&&typeof te=="string")xe=te,de=this.length,te=0;else if(isFinite(te))te=te>>>0,isFinite(de)?(de=de>>>0,xe===void 0&&(xe="utf8")):(xe=de,de=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Re=this.length-te;if((de===void 0||de>Re)&&(de=Re),ee.length>0&&(de<0||te<0)||te>this.length)throw new RangeError("Attempt to write outside buffer bounds");xe||(xe="utf8");let Te=!1;for(;;)switch(xe){case"hex":return G(this,ee,te,de);case"utf8":case"utf-8":return T(this,ee,te,de);case"ascii":case"latin1":case"binary":return D(this,ee,te,de);case"base64":return x(this,ee,te,de);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,ee,te,de);default:if(Te)throw new TypeError("Unknown encoding: "+xe);xe=(""+xe).toLowerCase(),Te=!0}},b.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function B(ue,ee,te){return ee===0&&te===ue.length?r.fromByteArray(ue):r.fromByteArray(ue.slice(ee,te))}function N(ue,ee,te){te=Math.min(ue.length,te);const de=[];let xe=ee;for(;xe<te;){const Re=ue[xe];let Te=null,dt=Re>239?4:Re>223?3:Re>191?2:1;if(xe+dt<=te){let ut,et,wt,ht;switch(dt){case 1:Re<128&&(Te=Re);break;case 2:ut=ue[xe+1],(ut&192)===128&&(ht=(Re&31)<<6|ut&63,ht>127&&(Te=ht));break;case 3:ut=ue[xe+1],et=ue[xe+2],(ut&192)===128&&(et&192)===128&&(ht=(Re&15)<<12|(ut&63)<<6|et&63,ht>2047&&(ht<55296||ht>57343)&&(Te=ht));break;case 4:ut=ue[xe+1],et=ue[xe+2],wt=ue[xe+3],(ut&192)===128&&(et&192)===128&&(wt&192)===128&&(ht=(Re&15)<<18|(ut&63)<<12|(et&63)<<6|wt&63,ht>65535&&ht<1114112&&(Te=ht))}}Te===null?(Te=65533,dt=1):Te>65535&&(Te-=65536,de.push(Te>>>10&1023|55296),Te=56320|Te&1023),de.push(Te),xe+=dt}return K(de)}const q=4096;function K(ue){const ee=ue.length;if(ee<=q)return String.fromCharCode.apply(String,ue);let te="",de=0;for(;de<ee;)te+=String.fromCharCode.apply(String,ue.slice(de,de+=q));return te}function P(ue,ee,te){let de="";te=Math.min(ue.length,te);for(let xe=ee;xe<te;++xe)de+=String.fromCharCode(ue[xe]&127);return de}function k(ue,ee,te){let de="";te=Math.min(ue.length,te);for(let xe=ee;xe<te;++xe)de+=String.fromCharCode(ue[xe]);return de}function M(ue,ee,te){const de=ue.length;(!ee||ee<0)&&(ee=0),(!te||te<0||te>de)&&(te=de);let xe="";for(let Re=ee;Re<te;++Re)xe+=Le[ue[Re]];return xe}function W(ue,ee,te){const de=ue.slice(ee,te);let xe="";for(let Re=0;Re<de.length-1;Re+=2)xe+=String.fromCharCode(de[Re]+de[Re+1]*256);return xe}b.prototype.slice=function(ee,te){const de=this.length;ee=~~ee,te=te===void 0?de:~~te,ee<0?(ee+=de,ee<0&&(ee=0)):ee>de&&(ee=de),te<0?(te+=de,te<0&&(te=0)):te>de&&(te=de),te<ee&&(te=ee);const xe=this.subarray(ee,te);return Object.setPrototypeOf(xe,b.prototype),xe};function ce(ue,ee,te){if(ue%1!==0||ue<0)throw new RangeError("offset is not uint");if(ue+ee>te)throw new RangeError("Trying to access beyond buffer length")}b.prototype.readUintLE=b.prototype.readUIntLE=function(ee,te,de){ee=ee>>>0,te=te>>>0,de||ce(ee,te,this.length);let xe=this[ee],Re=1,Te=0;for(;++Te<te&&(Re*=256);)xe+=this[ee+Te]*Re;return xe},b.prototype.readUintBE=b.prototype.readUIntBE=function(ee,te,de){ee=ee>>>0,te=te>>>0,de||ce(ee,te,this.length);let xe=this[ee+--te],Re=1;for(;te>0&&(Re*=256);)xe+=this[ee+--te]*Re;return xe},b.prototype.readUint8=b.prototype.readUInt8=function(ee,te){return ee=ee>>>0,te||ce(ee,1,this.length),this[ee]},b.prototype.readUint16LE=b.prototype.readUInt16LE=function(ee,te){return ee=ee>>>0,te||ce(ee,2,this.length),this[ee]|this[ee+1]<<8},b.prototype.readUint16BE=b.prototype.readUInt16BE=function(ee,te){return ee=ee>>>0,te||ce(ee,2,this.length),this[ee]<<8|this[ee+1]},b.prototype.readUint32LE=b.prototype.readUInt32LE=function(ee,te){return ee=ee>>>0,te||ce(ee,4,this.length),(this[ee]|this[ee+1]<<8|this[ee+2]<<16)+this[ee+3]*16777216},b.prototype.readUint32BE=b.prototype.readUInt32BE=function(ee,te){return ee=ee>>>0,te||ce(ee,4,this.length),this[ee]*16777216+(this[ee+1]<<16|this[ee+2]<<8|this[ee+3])},b.prototype.readBigUInt64LE=Qe(function(ee){ee=ee>>>0,Ie(ee,"offset");const te=this[ee],de=this[ee+7];(te===void 0||de===void 0)&&qe(ee,this.length-8);const xe=te+this[++ee]*2**8+this[++ee]*2**16+this[++ee]*2**24,Re=this[++ee]+this[++ee]*2**8+this[++ee]*2**16+de*2**24;return BigInt(xe)+(BigInt(Re)<<BigInt(32))}),b.prototype.readBigUInt64BE=Qe(function(ee){ee=ee>>>0,Ie(ee,"offset");const te=this[ee],de=this[ee+7];(te===void 0||de===void 0)&&qe(ee,this.length-8);const xe=te*2**24+this[++ee]*2**16+this[++ee]*2**8+this[++ee],Re=this[++ee]*2**24+this[++ee]*2**16+this[++ee]*2**8+de;return(BigInt(xe)<<BigInt(32))+BigInt(Re)}),b.prototype.readIntLE=function(ee,te,de){ee=ee>>>0,te=te>>>0,de||ce(ee,te,this.length);let xe=this[ee],Re=1,Te=0;for(;++Te<te&&(Re*=256);)xe+=this[ee+Te]*Re;return Re*=128,xe>=Re&&(xe-=Math.pow(2,8*te)),xe},b.prototype.readIntBE=function(ee,te,de){ee=ee>>>0,te=te>>>0,de||ce(ee,te,this.length);let xe=te,Re=1,Te=this[ee+--xe];for(;xe>0&&(Re*=256);)Te+=this[ee+--xe]*Re;return Re*=128,Te>=Re&&(Te-=Math.pow(2,8*te)),Te},b.prototype.readInt8=function(ee,te){return ee=ee>>>0,te||ce(ee,1,this.length),this[ee]&128?(255-this[ee]+1)*-1:this[ee]},b.prototype.readInt16LE=function(ee,te){ee=ee>>>0,te||ce(ee,2,this.length);const de=this[ee]|this[ee+1]<<8;return de&32768?de|4294901760:de},b.prototype.readInt16BE=function(ee,te){ee=ee>>>0,te||ce(ee,2,this.length);const de=this[ee+1]|this[ee]<<8;return de&32768?de|4294901760:de},b.prototype.readInt32LE=function(ee,te){return ee=ee>>>0,te||ce(ee,4,this.length),this[ee]|this[ee+1]<<8|this[ee+2]<<16|this[ee+3]<<24},b.prototype.readInt32BE=function(ee,te){return ee=ee>>>0,te||ce(ee,4,this.length),this[ee]<<24|this[ee+1]<<16|this[ee+2]<<8|this[ee+3]},b.prototype.readBigInt64LE=Qe(function(ee){ee=ee>>>0,Ie(ee,"offset");const te=this[ee],de=this[ee+7];(te===void 0||de===void 0)&&qe(ee,this.length-8);const xe=this[ee+4]+this[ee+5]*2**8+this[ee+6]*2**16+(de<<24);return(BigInt(xe)<<BigInt(32))+BigInt(te+this[++ee]*2**8+this[++ee]*2**16+this[++ee]*2**24)}),b.prototype.readBigInt64BE=Qe(function(ee){ee=ee>>>0,Ie(ee,"offset");const te=this[ee],de=this[ee+7];(te===void 0||de===void 0)&&qe(ee,this.length-8);const xe=(te<<24)+this[++ee]*2**16+this[++ee]*2**8+this[++ee];return(BigInt(xe)<<BigInt(32))+BigInt(this[++ee]*2**24+this[++ee]*2**16+this[++ee]*2**8+de)}),b.prototype.readFloatLE=function(ee,te){return ee=ee>>>0,te||ce(ee,4,this.length),d.read(this,ee,!0,23,4)},b.prototype.readFloatBE=function(ee,te){return ee=ee>>>0,te||ce(ee,4,this.length),d.read(this,ee,!1,23,4)},b.prototype.readDoubleLE=function(ee,te){return ee=ee>>>0,te||ce(ee,8,this.length),d.read(this,ee,!0,52,8)},b.prototype.readDoubleBE=function(ee,te){return ee=ee>>>0,te||ce(ee,8,this.length),d.read(this,ee,!1,52,8)};function be(ue,ee,te,de,xe,Re){if(!b.isBuffer(ue))throw new TypeError('"buffer" argument must be a Buffer instance');if(ee>xe||ee<Re)throw new RangeError('"value" argument is out of bounds');if(te+de>ue.length)throw new RangeError("Index out of range")}b.prototype.writeUintLE=b.prototype.writeUIntLE=function(ee,te,de,xe){if(ee=+ee,te=te>>>0,de=de>>>0,!xe){const dt=Math.pow(2,8*de)-1;be(this,ee,te,de,dt,0)}let Re=1,Te=0;for(this[te]=ee&255;++Te<de&&(Re*=256);)this[te+Te]=ee/Re&255;return te+de},b.prototype.writeUintBE=b.prototype.writeUIntBE=function(ee,te,de,xe){if(ee=+ee,te=te>>>0,de=de>>>0,!xe){const dt=Math.pow(2,8*de)-1;be(this,ee,te,de,dt,0)}let Re=de-1,Te=1;for(this[te+Re]=ee&255;--Re>=0&&(Te*=256);)this[te+Re]=ee/Te&255;return te+de},b.prototype.writeUint8=b.prototype.writeUInt8=function(ee,te,de){return ee=+ee,te=te>>>0,de||be(this,ee,te,1,255,0),this[te]=ee&255,te+1},b.prototype.writeUint16LE=b.prototype.writeUInt16LE=function(ee,te,de){return ee=+ee,te=te>>>0,de||be(this,ee,te,2,65535,0),this[te]=ee&255,this[te+1]=ee>>>8,te+2},b.prototype.writeUint16BE=b.prototype.writeUInt16BE=function(ee,te,de){return ee=+ee,te=te>>>0,de||be(this,ee,te,2,65535,0),this[te]=ee>>>8,this[te+1]=ee&255,te+2},b.prototype.writeUint32LE=b.prototype.writeUInt32LE=function(ee,te,de){return ee=+ee,te=te>>>0,de||be(this,ee,te,4,4294967295,0),this[te+3]=ee>>>24,this[te+2]=ee>>>16,this[te+1]=ee>>>8,this[te]=ee&255,te+4},b.prototype.writeUint32BE=b.prototype.writeUInt32BE=function(ee,te,de){return ee=+ee,te=te>>>0,de||be(this,ee,te,4,4294967295,0),this[te]=ee>>>24,this[te+1]=ee>>>16,this[te+2]=ee>>>8,this[te+3]=ee&255,te+4};function ve(ue,ee,te,de,xe){De(ee,de,xe,ue,te,7);let Re=Number(ee&BigInt(4294967295));ue[te++]=Re,Re=Re>>8,ue[te++]=Re,Re=Re>>8,ue[te++]=Re,Re=Re>>8,ue[te++]=Re;let Te=Number(ee>>BigInt(32)&BigInt(4294967295));return ue[te++]=Te,Te=Te>>8,ue[te++]=Te,Te=Te>>8,ue[te++]=Te,Te=Te>>8,ue[te++]=Te,te}function Z(ue,ee,te,de,xe){De(ee,de,xe,ue,te,7);let Re=Number(ee&BigInt(4294967295));ue[te+7]=Re,Re=Re>>8,ue[te+6]=Re,Re=Re>>8,ue[te+5]=Re,Re=Re>>8,ue[te+4]=Re;let Te=Number(ee>>BigInt(32)&BigInt(4294967295));return ue[te+3]=Te,Te=Te>>8,ue[te+2]=Te,Te=Te>>8,ue[te+1]=Te,Te=Te>>8,ue[te]=Te,te+8}b.prototype.writeBigUInt64LE=Qe(function(ee,te=0){return ve(this,ee,te,BigInt(0),BigInt("0xffffffffffffffff"))}),b.prototype.writeBigUInt64BE=Qe(function(ee,te=0){return Z(this,ee,te,BigInt(0),BigInt("0xffffffffffffffff"))}),b.prototype.writeIntLE=function(ee,te,de,xe){if(ee=+ee,te=te>>>0,!xe){const ut=Math.pow(2,8*de-1);be(this,ee,te,de,ut-1,-ut)}let Re=0,Te=1,dt=0;for(this[te]=ee&255;++Re<de&&(Te*=256);)ee<0&&dt===0&&this[te+Re-1]!==0&&(dt=1),this[te+Re]=(ee/Te>>0)-dt&255;return te+de},b.prototype.writeIntBE=function(ee,te,de,xe){if(ee=+ee,te=te>>>0,!xe){const ut=Math.pow(2,8*de-1);be(this,ee,te,de,ut-1,-ut)}let Re=de-1,Te=1,dt=0;for(this[te+Re]=ee&255;--Re>=0&&(Te*=256);)ee<0&&dt===0&&this[te+Re+1]!==0&&(dt=1),this[te+Re]=(ee/Te>>0)-dt&255;return te+de},b.prototype.writeInt8=function(ee,te,de){return ee=+ee,te=te>>>0,de||be(this,ee,te,1,127,-128),ee<0&&(ee=255+ee+1),this[te]=ee&255,te+1},b.prototype.writeInt16LE=function(ee,te,de){return ee=+ee,te=te>>>0,de||be(this,ee,te,2,32767,-32768),this[te]=ee&255,this[te+1]=ee>>>8,te+2},b.prototype.writeInt16BE=function(ee,te,de){return ee=+ee,te=te>>>0,de||be(this,ee,te,2,32767,-32768),this[te]=ee>>>8,this[te+1]=ee&255,te+2},b.prototype.writeInt32LE=function(ee,te,de){return ee=+ee,te=te>>>0,de||be(this,ee,te,4,2147483647,-2147483648),this[te]=ee&255,this[te+1]=ee>>>8,this[te+2]=ee>>>16,this[te+3]=ee>>>24,te+4},b.prototype.writeInt32BE=function(ee,te,de){return ee=+ee,te=te>>>0,de||be(this,ee,te,4,2147483647,-2147483648),ee<0&&(ee=4294967295+ee+1),this[te]=ee>>>24,this[te+1]=ee>>>16,this[te+2]=ee>>>8,this[te+3]=ee&255,te+4},b.prototype.writeBigInt64LE=Qe(function(ee,te=0){return ve(this,ee,te,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),b.prototype.writeBigInt64BE=Qe(function(ee,te=0){return Z(this,ee,te,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function J(ue,ee,te,de,xe,Re){if(te+de>ue.length)throw new RangeError("Index out of range");if(te<0)throw new RangeError("Index out of range")}function oe(ue,ee,te,de,xe){return ee=+ee,te=te>>>0,xe||J(ue,ee,te,4),d.write(ue,ee,te,de,23,4),te+4}b.prototype.writeFloatLE=function(ee,te,de){return oe(this,ee,te,!0,de)},b.prototype.writeFloatBE=function(ee,te,de){return oe(this,ee,te,!1,de)};function H(ue,ee,te,de,xe){return ee=+ee,te=te>>>0,xe||J(ue,ee,te,8),d.write(ue,ee,te,de,52,8),te+8}b.prototype.writeDoubleLE=function(ee,te,de){return H(this,ee,te,!0,de)},b.prototype.writeDoubleBE=function(ee,te,de){return H(this,ee,te,!1,de)},b.prototype.copy=function(ee,te,de,xe){if(!b.isBuffer(ee))throw new TypeError("argument should be a Buffer");if(de||(de=0),!xe&&xe!==0&&(xe=this.length),te>=ee.length&&(te=ee.length),te||(te=0),xe>0&&xe<de&&(xe=de),xe===de||ee.length===0||this.length===0)return 0;if(te<0)throw new RangeError("targetStart out of bounds");if(de<0||de>=this.length)throw new RangeError("Index out of range");if(xe<0)throw new RangeError("sourceEnd out of bounds");xe>this.length&&(xe=this.length),ee.length-te<xe-de&&(xe=ee.length-te+de);const Re=xe-de;return this===ee&&typeof v.prototype.copyWithin=="function"?this.copyWithin(te,de,xe):v.prototype.set.call(ee,this.subarray(de,xe),te),Re},b.prototype.fill=function(ee,te,de,xe){if(typeof ee=="string"){if(typeof te=="string"?(xe=te,te=0,de=this.length):typeof de=="string"&&(xe=de,de=this.length),xe!==void 0&&typeof xe!="string")throw new TypeError("encoding must be a string");if(typeof xe=="string"&&!b.isEncoding(xe))throw new TypeError("Unknown encoding: "+xe);if(ee.length===1){const Te=ee.charCodeAt(0);(xe==="utf8"&&Te<128||xe==="latin1")&&(ee=Te)}}else typeof ee=="number"?ee=ee&255:typeof ee=="boolean"&&(ee=Number(ee));if(te<0||this.length<te||this.length<de)throw new RangeError("Out of range index");if(de<=te)return this;te=te>>>0,de=de===void 0?this.length:de>>>0,ee||(ee=0);let Re;if(typeof ee=="number")for(Re=te;Re<de;++Re)this[Re]=ee;else{const Te=b.isBuffer(ee)?ee:b.from(ee,xe),dt=Te.length;if(dt===0)throw new TypeError('The value "'+ee+'" is invalid for argument "value"');for(Re=0;Re<de-te;++Re)this[Re+te]=Te[Re%dt]}return this};const Q={};function ie(ue,ee,te){Q[ue]=class extends te{constructor(){super(),Object.defineProperty(this,"message",{value:ee.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${ue}]`,this.stack,delete this.name}get code(){return ue}set code(xe){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:xe,writable:!0})}toString(){return`${this.name} [${ue}]: ${this.message}`}}}ie("ERR_BUFFER_OUT_OF_BOUNDS",function(ue){return ue?`${ue} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ie("ERR_INVALID_ARG_TYPE",function(ue,ee){return`The "${ue}" argument must be of type number. Received type ${typeof ee}`},TypeError),ie("ERR_OUT_OF_RANGE",function(ue,ee,te){let de=`The value of "${ue}" is out of range.`,xe=te;return Number.isInteger(te)&&Math.abs(te)>2**32?xe=we(String(te)):typeof te=="bigint"&&(xe=String(te),(te>BigInt(2)**BigInt(32)||te<-(BigInt(2)**BigInt(32)))&&(xe=we(xe)),xe+="n"),de+=` It must be ${ee}. Received ${xe}`,de},RangeError);function we(ue){let ee="",te=ue.length;const de=ue[0]==="-"?1:0;for(;te>=de+4;te-=3)ee=`_${ue.slice(te-3,te)}${ee}`;return`${ue.slice(0,te)}${ee}`}function Se(ue,ee,te){Ie(ee,"offset"),(ue[ee]===void 0||ue[ee+te]===void 0)&&qe(ee,ue.length-(te+1))}function De(ue,ee,te,de,xe,Re){if(ue>te||ue<ee){const Te=typeof ee=="bigint"?"n":"";let dt;throw ee===0||ee===BigInt(0)?dt=`>= 0${Te} and < 2${Te} ** ${(Re+1)*8}${Te}`:dt=`>= -(2${Te} ** ${(Re+1)*8-1}${Te}) and < 2 ** ${(Re+1)*8-1}${Te}`,new Q.ERR_OUT_OF_RANGE("value",dt,ue)}Se(de,xe,Re)}function Ie(ue,ee){if(typeof ue!="number")throw new Q.ERR_INVALID_ARG_TYPE(ee,"number",ue)}function qe(ue,ee,te){throw Math.floor(ue)!==ue?(Ie(ue,te),new Q.ERR_OUT_OF_RANGE("offset","an integer",ue)):ee<0?new Q.ERR_BUFFER_OUT_OF_BOUNDS:new Q.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${ee}`,ue)}const Ne=/[^+/0-9A-Za-z-_]/g;function Me(ue){if(ue=ue.split("=")[0],ue=ue.trim().replace(Ne,""),ue.length<2)return"";for(;ue.length%4!==0;)ue=ue+"=";return ue}function Ve(ue,ee){ee=ee||1/0;let te;const de=ue.length;let xe=null;const Re=[];for(let Te=0;Te<de;++Te){if(te=ue.charCodeAt(Te),te>55295&&te<57344){if(!xe){if(te>56319){(ee-=3)>-1&&Re.push(239,191,189);continue}else if(Te+1===de){(ee-=3)>-1&&Re.push(239,191,189);continue}xe=te;continue}if(te<56320){(ee-=3)>-1&&Re.push(239,191,189),xe=te;continue}te=(xe-55296<<10|te-56320)+65536}else xe&&(ee-=3)>-1&&Re.push(239,191,189);if(xe=null,te<128){if((ee-=1)<0)break;Re.push(te)}else if(te<2048){if((ee-=2)<0)break;Re.push(te>>6|192,te&63|128)}else if(te<65536){if((ee-=3)<0)break;Re.push(te>>12|224,te>>6&63|128,te&63|128)}else if(te<1114112){if((ee-=4)<0)break;Re.push(te>>18|240,te>>12&63|128,te>>6&63|128,te&63|128)}else throw new Error("Invalid code point")}return Re}function Ke(ue){const ee=[];for(let te=0;te<ue.length;++te)ee.push(ue.charCodeAt(te)&255);return ee}function ot(ue,ee){let te,de,xe;const Re=[];for(let Te=0;Te<ue.length&&!((ee-=2)<0);++Te)te=ue.charCodeAt(Te),de=te>>8,xe=te%256,Re.push(xe),Re.push(de);return Re}function Je(ue){return r.toByteArray(Me(ue))}function We(ue,ee,te,de){let xe;for(xe=0;xe<de&&!(xe+te>=ee.length||xe>=ue.length);++xe)ee[xe+te]=ue[xe];return xe}function it(ue,ee){return ue instanceof ee||ue!=null&&ue.constructor!=null&&ue.constructor.name!=null&&ue.constructor.name===ee.name}function Fe(ue){return ue!==ue}const Le=function(){const ue="0123456789abcdef",ee=new Array(256);for(let te=0;te<16;++te){const de=te*16;for(let xe=0;xe<16;++xe)ee[de+xe]=ue[te]+ue[xe]}return ee}();function Qe(ue){return typeof BigInt>"u"?rt:ue}function rt(){throw new Error("BigInt not supported")}})(buffer$1);const Buffer=buffer$1.Buffer,Blob$1=buffer$1.Blob,BlobOptions=buffer$1.BlobOptions,Buffer$1=buffer$1.Buffer,File=buffer$1.File,FileOptions=buffer$1.FileOptions,INSPECT_MAX_BYTES=buffer$1.INSPECT_MAX_BYTES,SlowBuffer=buffer$1.SlowBuffer,TranscodeEncoding=buffer$1.TranscodeEncoding,atob$1=buffer$1.atob,btoa$1=buffer$1.btoa,constants$4=buffer$1.constants,isAscii=buffer$1.isAscii,isUtf8=buffer$1.isUtf8,kMaxLength=buffer$1.kMaxLength,kStringMaxLength=buffer$1.kStringMaxLength,resolveObjectURL=buffer$1.resolveObjectURL,transcode=buffer$1.transcode,dist=Object.freeze(Object.defineProperty({__proto__:null,Blob:Blob$1,BlobOptions,Buffer:Buffer$1,File,FileOptions,INSPECT_MAX_BYTES,SlowBuffer,TranscodeEncoding,atob:atob$1,btoa:btoa$1,constants:constants$4,default:Buffer,isAscii,isUtf8,kMaxLength,kStringMaxLength,resolveObjectURL,transcode},Symbol.toStringTag,{value:"Module"})),require$$0$2=getAugmentedNamespace(dist);/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(f,r){var d=require$$0$2,g=d.Buffer;function _(y,m){for(var w in y)m[w]=y[w]}g.from&&g.alloc&&g.allocUnsafe&&g.allocUnsafeSlow?f.exports=d:(_(d,r),r.Buffer=v);function v(y,m,w){return g(y,m,w)}v.prototype=Object.create(g.prototype),_(g,v),v.from=function(y,m,w){if(typeof y=="number")throw new TypeError("Argument must not be a number");return g(y,m,w)},v.alloc=function(y,m,w){if(typeof y!="number")throw new TypeError("Argument must be a number");var C=g(y);return m!==void 0?typeof w=="string"?C.fill(m,w):C.fill(m):C.fill(0),C},v.allocUnsafe=function(y){if(typeof y!="number")throw new TypeError("Argument must be a number");return g(y)},v.allocUnsafeSlow=function(y){if(typeof y!="number")throw new TypeError("Argument must be a number");return d.SlowBuffer(y)}})(safeBuffer$1,safeBuffer$1.exports);var safeBufferExports=safeBuffer$1.exports,hasRequiredBrowser$b;function requireBrowser$b(){if(hasRequiredBrowser$b)return browser$c.exports;hasRequiredBrowser$b=1;var f=65536,r=4294967295;function d(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}var g=safeBufferExports.Buffer,_=commonjsGlobal.crypto||commonjsGlobal.msCrypto;_&&_.getRandomValues?browser$c.exports=v:browser$c.exports=d;function v(y,m){if(y>r)throw new RangeError("requested too many random bytes");var w=g.allocUnsafe(y);if(y>0)if(y>f)for(var C=0;C<y;C+=f)_.getRandomValues(w.slice(C,C+f));else _.getRandomValues(w);return typeof m=="function"?process$1.nextTick(function(){m(null,w)}):w}return browser$c.exports}var inherits_browser={exports:{}},hasRequiredInherits_browser;function requireInherits_browser(){return hasRequiredInherits_browser||(hasRequiredInherits_browser=1,typeof Object.create=="function"?inherits_browser.exports=function(r,d){d&&(r.super_=d,r.prototype=Object.create(d.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}))}:inherits_browser.exports=function(r,d){if(d){r.super_=d;var g=function(){};g.prototype=d.prototype,r.prototype=new g,r.prototype.constructor=r}}),inherits_browser.exports}var readableBrowser$1={exports:{}},events$1={exports:{}},hasRequiredEvents;function requireEvents(){if(hasRequiredEvents)return events$1.exports;hasRequiredEvents=1;var f=typeof Reflect=="object"?Reflect:null,r=f&&typeof f.apply=="function"?f.apply:function(X,z,Y){return Function.prototype.apply.call(X,z,Y)},d;f&&typeof f.ownKeys=="function"?d=f.ownKeys:Object.getOwnPropertySymbols?d=function(X){return Object.getOwnPropertyNames(X).concat(Object.getOwnPropertySymbols(X))}:d=function(X){return Object.getOwnPropertyNames(X)};function g(F){console&&console.warn&&console.warn(F)}var _=Number.isNaN||function(X){return X!==X};function v(){v.init.call(this)}events$1.exports=v,events$1.exports.once=U,v.EventEmitter=v,v.prototype._events=void 0,v.prototype._eventsCount=0,v.prototype._maxListeners=void 0;var y=10;function m(F){if(typeof F!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof F)}Object.defineProperty(v,"defaultMaxListeners",{enumerable:!0,get:function(){return y},set:function(F){if(typeof F!="number"||F<0||_(F))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+F+".");y=F}}),v.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},v.prototype.setMaxListeners=function(X){if(typeof X!="number"||X<0||_(X))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+X+".");return this._maxListeners=X,this};function w(F){return F._maxListeners===void 0?v.defaultMaxListeners:F._maxListeners}v.prototype.getMaxListeners=function(){return w(this)},v.prototype.emit=function(X){for(var z=[],Y=1;Y<arguments.length;Y++)z.push(arguments[Y]);var ne=X==="error",re=this._events;if(re!==void 0)ne=ne&&re.error===void 0;else if(!ne)return!1;if(ne){var se;if(z.length>0&&(se=z[0]),se instanceof Error)throw se;var G=new Error("Unhandled error."+(se?" ("+se.message+")":""));throw G.context=se,G}var T=re[X];if(T===void 0)return!1;if(typeof T=="function")r(T,this,z);else for(var D=T.length,x=O(T,D),Y=0;Y<D;++Y)r(x[Y],this,z);return!0};function C(F,X,z,Y){var ne,re,se;if(m(z),re=F._events,re===void 0?(re=F._events=Object.create(null),F._eventsCount=0):(re.newListener!==void 0&&(F.emit("newListener",X,z.listener?z.listener:z),re=F._events),se=re[X]),se===void 0)se=re[X]=z,++F._eventsCount;else if(typeof se=="function"?se=re[X]=Y?[z,se]:[se,z]:Y?se.unshift(z):se.push(z),ne=w(F),ne>0&&se.length>ne&&!se.warned){se.warned=!0;var G=new Error("Possible EventEmitter memory leak detected. "+se.length+" "+String(X)+" listeners added. Use emitter.setMaxListeners() to increase limit");G.name="MaxListenersExceededWarning",G.emitter=F,G.type=X,G.count=se.length,g(G)}return F}v.prototype.addListener=function(X,z){return C(this,X,z,!1)},v.prototype.on=v.prototype.addListener,v.prototype.prependListener=function(X,z){return C(this,X,z,!0)};function b(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function E(F,X,z){var Y={fired:!1,wrapFn:void 0,target:F,type:X,listener:z},ne=b.bind(Y);return ne.listener=z,Y.wrapFn=ne,ne}v.prototype.once=function(X,z){return m(z),this.on(X,E(this,X,z)),this},v.prototype.prependOnceListener=function(X,z){return m(z),this.prependListener(X,E(this,X,z)),this},v.prototype.removeListener=function(X,z){var Y,ne,re,se,G;if(m(z),ne=this._events,ne===void 0)return this;if(Y=ne[X],Y===void 0)return this;if(Y===z||Y.listener===z)--this._eventsCount===0?this._events=Object.create(null):(delete ne[X],ne.removeListener&&this.emit("removeListener",X,Y.listener||z));else if(typeof Y!="function"){for(re=-1,se=Y.length-1;se>=0;se--)if(Y[se]===z||Y[se].listener===z){G=Y[se].listener,re=se;break}if(re<0)return this;re===0?Y.shift():$(Y,re),Y.length===1&&(ne[X]=Y[0]),ne.removeListener!==void 0&&this.emit("removeListener",X,G||z)}return this},v.prototype.off=v.prototype.removeListener,v.prototype.removeAllListeners=function(X){var z,Y,ne;if(Y=this._events,Y===void 0)return this;if(Y.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):Y[X]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete Y[X]),this;if(arguments.length===0){var re=Object.keys(Y),se;for(ne=0;ne<re.length;++ne)se=re[ne],se!=="removeListener"&&this.removeAllListeners(se);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(z=Y[X],typeof z=="function")this.removeListener(X,z);else if(z!==void 0)for(ne=z.length-1;ne>=0;ne--)this.removeListener(X,z[ne]);return this};function S(F,X,z){var Y=F._events;if(Y===void 0)return[];var ne=Y[X];return ne===void 0?[]:typeof ne=="function"?z?[ne.listener||ne]:[ne]:z?I(ne):O(ne,ne.length)}v.prototype.listeners=function(X){return S(this,X,!0)},v.prototype.rawListeners=function(X){return S(this,X,!1)},v.listenerCount=function(F,X){return typeof F.listenerCount=="function"?F.listenerCount(X):R.call(F,X)},v.prototype.listenerCount=R;function R(F){var X=this._events;if(X!==void 0){var z=X[F];if(typeof z=="function")return 1;if(z!==void 0)return z.length}return 0}v.prototype.eventNames=function(){return this._eventsCount>0?d(this._events):[]};function O(F,X){for(var z=new Array(X),Y=0;Y<X;++Y)z[Y]=F[Y];return z}function $(F,X){for(;X+1<F.length;X++)F[X]=F[X+1];F.pop()}function I(F){for(var X=new Array(F.length),z=0;z<X.length;++z)X[z]=F[z].listener||F[z];return X}function U(F,X){return new Promise(function(z,Y){function ne(se){F.removeListener(X,re),Y(se)}function re(){typeof F.removeListener=="function"&&F.removeListener("error",ne),z([].slice.call(arguments))}j(F,X,re,{once:!0}),X!=="error"&&L(F,ne,{once:!0})})}function L(F,X,z){typeof F.on=="function"&&j(F,"error",X,z)}function j(F,X,z,Y){if(typeof F.on=="function")Y.once?F.once(X,z):F.on(X,z);else if(typeof F.addEventListener=="function")F.addEventListener(X,function ne(re){Y.once&&F.removeEventListener(X,ne),z(re)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof F)}return events$1.exports}var streamBrowser$1,hasRequiredStreamBrowser$1;function requireStreamBrowser$1(){return hasRequiredStreamBrowser$1||(hasRequiredStreamBrowser$1=1,streamBrowser$1=requireEvents().EventEmitter),streamBrowser$1}var util$1={},types$2={},shams$1,hasRequiredShams$1;function requireShams$1(){return hasRequiredShams$1||(hasRequiredShams$1=1,shams$1=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var r={},d=Symbol("test"),g=Object(d);if(typeof d=="string"||Object.prototype.toString.call(d)!=="[object Symbol]"||Object.prototype.toString.call(g)!=="[object Symbol]")return!1;var _=42;r[d]=_;for(var v in r)return!1;if(typeof Object.keys=="function"&&Object.keys(r).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(r).length!==0)return!1;var y=Object.getOwnPropertySymbols(r);if(y.length!==1||y[0]!==d||!Object.prototype.propertyIsEnumerable.call(r,d))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var m=Object.getOwnPropertyDescriptor(r,d);if(m.value!==_||m.enumerable!==!0)return!1}return!0}),shams$1}var shams,hasRequiredShams;function requireShams(){if(hasRequiredShams)return shams;hasRequiredShams=1;var f=requireShams$1();return shams=function(){return f()&&!!Symbol.toStringTag},shams}var esObjectAtoms,hasRequiredEsObjectAtoms;function requireEsObjectAtoms(){return hasRequiredEsObjectAtoms||(hasRequiredEsObjectAtoms=1,esObjectAtoms=Object),esObjectAtoms}var esErrors,hasRequiredEsErrors;function requireEsErrors(){return hasRequiredEsErrors||(hasRequiredEsErrors=1,esErrors=Error),esErrors}var _eval,hasRequired_eval;function require_eval(){return hasRequired_eval||(hasRequired_eval=1,_eval=EvalError),_eval}var range,hasRequiredRange;function requireRange(){return hasRequiredRange||(hasRequiredRange=1,range=RangeError),range}var ref,hasRequiredRef;function requireRef(){return hasRequiredRef||(hasRequiredRef=1,ref=ReferenceError),ref}var syntax,hasRequiredSyntax;function requireSyntax(){return hasRequiredSyntax||(hasRequiredSyntax=1,syntax=SyntaxError),syntax}var type,hasRequiredType;function requireType(){return hasRequiredType||(hasRequiredType=1,type=TypeError),type}var uri,hasRequiredUri;function requireUri(){return hasRequiredUri||(hasRequiredUri=1,uri=URIError),uri}var abs,hasRequiredAbs;function requireAbs(){return hasRequiredAbs||(hasRequiredAbs=1,abs=Math.abs),abs}var floor,hasRequiredFloor;function requireFloor(){return hasRequiredFloor||(hasRequiredFloor=1,floor=Math.floor),floor}var max,hasRequiredMax;function requireMax(){return hasRequiredMax||(hasRequiredMax=1,max=Math.max),max}var min,hasRequiredMin;function requireMin(){return hasRequiredMin||(hasRequiredMin=1,min=Math.min),min}var pow,hasRequiredPow;function requirePow(){return hasRequiredPow||(hasRequiredPow=1,pow=Math.pow),pow}var gOPD,hasRequiredGOPD;function requireGOPD(){return hasRequiredGOPD||(hasRequiredGOPD=1,gOPD=Object.getOwnPropertyDescriptor),gOPD}var gopd,hasRequiredGopd;function requireGopd(){if(hasRequiredGopd)return gopd;hasRequiredGopd=1;var f=requireGOPD();if(f)try{f([],"length")}catch{f=null}return gopd=f,gopd}var esDefineProperty,hasRequiredEsDefineProperty;function requireEsDefineProperty(){if(hasRequiredEsDefineProperty)return esDefineProperty;hasRequiredEsDefineProperty=1;var f=Object.defineProperty||!1;if(f)try{f({},"a",{value:1})}catch{f=!1}return esDefineProperty=f,esDefineProperty}var hasSymbols,hasRequiredHasSymbols;function requireHasSymbols(){if(hasRequiredHasSymbols)return hasSymbols;hasRequiredHasSymbols=1;var f=typeof Symbol<"u"&&Symbol,r=requireShams$1();return hasSymbols=function(){return typeof f!="function"||typeof Symbol!="function"||typeof f("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:r()},hasSymbols}var implementation,hasRequiredImplementation;function requireImplementation(){if(hasRequiredImplementation)return implementation;hasRequiredImplementation=1;var f="Function.prototype.bind called on incompatible ",r=Object.prototype.toString,d=Math.max,g="[object Function]",_=function(w,C){for(var b=[],E=0;E<w.length;E+=1)b[E]=w[E];for(var S=0;S<C.length;S+=1)b[S+w.length]=C[S];return b},v=function(w,C){for(var b=[],E=C,S=0;E<w.length;E+=1,S+=1)b[S]=w[E];return b},y=function(m,w){for(var C="",b=0;b<m.length;b+=1)C+=m[b],b+1<m.length&&(C+=w);return C};return implementation=function(w){var C=this;if(typeof C!="function"||r.apply(C)!==g)throw new TypeError(f+C);for(var b=v(arguments,1),E,S=function(){if(this instanceof E){var U=C.apply(this,_(b,arguments));return Object(U)===U?U:this}return C.apply(w,_(b,arguments))},R=d(0,C.length-b.length),O=[],$=0;$<R;$++)O[$]="$"+$;if(E=Function("binder","return function ("+y(O,",")+"){ return binder.apply(this,arguments); }")(S),C.prototype){var I=function(){};I.prototype=C.prototype,E.prototype=new I,I.prototype=null}return E},implementation}var functionBind,hasRequiredFunctionBind;function requireFunctionBind(){if(hasRequiredFunctionBind)return functionBind;hasRequiredFunctionBind=1;var f=requireImplementation();return functionBind=Function.prototype.bind||f,functionBind}var functionCall,hasRequiredFunctionCall;function requireFunctionCall(){return hasRequiredFunctionCall||(hasRequiredFunctionCall=1,functionCall=Function.prototype.call),functionCall}var functionApply,hasRequiredFunctionApply;function requireFunctionApply(){return hasRequiredFunctionApply||(hasRequiredFunctionApply=1,functionApply=Function.prototype.apply),functionApply}var reflectApply,hasRequiredReflectApply;function requireReflectApply(){return hasRequiredReflectApply||(hasRequiredReflectApply=1,reflectApply=typeof Reflect<"u"&&Reflect&&Reflect.apply),reflectApply}var actualApply,hasRequiredActualApply;function requireActualApply(){if(hasRequiredActualApply)return actualApply;hasRequiredActualApply=1;var f=requireFunctionBind(),r=requireFunctionApply(),d=requireFunctionCall(),g=requireReflectApply();return actualApply=g||f.call(d,r),actualApply}var callBindApplyHelpers,hasRequiredCallBindApplyHelpers;function requireCallBindApplyHelpers(){if(hasRequiredCallBindApplyHelpers)return callBindApplyHelpers;hasRequiredCallBindApplyHelpers=1;var f=requireFunctionBind(),r=requireType(),d=requireFunctionCall(),g=requireActualApply();return callBindApplyHelpers=function(v){if(v.length<1||typeof v[0]!="function")throw new r("a function is required");return g(f,d,v)},callBindApplyHelpers}var get,hasRequiredGet;function requireGet(){if(hasRequiredGet)return get;hasRequiredGet=1;var f=requireCallBindApplyHelpers(),r=requireGopd(),d;try{d=[].__proto__===Array.prototype}catch(y){if(!y||typeof y!="object"||!("code"in y)||y.code!=="ERR_PROTO_ACCESS")throw y}var g=!!d&&r&&r(Object.prototype,"__proto__"),_=Object,v=_.getPrototypeOf;return get=g&&typeof g.get=="function"?f([g.get]):typeof v=="function"?function(m){return v(m==null?m:_(m))}:!1,get}var hasown,hasRequiredHasown;function requireHasown(){if(hasRequiredHasown)return hasown;hasRequiredHasown=1;var f=Function.prototype.call,r=Object.prototype.hasOwnProperty,d=requireFunctionBind();return hasown=d.call(f,r),hasown}var getIntrinsic,hasRequiredGetIntrinsic;function requireGetIntrinsic(){if(hasRequiredGetIntrinsic)return getIntrinsic;hasRequiredGetIntrinsic=1;var f,r=requireEsObjectAtoms(),d=requireEsErrors(),g=require_eval(),_=requireRange(),v=requireRef(),y=requireSyntax(),m=requireType(),w=requireUri(),C=requireAbs(),b=requireFloor(),E=requireMax(),S=requireMin(),R=requirePow(),O=Function,$=function(ve){try{return O('"use strict"; return ('+ve+").constructor;")()}catch{}},I=requireGopd(),U=requireEsDefineProperty(),L=function(){throw new m},j=I?function(){try{return arguments.callee,L}catch{try{return I(arguments,"callee").get}catch{return L}}}():L,F=requireHasSymbols()(),X=requireGet(),z=typeof Reflect=="function"&&Reflect.getPrototypeOf||r.getPrototypeOf||X,Y=requireFunctionApply(),ne=requireFunctionCall(),re={},se=typeof Uint8Array>"u"||!z?f:z(Uint8Array),G={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?f:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?f:ArrayBuffer,"%ArrayIteratorPrototype%":F&&z?z([][Symbol.iterator]()):f,"%AsyncFromSyncIteratorPrototype%":f,"%AsyncFunction%":re,"%AsyncGenerator%":re,"%AsyncGeneratorFunction%":re,"%AsyncIteratorPrototype%":re,"%Atomics%":typeof Atomics>"u"?f:Atomics,"%BigInt%":typeof BigInt>"u"?f:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?f:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?f:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?f:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":d,"%eval%":eval,"%EvalError%":g,"%Float32Array%":typeof Float32Array>"u"?f:Float32Array,"%Float64Array%":typeof Float64Array>"u"?f:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?f:FinalizationRegistry,"%Function%":O,"%GeneratorFunction%":re,"%Int8Array%":typeof Int8Array>"u"?f:Int8Array,"%Int16Array%":typeof Int16Array>"u"?f:Int16Array,"%Int32Array%":typeof Int32Array>"u"?f:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":F&&z?z(z([][Symbol.iterator]())):f,"%JSON%":typeof JSON=="object"?JSON:f,"%Map%":typeof Map>"u"?f:Map,"%MapIteratorPrototype%":typeof Map>"u"||!F||!z?f:z(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":r,"%Object.getOwnPropertyDescriptor%":I,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?f:Promise,"%Proxy%":typeof Proxy>"u"?f:Proxy,"%RangeError%":_,"%ReferenceError%":v,"%Reflect%":typeof Reflect>"u"?f:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?f:Set,"%SetIteratorPrototype%":typeof Set>"u"||!F||!z?f:z(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?f:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":F&&z?z(""[Symbol.iterator]()):f,"%Symbol%":F?Symbol:f,"%SyntaxError%":y,"%ThrowTypeError%":j,"%TypedArray%":se,"%TypeError%":m,"%Uint8Array%":typeof Uint8Array>"u"?f:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?f:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?f:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?f:Uint32Array,"%URIError%":w,"%WeakMap%":typeof WeakMap>"u"?f:WeakMap,"%WeakRef%":typeof WeakRef>"u"?f:WeakRef,"%WeakSet%":typeof WeakSet>"u"?f:WeakSet,"%Function.prototype.call%":ne,"%Function.prototype.apply%":Y,"%Object.defineProperty%":U,"%Math.abs%":C,"%Math.floor%":b,"%Math.max%":E,"%Math.min%":S,"%Math.pow%":R};if(z)try{null.error}catch(ve){var T=z(z(ve));G["%Error.prototype%"]=T}var D=function ve(Z){var J;if(Z==="%AsyncFunction%")J=$("async function () {}");else if(Z==="%GeneratorFunction%")J=$("function* () {}");else if(Z==="%AsyncGeneratorFunction%")J=$("async function* () {}");else if(Z==="%AsyncGenerator%"){var oe=ve("%AsyncGeneratorFunction%");oe&&(J=oe.prototype)}else if(Z==="%AsyncIteratorPrototype%"){var H=ve("%AsyncGenerator%");H&&z&&(J=z(H.prototype))}return G[Z]=J,J},x={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},A=requireFunctionBind(),B=requireHasown(),N=A.call(ne,Array.prototype.concat),q=A.call(Y,Array.prototype.splice),K=A.call(ne,String.prototype.replace),P=A.call(ne,String.prototype.slice),k=A.call(ne,RegExp.prototype.exec),M=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,W=/\\(\\)?/g,ce=function(Z){var J=P(Z,0,1),oe=P(Z,-1);if(J==="%"&&oe!=="%")throw new y("invalid intrinsic syntax, expected closing `%`");if(oe==="%"&&J!=="%")throw new y("invalid intrinsic syntax, expected opening `%`");var H=[];return K(Z,M,function(Q,ie,we,Se){H[H.length]=we?K(Se,W,"$1"):ie||Q}),H},be=function(Z,J){var oe=Z,H;if(B(x,oe)&&(H=x[oe],oe="%"+H[0]+"%"),B(G,oe)){var Q=G[oe];if(Q===re&&(Q=D(oe)),typeof Q>"u"&&!J)throw new m("intrinsic "+Z+" exists, but is not available. Please file an issue!");return{alias:H,name:oe,value:Q}}throw new y("intrinsic "+Z+" does not exist!")};return getIntrinsic=function(Z,J){if(typeof Z!="string"||Z.length===0)throw new m("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof J!="boolean")throw new m('"allowMissing" argument must be a boolean');if(k(/^%?[^%]*%?$/,Z)===null)throw new y("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var oe=ce(Z),H=oe.length>0?oe[0]:"",Q=be("%"+H+"%",J),ie=Q.name,we=Q.value,Se=!1,De=Q.alias;De&&(H=De[0],q(oe,N([0,1],De)));for(var Ie=1,qe=!0;Ie<oe.length;Ie+=1){var Ne=oe[Ie],Me=P(Ne,0,1),Ve=P(Ne,-1);if((Me==='"'||Me==="'"||Me==="`"||Ve==='"'||Ve==="'"||Ve==="`")&&Me!==Ve)throw new y("property names with quotes must have matching quotes");if((Ne==="constructor"||!qe)&&(Se=!0),H+="."+Ne,ie="%"+H+"%",B(G,ie))we=G[ie];else if(we!=null){if(!(Ne in we)){if(!J)throw new m("base intrinsic for "+Z+" exists, but the property is not available.");return}if(I&&Ie+1>=oe.length){var Ke=I(we,Ne);qe=!!Ke,qe&&"get"in Ke&&!("originalValue"in Ke.get)?we=Ke.get:we=we[Ne]}else qe=B(we,Ne),we=we[Ne];qe&&!Se&&(G[ie]=we)}}return we},getIntrinsic}var callBound,hasRequiredCallBound;function requireCallBound(){if(hasRequiredCallBound)return callBound;hasRequiredCallBound=1;var f=requireGetIntrinsic(),r=requireCallBindApplyHelpers(),d=r([f("%String.prototype.indexOf%")]);return callBound=function(_,v){var y=f(_,!!v);return typeof y=="function"&&d(_,".prototype.")>-1?r([y]):y},callBound}var isArguments,hasRequiredIsArguments;function requireIsArguments(){if(hasRequiredIsArguments)return isArguments;hasRequiredIsArguments=1;var f=requireShams()(),r=requireCallBound(),d=r("Object.prototype.toString"),g=function(m){return f&&m&&typeof m=="object"&&Symbol.toStringTag in m?!1:d(m)==="[object Arguments]"},_=function(m){return g(m)?!0:m!==null&&typeof m=="object"&&"length"in m&&typeof m.length=="number"&&m.length>=0&&d(m)!=="[object Array]"&&"callee"in m&&d(m.callee)==="[object Function]"},v=function(){return g(arguments)}();return g.isLegacyArguments=_,isArguments=v?g:_,isArguments}var isGeneratorFunction,hasRequiredIsGeneratorFunction;function requireIsGeneratorFunction(){if(hasRequiredIsGeneratorFunction)return isGeneratorFunction;hasRequiredIsGeneratorFunction=1;var f=Object.prototype.toString,r=Function.prototype.toString,d=/^\s*(?:function)?\*/,g=requireShams()(),_=Object.getPrototypeOf,v=function(){if(!g)return!1;try{return Function("return function*() {}")()}catch{}},y;return isGeneratorFunction=function(w){if(typeof w!="function")return!1;if(d.test(r.call(w)))return!0;if(!g){var C=f.call(w);return C==="[object GeneratorFunction]"}if(!_)return!1;if(typeof y>"u"){var b=v();y=b?_(b):!1}return _(w)===y},isGeneratorFunction}var isCallable,hasRequiredIsCallable;function requireIsCallable(){if(hasRequiredIsCallable)return isCallable;hasRequiredIsCallable=1;var f=Function.prototype.toString,r=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,d,g;if(typeof r=="function"&&typeof Object.defineProperty=="function")try{d=Object.defineProperty({},"length",{get:function(){throw g}}),g={},r(function(){throw 42},null,d)}catch(L){L!==g&&(r=null)}else r=null;var _=/^\s*class\b/,v=function(j){try{var F=f.call(j);return _.test(F)}catch{return!1}},y=function(j){try{return v(j)?!1:(f.call(j),!0)}catch{return!1}},m=Object.prototype.toString,w="[object Object]",C="[object Function]",b="[object GeneratorFunction]",E="[object HTMLAllCollection]",S="[object HTML document.all class]",R="[object HTMLCollection]",O=typeof Symbol=="function"&&!!Symbol.toStringTag,$=!(0 in[,]),I=function(){return!1};if(typeof document=="object"){var U=document.all;m.call(U)===m.call(document.all)&&(I=function(j){if(($||!j)&&(typeof j>"u"||typeof j=="object"))try{var F=m.call(j);return(F===E||F===S||F===R||F===w)&&j("")==null}catch{}return!1})}return isCallable=r?function(j){if(I(j))return!0;if(!j||typeof j!="function"&&typeof j!="object")return!1;try{r(j,null,d)}catch(F){if(F!==g)return!1}return!v(j)&&y(j)}:function(j){if(I(j))return!0;if(!j||typeof j!="function"&&typeof j!="object")return!1;if(O)return y(j);if(v(j))return!1;var F=m.call(j);return F!==C&&F!==b&&!/^\[object HTML/.test(F)?!1:y(j)},isCallable}var forEach_1,hasRequiredForEach;function requireForEach(){if(hasRequiredForEach)return forEach_1;hasRequiredForEach=1;var f=requireIsCallable(),r=Object.prototype.toString,d=Object.prototype.hasOwnProperty,g=function(w,C,b){for(var E=0,S=w.length;E<S;E++)d.call(w,E)&&(b==null?C(w[E],E,w):C.call(b,w[E],E,w))},_=function(w,C,b){for(var E=0,S=w.length;E<S;E++)b==null?C(w.charAt(E),E,w):C.call(b,w.charAt(E),E,w)},v=function(w,C,b){for(var E in w)d.call(w,E)&&(b==null?C(w[E],E,w):C.call(b,w[E],E,w))},y=function(w,C,b){if(!f(C))throw new TypeError("iterator must be a function");var E;arguments.length>=3&&(E=b),r.call(w)==="[object Array]"?g(w,C,E):typeof w=="string"?_(w,C,E):v(w,C,E)};return forEach_1=y,forEach_1}var possibleTypedArrayNames,hasRequiredPossibleTypedArrayNames;function requirePossibleTypedArrayNames(){return hasRequiredPossibleTypedArrayNames||(hasRequiredPossibleTypedArrayNames=1,possibleTypedArrayNames=["Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]),possibleTypedArrayNames}var availableTypedArrays,hasRequiredAvailableTypedArrays;function requireAvailableTypedArrays(){if(hasRequiredAvailableTypedArrays)return availableTypedArrays;hasRequiredAvailableTypedArrays=1;var f=requirePossibleTypedArrayNames(),r=typeof globalThis>"u"?commonjsGlobal:globalThis;return availableTypedArrays=function(){for(var g=[],_=0;_<f.length;_++)typeof r[f[_]]=="function"&&(g[g.length]=f[_]);return g},availableTypedArrays}var callBind={exports:{}},defineDataProperty,hasRequiredDefineDataProperty;function requireDefineDataProperty(){if(hasRequiredDefineDataProperty)return defineDataProperty;hasRequiredDefineDataProperty=1;var f=requireEsDefineProperty(),r=requireSyntax(),d=requireType(),g=requireGopd();return defineDataProperty=function(v,y,m){if(!v||typeof v!="object"&&typeof v!="function")throw new d("`obj` must be an object or a function`");if(typeof y!="string"&&typeof y!="symbol")throw new d("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new d("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new d("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new d("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new d("`loose`, if provided, must be a boolean");var w=arguments.length>3?arguments[3]:null,C=arguments.length>4?arguments[4]:null,b=arguments.length>5?arguments[5]:null,E=arguments.length>6?arguments[6]:!1,S=!!g&&g(v,y);if(f)f(v,y,{configurable:b===null&&S?S.configurable:!b,enumerable:w===null&&S?S.enumerable:!w,value:m,writable:C===null&&S?S.writable:!C});else if(E||!w&&!C&&!b)v[y]=m;else throw new r("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},defineDataProperty}var hasPropertyDescriptors_1,hasRequiredHasPropertyDescriptors;function requireHasPropertyDescriptors(){if(hasRequiredHasPropertyDescriptors)return hasPropertyDescriptors_1;hasRequiredHasPropertyDescriptors=1;var f=requireEsDefineProperty(),r=function(){return!!f};return r.hasArrayLengthDefineBug=function(){if(!f)return null;try{return f([],"length",{value:1}).length!==1}catch{return!0}},hasPropertyDescriptors_1=r,hasPropertyDescriptors_1}var setFunctionLength,hasRequiredSetFunctionLength;function requireSetFunctionLength(){if(hasRequiredSetFunctionLength)return setFunctionLength;hasRequiredSetFunctionLength=1;var f=requireGetIntrinsic(),r=requireDefineDataProperty(),d=requireHasPropertyDescriptors()(),g=requireGopd(),_=requireType(),v=f("%Math.floor%");return setFunctionLength=function(m,w){if(typeof m!="function")throw new _("`fn` is not a function");if(typeof w!="number"||w<0||w>4294967295||v(w)!==w)throw new _("`length` must be a positive 32-bit integer");var C=arguments.length>2&&!!arguments[2],b=!0,E=!0;if("length"in m&&g){var S=g(m,"length");S&&!S.configurable&&(b=!1),S&&!S.writable&&(E=!1)}return(b||E||!C)&&(d?r(m,"length",w,!0,!0):r(m,"length",w)),m},setFunctionLength}var applyBind,hasRequiredApplyBind;function requireApplyBind(){if(hasRequiredApplyBind)return applyBind;hasRequiredApplyBind=1;var f=requireFunctionBind(),r=requireFunctionApply(),d=requireActualApply();return applyBind=function(){return d(f,r,arguments)},applyBind}var hasRequiredCallBind;function requireCallBind(){return hasRequiredCallBind||(hasRequiredCallBind=1,function(f){var r=requireSetFunctionLength(),d=requireEsDefineProperty(),g=requireCallBindApplyHelpers(),_=requireApplyBind();f.exports=function(y){var m=g(arguments),w=y.length-(arguments.length-1);return r(m,1+(w>0?w:0),!0)},d?d(f.exports,"apply",{value:_}):f.exports.apply=_}(callBind)),callBind.exports}var whichTypedArray,hasRequiredWhichTypedArray;function requireWhichTypedArray(){if(hasRequiredWhichTypedArray)return whichTypedArray;hasRequiredWhichTypedArray=1;var f=requireForEach(),r=requireAvailableTypedArrays(),d=requireCallBind(),g=requireCallBound(),_=requireGopd(),v=g("Object.prototype.toString"),y=requireShams()(),m=typeof globalThis>"u"?commonjsGlobal:globalThis,w=r(),C=g("String.prototype.slice"),b=Object.getPrototypeOf,E=g("Array.prototype.indexOf",!0)||function(I,U){for(var L=0;L<I.length;L+=1)if(I[L]===U)return L;return-1},S={__proto__:null};y&&_&&b?f(w,function($){var I=new m[$];if(Symbol.toStringTag in I){var U=b(I),L=_(U,Symbol.toStringTag);if(!L){var j=b(U);L=_(j,Symbol.toStringTag)}S["$"+$]=d(L.get)}}):f(w,function($){var I=new m[$],U=I.slice||I.set;U&&(S["$"+$]=d(U))});var R=function(I){var U=!1;return f(S,function(L,j){if(!U)try{"$"+L(I)===j&&(U=C(j,1))}catch{}}),U},O=function(I){var U=!1;return f(S,function(L,j){if(!U)try{L(I),U=C(j,1)}catch{}}),U};return whichTypedArray=function(I){if(!I||typeof I!="object")return!1;if(!y){var U=C(v(I),8,-1);return E(w,U)>-1?U:U!=="Object"?!1:O(I)}return _?R(I):null},whichTypedArray}var isTypedArray,hasRequiredIsTypedArray;function requireIsTypedArray(){if(hasRequiredIsTypedArray)return isTypedArray;hasRequiredIsTypedArray=1;var f=requireWhichTypedArray();return isTypedArray=function(d){return!!f(d)},isTypedArray}var hasRequiredTypes;function requireTypes(){return hasRequiredTypes||(hasRequiredTypes=1,function(f){var r=requireIsArguments(),d=requireIsGeneratorFunction(),g=requireWhichTypedArray(),_=requireIsTypedArray();function v(Me){return Me.call.bind(Me)}var y=typeof BigInt<"u",m=typeof Symbol<"u",w=v(Object.prototype.toString),C=v(Number.prototype.valueOf),b=v(String.prototype.valueOf),E=v(Boolean.prototype.valueOf);if(y)var S=v(BigInt.prototype.valueOf);if(m)var R=v(Symbol.prototype.valueOf);function O(Me,Ve){if(typeof Me!="object")return!1;try{return Ve(Me),!0}catch{return!1}}f.isArgumentsObject=r,f.isGeneratorFunction=d,f.isTypedArray=_;function $(Me){return typeof Promise<"u"&&Me instanceof Promise||Me!==null&&typeof Me=="object"&&typeof Me.then=="function"&&typeof Me.catch=="function"}f.isPromise=$;function I(Me){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(Me):_(Me)||W(Me)}f.isArrayBufferView=I;function U(Me){return g(Me)==="Uint8Array"}f.isUint8Array=U;function L(Me){return g(Me)==="Uint8ClampedArray"}f.isUint8ClampedArray=L;function j(Me){return g(Me)==="Uint16Array"}f.isUint16Array=j;function F(Me){return g(Me)==="Uint32Array"}f.isUint32Array=F;function X(Me){return g(Me)==="Int8Array"}f.isInt8Array=X;function z(Me){return g(Me)==="Int16Array"}f.isInt16Array=z;function Y(Me){return g(Me)==="Int32Array"}f.isInt32Array=Y;function ne(Me){return g(Me)==="Float32Array"}f.isFloat32Array=ne;function re(Me){return g(Me)==="Float64Array"}f.isFloat64Array=re;function se(Me){return g(Me)==="BigInt64Array"}f.isBigInt64Array=se;function G(Me){return g(Me)==="BigUint64Array"}f.isBigUint64Array=G;function T(Me){return w(Me)==="[object Map]"}T.working=typeof Map<"u"&&T(new Map);function D(Me){return typeof Map>"u"?!1:T.working?T(Me):Me instanceof Map}f.isMap=D;function x(Me){return w(Me)==="[object Set]"}x.working=typeof Set<"u"&&x(new Set);function A(Me){return typeof Set>"u"?!1:x.working?x(Me):Me instanceof Set}f.isSet=A;function B(Me){return w(Me)==="[object WeakMap]"}B.working=typeof WeakMap<"u"&&B(new WeakMap);function N(Me){return typeof WeakMap>"u"?!1:B.working?B(Me):Me instanceof WeakMap}f.isWeakMap=N;function q(Me){return w(Me)==="[object WeakSet]"}q.working=typeof WeakSet<"u"&&q(new WeakSet);function K(Me){return q(Me)}f.isWeakSet=K;function P(Me){return w(Me)==="[object ArrayBuffer]"}P.working=typeof ArrayBuffer<"u"&&P(new ArrayBuffer);function k(Me){return typeof ArrayBuffer>"u"?!1:P.working?P(Me):Me instanceof ArrayBuffer}f.isArrayBuffer=k;function M(Me){return w(Me)==="[object DataView]"}M.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&M(new DataView(new ArrayBuffer(1),0,1));function W(Me){return typeof DataView>"u"?!1:M.working?M(Me):Me instanceof DataView}f.isDataView=W;var ce=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function be(Me){return w(Me)==="[object SharedArrayBuffer]"}function ve(Me){return typeof ce>"u"?!1:(typeof be.working>"u"&&(be.working=be(new ce)),be.working?be(Me):Me instanceof ce)}f.isSharedArrayBuffer=ve;function Z(Me){return w(Me)==="[object AsyncFunction]"}f.isAsyncFunction=Z;function J(Me){return w(Me)==="[object Map Iterator]"}f.isMapIterator=J;function oe(Me){return w(Me)==="[object Set Iterator]"}f.isSetIterator=oe;function H(Me){return w(Me)==="[object Generator]"}f.isGeneratorObject=H;function Q(Me){return w(Me)==="[object WebAssembly.Module]"}f.isWebAssemblyCompiledModule=Q;function ie(Me){return O(Me,C)}f.isNumberObject=ie;function we(Me){return O(Me,b)}f.isStringObject=we;function Se(Me){return O(Me,E)}f.isBooleanObject=Se;function De(Me){return y&&O(Me,S)}f.isBigIntObject=De;function Ie(Me){return m&&O(Me,R)}f.isSymbolObject=Ie;function qe(Me){return ie(Me)||we(Me)||Se(Me)||De(Me)||Ie(Me)}f.isBoxedPrimitive=qe;function Ne(Me){return typeof Uint8Array<"u"&&(k(Me)||ve(Me))}f.isAnyArrayBuffer=Ne,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(Me){Object.defineProperty(f,Me,{enumerable:!1,value:function(){throw new Error(Me+" is not supported in userland")}})})}(types$2)),types$2}var isBufferBrowser,hasRequiredIsBufferBrowser;function requireIsBufferBrowser(){return hasRequiredIsBufferBrowser||(hasRequiredIsBufferBrowser=1,isBufferBrowser=function(r){return r&&typeof r=="object"&&typeof r.copy=="function"&&typeof r.fill=="function"&&typeof r.readUInt8=="function"}),isBufferBrowser}var hasRequiredUtil$1;function requireUtil$1(){return hasRequiredUtil$1||(hasRequiredUtil$1=1,function(f){var r={},d=Object.getOwnPropertyDescriptors||function(ce){for(var be=Object.keys(ce),ve={},Z=0;Z<be.length;Z++)ve[be[Z]]=Object.getOwnPropertyDescriptor(ce,be[Z]);return ve},g=/%[sdj%]/g;f.format=function(W){if(!z(W)){for(var ce=[],be=0;be<arguments.length;be++)ce.push(m(arguments[be]));return ce.join(" ")}for(var be=1,ve=arguments,Z=ve.length,J=String(W).replace(g,function(H){if(H==="%%")return"%";if(be>=Z)return H;switch(H){case"%s":return String(ve[be++]);case"%d":return Number(ve[be++]);case"%j":try{return JSON.stringify(ve[be++])}catch{return"[Circular]"}default:return H}}),oe=ve[be];be<Z;oe=ve[++be])j(oe)||!se(oe)?J+=" "+oe:J+=" "+m(oe);return J},f.deprecate=function(W,ce){if(typeof process$1<"u"&&process$1.noDeprecation===!0)return W;if(typeof process$1>"u")return function(){return f.deprecate(W,ce).apply(this,arguments)};var be=!1;function ve(){if(!be){if(process$1.throwDeprecation)throw new Error(ce);process$1.traceDeprecation?console.trace(ce):console.error(ce),be=!0}return W.apply(this,arguments)}return ve};var _={},v=/^$/;if(r.NODE_DEBUG){var y=r.NODE_DEBUG;y=y.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),v=new RegExp("^"+y+"$","i")}f.debuglog=function(W){if(W=W.toUpperCase(),!_[W])if(v.test(W)){var ce=process$1.pid;_[W]=function(){var be=f.format.apply(f,arguments);console.error("%s %d: %s",W,ce,be)}}else _[W]=function(){};return _[W]};function m(W,ce){var be={seen:[],stylize:C};return arguments.length>=3&&(be.depth=arguments[2]),arguments.length>=4&&(be.colors=arguments[3]),L(ce)?be.showHidden=ce:ce&&f._extend(be,ce),ne(be.showHidden)&&(be.showHidden=!1),ne(be.depth)&&(be.depth=2),ne(be.colors)&&(be.colors=!1),ne(be.customInspect)&&(be.customInspect=!0),be.colors&&(be.stylize=w),E(be,W,be.depth)}f.inspect=m,m.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},m.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function w(W,ce){var be=m.styles[ce];return be?"\x1B["+m.colors[be][0]+"m"+W+"\x1B["+m.colors[be][1]+"m":W}function C(W,ce){return W}function b(W){var ce={};return W.forEach(function(be,ve){ce[be]=!0}),ce}function E(W,ce,be){if(W.customInspect&&ce&&D(ce.inspect)&&ce.inspect!==f.inspect&&!(ce.constructor&&ce.constructor.prototype===ce)){var ve=ce.inspect(be,W);return z(ve)||(ve=E(W,ve,be)),ve}var Z=S(W,ce);if(Z)return Z;var J=Object.keys(ce),oe=b(J);if(W.showHidden&&(J=Object.getOwnPropertyNames(ce)),T(ce)&&(J.indexOf("message")>=0||J.indexOf("description")>=0))return R(ce);if(J.length===0){if(D(ce)){var H=ce.name?": "+ce.name:"";return W.stylize("[Function"+H+"]","special")}if(re(ce))return W.stylize(RegExp.prototype.toString.call(ce),"regexp");if(G(ce))return W.stylize(Date.prototype.toString.call(ce),"date");if(T(ce))return R(ce)}var Q="",ie=!1,we=["{","}"];if(U(ce)&&(ie=!0,we=["[","]"]),D(ce)){var Se=ce.name?": "+ce.name:"";Q=" [Function"+Se+"]"}if(re(ce)&&(Q=" "+RegExp.prototype.toString.call(ce)),G(ce)&&(Q=" "+Date.prototype.toUTCString.call(ce)),T(ce)&&(Q=" "+R(ce)),J.length===0&&(!ie||ce.length==0))return we[0]+Q+we[1];if(be<0)return re(ce)?W.stylize(RegExp.prototype.toString.call(ce),"regexp"):W.stylize("[Object]","special");W.seen.push(ce);var De;return ie?De=O(W,ce,be,oe,J):De=J.map(function(Ie){return $(W,ce,be,oe,Ie,ie)}),W.seen.pop(),I(De,Q,we)}function S(W,ce){if(ne(ce))return W.stylize("undefined","undefined");if(z(ce)){var be="'"+JSON.stringify(ce).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return W.stylize(be,"string")}if(X(ce))return W.stylize(""+ce,"number");if(L(ce))return W.stylize(""+ce,"boolean");if(j(ce))return W.stylize("null","null")}function R(W){return"["+Error.prototype.toString.call(W)+"]"}function O(W,ce,be,ve,Z){for(var J=[],oe=0,H=ce.length;oe<H;++oe)K(ce,String(oe))?J.push($(W,ce,be,ve,String(oe),!0)):J.push("");return Z.forEach(function(Q){Q.match(/^\d+$/)||J.push($(W,ce,be,ve,Q,!0))}),J}function $(W,ce,be,ve,Z,J){var oe,H,Q;if(Q=Object.getOwnPropertyDescriptor(ce,Z)||{value:ce[Z]},Q.get?Q.set?H=W.stylize("[Getter/Setter]","special"):H=W.stylize("[Getter]","special"):Q.set&&(H=W.stylize("[Setter]","special")),K(ve,Z)||(oe="["+Z+"]"),H||(W.seen.indexOf(Q.value)<0?(j(be)?H=E(W,Q.value,null):H=E(W,Q.value,be-1),H.indexOf(`
`)>-1&&(J?H=H.split(`
`).map(function(ie){return"  "+ie}).join(`
`).slice(2):H=`
`+H.split(`
`).map(function(ie){return"   "+ie}).join(`
`))):H=W.stylize("[Circular]","special")),ne(oe)){if(J&&Z.match(/^\d+$/))return H;oe=JSON.stringify(""+Z),oe.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(oe=oe.slice(1,-1),oe=W.stylize(oe,"name")):(oe=oe.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),oe=W.stylize(oe,"string"))}return oe+": "+H}function I(W,ce,be){var ve=W.reduce(function(Z,J){return J.indexOf(`
`)>=0,Z+J.replace(/\u001b\[\d\d?m/g,"").length+1},0);return ve>60?be[0]+(ce===""?"":ce+`
 `)+" "+W.join(`,
  `)+" "+be[1]:be[0]+ce+" "+W.join(", ")+" "+be[1]}f.types=requireTypes();function U(W){return Array.isArray(W)}f.isArray=U;function L(W){return typeof W=="boolean"}f.isBoolean=L;function j(W){return W===null}f.isNull=j;function F(W){return W==null}f.isNullOrUndefined=F;function X(W){return typeof W=="number"}f.isNumber=X;function z(W){return typeof W=="string"}f.isString=z;function Y(W){return typeof W=="symbol"}f.isSymbol=Y;function ne(W){return W===void 0}f.isUndefined=ne;function re(W){return se(W)&&A(W)==="[object RegExp]"}f.isRegExp=re,f.types.isRegExp=re;function se(W){return typeof W=="object"&&W!==null}f.isObject=se;function G(W){return se(W)&&A(W)==="[object Date]"}f.isDate=G,f.types.isDate=G;function T(W){return se(W)&&(A(W)==="[object Error]"||W instanceof Error)}f.isError=T,f.types.isNativeError=T;function D(W){return typeof W=="function"}f.isFunction=D;function x(W){return W===null||typeof W=="boolean"||typeof W=="number"||typeof W=="string"||typeof W=="symbol"||typeof W>"u"}f.isPrimitive=x,f.isBuffer=requireIsBufferBrowser();function A(W){return Object.prototype.toString.call(W)}function B(W){return W<10?"0"+W.toString(10):W.toString(10)}var N=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function q(){var W=new Date,ce=[B(W.getHours()),B(W.getMinutes()),B(W.getSeconds())].join(":");return[W.getDate(),N[W.getMonth()],ce].join(" ")}f.log=function(){console.log("%s - %s",q(),f.format.apply(f,arguments))},f.inherits=requireInherits_browser(),f._extend=function(W,ce){if(!ce||!se(ce))return W;for(var be=Object.keys(ce),ve=be.length;ve--;)W[be[ve]]=ce[be[ve]];return W};function K(W,ce){return Object.prototype.hasOwnProperty.call(W,ce)}var P=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;f.promisify=function(ce){if(typeof ce!="function")throw new TypeError('The "original" argument must be of type Function');if(P&&ce[P]){var be=ce[P];if(typeof be!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(be,P,{value:be,enumerable:!1,writable:!1,configurable:!0}),be}function be(){for(var ve,Z,J=new Promise(function(Q,ie){ve=Q,Z=ie}),oe=[],H=0;H<arguments.length;H++)oe.push(arguments[H]);oe.push(function(Q,ie){Q?Z(Q):ve(ie)});try{ce.apply(this,oe)}catch(Q){Z(Q)}return J}return Object.setPrototypeOf(be,Object.getPrototypeOf(ce)),P&&Object.defineProperty(be,P,{value:be,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(be,d(ce))},f.promisify.custom=P;function k(W,ce){if(!W){var be=new Error("Promise was rejected with a falsy value");be.reason=W,W=be}return ce(W)}function M(W){if(typeof W!="function")throw new TypeError('The "original" argument must be of type Function');function ce(){for(var be=[],ve=0;ve<arguments.length;ve++)be.push(arguments[ve]);var Z=be.pop();if(typeof Z!="function")throw new TypeError("The last argument must be of type Function");var J=this,oe=function(){return Z.apply(J,arguments)};W.apply(this,be).then(function(H){process$1.nextTick(oe.bind(null,null,H))},function(H){process$1.nextTick(k.bind(null,H,oe))})}return Object.setPrototypeOf(ce,Object.getPrototypeOf(W)),Object.defineProperties(ce,d(W)),ce}f.callbackify=M}(util$1)),util$1}var buffer_list,hasRequiredBuffer_list;function requireBuffer_list(){if(hasRequiredBuffer_list)return buffer_list;hasRequiredBuffer_list=1;function f(O,$){var I=Object.keys(O);if(Object.getOwnPropertySymbols){var U=Object.getOwnPropertySymbols(O);$&&(U=U.filter(function(L){return Object.getOwnPropertyDescriptor(O,L).enumerable})),I.push.apply(I,U)}return I}function r(O){for(var $=1;$<arguments.length;$++){var I=arguments[$]!=null?arguments[$]:{};$%2?f(Object(I),!0).forEach(function(U){d(O,U,I[U])}):Object.getOwnPropertyDescriptors?Object.defineProperties(O,Object.getOwnPropertyDescriptors(I)):f(Object(I)).forEach(function(U){Object.defineProperty(O,U,Object.getOwnPropertyDescriptor(I,U))})}return O}function d(O,$,I){return $=y($),$ in O?Object.defineProperty(O,$,{value:I,enumerable:!0,configurable:!0,writable:!0}):O[$]=I,O}function g(O,$){if(!(O instanceof $))throw new TypeError("Cannot call a class as a function")}function _(O,$){for(var I=0;I<$.length;I++){var U=$[I];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(O,y(U.key),U)}}function v(O,$,I){return $&&_(O.prototype,$),Object.defineProperty(O,"prototype",{writable:!1}),O}function y(O){var $=m(O,"string");return typeof $=="symbol"?$:String($)}function m(O,$){if(typeof O!="object"||O===null)return O;var I=O[Symbol.toPrimitive];if(I!==void 0){var U=I.call(O,$||"default");if(typeof U!="object")return U;throw new TypeError("@@toPrimitive must return a primitive value.")}return($==="string"?String:Number)(O)}var w=require$$0$2,C=w.Buffer,b=requireUtil$1(),E=b.inspect,S=E&&E.custom||"inspect";function R(O,$,I){C.prototype.copy.call(O,$,I)}return buffer_list=function(){function O(){g(this,O),this.head=null,this.tail=null,this.length=0}return v(O,[{key:"push",value:function(I){var U={data:I,next:null};this.length>0?this.tail.next=U:this.head=U,this.tail=U,++this.length}},{key:"unshift",value:function(I){var U={data:I,next:this.head};this.length===0&&(this.tail=U),this.head=U,++this.length}},{key:"shift",value:function(){if(this.length!==0){var I=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,I}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(I){if(this.length===0)return"";for(var U=this.head,L=""+U.data;U=U.next;)L+=I+U.data;return L}},{key:"concat",value:function(I){if(this.length===0)return C.alloc(0);for(var U=C.allocUnsafe(I>>>0),L=this.head,j=0;L;)R(L.data,U,j),j+=L.data.length,L=L.next;return U}},{key:"consume",value:function(I,U){var L;return I<this.head.data.length?(L=this.head.data.slice(0,I),this.head.data=this.head.data.slice(I)):I===this.head.data.length?L=this.shift():L=U?this._getString(I):this._getBuffer(I),L}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(I){var U=this.head,L=1,j=U.data;for(I-=j.length;U=U.next;){var F=U.data,X=I>F.length?F.length:I;if(X===F.length?j+=F:j+=F.slice(0,I),I-=X,I===0){X===F.length?(++L,U.next?this.head=U.next:this.head=this.tail=null):(this.head=U,U.data=F.slice(X));break}++L}return this.length-=L,j}},{key:"_getBuffer",value:function(I){var U=C.allocUnsafe(I),L=this.head,j=1;for(L.data.copy(U),I-=L.data.length;L=L.next;){var F=L.data,X=I>F.length?F.length:I;if(F.copy(U,U.length-I,0,X),I-=X,I===0){X===F.length?(++j,L.next?this.head=L.next:this.head=this.tail=null):(this.head=L,L.data=F.slice(X));break}++j}return this.length-=j,U}},{key:S,value:function(I,U){return E(this,r(r({},U),{},{depth:0,customInspect:!1}))}}]),O}(),buffer_list}var destroy_1$1,hasRequiredDestroy$1;function requireDestroy$1(){if(hasRequiredDestroy$1)return destroy_1$1;hasRequiredDestroy$1=1;function f(y,m){var w=this,C=this._readableState&&this._readableState.destroyed,b=this._writableState&&this._writableState.destroyed;return C||b?(m?m(y):y&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process$1.nextTick(_,this,y)):process$1.nextTick(_,this,y)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(y||null,function(E){!m&&E?w._writableState?w._writableState.errorEmitted?process$1.nextTick(d,w):(w._writableState.errorEmitted=!0,process$1.nextTick(r,w,E)):process$1.nextTick(r,w,E):m?(process$1.nextTick(d,w),m(E)):process$1.nextTick(d,w)}),this)}function r(y,m){_(y,m),d(y)}function d(y){y._writableState&&!y._writableState.emitClose||y._readableState&&!y._readableState.emitClose||y.emit("close")}function g(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function _(y,m){y.emit("error",m)}function v(y,m){var w=y._readableState,C=y._writableState;w&&w.autoDestroy||C&&C.autoDestroy?y.destroy(m):y.emit("error",m)}return destroy_1$1={destroy:f,undestroy:g,errorOrDestroy:v},destroy_1$1}var errorsBrowser={},hasRequiredErrorsBrowser;function requireErrorsBrowser(){if(hasRequiredErrorsBrowser)return errorsBrowser;hasRequiredErrorsBrowser=1;function f(m,w){m.prototype=Object.create(w.prototype),m.prototype.constructor=m,m.__proto__=w}var r={};function d(m,w,C){C||(C=Error);function b(S,R,O){return typeof w=="string"?w:w(S,R,O)}var E=function(S){f(R,S);function R(O,$,I){return S.call(this,b(O,$,I))||this}return R}(C);E.prototype.name=C.name,E.prototype.code=m,r[m]=E}function g(m,w){if(Array.isArray(m)){var C=m.length;return m=m.map(function(b){return String(b)}),C>2?"one of ".concat(w," ").concat(m.slice(0,C-1).join(", "),", or ")+m[C-1]:C===2?"one of ".concat(w," ").concat(m[0]," or ").concat(m[1]):"of ".concat(w," ").concat(m[0])}else return"of ".concat(w," ").concat(String(m))}function _(m,w,C){return m.substr(0,w.length)===w}function v(m,w,C){return(C===void 0||C>m.length)&&(C=m.length),m.substring(C-w.length,C)===w}function y(m,w,C){return typeof C!="number"&&(C=0),C+w.length>m.length?!1:m.indexOf(w,C)!==-1}return d("ERR_INVALID_OPT_VALUE",function(m,w){return'The value "'+w+'" is invalid for option "'+m+'"'},TypeError),d("ERR_INVALID_ARG_TYPE",function(m,w,C){var b;typeof w=="string"&&_(w,"not ")?(b="must not be",w=w.replace(/^not /,"")):b="must be";var E;if(v(m," argument"))E="The ".concat(m," ").concat(b," ").concat(g(w,"type"));else{var S=y(m,".")?"property":"argument";E='The "'.concat(m,'" ').concat(S," ").concat(b," ").concat(g(w,"type"))}return E+=". Received type ".concat(typeof C),E},TypeError),d("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),d("ERR_METHOD_NOT_IMPLEMENTED",function(m){return"The "+m+" method is not implemented"}),d("ERR_STREAM_PREMATURE_CLOSE","Premature close"),d("ERR_STREAM_DESTROYED",function(m){return"Cannot call "+m+" after a stream was destroyed"}),d("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),d("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),d("ERR_STREAM_WRITE_AFTER_END","write after end"),d("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),d("ERR_UNKNOWN_ENCODING",function(m){return"Unknown encoding: "+m},TypeError),d("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),errorsBrowser.codes=r,errorsBrowser}var state,hasRequiredState;function requireState(){if(hasRequiredState)return state;hasRequiredState=1;var f=requireErrorsBrowser().codes.ERR_INVALID_OPT_VALUE;function r(g,_,v){return g.highWaterMark!=null?g.highWaterMark:_?g[v]:null}function d(g,_,v,y){var m=r(_,y,v);if(m!=null){if(!(isFinite(m)&&Math.floor(m)===m)||m<0){var w=y?v:"highWaterMark";throw new f(w,m)}return Math.floor(m)}return g.objectMode?16:16*1024}return state={getHighWaterMark:d},state}var browser$b,hasRequiredBrowser$a;function requireBrowser$a(){if(hasRequiredBrowser$a)return browser$b;hasRequiredBrowser$a=1,browser$b=f;function f(d,g){if(r("noDeprecation"))return d;var _=!1;function v(){if(!_){if(r("throwDeprecation"))throw new Error(g);r("traceDeprecation")?console.trace(g):console.warn(g),_=!0}return d.apply(this,arguments)}return v}function r(d){try{if(!commonjsGlobal.localStorage)return!1}catch{return!1}var g=commonjsGlobal.localStorage[d];return g==null?!1:String(g).toLowerCase()==="true"}return browser$b}var _stream_writable$1,hasRequired_stream_writable$1;function require_stream_writable$1(){if(hasRequired_stream_writable$1)return _stream_writable$1;hasRequired_stream_writable$1=1,_stream_writable$1=ne;function f(ve){var Z=this;this.next=null,this.entry=null,this.finish=function(){be(Z,ve)}}var r;ne.WritableState=z;var d={deprecate:requireBrowser$a()},g=requireStreamBrowser$1(),_=require$$0$2.Buffer,v=(typeof commonjsGlobal<"u"?commonjsGlobal:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function y(ve){return _.from(ve)}function m(ve){return _.isBuffer(ve)||ve instanceof v}var w=requireDestroy$1(),C=requireState(),b=C.getHighWaterMark,E=requireErrorsBrowser().codes,S=E.ERR_INVALID_ARG_TYPE,R=E.ERR_METHOD_NOT_IMPLEMENTED,O=E.ERR_MULTIPLE_CALLBACK,$=E.ERR_STREAM_CANNOT_PIPE,I=E.ERR_STREAM_DESTROYED,U=E.ERR_STREAM_NULL_VALUES,L=E.ERR_STREAM_WRITE_AFTER_END,j=E.ERR_UNKNOWN_ENCODING,F=w.errorOrDestroy;requireInherits_browser()(ne,g);function X(){}function z(ve,Z,J){r=r||require_stream_duplex$1(),ve=ve||{},typeof J!="boolean"&&(J=Z instanceof r),this.objectMode=!!ve.objectMode,J&&(this.objectMode=this.objectMode||!!ve.writableObjectMode),this.highWaterMark=b(this,ve,"writableHighWaterMark",J),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var oe=ve.decodeStrings===!1;this.decodeStrings=!oe,this.defaultEncoding=ve.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(H){B(Z,H)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=ve.emitClose!==!1,this.autoDestroy=!!ve.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new f(this)}z.prototype.getBuffer=function(){for(var Z=this.bufferedRequest,J=[];Z;)J.push(Z),Z=Z.next;return J},function(){try{Object.defineProperty(z.prototype,"buffer",{get:d.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var Y;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(Y=Function.prototype[Symbol.hasInstance],Object.defineProperty(ne,Symbol.hasInstance,{value:function(Z){return Y.call(this,Z)?!0:this!==ne?!1:Z&&Z._writableState instanceof z}})):Y=function(Z){return Z instanceof this};function ne(ve){r=r||require_stream_duplex$1();var Z=this instanceof r;if(!Z&&!Y.call(ne,this))return new ne(ve);this._writableState=new z(ve,this,Z),this.writable=!0,ve&&(typeof ve.write=="function"&&(this._write=ve.write),typeof ve.writev=="function"&&(this._writev=ve.writev),typeof ve.destroy=="function"&&(this._destroy=ve.destroy),typeof ve.final=="function"&&(this._final=ve.final)),g.call(this)}ne.prototype.pipe=function(){F(this,new $)};function re(ve,Z){var J=new L;F(ve,J),process$1.nextTick(Z,J)}function se(ve,Z,J,oe){var H;return J===null?H=new U:typeof J!="string"&&!Z.objectMode&&(H=new S("chunk",["string","Buffer"],J)),H?(F(ve,H),process$1.nextTick(oe,H),!1):!0}ne.prototype.write=function(ve,Z,J){var oe=this._writableState,H=!1,Q=!oe.objectMode&&m(ve);return Q&&!_.isBuffer(ve)&&(ve=y(ve)),typeof Z=="function"&&(J=Z,Z=null),Q?Z="buffer":Z||(Z=oe.defaultEncoding),typeof J!="function"&&(J=X),oe.ending?re(this,J):(Q||se(this,oe,ve,J))&&(oe.pendingcb++,H=T(this,oe,Q,ve,Z,J)),H},ne.prototype.cork=function(){this._writableState.corked++},ne.prototype.uncork=function(){var ve=this._writableState;ve.corked&&(ve.corked--,!ve.writing&&!ve.corked&&!ve.bufferProcessing&&ve.bufferedRequest&&K(this,ve))},ne.prototype.setDefaultEncoding=function(Z){if(typeof Z=="string"&&(Z=Z.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((Z+"").toLowerCase())>-1))throw new j(Z);return this._writableState.defaultEncoding=Z,this},Object.defineProperty(ne.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function G(ve,Z,J){return!ve.objectMode&&ve.decodeStrings!==!1&&typeof Z=="string"&&(Z=_.from(Z,J)),Z}Object.defineProperty(ne.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function T(ve,Z,J,oe,H,Q){if(!J){var ie=G(Z,oe,H);oe!==ie&&(J=!0,H="buffer",oe=ie)}var we=Z.objectMode?1:oe.length;Z.length+=we;var Se=Z.length<Z.highWaterMark;if(Se||(Z.needDrain=!0),Z.writing||Z.corked){var De=Z.lastBufferedRequest;Z.lastBufferedRequest={chunk:oe,encoding:H,isBuf:J,callback:Q,next:null},De?De.next=Z.lastBufferedRequest:Z.bufferedRequest=Z.lastBufferedRequest,Z.bufferedRequestCount+=1}else D(ve,Z,!1,we,oe,H,Q);return Se}function D(ve,Z,J,oe,H,Q,ie){Z.writelen=oe,Z.writecb=ie,Z.writing=!0,Z.sync=!0,Z.destroyed?Z.onwrite(new I("write")):J?ve._writev(H,Z.onwrite):ve._write(H,Q,Z.onwrite),Z.sync=!1}function x(ve,Z,J,oe,H){--Z.pendingcb,J?(process$1.nextTick(H,oe),process$1.nextTick(W,ve,Z),ve._writableState.errorEmitted=!0,F(ve,oe)):(H(oe),ve._writableState.errorEmitted=!0,F(ve,oe),W(ve,Z))}function A(ve){ve.writing=!1,ve.writecb=null,ve.length-=ve.writelen,ve.writelen=0}function B(ve,Z){var J=ve._writableState,oe=J.sync,H=J.writecb;if(typeof H!="function")throw new O;if(A(J),Z)x(ve,J,oe,Z,H);else{var Q=P(J)||ve.destroyed;!Q&&!J.corked&&!J.bufferProcessing&&J.bufferedRequest&&K(ve,J),oe?process$1.nextTick(N,ve,J,Q,H):N(ve,J,Q,H)}}function N(ve,Z,J,oe){J||q(ve,Z),Z.pendingcb--,oe(),W(ve,Z)}function q(ve,Z){Z.length===0&&Z.needDrain&&(Z.needDrain=!1,ve.emit("drain"))}function K(ve,Z){Z.bufferProcessing=!0;var J=Z.bufferedRequest;if(ve._writev&&J&&J.next){var oe=Z.bufferedRequestCount,H=new Array(oe),Q=Z.corkedRequestsFree;Q.entry=J;for(var ie=0,we=!0;J;)H[ie]=J,J.isBuf||(we=!1),J=J.next,ie+=1;H.allBuffers=we,D(ve,Z,!0,Z.length,H,"",Q.finish),Z.pendingcb++,Z.lastBufferedRequest=null,Q.next?(Z.corkedRequestsFree=Q.next,Q.next=null):Z.corkedRequestsFree=new f(Z),Z.bufferedRequestCount=0}else{for(;J;){var Se=J.chunk,De=J.encoding,Ie=J.callback,qe=Z.objectMode?1:Se.length;if(D(ve,Z,!1,qe,Se,De,Ie),J=J.next,Z.bufferedRequestCount--,Z.writing)break}J===null&&(Z.lastBufferedRequest=null)}Z.bufferedRequest=J,Z.bufferProcessing=!1}ne.prototype._write=function(ve,Z,J){J(new R("_write()"))},ne.prototype._writev=null,ne.prototype.end=function(ve,Z,J){var oe=this._writableState;return typeof ve=="function"?(J=ve,ve=null,Z=null):typeof Z=="function"&&(J=Z,Z=null),ve!=null&&this.write(ve,Z),oe.corked&&(oe.corked=1,this.uncork()),oe.ending||ce(this,oe,J),this},Object.defineProperty(ne.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function P(ve){return ve.ending&&ve.length===0&&ve.bufferedRequest===null&&!ve.finished&&!ve.writing}function k(ve,Z){ve._final(function(J){Z.pendingcb--,J&&F(ve,J),Z.prefinished=!0,ve.emit("prefinish"),W(ve,Z)})}function M(ve,Z){!Z.prefinished&&!Z.finalCalled&&(typeof ve._final=="function"&&!Z.destroyed?(Z.pendingcb++,Z.finalCalled=!0,process$1.nextTick(k,ve,Z)):(Z.prefinished=!0,ve.emit("prefinish")))}function W(ve,Z){var J=P(Z);if(J&&(M(ve,Z),Z.pendingcb===0&&(Z.finished=!0,ve.emit("finish"),Z.autoDestroy))){var oe=ve._readableState;(!oe||oe.autoDestroy&&oe.endEmitted)&&ve.destroy()}return J}function ce(ve,Z,J){Z.ending=!0,W(ve,Z),J&&(Z.finished?process$1.nextTick(J):ve.once("finish",J)),Z.ended=!0,ve.writable=!1}function be(ve,Z,J){var oe=ve.entry;for(ve.entry=null;oe;){var H=oe.callback;Z.pendingcb--,H(J),oe=oe.next}Z.corkedRequestsFree.next=ve}return Object.defineProperty(ne.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(Z){this._writableState&&(this._writableState.destroyed=Z)}}),ne.prototype.destroy=w.destroy,ne.prototype._undestroy=w.undestroy,ne.prototype._destroy=function(ve,Z){Z(ve)},_stream_writable$1}var _stream_duplex$1,hasRequired_stream_duplex$1;function require_stream_duplex$1(){if(hasRequired_stream_duplex$1)return _stream_duplex$1;hasRequired_stream_duplex$1=1;var f=Object.keys||function(C){var b=[];for(var E in C)b.push(E);return b};_stream_duplex$1=y;var r=require_stream_readable$1(),d=require_stream_writable$1();requireInherits_browser()(y,r);for(var g=f(d.prototype),_=0;_<g.length;_++){var v=g[_];y.prototype[v]||(y.prototype[v]=d.prototype[v])}function y(C){if(!(this instanceof y))return new y(C);r.call(this,C),d.call(this,C),this.allowHalfOpen=!0,C&&(C.readable===!1&&(this.readable=!1),C.writable===!1&&(this.writable=!1),C.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",m)))}Object.defineProperty(y.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(y.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(y.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function m(){this._writableState.ended||process$1.nextTick(w,this)}function w(C){C.end()}return Object.defineProperty(y.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(b){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=b,this._writableState.destroyed=b)}}),_stream_duplex$1}var string_decoder={},hasRequiredString_decoder;function requireString_decoder(){if(hasRequiredString_decoder)return string_decoder;hasRequiredString_decoder=1;var f=safeBufferExports.Buffer,r=f.isEncoding||function(U){switch(U=""+U,U&&U.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function d(U){if(!U)return"utf8";for(var L;;)switch(U){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return U;default:if(L)return;U=(""+U).toLowerCase(),L=!0}}function g(U){var L=d(U);if(typeof L!="string"&&(f.isEncoding===r||!r(U)))throw new Error("Unknown encoding: "+U);return L||U}string_decoder.StringDecoder=_;function _(U){this.encoding=g(U);var L;switch(this.encoding){case"utf16le":this.text=E,this.end=S,L=4;break;case"utf8":this.fillLast=w,L=4;break;case"base64":this.text=R,this.end=O,L=3;break;default:this.write=$,this.end=I;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=f.allocUnsafe(L)}_.prototype.write=function(U){if(U.length===0)return"";var L,j;if(this.lastNeed){if(L=this.fillLast(U),L===void 0)return"";j=this.lastNeed,this.lastNeed=0}else j=0;return j<U.length?L?L+this.text(U,j):this.text(U,j):L||""},_.prototype.end=b,_.prototype.text=C,_.prototype.fillLast=function(U){if(this.lastNeed<=U.length)return U.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);U.copy(this.lastChar,this.lastTotal-this.lastNeed,0,U.length),this.lastNeed-=U.length};function v(U){return U<=127?0:U>>5===6?2:U>>4===14?3:U>>3===30?4:U>>6===2?-1:-2}function y(U,L,j){var F=L.length-1;if(F<j)return 0;var X=v(L[F]);return X>=0?(X>0&&(U.lastNeed=X-1),X):--F<j||X===-2?0:(X=v(L[F]),X>=0?(X>0&&(U.lastNeed=X-2),X):--F<j||X===-2?0:(X=v(L[F]),X>=0?(X>0&&(X===2?X=0:U.lastNeed=X-3),X):0))}function m(U,L,j){if((L[0]&192)!==128)return U.lastNeed=0,"�";if(U.lastNeed>1&&L.length>1){if((L[1]&192)!==128)return U.lastNeed=1,"�";if(U.lastNeed>2&&L.length>2&&(L[2]&192)!==128)return U.lastNeed=2,"�"}}function w(U){var L=this.lastTotal-this.lastNeed,j=m(this,U);if(j!==void 0)return j;if(this.lastNeed<=U.length)return U.copy(this.lastChar,L,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);U.copy(this.lastChar,L,0,U.length),this.lastNeed-=U.length}function C(U,L){var j=y(this,U,L);if(!this.lastNeed)return U.toString("utf8",L);this.lastTotal=j;var F=U.length-(j-this.lastNeed);return U.copy(this.lastChar,0,F),U.toString("utf8",L,F)}function b(U){var L=U&&U.length?this.write(U):"";return this.lastNeed?L+"�":L}function E(U,L){if((U.length-L)%2===0){var j=U.toString("utf16le",L);if(j){var F=j.charCodeAt(j.length-1);if(F>=55296&&F<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=U[U.length-2],this.lastChar[1]=U[U.length-1],j.slice(0,-1)}return j}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=U[U.length-1],U.toString("utf16le",L,U.length-1)}function S(U){var L=U&&U.length?this.write(U):"";if(this.lastNeed){var j=this.lastTotal-this.lastNeed;return L+this.lastChar.toString("utf16le",0,j)}return L}function R(U,L){var j=(U.length-L)%3;return j===0?U.toString("base64",L):(this.lastNeed=3-j,this.lastTotal=3,j===1?this.lastChar[0]=U[U.length-1]:(this.lastChar[0]=U[U.length-2],this.lastChar[1]=U[U.length-1]),U.toString("base64",L,U.length-j))}function O(U){var L=U&&U.length?this.write(U):"";return this.lastNeed?L+this.lastChar.toString("base64",0,3-this.lastNeed):L}function $(U){return U.toString(this.encoding)}function I(U){return U&&U.length?this.write(U):""}return string_decoder}var endOfStream,hasRequiredEndOfStream;function requireEndOfStream(){if(hasRequiredEndOfStream)return endOfStream;hasRequiredEndOfStream=1;var f=requireErrorsBrowser().codes.ERR_STREAM_PREMATURE_CLOSE;function r(v){var y=!1;return function(){if(!y){y=!0;for(var m=arguments.length,w=new Array(m),C=0;C<m;C++)w[C]=arguments[C];v.apply(this,w)}}}function d(){}function g(v){return v.setHeader&&typeof v.abort=="function"}function _(v,y,m){if(typeof y=="function")return _(v,null,y);y||(y={}),m=r(m||d);var w=y.readable||y.readable!==!1&&v.readable,C=y.writable||y.writable!==!1&&v.writable,b=function(){v.writable||S()},E=v._writableState&&v._writableState.finished,S=function(){C=!1,E=!0,w||m.call(v)},R=v._readableState&&v._readableState.endEmitted,O=function(){w=!1,R=!0,C||m.call(v)},$=function(j){m.call(v,j)},I=function(){var j;if(w&&!R)return(!v._readableState||!v._readableState.ended)&&(j=new f),m.call(v,j);if(C&&!E)return(!v._writableState||!v._writableState.ended)&&(j=new f),m.call(v,j)},U=function(){v.req.on("finish",S)};return g(v)?(v.on("complete",S),v.on("abort",I),v.req?U():v.on("request",U)):C&&!v._writableState&&(v.on("end",b),v.on("close",b)),v.on("end",O),v.on("finish",S),y.error!==!1&&v.on("error",$),v.on("close",I),function(){v.removeListener("complete",S),v.removeListener("abort",I),v.removeListener("request",U),v.req&&v.req.removeListener("finish",S),v.removeListener("end",b),v.removeListener("close",b),v.removeListener("finish",S),v.removeListener("end",O),v.removeListener("error",$),v.removeListener("close",I)}}return endOfStream=_,endOfStream}var async_iterator,hasRequiredAsync_iterator;function requireAsync_iterator(){if(hasRequiredAsync_iterator)return async_iterator;hasRequiredAsync_iterator=1;var f;function r(j,F,X){return F=d(F),F in j?Object.defineProperty(j,F,{value:X,enumerable:!0,configurable:!0,writable:!0}):j[F]=X,j}function d(j){var F=g(j,"string");return typeof F=="symbol"?F:String(F)}function g(j,F){if(typeof j!="object"||j===null)return j;var X=j[Symbol.toPrimitive];if(X!==void 0){var z=X.call(j,F||"default");if(typeof z!="object")return z;throw new TypeError("@@toPrimitive must return a primitive value.")}return(F==="string"?String:Number)(j)}var _=requireEndOfStream(),v=Symbol("lastResolve"),y=Symbol("lastReject"),m=Symbol("error"),w=Symbol("ended"),C=Symbol("lastPromise"),b=Symbol("handlePromise"),E=Symbol("stream");function S(j,F){return{value:j,done:F}}function R(j){var F=j[v];if(F!==null){var X=j[E].read();X!==null&&(j[C]=null,j[v]=null,j[y]=null,F(S(X,!1)))}}function O(j){process$1.nextTick(R,j)}function $(j,F){return function(X,z){j.then(function(){if(F[w]){X(S(void 0,!0));return}F[b](X,z)},z)}}var I=Object.getPrototypeOf(function(){}),U=Object.setPrototypeOf((f={get stream(){return this[E]},next:function(){var F=this,X=this[m];if(X!==null)return Promise.reject(X);if(this[w])return Promise.resolve(S(void 0,!0));if(this[E].destroyed)return new Promise(function(re,se){process$1.nextTick(function(){F[m]?se(F[m]):re(S(void 0,!0))})});var z=this[C],Y;if(z)Y=new Promise($(z,this));else{var ne=this[E].read();if(ne!==null)return Promise.resolve(S(ne,!1));Y=new Promise(this[b])}return this[C]=Y,Y}},r(f,Symbol.asyncIterator,function(){return this}),r(f,"return",function(){var F=this;return new Promise(function(X,z){F[E].destroy(null,function(Y){if(Y){z(Y);return}X(S(void 0,!0))})})}),f),I),L=function(F){var X,z=Object.create(U,(X={},r(X,E,{value:F,writable:!0}),r(X,v,{value:null,writable:!0}),r(X,y,{value:null,writable:!0}),r(X,m,{value:null,writable:!0}),r(X,w,{value:F._readableState.endEmitted,writable:!0}),r(X,b,{value:function(ne,re){var se=z[E].read();se?(z[C]=null,z[v]=null,z[y]=null,ne(S(se,!1))):(z[v]=ne,z[y]=re)},writable:!0}),X));return z[C]=null,_(F,function(Y){if(Y&&Y.code!=="ERR_STREAM_PREMATURE_CLOSE"){var ne=z[y];ne!==null&&(z[C]=null,z[v]=null,z[y]=null,ne(Y)),z[m]=Y;return}var re=z[v];re!==null&&(z[C]=null,z[v]=null,z[y]=null,re(S(void 0,!0))),z[w]=!0}),F.on("readable",O.bind(null,z)),z};return async_iterator=L,async_iterator}var fromBrowser,hasRequiredFromBrowser;function requireFromBrowser(){return hasRequiredFromBrowser||(hasRequiredFromBrowser=1,fromBrowser=function(){throw new Error("Readable.from is not available in the browser")}),fromBrowser}var _stream_readable$1,hasRequired_stream_readable$1;function require_stream_readable$1(){if(hasRequired_stream_readable$1)return _stream_readable$1;hasRequired_stream_readable$1=1,_stream_readable$1=re;var f;re.ReadableState=ne,requireEvents().EventEmitter;var r=function(ie,we){return ie.listeners(we).length},d=requireStreamBrowser$1(),g=require$$0$2.Buffer,_=(typeof commonjsGlobal<"u"?commonjsGlobal:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function v(Q){return g.from(Q)}function y(Q){return g.isBuffer(Q)||Q instanceof _}var m=requireUtil$1(),w;m&&m.debuglog?w=m.debuglog("stream"):w=function(){};var C=requireBuffer_list(),b=requireDestroy$1(),E=requireState(),S=E.getHighWaterMark,R=requireErrorsBrowser().codes,O=R.ERR_INVALID_ARG_TYPE,$=R.ERR_STREAM_PUSH_AFTER_EOF,I=R.ERR_METHOD_NOT_IMPLEMENTED,U=R.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,L,j,F;requireInherits_browser()(re,d);var X=b.errorOrDestroy,z=["error","close","destroy","pause","resume"];function Y(Q,ie,we){if(typeof Q.prependListener=="function")return Q.prependListener(ie,we);!Q._events||!Q._events[ie]?Q.on(ie,we):Array.isArray(Q._events[ie])?Q._events[ie].unshift(we):Q._events[ie]=[we,Q._events[ie]]}function ne(Q,ie,we){f=f||require_stream_duplex$1(),Q=Q||{},typeof we!="boolean"&&(we=ie instanceof f),this.objectMode=!!Q.objectMode,we&&(this.objectMode=this.objectMode||!!Q.readableObjectMode),this.highWaterMark=S(this,Q,"readableHighWaterMark",we),this.buffer=new C,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=Q.emitClose!==!1,this.autoDestroy=!!Q.autoDestroy,this.destroyed=!1,this.defaultEncoding=Q.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,Q.encoding&&(L||(L=requireString_decoder().StringDecoder),this.decoder=new L(Q.encoding),this.encoding=Q.encoding)}function re(Q){if(f=f||require_stream_duplex$1(),!(this instanceof re))return new re(Q);var ie=this instanceof f;this._readableState=new ne(Q,this,ie),this.readable=!0,Q&&(typeof Q.read=="function"&&(this._read=Q.read),typeof Q.destroy=="function"&&(this._destroy=Q.destroy)),d.call(this)}Object.defineProperty(re.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(ie){this._readableState&&(this._readableState.destroyed=ie)}}),re.prototype.destroy=b.destroy,re.prototype._undestroy=b.undestroy,re.prototype._destroy=function(Q,ie){ie(Q)},re.prototype.push=function(Q,ie){var we=this._readableState,Se;return we.objectMode?Se=!0:typeof Q=="string"&&(ie=ie||we.defaultEncoding,ie!==we.encoding&&(Q=g.from(Q,ie),ie=""),Se=!0),se(this,Q,ie,!1,Se)},re.prototype.unshift=function(Q){return se(this,Q,null,!0,!1)};function se(Q,ie,we,Se,De){w("readableAddChunk",ie);var Ie=Q._readableState;if(ie===null)Ie.reading=!1,B(Q,Ie);else{var qe;if(De||(qe=T(Ie,ie)),qe)X(Q,qe);else if(Ie.objectMode||ie&&ie.length>0)if(typeof ie!="string"&&!Ie.objectMode&&Object.getPrototypeOf(ie)!==g.prototype&&(ie=v(ie)),Se)Ie.endEmitted?X(Q,new U):G(Q,Ie,ie,!0);else if(Ie.ended)X(Q,new $);else{if(Ie.destroyed)return!1;Ie.reading=!1,Ie.decoder&&!we?(ie=Ie.decoder.write(ie),Ie.objectMode||ie.length!==0?G(Q,Ie,ie,!1):K(Q,Ie)):G(Q,Ie,ie,!1)}else Se||(Ie.reading=!1,K(Q,Ie))}return!Ie.ended&&(Ie.length<Ie.highWaterMark||Ie.length===0)}function G(Q,ie,we,Se){ie.flowing&&ie.length===0&&!ie.sync?(ie.awaitDrain=0,Q.emit("data",we)):(ie.length+=ie.objectMode?1:we.length,Se?ie.buffer.unshift(we):ie.buffer.push(we),ie.needReadable&&N(Q)),K(Q,ie)}function T(Q,ie){var we;return!y(ie)&&typeof ie!="string"&&ie!==void 0&&!Q.objectMode&&(we=new O("chunk",["string","Buffer","Uint8Array"],ie)),we}re.prototype.isPaused=function(){return this._readableState.flowing===!1},re.prototype.setEncoding=function(Q){L||(L=requireString_decoder().StringDecoder);var ie=new L(Q);this._readableState.decoder=ie,this._readableState.encoding=this._readableState.decoder.encoding;for(var we=this._readableState.buffer.head,Se="";we!==null;)Se+=ie.write(we.data),we=we.next;return this._readableState.buffer.clear(),Se!==""&&this._readableState.buffer.push(Se),this._readableState.length=Se.length,this};var D=1073741824;function x(Q){return Q>=D?Q=D:(Q--,Q|=Q>>>1,Q|=Q>>>2,Q|=Q>>>4,Q|=Q>>>8,Q|=Q>>>16,Q++),Q}function A(Q,ie){return Q<=0||ie.length===0&&ie.ended?0:ie.objectMode?1:Q!==Q?ie.flowing&&ie.length?ie.buffer.head.data.length:ie.length:(Q>ie.highWaterMark&&(ie.highWaterMark=x(Q)),Q<=ie.length?Q:ie.ended?ie.length:(ie.needReadable=!0,0))}re.prototype.read=function(Q){w("read",Q),Q=parseInt(Q,10);var ie=this._readableState,we=Q;if(Q!==0&&(ie.emittedReadable=!1),Q===0&&ie.needReadable&&((ie.highWaterMark!==0?ie.length>=ie.highWaterMark:ie.length>0)||ie.ended))return w("read: emitReadable",ie.length,ie.ended),ie.length===0&&ie.ended?J(this):N(this),null;if(Q=A(Q,ie),Q===0&&ie.ended)return ie.length===0&&J(this),null;var Se=ie.needReadable;w("need readable",Se),(ie.length===0||ie.length-Q<ie.highWaterMark)&&(Se=!0,w("length less than watermark",Se)),ie.ended||ie.reading?(Se=!1,w("reading or ended",Se)):Se&&(w("do read"),ie.reading=!0,ie.sync=!0,ie.length===0&&(ie.needReadable=!0),this._read(ie.highWaterMark),ie.sync=!1,ie.reading||(Q=A(we,ie)));var De;return Q>0?De=Z(Q,ie):De=null,De===null?(ie.needReadable=ie.length<=ie.highWaterMark,Q=0):(ie.length-=Q,ie.awaitDrain=0),ie.length===0&&(ie.ended||(ie.needReadable=!0),we!==Q&&ie.ended&&J(this)),De!==null&&this.emit("data",De),De};function B(Q,ie){if(w("onEofChunk"),!ie.ended){if(ie.decoder){var we=ie.decoder.end();we&&we.length&&(ie.buffer.push(we),ie.length+=ie.objectMode?1:we.length)}ie.ended=!0,ie.sync?N(Q):(ie.needReadable=!1,ie.emittedReadable||(ie.emittedReadable=!0,q(Q)))}}function N(Q){var ie=Q._readableState;w("emitReadable",ie.needReadable,ie.emittedReadable),ie.needReadable=!1,ie.emittedReadable||(w("emitReadable",ie.flowing),ie.emittedReadable=!0,process$1.nextTick(q,Q))}function q(Q){var ie=Q._readableState;w("emitReadable_",ie.destroyed,ie.length,ie.ended),!ie.destroyed&&(ie.length||ie.ended)&&(Q.emit("readable"),ie.emittedReadable=!1),ie.needReadable=!ie.flowing&&!ie.ended&&ie.length<=ie.highWaterMark,ve(Q)}function K(Q,ie){ie.readingMore||(ie.readingMore=!0,process$1.nextTick(P,Q,ie))}function P(Q,ie){for(;!ie.reading&&!ie.ended&&(ie.length<ie.highWaterMark||ie.flowing&&ie.length===0);){var we=ie.length;if(w("maybeReadMore read 0"),Q.read(0),we===ie.length)break}ie.readingMore=!1}re.prototype._read=function(Q){X(this,new I("_read()"))},re.prototype.pipe=function(Q,ie){var we=this,Se=this._readableState;switch(Se.pipesCount){case 0:Se.pipes=Q;break;case 1:Se.pipes=[Se.pipes,Q];break;default:Se.pipes.push(Q);break}Se.pipesCount+=1,w("pipe count=%d opts=%j",Se.pipesCount,ie);var De=(!ie||ie.end!==!1)&&Q!==process$1.stdout&&Q!==process$1.stderr,Ie=De?Ne:Fe;Se.endEmitted?process$1.nextTick(Ie):we.once("end",Ie),Q.on("unpipe",qe);function qe(Le,Qe){w("onunpipe"),Le===we&&Qe&&Qe.hasUnpiped===!1&&(Qe.hasUnpiped=!0,Ke())}function Ne(){w("onend"),Q.end()}var Me=k(we);Q.on("drain",Me);var Ve=!1;function Ke(){w("cleanup"),Q.removeListener("close",We),Q.removeListener("finish",it),Q.removeListener("drain",Me),Q.removeListener("error",Je),Q.removeListener("unpipe",qe),we.removeListener("end",Ne),we.removeListener("end",Fe),we.removeListener("data",ot),Ve=!0,Se.awaitDrain&&(!Q._writableState||Q._writableState.needDrain)&&Me()}we.on("data",ot);function ot(Le){w("ondata");var Qe=Q.write(Le);w("dest.write",Qe),Qe===!1&&((Se.pipesCount===1&&Se.pipes===Q||Se.pipesCount>1&&H(Se.pipes,Q)!==-1)&&!Ve&&(w("false write response, pause",Se.awaitDrain),Se.awaitDrain++),we.pause())}function Je(Le){w("onerror",Le),Fe(),Q.removeListener("error",Je),r(Q,"error")===0&&X(Q,Le)}Y(Q,"error",Je);function We(){Q.removeListener("finish",it),Fe()}Q.once("close",We);function it(){w("onfinish"),Q.removeListener("close",We),Fe()}Q.once("finish",it);function Fe(){w("unpipe"),we.unpipe(Q)}return Q.emit("pipe",we),Se.flowing||(w("pipe resume"),we.resume()),Q};function k(Q){return function(){var we=Q._readableState;w("pipeOnDrain",we.awaitDrain),we.awaitDrain&&we.awaitDrain--,we.awaitDrain===0&&r(Q,"data")&&(we.flowing=!0,ve(Q))}}re.prototype.unpipe=function(Q){var ie=this._readableState,we={hasUnpiped:!1};if(ie.pipesCount===0)return this;if(ie.pipesCount===1)return Q&&Q!==ie.pipes?this:(Q||(Q=ie.pipes),ie.pipes=null,ie.pipesCount=0,ie.flowing=!1,Q&&Q.emit("unpipe",this,we),this);if(!Q){var Se=ie.pipes,De=ie.pipesCount;ie.pipes=null,ie.pipesCount=0,ie.flowing=!1;for(var Ie=0;Ie<De;Ie++)Se[Ie].emit("unpipe",this,{hasUnpiped:!1});return this}var qe=H(ie.pipes,Q);return qe===-1?this:(ie.pipes.splice(qe,1),ie.pipesCount-=1,ie.pipesCount===1&&(ie.pipes=ie.pipes[0]),Q.emit("unpipe",this,we),this)},re.prototype.on=function(Q,ie){var we=d.prototype.on.call(this,Q,ie),Se=this._readableState;return Q==="data"?(Se.readableListening=this.listenerCount("readable")>0,Se.flowing!==!1&&this.resume()):Q==="readable"&&!Se.endEmitted&&!Se.readableListening&&(Se.readableListening=Se.needReadable=!0,Se.flowing=!1,Se.emittedReadable=!1,w("on readable",Se.length,Se.reading),Se.length?N(this):Se.reading||process$1.nextTick(W,this)),we},re.prototype.addListener=re.prototype.on,re.prototype.removeListener=function(Q,ie){var we=d.prototype.removeListener.call(this,Q,ie);return Q==="readable"&&process$1.nextTick(M,this),we},re.prototype.removeAllListeners=function(Q){var ie=d.prototype.removeAllListeners.apply(this,arguments);return(Q==="readable"||Q===void 0)&&process$1.nextTick(M,this),ie};function M(Q){var ie=Q._readableState;ie.readableListening=Q.listenerCount("readable")>0,ie.resumeScheduled&&!ie.paused?ie.flowing=!0:Q.listenerCount("data")>0&&Q.resume()}function W(Q){w("readable nexttick read 0"),Q.read(0)}re.prototype.resume=function(){var Q=this._readableState;return Q.flowing||(w("resume"),Q.flowing=!Q.readableListening,ce(this,Q)),Q.paused=!1,this};function ce(Q,ie){ie.resumeScheduled||(ie.resumeScheduled=!0,process$1.nextTick(be,Q,ie))}function be(Q,ie){w("resume",ie.reading),ie.reading||Q.read(0),ie.resumeScheduled=!1,Q.emit("resume"),ve(Q),ie.flowing&&!ie.reading&&Q.read(0)}re.prototype.pause=function(){return w("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(w("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function ve(Q){var ie=Q._readableState;for(w("flow",ie.flowing);ie.flowing&&Q.read()!==null;);}re.prototype.wrap=function(Q){var ie=this,we=this._readableState,Se=!1;Q.on("end",function(){if(w("wrapped end"),we.decoder&&!we.ended){var qe=we.decoder.end();qe&&qe.length&&ie.push(qe)}ie.push(null)}),Q.on("data",function(qe){if(w("wrapped data"),we.decoder&&(qe=we.decoder.write(qe)),!(we.objectMode&&qe==null)&&!(!we.objectMode&&(!qe||!qe.length))){var Ne=ie.push(qe);Ne||(Se=!0,Q.pause())}});for(var De in Q)this[De]===void 0&&typeof Q[De]=="function"&&(this[De]=function(Ne){return function(){return Q[Ne].apply(Q,arguments)}}(De));for(var Ie=0;Ie<z.length;Ie++)Q.on(z[Ie],this.emit.bind(this,z[Ie]));return this._read=function(qe){w("wrapped _read",qe),Se&&(Se=!1,Q.resume())},this},typeof Symbol=="function"&&(re.prototype[Symbol.asyncIterator]=function(){return j===void 0&&(j=requireAsync_iterator()),j(this)}),Object.defineProperty(re.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(re.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(re.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(ie){this._readableState&&(this._readableState.flowing=ie)}}),re._fromList=Z,Object.defineProperty(re.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function Z(Q,ie){if(ie.length===0)return null;var we;return ie.objectMode?we=ie.buffer.shift():!Q||Q>=ie.length?(ie.decoder?we=ie.buffer.join(""):ie.buffer.length===1?we=ie.buffer.first():we=ie.buffer.concat(ie.length),ie.buffer.clear()):we=ie.buffer.consume(Q,ie.decoder),we}function J(Q){var ie=Q._readableState;w("endReadable",ie.endEmitted),ie.endEmitted||(ie.ended=!0,process$1.nextTick(oe,ie,Q))}function oe(Q,ie){if(w("endReadableNT",Q.endEmitted,Q.length),!Q.endEmitted&&Q.length===0&&(Q.endEmitted=!0,ie.readable=!1,ie.emit("end"),Q.autoDestroy)){var we=ie._writableState;(!we||we.autoDestroy&&we.finished)&&ie.destroy()}}typeof Symbol=="function"&&(re.from=function(Q,ie){return F===void 0&&(F=requireFromBrowser()),F(re,Q,ie)});function H(Q,ie){for(var we=0,Se=Q.length;we<Se;we++)if(Q[we]===ie)return we;return-1}return _stream_readable$1}var _stream_transform$1,hasRequired_stream_transform$1;function require_stream_transform$1(){if(hasRequired_stream_transform$1)return _stream_transform$1;hasRequired_stream_transform$1=1,_stream_transform$1=m;var f=requireErrorsBrowser().codes,r=f.ERR_METHOD_NOT_IMPLEMENTED,d=f.ERR_MULTIPLE_CALLBACK,g=f.ERR_TRANSFORM_ALREADY_TRANSFORMING,_=f.ERR_TRANSFORM_WITH_LENGTH_0,v=require_stream_duplex$1();requireInherits_browser()(m,v);function y(b,E){var S=this._transformState;S.transforming=!1;var R=S.writecb;if(R===null)return this.emit("error",new d);S.writechunk=null,S.writecb=null,E!=null&&this.push(E),R(b);var O=this._readableState;O.reading=!1,(O.needReadable||O.length<O.highWaterMark)&&this._read(O.highWaterMark)}function m(b){if(!(this instanceof m))return new m(b);v.call(this,b),this._transformState={afterTransform:y.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,b&&(typeof b.transform=="function"&&(this._transform=b.transform),typeof b.flush=="function"&&(this._flush=b.flush)),this.on("prefinish",w)}function w(){var b=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(E,S){C(b,E,S)}):C(this,null,null)}m.prototype.push=function(b,E){return this._transformState.needTransform=!1,v.prototype.push.call(this,b,E)},m.prototype._transform=function(b,E,S){S(new r("_transform()"))},m.prototype._write=function(b,E,S){var R=this._transformState;if(R.writecb=S,R.writechunk=b,R.writeencoding=E,!R.transforming){var O=this._readableState;(R.needTransform||O.needReadable||O.length<O.highWaterMark)&&this._read(O.highWaterMark)}},m.prototype._read=function(b){var E=this._transformState;E.writechunk!==null&&!E.transforming?(E.transforming=!0,this._transform(E.writechunk,E.writeencoding,E.afterTransform)):E.needTransform=!0},m.prototype._destroy=function(b,E){v.prototype._destroy.call(this,b,function(S){E(S)})};function C(b,E,S){if(E)return b.emit("error",E);if(S!=null&&b.push(S),b._writableState.length)throw new _;if(b._transformState.transforming)throw new g;return b.push(null)}return _stream_transform$1}var _stream_passthrough$1,hasRequired_stream_passthrough$1;function require_stream_passthrough$1(){if(hasRequired_stream_passthrough$1)return _stream_passthrough$1;hasRequired_stream_passthrough$1=1,_stream_passthrough$1=r;var f=require_stream_transform$1();requireInherits_browser()(r,f);function r(d){if(!(this instanceof r))return new r(d);f.call(this,d)}return r.prototype._transform=function(d,g,_){_(null,d)},_stream_passthrough$1}var pipeline_1,hasRequiredPipeline;function requirePipeline(){if(hasRequiredPipeline)return pipeline_1;hasRequiredPipeline=1;var f;function r(S){var R=!1;return function(){R||(R=!0,S.apply(void 0,arguments))}}var d=requireErrorsBrowser().codes,g=d.ERR_MISSING_ARGS,_=d.ERR_STREAM_DESTROYED;function v(S){if(S)throw S}function y(S){return S.setHeader&&typeof S.abort=="function"}function m(S,R,O,$){$=r($);var I=!1;S.on("close",function(){I=!0}),f===void 0&&(f=requireEndOfStream()),f(S,{readable:R,writable:O},function(L){if(L)return $(L);I=!0,$()});var U=!1;return function(L){if(!I&&!U){if(U=!0,y(S))return S.abort();if(typeof S.destroy=="function")return S.destroy();$(L||new _("pipe"))}}}function w(S){S()}function C(S,R){return S.pipe(R)}function b(S){return!S.length||typeof S[S.length-1]!="function"?v:S.pop()}function E(){for(var S=arguments.length,R=new Array(S),O=0;O<S;O++)R[O]=arguments[O];var $=b(R);if(Array.isArray(R[0])&&(R=R[0]),R.length<2)throw new g("streams");var I,U=R.map(function(L,j){var F=j<R.length-1,X=j>0;return m(L,F,X,function(z){I||(I=z),z&&U.forEach(w),!F&&(U.forEach(w),$(I))})});return R.reduce(C)}return pipeline_1=E,pipeline_1}var hasRequiredReadableBrowser$1;function requireReadableBrowser$1(){return hasRequiredReadableBrowser$1||(hasRequiredReadableBrowser$1=1,function(f,r){r=f.exports=require_stream_readable$1(),r.Stream=r,r.Readable=r,r.Writable=require_stream_writable$1(),r.Duplex=require_stream_duplex$1(),r.Transform=require_stream_transform$1(),r.PassThrough=require_stream_passthrough$1(),r.finished=requireEndOfStream(),r.pipeline=requirePipeline()}(readableBrowser$1,readableBrowser$1.exports)),readableBrowser$1.exports}var hashBase$1,hasRequiredHashBase$1;function requireHashBase$1(){if(hasRequiredHashBase$1)return hashBase$1;hasRequiredHashBase$1=1;var f=safeBufferExports.Buffer,r=requireReadableBrowser$1().Transform,d=requireInherits_browser();function g(v,y){if(!f.isBuffer(v)&&typeof v!="string")throw new TypeError(y+" must be a string or a buffer")}function _(v){r.call(this),this._block=f.allocUnsafe(v),this._blockSize=v,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}return d(_,r),_.prototype._transform=function(v,y,m){var w=null;try{this.update(v,y)}catch(C){w=C}m(w)},_.prototype._flush=function(v){var y=null;try{this.push(this.digest())}catch(m){y=m}v(y)},_.prototype.update=function(v,y){if(g(v,"Data"),this._finalized)throw new Error("Digest already called");f.isBuffer(v)||(v=f.from(v,y));for(var m=this._block,w=0;this._blockOffset+v.length-w>=this._blockSize;){for(var C=this._blockOffset;C<this._blockSize;)m[C++]=v[w++];this._update(),this._blockOffset=0}for(;w<v.length;)m[this._blockOffset++]=v[w++];for(var b=0,E=v.length*8;E>0;++b)this._length[b]+=E,E=this._length[b]/4294967296|0,E>0&&(this._length[b]-=4294967296*E);return this},_.prototype._update=function(){throw new Error("_update is not implemented")},_.prototype.digest=function(v){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var y=this._digest();v!==void 0&&(y=y.toString(v)),this._block.fill(0),this._blockOffset=0;for(var m=0;m<4;++m)this._length[m]=0;return y},_.prototype._digest=function(){throw new Error("_digest is not implemented")},hashBase$1=_,hashBase$1}var md5_js,hasRequiredMd5_js;function requireMd5_js(){if(hasRequiredMd5_js)return md5_js;hasRequiredMd5_js=1;var f=requireInherits_browser(),r=requireHashBase$1(),d=safeBufferExports.Buffer,g=new Array(16);function _(){r.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}f(_,r),_.prototype._update=function(){for(var b=g,E=0;E<16;++E)b[E]=this._block.readInt32LE(E*4);var S=this._a,R=this._b,O=this._c,$=this._d;S=y(S,R,O,$,b[0],3614090360,7),$=y($,S,R,O,b[1],3905402710,12),O=y(O,$,S,R,b[2],606105819,17),R=y(R,O,$,S,b[3],3250441966,22),S=y(S,R,O,$,b[4],4118548399,7),$=y($,S,R,O,b[5],1200080426,12),O=y(O,$,S,R,b[6],2821735955,17),R=y(R,O,$,S,b[7],4249261313,22),S=y(S,R,O,$,b[8],1770035416,7),$=y($,S,R,O,b[9],2336552879,12),O=y(O,$,S,R,b[10],4294925233,17),R=y(R,O,$,S,b[11],2304563134,22),S=y(S,R,O,$,b[12],1804603682,7),$=y($,S,R,O,b[13],4254626195,12),O=y(O,$,S,R,b[14],2792965006,17),R=y(R,O,$,S,b[15],1236535329,22),S=m(S,R,O,$,b[1],4129170786,5),$=m($,S,R,O,b[6],3225465664,9),O=m(O,$,S,R,b[11],643717713,14),R=m(R,O,$,S,b[0],3921069994,20),S=m(S,R,O,$,b[5],3593408605,5),$=m($,S,R,O,b[10],38016083,9),O=m(O,$,S,R,b[15],3634488961,14),R=m(R,O,$,S,b[4],3889429448,20),S=m(S,R,O,$,b[9],568446438,5),$=m($,S,R,O,b[14],3275163606,9),O=m(O,$,S,R,b[3],4107603335,14),R=m(R,O,$,S,b[8],1163531501,20),S=m(S,R,O,$,b[13],2850285829,5),$=m($,S,R,O,b[2],4243563512,9),O=m(O,$,S,R,b[7],1735328473,14),R=m(R,O,$,S,b[12],2368359562,20),S=w(S,R,O,$,b[5],4294588738,4),$=w($,S,R,O,b[8],2272392833,11),O=w(O,$,S,R,b[11],1839030562,16),R=w(R,O,$,S,b[14],4259657740,23),S=w(S,R,O,$,b[1],2763975236,4),$=w($,S,R,O,b[4],1272893353,11),O=w(O,$,S,R,b[7],4139469664,16),R=w(R,O,$,S,b[10],3200236656,23),S=w(S,R,O,$,b[13],681279174,4),$=w($,S,R,O,b[0],3936430074,11),O=w(O,$,S,R,b[3],3572445317,16),R=w(R,O,$,S,b[6],76029189,23),S=w(S,R,O,$,b[9],3654602809,4),$=w($,S,R,O,b[12],3873151461,11),O=w(O,$,S,R,b[15],530742520,16),R=w(R,O,$,S,b[2],3299628645,23),S=C(S,R,O,$,b[0],4096336452,6),$=C($,S,R,O,b[7],1126891415,10),O=C(O,$,S,R,b[14],2878612391,15),R=C(R,O,$,S,b[5],4237533241,21),S=C(S,R,O,$,b[12],1700485571,6),$=C($,S,R,O,b[3],2399980690,10),O=C(O,$,S,R,b[10],4293915773,15),R=C(R,O,$,S,b[1],2240044497,21),S=C(S,R,O,$,b[8],1873313359,6),$=C($,S,R,O,b[15],4264355552,10),O=C(O,$,S,R,b[6],2734768916,15),R=C(R,O,$,S,b[13],1309151649,21),S=C(S,R,O,$,b[4],4149444226,6),$=C($,S,R,O,b[11],3174756917,10),O=C(O,$,S,R,b[2],718787259,15),R=C(R,O,$,S,b[9],3951481745,21),this._a=this._a+S|0,this._b=this._b+R|0,this._c=this._c+O|0,this._d=this._d+$|0},_.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var b=d.allocUnsafe(16);return b.writeInt32LE(this._a,0),b.writeInt32LE(this._b,4),b.writeInt32LE(this._c,8),b.writeInt32LE(this._d,12),b};function v(b,E){return b<<E|b>>>32-E}function y(b,E,S,R,O,$,I){return v(b+(E&S|~E&R)+O+$|0,I)+E|0}function m(b,E,S,R,O,$,I){return v(b+(E&R|S&~R)+O+$|0,I)+E|0}function w(b,E,S,R,O,$,I){return v(b+(E^S^R)+O+$|0,I)+E|0}function C(b,E,S,R,O,$,I){return v(b+(S^(E|~R))+O+$|0,I)+E|0}return md5_js=_,md5_js}var hashBase,hasRequiredHashBase;function requireHashBase(){if(hasRequiredHashBase)return hashBase;hasRequiredHashBase=1;var f=safeBufferExports.Buffer,r=requireReadableBrowser$1().Transform,d=requireInherits_browser();function g(v,y){if(!f.isBuffer(v)&&typeof v!="string")throw new TypeError(y+" must be a string or a buffer")}function _(v){r.call(this),this._block=f.allocUnsafe(v),this._blockSize=v,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}return d(_,r),_.prototype._transform=function(v,y,m){var w=null;try{this.update(v,y)}catch(C){w=C}m(w)},_.prototype._flush=function(v){var y=null;try{this.push(this.digest())}catch(m){y=m}v(y)},_.prototype.update=function(v,y){if(g(v,"Data"),this._finalized)throw new Error("Digest already called");f.isBuffer(v)||(v=f.from(v,y));for(var m=this._block,w=0;this._blockOffset+v.length-w>=this._blockSize;){for(var C=this._blockOffset;C<this._blockSize;)m[C++]=v[w++];this._update(),this._blockOffset=0}for(;w<v.length;)m[this._blockOffset++]=v[w++];for(var b=0,E=v.length*8;E>0;++b)this._length[b]+=E,E=this._length[b]/4294967296|0,E>0&&(this._length[b]-=4294967296*E);return this},_.prototype._update=function(){throw new Error("_update is not implemented")},_.prototype.digest=function(v){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var y=this._digest();v!==void 0&&(y=y.toString(v)),this._block.fill(0),this._blockOffset=0;for(var m=0;m<4;++m)this._length[m]=0;return y},_.prototype._digest=function(){throw new Error("_digest is not implemented")},hashBase=_,hashBase}var ripemd160$1,hasRequiredRipemd160$1;function requireRipemd160$1(){if(hasRequiredRipemd160$1)return ripemd160$1;hasRequiredRipemd160$1=1;var f=require$$0$2.Buffer,r=requireInherits_browser(),d=requireHashBase(),g=new Array(16),_=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],v=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],y=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],m=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],w=[0,1518500249,1859775393,2400959708,2840853838],C=[1352829926,1548603684,1836072691,2053994217,0];function b(){d.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}r(b,d),b.prototype._update=function(){for(var U=g,L=0;L<16;++L)U[L]=this._block.readInt32LE(L*4);for(var j=this._a|0,F=this._b|0,X=this._c|0,z=this._d|0,Y=this._e|0,ne=this._a|0,re=this._b|0,se=this._c|0,G=this._d|0,T=this._e|0,D=0;D<80;D+=1){var x,A;D<16?(x=S(j,F,X,z,Y,U[_[D]],w[0],y[D]),A=I(ne,re,se,G,T,U[v[D]],C[0],m[D])):D<32?(x=R(j,F,X,z,Y,U[_[D]],w[1],y[D]),A=$(ne,re,se,G,T,U[v[D]],C[1],m[D])):D<48?(x=O(j,F,X,z,Y,U[_[D]],w[2],y[D]),A=O(ne,re,se,G,T,U[v[D]],C[2],m[D])):D<64?(x=$(j,F,X,z,Y,U[_[D]],w[3],y[D]),A=R(ne,re,se,G,T,U[v[D]],C[3],m[D])):(x=I(j,F,X,z,Y,U[_[D]],w[4],y[D]),A=S(ne,re,se,G,T,U[v[D]],C[4],m[D])),j=Y,Y=z,z=E(X,10),X=F,F=x,ne=T,T=G,G=E(se,10),se=re,re=A}var B=this._b+X+G|0;this._b=this._c+z+T|0,this._c=this._d+Y+ne|0,this._d=this._e+j+re|0,this._e=this._a+F+se|0,this._a=B},b.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var U=f.alloc?f.alloc(20):new f(20);return U.writeInt32LE(this._a,0),U.writeInt32LE(this._b,4),U.writeInt32LE(this._c,8),U.writeInt32LE(this._d,12),U.writeInt32LE(this._e,16),U};function E(U,L){return U<<L|U>>>32-L}function S(U,L,j,F,X,z,Y,ne){return E(U+(L^j^F)+z+Y|0,ne)+X|0}function R(U,L,j,F,X,z,Y,ne){return E(U+(L&j|~L&F)+z+Y|0,ne)+X|0}function O(U,L,j,F,X,z,Y,ne){return E(U+((L|~j)^F)+z+Y|0,ne)+X|0}function $(U,L,j,F,X,z,Y,ne){return E(U+(L&F|j&~F)+z+Y|0,ne)+X|0}function I(U,L,j,F,X,z,Y,ne){return E(U+(L^(j|~F))+z+Y|0,ne)+X|0}return ripemd160$1=b,ripemd160$1}var sha_js={exports:{}},hash$1,hasRequiredHash$1;function requireHash$1(){if(hasRequiredHash$1)return hash$1;hasRequiredHash$1=1;var f=safeBufferExports.Buffer;function r(d,g){this._block=f.alloc(d),this._finalSize=g,this._blockSize=d,this._len=0}return r.prototype.update=function(d,g){typeof d=="string"&&(g=g||"utf8",d=f.from(d,g));for(var _=this._block,v=this._blockSize,y=d.length,m=this._len,w=0;w<y;){for(var C=m%v,b=Math.min(y-w,v-C),E=0;E<b;E++)_[C+E]=d[w+E];m+=b,w+=b,m%v===0&&this._update(_)}return this._len+=y,this},r.prototype.digest=function(d){var g=this._len%this._blockSize;this._block[g]=128,this._block.fill(0,g+1),g>=this._finalSize&&(this._update(this._block),this._block.fill(0));var _=this._len*8;if(_<=4294967295)this._block.writeUInt32BE(_,this._blockSize-4);else{var v=(_&4294967295)>>>0,y=(_-v)/4294967296;this._block.writeUInt32BE(y,this._blockSize-8),this._block.writeUInt32BE(v,this._blockSize-4)}this._update(this._block);var m=this._hash();return d?m.toString(d):m},r.prototype._update=function(){throw new Error("_update must be implemented by subclass")},hash$1=r,hash$1}var sha$2,hasRequiredSha$1;function requireSha$1(){if(hasRequiredSha$1)return sha$2;hasRequiredSha$1=1;var f=requireInherits_browser(),r=requireHash$1(),d=safeBufferExports.Buffer,g=[1518500249,1859775393,-1894007588,-899497514],_=new Array(80);function v(){this.init(),this._w=_,r.call(this,64,56)}f(v,r),v.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function y(C){return C<<5|C>>>27}function m(C){return C<<30|C>>>2}function w(C,b,E,S){return C===0?b&E|~b&S:C===2?b&E|b&S|E&S:b^E^S}return v.prototype._update=function(C){for(var b=this._w,E=this._a|0,S=this._b|0,R=this._c|0,O=this._d|0,$=this._e|0,I=0;I<16;++I)b[I]=C.readInt32BE(I*4);for(;I<80;++I)b[I]=b[I-3]^b[I-8]^b[I-14]^b[I-16];for(var U=0;U<80;++U){var L=~~(U/20),j=y(E)+w(L,S,R,O)+$+b[U]+g[L]|0;$=O,O=R,R=m(S),S=E,E=j}this._a=E+this._a|0,this._b=S+this._b|0,this._c=R+this._c|0,this._d=O+this._d|0,this._e=$+this._e|0},v.prototype._hash=function(){var C=d.allocUnsafe(20);return C.writeInt32BE(this._a|0,0),C.writeInt32BE(this._b|0,4),C.writeInt32BE(this._c|0,8),C.writeInt32BE(this._d|0,12),C.writeInt32BE(this._e|0,16),C},sha$2=v,sha$2}var sha1$1,hasRequiredSha1$1;function requireSha1$1(){if(hasRequiredSha1$1)return sha1$1;hasRequiredSha1$1=1;var f=requireInherits_browser(),r=requireHash$1(),d=safeBufferExports.Buffer,g=[1518500249,1859775393,-1894007588,-899497514],_=new Array(80);function v(){this.init(),this._w=_,r.call(this,64,56)}f(v,r),v.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function y(b){return b<<1|b>>>31}function m(b){return b<<5|b>>>27}function w(b){return b<<30|b>>>2}function C(b,E,S,R){return b===0?E&S|~E&R:b===2?E&S|E&R|S&R:E^S^R}return v.prototype._update=function(b){for(var E=this._w,S=this._a|0,R=this._b|0,O=this._c|0,$=this._d|0,I=this._e|0,U=0;U<16;++U)E[U]=b.readInt32BE(U*4);for(;U<80;++U)E[U]=y(E[U-3]^E[U-8]^E[U-14]^E[U-16]);for(var L=0;L<80;++L){var j=~~(L/20),F=m(S)+C(j,R,O,$)+I+E[L]+g[j]|0;I=$,$=O,O=w(R),R=S,S=F}this._a=S+this._a|0,this._b=R+this._b|0,this._c=O+this._c|0,this._d=$+this._d|0,this._e=I+this._e|0},v.prototype._hash=function(){var b=d.allocUnsafe(20);return b.writeInt32BE(this._a|0,0),b.writeInt32BE(this._b|0,4),b.writeInt32BE(this._c|0,8),b.writeInt32BE(this._d|0,12),b.writeInt32BE(this._e|0,16),b},sha1$1=v,sha1$1}var sha256$4,hasRequiredSha256$1;function requireSha256$1(){if(hasRequiredSha256$1)return sha256$4;hasRequiredSha256$1=1;var f=requireInherits_browser(),r=requireHash$1(),d=safeBufferExports.Buffer,g=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],_=new Array(64);function v(){this.init(),this._w=_,r.call(this,64,56)}f(v,r),v.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function y(S,R,O){return O^S&(R^O)}function m(S,R,O){return S&R|O&(S|R)}function w(S){return(S>>>2|S<<30)^(S>>>13|S<<19)^(S>>>22|S<<10)}function C(S){return(S>>>6|S<<26)^(S>>>11|S<<21)^(S>>>25|S<<7)}function b(S){return(S>>>7|S<<25)^(S>>>18|S<<14)^S>>>3}function E(S){return(S>>>17|S<<15)^(S>>>19|S<<13)^S>>>10}return v.prototype._update=function(S){for(var R=this._w,O=this._a|0,$=this._b|0,I=this._c|0,U=this._d|0,L=this._e|0,j=this._f|0,F=this._g|0,X=this._h|0,z=0;z<16;++z)R[z]=S.readInt32BE(z*4);for(;z<64;++z)R[z]=E(R[z-2])+R[z-7]+b(R[z-15])+R[z-16]|0;for(var Y=0;Y<64;++Y){var ne=X+C(L)+y(L,j,F)+g[Y]+R[Y]|0,re=w(O)+m(O,$,I)|0;X=F,F=j,j=L,L=U+ne|0,U=I,I=$,$=O,O=ne+re|0}this._a=O+this._a|0,this._b=$+this._b|0,this._c=I+this._c|0,this._d=U+this._d|0,this._e=L+this._e|0,this._f=j+this._f|0,this._g=F+this._g|0,this._h=X+this._h|0},v.prototype._hash=function(){var S=d.allocUnsafe(32);return S.writeInt32BE(this._a,0),S.writeInt32BE(this._b,4),S.writeInt32BE(this._c,8),S.writeInt32BE(this._d,12),S.writeInt32BE(this._e,16),S.writeInt32BE(this._f,20),S.writeInt32BE(this._g,24),S.writeInt32BE(this._h,28),S},sha256$4=v,sha256$4}var sha224$2,hasRequiredSha224$1;function requireSha224$1(){if(hasRequiredSha224$1)return sha224$2;hasRequiredSha224$1=1;var f=requireInherits_browser(),r=requireSha256$1(),d=requireHash$1(),g=safeBufferExports.Buffer,_=new Array(64);function v(){this.init(),this._w=_,d.call(this,64,56)}return f(v,r),v.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},v.prototype._hash=function(){var y=g.allocUnsafe(28);return y.writeInt32BE(this._a,0),y.writeInt32BE(this._b,4),y.writeInt32BE(this._c,8),y.writeInt32BE(this._d,12),y.writeInt32BE(this._e,16),y.writeInt32BE(this._f,20),y.writeInt32BE(this._g,24),y},sha224$2=v,sha224$2}var sha512$4,hasRequiredSha512$1;function requireSha512$1(){if(hasRequiredSha512$1)return sha512$4;hasRequiredSha512$1=1;var f=requireInherits_browser(),r=requireHash$1(),d=safeBufferExports.Buffer,g=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],_=new Array(160);function v(){this.init(),this._w=_,r.call(this,128,112)}f(v,r),v.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this};function y($,I,U){return U^$&(I^U)}function m($,I,U){return $&I|U&($|I)}function w($,I){return($>>>28|I<<4)^(I>>>2|$<<30)^(I>>>7|$<<25)}function C($,I){return($>>>14|I<<18)^($>>>18|I<<14)^(I>>>9|$<<23)}function b($,I){return($>>>1|I<<31)^($>>>8|I<<24)^$>>>7}function E($,I){return($>>>1|I<<31)^($>>>8|I<<24)^($>>>7|I<<25)}function S($,I){return($>>>19|I<<13)^(I>>>29|$<<3)^$>>>6}function R($,I){return($>>>19|I<<13)^(I>>>29|$<<3)^($>>>6|I<<26)}function O($,I){return $>>>0<I>>>0?1:0}return v.prototype._update=function($){for(var I=this._w,U=this._ah|0,L=this._bh|0,j=this._ch|0,F=this._dh|0,X=this._eh|0,z=this._fh|0,Y=this._gh|0,ne=this._hh|0,re=this._al|0,se=this._bl|0,G=this._cl|0,T=this._dl|0,D=this._el|0,x=this._fl|0,A=this._gl|0,B=this._hl|0,N=0;N<32;N+=2)I[N]=$.readInt32BE(N*4),I[N+1]=$.readInt32BE(N*4+4);for(;N<160;N+=2){var q=I[N-30],K=I[N-15*2+1],P=b(q,K),k=E(K,q);q=I[N-2*2],K=I[N-2*2+1];var M=S(q,K),W=R(K,q),ce=I[N-7*2],be=I[N-7*2+1],ve=I[N-16*2],Z=I[N-16*2+1],J=k+be|0,oe=P+ce+O(J,k)|0;J=J+W|0,oe=oe+M+O(J,W)|0,J=J+Z|0,oe=oe+ve+O(J,Z)|0,I[N]=oe,I[N+1]=J}for(var H=0;H<160;H+=2){oe=I[H],J=I[H+1];var Q=m(U,L,j),ie=m(re,se,G),we=w(U,re),Se=w(re,U),De=C(X,D),Ie=C(D,X),qe=g[H],Ne=g[H+1],Me=y(X,z,Y),Ve=y(D,x,A),Ke=B+Ie|0,ot=ne+De+O(Ke,B)|0;Ke=Ke+Ve|0,ot=ot+Me+O(Ke,Ve)|0,Ke=Ke+Ne|0,ot=ot+qe+O(Ke,Ne)|0,Ke=Ke+J|0,ot=ot+oe+O(Ke,J)|0;var Je=Se+ie|0,We=we+Q+O(Je,Se)|0;ne=Y,B=A,Y=z,A=x,z=X,x=D,D=T+Ke|0,X=F+ot+O(D,T)|0,F=j,T=G,j=L,G=se,L=U,se=re,re=Ke+Je|0,U=ot+We+O(re,Ke)|0}this._al=this._al+re|0,this._bl=this._bl+se|0,this._cl=this._cl+G|0,this._dl=this._dl+T|0,this._el=this._el+D|0,this._fl=this._fl+x|0,this._gl=this._gl+A|0,this._hl=this._hl+B|0,this._ah=this._ah+U+O(this._al,re)|0,this._bh=this._bh+L+O(this._bl,se)|0,this._ch=this._ch+j+O(this._cl,G)|0,this._dh=this._dh+F+O(this._dl,T)|0,this._eh=this._eh+X+O(this._el,D)|0,this._fh=this._fh+z+O(this._fl,x)|0,this._gh=this._gh+Y+O(this._gl,A)|0,this._hh=this._hh+ne+O(this._hl,B)|0},v.prototype._hash=function(){var $=d.allocUnsafe(64);function I(U,L,j){$.writeInt32BE(U,j),$.writeInt32BE(L,j+4)}return I(this._ah,this._al,0),I(this._bh,this._bl,8),I(this._ch,this._cl,16),I(this._dh,this._dl,24),I(this._eh,this._el,32),I(this._fh,this._fl,40),I(this._gh,this._gl,48),I(this._hh,this._hl,56),$},sha512$4=v,sha512$4}var sha384$2,hasRequiredSha384$1;function requireSha384$1(){if(hasRequiredSha384$1)return sha384$2;hasRequiredSha384$1=1;var f=requireInherits_browser(),r=requireSha512$1(),d=requireHash$1(),g=safeBufferExports.Buffer,_=new Array(160);function v(){this.init(),this._w=_,d.call(this,128,112)}return f(v,r),v.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},v.prototype._hash=function(){var y=g.allocUnsafe(48);function m(w,C,b){y.writeInt32BE(w,b),y.writeInt32BE(C,b+4)}return m(this._ah,this._al,0),m(this._bh,this._bl,8),m(this._ch,this._cl,16),m(this._dh,this._dl,24),m(this._eh,this._el,32),m(this._fh,this._fl,40),y},sha384$2=v,sha384$2}var hasRequiredSha_js;function requireSha_js(){if(hasRequiredSha_js)return sha_js.exports;hasRequiredSha_js=1;var f=sha_js.exports=function(d){d=d.toLowerCase();var g=f[d];if(!g)throw new Error(d+" is not supported (we accept pull requests)");return new g};return f.sha=requireSha$1(),f.sha1=requireSha1$1(),f.sha224=requireSha224$1(),f.sha256=requireSha256$1(),f.sha384=requireSha384$1(),f.sha512=requireSha512$1(),sha_js.exports}var streamBrowserify,hasRequiredStreamBrowserify;function requireStreamBrowserify(){if(hasRequiredStreamBrowserify)return streamBrowserify;hasRequiredStreamBrowserify=1,streamBrowserify=d;var f=requireEvents().EventEmitter,r=requireInherits_browser();r(d,f),d.Readable=require_stream_readable$1(),d.Writable=require_stream_writable$1(),d.Duplex=require_stream_duplex$1(),d.Transform=require_stream_transform$1(),d.PassThrough=require_stream_passthrough$1(),d.finished=requireEndOfStream(),d.pipeline=requirePipeline(),d.Stream=d;function d(){f.call(this)}return d.prototype.pipe=function(g,_){var v=this;function y(R){g.writable&&g.write(R)===!1&&v.pause&&v.pause()}v.on("data",y);function m(){v.readable&&v.resume&&v.resume()}g.on("drain",m),!g._isStdio&&(!_||_.end!==!1)&&(v.on("end",C),v.on("close",b));var w=!1;function C(){w||(w=!0,g.end())}function b(){w||(w=!0,typeof g.destroy=="function"&&g.destroy())}function E(R){if(S(),f.listenerCount(this,"error")===0)throw R}v.on("error",E),g.on("error",E);function S(){v.removeListener("data",y),g.removeListener("drain",m),v.removeListener("end",C),v.removeListener("close",b),v.removeListener("error",E),g.removeListener("error",E),v.removeListener("end",S),v.removeListener("close",S),g.removeListener("close",S)}return v.on("end",S),v.on("close",S),g.on("close",S),g.emit("pipe",v),g},streamBrowserify}var cipherBase,hasRequiredCipherBase;function requireCipherBase(){if(hasRequiredCipherBase)return cipherBase;hasRequiredCipherBase=1;var f=safeBufferExports.Buffer,r=requireStreamBrowserify().Transform,d=requireString_decoder().StringDecoder,g=requireInherits_browser();function _(w){r.call(this),this.hashMode=typeof w=="string",this.hashMode?this[w]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}g(_,r);var v=typeof Uint8Array<"u",y=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&ArrayBuffer.isView&&(f.prototype instanceof Uint8Array||f.TYPED_ARRAY_SUPPORT);function m(w,C){if(w instanceof f)return w;if(typeof w=="string")return f.from(w,C);if(y&&ArrayBuffer.isView(w)){if(w.byteLength===0)return f.alloc(0);var b=f.from(w.buffer,w.byteOffset,w.byteLength);if(b.byteLength===w.byteLength)return b}if(v&&w instanceof Uint8Array||f.isBuffer(w)&&w.constructor&&typeof w.constructor.isBuffer=="function"&&w.constructor.isBuffer(w))return f.from(w);throw new TypeError('The "data" argument must be of type string or an instance of Buffer, TypedArray, or DataView.')}return _.prototype.update=function(w,C,b){var E=m(w,C),S=this._update(E);return this.hashMode?this:(b&&(S=this._toString(S,b)),S)},_.prototype.setAutoPadding=function(){},_.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},_.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},_.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},_.prototype._transform=function(w,C,b){var E;try{this.hashMode?this._update(w):this.push(this._update(w))}catch(S){E=S}finally{b(E)}},_.prototype._flush=function(w){var C;try{this.push(this.__final())}catch(b){C=b}w(C)},_.prototype._finalOrDigest=function(w){var C=this.__final()||f.alloc(0);return w&&(C=this._toString(C,w,!0)),C},_.prototype._toString=function(w,C,b){if(this._decoder||(this._decoder=new d(C),this._encoding=C),this._encoding!==C)throw new Error("can’t switch encodings");var E=this._decoder.write(w);return b&&(E+=this._decoder.end()),E},cipherBase=_,cipherBase}var browser$a,hasRequiredBrowser$9;function requireBrowser$9(){if(hasRequiredBrowser$9)return browser$a;hasRequiredBrowser$9=1;var f=requireInherits_browser(),r=requireMd5_js(),d=requireRipemd160$1(),g=requireSha_js(),_=requireCipherBase();function v(y){_.call(this,"digest"),this._hash=y}return f(v,_),v.prototype._update=function(y){this._hash.update(y)},v.prototype._final=function(){return this._hash.digest()},browser$a=function(m){return m=m.toLowerCase(),m==="md5"?new r:m==="rmd160"||m==="ripemd160"?new d:new v(g(m))},browser$a}var legacy,hasRequiredLegacy;function requireLegacy(){if(hasRequiredLegacy)return legacy;hasRequiredLegacy=1;var f=requireInherits_browser(),r=safeBufferExports.Buffer,d=requireCipherBase(),g=r.alloc(128),_=64;function v(y,m){d.call(this,"digest"),typeof m=="string"&&(m=r.from(m)),this._alg=y,this._key=m,m.length>_?m=y(m):m.length<_&&(m=r.concat([m,g],_));for(var w=this._ipad=r.allocUnsafe(_),C=this._opad=r.allocUnsafe(_),b=0;b<_;b++)w[b]=m[b]^54,C[b]=m[b]^92;this._hash=[w]}return f(v,d),v.prototype._update=function(y){this._hash.push(y)},v.prototype._final=function(){var y=this._alg(r.concat(this._hash));return this._alg(r.concat([this._opad,y]))},legacy=v,legacy}var md5$1,hasRequiredMd5$1;function requireMd5$1(){if(hasRequiredMd5$1)return md5$1;hasRequiredMd5$1=1;var f=requireMd5_js();return md5$1=function(r){return new f().update(r).digest()},md5$1}var browser$9,hasRequiredBrowser$8;function requireBrowser$8(){if(hasRequiredBrowser$8)return browser$9;hasRequiredBrowser$8=1;var f=requireInherits_browser(),r=requireLegacy(),d=requireCipherBase(),g=safeBufferExports.Buffer,_=requireMd5$1(),v=requireRipemd160$1(),y=requireSha_js(),m=g.alloc(128);function w(C,b){d.call(this,"digest"),typeof b=="string"&&(b=g.from(b));var E=C==="sha512"||C==="sha384"?128:64;if(this._alg=C,this._key=b,b.length>E){var S=C==="rmd160"?new v:y(C);b=S.update(b).digest()}else b.length<E&&(b=g.concat([b,m],E));for(var R=this._ipad=g.allocUnsafe(E),O=this._opad=g.allocUnsafe(E),$=0;$<E;$++)R[$]=b[$]^54,O[$]=b[$]^92;this._hash=C==="rmd160"?new v:y(C),this._hash.update(R)}return f(w,d),w.prototype._update=function(C){this._hash.update(C)},w.prototype._final=function(){var C=this._hash.digest(),b=this._alg==="rmd160"?new v:y(this._alg);return b.update(this._opad).update(C).digest()},browser$9=function(b,E){return b=b.toLowerCase(),b==="rmd160"||b==="ripemd160"?new w("rmd160",E):b==="md5"?new r(_,E):new w(b,E)},browser$9}const sha224WithRSAEncryption={sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption={sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption={sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption={sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},sha256$3={sign:"ecdsa",hash:"sha256",id:""},sha224$1={sign:"ecdsa",hash:"sha224",id:""},sha384$1={sign:"ecdsa",hash:"sha384",id:""},sha512$3={sign:"ecdsa",hash:"sha512",id:""},DSA={sign:"dsa",hash:"sha1",id:""},ripemd160WithRSA={sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption={sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},require$$6={sha224WithRSAEncryption,"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption,"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption,"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption,"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:sha256$3,sha224:sha224$1,sha384:sha384$1,sha512:sha512$3,"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA,"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA,"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption,"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}};var algos,hasRequiredAlgos;function requireAlgos(){return hasRequiredAlgos||(hasRequiredAlgos=1,algos=require$$6),algos}var browser$8={},precondition,hasRequiredPrecondition;function requirePrecondition(){if(hasRequiredPrecondition)return precondition;hasRequiredPrecondition=1;var f=Math.pow(2,30)-1;return precondition=function(r,d){if(typeof r!="number")throw new TypeError("Iterations not a number");if(r<0)throw new TypeError("Bad iterations");if(typeof d!="number")throw new TypeError("Key length not a number");if(d<0||d>f||d!==d)throw new TypeError("Bad key length")},precondition}var defaultEncoding_1,hasRequiredDefaultEncoding;function requireDefaultEncoding(){if(hasRequiredDefaultEncoding)return defaultEncoding_1;hasRequiredDefaultEncoding=1;var f;if(commonjsGlobal.process&&commonjsGlobal.process.browser)f="utf-8";else if(commonjsGlobal.process&&commonjsGlobal.process.version){var r=parseInt(process$1.version.split(".")[0].slice(1),10);f=r>=6?"utf-8":"binary"}else f="utf-8";return defaultEncoding_1=f,defaultEncoding_1}var toBuffer,hasRequiredToBuffer;function requireToBuffer(){if(hasRequiredToBuffer)return toBuffer;hasRequiredToBuffer=1;var f=safeBufferExports.Buffer;return toBuffer=function(r,d,g){if(f.isBuffer(r))return r;if(typeof r=="string")return f.from(r,d);if(ArrayBuffer.isView(r))return f.from(r.buffer);throw new TypeError(g+" must be a string, a Buffer, a typed array or a DataView")},toBuffer}var syncBrowser,hasRequiredSyncBrowser;function requireSyncBrowser(){if(hasRequiredSyncBrowser)return syncBrowser;hasRequiredSyncBrowser=1;var f=requireMd5$1(),r=requireRipemd160$1(),d=requireSha_js(),g=safeBufferExports.Buffer,_=requirePrecondition(),v=requireDefaultEncoding(),y=requireToBuffer(),m=g.alloc(128),w={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function C(S,R,O){var $=b(S),I=S==="sha512"||S==="sha384"?128:64;R.length>I?R=$(R):R.length<I&&(R=g.concat([R,m],I));for(var U=g.allocUnsafe(I+w[S]),L=g.allocUnsafe(I+w[S]),j=0;j<I;j++)U[j]=R[j]^54,L[j]=R[j]^92;var F=g.allocUnsafe(I+O+4);U.copy(F,0,0,I),this.ipad1=F,this.ipad2=U,this.opad=L,this.alg=S,this.blocksize=I,this.hash=$,this.size=w[S]}C.prototype.run=function(S,R){S.copy(R,this.blocksize);var O=this.hash(R);return O.copy(this.opad,this.blocksize),this.hash(this.opad)};function b(S){function R($){return d(S).update($).digest()}function O($){return new r().update($).digest()}return S==="rmd160"||S==="ripemd160"?O:S==="md5"?f:R}function E(S,R,O,$,I){_(O,$),S=y(S,v,"Password"),R=y(R,v,"Salt"),I=I||"sha1";var U=new C(I,S,R.length),L=g.allocUnsafe($),j=g.allocUnsafe(R.length+4);R.copy(j,0,0,R.length);for(var F=0,X=w[I],z=Math.ceil($/X),Y=1;Y<=z;Y++){j.writeUInt32BE(Y,R.length);for(var ne=U.run(j,U.ipad1),re=ne,se=1;se<O;se++){re=U.run(re,U.ipad2);for(var G=0;G<X;G++)ne[G]^=re[G]}ne.copy(L,F),F+=X}return L}return syncBrowser=E,syncBrowser}var async,hasRequiredAsync;function requireAsync(){if(hasRequiredAsync)return async;hasRequiredAsync=1;var f=safeBufferExports.Buffer,r=requirePrecondition(),d=requireDefaultEncoding(),g=requireSyncBrowser(),_=requireToBuffer(),v,y=commonjsGlobal.crypto&&commonjsGlobal.crypto.subtle,m={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},w=[];function C(O){if(commonjsGlobal.process&&!commonjsGlobal.process.browser||!y||!y.importKey||!y.deriveBits)return Promise.resolve(!1);if(w[O]!==void 0)return w[O];v=v||f.alloc(8);var $=S(v,v,10,128,O).then(function(){return!0}).catch(function(){return!1});return w[O]=$,$}var b;function E(){return b||(commonjsGlobal.process&&commonjsGlobal.process.nextTick?b=commonjsGlobal.process.nextTick:commonjsGlobal.queueMicrotask?b=commonjsGlobal.queueMicrotask:commonjsGlobal.setImmediate?b=commonjsGlobal.setImmediate:b=commonjsGlobal.setTimeout,b)}function S(O,$,I,U,L){return y.importKey("raw",O,{name:"PBKDF2"},!1,["deriveBits"]).then(function(j){return y.deriveBits({name:"PBKDF2",salt:$,iterations:I,hash:{name:L}},j,U<<3)}).then(function(j){return f.from(j)})}function R(O,$){O.then(function(I){E()(function(){$(null,I)})},function(I){E()(function(){$(I)})})}return async=function(O,$,I,U,L,j){typeof L=="function"&&(j=L,L=void 0),L=L||"sha1";var F=m[L.toLowerCase()];if(!F||typeof commonjsGlobal.Promise!="function"){E()(function(){var X;try{X=g(O,$,I,U,L)}catch(z){return j(z)}j(null,X)});return}if(r(I,U),O=_(O,d,"Password"),$=_($,d,"Salt"),typeof j!="function")throw new Error("No callback provided to pbkdf2");R(C(F).then(function(X){return X?S(O,$,I,U,F):g(O,$,I,U,L)}),j)},async}var hasRequiredBrowser$7;function requireBrowser$7(){return hasRequiredBrowser$7||(hasRequiredBrowser$7=1,browser$8.pbkdf2=requireAsync(),browser$8.pbkdf2Sync=requireSyncBrowser()),browser$8}var browser$7={},des$1={},utils$8={},hasRequiredUtils$5;function requireUtils$5(){if(hasRequiredUtils$5)return utils$8;hasRequiredUtils$5=1,utils$8.readUInt32BE=function(_,v){var y=_[0+v]<<24|_[1+v]<<16|_[2+v]<<8|_[3+v];return y>>>0},utils$8.writeUInt32BE=function(_,v,y){_[0+y]=v>>>24,_[1+y]=v>>>16&255,_[2+y]=v>>>8&255,_[3+y]=v&255},utils$8.ip=function(_,v,y,m){for(var w=0,C=0,b=6;b>=0;b-=2){for(var E=0;E<=24;E+=8)w<<=1,w|=v>>>E+b&1;for(var E=0;E<=24;E+=8)w<<=1,w|=_>>>E+b&1}for(var b=6;b>=0;b-=2){for(var E=1;E<=25;E+=8)C<<=1,C|=v>>>E+b&1;for(var E=1;E<=25;E+=8)C<<=1,C|=_>>>E+b&1}y[m+0]=w>>>0,y[m+1]=C>>>0},utils$8.rip=function(_,v,y,m){for(var w=0,C=0,b=0;b<4;b++)for(var E=24;E>=0;E-=8)w<<=1,w|=v>>>E+b&1,w<<=1,w|=_>>>E+b&1;for(var b=4;b<8;b++)for(var E=24;E>=0;E-=8)C<<=1,C|=v>>>E+b&1,C<<=1,C|=_>>>E+b&1;y[m+0]=w>>>0,y[m+1]=C>>>0},utils$8.pc1=function(_,v,y,m){for(var w=0,C=0,b=7;b>=5;b--){for(var E=0;E<=24;E+=8)w<<=1,w|=v>>E+b&1;for(var E=0;E<=24;E+=8)w<<=1,w|=_>>E+b&1}for(var E=0;E<=24;E+=8)w<<=1,w|=v>>E+b&1;for(var b=1;b<=3;b++){for(var E=0;E<=24;E+=8)C<<=1,C|=v>>E+b&1;for(var E=0;E<=24;E+=8)C<<=1,C|=_>>E+b&1}for(var E=0;E<=24;E+=8)C<<=1,C|=_>>E+b&1;y[m+0]=w>>>0,y[m+1]=C>>>0},utils$8.r28shl=function(_,v){return _<<v&268435455|_>>>28-v};var f=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];utils$8.pc2=function(_,v,y,m){for(var w=0,C=0,b=f.length>>>1,E=0;E<b;E++)w<<=1,w|=_>>>f[E]&1;for(var E=b;E<f.length;E++)C<<=1,C|=v>>>f[E]&1;y[m+0]=w>>>0,y[m+1]=C>>>0},utils$8.expand=function(_,v,y){var m=0,w=0;m=(_&1)<<5|_>>>27;for(var C=23;C>=15;C-=4)m<<=6,m|=_>>>C&63;for(var C=11;C>=3;C-=4)w|=_>>>C&63,w<<=6;w|=(_&31)<<1|_>>>31,v[y+0]=m>>>0,v[y+1]=w>>>0};var r=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];utils$8.substitute=function(_,v){for(var y=0,m=0;m<4;m++){var w=_>>>18-m*6&63,C=r[m*64+w];y<<=4,y|=C}for(var m=0;m<4;m++){var w=v>>>18-m*6&63,C=r[4*64+m*64+w];y<<=4,y|=C}return y>>>0};var d=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];return utils$8.permute=function(_){for(var v=0,y=0;y<d.length;y++)v<<=1,v|=_>>>d[y]&1;return v>>>0},utils$8.padSplit=function(_,v,y){for(var m=_.toString(2);m.length<v;)m="0"+m;for(var w=[],C=0;C<v;C+=y)w.push(m.slice(C,C+y));return w.join(" ")},utils$8}var minimalisticAssert,hasRequiredMinimalisticAssert;function requireMinimalisticAssert(){if(hasRequiredMinimalisticAssert)return minimalisticAssert;hasRequiredMinimalisticAssert=1,minimalisticAssert=f;function f(r,d){if(!r)throw new Error(d||"Assertion failed")}return f.equal=function(d,g,_){if(d!=g)throw new Error(_||"Assertion failed: "+d+" != "+g)},minimalisticAssert}var cipher,hasRequiredCipher;function requireCipher(){if(hasRequiredCipher)return cipher;hasRequiredCipher=1;var f=requireMinimalisticAssert();function r(d){this.options=d,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=d.padding!==!1}return cipher=r,r.prototype._init=function(){},r.prototype.update=function(g){return g.length===0?[]:this.type==="decrypt"?this._updateDecrypt(g):this._updateEncrypt(g)},r.prototype._buffer=function(g,_){for(var v=Math.min(this.buffer.length-this.bufferOff,g.length-_),y=0;y<v;y++)this.buffer[this.bufferOff+y]=g[_+y];return this.bufferOff+=v,v},r.prototype._flushBuffer=function(g,_){return this._update(this.buffer,0,g,_),this.bufferOff=0,this.blockSize},r.prototype._updateEncrypt=function(g){var _=0,v=0,y=(this.bufferOff+g.length)/this.blockSize|0,m=new Array(y*this.blockSize);this.bufferOff!==0&&(_+=this._buffer(g,_),this.bufferOff===this.buffer.length&&(v+=this._flushBuffer(m,v)));for(var w=g.length-(g.length-_)%this.blockSize;_<w;_+=this.blockSize)this._update(g,_,m,v),v+=this.blockSize;for(;_<g.length;_++,this.bufferOff++)this.buffer[this.bufferOff]=g[_];return m},r.prototype._updateDecrypt=function(g){for(var _=0,v=0,y=Math.ceil((this.bufferOff+g.length)/this.blockSize)-1,m=new Array(y*this.blockSize);y>0;y--)_+=this._buffer(g,_),v+=this._flushBuffer(m,v);return _+=this._buffer(g,_),m},r.prototype.final=function(g){var _;g&&(_=this.update(g));var v;return this.type==="encrypt"?v=this._finalEncrypt():v=this._finalDecrypt(),_?_.concat(v):v},r.prototype._pad=function(g,_){if(_===0)return!1;for(;_<g.length;)g[_++]=0;return!0},r.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var g=new Array(this.blockSize);return this._update(this.buffer,0,g,0),g},r.prototype._unpad=function(g){return g},r.prototype._finalDecrypt=function(){f.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var g=new Array(this.blockSize);return this._flushBuffer(g,0),this._unpad(g)},cipher}var des,hasRequiredDes$1;function requireDes$1(){if(hasRequiredDes$1)return des;hasRequiredDes$1=1;var f=requireMinimalisticAssert(),r=requireInherits_browser(),d=requireUtils$5(),g=requireCipher();function _(){this.tmp=new Array(2),this.keys=null}function v(m){g.call(this,m);var w=new _;this._desState=w,this.deriveKeys(w,m.key)}r(v,g),des=v,v.create=function(w){return new v(w)};var y=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];return v.prototype.deriveKeys=function(w,C){w.keys=new Array(16*2),f.equal(C.length,this.blockSize,"Invalid key length");var b=d.readUInt32BE(C,0),E=d.readUInt32BE(C,4);d.pc1(b,E,w.tmp,0),b=w.tmp[0],E=w.tmp[1];for(var S=0;S<w.keys.length;S+=2){var R=y[S>>>1];b=d.r28shl(b,R),E=d.r28shl(E,R),d.pc2(b,E,w.keys,S)}},v.prototype._update=function(w,C,b,E){var S=this._desState,R=d.readUInt32BE(w,C),O=d.readUInt32BE(w,C+4);d.ip(R,O,S.tmp,0),R=S.tmp[0],O=S.tmp[1],this.type==="encrypt"?this._encrypt(S,R,O,S.tmp,0):this._decrypt(S,R,O,S.tmp,0),R=S.tmp[0],O=S.tmp[1],d.writeUInt32BE(b,R,E),d.writeUInt32BE(b,O,E+4)},v.prototype._pad=function(w,C){if(this.padding===!1)return!1;for(var b=w.length-C,E=C;E<w.length;E++)w[E]=b;return!0},v.prototype._unpad=function(w){if(this.padding===!1)return w;for(var C=w[w.length-1],b=w.length-C;b<w.length;b++)f.equal(w[b],C);return w.slice(0,w.length-C)},v.prototype._encrypt=function(w,C,b,E,S){for(var R=C,O=b,$=0;$<w.keys.length;$+=2){var I=w.keys[$],U=w.keys[$+1];d.expand(O,w.tmp,0),I^=w.tmp[0],U^=w.tmp[1];var L=d.substitute(I,U),j=d.permute(L),F=O;O=(R^j)>>>0,R=F}d.rip(O,R,E,S)},v.prototype._decrypt=function(w,C,b,E,S){for(var R=b,O=C,$=w.keys.length-2;$>=0;$-=2){var I=w.keys[$],U=w.keys[$+1];d.expand(R,w.tmp,0),I^=w.tmp[0],U^=w.tmp[1];var L=d.substitute(I,U),j=d.permute(L),F=R;R=(O^j)>>>0,O=F}d.rip(R,O,E,S)},des}var cbc$1={},hasRequiredCbc$1;function requireCbc$1(){if(hasRequiredCbc$1)return cbc$1;hasRequiredCbc$1=1;var f=requireMinimalisticAssert(),r=requireInherits_browser(),d={};function g(v){f.equal(v.length,8,"Invalid IV length"),this.iv=new Array(8);for(var y=0;y<this.iv.length;y++)this.iv[y]=v[y]}function _(v){function y(b){v.call(this,b),this._cbcInit()}r(y,v);for(var m=Object.keys(d),w=0;w<m.length;w++){var C=m[w];y.prototype[C]=d[C]}return y.create=function(E){return new y(E)},y}return cbc$1.instantiate=_,d._cbcInit=function(){var y=new g(this.options.iv);this._cbcState=y},d._update=function(y,m,w,C){var b=this._cbcState,E=this.constructor.super_.prototype,S=b.iv;if(this.type==="encrypt"){for(var R=0;R<this.blockSize;R++)S[R]^=y[m+R];E._update.call(this,S,0,w,C);for(var R=0;R<this.blockSize;R++)S[R]=w[C+R]}else{E._update.call(this,y,m,w,C);for(var R=0;R<this.blockSize;R++)w[C+R]^=S[R];for(var R=0;R<this.blockSize;R++)S[R]=y[m+R]}},cbc$1}var ede,hasRequiredEde;function requireEde(){if(hasRequiredEde)return ede;hasRequiredEde=1;var f=requireMinimalisticAssert(),r=requireInherits_browser(),d=requireCipher(),g=requireDes$1();function _(y,m){f.equal(m.length,24,"Invalid key length");var w=m.slice(0,8),C=m.slice(8,16),b=m.slice(16,24);y==="encrypt"?this.ciphers=[g.create({type:"encrypt",key:w}),g.create({type:"decrypt",key:C}),g.create({type:"encrypt",key:b})]:this.ciphers=[g.create({type:"decrypt",key:b}),g.create({type:"encrypt",key:C}),g.create({type:"decrypt",key:w})]}function v(y){d.call(this,y);var m=new _(this.type,this.options.key);this._edeState=m}return r(v,d),ede=v,v.create=function(m){return new v(m)},v.prototype._update=function(m,w,C,b){var E=this._edeState;E.ciphers[0]._update(m,w,C,b),E.ciphers[1]._update(C,b,C,b),E.ciphers[2]._update(C,b,C,b)},v.prototype._pad=g.prototype._pad,v.prototype._unpad=g.prototype._unpad,ede}var hasRequiredDes;function requireDes(){return hasRequiredDes||(hasRequiredDes=1,des$1.utils=requireUtils$5(),des$1.Cipher=requireCipher(),des$1.DES=requireDes$1(),des$1.CBC=requireCbc$1(),des$1.EDE=requireEde()),des$1}var browserifyDes,hasRequiredBrowserifyDes;function requireBrowserifyDes(){if(hasRequiredBrowserifyDes)return browserifyDes;hasRequiredBrowserifyDes=1;var f=requireCipherBase(),r=requireDes(),d=requireInherits_browser(),g=safeBufferExports.Buffer,_={"des-ede3-cbc":r.CBC.instantiate(r.EDE),"des-ede3":r.EDE,"des-ede-cbc":r.CBC.instantiate(r.EDE),"des-ede":r.EDE,"des-cbc":r.CBC.instantiate(r.DES),"des-ecb":r.DES};_.des=_["des-cbc"],_.des3=_["des-ede3-cbc"],browserifyDes=v,d(v,f);function v(y){f.call(this);var m=y.mode.toLowerCase(),w=_[m],C;y.decrypt?C="decrypt":C="encrypt";var b=y.key;g.isBuffer(b)||(b=g.from(b)),(m==="des-ede"||m==="des-ede-cbc")&&(b=g.concat([b,b.slice(0,8)]));var E=y.iv;g.isBuffer(E)||(E=g.from(E)),this._des=w.create({key:b,iv:E,type:C})}return v.prototype._update=function(y){return g.from(this._des.update(y))},v.prototype._final=function(){return g.from(this._des.final())},browserifyDes}var browser$6={},encrypter={},ecb={},hasRequiredEcb;function requireEcb(){return hasRequiredEcb||(hasRequiredEcb=1,ecb.encrypt=function(f,r){return f._cipher.encryptBlock(r)},ecb.decrypt=function(f,r){return f._cipher.decryptBlock(r)}),ecb}var cbc={},bufferXor,hasRequiredBufferXor;function requireBufferXor(){return hasRequiredBufferXor||(hasRequiredBufferXor=1,bufferXor=function(r,d){for(var g=Math.min(r.length,d.length),_=new Buffer(g),v=0;v<g;++v)_[v]=r[v]^d[v];return _}),bufferXor}var hasRequiredCbc;function requireCbc(){if(hasRequiredCbc)return cbc;hasRequiredCbc=1;var f=requireBufferXor();return cbc.encrypt=function(r,d){var g=f(d,r._prev);return r._prev=r._cipher.encryptBlock(g),r._prev},cbc.decrypt=function(r,d){var g=r._prev;r._prev=d;var _=r._cipher.decryptBlock(d);return f(_,g)},cbc}var cfb={},hasRequiredCfb;function requireCfb(){if(hasRequiredCfb)return cfb;hasRequiredCfb=1;var f=safeBufferExports.Buffer,r=requireBufferXor();function d(g,_,v){var y=_.length,m=r(_,g._cache);return g._cache=g._cache.slice(y),g._prev=f.concat([g._prev,v?_:m]),m}return cfb.encrypt=function(g,_,v){for(var y=f.allocUnsafe(0),m;_.length;)if(g._cache.length===0&&(g._cache=g._cipher.encryptBlock(g._prev),g._prev=f.allocUnsafe(0)),g._cache.length<=_.length)m=g._cache.length,y=f.concat([y,d(g,_.slice(0,m),v)]),_=_.slice(m);else{y=f.concat([y,d(g,_,v)]);break}return y},cfb}var cfb8={},hasRequiredCfb8;function requireCfb8(){if(hasRequiredCfb8)return cfb8;hasRequiredCfb8=1;var f=safeBufferExports.Buffer;function r(d,g,_){var v=d._cipher.encryptBlock(d._prev),y=v[0]^g;return d._prev=f.concat([d._prev.slice(1),f.from([_?g:y])]),y}return cfb8.encrypt=function(d,g,_){for(var v=g.length,y=f.allocUnsafe(v),m=-1;++m<v;)y[m]=r(d,g[m],_);return y},cfb8}var cfb1={},hasRequiredCfb1;function requireCfb1(){if(hasRequiredCfb1)return cfb1;hasRequiredCfb1=1;var f=safeBufferExports.Buffer;function r(g,_,v){for(var y,m=-1,w=8,C=0,b,E;++m<w;)y=g._cipher.encryptBlock(g._prev),b=_&1<<7-m?128:0,E=y[0]^b,C+=(E&128)>>m%8,g._prev=d(g._prev,v?b:E);return C}function d(g,_){var v=g.length,y=-1,m=f.allocUnsafe(g.length);for(g=f.concat([g,f.from([_])]);++y<v;)m[y]=g[y]<<1|g[y+1]>>7;return m}return cfb1.encrypt=function(g,_,v){for(var y=_.length,m=f.allocUnsafe(y),w=-1;++w<y;)m[w]=r(g,_[w],v);return m},cfb1}var ofb={},hasRequiredOfb;function requireOfb(){if(hasRequiredOfb)return ofb;hasRequiredOfb=1;var f=requireBufferXor();function r(d){return d._prev=d._cipher.encryptBlock(d._prev),d._prev}return ofb.encrypt=function(d,g){for(;d._cache.length<g.length;)d._cache=Buffer.concat([d._cache,r(d)]);var _=d._cache.slice(0,g.length);return d._cache=d._cache.slice(g.length),f(g,_)},ofb}var ctr={},incr32_1,hasRequiredIncr32;function requireIncr32(){if(hasRequiredIncr32)return incr32_1;hasRequiredIncr32=1;function f(r){for(var d=r.length,g;d--;)if(g=r.readUInt8(d),g===255)r.writeUInt8(0,d);else{g++,r.writeUInt8(g,d);break}}return incr32_1=f,incr32_1}var hasRequiredCtr;function requireCtr(){if(hasRequiredCtr)return ctr;hasRequiredCtr=1;var f=requireBufferXor(),r=safeBufferExports.Buffer,d=requireIncr32();function g(v){var y=v._cipher.encryptBlockRaw(v._prev);return d(v._prev),y}var _=16;return ctr.encrypt=function(v,y){var m=Math.ceil(y.length/_),w=v._cache.length;v._cache=r.concat([v._cache,r.allocUnsafe(m*_)]);for(var C=0;C<m;C++){var b=g(v),E=w+C*_;v._cache.writeUInt32BE(b[0],E+0),v._cache.writeUInt32BE(b[1],E+4),v._cache.writeUInt32BE(b[2],E+8),v._cache.writeUInt32BE(b[3],E+12)}var S=v._cache.slice(0,y.length);return v._cache=v._cache.slice(y.length),f(y,S)},ctr}const aes128={cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192={cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256={cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},require$$2$1={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128,aes192,aes256,"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}};var modes_1,hasRequiredModes$1;function requireModes$1(){if(hasRequiredModes$1)return modes_1;hasRequiredModes$1=1;var f={ECB:requireEcb(),CBC:requireCbc(),CFB:requireCfb(),CFB8:requireCfb8(),CFB1:requireCfb1(),OFB:requireOfb(),CTR:requireCtr(),GCM:requireCtr()},r=require$$2$1;for(var d in r)r[d].module=f[r[d].mode];return modes_1=r,modes_1}var aes$1={},hasRequiredAes$1;function requireAes$1(){if(hasRequiredAes$1)return aes$1;hasRequiredAes$1=1;var f=safeBufferExports.Buffer;function r(m){f.isBuffer(m)||(m=f.from(m));for(var w=m.length/4|0,C=new Array(w),b=0;b<w;b++)C[b]=m.readUInt32BE(b*4);return C}function d(m){for(var w=0;w<m.length;m++)m[w]=0}function g(m,w,C,b,E){for(var S=C[0],R=C[1],O=C[2],$=C[3],I=m[0]^w[0],U=m[1]^w[1],L=m[2]^w[2],j=m[3]^w[3],F,X,z,Y,ne=4,re=1;re<E;re++)F=S[I>>>24]^R[U>>>16&255]^O[L>>>8&255]^$[j&255]^w[ne++],X=S[U>>>24]^R[L>>>16&255]^O[j>>>8&255]^$[I&255]^w[ne++],z=S[L>>>24]^R[j>>>16&255]^O[I>>>8&255]^$[U&255]^w[ne++],Y=S[j>>>24]^R[I>>>16&255]^O[U>>>8&255]^$[L&255]^w[ne++],I=F,U=X,L=z,j=Y;return F=(b[I>>>24]<<24|b[U>>>16&255]<<16|b[L>>>8&255]<<8|b[j&255])^w[ne++],X=(b[U>>>24]<<24|b[L>>>16&255]<<16|b[j>>>8&255]<<8|b[I&255])^w[ne++],z=(b[L>>>24]<<24|b[j>>>16&255]<<16|b[I>>>8&255]<<8|b[U&255])^w[ne++],Y=(b[j>>>24]<<24|b[I>>>16&255]<<16|b[U>>>8&255]<<8|b[L&255])^w[ne++],F=F>>>0,X=X>>>0,z=z>>>0,Y=Y>>>0,[F,X,z,Y]}var _=[0,1,2,4,8,16,32,64,128,27,54],v=function(){for(var m=new Array(256),w=0;w<256;w++)w<128?m[w]=w<<1:m[w]=w<<1^283;for(var C=[],b=[],E=[[],[],[],[]],S=[[],[],[],[]],R=0,O=0,$=0;$<256;++$){var I=O^O<<1^O<<2^O<<3^O<<4;I=I>>>8^I&255^99,C[R]=I,b[I]=R;var U=m[R],L=m[U],j=m[L],F=m[I]*257^I*16843008;E[0][R]=F<<24|F>>>8,E[1][R]=F<<16|F>>>16,E[2][R]=F<<8|F>>>24,E[3][R]=F,F=j*16843009^L*65537^U*257^R*16843008,S[0][I]=F<<24|F>>>8,S[1][I]=F<<16|F>>>16,S[2][I]=F<<8|F>>>24,S[3][I]=F,R===0?R=O=1:(R=U^m[m[m[j^U]]],O^=m[m[O]])}return{SBOX:C,INV_SBOX:b,SUB_MIX:E,INV_SUB_MIX:S}}();function y(m){this._key=r(m),this._reset()}return y.blockSize=4*4,y.keySize=256/8,y.prototype.blockSize=y.blockSize,y.prototype.keySize=y.keySize,y.prototype._reset=function(){for(var m=this._key,w=m.length,C=w+6,b=(C+1)*4,E=[],S=0;S<w;S++)E[S]=m[S];for(S=w;S<b;S++){var R=E[S-1];S%w===0?(R=R<<8|R>>>24,R=v.SBOX[R>>>24]<<24|v.SBOX[R>>>16&255]<<16|v.SBOX[R>>>8&255]<<8|v.SBOX[R&255],R^=_[S/w|0]<<24):w>6&&S%w===4&&(R=v.SBOX[R>>>24]<<24|v.SBOX[R>>>16&255]<<16|v.SBOX[R>>>8&255]<<8|v.SBOX[R&255]),E[S]=E[S-w]^R}for(var O=[],$=0;$<b;$++){var I=b-$,U=E[I-($%4?0:4)];$<4||I<=4?O[$]=U:O[$]=v.INV_SUB_MIX[0][v.SBOX[U>>>24]]^v.INV_SUB_MIX[1][v.SBOX[U>>>16&255]]^v.INV_SUB_MIX[2][v.SBOX[U>>>8&255]]^v.INV_SUB_MIX[3][v.SBOX[U&255]]}this._nRounds=C,this._keySchedule=E,this._invKeySchedule=O},y.prototype.encryptBlockRaw=function(m){return m=r(m),g(m,this._keySchedule,v.SUB_MIX,v.SBOX,this._nRounds)},y.prototype.encryptBlock=function(m){var w=this.encryptBlockRaw(m),C=f.allocUnsafe(16);return C.writeUInt32BE(w[0],0),C.writeUInt32BE(w[1],4),C.writeUInt32BE(w[2],8),C.writeUInt32BE(w[3],12),C},y.prototype.decryptBlock=function(m){m=r(m);var w=m[1];m[1]=m[3],m[3]=w;var C=g(m,this._invKeySchedule,v.INV_SUB_MIX,v.INV_SBOX,this._nRounds),b=f.allocUnsafe(16);return b.writeUInt32BE(C[0],0),b.writeUInt32BE(C[3],4),b.writeUInt32BE(C[2],8),b.writeUInt32BE(C[1],12),b},y.prototype.scrub=function(){d(this._keySchedule),d(this._invKeySchedule),d(this._key)},aes$1.AES=y,aes$1}var ghash,hasRequiredGhash;function requireGhash(){if(hasRequiredGhash)return ghash;hasRequiredGhash=1;var f=safeBufferExports.Buffer,r=f.alloc(16,0);function d(v){return[v.readUInt32BE(0),v.readUInt32BE(4),v.readUInt32BE(8),v.readUInt32BE(12)]}function g(v){var y=f.allocUnsafe(16);return y.writeUInt32BE(v[0]>>>0,0),y.writeUInt32BE(v[1]>>>0,4),y.writeUInt32BE(v[2]>>>0,8),y.writeUInt32BE(v[3]>>>0,12),y}function _(v){this.h=v,this.state=f.alloc(16,0),this.cache=f.allocUnsafe(0)}return _.prototype.ghash=function(v){for(var y=-1;++y<v.length;)this.state[y]^=v[y];this._multiply()},_.prototype._multiply=function(){for(var v=d(this.h),y=[0,0,0,0],m,w,C,b=-1;++b<128;){for(w=(this.state[~~(b/8)]&1<<7-b%8)!==0,w&&(y[0]^=v[0],y[1]^=v[1],y[2]^=v[2],y[3]^=v[3]),C=(v[3]&1)!==0,m=3;m>0;m--)v[m]=v[m]>>>1|(v[m-1]&1)<<31;v[0]=v[0]>>>1,C&&(v[0]=v[0]^225<<24)}this.state=g(y)},_.prototype.update=function(v){this.cache=f.concat([this.cache,v]);for(var y;this.cache.length>=16;)y=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(y)},_.prototype.final=function(v,y){return this.cache.length&&this.ghash(f.concat([this.cache,r],16)),this.ghash(g([0,v,0,y])),this.state},ghash=_,ghash}var authCipher,hasRequiredAuthCipher;function requireAuthCipher(){if(hasRequiredAuthCipher)return authCipher;hasRequiredAuthCipher=1;var f=requireAes$1(),r=safeBufferExports.Buffer,d=requireCipherBase(),g=requireInherits_browser(),_=requireGhash(),v=requireBufferXor(),y=requireIncr32();function m(b,E){var S=0;b.length!==E.length&&S++;for(var R=Math.min(b.length,E.length),O=0;O<R;++O)S+=b[O]^E[O];return S}function w(b,E,S){if(E.length===12)return b._finID=r.concat([E,r.from([0,0,0,1])]),r.concat([E,r.from([0,0,0,2])]);var R=new _(S),O=E.length,$=O%16;R.update(E),$&&($=16-$,R.update(r.alloc($,0))),R.update(r.alloc(8,0));var I=O*8,U=r.alloc(8);U.writeUIntBE(I,0,8),R.update(U),b._finID=R.state;var L=r.from(b._finID);return y(L),L}function C(b,E,S,R){d.call(this);var O=r.alloc(4,0);this._cipher=new f.AES(E);var $=this._cipher.encryptBlock(O);this._ghash=new _($),S=w(this,S,$),this._prev=r.from(S),this._cache=r.allocUnsafe(0),this._secCache=r.allocUnsafe(0),this._decrypt=R,this._alen=0,this._len=0,this._mode=b,this._authTag=null,this._called=!1}return g(C,d),C.prototype._update=function(b){if(!this._called&&this._alen){var E=16-this._alen%16;E<16&&(E=r.alloc(E,0),this._ghash.update(E))}this._called=!0;var S=this._mode.encrypt(this,b);return this._decrypt?this._ghash.update(b):this._ghash.update(S),this._len+=b.length,S},C.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var b=v(this._ghash.final(this._alen*8,this._len*8),this._cipher.encryptBlock(this._finID));if(this._decrypt&&m(b,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=b,this._cipher.scrub()},C.prototype.getAuthTag=function(){if(this._decrypt||!r.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},C.prototype.setAuthTag=function(E){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=E},C.prototype.setAAD=function(E){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(E),this._alen+=E.length},authCipher=C,authCipher}var streamCipher,hasRequiredStreamCipher;function requireStreamCipher(){if(hasRequiredStreamCipher)return streamCipher;hasRequiredStreamCipher=1;var f=requireAes$1(),r=safeBufferExports.Buffer,d=requireCipherBase(),g=requireInherits_browser();function _(v,y,m,w){d.call(this),this._cipher=new f.AES(y),this._prev=r.from(m),this._cache=r.allocUnsafe(0),this._secCache=r.allocUnsafe(0),this._decrypt=w,this._mode=v}return g(_,d),_.prototype._update=function(v){return this._mode.encrypt(this,v,this._decrypt)},_.prototype._final=function(){this._cipher.scrub()},streamCipher=_,streamCipher}var evp_bytestokey,hasRequiredEvp_bytestokey;function requireEvp_bytestokey(){if(hasRequiredEvp_bytestokey)return evp_bytestokey;hasRequiredEvp_bytestokey=1;var f=safeBufferExports.Buffer,r=requireMd5_js();function d(g,_,v,y){if(f.isBuffer(g)||(g=f.from(g,"binary")),_&&(f.isBuffer(_)||(_=f.from(_,"binary")),_.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var m=v/8,w=f.alloc(m),C=f.alloc(y||0),b=f.alloc(0);m>0||y>0;){var E=new r;E.update(b),E.update(g),_&&E.update(_),b=E.digest();var S=0;if(m>0){var R=w.length-m;S=Math.min(m,b.length),b.copy(w,R,0,S),m-=S}if(S<b.length&&y>0){var O=C.length-y,$=Math.min(y,b.length-S);b.copy(C,O,S,S+$),y-=$}}return b.fill(0),{key:w,iv:C}}return evp_bytestokey=d,evp_bytestokey}var hasRequiredEncrypter;function requireEncrypter(){if(hasRequiredEncrypter)return encrypter;hasRequiredEncrypter=1;var f=requireModes$1(),r=requireAuthCipher(),d=safeBufferExports.Buffer,g=requireStreamCipher(),_=requireCipherBase(),v=requireAes$1(),y=requireEvp_bytestokey(),m=requireInherits_browser();function w(R,O,$){_.call(this),this._cache=new b,this._cipher=new v.AES(O),this._prev=d.from($),this._mode=R,this._autopadding=!0}m(w,_),w.prototype._update=function(R){this._cache.add(R);for(var O,$,I=[];O=this._cache.get();)$=this._mode.encrypt(this,O),I.push($);return d.concat(I)};var C=d.alloc(16,16);w.prototype._final=function(){var R=this._cache.flush();if(this._autopadding)return R=this._mode.encrypt(this,R),this._cipher.scrub(),R;if(!R.equals(C))throw this._cipher.scrub(),new Error("data not multiple of block length")},w.prototype.setAutoPadding=function(R){return this._autopadding=!!R,this};function b(){this.cache=d.allocUnsafe(0)}b.prototype.add=function(R){this.cache=d.concat([this.cache,R])},b.prototype.get=function(){if(this.cache.length>15){var R=this.cache.slice(0,16);return this.cache=this.cache.slice(16),R}return null},b.prototype.flush=function(){for(var R=16-this.cache.length,O=d.allocUnsafe(R),$=-1;++$<R;)O.writeUInt8(R,$);return d.concat([this.cache,O])};function E(R,O,$){var I=f[R.toLowerCase()];if(!I)throw new TypeError("invalid suite type");if(typeof O=="string"&&(O=d.from(O)),O.length!==I.key/8)throw new TypeError("invalid key length "+O.length);if(typeof $=="string"&&($=d.from($)),I.mode!=="GCM"&&$.length!==I.iv)throw new TypeError("invalid iv length "+$.length);return I.type==="stream"?new g(I.module,O,$):I.type==="auth"?new r(I.module,O,$):new w(I.module,O,$)}function S(R,O){var $=f[R.toLowerCase()];if(!$)throw new TypeError("invalid suite type");var I=y(O,!1,$.key,$.iv);return E(R,I.key,I.iv)}return encrypter.createCipheriv=E,encrypter.createCipher=S,encrypter}var decrypter={},hasRequiredDecrypter;function requireDecrypter(){if(hasRequiredDecrypter)return decrypter;hasRequiredDecrypter=1;var f=requireAuthCipher(),r=safeBufferExports.Buffer,d=requireModes$1(),g=requireStreamCipher(),_=requireCipherBase(),v=requireAes$1(),y=requireEvp_bytestokey(),m=requireInherits_browser();function w(R,O,$){_.call(this),this._cache=new C,this._last=void 0,this._cipher=new v.AES(O),this._prev=r.from($),this._mode=R,this._autopadding=!0}m(w,_),w.prototype._update=function(R){this._cache.add(R);for(var O,$,I=[];O=this._cache.get(this._autopadding);)$=this._mode.decrypt(this,O),I.push($);return r.concat(I)},w.prototype._final=function(){var R=this._cache.flush();if(this._autopadding)return b(this._mode.decrypt(this,R));if(R)throw new Error("data not multiple of block length")},w.prototype.setAutoPadding=function(R){return this._autopadding=!!R,this};function C(){this.cache=r.allocUnsafe(0)}C.prototype.add=function(R){this.cache=r.concat([this.cache,R])},C.prototype.get=function(R){var O;if(R){if(this.cache.length>16)return O=this.cache.slice(0,16),this.cache=this.cache.slice(16),O}else if(this.cache.length>=16)return O=this.cache.slice(0,16),this.cache=this.cache.slice(16),O;return null},C.prototype.flush=function(){if(this.cache.length)return this.cache};function b(R){var O=R[15];if(O<1||O>16)throw new Error("unable to decrypt data");for(var $=-1;++$<O;)if(R[$+(16-O)]!==O)throw new Error("unable to decrypt data");if(O!==16)return R.slice(0,16-O)}function E(R,O,$){var I=d[R.toLowerCase()];if(!I)throw new TypeError("invalid suite type");if(typeof $=="string"&&($=r.from($)),I.mode!=="GCM"&&$.length!==I.iv)throw new TypeError("invalid iv length "+$.length);if(typeof O=="string"&&(O=r.from(O)),O.length!==I.key/8)throw new TypeError("invalid key length "+O.length);return I.type==="stream"?new g(I.module,O,$,!0):I.type==="auth"?new f(I.module,O,$,!0):new w(I.module,O,$)}function S(R,O){var $=d[R.toLowerCase()];if(!$)throw new TypeError("invalid suite type");var I=y(O,!1,$.key,$.iv);return E(R,I.key,I.iv)}return decrypter.createDecipher=S,decrypter.createDecipheriv=E,decrypter}var hasRequiredBrowser$6;function requireBrowser$6(){if(hasRequiredBrowser$6)return browser$6;hasRequiredBrowser$6=1;var f=requireEncrypter(),r=requireDecrypter(),d=require$$2$1;function g(){return Object.keys(d)}return browser$6.createCipher=browser$6.Cipher=f.createCipher,browser$6.createCipheriv=browser$6.Cipheriv=f.createCipheriv,browser$6.createDecipher=browser$6.Decipher=r.createDecipher,browser$6.createDecipheriv=browser$6.Decipheriv=r.createDecipheriv,browser$6.listCiphers=browser$6.getCiphers=g,browser$6}var modes={},hasRequiredModes;function requireModes(){return hasRequiredModes||(hasRequiredModes=1,function(f){f["des-ecb"]={key:8,iv:0},f["des-cbc"]=f.des={key:8,iv:8},f["des-ede3-cbc"]=f.des3={key:24,iv:8},f["des-ede3"]={key:24,iv:0},f["des-ede-cbc"]={key:16,iv:8},f["des-ede"]={key:16,iv:0}}(modes)),modes}var hasRequiredBrowser$5;function requireBrowser$5(){if(hasRequiredBrowser$5)return browser$7;hasRequiredBrowser$5=1;var f=requireBrowserifyDes(),r=requireBrowser$6(),d=requireModes$1(),g=requireModes(),_=requireEvp_bytestokey();function v(b,E){b=b.toLowerCase();var S,R;if(d[b])S=d[b].key,R=d[b].iv;else if(g[b])S=g[b].key*8,R=g[b].iv;else throw new TypeError("invalid suite type");var O=_(E,!1,S,R);return m(b,O.key,O.iv)}function y(b,E){b=b.toLowerCase();var S,R;if(d[b])S=d[b].key,R=d[b].iv;else if(g[b])S=g[b].key*8,R=g[b].iv;else throw new TypeError("invalid suite type");var O=_(E,!1,S,R);return w(b,O.key,O.iv)}function m(b,E,S){if(b=b.toLowerCase(),d[b])return r.createCipheriv(b,E,S);if(g[b])return new f({key:E,iv:S,mode:b});throw new TypeError("invalid suite type")}function w(b,E,S){if(b=b.toLowerCase(),d[b])return r.createDecipheriv(b,E,S);if(g[b])return new f({key:E,iv:S,mode:b,decrypt:!0});throw new TypeError("invalid suite type")}function C(){return Object.keys(g).concat(r.getCiphers())}return browser$7.createCipher=browser$7.Cipher=v,browser$7.createCipheriv=browser$7.Cipheriv=m,browser$7.createDecipher=browser$7.Decipher=y,browser$7.createDecipheriv=browser$7.Decipheriv=w,browser$7.listCiphers=browser$7.getCiphers=C,browser$7}var browser$5={},bn$2={exports:{}};bn$2.exports;var hasRequiredBn$2;function requireBn$2(){return hasRequiredBn$2||(hasRequiredBn$2=1,function(f){(function(r,d){function g(G,T){if(!G)throw new Error(T||"Assertion failed")}function _(G,T){G.super_=T;var D=function(){};D.prototype=T.prototype,G.prototype=new D,G.prototype.constructor=G}function v(G,T,D){if(v.isBN(G))return G;this.negative=0,this.words=null,this.length=0,this.red=null,G!==null&&((T==="le"||T==="be")&&(D=T,T=10),this._init(G||0,T||10,D||"be"))}typeof r=="object"?r.exports=v:d.BN=v,v.BN=v,v.wordSize=26;var y;try{typeof window<"u"&&typeof window.Buffer<"u"?y=window.Buffer:y=require$$0$2.Buffer}catch{}v.isBN=function(T){return T instanceof v?!0:T!==null&&typeof T=="object"&&T.constructor.wordSize===v.wordSize&&Array.isArray(T.words)},v.max=function(T,D){return T.cmp(D)>0?T:D},v.min=function(T,D){return T.cmp(D)<0?T:D},v.prototype._init=function(T,D,x){if(typeof T=="number")return this._initNumber(T,D,x);if(typeof T=="object")return this._initArray(T,D,x);D==="hex"&&(D=16),g(D===(D|0)&&D>=2&&D<=36),T=T.toString().replace(/\s+/g,"");var A=0;T[0]==="-"&&(A++,this.negative=1),A<T.length&&(D===16?this._parseHex(T,A,x):(this._parseBase(T,D,A),x==="le"&&this._initArray(this.toArray(),D,x)))},v.prototype._initNumber=function(T,D,x){T<0&&(this.negative=1,T=-T),T<67108864?(this.words=[T&67108863],this.length=1):T<4503599627370496?(this.words=[T&67108863,T/67108864&67108863],this.length=2):(g(T<9007199254740992),this.words=[T&67108863,T/67108864&67108863,1],this.length=3),x==="le"&&this._initArray(this.toArray(),D,x)},v.prototype._initArray=function(T,D,x){if(g(typeof T.length=="number"),T.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(T.length/3),this.words=new Array(this.length);for(var A=0;A<this.length;A++)this.words[A]=0;var B,N,q=0;if(x==="be")for(A=T.length-1,B=0;A>=0;A-=3)N=T[A]|T[A-1]<<8|T[A-2]<<16,this.words[B]|=N<<q&67108863,this.words[B+1]=N>>>26-q&67108863,q+=24,q>=26&&(q-=26,B++);else if(x==="le")for(A=0,B=0;A<T.length;A+=3)N=T[A]|T[A+1]<<8|T[A+2]<<16,this.words[B]|=N<<q&67108863,this.words[B+1]=N>>>26-q&67108863,q+=24,q>=26&&(q-=26,B++);return this.strip()};function m(G,T){var D=G.charCodeAt(T);return D>=65&&D<=70?D-55:D>=97&&D<=102?D-87:D-48&15}function w(G,T,D){var x=m(G,D);return D-1>=T&&(x|=m(G,D-1)<<4),x}v.prototype._parseHex=function(T,D,x){this.length=Math.ceil((T.length-D)/6),this.words=new Array(this.length);for(var A=0;A<this.length;A++)this.words[A]=0;var B=0,N=0,q;if(x==="be")for(A=T.length-1;A>=D;A-=2)q=w(T,D,A)<<B,this.words[N]|=q&67108863,B>=18?(B-=18,N+=1,this.words[N]|=q>>>26):B+=8;else{var K=T.length-D;for(A=K%2===0?D+1:D;A<T.length;A+=2)q=w(T,D,A)<<B,this.words[N]|=q&67108863,B>=18?(B-=18,N+=1,this.words[N]|=q>>>26):B+=8}this.strip()};function C(G,T,D,x){for(var A=0,B=Math.min(G.length,D),N=T;N<B;N++){var q=G.charCodeAt(N)-48;A*=x,q>=49?A+=q-49+10:q>=17?A+=q-17+10:A+=q}return A}v.prototype._parseBase=function(T,D,x){this.words=[0],this.length=1;for(var A=0,B=1;B<=67108863;B*=D)A++;A--,B=B/D|0;for(var N=T.length-x,q=N%A,K=Math.min(N,N-q)+x,P=0,k=x;k<K;k+=A)P=C(T,k,k+A,D),this.imuln(B),this.words[0]+P<67108864?this.words[0]+=P:this._iaddn(P);if(q!==0){var M=1;for(P=C(T,k,T.length,D),k=0;k<q;k++)M*=D;this.imuln(M),this.words[0]+P<67108864?this.words[0]+=P:this._iaddn(P)}this.strip()},v.prototype.copy=function(T){T.words=new Array(this.length);for(var D=0;D<this.length;D++)T.words[D]=this.words[D];T.length=this.length,T.negative=this.negative,T.red=this.red},v.prototype.clone=function(){var T=new v(null);return this.copy(T),T},v.prototype._expand=function(T){for(;this.length<T;)this.words[this.length++]=0;return this},v.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},v.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},v.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var b=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],E=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],S=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];v.prototype.toString=function(T,D){T=T||10,D=D|0||1;var x;if(T===16||T==="hex"){x="";for(var A=0,B=0,N=0;N<this.length;N++){var q=this.words[N],K=((q<<A|B)&16777215).toString(16);B=q>>>24-A&16777215,A+=2,A>=26&&(A-=26,N--),B!==0||N!==this.length-1?x=b[6-K.length]+K+x:x=K+x}for(B!==0&&(x=B.toString(16)+x);x.length%D!==0;)x="0"+x;return this.negative!==0&&(x="-"+x),x}if(T===(T|0)&&T>=2&&T<=36){var P=E[T],k=S[T];x="";var M=this.clone();for(M.negative=0;!M.isZero();){var W=M.modn(k).toString(T);M=M.idivn(k),M.isZero()?x=W+x:x=b[P-W.length]+W+x}for(this.isZero()&&(x="0"+x);x.length%D!==0;)x="0"+x;return this.negative!==0&&(x="-"+x),x}g(!1,"Base should be between 2 and 36")},v.prototype.toNumber=function(){var T=this.words[0];return this.length===2?T+=this.words[1]*67108864:this.length===3&&this.words[2]===1?T+=4503599627370496+this.words[1]*67108864:this.length>2&&g(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-T:T},v.prototype.toJSON=function(){return this.toString(16)},v.prototype.toBuffer=function(T,D){return g(typeof y<"u"),this.toArrayLike(y,T,D)},v.prototype.toArray=function(T,D){return this.toArrayLike(Array,T,D)},v.prototype.toArrayLike=function(T,D,x){var A=this.byteLength(),B=x||Math.max(1,A);g(A<=B,"byte array longer than desired length"),g(B>0,"Requested array length <= 0"),this.strip();var N=D==="le",q=new T(B),K,P,k=this.clone();if(N){for(P=0;!k.isZero();P++)K=k.andln(255),k.iushrn(8),q[P]=K;for(;P<B;P++)q[P]=0}else{for(P=0;P<B-A;P++)q[P]=0;for(P=0;!k.isZero();P++)K=k.andln(255),k.iushrn(8),q[B-P-1]=K}return q},Math.clz32?v.prototype._countBits=function(T){return 32-Math.clz32(T)}:v.prototype._countBits=function(T){var D=T,x=0;return D>=4096&&(x+=13,D>>>=13),D>=64&&(x+=7,D>>>=7),D>=8&&(x+=4,D>>>=4),D>=2&&(x+=2,D>>>=2),x+D},v.prototype._zeroBits=function(T){if(T===0)return 26;var D=T,x=0;return D&8191||(x+=13,D>>>=13),D&127||(x+=7,D>>>=7),D&15||(x+=4,D>>>=4),D&3||(x+=2,D>>>=2),D&1||x++,x},v.prototype.bitLength=function(){var T=this.words[this.length-1],D=this._countBits(T);return(this.length-1)*26+D};function R(G){for(var T=new Array(G.bitLength()),D=0;D<T.length;D++){var x=D/26|0,A=D%26;T[D]=(G.words[x]&1<<A)>>>A}return T}v.prototype.zeroBits=function(){if(this.isZero())return 0;for(var T=0,D=0;D<this.length;D++){var x=this._zeroBits(this.words[D]);if(T+=x,x!==26)break}return T},v.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},v.prototype.toTwos=function(T){return this.negative!==0?this.abs().inotn(T).iaddn(1):this.clone()},v.prototype.fromTwos=function(T){return this.testn(T-1)?this.notn(T).iaddn(1).ineg():this.clone()},v.prototype.isNeg=function(){return this.negative!==0},v.prototype.neg=function(){return this.clone().ineg()},v.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},v.prototype.iuor=function(T){for(;this.length<T.length;)this.words[this.length++]=0;for(var D=0;D<T.length;D++)this.words[D]=this.words[D]|T.words[D];return this.strip()},v.prototype.ior=function(T){return g((this.negative|T.negative)===0),this.iuor(T)},v.prototype.or=function(T){return this.length>T.length?this.clone().ior(T):T.clone().ior(this)},v.prototype.uor=function(T){return this.length>T.length?this.clone().iuor(T):T.clone().iuor(this)},v.prototype.iuand=function(T){var D;this.length>T.length?D=T:D=this;for(var x=0;x<D.length;x++)this.words[x]=this.words[x]&T.words[x];return this.length=D.length,this.strip()},v.prototype.iand=function(T){return g((this.negative|T.negative)===0),this.iuand(T)},v.prototype.and=function(T){return this.length>T.length?this.clone().iand(T):T.clone().iand(this)},v.prototype.uand=function(T){return this.length>T.length?this.clone().iuand(T):T.clone().iuand(this)},v.prototype.iuxor=function(T){var D,x;this.length>T.length?(D=this,x=T):(D=T,x=this);for(var A=0;A<x.length;A++)this.words[A]=D.words[A]^x.words[A];if(this!==D)for(;A<D.length;A++)this.words[A]=D.words[A];return this.length=D.length,this.strip()},v.prototype.ixor=function(T){return g((this.negative|T.negative)===0),this.iuxor(T)},v.prototype.xor=function(T){return this.length>T.length?this.clone().ixor(T):T.clone().ixor(this)},v.prototype.uxor=function(T){return this.length>T.length?this.clone().iuxor(T):T.clone().iuxor(this)},v.prototype.inotn=function(T){g(typeof T=="number"&&T>=0);var D=Math.ceil(T/26)|0,x=T%26;this._expand(D),x>0&&D--;for(var A=0;A<D;A++)this.words[A]=~this.words[A]&67108863;return x>0&&(this.words[A]=~this.words[A]&67108863>>26-x),this.strip()},v.prototype.notn=function(T){return this.clone().inotn(T)},v.prototype.setn=function(T,D){g(typeof T=="number"&&T>=0);var x=T/26|0,A=T%26;return this._expand(x+1),D?this.words[x]=this.words[x]|1<<A:this.words[x]=this.words[x]&~(1<<A),this.strip()},v.prototype.iadd=function(T){var D;if(this.negative!==0&&T.negative===0)return this.negative=0,D=this.isub(T),this.negative^=1,this._normSign();if(this.negative===0&&T.negative!==0)return T.negative=0,D=this.isub(T),T.negative=1,D._normSign();var x,A;this.length>T.length?(x=this,A=T):(x=T,A=this);for(var B=0,N=0;N<A.length;N++)D=(x.words[N]|0)+(A.words[N]|0)+B,this.words[N]=D&67108863,B=D>>>26;for(;B!==0&&N<x.length;N++)D=(x.words[N]|0)+B,this.words[N]=D&67108863,B=D>>>26;if(this.length=x.length,B!==0)this.words[this.length]=B,this.length++;else if(x!==this)for(;N<x.length;N++)this.words[N]=x.words[N];return this},v.prototype.add=function(T){var D;return T.negative!==0&&this.negative===0?(T.negative=0,D=this.sub(T),T.negative^=1,D):T.negative===0&&this.negative!==0?(this.negative=0,D=T.sub(this),this.negative=1,D):this.length>T.length?this.clone().iadd(T):T.clone().iadd(this)},v.prototype.isub=function(T){if(T.negative!==0){T.negative=0;var D=this.iadd(T);return T.negative=1,D._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(T),this.negative=1,this._normSign();var x=this.cmp(T);if(x===0)return this.negative=0,this.length=1,this.words[0]=0,this;var A,B;x>0?(A=this,B=T):(A=T,B=this);for(var N=0,q=0;q<B.length;q++)D=(A.words[q]|0)-(B.words[q]|0)+N,N=D>>26,this.words[q]=D&67108863;for(;N!==0&&q<A.length;q++)D=(A.words[q]|0)+N,N=D>>26,this.words[q]=D&67108863;if(N===0&&q<A.length&&A!==this)for(;q<A.length;q++)this.words[q]=A.words[q];return this.length=Math.max(this.length,q),A!==this&&(this.negative=1),this.strip()},v.prototype.sub=function(T){return this.clone().isub(T)};function O(G,T,D){D.negative=T.negative^G.negative;var x=G.length+T.length|0;D.length=x,x=x-1|0;var A=G.words[0]|0,B=T.words[0]|0,N=A*B,q=N&67108863,K=N/67108864|0;D.words[0]=q;for(var P=1;P<x;P++){for(var k=K>>>26,M=K&67108863,W=Math.min(P,T.length-1),ce=Math.max(0,P-G.length+1);ce<=W;ce++){var be=P-ce|0;A=G.words[be]|0,B=T.words[ce]|0,N=A*B+M,k+=N/67108864|0,M=N&67108863}D.words[P]=M|0,K=k|0}return K!==0?D.words[P]=K|0:D.length--,D.strip()}var $=function(T,D,x){var A=T.words,B=D.words,N=x.words,q=0,K,P,k,M=A[0]|0,W=M&8191,ce=M>>>13,be=A[1]|0,ve=be&8191,Z=be>>>13,J=A[2]|0,oe=J&8191,H=J>>>13,Q=A[3]|0,ie=Q&8191,we=Q>>>13,Se=A[4]|0,De=Se&8191,Ie=Se>>>13,qe=A[5]|0,Ne=qe&8191,Me=qe>>>13,Ve=A[6]|0,Ke=Ve&8191,ot=Ve>>>13,Je=A[7]|0,We=Je&8191,it=Je>>>13,Fe=A[8]|0,Le=Fe&8191,Qe=Fe>>>13,rt=A[9]|0,ue=rt&8191,ee=rt>>>13,te=B[0]|0,de=te&8191,xe=te>>>13,Re=B[1]|0,Te=Re&8191,dt=Re>>>13,ut=B[2]|0,et=ut&8191,wt=ut>>>13,ht=B[3]|0,_t=ht&8191,It=ht>>>13,bt=B[4]|0,at=bt&8191,Bt=bt>>>13,xt=B[5]|0,st=xt&8191,Nt=xt>>>13,Ct=B[6]|0,nt=Ct&8191,At=Ct>>>13,ae=B[7]|0,le=ae&8191,he=ae>>>13,V=B[8]|0,pe=V&8191,Ae=V>>>13,$e=B[9]|0,Be=$e&8191,Ge=$e>>>13;x.negative=T.negative^D.negative,x.length=19,K=Math.imul(W,de),P=Math.imul(W,xe),P=P+Math.imul(ce,de)|0,k=Math.imul(ce,xe);var Ze=(q+K|0)+((P&8191)<<13)|0;q=(k+(P>>>13)|0)+(Ze>>>26)|0,Ze&=67108863,K=Math.imul(ve,de),P=Math.imul(ve,xe),P=P+Math.imul(Z,de)|0,k=Math.imul(Z,xe),K=K+Math.imul(W,Te)|0,P=P+Math.imul(W,dt)|0,P=P+Math.imul(ce,Te)|0,k=k+Math.imul(ce,dt)|0;var He=(q+K|0)+((P&8191)<<13)|0;q=(k+(P>>>13)|0)+(He>>>26)|0,He&=67108863,K=Math.imul(oe,de),P=Math.imul(oe,xe),P=P+Math.imul(H,de)|0,k=Math.imul(H,xe),K=K+Math.imul(ve,Te)|0,P=P+Math.imul(ve,dt)|0,P=P+Math.imul(Z,Te)|0,k=k+Math.imul(Z,dt)|0,K=K+Math.imul(W,et)|0,P=P+Math.imul(W,wt)|0,P=P+Math.imul(ce,et)|0,k=k+Math.imul(ce,wt)|0;var qt=(q+K|0)+((P&8191)<<13)|0;q=(k+(P>>>13)|0)+(qt>>>26)|0,qt&=67108863,K=Math.imul(ie,de),P=Math.imul(ie,xe),P=P+Math.imul(we,de)|0,k=Math.imul(we,xe),K=K+Math.imul(oe,Te)|0,P=P+Math.imul(oe,dt)|0,P=P+Math.imul(H,Te)|0,k=k+Math.imul(H,dt)|0,K=K+Math.imul(ve,et)|0,P=P+Math.imul(ve,wt)|0,P=P+Math.imul(Z,et)|0,k=k+Math.imul(Z,wt)|0,K=K+Math.imul(W,_t)|0,P=P+Math.imul(W,It)|0,P=P+Math.imul(ce,_t)|0,k=k+Math.imul(ce,It)|0;var pt=(q+K|0)+((P&8191)<<13)|0;q=(k+(P>>>13)|0)+(pt>>>26)|0,pt&=67108863,K=Math.imul(De,de),P=Math.imul(De,xe),P=P+Math.imul(Ie,de)|0,k=Math.imul(Ie,xe),K=K+Math.imul(ie,Te)|0,P=P+Math.imul(ie,dt)|0,P=P+Math.imul(we,Te)|0,k=k+Math.imul(we,dt)|0,K=K+Math.imul(oe,et)|0,P=P+Math.imul(oe,wt)|0,P=P+Math.imul(H,et)|0,k=k+Math.imul(H,wt)|0,K=K+Math.imul(ve,_t)|0,P=P+Math.imul(ve,It)|0,P=P+Math.imul(Z,_t)|0,k=k+Math.imul(Z,It)|0,K=K+Math.imul(W,at)|0,P=P+Math.imul(W,Bt)|0,P=P+Math.imul(ce,at)|0,k=k+Math.imul(ce,Bt)|0;var Ot=(q+K|0)+((P&8191)<<13)|0;q=(k+(P>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,K=Math.imul(Ne,de),P=Math.imul(Ne,xe),P=P+Math.imul(Me,de)|0,k=Math.imul(Me,xe),K=K+Math.imul(De,Te)|0,P=P+Math.imul(De,dt)|0,P=P+Math.imul(Ie,Te)|0,k=k+Math.imul(Ie,dt)|0,K=K+Math.imul(ie,et)|0,P=P+Math.imul(ie,wt)|0,P=P+Math.imul(we,et)|0,k=k+Math.imul(we,wt)|0,K=K+Math.imul(oe,_t)|0,P=P+Math.imul(oe,It)|0,P=P+Math.imul(H,_t)|0,k=k+Math.imul(H,It)|0,K=K+Math.imul(ve,at)|0,P=P+Math.imul(ve,Bt)|0,P=P+Math.imul(Z,at)|0,k=k+Math.imul(Z,Bt)|0,K=K+Math.imul(W,st)|0,P=P+Math.imul(W,Nt)|0,P=P+Math.imul(ce,st)|0,k=k+Math.imul(ce,Nt)|0;var $t=(q+K|0)+((P&8191)<<13)|0;q=(k+(P>>>13)|0)+($t>>>26)|0,$t&=67108863,K=Math.imul(Ke,de),P=Math.imul(Ke,xe),P=P+Math.imul(ot,de)|0,k=Math.imul(ot,xe),K=K+Math.imul(Ne,Te)|0,P=P+Math.imul(Ne,dt)|0,P=P+Math.imul(Me,Te)|0,k=k+Math.imul(Me,dt)|0,K=K+Math.imul(De,et)|0,P=P+Math.imul(De,wt)|0,P=P+Math.imul(Ie,et)|0,k=k+Math.imul(Ie,wt)|0,K=K+Math.imul(ie,_t)|0,P=P+Math.imul(ie,It)|0,P=P+Math.imul(we,_t)|0,k=k+Math.imul(we,It)|0,K=K+Math.imul(oe,at)|0,P=P+Math.imul(oe,Bt)|0,P=P+Math.imul(H,at)|0,k=k+Math.imul(H,Bt)|0,K=K+Math.imul(ve,st)|0,P=P+Math.imul(ve,Nt)|0,P=P+Math.imul(Z,st)|0,k=k+Math.imul(Z,Nt)|0,K=K+Math.imul(W,nt)|0,P=P+Math.imul(W,At)|0,P=P+Math.imul(ce,nt)|0,k=k+Math.imul(ce,At)|0;var Tt=(q+K|0)+((P&8191)<<13)|0;q=(k+(P>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,K=Math.imul(We,de),P=Math.imul(We,xe),P=P+Math.imul(it,de)|0,k=Math.imul(it,xe),K=K+Math.imul(Ke,Te)|0,P=P+Math.imul(Ke,dt)|0,P=P+Math.imul(ot,Te)|0,k=k+Math.imul(ot,dt)|0,K=K+Math.imul(Ne,et)|0,P=P+Math.imul(Ne,wt)|0,P=P+Math.imul(Me,et)|0,k=k+Math.imul(Me,wt)|0,K=K+Math.imul(De,_t)|0,P=P+Math.imul(De,It)|0,P=P+Math.imul(Ie,_t)|0,k=k+Math.imul(Ie,It)|0,K=K+Math.imul(ie,at)|0,P=P+Math.imul(ie,Bt)|0,P=P+Math.imul(we,at)|0,k=k+Math.imul(we,Bt)|0,K=K+Math.imul(oe,st)|0,P=P+Math.imul(oe,Nt)|0,P=P+Math.imul(H,st)|0,k=k+Math.imul(H,Nt)|0,K=K+Math.imul(ve,nt)|0,P=P+Math.imul(ve,At)|0,P=P+Math.imul(Z,nt)|0,k=k+Math.imul(Z,At)|0,K=K+Math.imul(W,le)|0,P=P+Math.imul(W,he)|0,P=P+Math.imul(ce,le)|0,k=k+Math.imul(ce,he)|0;var Mt=(q+K|0)+((P&8191)<<13)|0;q=(k+(P>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,K=Math.imul(Le,de),P=Math.imul(Le,xe),P=P+Math.imul(Qe,de)|0,k=Math.imul(Qe,xe),K=K+Math.imul(We,Te)|0,P=P+Math.imul(We,dt)|0,P=P+Math.imul(it,Te)|0,k=k+Math.imul(it,dt)|0,K=K+Math.imul(Ke,et)|0,P=P+Math.imul(Ke,wt)|0,P=P+Math.imul(ot,et)|0,k=k+Math.imul(ot,wt)|0,K=K+Math.imul(Ne,_t)|0,P=P+Math.imul(Ne,It)|0,P=P+Math.imul(Me,_t)|0,k=k+Math.imul(Me,It)|0,K=K+Math.imul(De,at)|0,P=P+Math.imul(De,Bt)|0,P=P+Math.imul(Ie,at)|0,k=k+Math.imul(Ie,Bt)|0,K=K+Math.imul(ie,st)|0,P=P+Math.imul(ie,Nt)|0,P=P+Math.imul(we,st)|0,k=k+Math.imul(we,Nt)|0,K=K+Math.imul(oe,nt)|0,P=P+Math.imul(oe,At)|0,P=P+Math.imul(H,nt)|0,k=k+Math.imul(H,At)|0,K=K+Math.imul(ve,le)|0,P=P+Math.imul(ve,he)|0,P=P+Math.imul(Z,le)|0,k=k+Math.imul(Z,he)|0,K=K+Math.imul(W,pe)|0,P=P+Math.imul(W,Ae)|0,P=P+Math.imul(ce,pe)|0,k=k+Math.imul(ce,Ae)|0;var Rt=(q+K|0)+((P&8191)<<13)|0;q=(k+(P>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,K=Math.imul(ue,de),P=Math.imul(ue,xe),P=P+Math.imul(ee,de)|0,k=Math.imul(ee,xe),K=K+Math.imul(Le,Te)|0,P=P+Math.imul(Le,dt)|0,P=P+Math.imul(Qe,Te)|0,k=k+Math.imul(Qe,dt)|0,K=K+Math.imul(We,et)|0,P=P+Math.imul(We,wt)|0,P=P+Math.imul(it,et)|0,k=k+Math.imul(it,wt)|0,K=K+Math.imul(Ke,_t)|0,P=P+Math.imul(Ke,It)|0,P=P+Math.imul(ot,_t)|0,k=k+Math.imul(ot,It)|0,K=K+Math.imul(Ne,at)|0,P=P+Math.imul(Ne,Bt)|0,P=P+Math.imul(Me,at)|0,k=k+Math.imul(Me,Bt)|0,K=K+Math.imul(De,st)|0,P=P+Math.imul(De,Nt)|0,P=P+Math.imul(Ie,st)|0,k=k+Math.imul(Ie,Nt)|0,K=K+Math.imul(ie,nt)|0,P=P+Math.imul(ie,At)|0,P=P+Math.imul(we,nt)|0,k=k+Math.imul(we,At)|0,K=K+Math.imul(oe,le)|0,P=P+Math.imul(oe,he)|0,P=P+Math.imul(H,le)|0,k=k+Math.imul(H,he)|0,K=K+Math.imul(ve,pe)|0,P=P+Math.imul(ve,Ae)|0,P=P+Math.imul(Z,pe)|0,k=k+Math.imul(Z,Ae)|0,K=K+Math.imul(W,Be)|0,P=P+Math.imul(W,Ge)|0,P=P+Math.imul(ce,Be)|0,k=k+Math.imul(ce,Ge)|0;var St=(q+K|0)+((P&8191)<<13)|0;q=(k+(P>>>13)|0)+(St>>>26)|0,St&=67108863,K=Math.imul(ue,Te),P=Math.imul(ue,dt),P=P+Math.imul(ee,Te)|0,k=Math.imul(ee,dt),K=K+Math.imul(Le,et)|0,P=P+Math.imul(Le,wt)|0,P=P+Math.imul(Qe,et)|0,k=k+Math.imul(Qe,wt)|0,K=K+Math.imul(We,_t)|0,P=P+Math.imul(We,It)|0,P=P+Math.imul(it,_t)|0,k=k+Math.imul(it,It)|0,K=K+Math.imul(Ke,at)|0,P=P+Math.imul(Ke,Bt)|0,P=P+Math.imul(ot,at)|0,k=k+Math.imul(ot,Bt)|0,K=K+Math.imul(Ne,st)|0,P=P+Math.imul(Ne,Nt)|0,P=P+Math.imul(Me,st)|0,k=k+Math.imul(Me,Nt)|0,K=K+Math.imul(De,nt)|0,P=P+Math.imul(De,At)|0,P=P+Math.imul(Ie,nt)|0,k=k+Math.imul(Ie,At)|0,K=K+Math.imul(ie,le)|0,P=P+Math.imul(ie,he)|0,P=P+Math.imul(we,le)|0,k=k+Math.imul(we,he)|0,K=K+Math.imul(oe,pe)|0,P=P+Math.imul(oe,Ae)|0,P=P+Math.imul(H,pe)|0,k=k+Math.imul(H,Ae)|0,K=K+Math.imul(ve,Be)|0,P=P+Math.imul(ve,Ge)|0,P=P+Math.imul(Z,Be)|0,k=k+Math.imul(Z,Ge)|0;var Dt=(q+K|0)+((P&8191)<<13)|0;q=(k+(P>>>13)|0)+(Dt>>>26)|0,Dt&=67108863,K=Math.imul(ue,et),P=Math.imul(ue,wt),P=P+Math.imul(ee,et)|0,k=Math.imul(ee,wt),K=K+Math.imul(Le,_t)|0,P=P+Math.imul(Le,It)|0,P=P+Math.imul(Qe,_t)|0,k=k+Math.imul(Qe,It)|0,K=K+Math.imul(We,at)|0,P=P+Math.imul(We,Bt)|0,P=P+Math.imul(it,at)|0,k=k+Math.imul(it,Bt)|0,K=K+Math.imul(Ke,st)|0,P=P+Math.imul(Ke,Nt)|0,P=P+Math.imul(ot,st)|0,k=k+Math.imul(ot,Nt)|0,K=K+Math.imul(Ne,nt)|0,P=P+Math.imul(Ne,At)|0,P=P+Math.imul(Me,nt)|0,k=k+Math.imul(Me,At)|0,K=K+Math.imul(De,le)|0,P=P+Math.imul(De,he)|0,P=P+Math.imul(Ie,le)|0,k=k+Math.imul(Ie,he)|0,K=K+Math.imul(ie,pe)|0,P=P+Math.imul(ie,Ae)|0,P=P+Math.imul(we,pe)|0,k=k+Math.imul(we,Ae)|0,K=K+Math.imul(oe,Be)|0,P=P+Math.imul(oe,Ge)|0,P=P+Math.imul(H,Be)|0,k=k+Math.imul(H,Ge)|0;var lt=(q+K|0)+((P&8191)<<13)|0;q=(k+(P>>>13)|0)+(lt>>>26)|0,lt&=67108863,K=Math.imul(ue,_t),P=Math.imul(ue,It),P=P+Math.imul(ee,_t)|0,k=Math.imul(ee,It),K=K+Math.imul(Le,at)|0,P=P+Math.imul(Le,Bt)|0,P=P+Math.imul(Qe,at)|0,k=k+Math.imul(Qe,Bt)|0,K=K+Math.imul(We,st)|0,P=P+Math.imul(We,Nt)|0,P=P+Math.imul(it,st)|0,k=k+Math.imul(it,Nt)|0,K=K+Math.imul(Ke,nt)|0,P=P+Math.imul(Ke,At)|0,P=P+Math.imul(ot,nt)|0,k=k+Math.imul(ot,At)|0,K=K+Math.imul(Ne,le)|0,P=P+Math.imul(Ne,he)|0,P=P+Math.imul(Me,le)|0,k=k+Math.imul(Me,he)|0,K=K+Math.imul(De,pe)|0,P=P+Math.imul(De,Ae)|0,P=P+Math.imul(Ie,pe)|0,k=k+Math.imul(Ie,Ae)|0,K=K+Math.imul(ie,Be)|0,P=P+Math.imul(ie,Ge)|0,P=P+Math.imul(we,Be)|0,k=k+Math.imul(we,Ge)|0;var yt=(q+K|0)+((P&8191)<<13)|0;q=(k+(P>>>13)|0)+(yt>>>26)|0,yt&=67108863,K=Math.imul(ue,at),P=Math.imul(ue,Bt),P=P+Math.imul(ee,at)|0,k=Math.imul(ee,Bt),K=K+Math.imul(Le,st)|0,P=P+Math.imul(Le,Nt)|0,P=P+Math.imul(Qe,st)|0,k=k+Math.imul(Qe,Nt)|0,K=K+Math.imul(We,nt)|0,P=P+Math.imul(We,At)|0,P=P+Math.imul(it,nt)|0,k=k+Math.imul(it,At)|0,K=K+Math.imul(Ke,le)|0,P=P+Math.imul(Ke,he)|0,P=P+Math.imul(ot,le)|0,k=k+Math.imul(ot,he)|0,K=K+Math.imul(Ne,pe)|0,P=P+Math.imul(Ne,Ae)|0,P=P+Math.imul(Me,pe)|0,k=k+Math.imul(Me,Ae)|0,K=K+Math.imul(De,Be)|0,P=P+Math.imul(De,Ge)|0,P=P+Math.imul(Ie,Be)|0,k=k+Math.imul(Ie,Ge)|0;var ct=(q+K|0)+((P&8191)<<13)|0;q=(k+(P>>>13)|0)+(ct>>>26)|0,ct&=67108863,K=Math.imul(ue,st),P=Math.imul(ue,Nt),P=P+Math.imul(ee,st)|0,k=Math.imul(ee,Nt),K=K+Math.imul(Le,nt)|0,P=P+Math.imul(Le,At)|0,P=P+Math.imul(Qe,nt)|0,k=k+Math.imul(Qe,At)|0,K=K+Math.imul(We,le)|0,P=P+Math.imul(We,he)|0,P=P+Math.imul(it,le)|0,k=k+Math.imul(it,he)|0,K=K+Math.imul(Ke,pe)|0,P=P+Math.imul(Ke,Ae)|0,P=P+Math.imul(ot,pe)|0,k=k+Math.imul(ot,Ae)|0,K=K+Math.imul(Ne,Be)|0,P=P+Math.imul(Ne,Ge)|0,P=P+Math.imul(Me,Be)|0,k=k+Math.imul(Me,Ge)|0;var vt=(q+K|0)+((P&8191)<<13)|0;q=(k+(P>>>13)|0)+(vt>>>26)|0,vt&=67108863,K=Math.imul(ue,nt),P=Math.imul(ue,At),P=P+Math.imul(ee,nt)|0,k=Math.imul(ee,At),K=K+Math.imul(Le,le)|0,P=P+Math.imul(Le,he)|0,P=P+Math.imul(Qe,le)|0,k=k+Math.imul(Qe,he)|0,K=K+Math.imul(We,pe)|0,P=P+Math.imul(We,Ae)|0,P=P+Math.imul(it,pe)|0,k=k+Math.imul(it,Ae)|0,K=K+Math.imul(Ke,Be)|0,P=P+Math.imul(Ke,Ge)|0,P=P+Math.imul(ot,Be)|0,k=k+Math.imul(ot,Ge)|0;var gt=(q+K|0)+((P&8191)<<13)|0;q=(k+(P>>>13)|0)+(gt>>>26)|0,gt&=67108863,K=Math.imul(ue,le),P=Math.imul(ue,he),P=P+Math.imul(ee,le)|0,k=Math.imul(ee,he),K=K+Math.imul(Le,pe)|0,P=P+Math.imul(Le,Ae)|0,P=P+Math.imul(Qe,pe)|0,k=k+Math.imul(Qe,Ae)|0,K=K+Math.imul(We,Be)|0,P=P+Math.imul(We,Ge)|0,P=P+Math.imul(it,Be)|0,k=k+Math.imul(it,Ge)|0;var ft=(q+K|0)+((P&8191)<<13)|0;q=(k+(P>>>13)|0)+(ft>>>26)|0,ft&=67108863,K=Math.imul(ue,pe),P=Math.imul(ue,Ae),P=P+Math.imul(ee,pe)|0,k=Math.imul(ee,Ae),K=K+Math.imul(Le,Be)|0,P=P+Math.imul(Le,Ge)|0,P=P+Math.imul(Qe,Be)|0,k=k+Math.imul(Qe,Ge)|0;var ke=(q+K|0)+((P&8191)<<13)|0;q=(k+(P>>>13)|0)+(ke>>>26)|0,ke&=67108863,K=Math.imul(ue,Be),P=Math.imul(ue,Ge),P=P+Math.imul(ee,Be)|0,k=Math.imul(ee,Ge);var Ue=(q+K|0)+((P&8191)<<13)|0;return q=(k+(P>>>13)|0)+(Ue>>>26)|0,Ue&=67108863,N[0]=Ze,N[1]=He,N[2]=qt,N[3]=pt,N[4]=Ot,N[5]=$t,N[6]=Tt,N[7]=Mt,N[8]=Rt,N[9]=St,N[10]=Dt,N[11]=lt,N[12]=yt,N[13]=ct,N[14]=vt,N[15]=gt,N[16]=ft,N[17]=ke,N[18]=Ue,q!==0&&(N[19]=q,x.length++),x};Math.imul||($=O);function I(G,T,D){D.negative=T.negative^G.negative,D.length=G.length+T.length;for(var x=0,A=0,B=0;B<D.length-1;B++){var N=A;A=0;for(var q=x&67108863,K=Math.min(B,T.length-1),P=Math.max(0,B-G.length+1);P<=K;P++){var k=B-P,M=G.words[k]|0,W=T.words[P]|0,ce=M*W,be=ce&67108863;N=N+(ce/67108864|0)|0,be=be+q|0,q=be&67108863,N=N+(be>>>26)|0,A+=N>>>26,N&=67108863}D.words[B]=q,x=N,N=A}return x!==0?D.words[B]=x:D.length--,D.strip()}function U(G,T,D){var x=new L;return x.mulp(G,T,D)}v.prototype.mulTo=function(T,D){var x,A=this.length+T.length;return this.length===10&&T.length===10?x=$(this,T,D):A<63?x=O(this,T,D):A<1024?x=I(this,T,D):x=U(this,T,D),x};function L(G,T){this.x=G,this.y=T}L.prototype.makeRBT=function(T){for(var D=new Array(T),x=v.prototype._countBits(T)-1,A=0;A<T;A++)D[A]=this.revBin(A,x,T);return D},L.prototype.revBin=function(T,D,x){if(T===0||T===x-1)return T;for(var A=0,B=0;B<D;B++)A|=(T&1)<<D-B-1,T>>=1;return A},L.prototype.permute=function(T,D,x,A,B,N){for(var q=0;q<N;q++)A[q]=D[T[q]],B[q]=x[T[q]]},L.prototype.transform=function(T,D,x,A,B,N){this.permute(N,T,D,x,A,B);for(var q=1;q<B;q<<=1)for(var K=q<<1,P=Math.cos(2*Math.PI/K),k=Math.sin(2*Math.PI/K),M=0;M<B;M+=K)for(var W=P,ce=k,be=0;be<q;be++){var ve=x[M+be],Z=A[M+be],J=x[M+be+q],oe=A[M+be+q],H=W*J-ce*oe;oe=W*oe+ce*J,J=H,x[M+be]=ve+J,A[M+be]=Z+oe,x[M+be+q]=ve-J,A[M+be+q]=Z-oe,be!==K&&(H=P*W-k*ce,ce=P*ce+k*W,W=H)}},L.prototype.guessLen13b=function(T,D){var x=Math.max(D,T)|1,A=x&1,B=0;for(x=x/2|0;x;x=x>>>1)B++;return 1<<B+1+A},L.prototype.conjugate=function(T,D,x){if(!(x<=1))for(var A=0;A<x/2;A++){var B=T[A];T[A]=T[x-A-1],T[x-A-1]=B,B=D[A],D[A]=-D[x-A-1],D[x-A-1]=-B}},L.prototype.normalize13b=function(T,D){for(var x=0,A=0;A<D/2;A++){var B=Math.round(T[2*A+1]/D)*8192+Math.round(T[2*A]/D)+x;T[A]=B&67108863,B<67108864?x=0:x=B/67108864|0}return T},L.prototype.convert13b=function(T,D,x,A){for(var B=0,N=0;N<D;N++)B=B+(T[N]|0),x[2*N]=B&8191,B=B>>>13,x[2*N+1]=B&8191,B=B>>>13;for(N=2*D;N<A;++N)x[N]=0;g(B===0),g((B&-8192)===0)},L.prototype.stub=function(T){for(var D=new Array(T),x=0;x<T;x++)D[x]=0;return D},L.prototype.mulp=function(T,D,x){var A=2*this.guessLen13b(T.length,D.length),B=this.makeRBT(A),N=this.stub(A),q=new Array(A),K=new Array(A),P=new Array(A),k=new Array(A),M=new Array(A),W=new Array(A),ce=x.words;ce.length=A,this.convert13b(T.words,T.length,q,A),this.convert13b(D.words,D.length,k,A),this.transform(q,N,K,P,A,B),this.transform(k,N,M,W,A,B);for(var be=0;be<A;be++){var ve=K[be]*M[be]-P[be]*W[be];P[be]=K[be]*W[be]+P[be]*M[be],K[be]=ve}return this.conjugate(K,P,A),this.transform(K,P,ce,N,A,B),this.conjugate(ce,N,A),this.normalize13b(ce,A),x.negative=T.negative^D.negative,x.length=T.length+D.length,x.strip()},v.prototype.mul=function(T){var D=new v(null);return D.words=new Array(this.length+T.length),this.mulTo(T,D)},v.prototype.mulf=function(T){var D=new v(null);return D.words=new Array(this.length+T.length),U(this,T,D)},v.prototype.imul=function(T){return this.clone().mulTo(T,this)},v.prototype.imuln=function(T){g(typeof T=="number"),g(T<67108864);for(var D=0,x=0;x<this.length;x++){var A=(this.words[x]|0)*T,B=(A&67108863)+(D&67108863);D>>=26,D+=A/67108864|0,D+=B>>>26,this.words[x]=B&67108863}return D!==0&&(this.words[x]=D,this.length++),this},v.prototype.muln=function(T){return this.clone().imuln(T)},v.prototype.sqr=function(){return this.mul(this)},v.prototype.isqr=function(){return this.imul(this.clone())},v.prototype.pow=function(T){var D=R(T);if(D.length===0)return new v(1);for(var x=this,A=0;A<D.length&&D[A]===0;A++,x=x.sqr());if(++A<D.length)for(var B=x.sqr();A<D.length;A++,B=B.sqr())D[A]!==0&&(x=x.mul(B));return x},v.prototype.iushln=function(T){g(typeof T=="number"&&T>=0);var D=T%26,x=(T-D)/26,A=67108863>>>26-D<<26-D,B;if(D!==0){var N=0;for(B=0;B<this.length;B++){var q=this.words[B]&A,K=(this.words[B]|0)-q<<D;this.words[B]=K|N,N=q>>>26-D}N&&(this.words[B]=N,this.length++)}if(x!==0){for(B=this.length-1;B>=0;B--)this.words[B+x]=this.words[B];for(B=0;B<x;B++)this.words[B]=0;this.length+=x}return this.strip()},v.prototype.ishln=function(T){return g(this.negative===0),this.iushln(T)},v.prototype.iushrn=function(T,D,x){g(typeof T=="number"&&T>=0);var A;D?A=(D-D%26)/26:A=0;var B=T%26,N=Math.min((T-B)/26,this.length),q=67108863^67108863>>>B<<B,K=x;if(A-=N,A=Math.max(0,A),K){for(var P=0;P<N;P++)K.words[P]=this.words[P];K.length=N}if(N!==0)if(this.length>N)for(this.length-=N,P=0;P<this.length;P++)this.words[P]=this.words[P+N];else this.words[0]=0,this.length=1;var k=0;for(P=this.length-1;P>=0&&(k!==0||P>=A);P--){var M=this.words[P]|0;this.words[P]=k<<26-B|M>>>B,k=M&q}return K&&k!==0&&(K.words[K.length++]=k),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},v.prototype.ishrn=function(T,D,x){return g(this.negative===0),this.iushrn(T,D,x)},v.prototype.shln=function(T){return this.clone().ishln(T)},v.prototype.ushln=function(T){return this.clone().iushln(T)},v.prototype.shrn=function(T){return this.clone().ishrn(T)},v.prototype.ushrn=function(T){return this.clone().iushrn(T)},v.prototype.testn=function(T){g(typeof T=="number"&&T>=0);var D=T%26,x=(T-D)/26,A=1<<D;if(this.length<=x)return!1;var B=this.words[x];return!!(B&A)},v.prototype.imaskn=function(T){g(typeof T=="number"&&T>=0);var D=T%26,x=(T-D)/26;if(g(this.negative===0,"imaskn works only with positive numbers"),this.length<=x)return this;if(D!==0&&x++,this.length=Math.min(x,this.length),D!==0){var A=67108863^67108863>>>D<<D;this.words[this.length-1]&=A}return this.strip()},v.prototype.maskn=function(T){return this.clone().imaskn(T)},v.prototype.iaddn=function(T){return g(typeof T=="number"),g(T<67108864),T<0?this.isubn(-T):this.negative!==0?this.length===1&&(this.words[0]|0)<T?(this.words[0]=T-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(T),this.negative=1,this):this._iaddn(T)},v.prototype._iaddn=function(T){this.words[0]+=T;for(var D=0;D<this.length&&this.words[D]>=67108864;D++)this.words[D]-=67108864,D===this.length-1?this.words[D+1]=1:this.words[D+1]++;return this.length=Math.max(this.length,D+1),this},v.prototype.isubn=function(T){if(g(typeof T=="number"),g(T<67108864),T<0)return this.iaddn(-T);if(this.negative!==0)return this.negative=0,this.iaddn(T),this.negative=1,this;if(this.words[0]-=T,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var D=0;D<this.length&&this.words[D]<0;D++)this.words[D]+=67108864,this.words[D+1]-=1;return this.strip()},v.prototype.addn=function(T){return this.clone().iaddn(T)},v.prototype.subn=function(T){return this.clone().isubn(T)},v.prototype.iabs=function(){return this.negative=0,this},v.prototype.abs=function(){return this.clone().iabs()},v.prototype._ishlnsubmul=function(T,D,x){var A=T.length+x,B;this._expand(A);var N,q=0;for(B=0;B<T.length;B++){N=(this.words[B+x]|0)+q;var K=(T.words[B]|0)*D;N-=K&67108863,q=(N>>26)-(K/67108864|0),this.words[B+x]=N&67108863}for(;B<this.length-x;B++)N=(this.words[B+x]|0)+q,q=N>>26,this.words[B+x]=N&67108863;if(q===0)return this.strip();for(g(q===-1),q=0,B=0;B<this.length;B++)N=-(this.words[B]|0)+q,q=N>>26,this.words[B]=N&67108863;return this.negative=1,this.strip()},v.prototype._wordDiv=function(T,D){var x=this.length-T.length,A=this.clone(),B=T,N=B.words[B.length-1]|0,q=this._countBits(N);x=26-q,x!==0&&(B=B.ushln(x),A.iushln(x),N=B.words[B.length-1]|0);var K=A.length-B.length,P;if(D!=="mod"){P=new v(null),P.length=K+1,P.words=new Array(P.length);for(var k=0;k<P.length;k++)P.words[k]=0}var M=A.clone()._ishlnsubmul(B,1,K);M.negative===0&&(A=M,P&&(P.words[K]=1));for(var W=K-1;W>=0;W--){var ce=(A.words[B.length+W]|0)*67108864+(A.words[B.length+W-1]|0);for(ce=Math.min(ce/N|0,67108863),A._ishlnsubmul(B,ce,W);A.negative!==0;)ce--,A.negative=0,A._ishlnsubmul(B,1,W),A.isZero()||(A.negative^=1);P&&(P.words[W]=ce)}return P&&P.strip(),A.strip(),D!=="div"&&x!==0&&A.iushrn(x),{div:P||null,mod:A}},v.prototype.divmod=function(T,D,x){if(g(!T.isZero()),this.isZero())return{div:new v(0),mod:new v(0)};var A,B,N;return this.negative!==0&&T.negative===0?(N=this.neg().divmod(T,D),D!=="mod"&&(A=N.div.neg()),D!=="div"&&(B=N.mod.neg(),x&&B.negative!==0&&B.iadd(T)),{div:A,mod:B}):this.negative===0&&T.negative!==0?(N=this.divmod(T.neg(),D),D!=="mod"&&(A=N.div.neg()),{div:A,mod:N.mod}):this.negative&T.negative?(N=this.neg().divmod(T.neg(),D),D!=="div"&&(B=N.mod.neg(),x&&B.negative!==0&&B.isub(T)),{div:N.div,mod:B}):T.length>this.length||this.cmp(T)<0?{div:new v(0),mod:this}:T.length===1?D==="div"?{div:this.divn(T.words[0]),mod:null}:D==="mod"?{div:null,mod:new v(this.modn(T.words[0]))}:{div:this.divn(T.words[0]),mod:new v(this.modn(T.words[0]))}:this._wordDiv(T,D)},v.prototype.div=function(T){return this.divmod(T,"div",!1).div},v.prototype.mod=function(T){return this.divmod(T,"mod",!1).mod},v.prototype.umod=function(T){return this.divmod(T,"mod",!0).mod},v.prototype.divRound=function(T){var D=this.divmod(T);if(D.mod.isZero())return D.div;var x=D.div.negative!==0?D.mod.isub(T):D.mod,A=T.ushrn(1),B=T.andln(1),N=x.cmp(A);return N<0||B===1&&N===0?D.div:D.div.negative!==0?D.div.isubn(1):D.div.iaddn(1)},v.prototype.modn=function(T){g(T<=67108863);for(var D=(1<<26)%T,x=0,A=this.length-1;A>=0;A--)x=(D*x+(this.words[A]|0))%T;return x},v.prototype.idivn=function(T){g(T<=67108863);for(var D=0,x=this.length-1;x>=0;x--){var A=(this.words[x]|0)+D*67108864;this.words[x]=A/T|0,D=A%T}return this.strip()},v.prototype.divn=function(T){return this.clone().idivn(T)},v.prototype.egcd=function(T){g(T.negative===0),g(!T.isZero());var D=this,x=T.clone();D.negative!==0?D=D.umod(T):D=D.clone();for(var A=new v(1),B=new v(0),N=new v(0),q=new v(1),K=0;D.isEven()&&x.isEven();)D.iushrn(1),x.iushrn(1),++K;for(var P=x.clone(),k=D.clone();!D.isZero();){for(var M=0,W=1;!(D.words[0]&W)&&M<26;++M,W<<=1);if(M>0)for(D.iushrn(M);M-- >0;)(A.isOdd()||B.isOdd())&&(A.iadd(P),B.isub(k)),A.iushrn(1),B.iushrn(1);for(var ce=0,be=1;!(x.words[0]&be)&&ce<26;++ce,be<<=1);if(ce>0)for(x.iushrn(ce);ce-- >0;)(N.isOdd()||q.isOdd())&&(N.iadd(P),q.isub(k)),N.iushrn(1),q.iushrn(1);D.cmp(x)>=0?(D.isub(x),A.isub(N),B.isub(q)):(x.isub(D),N.isub(A),q.isub(B))}return{a:N,b:q,gcd:x.iushln(K)}},v.prototype._invmp=function(T){g(T.negative===0),g(!T.isZero());var D=this,x=T.clone();D.negative!==0?D=D.umod(T):D=D.clone();for(var A=new v(1),B=new v(0),N=x.clone();D.cmpn(1)>0&&x.cmpn(1)>0;){for(var q=0,K=1;!(D.words[0]&K)&&q<26;++q,K<<=1);if(q>0)for(D.iushrn(q);q-- >0;)A.isOdd()&&A.iadd(N),A.iushrn(1);for(var P=0,k=1;!(x.words[0]&k)&&P<26;++P,k<<=1);if(P>0)for(x.iushrn(P);P-- >0;)B.isOdd()&&B.iadd(N),B.iushrn(1);D.cmp(x)>=0?(D.isub(x),A.isub(B)):(x.isub(D),B.isub(A))}var M;return D.cmpn(1)===0?M=A:M=B,M.cmpn(0)<0&&M.iadd(T),M},v.prototype.gcd=function(T){if(this.isZero())return T.abs();if(T.isZero())return this.abs();var D=this.clone(),x=T.clone();D.negative=0,x.negative=0;for(var A=0;D.isEven()&&x.isEven();A++)D.iushrn(1),x.iushrn(1);do{for(;D.isEven();)D.iushrn(1);for(;x.isEven();)x.iushrn(1);var B=D.cmp(x);if(B<0){var N=D;D=x,x=N}else if(B===0||x.cmpn(1)===0)break;D.isub(x)}while(!0);return x.iushln(A)},v.prototype.invm=function(T){return this.egcd(T).a.umod(T)},v.prototype.isEven=function(){return(this.words[0]&1)===0},v.prototype.isOdd=function(){return(this.words[0]&1)===1},v.prototype.andln=function(T){return this.words[0]&T},v.prototype.bincn=function(T){g(typeof T=="number");var D=T%26,x=(T-D)/26,A=1<<D;if(this.length<=x)return this._expand(x+1),this.words[x]|=A,this;for(var B=A,N=x;B!==0&&N<this.length;N++){var q=this.words[N]|0;q+=B,B=q>>>26,q&=67108863,this.words[N]=q}return B!==0&&(this.words[N]=B,this.length++),this},v.prototype.isZero=function(){return this.length===1&&this.words[0]===0},v.prototype.cmpn=function(T){var D=T<0;if(this.negative!==0&&!D)return-1;if(this.negative===0&&D)return 1;this.strip();var x;if(this.length>1)x=1;else{D&&(T=-T),g(T<=67108863,"Number is too big");var A=this.words[0]|0;x=A===T?0:A<T?-1:1}return this.negative!==0?-x|0:x},v.prototype.cmp=function(T){if(this.negative!==0&&T.negative===0)return-1;if(this.negative===0&&T.negative!==0)return 1;var D=this.ucmp(T);return this.negative!==0?-D|0:D},v.prototype.ucmp=function(T){if(this.length>T.length)return 1;if(this.length<T.length)return-1;for(var D=0,x=this.length-1;x>=0;x--){var A=this.words[x]|0,B=T.words[x]|0;if(A!==B){A<B?D=-1:A>B&&(D=1);break}}return D},v.prototype.gtn=function(T){return this.cmpn(T)===1},v.prototype.gt=function(T){return this.cmp(T)===1},v.prototype.gten=function(T){return this.cmpn(T)>=0},v.prototype.gte=function(T){return this.cmp(T)>=0},v.prototype.ltn=function(T){return this.cmpn(T)===-1},v.prototype.lt=function(T){return this.cmp(T)===-1},v.prototype.lten=function(T){return this.cmpn(T)<=0},v.prototype.lte=function(T){return this.cmp(T)<=0},v.prototype.eqn=function(T){return this.cmpn(T)===0},v.prototype.eq=function(T){return this.cmp(T)===0},v.red=function(T){return new re(T)},v.prototype.toRed=function(T){return g(!this.red,"Already a number in reduction context"),g(this.negative===0,"red works only with positives"),T.convertTo(this)._forceRed(T)},v.prototype.fromRed=function(){return g(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},v.prototype._forceRed=function(T){return this.red=T,this},v.prototype.forceRed=function(T){return g(!this.red,"Already a number in reduction context"),this._forceRed(T)},v.prototype.redAdd=function(T){return g(this.red,"redAdd works only with red numbers"),this.red.add(this,T)},v.prototype.redIAdd=function(T){return g(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,T)},v.prototype.redSub=function(T){return g(this.red,"redSub works only with red numbers"),this.red.sub(this,T)},v.prototype.redISub=function(T){return g(this.red,"redISub works only with red numbers"),this.red.isub(this,T)},v.prototype.redShl=function(T){return g(this.red,"redShl works only with red numbers"),this.red.shl(this,T)},v.prototype.redMul=function(T){return g(this.red,"redMul works only with red numbers"),this.red._verify2(this,T),this.red.mul(this,T)},v.prototype.redIMul=function(T){return g(this.red,"redMul works only with red numbers"),this.red._verify2(this,T),this.red.imul(this,T)},v.prototype.redSqr=function(){return g(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},v.prototype.redISqr=function(){return g(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},v.prototype.redSqrt=function(){return g(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},v.prototype.redInvm=function(){return g(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},v.prototype.redNeg=function(){return g(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},v.prototype.redPow=function(T){return g(this.red&&!T.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,T)};var j={k256:null,p224:null,p192:null,p25519:null};function F(G,T){this.name=G,this.p=new v(T,16),this.n=this.p.bitLength(),this.k=new v(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}F.prototype._tmp=function(){var T=new v(null);return T.words=new Array(Math.ceil(this.n/13)),T},F.prototype.ireduce=function(T){var D=T,x;do this.split(D,this.tmp),D=this.imulK(D),D=D.iadd(this.tmp),x=D.bitLength();while(x>this.n);var A=x<this.n?-1:D.ucmp(this.p);return A===0?(D.words[0]=0,D.length=1):A>0?D.isub(this.p):D.strip!==void 0?D.strip():D._strip(),D},F.prototype.split=function(T,D){T.iushrn(this.n,0,D)},F.prototype.imulK=function(T){return T.imul(this.k)};function X(){F.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}_(X,F),X.prototype.split=function(T,D){for(var x=4194303,A=Math.min(T.length,9),B=0;B<A;B++)D.words[B]=T.words[B];if(D.length=A,T.length<=9){T.words[0]=0,T.length=1;return}var N=T.words[9];for(D.words[D.length++]=N&x,B=10;B<T.length;B++){var q=T.words[B]|0;T.words[B-10]=(q&x)<<4|N>>>22,N=q}N>>>=22,T.words[B-10]=N,N===0&&T.length>10?T.length-=10:T.length-=9},X.prototype.imulK=function(T){T.words[T.length]=0,T.words[T.length+1]=0,T.length+=2;for(var D=0,x=0;x<T.length;x++){var A=T.words[x]|0;D+=A*977,T.words[x]=D&67108863,D=A*64+(D/67108864|0)}return T.words[T.length-1]===0&&(T.length--,T.words[T.length-1]===0&&T.length--),T};function z(){F.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}_(z,F);function Y(){F.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}_(Y,F);function ne(){F.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}_(ne,F),ne.prototype.imulK=function(T){for(var D=0,x=0;x<T.length;x++){var A=(T.words[x]|0)*19+D,B=A&67108863;A>>>=26,T.words[x]=B,D=A}return D!==0&&(T.words[T.length++]=D),T},v._prime=function(T){if(j[T])return j[T];var D;if(T==="k256")D=new X;else if(T==="p224")D=new z;else if(T==="p192")D=new Y;else if(T==="p25519")D=new ne;else throw new Error("Unknown prime "+T);return j[T]=D,D};function re(G){if(typeof G=="string"){var T=v._prime(G);this.m=T.p,this.prime=T}else g(G.gtn(1),"modulus must be greater than 1"),this.m=G,this.prime=null}re.prototype._verify1=function(T){g(T.negative===0,"red works only with positives"),g(T.red,"red works only with red numbers")},re.prototype._verify2=function(T,D){g((T.negative|D.negative)===0,"red works only with positives"),g(T.red&&T.red===D.red,"red works only with red numbers")},re.prototype.imod=function(T){return this.prime?this.prime.ireduce(T)._forceRed(this):T.umod(this.m)._forceRed(this)},re.prototype.neg=function(T){return T.isZero()?T.clone():this.m.sub(T)._forceRed(this)},re.prototype.add=function(T,D){this._verify2(T,D);var x=T.add(D);return x.cmp(this.m)>=0&&x.isub(this.m),x._forceRed(this)},re.prototype.iadd=function(T,D){this._verify2(T,D);var x=T.iadd(D);return x.cmp(this.m)>=0&&x.isub(this.m),x},re.prototype.sub=function(T,D){this._verify2(T,D);var x=T.sub(D);return x.cmpn(0)<0&&x.iadd(this.m),x._forceRed(this)},re.prototype.isub=function(T,D){this._verify2(T,D);var x=T.isub(D);return x.cmpn(0)<0&&x.iadd(this.m),x},re.prototype.shl=function(T,D){return this._verify1(T),this.imod(T.ushln(D))},re.prototype.imul=function(T,D){return this._verify2(T,D),this.imod(T.imul(D))},re.prototype.mul=function(T,D){return this._verify2(T,D),this.imod(T.mul(D))},re.prototype.isqr=function(T){return this.imul(T,T.clone())},re.prototype.sqr=function(T){return this.mul(T,T)},re.prototype.sqrt=function(T){if(T.isZero())return T.clone();var D=this.m.andln(3);if(g(D%2===1),D===3){var x=this.m.add(new v(1)).iushrn(2);return this.pow(T,x)}for(var A=this.m.subn(1),B=0;!A.isZero()&&A.andln(1)===0;)B++,A.iushrn(1);g(!A.isZero());var N=new v(1).toRed(this),q=N.redNeg(),K=this.m.subn(1).iushrn(1),P=this.m.bitLength();for(P=new v(2*P*P).toRed(this);this.pow(P,K).cmp(q)!==0;)P.redIAdd(q);for(var k=this.pow(P,A),M=this.pow(T,A.addn(1).iushrn(1)),W=this.pow(T,A),ce=B;W.cmp(N)!==0;){for(var be=W,ve=0;be.cmp(N)!==0;ve++)be=be.redSqr();g(ve<ce);var Z=this.pow(k,new v(1).iushln(ce-ve-1));M=M.redMul(Z),k=Z.redSqr(),W=W.redMul(k),ce=ve}return M},re.prototype.invm=function(T){var D=T._invmp(this.m);return D.negative!==0?(D.negative=0,this.imod(D).redNeg()):this.imod(D)},re.prototype.pow=function(T,D){if(D.isZero())return new v(1).toRed(this);if(D.cmpn(1)===0)return T.clone();var x=4,A=new Array(1<<x);A[0]=new v(1).toRed(this),A[1]=T;for(var B=2;B<A.length;B++)A[B]=this.mul(A[B-1],T);var N=A[0],q=0,K=0,P=D.bitLength()%26;for(P===0&&(P=26),B=D.length-1;B>=0;B--){for(var k=D.words[B],M=P-1;M>=0;M--){var W=k>>M&1;if(N!==A[0]&&(N=this.sqr(N)),W===0&&q===0){K=0;continue}q<<=1,q|=W,K++,!(K!==x&&(B!==0||M!==0))&&(N=this.mul(N,A[q]),K=0,q=0)}P=26}return N},re.prototype.convertTo=function(T){var D=T.umod(this.m);return D===T?D.clone():D},re.prototype.convertFrom=function(T){var D=T.clone();return D.red=null,D},v.mont=function(T){return new se(T)};function se(G){re.call(this,G),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new v(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}_(se,re),se.prototype.convertTo=function(T){return this.imod(T.ushln(this.shift))},se.prototype.convertFrom=function(T){var D=this.imod(T.mul(this.rinv));return D.red=null,D},se.prototype.imul=function(T,D){if(T.isZero()||D.isZero())return T.words[0]=0,T.length=1,T;var x=T.imul(D),A=x.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),B=x.isub(A).iushrn(this.shift),N=B;return B.cmp(this.m)>=0?N=B.isub(this.m):B.cmpn(0)<0&&(N=B.iadd(this.m)),N._forceRed(this)},se.prototype.mul=function(T,D){if(T.isZero()||D.isZero())return new v(0)._forceRed(this);var x=T.mul(D),A=x.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),B=x.isub(A).iushrn(this.shift),N=B;return B.cmp(this.m)>=0?N=B.isub(this.m):B.cmpn(0)<0&&(N=B.iadd(this.m)),N._forceRed(this)},se.prototype.invm=function(T){var D=this.imod(T._invmp(this.m).mul(this.r2));return D._forceRed(this)}})(f,commonjsGlobal)}(bn$2)),bn$2.exports}var brorand={exports:{}},hasRequiredBrorand;function requireBrorand(){if(hasRequiredBrorand)return brorand.exports;hasRequiredBrorand=1;var f;brorand.exports=function(_){return f||(f=new r(null)),f.generate(_)};function r(g){this.rand=g}if(brorand.exports.Rand=r,r.prototype.generate=function(_){return this._rand(_)},r.prototype._rand=function(_){if(this.rand.getBytes)return this.rand.getBytes(_);for(var v=new Uint8Array(_),y=0;y<v.length;y++)v[y]=this.rand.getByte();return v},typeof self=="object")self.crypto&&self.crypto.getRandomValues?r.prototype._rand=function(_){var v=new Uint8Array(_);return self.crypto.getRandomValues(v),v}:self.msCrypto&&self.msCrypto.getRandomValues?r.prototype._rand=function(_){var v=new Uint8Array(_);return self.msCrypto.getRandomValues(v),v}:typeof window=="object"&&(r.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var d=requireCryptoBrowserify();if(typeof d.randomBytes!="function")throw new Error("Not supported");r.prototype._rand=function(_){return d.randomBytes(_)}}catch{}return brorand.exports}var mr,hasRequiredMr;function requireMr(){if(hasRequiredMr)return mr;hasRequiredMr=1;var f=requireBn$2(),r=requireBrorand();function d(g){this.rand=g||new r.Rand}return mr=d,d.create=function(_){return new d(_)},d.prototype._randbelow=function(_){var v=_.bitLength(),y=Math.ceil(v/8);do var m=new f(this.rand.generate(y));while(m.cmp(_)>=0);return m},d.prototype._randrange=function(_,v){var y=v.sub(_);return _.add(this._randbelow(y))},d.prototype.test=function(_,v,y){var m=_.bitLength(),w=f.mont(_),C=new f(1).toRed(w);v||(v=Math.max(1,m/48|0));for(var b=_.subn(1),E=0;!b.testn(E);E++);for(var S=_.shrn(E),R=b.toRed(w),O=!0;v>0;v--){var $=this._randrange(new f(2),b);y&&y($);var I=$.toRed(w).redPow(S);if(!(I.cmp(C)===0||I.cmp(R)===0)){for(var U=1;U<E;U++){if(I=I.redSqr(),I.cmp(C)===0)return!1;if(I.cmp(R)===0)break}if(U===E)return!1}}return O},d.prototype.getDivisor=function(_,v){var y=_.bitLength(),m=f.mont(_),w=new f(1).toRed(m);v||(v=Math.max(1,y/48|0));for(var C=_.subn(1),b=0;!C.testn(b);b++);for(var E=_.shrn(b),S=C.toRed(m);v>0;v--){var R=this._randrange(new f(2),C),O=_.gcd(R);if(O.cmpn(1)!==0)return O;var $=R.toRed(m).redPow(E);if(!($.cmp(w)===0||$.cmp(S)===0)){for(var I=1;I<b;I++){if($=$.redSqr(),$.cmp(w)===0)return $.fromRed().subn(1).gcd(_);if($.cmp(S)===0)break}if(I===b)return $=$.redSqr(),$.fromRed().subn(1).gcd(_)}}return!1},mr}var generatePrime,hasRequiredGeneratePrime;function requireGeneratePrime(){if(hasRequiredGeneratePrime)return generatePrime;hasRequiredGeneratePrime=1;var f=requireBrowser$b();generatePrime=I,I.simpleSieve=O,I.fermatTest=$;var r=requireBn$2(),d=new r(24),g=requireMr(),_=new g,v=new r(1),y=new r(2),m=new r(5);new r(16),new r(8);var w=new r(10),C=new r(3);new r(7);var b=new r(11),E=new r(4);new r(12);var S=null;function R(){if(S!==null)return S;var U=1048576,L=[];L[0]=2;for(var j=1,F=3;F<U;F+=2){for(var X=Math.ceil(Math.sqrt(F)),z=0;z<j&&L[z]<=X&&F%L[z]!==0;z++);j!==z&&L[z]<=X||(L[j++]=F)}return S=L,L}function O(U){for(var L=R(),j=0;j<L.length;j++)if(U.modn(L[j])===0)return U.cmpn(L[j])===0;return!0}function $(U){var L=r.mont(U);return y.toRed(L).redPow(U.subn(1)).fromRed().cmpn(1)===0}function I(U,L){if(U<16)return L===2||L===5?new r([140,123]):new r([140,39]);L=new r(L);for(var j,F;;){for(j=new r(f(Math.ceil(U/8)));j.bitLength()>U;)j.ishrn(1);if(j.isEven()&&j.iadd(v),j.testn(1)||j.iadd(y),L.cmp(y)){if(!L.cmp(m))for(;j.mod(w).cmp(C);)j.iadd(E)}else for(;j.mod(d).cmp(b);)j.iadd(E);if(F=j.shrn(1),O(F)&&O(j)&&$(F)&&$(j)&&_.test(F)&&_.test(j))return j}}return generatePrime}const modp1={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"},require$$1$2={modp1,modp2,modp5,modp14,modp15,modp16,modp17,modp18};var dh,hasRequiredDh;function requireDh(){if(hasRequiredDh)return dh;hasRequiredDh=1;var f=requireBn$2(),r=requireMr(),d=new r,g=new f(24),_=new f(11),v=new f(10),y=new f(3),m=new f(7),w=requireGeneratePrime(),C=requireBrowser$b();dh=O;function b(I,U){return U=U||"utf8",Buffer.isBuffer(I)||(I=new Buffer(I,U)),this._pub=new f(I),this}function E(I,U){return U=U||"utf8",Buffer.isBuffer(I)||(I=new Buffer(I,U)),this._priv=new f(I),this}var S={};function R(I,U){var L=U.toString("hex"),j=[L,I.toString(16)].join("_");if(j in S)return S[j];var F=0;if(I.isEven()||!w.simpleSieve||!w.fermatTest(I)||!d.test(I))return F+=1,L==="02"||L==="05"?F+=8:F+=4,S[j]=F,F;d.test(I.shrn(1))||(F+=2);var X;switch(L){case"02":I.mod(g).cmp(_)&&(F+=8);break;case"05":X=I.mod(v),X.cmp(y)&&X.cmp(m)&&(F+=8);break;default:F+=4}return S[j]=F,F}function O(I,U,L){this.setGenerator(U),this.__prime=new f(I),this._prime=f.mont(this.__prime),this._primeLen=I.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,L?(this.setPublicKey=b,this.setPrivateKey=E):this._primeCode=8}Object.defineProperty(O.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=R(this.__prime,this.__gen)),this._primeCode}}),O.prototype.generateKeys=function(){return this._priv||(this._priv=new f(C(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},O.prototype.computeSecret=function(I){I=new f(I),I=I.toRed(this._prime);var U=I.redPow(this._priv).fromRed(),L=new Buffer(U.toArray()),j=this.getPrime();if(L.length<j.length){var F=new Buffer(j.length-L.length);F.fill(0),L=Buffer.concat([F,L])}return L},O.prototype.getPublicKey=function(U){return $(this._pub,U)},O.prototype.getPrivateKey=function(U){return $(this._priv,U)},O.prototype.getPrime=function(I){return $(this.__prime,I)},O.prototype.getGenerator=function(I){return $(this._gen,I)},O.prototype.setGenerator=function(I,U){return U=U||"utf8",Buffer.isBuffer(I)||(I=new Buffer(I,U)),this.__gen=I,this._gen=new f(I),this};function $(I,U){var L=new Buffer(I.toArray());return U?L.toString(U):L}return dh}var hasRequiredBrowser$4;function requireBrowser$4(){if(hasRequiredBrowser$4)return browser$5;hasRequiredBrowser$4=1;var f=requireGeneratePrime(),r=require$$1$2,d=requireDh();function g(y){var m=new Buffer(r[y].prime,"hex"),w=new Buffer(r[y].gen,"hex");return new d(m,w)}var _={binary:!0,hex:!0,base64:!0};function v(y,m,w,C){return Buffer.isBuffer(m)||_[m]===void 0?v(y,"binary",m,w):(m=m||"binary",C=C||"binary",w=w||new Buffer([2]),Buffer.isBuffer(w)||(w=new Buffer(w,C)),typeof y=="number"?new d(f(y,w),w,!0):(Buffer.isBuffer(y)||(y=new Buffer(y,m)),new d(y,w,!0)))}return browser$5.DiffieHellmanGroup=browser$5.createDiffieHellmanGroup=browser$5.getDiffieHellman=g,browser$5.createDiffieHellman=browser$5.DiffieHellman=v,browser$5}var readableBrowser={exports:{}},processNextickArgs={exports:{}},hasRequiredProcessNextickArgs;function requireProcessNextickArgs(){if(hasRequiredProcessNextickArgs)return processNextickArgs.exports;hasRequiredProcessNextickArgs=1,typeof process$1>"u"||!process$1.version||process$1.version.indexOf("v0.")===0||process$1.version.indexOf("v1.")===0&&process$1.version.indexOf("v1.8.")!==0?processNextickArgs.exports={nextTick:f}:processNextickArgs.exports=process$1;function f(r,d,g,_){if(typeof r!="function")throw new TypeError('"callback" argument must be a function');var v=arguments.length,y,m;switch(v){case 0:case 1:return process$1.nextTick(r);case 2:return process$1.nextTick(function(){r.call(null,d)});case 3:return process$1.nextTick(function(){r.call(null,d,g)});case 4:return process$1.nextTick(function(){r.call(null,d,g,_)});default:for(y=new Array(v-1),m=0;m<y.length;)y[m++]=arguments[m];return process$1.nextTick(function(){r.apply(null,y)})}}return processNextickArgs.exports}var isarray,hasRequiredIsarray;function requireIsarray(){if(hasRequiredIsarray)return isarray;hasRequiredIsarray=1;var f={}.toString;return isarray=Array.isArray||function(r){return f.call(r)=="[object Array]"},isarray}var streamBrowser,hasRequiredStreamBrowser;function requireStreamBrowser(){return hasRequiredStreamBrowser||(hasRequiredStreamBrowser=1,streamBrowser=requireEvents().EventEmitter),streamBrowser}var safeBuffer={exports:{}},hasRequiredSafeBuffer;function requireSafeBuffer(){return hasRequiredSafeBuffer||(hasRequiredSafeBuffer=1,function(f,r){var d=require$$0$2,g=d.Buffer;function _(y,m){for(var w in y)m[w]=y[w]}g.from&&g.alloc&&g.allocUnsafe&&g.allocUnsafeSlow?f.exports=d:(_(d,r),r.Buffer=v);function v(y,m,w){return g(y,m,w)}_(g,v),v.from=function(y,m,w){if(typeof y=="number")throw new TypeError("Argument must not be a number");return g(y,m,w)},v.alloc=function(y,m,w){if(typeof y!="number")throw new TypeError("Argument must be a number");var C=g(y);return m!==void 0?typeof w=="string"?C.fill(m,w):C.fill(m):C.fill(0),C},v.allocUnsafe=function(y){if(typeof y!="number")throw new TypeError("Argument must be a number");return g(y)},v.allocUnsafeSlow=function(y){if(typeof y!="number")throw new TypeError("Argument must be a number");return d.SlowBuffer(y)}}(safeBuffer,safeBuffer.exports)),safeBuffer.exports}var util={},hasRequiredUtil;function requireUtil(){if(hasRequiredUtil)return util;hasRequiredUtil=1;function f($){return Array.isArray?Array.isArray($):O($)==="[object Array]"}util.isArray=f;function r($){return typeof $=="boolean"}util.isBoolean=r;function d($){return $===null}util.isNull=d;function g($){return $==null}util.isNullOrUndefined=g;function _($){return typeof $=="number"}util.isNumber=_;function v($){return typeof $=="string"}util.isString=v;function y($){return typeof $=="symbol"}util.isSymbol=y;function m($){return $===void 0}util.isUndefined=m;function w($){return O($)==="[object RegExp]"}util.isRegExp=w;function C($){return typeof $=="object"&&$!==null}util.isObject=C;function b($){return O($)==="[object Date]"}util.isDate=b;function E($){return O($)==="[object Error]"||$ instanceof Error}util.isError=E;function S($){return typeof $=="function"}util.isFunction=S;function R($){return $===null||typeof $=="boolean"||typeof $=="number"||typeof $=="string"||typeof $=="symbol"||typeof $>"u"}util.isPrimitive=R,util.isBuffer=require$$0$2.Buffer.isBuffer;function O($){return Object.prototype.toString.call($)}return util}var BufferList={exports:{}},hasRequiredBufferList;function requireBufferList(){return hasRequiredBufferList||(hasRequiredBufferList=1,function(f){function r(v,y){if(!(v instanceof y))throw new TypeError("Cannot call a class as a function")}var d=requireSafeBuffer().Buffer,g=requireUtil$1();function _(v,y,m){v.copy(y,m)}f.exports=function(){function v(){r(this,v),this.head=null,this.tail=null,this.length=0}return v.prototype.push=function(m){var w={data:m,next:null};this.length>0?this.tail.next=w:this.head=w,this.tail=w,++this.length},v.prototype.unshift=function(m){var w={data:m,next:this.head};this.length===0&&(this.tail=w),this.head=w,++this.length},v.prototype.shift=function(){if(this.length!==0){var m=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,m}},v.prototype.clear=function(){this.head=this.tail=null,this.length=0},v.prototype.join=function(m){if(this.length===0)return"";for(var w=this.head,C=""+w.data;w=w.next;)C+=m+w.data;return C},v.prototype.concat=function(m){if(this.length===0)return d.alloc(0);for(var w=d.allocUnsafe(m>>>0),C=this.head,b=0;C;)_(C.data,w,b),b+=C.data.length,C=C.next;return w},v}(),g&&g.inspect&&g.inspect.custom&&(f.exports.prototype[g.inspect.custom]=function(){var v=g.inspect({length:this.length});return this.constructor.name+" "+v})}(BufferList)),BufferList.exports}var destroy_1,hasRequiredDestroy;function requireDestroy(){if(hasRequiredDestroy)return destroy_1;hasRequiredDestroy=1;var f=requireProcessNextickArgs();function r(_,v){var y=this,m=this._readableState&&this._readableState.destroyed,w=this._writableState&&this._writableState.destroyed;return m||w?(v?v(_):_&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,f.nextTick(g,this,_)):f.nextTick(g,this,_)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(_||null,function(C){!v&&C?y._writableState?y._writableState.errorEmitted||(y._writableState.errorEmitted=!0,f.nextTick(g,y,C)):f.nextTick(g,y,C):v&&v(C)}),this)}function d(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function g(_,v){_.emit("error",v)}return destroy_1={destroy:r,undestroy:d},destroy_1}var _stream_writable,hasRequired_stream_writable;function require_stream_writable(){if(hasRequired_stream_writable)return _stream_writable;hasRequired_stream_writable=1;var f=requireProcessNextickArgs();_stream_writable=$;function r(N){var q=this;this.next=null,this.entry=null,this.finish=function(){B(q,N)}}var d=!process$1.browser&&["v0.10","v0.9."].indexOf(process$1.version.slice(0,5))>-1?setImmediate:f.nextTick,g;$.WritableState=R;var _=Object.create(requireUtil());_.inherits=requireInherits_browser();var v={deprecate:requireBrowser$a()},y=requireStreamBrowser(),m=requireSafeBuffer().Buffer,w=(typeof commonjsGlobal<"u"?commonjsGlobal:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function C(N){return m.from(N)}function b(N){return m.isBuffer(N)||N instanceof w}var E=requireDestroy();_.inherits($,y);function S(){}function R(N,q){g=g||require_stream_duplex(),N=N||{};var K=q instanceof g;this.objectMode=!!N.objectMode,K&&(this.objectMode=this.objectMode||!!N.writableObjectMode);var P=N.highWaterMark,k=N.writableHighWaterMark,M=this.objectMode?16:16*1024;P||P===0?this.highWaterMark=P:K&&(k||k===0)?this.highWaterMark=k:this.highWaterMark=M,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var W=N.decodeStrings===!1;this.decodeStrings=!W,this.defaultEncoding=N.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(ce){Y(q,ce)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new r(this)}R.prototype.getBuffer=function(){for(var q=this.bufferedRequest,K=[];q;)K.push(q),q=q.next;return K},function(){try{Object.defineProperty(R.prototype,"buffer",{get:v.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var O;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(O=Function.prototype[Symbol.hasInstance],Object.defineProperty($,Symbol.hasInstance,{value:function(N){return O.call(this,N)?!0:this!==$?!1:N&&N._writableState instanceof R}})):O=function(N){return N instanceof this};function $(N){if(g=g||require_stream_duplex(),!O.call($,this)&&!(this instanceof g))return new $(N);this._writableState=new R(N,this),this.writable=!0,N&&(typeof N.write=="function"&&(this._write=N.write),typeof N.writev=="function"&&(this._writev=N.writev),typeof N.destroy=="function"&&(this._destroy=N.destroy),typeof N.final=="function"&&(this._final=N.final)),y.call(this)}$.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function I(N,q){var K=new Error("write after end");N.emit("error",K),f.nextTick(q,K)}function U(N,q,K,P){var k=!0,M=!1;return K===null?M=new TypeError("May not write null values to stream"):typeof K!="string"&&K!==void 0&&!q.objectMode&&(M=new TypeError("Invalid non-string/buffer chunk")),M&&(N.emit("error",M),f.nextTick(P,M),k=!1),k}$.prototype.write=function(N,q,K){var P=this._writableState,k=!1,M=!P.objectMode&&b(N);return M&&!m.isBuffer(N)&&(N=C(N)),typeof q=="function"&&(K=q,q=null),M?q="buffer":q||(q=P.defaultEncoding),typeof K!="function"&&(K=S),P.ended?I(this,K):(M||U(this,P,N,K))&&(P.pendingcb++,k=j(this,P,M,N,q,K)),k},$.prototype.cork=function(){var N=this._writableState;N.corked++},$.prototype.uncork=function(){var N=this._writableState;N.corked&&(N.corked--,!N.writing&&!N.corked&&!N.bufferProcessing&&N.bufferedRequest&&se(this,N))},$.prototype.setDefaultEncoding=function(q){if(typeof q=="string"&&(q=q.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((q+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+q);return this._writableState.defaultEncoding=q,this};function L(N,q,K){return!N.objectMode&&N.decodeStrings!==!1&&typeof q=="string"&&(q=m.from(q,K)),q}Object.defineProperty($.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function j(N,q,K,P,k,M){if(!K){var W=L(q,P,k);P!==W&&(K=!0,k="buffer",P=W)}var ce=q.objectMode?1:P.length;q.length+=ce;var be=q.length<q.highWaterMark;if(be||(q.needDrain=!0),q.writing||q.corked){var ve=q.lastBufferedRequest;q.lastBufferedRequest={chunk:P,encoding:k,isBuf:K,callback:M,next:null},ve?ve.next=q.lastBufferedRequest:q.bufferedRequest=q.lastBufferedRequest,q.bufferedRequestCount+=1}else F(N,q,!1,ce,P,k,M);return be}function F(N,q,K,P,k,M,W){q.writelen=P,q.writecb=W,q.writing=!0,q.sync=!0,K?N._writev(k,q.onwrite):N._write(k,M,q.onwrite),q.sync=!1}function X(N,q,K,P,k){--q.pendingcb,K?(f.nextTick(k,P),f.nextTick(x,N,q),N._writableState.errorEmitted=!0,N.emit("error",P)):(k(P),N._writableState.errorEmitted=!0,N.emit("error",P),x(N,q))}function z(N){N.writing=!1,N.writecb=null,N.length-=N.writelen,N.writelen=0}function Y(N,q){var K=N._writableState,P=K.sync,k=K.writecb;if(z(K),q)X(N,K,P,q,k);else{var M=G(K);!M&&!K.corked&&!K.bufferProcessing&&K.bufferedRequest&&se(N,K),P?d(ne,N,K,M,k):ne(N,K,M,k)}}function ne(N,q,K,P){K||re(N,q),q.pendingcb--,P(),x(N,q)}function re(N,q){q.length===0&&q.needDrain&&(q.needDrain=!1,N.emit("drain"))}function se(N,q){q.bufferProcessing=!0;var K=q.bufferedRequest;if(N._writev&&K&&K.next){var P=q.bufferedRequestCount,k=new Array(P),M=q.corkedRequestsFree;M.entry=K;for(var W=0,ce=!0;K;)k[W]=K,K.isBuf||(ce=!1),K=K.next,W+=1;k.allBuffers=ce,F(N,q,!0,q.length,k,"",M.finish),q.pendingcb++,q.lastBufferedRequest=null,M.next?(q.corkedRequestsFree=M.next,M.next=null):q.corkedRequestsFree=new r(q),q.bufferedRequestCount=0}else{for(;K;){var be=K.chunk,ve=K.encoding,Z=K.callback,J=q.objectMode?1:be.length;if(F(N,q,!1,J,be,ve,Z),K=K.next,q.bufferedRequestCount--,q.writing)break}K===null&&(q.lastBufferedRequest=null)}q.bufferedRequest=K,q.bufferProcessing=!1}$.prototype._write=function(N,q,K){K(new Error("_write() is not implemented"))},$.prototype._writev=null,$.prototype.end=function(N,q,K){var P=this._writableState;typeof N=="function"?(K=N,N=null,q=null):typeof q=="function"&&(K=q,q=null),N!=null&&this.write(N,q),P.corked&&(P.corked=1,this.uncork()),P.ending||A(this,P,K)};function G(N){return N.ending&&N.length===0&&N.bufferedRequest===null&&!N.finished&&!N.writing}function T(N,q){N._final(function(K){q.pendingcb--,K&&N.emit("error",K),q.prefinished=!0,N.emit("prefinish"),x(N,q)})}function D(N,q){!q.prefinished&&!q.finalCalled&&(typeof N._final=="function"?(q.pendingcb++,q.finalCalled=!0,f.nextTick(T,N,q)):(q.prefinished=!0,N.emit("prefinish")))}function x(N,q){var K=G(q);return K&&(D(N,q),q.pendingcb===0&&(q.finished=!0,N.emit("finish"))),K}function A(N,q,K){q.ending=!0,x(N,q),K&&(q.finished?f.nextTick(K):N.once("finish",K)),q.ended=!0,N.writable=!1}function B(N,q,K){var P=N.entry;for(N.entry=null;P;){var k=P.callback;q.pendingcb--,k(K),P=P.next}q.corkedRequestsFree.next=N}return Object.defineProperty($.prototype,"destroyed",{get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(N){this._writableState&&(this._writableState.destroyed=N)}}),$.prototype.destroy=E.destroy,$.prototype._undestroy=E.undestroy,$.prototype._destroy=function(N,q){this.end(),q(N)},_stream_writable}var _stream_duplex,hasRequired_stream_duplex;function require_stream_duplex(){if(hasRequired_stream_duplex)return _stream_duplex;hasRequired_stream_duplex=1;var f=requireProcessNextickArgs(),r=Object.keys||function(E){var S=[];for(var R in E)S.push(R);return S};_stream_duplex=w;var d=Object.create(requireUtil());d.inherits=requireInherits_browser();var g=require_stream_readable(),_=require_stream_writable();d.inherits(w,g);for(var v=r(_.prototype),y=0;y<v.length;y++){var m=v[y];w.prototype[m]||(w.prototype[m]=_.prototype[m])}function w(E){if(!(this instanceof w))return new w(E);g.call(this,E),_.call(this,E),E&&E.readable===!1&&(this.readable=!1),E&&E.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,E&&E.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",C)}Object.defineProperty(w.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function C(){this.allowHalfOpen||this._writableState.ended||f.nextTick(b,this)}function b(E){E.end()}return Object.defineProperty(w.prototype,"destroyed",{get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(E){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=E,this._writableState.destroyed=E)}}),w.prototype._destroy=function(E,S){this.push(null),this.end(),f.nextTick(S,E)},_stream_duplex}var _stream_readable,hasRequired_stream_readable;function require_stream_readable(){if(hasRequired_stream_readable)return _stream_readable;hasRequired_stream_readable=1;var f=requireProcessNextickArgs();_stream_readable=L;var r=requireIsarray(),d;L.ReadableState=U,requireEvents().EventEmitter;var g=function(Z,J){return Z.listeners(J).length},_=requireStreamBrowser(),v=requireSafeBuffer().Buffer,y=(typeof commonjsGlobal<"u"?commonjsGlobal:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function m(Z){return v.from(Z)}function w(Z){return v.isBuffer(Z)||Z instanceof y}var C=Object.create(requireUtil());C.inherits=requireInherits_browser();var b=requireUtil$1(),E=void 0;b&&b.debuglog?E=b.debuglog("stream"):E=function(){};var S=requireBufferList(),R=requireDestroy(),O;C.inherits(L,_);var $=["error","close","destroy","pause","resume"];function I(Z,J,oe){if(typeof Z.prependListener=="function")return Z.prependListener(J,oe);!Z._events||!Z._events[J]?Z.on(J,oe):r(Z._events[J])?Z._events[J].unshift(oe):Z._events[J]=[oe,Z._events[J]]}function U(Z,J){d=d||require_stream_duplex(),Z=Z||{};var oe=J instanceof d;this.objectMode=!!Z.objectMode,oe&&(this.objectMode=this.objectMode||!!Z.readableObjectMode);var H=Z.highWaterMark,Q=Z.readableHighWaterMark,ie=this.objectMode?16:16*1024;H||H===0?this.highWaterMark=H:oe&&(Q||Q===0)?this.highWaterMark=Q:this.highWaterMark=ie,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new S,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=Z.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,Z.encoding&&(O||(O=requireString_decoder().StringDecoder),this.decoder=new O(Z.encoding),this.encoding=Z.encoding)}function L(Z){if(d=d||require_stream_duplex(),!(this instanceof L))return new L(Z);this._readableState=new U(Z,this),this.readable=!0,Z&&(typeof Z.read=="function"&&(this._read=Z.read),typeof Z.destroy=="function"&&(this._destroy=Z.destroy)),_.call(this)}Object.defineProperty(L.prototype,"destroyed",{get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(Z){this._readableState&&(this._readableState.destroyed=Z)}}),L.prototype.destroy=R.destroy,L.prototype._undestroy=R.undestroy,L.prototype._destroy=function(Z,J){this.push(null),J(Z)},L.prototype.push=function(Z,J){var oe=this._readableState,H;return oe.objectMode?H=!0:typeof Z=="string"&&(J=J||oe.defaultEncoding,J!==oe.encoding&&(Z=v.from(Z,J),J=""),H=!0),j(this,Z,J,!1,H)},L.prototype.unshift=function(Z){return j(this,Z,null,!0,!1)};function j(Z,J,oe,H,Q){var ie=Z._readableState;if(J===null)ie.reading=!1,se(Z,ie);else{var we;Q||(we=X(ie,J)),we?Z.emit("error",we):ie.objectMode||J&&J.length>0?(typeof J!="string"&&!ie.objectMode&&Object.getPrototypeOf(J)!==v.prototype&&(J=m(J)),H?ie.endEmitted?Z.emit("error",new Error("stream.unshift() after end event")):F(Z,ie,J,!0):ie.ended?Z.emit("error",new Error("stream.push() after EOF")):(ie.reading=!1,ie.decoder&&!oe?(J=ie.decoder.write(J),ie.objectMode||J.length!==0?F(Z,ie,J,!1):D(Z,ie)):F(Z,ie,J,!1))):H||(ie.reading=!1)}return z(ie)}function F(Z,J,oe,H){J.flowing&&J.length===0&&!J.sync?(Z.emit("data",oe),Z.read(0)):(J.length+=J.objectMode?1:oe.length,H?J.buffer.unshift(oe):J.buffer.push(oe),J.needReadable&&G(Z)),D(Z,J)}function X(Z,J){var oe;return!w(J)&&typeof J!="string"&&J!==void 0&&!Z.objectMode&&(oe=new TypeError("Invalid non-string/buffer chunk")),oe}function z(Z){return!Z.ended&&(Z.needReadable||Z.length<Z.highWaterMark||Z.length===0)}L.prototype.isPaused=function(){return this._readableState.flowing===!1},L.prototype.setEncoding=function(Z){return O||(O=requireString_decoder().StringDecoder),this._readableState.decoder=new O(Z),this._readableState.encoding=Z,this};var Y=8388608;function ne(Z){return Z>=Y?Z=Y:(Z--,Z|=Z>>>1,Z|=Z>>>2,Z|=Z>>>4,Z|=Z>>>8,Z|=Z>>>16,Z++),Z}function re(Z,J){return Z<=0||J.length===0&&J.ended?0:J.objectMode?1:Z!==Z?J.flowing&&J.length?J.buffer.head.data.length:J.length:(Z>J.highWaterMark&&(J.highWaterMark=ne(Z)),Z<=J.length?Z:J.ended?J.length:(J.needReadable=!0,0))}L.prototype.read=function(Z){E("read",Z),Z=parseInt(Z,10);var J=this._readableState,oe=Z;if(Z!==0&&(J.emittedReadable=!1),Z===0&&J.needReadable&&(J.length>=J.highWaterMark||J.ended))return E("read: emitReadable",J.length,J.ended),J.length===0&&J.ended?ce(this):G(this),null;if(Z=re(Z,J),Z===0&&J.ended)return J.length===0&&ce(this),null;var H=J.needReadable;E("need readable",H),(J.length===0||J.length-Z<J.highWaterMark)&&(H=!0,E("length less than watermark",H)),J.ended||J.reading?(H=!1,E("reading or ended",H)):H&&(E("do read"),J.reading=!0,J.sync=!0,J.length===0&&(J.needReadable=!0),this._read(J.highWaterMark),J.sync=!1,J.reading||(Z=re(oe,J)));var Q;return Z>0?Q=P(Z,J):Q=null,Q===null?(J.needReadable=!0,Z=0):J.length-=Z,J.length===0&&(J.ended||(J.needReadable=!0),oe!==Z&&J.ended&&ce(this)),Q!==null&&this.emit("data",Q),Q};function se(Z,J){if(!J.ended){if(J.decoder){var oe=J.decoder.end();oe&&oe.length&&(J.buffer.push(oe),J.length+=J.objectMode?1:oe.length)}J.ended=!0,G(Z)}}function G(Z){var J=Z._readableState;J.needReadable=!1,J.emittedReadable||(E("emitReadable",J.flowing),J.emittedReadable=!0,J.sync?f.nextTick(T,Z):T(Z))}function T(Z){E("emit readable"),Z.emit("readable"),K(Z)}function D(Z,J){J.readingMore||(J.readingMore=!0,f.nextTick(x,Z,J))}function x(Z,J){for(var oe=J.length;!J.reading&&!J.flowing&&!J.ended&&J.length<J.highWaterMark&&(E("maybeReadMore read 0"),Z.read(0),oe!==J.length);)oe=J.length;J.readingMore=!1}L.prototype._read=function(Z){this.emit("error",new Error("_read() is not implemented"))},L.prototype.pipe=function(Z,J){var oe=this,H=this._readableState;switch(H.pipesCount){case 0:H.pipes=Z;break;case 1:H.pipes=[H.pipes,Z];break;default:H.pipes.push(Z);break}H.pipesCount+=1,E("pipe count=%d opts=%j",H.pipesCount,J);var Q=(!J||J.end!==!1)&&Z!==process$1.stdout&&Z!==process$1.stderr,ie=Q?Se:Je;H.endEmitted?f.nextTick(ie):oe.once("end",ie),Z.on("unpipe",we);function we(We,it){E("onunpipe"),We===oe&&it&&it.hasUnpiped===!1&&(it.hasUnpiped=!0,qe())}function Se(){E("onend"),Z.end()}var De=A(oe);Z.on("drain",De);var Ie=!1;function qe(){E("cleanup"),Z.removeListener("close",Ke),Z.removeListener("finish",ot),Z.removeListener("drain",De),Z.removeListener("error",Ve),Z.removeListener("unpipe",we),oe.removeListener("end",Se),oe.removeListener("end",Je),oe.removeListener("data",Me),Ie=!0,H.awaitDrain&&(!Z._writableState||Z._writableState.needDrain)&&De()}var Ne=!1;oe.on("data",Me);function Me(We){E("ondata"),Ne=!1;var it=Z.write(We);it===!1&&!Ne&&((H.pipesCount===1&&H.pipes===Z||H.pipesCount>1&&ve(H.pipes,Z)!==-1)&&!Ie&&(E("false write response, pause",H.awaitDrain),H.awaitDrain++,Ne=!0),oe.pause())}function Ve(We){E("onerror",We),Je(),Z.removeListener("error",Ve),g(Z,"error")===0&&Z.emit("error",We)}I(Z,"error",Ve);function Ke(){Z.removeListener("finish",ot),Je()}Z.once("close",Ke);function ot(){E("onfinish"),Z.removeListener("close",Ke),Je()}Z.once("finish",ot);function Je(){E("unpipe"),oe.unpipe(Z)}return Z.emit("pipe",oe),H.flowing||(E("pipe resume"),oe.resume()),Z};function A(Z){return function(){var J=Z._readableState;E("pipeOnDrain",J.awaitDrain),J.awaitDrain&&J.awaitDrain--,J.awaitDrain===0&&g(Z,"data")&&(J.flowing=!0,K(Z))}}L.prototype.unpipe=function(Z){var J=this._readableState,oe={hasUnpiped:!1};if(J.pipesCount===0)return this;if(J.pipesCount===1)return Z&&Z!==J.pipes?this:(Z||(Z=J.pipes),J.pipes=null,J.pipesCount=0,J.flowing=!1,Z&&Z.emit("unpipe",this,oe),this);if(!Z){var H=J.pipes,Q=J.pipesCount;J.pipes=null,J.pipesCount=0,J.flowing=!1;for(var ie=0;ie<Q;ie++)H[ie].emit("unpipe",this,{hasUnpiped:!1});return this}var we=ve(J.pipes,Z);return we===-1?this:(J.pipes.splice(we,1),J.pipesCount-=1,J.pipesCount===1&&(J.pipes=J.pipes[0]),Z.emit("unpipe",this,oe),this)},L.prototype.on=function(Z,J){var oe=_.prototype.on.call(this,Z,J);if(Z==="data")this._readableState.flowing!==!1&&this.resume();else if(Z==="readable"){var H=this._readableState;!H.endEmitted&&!H.readableListening&&(H.readableListening=H.needReadable=!0,H.emittedReadable=!1,H.reading?H.length&&G(this):f.nextTick(B,this))}return oe},L.prototype.addListener=L.prototype.on;function B(Z){E("readable nexttick read 0"),Z.read(0)}L.prototype.resume=function(){var Z=this._readableState;return Z.flowing||(E("resume"),Z.flowing=!0,N(this,Z)),this};function N(Z,J){J.resumeScheduled||(J.resumeScheduled=!0,f.nextTick(q,Z,J))}function q(Z,J){J.reading||(E("resume read 0"),Z.read(0)),J.resumeScheduled=!1,J.awaitDrain=0,Z.emit("resume"),K(Z),J.flowing&&!J.reading&&Z.read(0)}L.prototype.pause=function(){return E("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(E("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function K(Z){var J=Z._readableState;for(E("flow",J.flowing);J.flowing&&Z.read()!==null;);}L.prototype.wrap=function(Z){var J=this,oe=this._readableState,H=!1;Z.on("end",function(){if(E("wrapped end"),oe.decoder&&!oe.ended){var we=oe.decoder.end();we&&we.length&&J.push(we)}J.push(null)}),Z.on("data",function(we){if(E("wrapped data"),oe.decoder&&(we=oe.decoder.write(we)),!(oe.objectMode&&we==null)&&!(!oe.objectMode&&(!we||!we.length))){var Se=J.push(we);Se||(H=!0,Z.pause())}});for(var Q in Z)this[Q]===void 0&&typeof Z[Q]=="function"&&(this[Q]=function(we){return function(){return Z[we].apply(Z,arguments)}}(Q));for(var ie=0;ie<$.length;ie++)Z.on($[ie],this.emit.bind(this,$[ie]));return this._read=function(we){E("wrapped _read",we),H&&(H=!1,Z.resume())},this},Object.defineProperty(L.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),L._fromList=P;function P(Z,J){if(J.length===0)return null;var oe;return J.objectMode?oe=J.buffer.shift():!Z||Z>=J.length?(J.decoder?oe=J.buffer.join(""):J.buffer.length===1?oe=J.buffer.head.data:oe=J.buffer.concat(J.length),J.buffer.clear()):oe=k(Z,J.buffer,J.decoder),oe}function k(Z,J,oe){var H;return Z<J.head.data.length?(H=J.head.data.slice(0,Z),J.head.data=J.head.data.slice(Z)):Z===J.head.data.length?H=J.shift():H=oe?M(Z,J):W(Z,J),H}function M(Z,J){var oe=J.head,H=1,Q=oe.data;for(Z-=Q.length;oe=oe.next;){var ie=oe.data,we=Z>ie.length?ie.length:Z;if(we===ie.length?Q+=ie:Q+=ie.slice(0,Z),Z-=we,Z===0){we===ie.length?(++H,oe.next?J.head=oe.next:J.head=J.tail=null):(J.head=oe,oe.data=ie.slice(we));break}++H}return J.length-=H,Q}function W(Z,J){var oe=v.allocUnsafe(Z),H=J.head,Q=1;for(H.data.copy(oe),Z-=H.data.length;H=H.next;){var ie=H.data,we=Z>ie.length?ie.length:Z;if(ie.copy(oe,oe.length-Z,0,we),Z-=we,Z===0){we===ie.length?(++Q,H.next?J.head=H.next:J.head=J.tail=null):(J.head=H,H.data=ie.slice(we));break}++Q}return J.length-=Q,oe}function ce(Z){var J=Z._readableState;if(J.length>0)throw new Error('"endReadable()" called on non-empty stream');J.endEmitted||(J.ended=!0,f.nextTick(be,J,Z))}function be(Z,J){!Z.endEmitted&&Z.length===0&&(Z.endEmitted=!0,J.readable=!1,J.emit("end"))}function ve(Z,J){for(var oe=0,H=Z.length;oe<H;oe++)if(Z[oe]===J)return oe;return-1}return _stream_readable}var _stream_transform,hasRequired_stream_transform;function require_stream_transform(){if(hasRequired_stream_transform)return _stream_transform;hasRequired_stream_transform=1,_stream_transform=g;var f=require_stream_duplex(),r=Object.create(requireUtil());r.inherits=requireInherits_browser(),r.inherits(g,f);function d(y,m){var w=this._transformState;w.transforming=!1;var C=w.writecb;if(!C)return this.emit("error",new Error("write callback called multiple times"));w.writechunk=null,w.writecb=null,m!=null&&this.push(m),C(y);var b=this._readableState;b.reading=!1,(b.needReadable||b.length<b.highWaterMark)&&this._read(b.highWaterMark)}function g(y){if(!(this instanceof g))return new g(y);f.call(this,y),this._transformState={afterTransform:d.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,y&&(typeof y.transform=="function"&&(this._transform=y.transform),typeof y.flush=="function"&&(this._flush=y.flush)),this.on("prefinish",_)}function _(){var y=this;typeof this._flush=="function"?this._flush(function(m,w){v(y,m,w)}):v(this,null,null)}g.prototype.push=function(y,m){return this._transformState.needTransform=!1,f.prototype.push.call(this,y,m)},g.prototype._transform=function(y,m,w){throw new Error("_transform() is not implemented")},g.prototype._write=function(y,m,w){var C=this._transformState;if(C.writecb=w,C.writechunk=y,C.writeencoding=m,!C.transforming){var b=this._readableState;(C.needTransform||b.needReadable||b.length<b.highWaterMark)&&this._read(b.highWaterMark)}},g.prototype._read=function(y){var m=this._transformState;m.writechunk!==null&&m.writecb&&!m.transforming?(m.transforming=!0,this._transform(m.writechunk,m.writeencoding,m.afterTransform)):m.needTransform=!0},g.prototype._destroy=function(y,m){var w=this;f.prototype._destroy.call(this,y,function(C){m(C),w.emit("close")})};function v(y,m,w){if(m)return y.emit("error",m);if(w!=null&&y.push(w),y._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(y._transformState.transforming)throw new Error("Calling transform done when still transforming");return y.push(null)}return _stream_transform}var _stream_passthrough,hasRequired_stream_passthrough;function require_stream_passthrough(){if(hasRequired_stream_passthrough)return _stream_passthrough;hasRequired_stream_passthrough=1,_stream_passthrough=d;var f=require_stream_transform(),r=Object.create(requireUtil());r.inherits=requireInherits_browser(),r.inherits(d,f);function d(g){if(!(this instanceof d))return new d(g);f.call(this,g)}return d.prototype._transform=function(g,_,v){v(null,g)},_stream_passthrough}var hasRequiredReadableBrowser;function requireReadableBrowser(){return hasRequiredReadableBrowser||(hasRequiredReadableBrowser=1,function(f,r){r=f.exports=require_stream_readable(),r.Stream=r,r.Readable=r,r.Writable=require_stream_writable(),r.Duplex=require_stream_duplex(),r.Transform=require_stream_transform(),r.PassThrough=require_stream_passthrough()}(readableBrowser,readableBrowser.exports)),readableBrowser.exports}var sign={exports:{}},bn$1={exports:{}};bn$1.exports;var hasRequiredBn$1;function requireBn$1(){return hasRequiredBn$1||(hasRequiredBn$1=1,function(f){(function(r,d){function g(D,x){if(!D)throw new Error(x||"Assertion failed")}function _(D,x){D.super_=x;var A=function(){};A.prototype=x.prototype,D.prototype=new A,D.prototype.constructor=D}function v(D,x,A){if(v.isBN(D))return D;this.negative=0,this.words=null,this.length=0,this.red=null,D!==null&&((x==="le"||x==="be")&&(A=x,x=10),this._init(D||0,x||10,A||"be"))}typeof r=="object"?r.exports=v:d.BN=v,v.BN=v,v.wordSize=26;var y;try{typeof window<"u"&&typeof window.Buffer<"u"?y=window.Buffer:y=require$$0$2.Buffer}catch{}v.isBN=function(x){return x instanceof v?!0:x!==null&&typeof x=="object"&&x.constructor.wordSize===v.wordSize&&Array.isArray(x.words)},v.max=function(x,A){return x.cmp(A)>0?x:A},v.min=function(x,A){return x.cmp(A)<0?x:A},v.prototype._init=function(x,A,B){if(typeof x=="number")return this._initNumber(x,A,B);if(typeof x=="object")return this._initArray(x,A,B);A==="hex"&&(A=16),g(A===(A|0)&&A>=2&&A<=36),x=x.toString().replace(/\s+/g,"");var N=0;x[0]==="-"&&(N++,this.negative=1),N<x.length&&(A===16?this._parseHex(x,N,B):(this._parseBase(x,A,N),B==="le"&&this._initArray(this.toArray(),A,B)))},v.prototype._initNumber=function(x,A,B){x<0&&(this.negative=1,x=-x),x<67108864?(this.words=[x&67108863],this.length=1):x<4503599627370496?(this.words=[x&67108863,x/67108864&67108863],this.length=2):(g(x<9007199254740992),this.words=[x&67108863,x/67108864&67108863,1],this.length=3),B==="le"&&this._initArray(this.toArray(),A,B)},v.prototype._initArray=function(x,A,B){if(g(typeof x.length=="number"),x.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(x.length/3),this.words=new Array(this.length);for(var N=0;N<this.length;N++)this.words[N]=0;var q,K,P=0;if(B==="be")for(N=x.length-1,q=0;N>=0;N-=3)K=x[N]|x[N-1]<<8|x[N-2]<<16,this.words[q]|=K<<P&67108863,this.words[q+1]=K>>>26-P&67108863,P+=24,P>=26&&(P-=26,q++);else if(B==="le")for(N=0,q=0;N<x.length;N+=3)K=x[N]|x[N+1]<<8|x[N+2]<<16,this.words[q]|=K<<P&67108863,this.words[q+1]=K>>>26-P&67108863,P+=24,P>=26&&(P-=26,q++);return this._strip()};function m(D,x){var A=D.charCodeAt(x);if(A>=48&&A<=57)return A-48;if(A>=65&&A<=70)return A-55;if(A>=97&&A<=102)return A-87;g(!1,"Invalid character in "+D)}function w(D,x,A){var B=m(D,A);return A-1>=x&&(B|=m(D,A-1)<<4),B}v.prototype._parseHex=function(x,A,B){this.length=Math.ceil((x.length-A)/6),this.words=new Array(this.length);for(var N=0;N<this.length;N++)this.words[N]=0;var q=0,K=0,P;if(B==="be")for(N=x.length-1;N>=A;N-=2)P=w(x,A,N)<<q,this.words[K]|=P&67108863,q>=18?(q-=18,K+=1,this.words[K]|=P>>>26):q+=8;else{var k=x.length-A;for(N=k%2===0?A+1:A;N<x.length;N+=2)P=w(x,A,N)<<q,this.words[K]|=P&67108863,q>=18?(q-=18,K+=1,this.words[K]|=P>>>26):q+=8}this._strip()};function C(D,x,A,B){for(var N=0,q=0,K=Math.min(D.length,A),P=x;P<K;P++){var k=D.charCodeAt(P)-48;N*=B,k>=49?q=k-49+10:k>=17?q=k-17+10:q=k,g(k>=0&&q<B,"Invalid character"),N+=q}return N}v.prototype._parseBase=function(x,A,B){this.words=[0],this.length=1;for(var N=0,q=1;q<=67108863;q*=A)N++;N--,q=q/A|0;for(var K=x.length-B,P=K%N,k=Math.min(K,K-P)+B,M=0,W=B;W<k;W+=N)M=C(x,W,W+N,A),this.imuln(q),this.words[0]+M<67108864?this.words[0]+=M:this._iaddn(M);if(P!==0){var ce=1;for(M=C(x,W,x.length,A),W=0;W<P;W++)ce*=A;this.imuln(ce),this.words[0]+M<67108864?this.words[0]+=M:this._iaddn(M)}this._strip()},v.prototype.copy=function(x){x.words=new Array(this.length);for(var A=0;A<this.length;A++)x.words[A]=this.words[A];x.length=this.length,x.negative=this.negative,x.red=this.red};function b(D,x){D.words=x.words,D.length=x.length,D.negative=x.negative,D.red=x.red}if(v.prototype._move=function(x){b(x,this)},v.prototype.clone=function(){var x=new v(null);return this.copy(x),x},v.prototype._expand=function(x){for(;this.length<x;)this.words[this.length++]=0;return this},v.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},v.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{v.prototype[Symbol.for("nodejs.util.inspect.custom")]=E}catch{v.prototype.inspect=E}else v.prototype.inspect=E;function E(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var S=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],R=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],O=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];v.prototype.toString=function(x,A){x=x||10,A=A|0||1;var B;if(x===16||x==="hex"){B="";for(var N=0,q=0,K=0;K<this.length;K++){var P=this.words[K],k=((P<<N|q)&16777215).toString(16);q=P>>>24-N&16777215,N+=2,N>=26&&(N-=26,K--),q!==0||K!==this.length-1?B=S[6-k.length]+k+B:B=k+B}for(q!==0&&(B=q.toString(16)+B);B.length%A!==0;)B="0"+B;return this.negative!==0&&(B="-"+B),B}if(x===(x|0)&&x>=2&&x<=36){var M=R[x],W=O[x];B="";var ce=this.clone();for(ce.negative=0;!ce.isZero();){var be=ce.modrn(W).toString(x);ce=ce.idivn(W),ce.isZero()?B=be+B:B=S[M-be.length]+be+B}for(this.isZero()&&(B="0"+B);B.length%A!==0;)B="0"+B;return this.negative!==0&&(B="-"+B),B}g(!1,"Base should be between 2 and 36")},v.prototype.toNumber=function(){var x=this.words[0];return this.length===2?x+=this.words[1]*67108864:this.length===3&&this.words[2]===1?x+=4503599627370496+this.words[1]*67108864:this.length>2&&g(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-x:x},v.prototype.toJSON=function(){return this.toString(16,2)},y&&(v.prototype.toBuffer=function(x,A){return this.toArrayLike(y,x,A)}),v.prototype.toArray=function(x,A){return this.toArrayLike(Array,x,A)};var $=function(x,A){return x.allocUnsafe?x.allocUnsafe(A):new x(A)};v.prototype.toArrayLike=function(x,A,B){this._strip();var N=this.byteLength(),q=B||Math.max(1,N);g(N<=q,"byte array longer than desired length"),g(q>0,"Requested array length <= 0");var K=$(x,q),P=A==="le"?"LE":"BE";return this["_toArrayLike"+P](K,N),K},v.prototype._toArrayLikeLE=function(x,A){for(var B=0,N=0,q=0,K=0;q<this.length;q++){var P=this.words[q]<<K|N;x[B++]=P&255,B<x.length&&(x[B++]=P>>8&255),B<x.length&&(x[B++]=P>>16&255),K===6?(B<x.length&&(x[B++]=P>>24&255),N=0,K=0):(N=P>>>24,K+=2)}if(B<x.length)for(x[B++]=N;B<x.length;)x[B++]=0},v.prototype._toArrayLikeBE=function(x,A){for(var B=x.length-1,N=0,q=0,K=0;q<this.length;q++){var P=this.words[q]<<K|N;x[B--]=P&255,B>=0&&(x[B--]=P>>8&255),B>=0&&(x[B--]=P>>16&255),K===6?(B>=0&&(x[B--]=P>>24&255),N=0,K=0):(N=P>>>24,K+=2)}if(B>=0)for(x[B--]=N;B>=0;)x[B--]=0},Math.clz32?v.prototype._countBits=function(x){return 32-Math.clz32(x)}:v.prototype._countBits=function(x){var A=x,B=0;return A>=4096&&(B+=13,A>>>=13),A>=64&&(B+=7,A>>>=7),A>=8&&(B+=4,A>>>=4),A>=2&&(B+=2,A>>>=2),B+A},v.prototype._zeroBits=function(x){if(x===0)return 26;var A=x,B=0;return A&8191||(B+=13,A>>>=13),A&127||(B+=7,A>>>=7),A&15||(B+=4,A>>>=4),A&3||(B+=2,A>>>=2),A&1||B++,B},v.prototype.bitLength=function(){var x=this.words[this.length-1],A=this._countBits(x);return(this.length-1)*26+A};function I(D){for(var x=new Array(D.bitLength()),A=0;A<x.length;A++){var B=A/26|0,N=A%26;x[A]=D.words[B]>>>N&1}return x}v.prototype.zeroBits=function(){if(this.isZero())return 0;for(var x=0,A=0;A<this.length;A++){var B=this._zeroBits(this.words[A]);if(x+=B,B!==26)break}return x},v.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},v.prototype.toTwos=function(x){return this.negative!==0?this.abs().inotn(x).iaddn(1):this.clone()},v.prototype.fromTwos=function(x){return this.testn(x-1)?this.notn(x).iaddn(1).ineg():this.clone()},v.prototype.isNeg=function(){return this.negative!==0},v.prototype.neg=function(){return this.clone().ineg()},v.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},v.prototype.iuor=function(x){for(;this.length<x.length;)this.words[this.length++]=0;for(var A=0;A<x.length;A++)this.words[A]=this.words[A]|x.words[A];return this._strip()},v.prototype.ior=function(x){return g((this.negative|x.negative)===0),this.iuor(x)},v.prototype.or=function(x){return this.length>x.length?this.clone().ior(x):x.clone().ior(this)},v.prototype.uor=function(x){return this.length>x.length?this.clone().iuor(x):x.clone().iuor(this)},v.prototype.iuand=function(x){var A;this.length>x.length?A=x:A=this;for(var B=0;B<A.length;B++)this.words[B]=this.words[B]&x.words[B];return this.length=A.length,this._strip()},v.prototype.iand=function(x){return g((this.negative|x.negative)===0),this.iuand(x)},v.prototype.and=function(x){return this.length>x.length?this.clone().iand(x):x.clone().iand(this)},v.prototype.uand=function(x){return this.length>x.length?this.clone().iuand(x):x.clone().iuand(this)},v.prototype.iuxor=function(x){var A,B;this.length>x.length?(A=this,B=x):(A=x,B=this);for(var N=0;N<B.length;N++)this.words[N]=A.words[N]^B.words[N];if(this!==A)for(;N<A.length;N++)this.words[N]=A.words[N];return this.length=A.length,this._strip()},v.prototype.ixor=function(x){return g((this.negative|x.negative)===0),this.iuxor(x)},v.prototype.xor=function(x){return this.length>x.length?this.clone().ixor(x):x.clone().ixor(this)},v.prototype.uxor=function(x){return this.length>x.length?this.clone().iuxor(x):x.clone().iuxor(this)},v.prototype.inotn=function(x){g(typeof x=="number"&&x>=0);var A=Math.ceil(x/26)|0,B=x%26;this._expand(A),B>0&&A--;for(var N=0;N<A;N++)this.words[N]=~this.words[N]&67108863;return B>0&&(this.words[N]=~this.words[N]&67108863>>26-B),this._strip()},v.prototype.notn=function(x){return this.clone().inotn(x)},v.prototype.setn=function(x,A){g(typeof x=="number"&&x>=0);var B=x/26|0,N=x%26;return this._expand(B+1),A?this.words[B]=this.words[B]|1<<N:this.words[B]=this.words[B]&~(1<<N),this._strip()},v.prototype.iadd=function(x){var A;if(this.negative!==0&&x.negative===0)return this.negative=0,A=this.isub(x),this.negative^=1,this._normSign();if(this.negative===0&&x.negative!==0)return x.negative=0,A=this.isub(x),x.negative=1,A._normSign();var B,N;this.length>x.length?(B=this,N=x):(B=x,N=this);for(var q=0,K=0;K<N.length;K++)A=(B.words[K]|0)+(N.words[K]|0)+q,this.words[K]=A&67108863,q=A>>>26;for(;q!==0&&K<B.length;K++)A=(B.words[K]|0)+q,this.words[K]=A&67108863,q=A>>>26;if(this.length=B.length,q!==0)this.words[this.length]=q,this.length++;else if(B!==this)for(;K<B.length;K++)this.words[K]=B.words[K];return this},v.prototype.add=function(x){var A;return x.negative!==0&&this.negative===0?(x.negative=0,A=this.sub(x),x.negative^=1,A):x.negative===0&&this.negative!==0?(this.negative=0,A=x.sub(this),this.negative=1,A):this.length>x.length?this.clone().iadd(x):x.clone().iadd(this)},v.prototype.isub=function(x){if(x.negative!==0){x.negative=0;var A=this.iadd(x);return x.negative=1,A._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(x),this.negative=1,this._normSign();var B=this.cmp(x);if(B===0)return this.negative=0,this.length=1,this.words[0]=0,this;var N,q;B>0?(N=this,q=x):(N=x,q=this);for(var K=0,P=0;P<q.length;P++)A=(N.words[P]|0)-(q.words[P]|0)+K,K=A>>26,this.words[P]=A&67108863;for(;K!==0&&P<N.length;P++)A=(N.words[P]|0)+K,K=A>>26,this.words[P]=A&67108863;if(K===0&&P<N.length&&N!==this)for(;P<N.length;P++)this.words[P]=N.words[P];return this.length=Math.max(this.length,P),N!==this&&(this.negative=1),this._strip()},v.prototype.sub=function(x){return this.clone().isub(x)};function U(D,x,A){A.negative=x.negative^D.negative;var B=D.length+x.length|0;A.length=B,B=B-1|0;var N=D.words[0]|0,q=x.words[0]|0,K=N*q,P=K&67108863,k=K/67108864|0;A.words[0]=P;for(var M=1;M<B;M++){for(var W=k>>>26,ce=k&67108863,be=Math.min(M,x.length-1),ve=Math.max(0,M-D.length+1);ve<=be;ve++){var Z=M-ve|0;N=D.words[Z]|0,q=x.words[ve]|0,K=N*q+ce,W+=K/67108864|0,ce=K&67108863}A.words[M]=ce|0,k=W|0}return k!==0?A.words[M]=k|0:A.length--,A._strip()}var L=function(x,A,B){var N=x.words,q=A.words,K=B.words,P=0,k,M,W,ce=N[0]|0,be=ce&8191,ve=ce>>>13,Z=N[1]|0,J=Z&8191,oe=Z>>>13,H=N[2]|0,Q=H&8191,ie=H>>>13,we=N[3]|0,Se=we&8191,De=we>>>13,Ie=N[4]|0,qe=Ie&8191,Ne=Ie>>>13,Me=N[5]|0,Ve=Me&8191,Ke=Me>>>13,ot=N[6]|0,Je=ot&8191,We=ot>>>13,it=N[7]|0,Fe=it&8191,Le=it>>>13,Qe=N[8]|0,rt=Qe&8191,ue=Qe>>>13,ee=N[9]|0,te=ee&8191,de=ee>>>13,xe=q[0]|0,Re=xe&8191,Te=xe>>>13,dt=q[1]|0,ut=dt&8191,et=dt>>>13,wt=q[2]|0,ht=wt&8191,_t=wt>>>13,It=q[3]|0,bt=It&8191,at=It>>>13,Bt=q[4]|0,xt=Bt&8191,st=Bt>>>13,Nt=q[5]|0,Ct=Nt&8191,nt=Nt>>>13,At=q[6]|0,ae=At&8191,le=At>>>13,he=q[7]|0,V=he&8191,pe=he>>>13,Ae=q[8]|0,$e=Ae&8191,Be=Ae>>>13,Ge=q[9]|0,Ze=Ge&8191,He=Ge>>>13;B.negative=x.negative^A.negative,B.length=19,k=Math.imul(be,Re),M=Math.imul(be,Te),M=M+Math.imul(ve,Re)|0,W=Math.imul(ve,Te);var qt=(P+k|0)+((M&8191)<<13)|0;P=(W+(M>>>13)|0)+(qt>>>26)|0,qt&=67108863,k=Math.imul(J,Re),M=Math.imul(J,Te),M=M+Math.imul(oe,Re)|0,W=Math.imul(oe,Te),k=k+Math.imul(be,ut)|0,M=M+Math.imul(be,et)|0,M=M+Math.imul(ve,ut)|0,W=W+Math.imul(ve,et)|0;var pt=(P+k|0)+((M&8191)<<13)|0;P=(W+(M>>>13)|0)+(pt>>>26)|0,pt&=67108863,k=Math.imul(Q,Re),M=Math.imul(Q,Te),M=M+Math.imul(ie,Re)|0,W=Math.imul(ie,Te),k=k+Math.imul(J,ut)|0,M=M+Math.imul(J,et)|0,M=M+Math.imul(oe,ut)|0,W=W+Math.imul(oe,et)|0,k=k+Math.imul(be,ht)|0,M=M+Math.imul(be,_t)|0,M=M+Math.imul(ve,ht)|0,W=W+Math.imul(ve,_t)|0;var Ot=(P+k|0)+((M&8191)<<13)|0;P=(W+(M>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,k=Math.imul(Se,Re),M=Math.imul(Se,Te),M=M+Math.imul(De,Re)|0,W=Math.imul(De,Te),k=k+Math.imul(Q,ut)|0,M=M+Math.imul(Q,et)|0,M=M+Math.imul(ie,ut)|0,W=W+Math.imul(ie,et)|0,k=k+Math.imul(J,ht)|0,M=M+Math.imul(J,_t)|0,M=M+Math.imul(oe,ht)|0,W=W+Math.imul(oe,_t)|0,k=k+Math.imul(be,bt)|0,M=M+Math.imul(be,at)|0,M=M+Math.imul(ve,bt)|0,W=W+Math.imul(ve,at)|0;var $t=(P+k|0)+((M&8191)<<13)|0;P=(W+(M>>>13)|0)+($t>>>26)|0,$t&=67108863,k=Math.imul(qe,Re),M=Math.imul(qe,Te),M=M+Math.imul(Ne,Re)|0,W=Math.imul(Ne,Te),k=k+Math.imul(Se,ut)|0,M=M+Math.imul(Se,et)|0,M=M+Math.imul(De,ut)|0,W=W+Math.imul(De,et)|0,k=k+Math.imul(Q,ht)|0,M=M+Math.imul(Q,_t)|0,M=M+Math.imul(ie,ht)|0,W=W+Math.imul(ie,_t)|0,k=k+Math.imul(J,bt)|0,M=M+Math.imul(J,at)|0,M=M+Math.imul(oe,bt)|0,W=W+Math.imul(oe,at)|0,k=k+Math.imul(be,xt)|0,M=M+Math.imul(be,st)|0,M=M+Math.imul(ve,xt)|0,W=W+Math.imul(ve,st)|0;var Tt=(P+k|0)+((M&8191)<<13)|0;P=(W+(M>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,k=Math.imul(Ve,Re),M=Math.imul(Ve,Te),M=M+Math.imul(Ke,Re)|0,W=Math.imul(Ke,Te),k=k+Math.imul(qe,ut)|0,M=M+Math.imul(qe,et)|0,M=M+Math.imul(Ne,ut)|0,W=W+Math.imul(Ne,et)|0,k=k+Math.imul(Se,ht)|0,M=M+Math.imul(Se,_t)|0,M=M+Math.imul(De,ht)|0,W=W+Math.imul(De,_t)|0,k=k+Math.imul(Q,bt)|0,M=M+Math.imul(Q,at)|0,M=M+Math.imul(ie,bt)|0,W=W+Math.imul(ie,at)|0,k=k+Math.imul(J,xt)|0,M=M+Math.imul(J,st)|0,M=M+Math.imul(oe,xt)|0,W=W+Math.imul(oe,st)|0,k=k+Math.imul(be,Ct)|0,M=M+Math.imul(be,nt)|0,M=M+Math.imul(ve,Ct)|0,W=W+Math.imul(ve,nt)|0;var Mt=(P+k|0)+((M&8191)<<13)|0;P=(W+(M>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,k=Math.imul(Je,Re),M=Math.imul(Je,Te),M=M+Math.imul(We,Re)|0,W=Math.imul(We,Te),k=k+Math.imul(Ve,ut)|0,M=M+Math.imul(Ve,et)|0,M=M+Math.imul(Ke,ut)|0,W=W+Math.imul(Ke,et)|0,k=k+Math.imul(qe,ht)|0,M=M+Math.imul(qe,_t)|0,M=M+Math.imul(Ne,ht)|0,W=W+Math.imul(Ne,_t)|0,k=k+Math.imul(Se,bt)|0,M=M+Math.imul(Se,at)|0,M=M+Math.imul(De,bt)|0,W=W+Math.imul(De,at)|0,k=k+Math.imul(Q,xt)|0,M=M+Math.imul(Q,st)|0,M=M+Math.imul(ie,xt)|0,W=W+Math.imul(ie,st)|0,k=k+Math.imul(J,Ct)|0,M=M+Math.imul(J,nt)|0,M=M+Math.imul(oe,Ct)|0,W=W+Math.imul(oe,nt)|0,k=k+Math.imul(be,ae)|0,M=M+Math.imul(be,le)|0,M=M+Math.imul(ve,ae)|0,W=W+Math.imul(ve,le)|0;var Rt=(P+k|0)+((M&8191)<<13)|0;P=(W+(M>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,k=Math.imul(Fe,Re),M=Math.imul(Fe,Te),M=M+Math.imul(Le,Re)|0,W=Math.imul(Le,Te),k=k+Math.imul(Je,ut)|0,M=M+Math.imul(Je,et)|0,M=M+Math.imul(We,ut)|0,W=W+Math.imul(We,et)|0,k=k+Math.imul(Ve,ht)|0,M=M+Math.imul(Ve,_t)|0,M=M+Math.imul(Ke,ht)|0,W=W+Math.imul(Ke,_t)|0,k=k+Math.imul(qe,bt)|0,M=M+Math.imul(qe,at)|0,M=M+Math.imul(Ne,bt)|0,W=W+Math.imul(Ne,at)|0,k=k+Math.imul(Se,xt)|0,M=M+Math.imul(Se,st)|0,M=M+Math.imul(De,xt)|0,W=W+Math.imul(De,st)|0,k=k+Math.imul(Q,Ct)|0,M=M+Math.imul(Q,nt)|0,M=M+Math.imul(ie,Ct)|0,W=W+Math.imul(ie,nt)|0,k=k+Math.imul(J,ae)|0,M=M+Math.imul(J,le)|0,M=M+Math.imul(oe,ae)|0,W=W+Math.imul(oe,le)|0,k=k+Math.imul(be,V)|0,M=M+Math.imul(be,pe)|0,M=M+Math.imul(ve,V)|0,W=W+Math.imul(ve,pe)|0;var St=(P+k|0)+((M&8191)<<13)|0;P=(W+(M>>>13)|0)+(St>>>26)|0,St&=67108863,k=Math.imul(rt,Re),M=Math.imul(rt,Te),M=M+Math.imul(ue,Re)|0,W=Math.imul(ue,Te),k=k+Math.imul(Fe,ut)|0,M=M+Math.imul(Fe,et)|0,M=M+Math.imul(Le,ut)|0,W=W+Math.imul(Le,et)|0,k=k+Math.imul(Je,ht)|0,M=M+Math.imul(Je,_t)|0,M=M+Math.imul(We,ht)|0,W=W+Math.imul(We,_t)|0,k=k+Math.imul(Ve,bt)|0,M=M+Math.imul(Ve,at)|0,M=M+Math.imul(Ke,bt)|0,W=W+Math.imul(Ke,at)|0,k=k+Math.imul(qe,xt)|0,M=M+Math.imul(qe,st)|0,M=M+Math.imul(Ne,xt)|0,W=W+Math.imul(Ne,st)|0,k=k+Math.imul(Se,Ct)|0,M=M+Math.imul(Se,nt)|0,M=M+Math.imul(De,Ct)|0,W=W+Math.imul(De,nt)|0,k=k+Math.imul(Q,ae)|0,M=M+Math.imul(Q,le)|0,M=M+Math.imul(ie,ae)|0,W=W+Math.imul(ie,le)|0,k=k+Math.imul(J,V)|0,M=M+Math.imul(J,pe)|0,M=M+Math.imul(oe,V)|0,W=W+Math.imul(oe,pe)|0,k=k+Math.imul(be,$e)|0,M=M+Math.imul(be,Be)|0,M=M+Math.imul(ve,$e)|0,W=W+Math.imul(ve,Be)|0;var Dt=(P+k|0)+((M&8191)<<13)|0;P=(W+(M>>>13)|0)+(Dt>>>26)|0,Dt&=67108863,k=Math.imul(te,Re),M=Math.imul(te,Te),M=M+Math.imul(de,Re)|0,W=Math.imul(de,Te),k=k+Math.imul(rt,ut)|0,M=M+Math.imul(rt,et)|0,M=M+Math.imul(ue,ut)|0,W=W+Math.imul(ue,et)|0,k=k+Math.imul(Fe,ht)|0,M=M+Math.imul(Fe,_t)|0,M=M+Math.imul(Le,ht)|0,W=W+Math.imul(Le,_t)|0,k=k+Math.imul(Je,bt)|0,M=M+Math.imul(Je,at)|0,M=M+Math.imul(We,bt)|0,W=W+Math.imul(We,at)|0,k=k+Math.imul(Ve,xt)|0,M=M+Math.imul(Ve,st)|0,M=M+Math.imul(Ke,xt)|0,W=W+Math.imul(Ke,st)|0,k=k+Math.imul(qe,Ct)|0,M=M+Math.imul(qe,nt)|0,M=M+Math.imul(Ne,Ct)|0,W=W+Math.imul(Ne,nt)|0,k=k+Math.imul(Se,ae)|0,M=M+Math.imul(Se,le)|0,M=M+Math.imul(De,ae)|0,W=W+Math.imul(De,le)|0,k=k+Math.imul(Q,V)|0,M=M+Math.imul(Q,pe)|0,M=M+Math.imul(ie,V)|0,W=W+Math.imul(ie,pe)|0,k=k+Math.imul(J,$e)|0,M=M+Math.imul(J,Be)|0,M=M+Math.imul(oe,$e)|0,W=W+Math.imul(oe,Be)|0,k=k+Math.imul(be,Ze)|0,M=M+Math.imul(be,He)|0,M=M+Math.imul(ve,Ze)|0,W=W+Math.imul(ve,He)|0;var lt=(P+k|0)+((M&8191)<<13)|0;P=(W+(M>>>13)|0)+(lt>>>26)|0,lt&=67108863,k=Math.imul(te,ut),M=Math.imul(te,et),M=M+Math.imul(de,ut)|0,W=Math.imul(de,et),k=k+Math.imul(rt,ht)|0,M=M+Math.imul(rt,_t)|0,M=M+Math.imul(ue,ht)|0,W=W+Math.imul(ue,_t)|0,k=k+Math.imul(Fe,bt)|0,M=M+Math.imul(Fe,at)|0,M=M+Math.imul(Le,bt)|0,W=W+Math.imul(Le,at)|0,k=k+Math.imul(Je,xt)|0,M=M+Math.imul(Je,st)|0,M=M+Math.imul(We,xt)|0,W=W+Math.imul(We,st)|0,k=k+Math.imul(Ve,Ct)|0,M=M+Math.imul(Ve,nt)|0,M=M+Math.imul(Ke,Ct)|0,W=W+Math.imul(Ke,nt)|0,k=k+Math.imul(qe,ae)|0,M=M+Math.imul(qe,le)|0,M=M+Math.imul(Ne,ae)|0,W=W+Math.imul(Ne,le)|0,k=k+Math.imul(Se,V)|0,M=M+Math.imul(Se,pe)|0,M=M+Math.imul(De,V)|0,W=W+Math.imul(De,pe)|0,k=k+Math.imul(Q,$e)|0,M=M+Math.imul(Q,Be)|0,M=M+Math.imul(ie,$e)|0,W=W+Math.imul(ie,Be)|0,k=k+Math.imul(J,Ze)|0,M=M+Math.imul(J,He)|0,M=M+Math.imul(oe,Ze)|0,W=W+Math.imul(oe,He)|0;var yt=(P+k|0)+((M&8191)<<13)|0;P=(W+(M>>>13)|0)+(yt>>>26)|0,yt&=67108863,k=Math.imul(te,ht),M=Math.imul(te,_t),M=M+Math.imul(de,ht)|0,W=Math.imul(de,_t),k=k+Math.imul(rt,bt)|0,M=M+Math.imul(rt,at)|0,M=M+Math.imul(ue,bt)|0,W=W+Math.imul(ue,at)|0,k=k+Math.imul(Fe,xt)|0,M=M+Math.imul(Fe,st)|0,M=M+Math.imul(Le,xt)|0,W=W+Math.imul(Le,st)|0,k=k+Math.imul(Je,Ct)|0,M=M+Math.imul(Je,nt)|0,M=M+Math.imul(We,Ct)|0,W=W+Math.imul(We,nt)|0,k=k+Math.imul(Ve,ae)|0,M=M+Math.imul(Ve,le)|0,M=M+Math.imul(Ke,ae)|0,W=W+Math.imul(Ke,le)|0,k=k+Math.imul(qe,V)|0,M=M+Math.imul(qe,pe)|0,M=M+Math.imul(Ne,V)|0,W=W+Math.imul(Ne,pe)|0,k=k+Math.imul(Se,$e)|0,M=M+Math.imul(Se,Be)|0,M=M+Math.imul(De,$e)|0,W=W+Math.imul(De,Be)|0,k=k+Math.imul(Q,Ze)|0,M=M+Math.imul(Q,He)|0,M=M+Math.imul(ie,Ze)|0,W=W+Math.imul(ie,He)|0;var ct=(P+k|0)+((M&8191)<<13)|0;P=(W+(M>>>13)|0)+(ct>>>26)|0,ct&=67108863,k=Math.imul(te,bt),M=Math.imul(te,at),M=M+Math.imul(de,bt)|0,W=Math.imul(de,at),k=k+Math.imul(rt,xt)|0,M=M+Math.imul(rt,st)|0,M=M+Math.imul(ue,xt)|0,W=W+Math.imul(ue,st)|0,k=k+Math.imul(Fe,Ct)|0,M=M+Math.imul(Fe,nt)|0,M=M+Math.imul(Le,Ct)|0,W=W+Math.imul(Le,nt)|0,k=k+Math.imul(Je,ae)|0,M=M+Math.imul(Je,le)|0,M=M+Math.imul(We,ae)|0,W=W+Math.imul(We,le)|0,k=k+Math.imul(Ve,V)|0,M=M+Math.imul(Ve,pe)|0,M=M+Math.imul(Ke,V)|0,W=W+Math.imul(Ke,pe)|0,k=k+Math.imul(qe,$e)|0,M=M+Math.imul(qe,Be)|0,M=M+Math.imul(Ne,$e)|0,W=W+Math.imul(Ne,Be)|0,k=k+Math.imul(Se,Ze)|0,M=M+Math.imul(Se,He)|0,M=M+Math.imul(De,Ze)|0,W=W+Math.imul(De,He)|0;var vt=(P+k|0)+((M&8191)<<13)|0;P=(W+(M>>>13)|0)+(vt>>>26)|0,vt&=67108863,k=Math.imul(te,xt),M=Math.imul(te,st),M=M+Math.imul(de,xt)|0,W=Math.imul(de,st),k=k+Math.imul(rt,Ct)|0,M=M+Math.imul(rt,nt)|0,M=M+Math.imul(ue,Ct)|0,W=W+Math.imul(ue,nt)|0,k=k+Math.imul(Fe,ae)|0,M=M+Math.imul(Fe,le)|0,M=M+Math.imul(Le,ae)|0,W=W+Math.imul(Le,le)|0,k=k+Math.imul(Je,V)|0,M=M+Math.imul(Je,pe)|0,M=M+Math.imul(We,V)|0,W=W+Math.imul(We,pe)|0,k=k+Math.imul(Ve,$e)|0,M=M+Math.imul(Ve,Be)|0,M=M+Math.imul(Ke,$e)|0,W=W+Math.imul(Ke,Be)|0,k=k+Math.imul(qe,Ze)|0,M=M+Math.imul(qe,He)|0,M=M+Math.imul(Ne,Ze)|0,W=W+Math.imul(Ne,He)|0;var gt=(P+k|0)+((M&8191)<<13)|0;P=(W+(M>>>13)|0)+(gt>>>26)|0,gt&=67108863,k=Math.imul(te,Ct),M=Math.imul(te,nt),M=M+Math.imul(de,Ct)|0,W=Math.imul(de,nt),k=k+Math.imul(rt,ae)|0,M=M+Math.imul(rt,le)|0,M=M+Math.imul(ue,ae)|0,W=W+Math.imul(ue,le)|0,k=k+Math.imul(Fe,V)|0,M=M+Math.imul(Fe,pe)|0,M=M+Math.imul(Le,V)|0,W=W+Math.imul(Le,pe)|0,k=k+Math.imul(Je,$e)|0,M=M+Math.imul(Je,Be)|0,M=M+Math.imul(We,$e)|0,W=W+Math.imul(We,Be)|0,k=k+Math.imul(Ve,Ze)|0,M=M+Math.imul(Ve,He)|0,M=M+Math.imul(Ke,Ze)|0,W=W+Math.imul(Ke,He)|0;var ft=(P+k|0)+((M&8191)<<13)|0;P=(W+(M>>>13)|0)+(ft>>>26)|0,ft&=67108863,k=Math.imul(te,ae),M=Math.imul(te,le),M=M+Math.imul(de,ae)|0,W=Math.imul(de,le),k=k+Math.imul(rt,V)|0,M=M+Math.imul(rt,pe)|0,M=M+Math.imul(ue,V)|0,W=W+Math.imul(ue,pe)|0,k=k+Math.imul(Fe,$e)|0,M=M+Math.imul(Fe,Be)|0,M=M+Math.imul(Le,$e)|0,W=W+Math.imul(Le,Be)|0,k=k+Math.imul(Je,Ze)|0,M=M+Math.imul(Je,He)|0,M=M+Math.imul(We,Ze)|0,W=W+Math.imul(We,He)|0;var ke=(P+k|0)+((M&8191)<<13)|0;P=(W+(M>>>13)|0)+(ke>>>26)|0,ke&=67108863,k=Math.imul(te,V),M=Math.imul(te,pe),M=M+Math.imul(de,V)|0,W=Math.imul(de,pe),k=k+Math.imul(rt,$e)|0,M=M+Math.imul(rt,Be)|0,M=M+Math.imul(ue,$e)|0,W=W+Math.imul(ue,Be)|0,k=k+Math.imul(Fe,Ze)|0,M=M+Math.imul(Fe,He)|0,M=M+Math.imul(Le,Ze)|0,W=W+Math.imul(Le,He)|0;var Ue=(P+k|0)+((M&8191)<<13)|0;P=(W+(M>>>13)|0)+(Ue>>>26)|0,Ue&=67108863,k=Math.imul(te,$e),M=Math.imul(te,Be),M=M+Math.imul(de,$e)|0,W=Math.imul(de,Be),k=k+Math.imul(rt,Ze)|0,M=M+Math.imul(rt,He)|0,M=M+Math.imul(ue,Ze)|0,W=W+Math.imul(ue,He)|0;var Ye=(P+k|0)+((M&8191)<<13)|0;P=(W+(M>>>13)|0)+(Ye>>>26)|0,Ye&=67108863,k=Math.imul(te,Ze),M=Math.imul(te,He),M=M+Math.imul(de,Ze)|0,W=Math.imul(de,He);var fe=(P+k|0)+((M&8191)<<13)|0;return P=(W+(M>>>13)|0)+(fe>>>26)|0,fe&=67108863,K[0]=qt,K[1]=pt,K[2]=Ot,K[3]=$t,K[4]=Tt,K[5]=Mt,K[6]=Rt,K[7]=St,K[8]=Dt,K[9]=lt,K[10]=yt,K[11]=ct,K[12]=vt,K[13]=gt,K[14]=ft,K[15]=ke,K[16]=Ue,K[17]=Ye,K[18]=fe,P!==0&&(K[19]=P,B.length++),B};Math.imul||(L=U);function j(D,x,A){A.negative=x.negative^D.negative,A.length=D.length+x.length;for(var B=0,N=0,q=0;q<A.length-1;q++){var K=N;N=0;for(var P=B&67108863,k=Math.min(q,x.length-1),M=Math.max(0,q-D.length+1);M<=k;M++){var W=q-M,ce=D.words[W]|0,be=x.words[M]|0,ve=ce*be,Z=ve&67108863;K=K+(ve/67108864|0)|0,Z=Z+P|0,P=Z&67108863,K=K+(Z>>>26)|0,N+=K>>>26,K&=67108863}A.words[q]=P,B=K,K=N}return B!==0?A.words[q]=B:A.length--,A._strip()}function F(D,x,A){return j(D,x,A)}v.prototype.mulTo=function(x,A){var B,N=this.length+x.length;return this.length===10&&x.length===10?B=L(this,x,A):N<63?B=U(this,x,A):N<1024?B=j(this,x,A):B=F(this,x,A),B},v.prototype.mul=function(x){var A=new v(null);return A.words=new Array(this.length+x.length),this.mulTo(x,A)},v.prototype.mulf=function(x){var A=new v(null);return A.words=new Array(this.length+x.length),F(this,x,A)},v.prototype.imul=function(x){return this.clone().mulTo(x,this)},v.prototype.imuln=function(x){var A=x<0;A&&(x=-x),g(typeof x=="number"),g(x<67108864);for(var B=0,N=0;N<this.length;N++){var q=(this.words[N]|0)*x,K=(q&67108863)+(B&67108863);B>>=26,B+=q/67108864|0,B+=K>>>26,this.words[N]=K&67108863}return B!==0&&(this.words[N]=B,this.length++),A?this.ineg():this},v.prototype.muln=function(x){return this.clone().imuln(x)},v.prototype.sqr=function(){return this.mul(this)},v.prototype.isqr=function(){return this.imul(this.clone())},v.prototype.pow=function(x){var A=I(x);if(A.length===0)return new v(1);for(var B=this,N=0;N<A.length&&A[N]===0;N++,B=B.sqr());if(++N<A.length)for(var q=B.sqr();N<A.length;N++,q=q.sqr())A[N]!==0&&(B=B.mul(q));return B},v.prototype.iushln=function(x){g(typeof x=="number"&&x>=0);var A=x%26,B=(x-A)/26,N=67108863>>>26-A<<26-A,q;if(A!==0){var K=0;for(q=0;q<this.length;q++){var P=this.words[q]&N,k=(this.words[q]|0)-P<<A;this.words[q]=k|K,K=P>>>26-A}K&&(this.words[q]=K,this.length++)}if(B!==0){for(q=this.length-1;q>=0;q--)this.words[q+B]=this.words[q];for(q=0;q<B;q++)this.words[q]=0;this.length+=B}return this._strip()},v.prototype.ishln=function(x){return g(this.negative===0),this.iushln(x)},v.prototype.iushrn=function(x,A,B){g(typeof x=="number"&&x>=0);var N;A?N=(A-A%26)/26:N=0;var q=x%26,K=Math.min((x-q)/26,this.length),P=67108863^67108863>>>q<<q,k=B;if(N-=K,N=Math.max(0,N),k){for(var M=0;M<K;M++)k.words[M]=this.words[M];k.length=K}if(K!==0)if(this.length>K)for(this.length-=K,M=0;M<this.length;M++)this.words[M]=this.words[M+K];else this.words[0]=0,this.length=1;var W=0;for(M=this.length-1;M>=0&&(W!==0||M>=N);M--){var ce=this.words[M]|0;this.words[M]=W<<26-q|ce>>>q,W=ce&P}return k&&W!==0&&(k.words[k.length++]=W),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},v.prototype.ishrn=function(x,A,B){return g(this.negative===0),this.iushrn(x,A,B)},v.prototype.shln=function(x){return this.clone().ishln(x)},v.prototype.ushln=function(x){return this.clone().iushln(x)},v.prototype.shrn=function(x){return this.clone().ishrn(x)},v.prototype.ushrn=function(x){return this.clone().iushrn(x)},v.prototype.testn=function(x){g(typeof x=="number"&&x>=0);var A=x%26,B=(x-A)/26,N=1<<A;if(this.length<=B)return!1;var q=this.words[B];return!!(q&N)},v.prototype.imaskn=function(x){g(typeof x=="number"&&x>=0);var A=x%26,B=(x-A)/26;if(g(this.negative===0,"imaskn works only with positive numbers"),this.length<=B)return this;if(A!==0&&B++,this.length=Math.min(B,this.length),A!==0){var N=67108863^67108863>>>A<<A;this.words[this.length-1]&=N}return this._strip()},v.prototype.maskn=function(x){return this.clone().imaskn(x)},v.prototype.iaddn=function(x){return g(typeof x=="number"),g(x<67108864),x<0?this.isubn(-x):this.negative!==0?this.length===1&&(this.words[0]|0)<=x?(this.words[0]=x-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(x),this.negative=1,this):this._iaddn(x)},v.prototype._iaddn=function(x){this.words[0]+=x;for(var A=0;A<this.length&&this.words[A]>=67108864;A++)this.words[A]-=67108864,A===this.length-1?this.words[A+1]=1:this.words[A+1]++;return this.length=Math.max(this.length,A+1),this},v.prototype.isubn=function(x){if(g(typeof x=="number"),g(x<67108864),x<0)return this.iaddn(-x);if(this.negative!==0)return this.negative=0,this.iaddn(x),this.negative=1,this;if(this.words[0]-=x,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var A=0;A<this.length&&this.words[A]<0;A++)this.words[A]+=67108864,this.words[A+1]-=1;return this._strip()},v.prototype.addn=function(x){return this.clone().iaddn(x)},v.prototype.subn=function(x){return this.clone().isubn(x)},v.prototype.iabs=function(){return this.negative=0,this},v.prototype.abs=function(){return this.clone().iabs()},v.prototype._ishlnsubmul=function(x,A,B){var N=x.length+B,q;this._expand(N);var K,P=0;for(q=0;q<x.length;q++){K=(this.words[q+B]|0)+P;var k=(x.words[q]|0)*A;K-=k&67108863,P=(K>>26)-(k/67108864|0),this.words[q+B]=K&67108863}for(;q<this.length-B;q++)K=(this.words[q+B]|0)+P,P=K>>26,this.words[q+B]=K&67108863;if(P===0)return this._strip();for(g(P===-1),P=0,q=0;q<this.length;q++)K=-(this.words[q]|0)+P,P=K>>26,this.words[q]=K&67108863;return this.negative=1,this._strip()},v.prototype._wordDiv=function(x,A){var B=this.length-x.length,N=this.clone(),q=x,K=q.words[q.length-1]|0,P=this._countBits(K);B=26-P,B!==0&&(q=q.ushln(B),N.iushln(B),K=q.words[q.length-1]|0);var k=N.length-q.length,M;if(A!=="mod"){M=new v(null),M.length=k+1,M.words=new Array(M.length);for(var W=0;W<M.length;W++)M.words[W]=0}var ce=N.clone()._ishlnsubmul(q,1,k);ce.negative===0&&(N=ce,M&&(M.words[k]=1));for(var be=k-1;be>=0;be--){var ve=(N.words[q.length+be]|0)*67108864+(N.words[q.length+be-1]|0);for(ve=Math.min(ve/K|0,67108863),N._ishlnsubmul(q,ve,be);N.negative!==0;)ve--,N.negative=0,N._ishlnsubmul(q,1,be),N.isZero()||(N.negative^=1);M&&(M.words[be]=ve)}return M&&M._strip(),N._strip(),A!=="div"&&B!==0&&N.iushrn(B),{div:M||null,mod:N}},v.prototype.divmod=function(x,A,B){if(g(!x.isZero()),this.isZero())return{div:new v(0),mod:new v(0)};var N,q,K;return this.negative!==0&&x.negative===0?(K=this.neg().divmod(x,A),A!=="mod"&&(N=K.div.neg()),A!=="div"&&(q=K.mod.neg(),B&&q.negative!==0&&q.iadd(x)),{div:N,mod:q}):this.negative===0&&x.negative!==0?(K=this.divmod(x.neg(),A),A!=="mod"&&(N=K.div.neg()),{div:N,mod:K.mod}):this.negative&x.negative?(K=this.neg().divmod(x.neg(),A),A!=="div"&&(q=K.mod.neg(),B&&q.negative!==0&&q.isub(x)),{div:K.div,mod:q}):x.length>this.length||this.cmp(x)<0?{div:new v(0),mod:this}:x.length===1?A==="div"?{div:this.divn(x.words[0]),mod:null}:A==="mod"?{div:null,mod:new v(this.modrn(x.words[0]))}:{div:this.divn(x.words[0]),mod:new v(this.modrn(x.words[0]))}:this._wordDiv(x,A)},v.prototype.div=function(x){return this.divmod(x,"div",!1).div},v.prototype.mod=function(x){return this.divmod(x,"mod",!1).mod},v.prototype.umod=function(x){return this.divmod(x,"mod",!0).mod},v.prototype.divRound=function(x){var A=this.divmod(x);if(A.mod.isZero())return A.div;var B=A.div.negative!==0?A.mod.isub(x):A.mod,N=x.ushrn(1),q=x.andln(1),K=B.cmp(N);return K<0||q===1&&K===0?A.div:A.div.negative!==0?A.div.isubn(1):A.div.iaddn(1)},v.prototype.modrn=function(x){var A=x<0;A&&(x=-x),g(x<=67108863);for(var B=(1<<26)%x,N=0,q=this.length-1;q>=0;q--)N=(B*N+(this.words[q]|0))%x;return A?-N:N},v.prototype.modn=function(x){return this.modrn(x)},v.prototype.idivn=function(x){var A=x<0;A&&(x=-x),g(x<=67108863);for(var B=0,N=this.length-1;N>=0;N--){var q=(this.words[N]|0)+B*67108864;this.words[N]=q/x|0,B=q%x}return this._strip(),A?this.ineg():this},v.prototype.divn=function(x){return this.clone().idivn(x)},v.prototype.egcd=function(x){g(x.negative===0),g(!x.isZero());var A=this,B=x.clone();A.negative!==0?A=A.umod(x):A=A.clone();for(var N=new v(1),q=new v(0),K=new v(0),P=new v(1),k=0;A.isEven()&&B.isEven();)A.iushrn(1),B.iushrn(1),++k;for(var M=B.clone(),W=A.clone();!A.isZero();){for(var ce=0,be=1;!(A.words[0]&be)&&ce<26;++ce,be<<=1);if(ce>0)for(A.iushrn(ce);ce-- >0;)(N.isOdd()||q.isOdd())&&(N.iadd(M),q.isub(W)),N.iushrn(1),q.iushrn(1);for(var ve=0,Z=1;!(B.words[0]&Z)&&ve<26;++ve,Z<<=1);if(ve>0)for(B.iushrn(ve);ve-- >0;)(K.isOdd()||P.isOdd())&&(K.iadd(M),P.isub(W)),K.iushrn(1),P.iushrn(1);A.cmp(B)>=0?(A.isub(B),N.isub(K),q.isub(P)):(B.isub(A),K.isub(N),P.isub(q))}return{a:K,b:P,gcd:B.iushln(k)}},v.prototype._invmp=function(x){g(x.negative===0),g(!x.isZero());var A=this,B=x.clone();A.negative!==0?A=A.umod(x):A=A.clone();for(var N=new v(1),q=new v(0),K=B.clone();A.cmpn(1)>0&&B.cmpn(1)>0;){for(var P=0,k=1;!(A.words[0]&k)&&P<26;++P,k<<=1);if(P>0)for(A.iushrn(P);P-- >0;)N.isOdd()&&N.iadd(K),N.iushrn(1);for(var M=0,W=1;!(B.words[0]&W)&&M<26;++M,W<<=1);if(M>0)for(B.iushrn(M);M-- >0;)q.isOdd()&&q.iadd(K),q.iushrn(1);A.cmp(B)>=0?(A.isub(B),N.isub(q)):(B.isub(A),q.isub(N))}var ce;return A.cmpn(1)===0?ce=N:ce=q,ce.cmpn(0)<0&&ce.iadd(x),ce},v.prototype.gcd=function(x){if(this.isZero())return x.abs();if(x.isZero())return this.abs();var A=this.clone(),B=x.clone();A.negative=0,B.negative=0;for(var N=0;A.isEven()&&B.isEven();N++)A.iushrn(1),B.iushrn(1);do{for(;A.isEven();)A.iushrn(1);for(;B.isEven();)B.iushrn(1);var q=A.cmp(B);if(q<0){var K=A;A=B,B=K}else if(q===0||B.cmpn(1)===0)break;A.isub(B)}while(!0);return B.iushln(N)},v.prototype.invm=function(x){return this.egcd(x).a.umod(x)},v.prototype.isEven=function(){return(this.words[0]&1)===0},v.prototype.isOdd=function(){return(this.words[0]&1)===1},v.prototype.andln=function(x){return this.words[0]&x},v.prototype.bincn=function(x){g(typeof x=="number");var A=x%26,B=(x-A)/26,N=1<<A;if(this.length<=B)return this._expand(B+1),this.words[B]|=N,this;for(var q=N,K=B;q!==0&&K<this.length;K++){var P=this.words[K]|0;P+=q,q=P>>>26,P&=67108863,this.words[K]=P}return q!==0&&(this.words[K]=q,this.length++),this},v.prototype.isZero=function(){return this.length===1&&this.words[0]===0},v.prototype.cmpn=function(x){var A=x<0;if(this.negative!==0&&!A)return-1;if(this.negative===0&&A)return 1;this._strip();var B;if(this.length>1)B=1;else{A&&(x=-x),g(x<=67108863,"Number is too big");var N=this.words[0]|0;B=N===x?0:N<x?-1:1}return this.negative!==0?-B|0:B},v.prototype.cmp=function(x){if(this.negative!==0&&x.negative===0)return-1;if(this.negative===0&&x.negative!==0)return 1;var A=this.ucmp(x);return this.negative!==0?-A|0:A},v.prototype.ucmp=function(x){if(this.length>x.length)return 1;if(this.length<x.length)return-1;for(var A=0,B=this.length-1;B>=0;B--){var N=this.words[B]|0,q=x.words[B]|0;if(N!==q){N<q?A=-1:N>q&&(A=1);break}}return A},v.prototype.gtn=function(x){return this.cmpn(x)===1},v.prototype.gt=function(x){return this.cmp(x)===1},v.prototype.gten=function(x){return this.cmpn(x)>=0},v.prototype.gte=function(x){return this.cmp(x)>=0},v.prototype.ltn=function(x){return this.cmpn(x)===-1},v.prototype.lt=function(x){return this.cmp(x)===-1},v.prototype.lten=function(x){return this.cmpn(x)<=0},v.prototype.lte=function(x){return this.cmp(x)<=0},v.prototype.eqn=function(x){return this.cmpn(x)===0},v.prototype.eq=function(x){return this.cmp(x)===0},v.red=function(x){return new G(x)},v.prototype.toRed=function(x){return g(!this.red,"Already a number in reduction context"),g(this.negative===0,"red works only with positives"),x.convertTo(this)._forceRed(x)},v.prototype.fromRed=function(){return g(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},v.prototype._forceRed=function(x){return this.red=x,this},v.prototype.forceRed=function(x){return g(!this.red,"Already a number in reduction context"),this._forceRed(x)},v.prototype.redAdd=function(x){return g(this.red,"redAdd works only with red numbers"),this.red.add(this,x)},v.prototype.redIAdd=function(x){return g(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,x)},v.prototype.redSub=function(x){return g(this.red,"redSub works only with red numbers"),this.red.sub(this,x)},v.prototype.redISub=function(x){return g(this.red,"redISub works only with red numbers"),this.red.isub(this,x)},v.prototype.redShl=function(x){return g(this.red,"redShl works only with red numbers"),this.red.shl(this,x)},v.prototype.redMul=function(x){return g(this.red,"redMul works only with red numbers"),this.red._verify2(this,x),this.red.mul(this,x)},v.prototype.redIMul=function(x){return g(this.red,"redMul works only with red numbers"),this.red._verify2(this,x),this.red.imul(this,x)},v.prototype.redSqr=function(){return g(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},v.prototype.redISqr=function(){return g(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},v.prototype.redSqrt=function(){return g(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},v.prototype.redInvm=function(){return g(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},v.prototype.redNeg=function(){return g(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},v.prototype.redPow=function(x){return g(this.red&&!x.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,x)};var X={k256:null,p224:null,p192:null,p25519:null};function z(D,x){this.name=D,this.p=new v(x,16),this.n=this.p.bitLength(),this.k=new v(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}z.prototype._tmp=function(){var x=new v(null);return x.words=new Array(Math.ceil(this.n/13)),x},z.prototype.ireduce=function(x){var A=x,B;do this.split(A,this.tmp),A=this.imulK(A),A=A.iadd(this.tmp),B=A.bitLength();while(B>this.n);var N=B<this.n?-1:A.ucmp(this.p);return N===0?(A.words[0]=0,A.length=1):N>0?A.isub(this.p):A.strip!==void 0?A.strip():A._strip(),A},z.prototype.split=function(x,A){x.iushrn(this.n,0,A)},z.prototype.imulK=function(x){return x.imul(this.k)};function Y(){z.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}_(Y,z),Y.prototype.split=function(x,A){for(var B=4194303,N=Math.min(x.length,9),q=0;q<N;q++)A.words[q]=x.words[q];if(A.length=N,x.length<=9){x.words[0]=0,x.length=1;return}var K=x.words[9];for(A.words[A.length++]=K&B,q=10;q<x.length;q++){var P=x.words[q]|0;x.words[q-10]=(P&B)<<4|K>>>22,K=P}K>>>=22,x.words[q-10]=K,K===0&&x.length>10?x.length-=10:x.length-=9},Y.prototype.imulK=function(x){x.words[x.length]=0,x.words[x.length+1]=0,x.length+=2;for(var A=0,B=0;B<x.length;B++){var N=x.words[B]|0;A+=N*977,x.words[B]=A&67108863,A=N*64+(A/67108864|0)}return x.words[x.length-1]===0&&(x.length--,x.words[x.length-1]===0&&x.length--),x};function ne(){z.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}_(ne,z);function re(){z.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}_(re,z);function se(){z.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}_(se,z),se.prototype.imulK=function(x){for(var A=0,B=0;B<x.length;B++){var N=(x.words[B]|0)*19+A,q=N&67108863;N>>>=26,x.words[B]=q,A=N}return A!==0&&(x.words[x.length++]=A),x},v._prime=function(x){if(X[x])return X[x];var A;if(x==="k256")A=new Y;else if(x==="p224")A=new ne;else if(x==="p192")A=new re;else if(x==="p25519")A=new se;else throw new Error("Unknown prime "+x);return X[x]=A,A};function G(D){if(typeof D=="string"){var x=v._prime(D);this.m=x.p,this.prime=x}else g(D.gtn(1),"modulus must be greater than 1"),this.m=D,this.prime=null}G.prototype._verify1=function(x){g(x.negative===0,"red works only with positives"),g(x.red,"red works only with red numbers")},G.prototype._verify2=function(x,A){g((x.negative|A.negative)===0,"red works only with positives"),g(x.red&&x.red===A.red,"red works only with red numbers")},G.prototype.imod=function(x){return this.prime?this.prime.ireduce(x)._forceRed(this):(b(x,x.umod(this.m)._forceRed(this)),x)},G.prototype.neg=function(x){return x.isZero()?x.clone():this.m.sub(x)._forceRed(this)},G.prototype.add=function(x,A){this._verify2(x,A);var B=x.add(A);return B.cmp(this.m)>=0&&B.isub(this.m),B._forceRed(this)},G.prototype.iadd=function(x,A){this._verify2(x,A);var B=x.iadd(A);return B.cmp(this.m)>=0&&B.isub(this.m),B},G.prototype.sub=function(x,A){this._verify2(x,A);var B=x.sub(A);return B.cmpn(0)<0&&B.iadd(this.m),B._forceRed(this)},G.prototype.isub=function(x,A){this._verify2(x,A);var B=x.isub(A);return B.cmpn(0)<0&&B.iadd(this.m),B},G.prototype.shl=function(x,A){return this._verify1(x),this.imod(x.ushln(A))},G.prototype.imul=function(x,A){return this._verify2(x,A),this.imod(x.imul(A))},G.prototype.mul=function(x,A){return this._verify2(x,A),this.imod(x.mul(A))},G.prototype.isqr=function(x){return this.imul(x,x.clone())},G.prototype.sqr=function(x){return this.mul(x,x)},G.prototype.sqrt=function(x){if(x.isZero())return x.clone();var A=this.m.andln(3);if(g(A%2===1),A===3){var B=this.m.add(new v(1)).iushrn(2);return this.pow(x,B)}for(var N=this.m.subn(1),q=0;!N.isZero()&&N.andln(1)===0;)q++,N.iushrn(1);g(!N.isZero());var K=new v(1).toRed(this),P=K.redNeg(),k=this.m.subn(1).iushrn(1),M=this.m.bitLength();for(M=new v(2*M*M).toRed(this);this.pow(M,k).cmp(P)!==0;)M.redIAdd(P);for(var W=this.pow(M,N),ce=this.pow(x,N.addn(1).iushrn(1)),be=this.pow(x,N),ve=q;be.cmp(K)!==0;){for(var Z=be,J=0;Z.cmp(K)!==0;J++)Z=Z.redSqr();g(J<ve);var oe=this.pow(W,new v(1).iushln(ve-J-1));ce=ce.redMul(oe),W=oe.redSqr(),be=be.redMul(W),ve=J}return ce},G.prototype.invm=function(x){var A=x._invmp(this.m);return A.negative!==0?(A.negative=0,this.imod(A).redNeg()):this.imod(A)},G.prototype.pow=function(x,A){if(A.isZero())return new v(1).toRed(this);if(A.cmpn(1)===0)return x.clone();var B=4,N=new Array(1<<B);N[0]=new v(1).toRed(this),N[1]=x;for(var q=2;q<N.length;q++)N[q]=this.mul(N[q-1],x);var K=N[0],P=0,k=0,M=A.bitLength()%26;for(M===0&&(M=26),q=A.length-1;q>=0;q--){for(var W=A.words[q],ce=M-1;ce>=0;ce--){var be=W>>ce&1;if(K!==N[0]&&(K=this.sqr(K)),be===0&&P===0){k=0;continue}P<<=1,P|=be,k++,!(k!==B&&(q!==0||ce!==0))&&(K=this.mul(K,N[P]),k=0,P=0)}M=26}return K},G.prototype.convertTo=function(x){var A=x.umod(this.m);return A===x?A.clone():A},G.prototype.convertFrom=function(x){var A=x.clone();return A.red=null,A},v.mont=function(x){return new T(x)};function T(D){G.call(this,D),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new v(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}_(T,G),T.prototype.convertTo=function(x){return this.imod(x.ushln(this.shift))},T.prototype.convertFrom=function(x){var A=this.imod(x.mul(this.rinv));return A.red=null,A},T.prototype.imul=function(x,A){if(x.isZero()||A.isZero())return x.words[0]=0,x.length=1,x;var B=x.imul(A),N=B.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),q=B.isub(N).iushrn(this.shift),K=q;return q.cmp(this.m)>=0?K=q.isub(this.m):q.cmpn(0)<0&&(K=q.iadd(this.m)),K._forceRed(this)},T.prototype.mul=function(x,A){if(x.isZero()||A.isZero())return new v(0)._forceRed(this);var B=x.mul(A),N=B.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),q=B.isub(N).iushrn(this.shift),K=q;return q.cmp(this.m)>=0?K=q.isub(this.m):q.cmpn(0)<0&&(K=q.iadd(this.m)),K._forceRed(this)},T.prototype.invm=function(x){var A=this.imod(x._invmp(this.m).mul(this.r2));return A._forceRed(this)}})(f,commonjsGlobal)}(bn$1)),bn$1.exports}var browserifyRsa,hasRequiredBrowserifyRsa;function requireBrowserifyRsa(){if(hasRequiredBrowserifyRsa)return browserifyRsa;hasRequiredBrowserifyRsa=1;var f=requireBn$1(),r=requireBrowser$b(),d=safeBufferExports.Buffer;function g(y){var m=y.modulus.byteLength(),w;do w=new f(r(m));while(w.cmp(y.modulus)>=0||!w.umod(y.prime1)||!w.umod(y.prime2));return w}function _(y){var m=g(y),w=m.toRed(f.mont(y.modulus)).redPow(new f(y.publicExponent)).fromRed();return{blinder:w,unblinder:m.invm(y.modulus)}}function v(y,m){var w=_(m),C=m.modulus.byteLength(),b=new f(y).mul(w.blinder).umod(m.modulus),E=b.toRed(f.mont(m.prime1)),S=b.toRed(f.mont(m.prime2)),R=m.coefficient,O=m.prime1,$=m.prime2,I=E.redPow(m.exponent1).fromRed(),U=S.redPow(m.exponent2).fromRed(),L=I.isub(U).imul(R).umod(O).imul($);return U.iadd(L).imul(w.unblinder).umod(m.modulus).toArrayLike(d,"be",C)}return v.getr=g,browserifyRsa=v,browserifyRsa}var elliptic={};const name$3="elliptic",version$2="6.6.1",description$1="EC cryptography",main$1="lib/elliptic.js",files=["lib"],scripts$1={lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository={type:"git",url:"git@github.com:indutny/elliptic"},keywords$1=["EC","Elliptic","curve","Cryptography"],author$1="Fedor Indutny <fedor@indutny.com>",license$1="MIT",bugs={url:"https://github.com/indutny/elliptic/issues"},homepage="https://github.com/indutny/elliptic",devDependencies$1={brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies$1={"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"},require$$0$1={name:name$3,version:version$2,description:description$1,main:main$1,files,scripts:scripts$1,repository,keywords:keywords$1,author:author$1,license:license$1,bugs,homepage,devDependencies:devDependencies$1,dependencies:dependencies$1};var utils$7={},utils$6={},hasRequiredUtils$4;function requireUtils$4(){return hasRequiredUtils$4||(hasRequiredUtils$4=1,function(f){var r=f;function d(v,y){if(Array.isArray(v))return v.slice();if(!v)return[];var m=[];if(typeof v!="string"){for(var w=0;w<v.length;w++)m[w]=v[w]|0;return m}if(y==="hex"){v=v.replace(/[^a-z0-9]+/ig,""),v.length%2!==0&&(v="0"+v);for(var w=0;w<v.length;w+=2)m.push(parseInt(v[w]+v[w+1],16))}else for(var w=0;w<v.length;w++){var C=v.charCodeAt(w),b=C>>8,E=C&255;b?m.push(b,E):m.push(E)}return m}r.toArray=d;function g(v){return v.length===1?"0"+v:v}r.zero2=g;function _(v){for(var y="",m=0;m<v.length;m++)y+=g(v[m].toString(16));return y}r.toHex=_,r.encode=function(y,m){return m==="hex"?_(y):y}}(utils$6)),utils$6}var hasRequiredUtils$3;function requireUtils$3(){return hasRequiredUtils$3||(hasRequiredUtils$3=1,function(f){var r=f,d=requireBn$2(),g=requireMinimalisticAssert(),_=requireUtils$4();r.assert=g,r.toArray=_.toArray,r.zero2=_.zero2,r.toHex=_.toHex,r.encode=_.encode;function v(b,E,S){var R=new Array(Math.max(b.bitLength(),S)+1),O;for(O=0;O<R.length;O+=1)R[O]=0;var $=1<<E+1,I=b.clone();for(O=0;O<R.length;O++){var U,L=I.andln($-1);I.isOdd()?(L>($>>1)-1?U=($>>1)-L:U=L,I.isubn(U)):U=0,R[O]=U,I.iushrn(1)}return R}r.getNAF=v;function y(b,E){var S=[[],[]];b=b.clone(),E=E.clone();for(var R=0,O=0,$;b.cmpn(-R)>0||E.cmpn(-O)>0;){var I=b.andln(3)+R&3,U=E.andln(3)+O&3;I===3&&(I=-1),U===3&&(U=-1);var L;I&1?($=b.andln(7)+R&7,($===3||$===5)&&U===2?L=-I:L=I):L=0,S[0].push(L);var j;U&1?($=E.andln(7)+O&7,($===3||$===5)&&I===2?j=-U:j=U):j=0,S[1].push(j),2*R===L+1&&(R=1-R),2*O===j+1&&(O=1-O),b.iushrn(1),E.iushrn(1)}return S}r.getJSF=y;function m(b,E,S){var R="_"+E;b.prototype[E]=function(){return this[R]!==void 0?this[R]:this[R]=S.call(this)}}r.cachedProperty=m;function w(b){return typeof b=="string"?r.toArray(b,"hex"):b}r.parseBytes=w;function C(b){return new d(b,"hex","le")}r.intFromLE=C}(utils$7)),utils$7}var curve={},base$5,hasRequiredBase$1;function requireBase$1(){if(hasRequiredBase$1)return base$5;hasRequiredBase$1=1;var f=requireBn$2(),r=requireUtils$3(),d=r.getNAF,g=r.getJSF,_=r.assert;function v(m,w){this.type=m,this.p=new f(w.p,16),this.red=w.prime?f.red(w.prime):f.mont(this.p),this.zero=new f(0).toRed(this.red),this.one=new f(1).toRed(this.red),this.two=new f(2).toRed(this.red),this.n=w.n&&new f(w.n,16),this.g=w.g&&this.pointFromJSON(w.g,w.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var C=this.n&&this.p.div(this.n);!C||C.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}base$5=v,v.prototype.point=function(){throw new Error("Not implemented")},v.prototype.validate=function(){throw new Error("Not implemented")},v.prototype._fixedNafMul=function(w,C){_(w.precomputed);var b=w._getDoubles(),E=d(C,1,this._bitLength),S=(1<<b.step+1)-(b.step%2===0?2:1);S/=3;var R=[],O,$;for(O=0;O<E.length;O+=b.step){$=0;for(var I=O+b.step-1;I>=O;I--)$=($<<1)+E[I];R.push($)}for(var U=this.jpoint(null,null,null),L=this.jpoint(null,null,null),j=S;j>0;j--){for(O=0;O<R.length;O++)$=R[O],$===j?L=L.mixedAdd(b.points[O]):$===-j&&(L=L.mixedAdd(b.points[O].neg()));U=U.add(L)}return U.toP()},v.prototype._wnafMul=function(w,C){var b=4,E=w._getNAFPoints(b);b=E.wnd;for(var S=E.points,R=d(C,b,this._bitLength),O=this.jpoint(null,null,null),$=R.length-1;$>=0;$--){for(var I=0;$>=0&&R[$]===0;$--)I++;if($>=0&&I++,O=O.dblp(I),$<0)break;var U=R[$];_(U!==0),w.type==="affine"?U>0?O=O.mixedAdd(S[U-1>>1]):O=O.mixedAdd(S[-U-1>>1].neg()):U>0?O=O.add(S[U-1>>1]):O=O.add(S[-U-1>>1].neg())}return w.type==="affine"?O.toP():O},v.prototype._wnafMulAdd=function(w,C,b,E,S){var R=this._wnafT1,O=this._wnafT2,$=this._wnafT3,I=0,U,L,j;for(U=0;U<E;U++){j=C[U];var F=j._getNAFPoints(w);R[U]=F.wnd,O[U]=F.points}for(U=E-1;U>=1;U-=2){var X=U-1,z=U;if(R[X]!==1||R[z]!==1){$[X]=d(b[X],R[X],this._bitLength),$[z]=d(b[z],R[z],this._bitLength),I=Math.max($[X].length,I),I=Math.max($[z].length,I);continue}var Y=[C[X],null,null,C[z]];C[X].y.cmp(C[z].y)===0?(Y[1]=C[X].add(C[z]),Y[2]=C[X].toJ().mixedAdd(C[z].neg())):C[X].y.cmp(C[z].y.redNeg())===0?(Y[1]=C[X].toJ().mixedAdd(C[z]),Y[2]=C[X].add(C[z].neg())):(Y[1]=C[X].toJ().mixedAdd(C[z]),Y[2]=C[X].toJ().mixedAdd(C[z].neg()));var ne=[-3,-1,-5,-7,0,7,5,1,3],re=g(b[X],b[z]);for(I=Math.max(re[0].length,I),$[X]=new Array(I),$[z]=new Array(I),L=0;L<I;L++){var se=re[0][L]|0,G=re[1][L]|0;$[X][L]=ne[(se+1)*3+(G+1)],$[z][L]=0,O[X]=Y}}var T=this.jpoint(null,null,null),D=this._wnafT4;for(U=I;U>=0;U--){for(var x=0;U>=0;){var A=!0;for(L=0;L<E;L++)D[L]=$[L][U]|0,D[L]!==0&&(A=!1);if(!A)break;x++,U--}if(U>=0&&x++,T=T.dblp(x),U<0)break;for(L=0;L<E;L++){var B=D[L];B!==0&&(B>0?j=O[L][B-1>>1]:B<0&&(j=O[L][-B-1>>1].neg()),j.type==="affine"?T=T.mixedAdd(j):T=T.add(j))}}for(U=0;U<E;U++)O[U]=null;return S?T:T.toP()};function y(m,w){this.curve=m,this.type=w,this.precomputed=null}return v.BasePoint=y,y.prototype.eq=function(){throw new Error("Not implemented")},y.prototype.validate=function(){return this.curve.validate(this)},v.prototype.decodePoint=function(w,C){w=r.toArray(w,C);var b=this.p.byteLength();if((w[0]===4||w[0]===6||w[0]===7)&&w.length-1===2*b){w[0]===6?_(w[w.length-1]%2===0):w[0]===7&&_(w[w.length-1]%2===1);var E=this.point(w.slice(1,1+b),w.slice(1+b,1+2*b));return E}else if((w[0]===2||w[0]===3)&&w.length-1===b)return this.pointFromX(w.slice(1,1+b),w[0]===3);throw new Error("Unknown point format")},y.prototype.encodeCompressed=function(w){return this.encode(w,!0)},y.prototype._encode=function(w){var C=this.curve.p.byteLength(),b=this.getX().toArray("be",C);return w?[this.getY().isEven()?2:3].concat(b):[4].concat(b,this.getY().toArray("be",C))},y.prototype.encode=function(w,C){return r.encode(this._encode(C),w)},y.prototype.precompute=function(w){if(this.precomputed)return this;var C={doubles:null,naf:null,beta:null};return C.naf=this._getNAFPoints(8),C.doubles=this._getDoubles(4,w),C.beta=this._getBeta(),this.precomputed=C,this},y.prototype._hasDoubles=function(w){if(!this.precomputed)return!1;var C=this.precomputed.doubles;return C?C.points.length>=Math.ceil((w.bitLength()+1)/C.step):!1},y.prototype._getDoubles=function(w,C){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var b=[this],E=this,S=0;S<C;S+=w){for(var R=0;R<w;R++)E=E.dbl();b.push(E)}return{step:w,points:b}},y.prototype._getNAFPoints=function(w){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var C=[this],b=(1<<w)-1,E=b===1?null:this.dbl(),S=1;S<b;S++)C[S]=C[S-1].add(E);return{wnd:w,points:C}},y.prototype._getBeta=function(){return null},y.prototype.dblp=function(w){for(var C=this,b=0;b<w;b++)C=C.dbl();return C},base$5}var short,hasRequiredShort;function requireShort(){if(hasRequiredShort)return short;hasRequiredShort=1;var f=requireUtils$3(),r=requireBn$2(),d=requireInherits_browser(),g=requireBase$1(),_=f.assert;function v(w){g.call(this,"short",w),this.a=new r(w.a,16).toRed(this.red),this.b=new r(w.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(w),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}d(v,g),short=v,v.prototype._getEndomorphism=function(C){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var b,E;if(C.beta)b=new r(C.beta,16).toRed(this.red);else{var S=this._getEndoRoots(this.p);b=S[0].cmp(S[1])<0?S[0]:S[1],b=b.toRed(this.red)}if(C.lambda)E=new r(C.lambda,16);else{var R=this._getEndoRoots(this.n);this.g.mul(R[0]).x.cmp(this.g.x.redMul(b))===0?E=R[0]:(E=R[1],_(this.g.mul(E).x.cmp(this.g.x.redMul(b))===0))}var O;return C.basis?O=C.basis.map(function($){return{a:new r($.a,16),b:new r($.b,16)}}):O=this._getEndoBasis(E),{beta:b,lambda:E,basis:O}}},v.prototype._getEndoRoots=function(C){var b=C===this.p?this.red:r.mont(C),E=new r(2).toRed(b).redInvm(),S=E.redNeg(),R=new r(3).toRed(b).redNeg().redSqrt().redMul(E),O=S.redAdd(R).fromRed(),$=S.redSub(R).fromRed();return[O,$]},v.prototype._getEndoBasis=function(C){for(var b=this.n.ushrn(Math.floor(this.n.bitLength()/2)),E=C,S=this.n.clone(),R=new r(1),O=new r(0),$=new r(0),I=new r(1),U,L,j,F,X,z,Y,ne=0,re,se;E.cmpn(0)!==0;){var G=S.div(E);re=S.sub(G.mul(E)),se=$.sub(G.mul(R));var T=I.sub(G.mul(O));if(!j&&re.cmp(b)<0)U=Y.neg(),L=R,j=re.neg(),F=se;else if(j&&++ne===2)break;Y=re,S=E,E=re,$=R,R=se,I=O,O=T}X=re.neg(),z=se;var D=j.sqr().add(F.sqr()),x=X.sqr().add(z.sqr());return x.cmp(D)>=0&&(X=U,z=L),j.negative&&(j=j.neg(),F=F.neg()),X.negative&&(X=X.neg(),z=z.neg()),[{a:j,b:F},{a:X,b:z}]},v.prototype._endoSplit=function(C){var b=this.endo.basis,E=b[0],S=b[1],R=S.b.mul(C).divRound(this.n),O=E.b.neg().mul(C).divRound(this.n),$=R.mul(E.a),I=O.mul(S.a),U=R.mul(E.b),L=O.mul(S.b),j=C.sub($).sub(I),F=U.add(L).neg();return{k1:j,k2:F}},v.prototype.pointFromX=function(C,b){C=new r(C,16),C.red||(C=C.toRed(this.red));var E=C.redSqr().redMul(C).redIAdd(C.redMul(this.a)).redIAdd(this.b),S=E.redSqrt();if(S.redSqr().redSub(E).cmp(this.zero)!==0)throw new Error("invalid point");var R=S.fromRed().isOdd();return(b&&!R||!b&&R)&&(S=S.redNeg()),this.point(C,S)},v.prototype.validate=function(C){if(C.inf)return!0;var b=C.x,E=C.y,S=this.a.redMul(b),R=b.redSqr().redMul(b).redIAdd(S).redIAdd(this.b);return E.redSqr().redISub(R).cmpn(0)===0},v.prototype._endoWnafMulAdd=function(C,b,E){for(var S=this._endoWnafT1,R=this._endoWnafT2,O=0;O<C.length;O++){var $=this._endoSplit(b[O]),I=C[O],U=I._getBeta();$.k1.negative&&($.k1.ineg(),I=I.neg(!0)),$.k2.negative&&($.k2.ineg(),U=U.neg(!0)),S[O*2]=I,S[O*2+1]=U,R[O*2]=$.k1,R[O*2+1]=$.k2}for(var L=this._wnafMulAdd(1,S,R,O*2,E),j=0;j<O*2;j++)S[j]=null,R[j]=null;return L};function y(w,C,b,E){g.BasePoint.call(this,w,"affine"),C===null&&b===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new r(C,16),this.y=new r(b,16),E&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}d(y,g.BasePoint),v.prototype.point=function(C,b,E){return new y(this,C,b,E)},v.prototype.pointFromJSON=function(C,b){return y.fromJSON(this,C,b)},y.prototype._getBeta=function(){if(this.curve.endo){var C=this.precomputed;if(C&&C.beta)return C.beta;var b=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(C){var E=this.curve,S=function(R){return E.point(R.x.redMul(E.endo.beta),R.y)};C.beta=b,b.precomputed={beta:null,naf:C.naf&&{wnd:C.naf.wnd,points:C.naf.points.map(S)},doubles:C.doubles&&{step:C.doubles.step,points:C.doubles.points.map(S)}}}return b}},y.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},y.fromJSON=function(C,b,E){typeof b=="string"&&(b=JSON.parse(b));var S=C.point(b[0],b[1],E);if(!b[2])return S;function R($){return C.point($[0],$[1],E)}var O=b[2];return S.precomputed={beta:null,doubles:O.doubles&&{step:O.doubles.step,points:[S].concat(O.doubles.points.map(R))},naf:O.naf&&{wnd:O.naf.wnd,points:[S].concat(O.naf.points.map(R))}},S},y.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},y.prototype.isInfinity=function(){return this.inf},y.prototype.add=function(C){if(this.inf)return C;if(C.inf)return this;if(this.eq(C))return this.dbl();if(this.neg().eq(C))return this.curve.point(null,null);if(this.x.cmp(C.x)===0)return this.curve.point(null,null);var b=this.y.redSub(C.y);b.cmpn(0)!==0&&(b=b.redMul(this.x.redSub(C.x).redInvm()));var E=b.redSqr().redISub(this.x).redISub(C.x),S=b.redMul(this.x.redSub(E)).redISub(this.y);return this.curve.point(E,S)},y.prototype.dbl=function(){if(this.inf)return this;var C=this.y.redAdd(this.y);if(C.cmpn(0)===0)return this.curve.point(null,null);var b=this.curve.a,E=this.x.redSqr(),S=C.redInvm(),R=E.redAdd(E).redIAdd(E).redIAdd(b).redMul(S),O=R.redSqr().redISub(this.x.redAdd(this.x)),$=R.redMul(this.x.redSub(O)).redISub(this.y);return this.curve.point(O,$)},y.prototype.getX=function(){return this.x.fromRed()},y.prototype.getY=function(){return this.y.fromRed()},y.prototype.mul=function(C){return C=new r(C,16),this.isInfinity()?this:this._hasDoubles(C)?this.curve._fixedNafMul(this,C):this.curve.endo?this.curve._endoWnafMulAdd([this],[C]):this.curve._wnafMul(this,C)},y.prototype.mulAdd=function(C,b,E){var S=[this,b],R=[C,E];return this.curve.endo?this.curve._endoWnafMulAdd(S,R):this.curve._wnafMulAdd(1,S,R,2)},y.prototype.jmulAdd=function(C,b,E){var S=[this,b],R=[C,E];return this.curve.endo?this.curve._endoWnafMulAdd(S,R,!0):this.curve._wnafMulAdd(1,S,R,2,!0)},y.prototype.eq=function(C){return this===C||this.inf===C.inf&&(this.inf||this.x.cmp(C.x)===0&&this.y.cmp(C.y)===0)},y.prototype.neg=function(C){if(this.inf)return this;var b=this.curve.point(this.x,this.y.redNeg());if(C&&this.precomputed){var E=this.precomputed,S=function(R){return R.neg()};b.precomputed={naf:E.naf&&{wnd:E.naf.wnd,points:E.naf.points.map(S)},doubles:E.doubles&&{step:E.doubles.step,points:E.doubles.points.map(S)}}}return b},y.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var C=this.curve.jpoint(this.x,this.y,this.curve.one);return C};function m(w,C,b,E){g.BasePoint.call(this,w,"jacobian"),C===null&&b===null&&E===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new r(0)):(this.x=new r(C,16),this.y=new r(b,16),this.z=new r(E,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}return d(m,g.BasePoint),v.prototype.jpoint=function(C,b,E){return new m(this,C,b,E)},m.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var C=this.z.redInvm(),b=C.redSqr(),E=this.x.redMul(b),S=this.y.redMul(b).redMul(C);return this.curve.point(E,S)},m.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},m.prototype.add=function(C){if(this.isInfinity())return C;if(C.isInfinity())return this;var b=C.z.redSqr(),E=this.z.redSqr(),S=this.x.redMul(b),R=C.x.redMul(E),O=this.y.redMul(b.redMul(C.z)),$=C.y.redMul(E.redMul(this.z)),I=S.redSub(R),U=O.redSub($);if(I.cmpn(0)===0)return U.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var L=I.redSqr(),j=L.redMul(I),F=S.redMul(L),X=U.redSqr().redIAdd(j).redISub(F).redISub(F),z=U.redMul(F.redISub(X)).redISub(O.redMul(j)),Y=this.z.redMul(C.z).redMul(I);return this.curve.jpoint(X,z,Y)},m.prototype.mixedAdd=function(C){if(this.isInfinity())return C.toJ();if(C.isInfinity())return this;var b=this.z.redSqr(),E=this.x,S=C.x.redMul(b),R=this.y,O=C.y.redMul(b).redMul(this.z),$=E.redSub(S),I=R.redSub(O);if($.cmpn(0)===0)return I.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var U=$.redSqr(),L=U.redMul($),j=E.redMul(U),F=I.redSqr().redIAdd(L).redISub(j).redISub(j),X=I.redMul(j.redISub(F)).redISub(R.redMul(L)),z=this.z.redMul($);return this.curve.jpoint(F,X,z)},m.prototype.dblp=function(C){if(C===0)return this;if(this.isInfinity())return this;if(!C)return this.dbl();var b;if(this.curve.zeroA||this.curve.threeA){var E=this;for(b=0;b<C;b++)E=E.dbl();return E}var S=this.curve.a,R=this.curve.tinv,O=this.x,$=this.y,I=this.z,U=I.redSqr().redSqr(),L=$.redAdd($);for(b=0;b<C;b++){var j=O.redSqr(),F=L.redSqr(),X=F.redSqr(),z=j.redAdd(j).redIAdd(j).redIAdd(S.redMul(U)),Y=O.redMul(F),ne=z.redSqr().redISub(Y.redAdd(Y)),re=Y.redISub(ne),se=z.redMul(re);se=se.redIAdd(se).redISub(X);var G=L.redMul(I);b+1<C&&(U=U.redMul(X)),O=ne,I=G,L=se}return this.curve.jpoint(O,L.redMul(R),I)},m.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},m.prototype._zeroDbl=function(){var C,b,E;if(this.zOne){var S=this.x.redSqr(),R=this.y.redSqr(),O=R.redSqr(),$=this.x.redAdd(R).redSqr().redISub(S).redISub(O);$=$.redIAdd($);var I=S.redAdd(S).redIAdd(S),U=I.redSqr().redISub($).redISub($),L=O.redIAdd(O);L=L.redIAdd(L),L=L.redIAdd(L),C=U,b=I.redMul($.redISub(U)).redISub(L),E=this.y.redAdd(this.y)}else{var j=this.x.redSqr(),F=this.y.redSqr(),X=F.redSqr(),z=this.x.redAdd(F).redSqr().redISub(j).redISub(X);z=z.redIAdd(z);var Y=j.redAdd(j).redIAdd(j),ne=Y.redSqr(),re=X.redIAdd(X);re=re.redIAdd(re),re=re.redIAdd(re),C=ne.redISub(z).redISub(z),b=Y.redMul(z.redISub(C)).redISub(re),E=this.y.redMul(this.z),E=E.redIAdd(E)}return this.curve.jpoint(C,b,E)},m.prototype._threeDbl=function(){var C,b,E;if(this.zOne){var S=this.x.redSqr(),R=this.y.redSqr(),O=R.redSqr(),$=this.x.redAdd(R).redSqr().redISub(S).redISub(O);$=$.redIAdd($);var I=S.redAdd(S).redIAdd(S).redIAdd(this.curve.a),U=I.redSqr().redISub($).redISub($);C=U;var L=O.redIAdd(O);L=L.redIAdd(L),L=L.redIAdd(L),b=I.redMul($.redISub(U)).redISub(L),E=this.y.redAdd(this.y)}else{var j=this.z.redSqr(),F=this.y.redSqr(),X=this.x.redMul(F),z=this.x.redSub(j).redMul(this.x.redAdd(j));z=z.redAdd(z).redIAdd(z);var Y=X.redIAdd(X);Y=Y.redIAdd(Y);var ne=Y.redAdd(Y);C=z.redSqr().redISub(ne),E=this.y.redAdd(this.z).redSqr().redISub(F).redISub(j);var re=F.redSqr();re=re.redIAdd(re),re=re.redIAdd(re),re=re.redIAdd(re),b=z.redMul(Y.redISub(C)).redISub(re)}return this.curve.jpoint(C,b,E)},m.prototype._dbl=function(){var C=this.curve.a,b=this.x,E=this.y,S=this.z,R=S.redSqr().redSqr(),O=b.redSqr(),$=E.redSqr(),I=O.redAdd(O).redIAdd(O).redIAdd(C.redMul(R)),U=b.redAdd(b);U=U.redIAdd(U);var L=U.redMul($),j=I.redSqr().redISub(L.redAdd(L)),F=L.redISub(j),X=$.redSqr();X=X.redIAdd(X),X=X.redIAdd(X),X=X.redIAdd(X);var z=I.redMul(F).redISub(X),Y=E.redAdd(E).redMul(S);return this.curve.jpoint(j,z,Y)},m.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var C=this.x.redSqr(),b=this.y.redSqr(),E=this.z.redSqr(),S=b.redSqr(),R=C.redAdd(C).redIAdd(C),O=R.redSqr(),$=this.x.redAdd(b).redSqr().redISub(C).redISub(S);$=$.redIAdd($),$=$.redAdd($).redIAdd($),$=$.redISub(O);var I=$.redSqr(),U=S.redIAdd(S);U=U.redIAdd(U),U=U.redIAdd(U),U=U.redIAdd(U);var L=R.redIAdd($).redSqr().redISub(O).redISub(I).redISub(U),j=b.redMul(L);j=j.redIAdd(j),j=j.redIAdd(j);var F=this.x.redMul(I).redISub(j);F=F.redIAdd(F),F=F.redIAdd(F);var X=this.y.redMul(L.redMul(U.redISub(L)).redISub($.redMul(I)));X=X.redIAdd(X),X=X.redIAdd(X),X=X.redIAdd(X);var z=this.z.redAdd($).redSqr().redISub(E).redISub(I);return this.curve.jpoint(F,X,z)},m.prototype.mul=function(C,b){return C=new r(C,b),this.curve._wnafMul(this,C)},m.prototype.eq=function(C){if(C.type==="affine")return this.eq(C.toJ());if(this===C)return!0;var b=this.z.redSqr(),E=C.z.redSqr();if(this.x.redMul(E).redISub(C.x.redMul(b)).cmpn(0)!==0)return!1;var S=b.redMul(this.z),R=E.redMul(C.z);return this.y.redMul(R).redISub(C.y.redMul(S)).cmpn(0)===0},m.prototype.eqXToP=function(C){var b=this.z.redSqr(),E=C.toRed(this.curve.red).redMul(b);if(this.x.cmp(E)===0)return!0;for(var S=C.clone(),R=this.curve.redN.redMul(b);;){if(S.iadd(this.curve.n),S.cmp(this.curve.p)>=0)return!1;if(E.redIAdd(R),this.x.cmp(E)===0)return!0}},m.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},m.prototype.isInfinity=function(){return this.z.cmpn(0)===0},short}var mont,hasRequiredMont;function requireMont(){if(hasRequiredMont)return mont;hasRequiredMont=1;var f=requireBn$2(),r=requireInherits_browser(),d=requireBase$1(),g=requireUtils$3();function _(y){d.call(this,"mont",y),this.a=new f(y.a,16).toRed(this.red),this.b=new f(y.b,16).toRed(this.red),this.i4=new f(4).toRed(this.red).redInvm(),this.two=new f(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}r(_,d),mont=_,_.prototype.validate=function(m){var w=m.normalize().x,C=w.redSqr(),b=C.redMul(w).redAdd(C.redMul(this.a)).redAdd(w),E=b.redSqrt();return E.redSqr().cmp(b)===0};function v(y,m,w){d.BasePoint.call(this,y,"projective"),m===null&&w===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new f(m,16),this.z=new f(w,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}return r(v,d.BasePoint),_.prototype.decodePoint=function(m,w){return this.point(g.toArray(m,w),1)},_.prototype.point=function(m,w){return new v(this,m,w)},_.prototype.pointFromJSON=function(m){return v.fromJSON(this,m)},v.prototype.precompute=function(){},v.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},v.fromJSON=function(m,w){return new v(m,w[0],w[1]||m.one)},v.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},v.prototype.isInfinity=function(){return this.z.cmpn(0)===0},v.prototype.dbl=function(){var m=this.x.redAdd(this.z),w=m.redSqr(),C=this.x.redSub(this.z),b=C.redSqr(),E=w.redSub(b),S=w.redMul(b),R=E.redMul(b.redAdd(this.curve.a24.redMul(E)));return this.curve.point(S,R)},v.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},v.prototype.diffAdd=function(m,w){var C=this.x.redAdd(this.z),b=this.x.redSub(this.z),E=m.x.redAdd(m.z),S=m.x.redSub(m.z),R=S.redMul(C),O=E.redMul(b),$=w.z.redMul(R.redAdd(O).redSqr()),I=w.x.redMul(R.redISub(O).redSqr());return this.curve.point($,I)},v.prototype.mul=function(m){for(var w=m.clone(),C=this,b=this.curve.point(null,null),E=this,S=[];w.cmpn(0)!==0;w.iushrn(1))S.push(w.andln(1));for(var R=S.length-1;R>=0;R--)S[R]===0?(C=C.diffAdd(b,E),b=b.dbl()):(b=C.diffAdd(b,E),C=C.dbl());return b},v.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},v.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},v.prototype.eq=function(m){return this.getX().cmp(m.getX())===0},v.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},v.prototype.getX=function(){return this.normalize(),this.x.fromRed()},mont}var edwards,hasRequiredEdwards;function requireEdwards(){if(hasRequiredEdwards)return edwards;hasRequiredEdwards=1;var f=requireUtils$3(),r=requireBn$2(),d=requireInherits_browser(),g=requireBase$1(),_=f.assert;function v(m){this.twisted=(m.a|0)!==1,this.mOneA=this.twisted&&(m.a|0)===-1,this.extended=this.mOneA,g.call(this,"edwards",m),this.a=new r(m.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new r(m.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new r(m.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),_(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(m.c|0)===1}d(v,g),edwards=v,v.prototype._mulA=function(w){return this.mOneA?w.redNeg():this.a.redMul(w)},v.prototype._mulC=function(w){return this.oneC?w:this.c.redMul(w)},v.prototype.jpoint=function(w,C,b,E){return this.point(w,C,b,E)},v.prototype.pointFromX=function(w,C){w=new r(w,16),w.red||(w=w.toRed(this.red));var b=w.redSqr(),E=this.c2.redSub(this.a.redMul(b)),S=this.one.redSub(this.c2.redMul(this.d).redMul(b)),R=E.redMul(S.redInvm()),O=R.redSqrt();if(O.redSqr().redSub(R).cmp(this.zero)!==0)throw new Error("invalid point");var $=O.fromRed().isOdd();return(C&&!$||!C&&$)&&(O=O.redNeg()),this.point(w,O)},v.prototype.pointFromY=function(w,C){w=new r(w,16),w.red||(w=w.toRed(this.red));var b=w.redSqr(),E=b.redSub(this.c2),S=b.redMul(this.d).redMul(this.c2).redSub(this.a),R=E.redMul(S.redInvm());if(R.cmp(this.zero)===0){if(C)throw new Error("invalid point");return this.point(this.zero,w)}var O=R.redSqrt();if(O.redSqr().redSub(R).cmp(this.zero)!==0)throw new Error("invalid point");return O.fromRed().isOdd()!==C&&(O=O.redNeg()),this.point(O,w)},v.prototype.validate=function(w){if(w.isInfinity())return!0;w.normalize();var C=w.x.redSqr(),b=w.y.redSqr(),E=C.redMul(this.a).redAdd(b),S=this.c2.redMul(this.one.redAdd(this.d.redMul(C).redMul(b)));return E.cmp(S)===0};function y(m,w,C,b,E){g.BasePoint.call(this,m,"projective"),w===null&&C===null&&b===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new r(w,16),this.y=new r(C,16),this.z=b?new r(b,16):this.curve.one,this.t=E&&new r(E,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}return d(y,g.BasePoint),v.prototype.pointFromJSON=function(w){return y.fromJSON(this,w)},v.prototype.point=function(w,C,b,E){return new y(this,w,C,b,E)},y.fromJSON=function(w,C){return new y(w,C[0],C[1],C[2])},y.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},y.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},y.prototype._extDbl=function(){var w=this.x.redSqr(),C=this.y.redSqr(),b=this.z.redSqr();b=b.redIAdd(b);var E=this.curve._mulA(w),S=this.x.redAdd(this.y).redSqr().redISub(w).redISub(C),R=E.redAdd(C),O=R.redSub(b),$=E.redSub(C),I=S.redMul(O),U=R.redMul($),L=S.redMul($),j=O.redMul(R);return this.curve.point(I,U,j,L)},y.prototype._projDbl=function(){var w=this.x.redAdd(this.y).redSqr(),C=this.x.redSqr(),b=this.y.redSqr(),E,S,R,O,$,I;if(this.curve.twisted){O=this.curve._mulA(C);var U=O.redAdd(b);this.zOne?(E=w.redSub(C).redSub(b).redMul(U.redSub(this.curve.two)),S=U.redMul(O.redSub(b)),R=U.redSqr().redSub(U).redSub(U)):($=this.z.redSqr(),I=U.redSub($).redISub($),E=w.redSub(C).redISub(b).redMul(I),S=U.redMul(O.redSub(b)),R=U.redMul(I))}else O=C.redAdd(b),$=this.curve._mulC(this.z).redSqr(),I=O.redSub($).redSub($),E=this.curve._mulC(w.redISub(O)).redMul(I),S=this.curve._mulC(O).redMul(C.redISub(b)),R=O.redMul(I);return this.curve.point(E,S,R)},y.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},y.prototype._extAdd=function(w){var C=this.y.redSub(this.x).redMul(w.y.redSub(w.x)),b=this.y.redAdd(this.x).redMul(w.y.redAdd(w.x)),E=this.t.redMul(this.curve.dd).redMul(w.t),S=this.z.redMul(w.z.redAdd(w.z)),R=b.redSub(C),O=S.redSub(E),$=S.redAdd(E),I=b.redAdd(C),U=R.redMul(O),L=$.redMul(I),j=R.redMul(I),F=O.redMul($);return this.curve.point(U,L,F,j)},y.prototype._projAdd=function(w){var C=this.z.redMul(w.z),b=C.redSqr(),E=this.x.redMul(w.x),S=this.y.redMul(w.y),R=this.curve.d.redMul(E).redMul(S),O=b.redSub(R),$=b.redAdd(R),I=this.x.redAdd(this.y).redMul(w.x.redAdd(w.y)).redISub(E).redISub(S),U=C.redMul(O).redMul(I),L,j;return this.curve.twisted?(L=C.redMul($).redMul(S.redSub(this.curve._mulA(E))),j=O.redMul($)):(L=C.redMul($).redMul(S.redSub(E)),j=this.curve._mulC(O).redMul($)),this.curve.point(U,L,j)},y.prototype.add=function(w){return this.isInfinity()?w:w.isInfinity()?this:this.curve.extended?this._extAdd(w):this._projAdd(w)},y.prototype.mul=function(w){return this._hasDoubles(w)?this.curve._fixedNafMul(this,w):this.curve._wnafMul(this,w)},y.prototype.mulAdd=function(w,C,b){return this.curve._wnafMulAdd(1,[this,C],[w,b],2,!1)},y.prototype.jmulAdd=function(w,C,b){return this.curve._wnafMulAdd(1,[this,C],[w,b],2,!0)},y.prototype.normalize=function(){if(this.zOne)return this;var w=this.z.redInvm();return this.x=this.x.redMul(w),this.y=this.y.redMul(w),this.t&&(this.t=this.t.redMul(w)),this.z=this.curve.one,this.zOne=!0,this},y.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},y.prototype.getX=function(){return this.normalize(),this.x.fromRed()},y.prototype.getY=function(){return this.normalize(),this.y.fromRed()},y.prototype.eq=function(w){return this===w||this.getX().cmp(w.getX())===0&&this.getY().cmp(w.getY())===0},y.prototype.eqXToP=function(w){var C=w.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(C)===0)return!0;for(var b=w.clone(),E=this.curve.redN.redMul(this.z);;){if(b.iadd(this.curve.n),b.cmp(this.curve.p)>=0)return!1;if(C.redIAdd(E),this.x.cmp(C)===0)return!0}},y.prototype.toP=y.prototype.normalize,y.prototype.mixedAdd=y.prototype.add,edwards}var hasRequiredCurve;function requireCurve(){return hasRequiredCurve||(hasRequiredCurve=1,function(f){var r=f;r.base=requireBase$1(),r.short=requireShort(),r.mont=requireMont(),r.edwards=requireEdwards()}(curve)),curve}var curves={},hash={},utils$5={},hasRequiredUtils$2;function requireUtils$2(){if(hasRequiredUtils$2)return utils$5;hasRequiredUtils$2=1;var f=requireMinimalisticAssert(),r=requireInherits_browser();utils$5.inherits=r;function d(T,D){return(T.charCodeAt(D)&64512)!==55296||D<0||D+1>=T.length?!1:(T.charCodeAt(D+1)&64512)===56320}function g(T,D){if(Array.isArray(T))return T.slice();if(!T)return[];var x=[];if(typeof T=="string")if(D){if(D==="hex")for(T=T.replace(/[^a-z0-9]+/ig,""),T.length%2!==0&&(T="0"+T),B=0;B<T.length;B+=2)x.push(parseInt(T[B]+T[B+1],16))}else for(var A=0,B=0;B<T.length;B++){var N=T.charCodeAt(B);N<128?x[A++]=N:N<2048?(x[A++]=N>>6|192,x[A++]=N&63|128):d(T,B)?(N=65536+((N&1023)<<10)+(T.charCodeAt(++B)&1023),x[A++]=N>>18|240,x[A++]=N>>12&63|128,x[A++]=N>>6&63|128,x[A++]=N&63|128):(x[A++]=N>>12|224,x[A++]=N>>6&63|128,x[A++]=N&63|128)}else for(B=0;B<T.length;B++)x[B]=T[B]|0;return x}utils$5.toArray=g;function _(T){for(var D="",x=0;x<T.length;x++)D+=m(T[x].toString(16));return D}utils$5.toHex=_;function v(T){var D=T>>>24|T>>>8&65280|T<<8&16711680|(T&255)<<24;return D>>>0}utils$5.htonl=v;function y(T,D){for(var x="",A=0;A<T.length;A++){var B=T[A];D==="little"&&(B=v(B)),x+=w(B.toString(16))}return x}utils$5.toHex32=y;function m(T){return T.length===1?"0"+T:T}utils$5.zero2=m;function w(T){return T.length===7?"0"+T:T.length===6?"00"+T:T.length===5?"000"+T:T.length===4?"0000"+T:T.length===3?"00000"+T:T.length===2?"000000"+T:T.length===1?"0000000"+T:T}utils$5.zero8=w;function C(T,D,x,A){var B=x-D;f(B%4===0);for(var N=new Array(B/4),q=0,K=D;q<N.length;q++,K+=4){var P;A==="big"?P=T[K]<<24|T[K+1]<<16|T[K+2]<<8|T[K+3]:P=T[K+3]<<24|T[K+2]<<16|T[K+1]<<8|T[K],N[q]=P>>>0}return N}utils$5.join32=C;function b(T,D){for(var x=new Array(T.length*4),A=0,B=0;A<T.length;A++,B+=4){var N=T[A];D==="big"?(x[B]=N>>>24,x[B+1]=N>>>16&255,x[B+2]=N>>>8&255,x[B+3]=N&255):(x[B+3]=N>>>24,x[B+2]=N>>>16&255,x[B+1]=N>>>8&255,x[B]=N&255)}return x}utils$5.split32=b;function E(T,D){return T>>>D|T<<32-D}utils$5.rotr32=E;function S(T,D){return T<<D|T>>>32-D}utils$5.rotl32=S;function R(T,D){return T+D>>>0}utils$5.sum32=R;function O(T,D,x){return T+D+x>>>0}utils$5.sum32_3=O;function $(T,D,x,A){return T+D+x+A>>>0}utils$5.sum32_4=$;function I(T,D,x,A,B){return T+D+x+A+B>>>0}utils$5.sum32_5=I;function U(T,D,x,A){var B=T[D],N=T[D+1],q=A+N>>>0,K=(q<A?1:0)+x+B;T[D]=K>>>0,T[D+1]=q}utils$5.sum64=U;function L(T,D,x,A){var B=D+A>>>0,N=(B<D?1:0)+T+x;return N>>>0}utils$5.sum64_hi=L;function j(T,D,x,A){var B=D+A;return B>>>0}utils$5.sum64_lo=j;function F(T,D,x,A,B,N,q,K){var P=0,k=D;k=k+A>>>0,P+=k<D?1:0,k=k+N>>>0,P+=k<N?1:0,k=k+K>>>0,P+=k<K?1:0;var M=T+x+B+q+P;return M>>>0}utils$5.sum64_4_hi=F;function X(T,D,x,A,B,N,q,K){var P=D+A+N+K;return P>>>0}utils$5.sum64_4_lo=X;function z(T,D,x,A,B,N,q,K,P,k){var M=0,W=D;W=W+A>>>0,M+=W<D?1:0,W=W+N>>>0,M+=W<N?1:0,W=W+K>>>0,M+=W<K?1:0,W=W+k>>>0,M+=W<k?1:0;var ce=T+x+B+q+P+M;return ce>>>0}utils$5.sum64_5_hi=z;function Y(T,D,x,A,B,N,q,K,P,k){var M=D+A+N+K+k;return M>>>0}utils$5.sum64_5_lo=Y;function ne(T,D,x){var A=D<<32-x|T>>>x;return A>>>0}utils$5.rotr64_hi=ne;function re(T,D,x){var A=T<<32-x|D>>>x;return A>>>0}utils$5.rotr64_lo=re;function se(T,D,x){return T>>>x}utils$5.shr64_hi=se;function G(T,D,x){var A=T<<32-x|D>>>x;return A>>>0}return utils$5.shr64_lo=G,utils$5}var common$l={},hasRequiredCommon$1;function requireCommon$1(){if(hasRequiredCommon$1)return common$l;hasRequiredCommon$1=1;var f=requireUtils$2(),r=requireMinimalisticAssert();function d(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}return common$l.BlockHash=d,d.prototype.update=function(_,v){if(_=f.toArray(_,v),this.pending?this.pending=this.pending.concat(_):this.pending=_,this.pendingTotal+=_.length,this.pending.length>=this._delta8){_=this.pending;var y=_.length%this._delta8;this.pending=_.slice(_.length-y,_.length),this.pending.length===0&&(this.pending=null),_=f.join32(_,0,_.length-y,this.endian);for(var m=0;m<_.length;m+=this._delta32)this._update(_,m,m+this._delta32)}return this},d.prototype.digest=function(_){return this.update(this._pad()),r(this.pending===null),this._digest(_)},d.prototype._pad=function(){var _=this.pendingTotal,v=this._delta8,y=v-(_+this.padLength)%v,m=new Array(y+this.padLength);m[0]=128;for(var w=1;w<y;w++)m[w]=0;if(_<<=3,this.endian==="big"){for(var C=8;C<this.padLength;C++)m[w++]=0;m[w++]=0,m[w++]=0,m[w++]=0,m[w++]=0,m[w++]=_>>>24&255,m[w++]=_>>>16&255,m[w++]=_>>>8&255,m[w++]=_&255}else for(m[w++]=_&255,m[w++]=_>>>8&255,m[w++]=_>>>16&255,m[w++]=_>>>24&255,m[w++]=0,m[w++]=0,m[w++]=0,m[w++]=0,C=8;C<this.padLength;C++)m[w++]=0;return m},common$l}var sha$1={},common$k={},hasRequiredCommon;function requireCommon(){if(hasRequiredCommon)return common$k;hasRequiredCommon=1;var f=requireUtils$2(),r=f.rotr32;function d(b,E,S,R){if(b===0)return g(E,S,R);if(b===1||b===3)return v(E,S,R);if(b===2)return _(E,S,R)}common$k.ft_1=d;function g(b,E,S){return b&E^~b&S}common$k.ch32=g;function _(b,E,S){return b&E^b&S^E&S}common$k.maj32=_;function v(b,E,S){return b^E^S}common$k.p32=v;function y(b){return r(b,2)^r(b,13)^r(b,22)}common$k.s0_256=y;function m(b){return r(b,6)^r(b,11)^r(b,25)}common$k.s1_256=m;function w(b){return r(b,7)^r(b,18)^b>>>3}common$k.g0_256=w;function C(b){return r(b,17)^r(b,19)^b>>>10}return common$k.g1_256=C,common$k}var _1,hasRequired_1;function require_1(){if(hasRequired_1)return _1;hasRequired_1=1;var f=requireUtils$2(),r=requireCommon$1(),d=requireCommon(),g=f.rotl32,_=f.sum32,v=f.sum32_5,y=d.ft_1,m=r.BlockHash,w=[1518500249,1859775393,2400959708,3395469782];function C(){if(!(this instanceof C))return new C;m.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}return f.inherits(C,m),_1=C,C.blockSize=512,C.outSize=160,C.hmacStrength=80,C.padLength=64,C.prototype._update=function(E,S){for(var R=this.W,O=0;O<16;O++)R[O]=E[S+O];for(;O<R.length;O++)R[O]=g(R[O-3]^R[O-8]^R[O-14]^R[O-16],1);var $=this.h[0],I=this.h[1],U=this.h[2],L=this.h[3],j=this.h[4];for(O=0;O<R.length;O++){var F=~~(O/20),X=v(g($,5),y(F,I,U,L),j,R[O],w[F]);j=L,L=U,U=g(I,30),I=$,$=X}this.h[0]=_(this.h[0],$),this.h[1]=_(this.h[1],I),this.h[2]=_(this.h[2],U),this.h[3]=_(this.h[3],L),this.h[4]=_(this.h[4],j)},C.prototype._digest=function(E){return E==="hex"?f.toHex32(this.h,"big"):f.split32(this.h,"big")},_1}var _256,hasRequired_256;function require_256(){if(hasRequired_256)return _256;hasRequired_256=1;var f=requireUtils$2(),r=requireCommon$1(),d=requireCommon(),g=requireMinimalisticAssert(),_=f.sum32,v=f.sum32_4,y=f.sum32_5,m=d.ch32,w=d.maj32,C=d.s0_256,b=d.s1_256,E=d.g0_256,S=d.g1_256,R=r.BlockHash,O=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function $(){if(!(this instanceof $))return new $;R.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=O,this.W=new Array(64)}return f.inherits($,R),_256=$,$.blockSize=512,$.outSize=256,$.hmacStrength=192,$.padLength=64,$.prototype._update=function(U,L){for(var j=this.W,F=0;F<16;F++)j[F]=U[L+F];for(;F<j.length;F++)j[F]=v(S(j[F-2]),j[F-7],E(j[F-15]),j[F-16]);var X=this.h[0],z=this.h[1],Y=this.h[2],ne=this.h[3],re=this.h[4],se=this.h[5],G=this.h[6],T=this.h[7];for(g(this.k.length===j.length),F=0;F<j.length;F++){var D=y(T,b(re),m(re,se,G),this.k[F],j[F]),x=_(C(X),w(X,z,Y));T=G,G=se,se=re,re=_(ne,D),ne=Y,Y=z,z=X,X=_(D,x)}this.h[0]=_(this.h[0],X),this.h[1]=_(this.h[1],z),this.h[2]=_(this.h[2],Y),this.h[3]=_(this.h[3],ne),this.h[4]=_(this.h[4],re),this.h[5]=_(this.h[5],se),this.h[6]=_(this.h[6],G),this.h[7]=_(this.h[7],T)},$.prototype._digest=function(U){return U==="hex"?f.toHex32(this.h,"big"):f.split32(this.h,"big")},_256}var _224,hasRequired_224;function require_224(){if(hasRequired_224)return _224;hasRequired_224=1;var f=requireUtils$2(),r=require_256();function d(){if(!(this instanceof d))return new d;r.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}return f.inherits(d,r),_224=d,d.blockSize=512,d.outSize=224,d.hmacStrength=192,d.padLength=64,d.prototype._digest=function(_){return _==="hex"?f.toHex32(this.h.slice(0,7),"big"):f.split32(this.h.slice(0,7),"big")},_224}var _512,hasRequired_512;function require_512(){if(hasRequired_512)return _512;hasRequired_512=1;var f=requireUtils$2(),r=requireCommon$1(),d=requireMinimalisticAssert(),g=f.rotr64_hi,_=f.rotr64_lo,v=f.shr64_hi,y=f.shr64_lo,m=f.sum64,w=f.sum64_hi,C=f.sum64_lo,b=f.sum64_4_hi,E=f.sum64_4_lo,S=f.sum64_5_hi,R=f.sum64_5_lo,O=r.BlockHash,$=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function I(){if(!(this instanceof I))return new I;O.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=$,this.W=new Array(160)}f.inherits(I,O),_512=I,I.blockSize=1024,I.outSize=512,I.hmacStrength=192,I.padLength=128,I.prototype._prepareBlock=function(x,A){for(var B=this.W,N=0;N<32;N++)B[N]=x[A+N];for(;N<B.length;N+=2){var q=G(B[N-4],B[N-3]),K=T(B[N-4],B[N-3]),P=B[N-14],k=B[N-13],M=re(B[N-30],B[N-29]),W=se(B[N-30],B[N-29]),ce=B[N-32],be=B[N-31];B[N]=b(q,K,P,k,M,W,ce,be),B[N+1]=E(q,K,P,k,M,W,ce,be)}},I.prototype._update=function(x,A){this._prepareBlock(x,A);var B=this.W,N=this.h[0],q=this.h[1],K=this.h[2],P=this.h[3],k=this.h[4],M=this.h[5],W=this.h[6],ce=this.h[7],be=this.h[8],ve=this.h[9],Z=this.h[10],J=this.h[11],oe=this.h[12],H=this.h[13],Q=this.h[14],ie=this.h[15];d(this.k.length===B.length);for(var we=0;we<B.length;we+=2){var Se=Q,De=ie,Ie=Y(be,ve),qe=ne(be,ve),Ne=U(be,ve,Z,J,oe),Me=L(be,ve,Z,J,oe,H),Ve=this.k[we],Ke=this.k[we+1],ot=B[we],Je=B[we+1],We=S(Se,De,Ie,qe,Ne,Me,Ve,Ke,ot,Je),it=R(Se,De,Ie,qe,Ne,Me,Ve,Ke,ot,Je);Se=X(N,q),De=z(N,q),Ie=j(N,q,K,P,k),qe=F(N,q,K,P,k,M);var Fe=w(Se,De,Ie,qe),Le=C(Se,De,Ie,qe);Q=oe,ie=H,oe=Z,H=J,Z=be,J=ve,be=w(W,ce,We,it),ve=C(ce,ce,We,it),W=k,ce=M,k=K,M=P,K=N,P=q,N=w(We,it,Fe,Le),q=C(We,it,Fe,Le)}m(this.h,0,N,q),m(this.h,2,K,P),m(this.h,4,k,M),m(this.h,6,W,ce),m(this.h,8,be,ve),m(this.h,10,Z,J),m(this.h,12,oe,H),m(this.h,14,Q,ie)},I.prototype._digest=function(x){return x==="hex"?f.toHex32(this.h,"big"):f.split32(this.h,"big")};function U(D,x,A,B,N){var q=D&A^~D&N;return q<0&&(q+=4294967296),q}function L(D,x,A,B,N,q){var K=x&B^~x&q;return K<0&&(K+=4294967296),K}function j(D,x,A,B,N){var q=D&A^D&N^A&N;return q<0&&(q+=4294967296),q}function F(D,x,A,B,N,q){var K=x&B^x&q^B&q;return K<0&&(K+=4294967296),K}function X(D,x){var A=g(D,x,28),B=g(x,D,2),N=g(x,D,7),q=A^B^N;return q<0&&(q+=4294967296),q}function z(D,x){var A=_(D,x,28),B=_(x,D,2),N=_(x,D,7),q=A^B^N;return q<0&&(q+=4294967296),q}function Y(D,x){var A=g(D,x,14),B=g(D,x,18),N=g(x,D,9),q=A^B^N;return q<0&&(q+=4294967296),q}function ne(D,x){var A=_(D,x,14),B=_(D,x,18),N=_(x,D,9),q=A^B^N;return q<0&&(q+=4294967296),q}function re(D,x){var A=g(D,x,1),B=g(D,x,8),N=v(D,x,7),q=A^B^N;return q<0&&(q+=4294967296),q}function se(D,x){var A=_(D,x,1),B=_(D,x,8),N=y(D,x,7),q=A^B^N;return q<0&&(q+=4294967296),q}function G(D,x){var A=g(D,x,19),B=g(x,D,29),N=v(D,x,6),q=A^B^N;return q<0&&(q+=4294967296),q}function T(D,x){var A=_(D,x,19),B=_(x,D,29),N=y(D,x,6),q=A^B^N;return q<0&&(q+=4294967296),q}return _512}var _384,hasRequired_384;function require_384(){if(hasRequired_384)return _384;hasRequired_384=1;var f=requireUtils$2(),r=require_512();function d(){if(!(this instanceof d))return new d;r.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}return f.inherits(d,r),_384=d,d.blockSize=1024,d.outSize=384,d.hmacStrength=192,d.padLength=128,d.prototype._digest=function(_){return _==="hex"?f.toHex32(this.h.slice(0,12),"big"):f.split32(this.h.slice(0,12),"big")},_384}var hasRequiredSha;function requireSha(){return hasRequiredSha||(hasRequiredSha=1,sha$1.sha1=require_1(),sha$1.sha224=require_224(),sha$1.sha256=require_256(),sha$1.sha384=require_384(),sha$1.sha512=require_512()),sha$1}var ripemd={},hasRequiredRipemd;function requireRipemd(){if(hasRequiredRipemd)return ripemd;hasRequiredRipemd=1;var f=requireUtils$2(),r=requireCommon$1(),d=f.rotl32,g=f.sum32,_=f.sum32_3,v=f.sum32_4,y=r.BlockHash;function m(){if(!(this instanceof m))return new m;y.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}f.inherits(m,y),ripemd.ripemd160=m,m.blockSize=512,m.outSize=160,m.hmacStrength=192,m.padLength=64,m.prototype._update=function(I,U){for(var L=this.h[0],j=this.h[1],F=this.h[2],X=this.h[3],z=this.h[4],Y=L,ne=j,re=F,se=X,G=z,T=0;T<80;T++){var D=g(d(v(L,w(T,j,F,X),I[E[T]+U],C(T)),R[T]),z);L=z,z=X,X=d(F,10),F=j,j=D,D=g(d(v(Y,w(79-T,ne,re,se),I[S[T]+U],b(T)),O[T]),G),Y=G,G=se,se=d(re,10),re=ne,ne=D}D=_(this.h[1],F,se),this.h[1]=_(this.h[2],X,G),this.h[2]=_(this.h[3],z,Y),this.h[3]=_(this.h[4],L,ne),this.h[4]=_(this.h[0],j,re),this.h[0]=D},m.prototype._digest=function(I){return I==="hex"?f.toHex32(this.h,"little"):f.split32(this.h,"little")};function w($,I,U,L){return $<=15?I^U^L:$<=31?I&U|~I&L:$<=47?(I|~U)^L:$<=63?I&L|U&~L:I^(U|~L)}function C($){return $<=15?0:$<=31?1518500249:$<=47?1859775393:$<=63?2400959708:2840853838}function b($){return $<=15?1352829926:$<=31?1548603684:$<=47?1836072691:$<=63?2053994217:0}var E=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],S=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],R=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],O=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11];return ripemd}var hmac$1,hasRequiredHmac$1;function requireHmac$1(){if(hasRequiredHmac$1)return hmac$1;hasRequiredHmac$1=1;var f=requireUtils$2(),r=requireMinimalisticAssert();function d(g,_,v){if(!(this instanceof d))return new d(g,_,v);this.Hash=g,this.blockSize=g.blockSize/8,this.outSize=g.outSize/8,this.inner=null,this.outer=null,this._init(f.toArray(_,v))}return hmac$1=d,d.prototype._init=function(_){_.length>this.blockSize&&(_=new this.Hash().update(_).digest()),r(_.length<=this.blockSize);for(var v=_.length;v<this.blockSize;v++)_.push(0);for(v=0;v<_.length;v++)_[v]^=54;for(this.inner=new this.Hash().update(_),v=0;v<_.length;v++)_[v]^=106;this.outer=new this.Hash().update(_)},d.prototype.update=function(_,v){return this.inner.update(_,v),this},d.prototype.digest=function(_){return this.outer.update(this.inner.digest()),this.outer.digest(_)},hmac$1}var hasRequiredHash;function requireHash(){return hasRequiredHash||(hasRequiredHash=1,function(f){var r=f;r.utils=requireUtils$2(),r.common=requireCommon$1(),r.sha=requireSha(),r.ripemd=requireRipemd(),r.hmac=requireHmac$1(),r.sha1=r.sha.sha1,r.sha256=r.sha.sha256,r.sha224=r.sha.sha224,r.sha384=r.sha.sha384,r.sha512=r.sha.sha512,r.ripemd160=r.ripemd.ripemd160}(hash)),hash}var secp256k1,hasRequiredSecp256k1;function requireSecp256k1(){return hasRequiredSecp256k1||(hasRequiredSecp256k1=1,secp256k1={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}),secp256k1}var hasRequiredCurves;function requireCurves(){return hasRequiredCurves||(hasRequiredCurves=1,function(f){var r=f,d=requireHash(),g=requireCurve(),_=requireUtils$3(),v=_.assert;function y(C){C.type==="short"?this.curve=new g.short(C):C.type==="edwards"?this.curve=new g.edwards(C):this.curve=new g.mont(C),this.g=this.curve.g,this.n=this.curve.n,this.hash=C.hash,v(this.g.validate(),"Invalid curve"),v(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}r.PresetCurve=y;function m(C,b){Object.defineProperty(r,C,{configurable:!0,enumerable:!0,get:function(){var E=new y(b);return Object.defineProperty(r,C,{configurable:!0,enumerable:!0,value:E}),E}})}m("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:d.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),m("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:d.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),m("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:d.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),m("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:d.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),m("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:d.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),m("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:d.sha256,gRed:!1,g:["9"]}),m("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:d.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var w;try{w=requireSecp256k1()}catch{w=void 0}m("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:d.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",w]})}(curves)),curves}var hmacDrbg,hasRequiredHmacDrbg;function requireHmacDrbg(){if(hasRequiredHmacDrbg)return hmacDrbg;hasRequiredHmacDrbg=1;var f=requireHash(),r=requireUtils$4(),d=requireMinimalisticAssert();function g(_){if(!(this instanceof g))return new g(_);this.hash=_.hash,this.predResist=!!_.predResist,this.outLen=this.hash.outSize,this.minEntropy=_.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var v=r.toArray(_.entropy,_.entropyEnc||"hex"),y=r.toArray(_.nonce,_.nonceEnc||"hex"),m=r.toArray(_.pers,_.persEnc||"hex");d(v.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(v,y,m)}return hmacDrbg=g,g.prototype._init=function(v,y,m){var w=v.concat(y).concat(m);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var C=0;C<this.V.length;C++)this.K[C]=0,this.V[C]=1;this._update(w),this._reseed=1,this.reseedInterval=281474976710656},g.prototype._hmac=function(){return new f.hmac(this.hash,this.K)},g.prototype._update=function(v){var y=this._hmac().update(this.V).update([0]);v&&(y=y.update(v)),this.K=y.digest(),this.V=this._hmac().update(this.V).digest(),v&&(this.K=this._hmac().update(this.V).update([1]).update(v).digest(),this.V=this._hmac().update(this.V).digest())},g.prototype.reseed=function(v,y,m,w){typeof y!="string"&&(w=m,m=y,y=null),v=r.toArray(v,y),m=r.toArray(m,w),d(v.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(v.concat(m||[])),this._reseed=1},g.prototype.generate=function(v,y,m,w){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof y!="string"&&(w=m,m=y,y=null),m&&(m=r.toArray(m,w||"hex"),this._update(m));for(var C=[];C.length<v;)this.V=this._hmac().update(this.V).digest(),C=C.concat(this.V);var b=C.slice(0,v);return this._update(m),this._reseed++,r.encode(b,y)},hmacDrbg}var key$1,hasRequiredKey$1;function requireKey$1(){if(hasRequiredKey$1)return key$1;hasRequiredKey$1=1;var f=requireBn$2(),r=requireUtils$3(),d=r.assert;function g(_,v){this.ec=_,this.priv=null,this.pub=null,v.priv&&this._importPrivate(v.priv,v.privEnc),v.pub&&this._importPublic(v.pub,v.pubEnc)}return key$1=g,g.fromPublic=function(v,y,m){return y instanceof g?y:new g(v,{pub:y,pubEnc:m})},g.fromPrivate=function(v,y,m){return y instanceof g?y:new g(v,{priv:y,privEnc:m})},g.prototype.validate=function(){var v=this.getPublic();return v.isInfinity()?{result:!1,reason:"Invalid public key"}:v.validate()?v.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},g.prototype.getPublic=function(v,y){return typeof v=="string"&&(y=v,v=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),y?this.pub.encode(y,v):this.pub},g.prototype.getPrivate=function(v){return v==="hex"?this.priv.toString(16,2):this.priv},g.prototype._importPrivate=function(v,y){this.priv=new f(v,y||16),this.priv=this.priv.umod(this.ec.curve.n)},g.prototype._importPublic=function(v,y){if(v.x||v.y){this.ec.curve.type==="mont"?d(v.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&d(v.x&&v.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(v.x,v.y);return}this.pub=this.ec.curve.decodePoint(v,y)},g.prototype.derive=function(v){return v.validate()||d(v.validate(),"public point not validated"),v.mul(this.priv).getX()},g.prototype.sign=function(v,y,m){return this.ec.sign(v,this,y,m)},g.prototype.verify=function(v,y,m){return this.ec.verify(v,y,this,void 0,m)},g.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"},key$1}var signature$1,hasRequiredSignature$1;function requireSignature$1(){if(hasRequiredSignature$1)return signature$1;hasRequiredSignature$1=1;var f=requireBn$2(),r=requireUtils$3(),d=r.assert;function g(w,C){if(w instanceof g)return w;this._importDER(w,C)||(d(w.r&&w.s,"Signature without r or s"),this.r=new f(w.r,16),this.s=new f(w.s,16),w.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=w.recoveryParam)}signature$1=g;function _(){this.place=0}function v(w,C){var b=w[C.place++];if(!(b&128))return b;var E=b&15;if(E===0||E>4||w[C.place]===0)return!1;for(var S=0,R=0,O=C.place;R<E;R++,O++)S<<=8,S|=w[O],S>>>=0;return S<=127?!1:(C.place=O,S)}function y(w){for(var C=0,b=w.length-1;!w[C]&&!(w[C+1]&128)&&C<b;)C++;return C===0?w:w.slice(C)}g.prototype._importDER=function(C,b){C=r.toArray(C,b);var E=new _;if(C[E.place++]!==48)return!1;var S=v(C,E);if(S===!1||S+E.place!==C.length||C[E.place++]!==2)return!1;var R=v(C,E);if(R===!1||C[E.place]&128)return!1;var O=C.slice(E.place,R+E.place);if(E.place+=R,C[E.place++]!==2)return!1;var $=v(C,E);if($===!1||C.length!==$+E.place||C[E.place]&128)return!1;var I=C.slice(E.place,$+E.place);if(O[0]===0)if(O[1]&128)O=O.slice(1);else return!1;if(I[0]===0)if(I[1]&128)I=I.slice(1);else return!1;return this.r=new f(O),this.s=new f(I),this.recoveryParam=null,!0};function m(w,C){if(C<128){w.push(C);return}var b=1+(Math.log(C)/Math.LN2>>>3);for(w.push(b|128);--b;)w.push(C>>>(b<<3)&255);w.push(C)}return g.prototype.toDER=function(C){var b=this.r.toArray(),E=this.s.toArray();for(b[0]&128&&(b=[0].concat(b)),E[0]&128&&(E=[0].concat(E)),b=y(b),E=y(E);!E[0]&&!(E[1]&128);)E=E.slice(1);var S=[2];m(S,b.length),S=S.concat(b),S.push(2),m(S,E.length);var R=S.concat(E),O=[48];return m(O,R.length),O=O.concat(R),r.encode(O,C)},signature$1}var ec,hasRequiredEc;function requireEc(){if(hasRequiredEc)return ec;hasRequiredEc=1;var f=requireBn$2(),r=requireHmacDrbg(),d=requireUtils$3(),g=requireCurves(),_=requireBrorand(),v=d.assert,y=requireKey$1(),m=requireSignature$1();function w(C){if(!(this instanceof w))return new w(C);typeof C=="string"&&(v(Object.prototype.hasOwnProperty.call(g,C),"Unknown curve "+C),C=g[C]),C instanceof g.PresetCurve&&(C={curve:C}),this.curve=C.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=C.curve.g,this.g.precompute(C.curve.n.bitLength()+1),this.hash=C.hash||C.curve.hash}return ec=w,w.prototype.keyPair=function(b){return new y(this,b)},w.prototype.keyFromPrivate=function(b,E){return y.fromPrivate(this,b,E)},w.prototype.keyFromPublic=function(b,E){return y.fromPublic(this,b,E)},w.prototype.genKeyPair=function(b){b||(b={});for(var E=new r({hash:this.hash,pers:b.pers,persEnc:b.persEnc||"utf8",entropy:b.entropy||_(this.hash.hmacStrength),entropyEnc:b.entropy&&b.entropyEnc||"utf8",nonce:this.n.toArray()}),S=this.n.byteLength(),R=this.n.sub(new f(2));;){var O=new f(E.generate(S));if(!(O.cmp(R)>0))return O.iaddn(1),this.keyFromPrivate(O)}},w.prototype._truncateToN=function(b,E,S){var R;if(f.isBN(b)||typeof b=="number")b=new f(b,16),R=b.byteLength();else if(typeof b=="object")R=b.length,b=new f(b,16);else{var O=b.toString();R=O.length+1>>>1,b=new f(O,16)}typeof S!="number"&&(S=R*8);var $=S-this.n.bitLength();return $>0&&(b=b.ushrn($)),!E&&b.cmp(this.n)>=0?b.sub(this.n):b},w.prototype.sign=function(b,E,S,R){if(typeof S=="object"&&(R=S,S=null),R||(R={}),typeof b!="string"&&typeof b!="number"&&!f.isBN(b)){v(typeof b=="object"&&b&&typeof b.length=="number","Expected message to be an array-like, a hex string, or a BN instance"),v(b.length>>>0===b.length);for(var O=0;O<b.length;O++)v((b[O]&255)===b[O])}E=this.keyFromPrivate(E,S),b=this._truncateToN(b,!1,R.msgBitLength),v(!b.isNeg(),"Can not sign a negative message");var $=this.n.byteLength(),I=E.getPrivate().toArray("be",$),U=b.toArray("be",$);v(new f(U).eq(b),"Can not sign message");for(var L=new r({hash:this.hash,entropy:I,nonce:U,pers:R.pers,persEnc:R.persEnc||"utf8"}),j=this.n.sub(new f(1)),F=0;;F++){var X=R.k?R.k(F):new f(L.generate(this.n.byteLength()));if(X=this._truncateToN(X,!0),!(X.cmpn(1)<=0||X.cmp(j)>=0)){var z=this.g.mul(X);if(!z.isInfinity()){var Y=z.getX(),ne=Y.umod(this.n);if(ne.cmpn(0)!==0){var re=X.invm(this.n).mul(ne.mul(E.getPrivate()).iadd(b));if(re=re.umod(this.n),re.cmpn(0)!==0){var se=(z.getY().isOdd()?1:0)|(Y.cmp(ne)!==0?2:0);return R.canonical&&re.cmp(this.nh)>0&&(re=this.n.sub(re),se^=1),new m({r:ne,s:re,recoveryParam:se})}}}}}},w.prototype.verify=function(b,E,S,R,O){O||(O={}),b=this._truncateToN(b,!1,O.msgBitLength),S=this.keyFromPublic(S,R),E=new m(E,"hex");var $=E.r,I=E.s;if($.cmpn(1)<0||$.cmp(this.n)>=0||I.cmpn(1)<0||I.cmp(this.n)>=0)return!1;var U=I.invm(this.n),L=U.mul(b).umod(this.n),j=U.mul($).umod(this.n),F;return this.curve._maxwellTrick?(F=this.g.jmulAdd(L,S.getPublic(),j),F.isInfinity()?!1:F.eqXToP($)):(F=this.g.mulAdd(L,S.getPublic(),j),F.isInfinity()?!1:F.getX().umod(this.n).cmp($)===0)},w.prototype.recoverPubKey=function(C,b,E,S){v((3&E)===E,"The recovery param is more than two bits"),b=new m(b,S);var R=this.n,O=new f(C),$=b.r,I=b.s,U=E&1,L=E>>1;if($.cmp(this.curve.p.umod(this.curve.n))>=0&&L)throw new Error("Unable to find sencond key candinate");L?$=this.curve.pointFromX($.add(this.curve.n),U):$=this.curve.pointFromX($,U);var j=b.r.invm(R),F=R.sub(O).mul(j).umod(R),X=I.mul(j).umod(R);return this.g.mulAdd(F,$,X)},w.prototype.getKeyRecoveryParam=function(C,b,E,S){if(b=new m(b,S),b.recoveryParam!==null)return b.recoveryParam;for(var R=0;R<4;R++){var O;try{O=this.recoverPubKey(C,b,R)}catch{continue}if(O.eq(E))return R}throw new Error("Unable to find valid recovery factor")},ec}var key,hasRequiredKey;function requireKey(){if(hasRequiredKey)return key;hasRequiredKey=1;var f=requireUtils$3(),r=f.assert,d=f.parseBytes,g=f.cachedProperty;function _(v,y){this.eddsa=v,this._secret=d(y.secret),v.isPoint(y.pub)?this._pub=y.pub:this._pubBytes=d(y.pub)}return _.fromPublic=function(y,m){return m instanceof _?m:new _(y,{pub:m})},_.fromSecret=function(y,m){return m instanceof _?m:new _(y,{secret:m})},_.prototype.secret=function(){return this._secret},g(_,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),g(_,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),g(_,"privBytes",function(){var y=this.eddsa,m=this.hash(),w=y.encodingLength-1,C=m.slice(0,y.encodingLength);return C[0]&=248,C[w]&=127,C[w]|=64,C}),g(_,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),g(_,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),g(_,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),_.prototype.sign=function(y){return r(this._secret,"KeyPair can only verify"),this.eddsa.sign(y,this)},_.prototype.verify=function(y,m){return this.eddsa.verify(y,m,this)},_.prototype.getSecret=function(y){return r(this._secret,"KeyPair is public only"),f.encode(this.secret(),y)},_.prototype.getPublic=function(y){return f.encode(this.pubBytes(),y)},key=_,key}var signature,hasRequiredSignature;function requireSignature(){if(hasRequiredSignature)return signature;hasRequiredSignature=1;var f=requireBn$2(),r=requireUtils$3(),d=r.assert,g=r.cachedProperty,_=r.parseBytes;function v(y,m){this.eddsa=y,typeof m!="object"&&(m=_(m)),Array.isArray(m)&&(d(m.length===y.encodingLength*2,"Signature has invalid size"),m={R:m.slice(0,y.encodingLength),S:m.slice(y.encodingLength)}),d(m.R&&m.S,"Signature without R or S"),y.isPoint(m.R)&&(this._R=m.R),m.S instanceof f&&(this._S=m.S),this._Rencoded=Array.isArray(m.R)?m.R:m.Rencoded,this._Sencoded=Array.isArray(m.S)?m.S:m.Sencoded}return g(v,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),g(v,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),g(v,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),g(v,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),v.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},v.prototype.toHex=function(){return r.encode(this.toBytes(),"hex").toUpperCase()},signature=v,signature}var eddsa,hasRequiredEddsa;function requireEddsa(){if(hasRequiredEddsa)return eddsa;hasRequiredEddsa=1;var f=requireHash(),r=requireCurves(),d=requireUtils$3(),g=d.assert,_=d.parseBytes,v=requireKey(),y=requireSignature();function m(w){if(g(w==="ed25519","only tested with ed25519 so far"),!(this instanceof m))return new m(w);w=r[w].curve,this.curve=w,this.g=w.g,this.g.precompute(w.n.bitLength()+1),this.pointClass=w.point().constructor,this.encodingLength=Math.ceil(w.n.bitLength()/8),this.hash=f.sha512}return eddsa=m,m.prototype.sign=function(C,b){C=_(C);var E=this.keyFromSecret(b),S=this.hashInt(E.messagePrefix(),C),R=this.g.mul(S),O=this.encodePoint(R),$=this.hashInt(O,E.pubBytes(),C).mul(E.priv()),I=S.add($).umod(this.curve.n);return this.makeSignature({R,S:I,Rencoded:O})},m.prototype.verify=function(C,b,E){if(C=_(C),b=this.makeSignature(b),b.S().gte(b.eddsa.curve.n)||b.S().isNeg())return!1;var S=this.keyFromPublic(E),R=this.hashInt(b.Rencoded(),S.pubBytes(),C),O=this.g.mul(b.S()),$=b.R().add(S.pub().mul(R));return $.eq(O)},m.prototype.hashInt=function(){for(var C=this.hash(),b=0;b<arguments.length;b++)C.update(arguments[b]);return d.intFromLE(C.digest()).umod(this.curve.n)},m.prototype.keyFromPublic=function(C){return v.fromPublic(this,C)},m.prototype.keyFromSecret=function(C){return v.fromSecret(this,C)},m.prototype.makeSignature=function(C){return C instanceof y?C:new y(this,C)},m.prototype.encodePoint=function(C){var b=C.getY().toArray("le",this.encodingLength);return b[this.encodingLength-1]|=C.getX().isOdd()?128:0,b},m.prototype.decodePoint=function(C){C=d.parseBytes(C);var b=C.length-1,E=C.slice(0,b).concat(C[b]&-129),S=(C[b]&128)!==0,R=d.intFromLE(E);return this.curve.pointFromY(R,S)},m.prototype.encodeInt=function(C){return C.toArray("le",this.encodingLength)},m.prototype.decodeInt=function(C){return d.intFromLE(C)},m.prototype.isPoint=function(C){return C instanceof this.pointClass},eddsa}var hasRequiredElliptic;function requireElliptic(){return hasRequiredElliptic||(hasRequiredElliptic=1,function(f){var r=f;r.version=require$$0$1.version,r.utils=requireUtils$3(),r.rand=requireBrorand(),r.curve=requireCurve(),r.curves=requireCurves(),r.ec=requireEc(),r.eddsa=requireEddsa()}(elliptic)),elliptic}var bn={exports:{}};bn.exports;var hasRequiredBn;function requireBn(){return hasRequiredBn||(hasRequiredBn=1,function(f){(function(r,d){function g(D,x){if(!D)throw new Error(x||"Assertion failed")}function _(D,x){D.super_=x;var A=function(){};A.prototype=x.prototype,D.prototype=new A,D.prototype.constructor=D}function v(D,x,A){if(v.isBN(D))return D;this.negative=0,this.words=null,this.length=0,this.red=null,D!==null&&((x==="le"||x==="be")&&(A=x,x=10),this._init(D||0,x||10,A||"be"))}typeof r=="object"?r.exports=v:d.BN=v,v.BN=v,v.wordSize=26;var y;try{typeof window<"u"&&typeof window.Buffer<"u"?y=window.Buffer:y=require$$0$2.Buffer}catch{}v.isBN=function(x){return x instanceof v?!0:x!==null&&typeof x=="object"&&x.constructor.wordSize===v.wordSize&&Array.isArray(x.words)},v.max=function(x,A){return x.cmp(A)>0?x:A},v.min=function(x,A){return x.cmp(A)<0?x:A},v.prototype._init=function(x,A,B){if(typeof x=="number")return this._initNumber(x,A,B);if(typeof x=="object")return this._initArray(x,A,B);A==="hex"&&(A=16),g(A===(A|0)&&A>=2&&A<=36),x=x.toString().replace(/\s+/g,"");var N=0;x[0]==="-"&&(N++,this.negative=1),N<x.length&&(A===16?this._parseHex(x,N,B):(this._parseBase(x,A,N),B==="le"&&this._initArray(this.toArray(),A,B)))},v.prototype._initNumber=function(x,A,B){x<0&&(this.negative=1,x=-x),x<67108864?(this.words=[x&67108863],this.length=1):x<4503599627370496?(this.words=[x&67108863,x/67108864&67108863],this.length=2):(g(x<9007199254740992),this.words=[x&67108863,x/67108864&67108863,1],this.length=3),B==="le"&&this._initArray(this.toArray(),A,B)},v.prototype._initArray=function(x,A,B){if(g(typeof x.length=="number"),x.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(x.length/3),this.words=new Array(this.length);for(var N=0;N<this.length;N++)this.words[N]=0;var q,K,P=0;if(B==="be")for(N=x.length-1,q=0;N>=0;N-=3)K=x[N]|x[N-1]<<8|x[N-2]<<16,this.words[q]|=K<<P&67108863,this.words[q+1]=K>>>26-P&67108863,P+=24,P>=26&&(P-=26,q++);else if(B==="le")for(N=0,q=0;N<x.length;N+=3)K=x[N]|x[N+1]<<8|x[N+2]<<16,this.words[q]|=K<<P&67108863,this.words[q+1]=K>>>26-P&67108863,P+=24,P>=26&&(P-=26,q++);return this._strip()};function m(D,x){var A=D.charCodeAt(x);if(A>=48&&A<=57)return A-48;if(A>=65&&A<=70)return A-55;if(A>=97&&A<=102)return A-87;g(!1,"Invalid character in "+D)}function w(D,x,A){var B=m(D,A);return A-1>=x&&(B|=m(D,A-1)<<4),B}v.prototype._parseHex=function(x,A,B){this.length=Math.ceil((x.length-A)/6),this.words=new Array(this.length);for(var N=0;N<this.length;N++)this.words[N]=0;var q=0,K=0,P;if(B==="be")for(N=x.length-1;N>=A;N-=2)P=w(x,A,N)<<q,this.words[K]|=P&67108863,q>=18?(q-=18,K+=1,this.words[K]|=P>>>26):q+=8;else{var k=x.length-A;for(N=k%2===0?A+1:A;N<x.length;N+=2)P=w(x,A,N)<<q,this.words[K]|=P&67108863,q>=18?(q-=18,K+=1,this.words[K]|=P>>>26):q+=8}this._strip()};function C(D,x,A,B){for(var N=0,q=0,K=Math.min(D.length,A),P=x;P<K;P++){var k=D.charCodeAt(P)-48;N*=B,k>=49?q=k-49+10:k>=17?q=k-17+10:q=k,g(k>=0&&q<B,"Invalid character"),N+=q}return N}v.prototype._parseBase=function(x,A,B){this.words=[0],this.length=1;for(var N=0,q=1;q<=67108863;q*=A)N++;N--,q=q/A|0;for(var K=x.length-B,P=K%N,k=Math.min(K,K-P)+B,M=0,W=B;W<k;W+=N)M=C(x,W,W+N,A),this.imuln(q),this.words[0]+M<67108864?this.words[0]+=M:this._iaddn(M);if(P!==0){var ce=1;for(M=C(x,W,x.length,A),W=0;W<P;W++)ce*=A;this.imuln(ce),this.words[0]+M<67108864?this.words[0]+=M:this._iaddn(M)}this._strip()},v.prototype.copy=function(x){x.words=new Array(this.length);for(var A=0;A<this.length;A++)x.words[A]=this.words[A];x.length=this.length,x.negative=this.negative,x.red=this.red};function b(D,x){D.words=x.words,D.length=x.length,D.negative=x.negative,D.red=x.red}if(v.prototype._move=function(x){b(x,this)},v.prototype.clone=function(){var x=new v(null);return this.copy(x),x},v.prototype._expand=function(x){for(;this.length<x;)this.words[this.length++]=0;return this},v.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},v.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{v.prototype[Symbol.for("nodejs.util.inspect.custom")]=E}catch{v.prototype.inspect=E}else v.prototype.inspect=E;function E(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var S=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],R=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],O=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];v.prototype.toString=function(x,A){x=x||10,A=A|0||1;var B;if(x===16||x==="hex"){B="";for(var N=0,q=0,K=0;K<this.length;K++){var P=this.words[K],k=((P<<N|q)&16777215).toString(16);q=P>>>24-N&16777215,N+=2,N>=26&&(N-=26,K--),q!==0||K!==this.length-1?B=S[6-k.length]+k+B:B=k+B}for(q!==0&&(B=q.toString(16)+B);B.length%A!==0;)B="0"+B;return this.negative!==0&&(B="-"+B),B}if(x===(x|0)&&x>=2&&x<=36){var M=R[x],W=O[x];B="";var ce=this.clone();for(ce.negative=0;!ce.isZero();){var be=ce.modrn(W).toString(x);ce=ce.idivn(W),ce.isZero()?B=be+B:B=S[M-be.length]+be+B}for(this.isZero()&&(B="0"+B);B.length%A!==0;)B="0"+B;return this.negative!==0&&(B="-"+B),B}g(!1,"Base should be between 2 and 36")},v.prototype.toNumber=function(){var x=this.words[0];return this.length===2?x+=this.words[1]*67108864:this.length===3&&this.words[2]===1?x+=4503599627370496+this.words[1]*67108864:this.length>2&&g(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-x:x},v.prototype.toJSON=function(){return this.toString(16,2)},y&&(v.prototype.toBuffer=function(x,A){return this.toArrayLike(y,x,A)}),v.prototype.toArray=function(x,A){return this.toArrayLike(Array,x,A)};var $=function(x,A){return x.allocUnsafe?x.allocUnsafe(A):new x(A)};v.prototype.toArrayLike=function(x,A,B){this._strip();var N=this.byteLength(),q=B||Math.max(1,N);g(N<=q,"byte array longer than desired length"),g(q>0,"Requested array length <= 0");var K=$(x,q),P=A==="le"?"LE":"BE";return this["_toArrayLike"+P](K,N),K},v.prototype._toArrayLikeLE=function(x,A){for(var B=0,N=0,q=0,K=0;q<this.length;q++){var P=this.words[q]<<K|N;x[B++]=P&255,B<x.length&&(x[B++]=P>>8&255),B<x.length&&(x[B++]=P>>16&255),K===6?(B<x.length&&(x[B++]=P>>24&255),N=0,K=0):(N=P>>>24,K+=2)}if(B<x.length)for(x[B++]=N;B<x.length;)x[B++]=0},v.prototype._toArrayLikeBE=function(x,A){for(var B=x.length-1,N=0,q=0,K=0;q<this.length;q++){var P=this.words[q]<<K|N;x[B--]=P&255,B>=0&&(x[B--]=P>>8&255),B>=0&&(x[B--]=P>>16&255),K===6?(B>=0&&(x[B--]=P>>24&255),N=0,K=0):(N=P>>>24,K+=2)}if(B>=0)for(x[B--]=N;B>=0;)x[B--]=0},Math.clz32?v.prototype._countBits=function(x){return 32-Math.clz32(x)}:v.prototype._countBits=function(x){var A=x,B=0;return A>=4096&&(B+=13,A>>>=13),A>=64&&(B+=7,A>>>=7),A>=8&&(B+=4,A>>>=4),A>=2&&(B+=2,A>>>=2),B+A},v.prototype._zeroBits=function(x){if(x===0)return 26;var A=x,B=0;return A&8191||(B+=13,A>>>=13),A&127||(B+=7,A>>>=7),A&15||(B+=4,A>>>=4),A&3||(B+=2,A>>>=2),A&1||B++,B},v.prototype.bitLength=function(){var x=this.words[this.length-1],A=this._countBits(x);return(this.length-1)*26+A};function I(D){for(var x=new Array(D.bitLength()),A=0;A<x.length;A++){var B=A/26|0,N=A%26;x[A]=D.words[B]>>>N&1}return x}v.prototype.zeroBits=function(){if(this.isZero())return 0;for(var x=0,A=0;A<this.length;A++){var B=this._zeroBits(this.words[A]);if(x+=B,B!==26)break}return x},v.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},v.prototype.toTwos=function(x){return this.negative!==0?this.abs().inotn(x).iaddn(1):this.clone()},v.prototype.fromTwos=function(x){return this.testn(x-1)?this.notn(x).iaddn(1).ineg():this.clone()},v.prototype.isNeg=function(){return this.negative!==0},v.prototype.neg=function(){return this.clone().ineg()},v.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},v.prototype.iuor=function(x){for(;this.length<x.length;)this.words[this.length++]=0;for(var A=0;A<x.length;A++)this.words[A]=this.words[A]|x.words[A];return this._strip()},v.prototype.ior=function(x){return g((this.negative|x.negative)===0),this.iuor(x)},v.prototype.or=function(x){return this.length>x.length?this.clone().ior(x):x.clone().ior(this)},v.prototype.uor=function(x){return this.length>x.length?this.clone().iuor(x):x.clone().iuor(this)},v.prototype.iuand=function(x){var A;this.length>x.length?A=x:A=this;for(var B=0;B<A.length;B++)this.words[B]=this.words[B]&x.words[B];return this.length=A.length,this._strip()},v.prototype.iand=function(x){return g((this.negative|x.negative)===0),this.iuand(x)},v.prototype.and=function(x){return this.length>x.length?this.clone().iand(x):x.clone().iand(this)},v.prototype.uand=function(x){return this.length>x.length?this.clone().iuand(x):x.clone().iuand(this)},v.prototype.iuxor=function(x){var A,B;this.length>x.length?(A=this,B=x):(A=x,B=this);for(var N=0;N<B.length;N++)this.words[N]=A.words[N]^B.words[N];if(this!==A)for(;N<A.length;N++)this.words[N]=A.words[N];return this.length=A.length,this._strip()},v.prototype.ixor=function(x){return g((this.negative|x.negative)===0),this.iuxor(x)},v.prototype.xor=function(x){return this.length>x.length?this.clone().ixor(x):x.clone().ixor(this)},v.prototype.uxor=function(x){return this.length>x.length?this.clone().iuxor(x):x.clone().iuxor(this)},v.prototype.inotn=function(x){g(typeof x=="number"&&x>=0);var A=Math.ceil(x/26)|0,B=x%26;this._expand(A),B>0&&A--;for(var N=0;N<A;N++)this.words[N]=~this.words[N]&67108863;return B>0&&(this.words[N]=~this.words[N]&67108863>>26-B),this._strip()},v.prototype.notn=function(x){return this.clone().inotn(x)},v.prototype.setn=function(x,A){g(typeof x=="number"&&x>=0);var B=x/26|0,N=x%26;return this._expand(B+1),A?this.words[B]=this.words[B]|1<<N:this.words[B]=this.words[B]&~(1<<N),this._strip()},v.prototype.iadd=function(x){var A;if(this.negative!==0&&x.negative===0)return this.negative=0,A=this.isub(x),this.negative^=1,this._normSign();if(this.negative===0&&x.negative!==0)return x.negative=0,A=this.isub(x),x.negative=1,A._normSign();var B,N;this.length>x.length?(B=this,N=x):(B=x,N=this);for(var q=0,K=0;K<N.length;K++)A=(B.words[K]|0)+(N.words[K]|0)+q,this.words[K]=A&67108863,q=A>>>26;for(;q!==0&&K<B.length;K++)A=(B.words[K]|0)+q,this.words[K]=A&67108863,q=A>>>26;if(this.length=B.length,q!==0)this.words[this.length]=q,this.length++;else if(B!==this)for(;K<B.length;K++)this.words[K]=B.words[K];return this},v.prototype.add=function(x){var A;return x.negative!==0&&this.negative===0?(x.negative=0,A=this.sub(x),x.negative^=1,A):x.negative===0&&this.negative!==0?(this.negative=0,A=x.sub(this),this.negative=1,A):this.length>x.length?this.clone().iadd(x):x.clone().iadd(this)},v.prototype.isub=function(x){if(x.negative!==0){x.negative=0;var A=this.iadd(x);return x.negative=1,A._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(x),this.negative=1,this._normSign();var B=this.cmp(x);if(B===0)return this.negative=0,this.length=1,this.words[0]=0,this;var N,q;B>0?(N=this,q=x):(N=x,q=this);for(var K=0,P=0;P<q.length;P++)A=(N.words[P]|0)-(q.words[P]|0)+K,K=A>>26,this.words[P]=A&67108863;for(;K!==0&&P<N.length;P++)A=(N.words[P]|0)+K,K=A>>26,this.words[P]=A&67108863;if(K===0&&P<N.length&&N!==this)for(;P<N.length;P++)this.words[P]=N.words[P];return this.length=Math.max(this.length,P),N!==this&&(this.negative=1),this._strip()},v.prototype.sub=function(x){return this.clone().isub(x)};function U(D,x,A){A.negative=x.negative^D.negative;var B=D.length+x.length|0;A.length=B,B=B-1|0;var N=D.words[0]|0,q=x.words[0]|0,K=N*q,P=K&67108863,k=K/67108864|0;A.words[0]=P;for(var M=1;M<B;M++){for(var W=k>>>26,ce=k&67108863,be=Math.min(M,x.length-1),ve=Math.max(0,M-D.length+1);ve<=be;ve++){var Z=M-ve|0;N=D.words[Z]|0,q=x.words[ve]|0,K=N*q+ce,W+=K/67108864|0,ce=K&67108863}A.words[M]=ce|0,k=W|0}return k!==0?A.words[M]=k|0:A.length--,A._strip()}var L=function(x,A,B){var N=x.words,q=A.words,K=B.words,P=0,k,M,W,ce=N[0]|0,be=ce&8191,ve=ce>>>13,Z=N[1]|0,J=Z&8191,oe=Z>>>13,H=N[2]|0,Q=H&8191,ie=H>>>13,we=N[3]|0,Se=we&8191,De=we>>>13,Ie=N[4]|0,qe=Ie&8191,Ne=Ie>>>13,Me=N[5]|0,Ve=Me&8191,Ke=Me>>>13,ot=N[6]|0,Je=ot&8191,We=ot>>>13,it=N[7]|0,Fe=it&8191,Le=it>>>13,Qe=N[8]|0,rt=Qe&8191,ue=Qe>>>13,ee=N[9]|0,te=ee&8191,de=ee>>>13,xe=q[0]|0,Re=xe&8191,Te=xe>>>13,dt=q[1]|0,ut=dt&8191,et=dt>>>13,wt=q[2]|0,ht=wt&8191,_t=wt>>>13,It=q[3]|0,bt=It&8191,at=It>>>13,Bt=q[4]|0,xt=Bt&8191,st=Bt>>>13,Nt=q[5]|0,Ct=Nt&8191,nt=Nt>>>13,At=q[6]|0,ae=At&8191,le=At>>>13,he=q[7]|0,V=he&8191,pe=he>>>13,Ae=q[8]|0,$e=Ae&8191,Be=Ae>>>13,Ge=q[9]|0,Ze=Ge&8191,He=Ge>>>13;B.negative=x.negative^A.negative,B.length=19,k=Math.imul(be,Re),M=Math.imul(be,Te),M=M+Math.imul(ve,Re)|0,W=Math.imul(ve,Te);var qt=(P+k|0)+((M&8191)<<13)|0;P=(W+(M>>>13)|0)+(qt>>>26)|0,qt&=67108863,k=Math.imul(J,Re),M=Math.imul(J,Te),M=M+Math.imul(oe,Re)|0,W=Math.imul(oe,Te),k=k+Math.imul(be,ut)|0,M=M+Math.imul(be,et)|0,M=M+Math.imul(ve,ut)|0,W=W+Math.imul(ve,et)|0;var pt=(P+k|0)+((M&8191)<<13)|0;P=(W+(M>>>13)|0)+(pt>>>26)|0,pt&=67108863,k=Math.imul(Q,Re),M=Math.imul(Q,Te),M=M+Math.imul(ie,Re)|0,W=Math.imul(ie,Te),k=k+Math.imul(J,ut)|0,M=M+Math.imul(J,et)|0,M=M+Math.imul(oe,ut)|0,W=W+Math.imul(oe,et)|0,k=k+Math.imul(be,ht)|0,M=M+Math.imul(be,_t)|0,M=M+Math.imul(ve,ht)|0,W=W+Math.imul(ve,_t)|0;var Ot=(P+k|0)+((M&8191)<<13)|0;P=(W+(M>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,k=Math.imul(Se,Re),M=Math.imul(Se,Te),M=M+Math.imul(De,Re)|0,W=Math.imul(De,Te),k=k+Math.imul(Q,ut)|0,M=M+Math.imul(Q,et)|0,M=M+Math.imul(ie,ut)|0,W=W+Math.imul(ie,et)|0,k=k+Math.imul(J,ht)|0,M=M+Math.imul(J,_t)|0,M=M+Math.imul(oe,ht)|0,W=W+Math.imul(oe,_t)|0,k=k+Math.imul(be,bt)|0,M=M+Math.imul(be,at)|0,M=M+Math.imul(ve,bt)|0,W=W+Math.imul(ve,at)|0;var $t=(P+k|0)+((M&8191)<<13)|0;P=(W+(M>>>13)|0)+($t>>>26)|0,$t&=67108863,k=Math.imul(qe,Re),M=Math.imul(qe,Te),M=M+Math.imul(Ne,Re)|0,W=Math.imul(Ne,Te),k=k+Math.imul(Se,ut)|0,M=M+Math.imul(Se,et)|0,M=M+Math.imul(De,ut)|0,W=W+Math.imul(De,et)|0,k=k+Math.imul(Q,ht)|0,M=M+Math.imul(Q,_t)|0,M=M+Math.imul(ie,ht)|0,W=W+Math.imul(ie,_t)|0,k=k+Math.imul(J,bt)|0,M=M+Math.imul(J,at)|0,M=M+Math.imul(oe,bt)|0,W=W+Math.imul(oe,at)|0,k=k+Math.imul(be,xt)|0,M=M+Math.imul(be,st)|0,M=M+Math.imul(ve,xt)|0,W=W+Math.imul(ve,st)|0;var Tt=(P+k|0)+((M&8191)<<13)|0;P=(W+(M>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,k=Math.imul(Ve,Re),M=Math.imul(Ve,Te),M=M+Math.imul(Ke,Re)|0,W=Math.imul(Ke,Te),k=k+Math.imul(qe,ut)|0,M=M+Math.imul(qe,et)|0,M=M+Math.imul(Ne,ut)|0,W=W+Math.imul(Ne,et)|0,k=k+Math.imul(Se,ht)|0,M=M+Math.imul(Se,_t)|0,M=M+Math.imul(De,ht)|0,W=W+Math.imul(De,_t)|0,k=k+Math.imul(Q,bt)|0,M=M+Math.imul(Q,at)|0,M=M+Math.imul(ie,bt)|0,W=W+Math.imul(ie,at)|0,k=k+Math.imul(J,xt)|0,M=M+Math.imul(J,st)|0,M=M+Math.imul(oe,xt)|0,W=W+Math.imul(oe,st)|0,k=k+Math.imul(be,Ct)|0,M=M+Math.imul(be,nt)|0,M=M+Math.imul(ve,Ct)|0,W=W+Math.imul(ve,nt)|0;var Mt=(P+k|0)+((M&8191)<<13)|0;P=(W+(M>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,k=Math.imul(Je,Re),M=Math.imul(Je,Te),M=M+Math.imul(We,Re)|0,W=Math.imul(We,Te),k=k+Math.imul(Ve,ut)|0,M=M+Math.imul(Ve,et)|0,M=M+Math.imul(Ke,ut)|0,W=W+Math.imul(Ke,et)|0,k=k+Math.imul(qe,ht)|0,M=M+Math.imul(qe,_t)|0,M=M+Math.imul(Ne,ht)|0,W=W+Math.imul(Ne,_t)|0,k=k+Math.imul(Se,bt)|0,M=M+Math.imul(Se,at)|0,M=M+Math.imul(De,bt)|0,W=W+Math.imul(De,at)|0,k=k+Math.imul(Q,xt)|0,M=M+Math.imul(Q,st)|0,M=M+Math.imul(ie,xt)|0,W=W+Math.imul(ie,st)|0,k=k+Math.imul(J,Ct)|0,M=M+Math.imul(J,nt)|0,M=M+Math.imul(oe,Ct)|0,W=W+Math.imul(oe,nt)|0,k=k+Math.imul(be,ae)|0,M=M+Math.imul(be,le)|0,M=M+Math.imul(ve,ae)|0,W=W+Math.imul(ve,le)|0;var Rt=(P+k|0)+((M&8191)<<13)|0;P=(W+(M>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,k=Math.imul(Fe,Re),M=Math.imul(Fe,Te),M=M+Math.imul(Le,Re)|0,W=Math.imul(Le,Te),k=k+Math.imul(Je,ut)|0,M=M+Math.imul(Je,et)|0,M=M+Math.imul(We,ut)|0,W=W+Math.imul(We,et)|0,k=k+Math.imul(Ve,ht)|0,M=M+Math.imul(Ve,_t)|0,M=M+Math.imul(Ke,ht)|0,W=W+Math.imul(Ke,_t)|0,k=k+Math.imul(qe,bt)|0,M=M+Math.imul(qe,at)|0,M=M+Math.imul(Ne,bt)|0,W=W+Math.imul(Ne,at)|0,k=k+Math.imul(Se,xt)|0,M=M+Math.imul(Se,st)|0,M=M+Math.imul(De,xt)|0,W=W+Math.imul(De,st)|0,k=k+Math.imul(Q,Ct)|0,M=M+Math.imul(Q,nt)|0,M=M+Math.imul(ie,Ct)|0,W=W+Math.imul(ie,nt)|0,k=k+Math.imul(J,ae)|0,M=M+Math.imul(J,le)|0,M=M+Math.imul(oe,ae)|0,W=W+Math.imul(oe,le)|0,k=k+Math.imul(be,V)|0,M=M+Math.imul(be,pe)|0,M=M+Math.imul(ve,V)|0,W=W+Math.imul(ve,pe)|0;var St=(P+k|0)+((M&8191)<<13)|0;P=(W+(M>>>13)|0)+(St>>>26)|0,St&=67108863,k=Math.imul(rt,Re),M=Math.imul(rt,Te),M=M+Math.imul(ue,Re)|0,W=Math.imul(ue,Te),k=k+Math.imul(Fe,ut)|0,M=M+Math.imul(Fe,et)|0,M=M+Math.imul(Le,ut)|0,W=W+Math.imul(Le,et)|0,k=k+Math.imul(Je,ht)|0,M=M+Math.imul(Je,_t)|0,M=M+Math.imul(We,ht)|0,W=W+Math.imul(We,_t)|0,k=k+Math.imul(Ve,bt)|0,M=M+Math.imul(Ve,at)|0,M=M+Math.imul(Ke,bt)|0,W=W+Math.imul(Ke,at)|0,k=k+Math.imul(qe,xt)|0,M=M+Math.imul(qe,st)|0,M=M+Math.imul(Ne,xt)|0,W=W+Math.imul(Ne,st)|0,k=k+Math.imul(Se,Ct)|0,M=M+Math.imul(Se,nt)|0,M=M+Math.imul(De,Ct)|0,W=W+Math.imul(De,nt)|0,k=k+Math.imul(Q,ae)|0,M=M+Math.imul(Q,le)|0,M=M+Math.imul(ie,ae)|0,W=W+Math.imul(ie,le)|0,k=k+Math.imul(J,V)|0,M=M+Math.imul(J,pe)|0,M=M+Math.imul(oe,V)|0,W=W+Math.imul(oe,pe)|0,k=k+Math.imul(be,$e)|0,M=M+Math.imul(be,Be)|0,M=M+Math.imul(ve,$e)|0,W=W+Math.imul(ve,Be)|0;var Dt=(P+k|0)+((M&8191)<<13)|0;P=(W+(M>>>13)|0)+(Dt>>>26)|0,Dt&=67108863,k=Math.imul(te,Re),M=Math.imul(te,Te),M=M+Math.imul(de,Re)|0,W=Math.imul(de,Te),k=k+Math.imul(rt,ut)|0,M=M+Math.imul(rt,et)|0,M=M+Math.imul(ue,ut)|0,W=W+Math.imul(ue,et)|0,k=k+Math.imul(Fe,ht)|0,M=M+Math.imul(Fe,_t)|0,M=M+Math.imul(Le,ht)|0,W=W+Math.imul(Le,_t)|0,k=k+Math.imul(Je,bt)|0,M=M+Math.imul(Je,at)|0,M=M+Math.imul(We,bt)|0,W=W+Math.imul(We,at)|0,k=k+Math.imul(Ve,xt)|0,M=M+Math.imul(Ve,st)|0,M=M+Math.imul(Ke,xt)|0,W=W+Math.imul(Ke,st)|0,k=k+Math.imul(qe,Ct)|0,M=M+Math.imul(qe,nt)|0,M=M+Math.imul(Ne,Ct)|0,W=W+Math.imul(Ne,nt)|0,k=k+Math.imul(Se,ae)|0,M=M+Math.imul(Se,le)|0,M=M+Math.imul(De,ae)|0,W=W+Math.imul(De,le)|0,k=k+Math.imul(Q,V)|0,M=M+Math.imul(Q,pe)|0,M=M+Math.imul(ie,V)|0,W=W+Math.imul(ie,pe)|0,k=k+Math.imul(J,$e)|0,M=M+Math.imul(J,Be)|0,M=M+Math.imul(oe,$e)|0,W=W+Math.imul(oe,Be)|0,k=k+Math.imul(be,Ze)|0,M=M+Math.imul(be,He)|0,M=M+Math.imul(ve,Ze)|0,W=W+Math.imul(ve,He)|0;var lt=(P+k|0)+((M&8191)<<13)|0;P=(W+(M>>>13)|0)+(lt>>>26)|0,lt&=67108863,k=Math.imul(te,ut),M=Math.imul(te,et),M=M+Math.imul(de,ut)|0,W=Math.imul(de,et),k=k+Math.imul(rt,ht)|0,M=M+Math.imul(rt,_t)|0,M=M+Math.imul(ue,ht)|0,W=W+Math.imul(ue,_t)|0,k=k+Math.imul(Fe,bt)|0,M=M+Math.imul(Fe,at)|0,M=M+Math.imul(Le,bt)|0,W=W+Math.imul(Le,at)|0,k=k+Math.imul(Je,xt)|0,M=M+Math.imul(Je,st)|0,M=M+Math.imul(We,xt)|0,W=W+Math.imul(We,st)|0,k=k+Math.imul(Ve,Ct)|0,M=M+Math.imul(Ve,nt)|0,M=M+Math.imul(Ke,Ct)|0,W=W+Math.imul(Ke,nt)|0,k=k+Math.imul(qe,ae)|0,M=M+Math.imul(qe,le)|0,M=M+Math.imul(Ne,ae)|0,W=W+Math.imul(Ne,le)|0,k=k+Math.imul(Se,V)|0,M=M+Math.imul(Se,pe)|0,M=M+Math.imul(De,V)|0,W=W+Math.imul(De,pe)|0,k=k+Math.imul(Q,$e)|0,M=M+Math.imul(Q,Be)|0,M=M+Math.imul(ie,$e)|0,W=W+Math.imul(ie,Be)|0,k=k+Math.imul(J,Ze)|0,M=M+Math.imul(J,He)|0,M=M+Math.imul(oe,Ze)|0,W=W+Math.imul(oe,He)|0;var yt=(P+k|0)+((M&8191)<<13)|0;P=(W+(M>>>13)|0)+(yt>>>26)|0,yt&=67108863,k=Math.imul(te,ht),M=Math.imul(te,_t),M=M+Math.imul(de,ht)|0,W=Math.imul(de,_t),k=k+Math.imul(rt,bt)|0,M=M+Math.imul(rt,at)|0,M=M+Math.imul(ue,bt)|0,W=W+Math.imul(ue,at)|0,k=k+Math.imul(Fe,xt)|0,M=M+Math.imul(Fe,st)|0,M=M+Math.imul(Le,xt)|0,W=W+Math.imul(Le,st)|0,k=k+Math.imul(Je,Ct)|0,M=M+Math.imul(Je,nt)|0,M=M+Math.imul(We,Ct)|0,W=W+Math.imul(We,nt)|0,k=k+Math.imul(Ve,ae)|0,M=M+Math.imul(Ve,le)|0,M=M+Math.imul(Ke,ae)|0,W=W+Math.imul(Ke,le)|0,k=k+Math.imul(qe,V)|0,M=M+Math.imul(qe,pe)|0,M=M+Math.imul(Ne,V)|0,W=W+Math.imul(Ne,pe)|0,k=k+Math.imul(Se,$e)|0,M=M+Math.imul(Se,Be)|0,M=M+Math.imul(De,$e)|0,W=W+Math.imul(De,Be)|0,k=k+Math.imul(Q,Ze)|0,M=M+Math.imul(Q,He)|0,M=M+Math.imul(ie,Ze)|0,W=W+Math.imul(ie,He)|0;var ct=(P+k|0)+((M&8191)<<13)|0;P=(W+(M>>>13)|0)+(ct>>>26)|0,ct&=67108863,k=Math.imul(te,bt),M=Math.imul(te,at),M=M+Math.imul(de,bt)|0,W=Math.imul(de,at),k=k+Math.imul(rt,xt)|0,M=M+Math.imul(rt,st)|0,M=M+Math.imul(ue,xt)|0,W=W+Math.imul(ue,st)|0,k=k+Math.imul(Fe,Ct)|0,M=M+Math.imul(Fe,nt)|0,M=M+Math.imul(Le,Ct)|0,W=W+Math.imul(Le,nt)|0,k=k+Math.imul(Je,ae)|0,M=M+Math.imul(Je,le)|0,M=M+Math.imul(We,ae)|0,W=W+Math.imul(We,le)|0,k=k+Math.imul(Ve,V)|0,M=M+Math.imul(Ve,pe)|0,M=M+Math.imul(Ke,V)|0,W=W+Math.imul(Ke,pe)|0,k=k+Math.imul(qe,$e)|0,M=M+Math.imul(qe,Be)|0,M=M+Math.imul(Ne,$e)|0,W=W+Math.imul(Ne,Be)|0,k=k+Math.imul(Se,Ze)|0,M=M+Math.imul(Se,He)|0,M=M+Math.imul(De,Ze)|0,W=W+Math.imul(De,He)|0;var vt=(P+k|0)+((M&8191)<<13)|0;P=(W+(M>>>13)|0)+(vt>>>26)|0,vt&=67108863,k=Math.imul(te,xt),M=Math.imul(te,st),M=M+Math.imul(de,xt)|0,W=Math.imul(de,st),k=k+Math.imul(rt,Ct)|0,M=M+Math.imul(rt,nt)|0,M=M+Math.imul(ue,Ct)|0,W=W+Math.imul(ue,nt)|0,k=k+Math.imul(Fe,ae)|0,M=M+Math.imul(Fe,le)|0,M=M+Math.imul(Le,ae)|0,W=W+Math.imul(Le,le)|0,k=k+Math.imul(Je,V)|0,M=M+Math.imul(Je,pe)|0,M=M+Math.imul(We,V)|0,W=W+Math.imul(We,pe)|0,k=k+Math.imul(Ve,$e)|0,M=M+Math.imul(Ve,Be)|0,M=M+Math.imul(Ke,$e)|0,W=W+Math.imul(Ke,Be)|0,k=k+Math.imul(qe,Ze)|0,M=M+Math.imul(qe,He)|0,M=M+Math.imul(Ne,Ze)|0,W=W+Math.imul(Ne,He)|0;var gt=(P+k|0)+((M&8191)<<13)|0;P=(W+(M>>>13)|0)+(gt>>>26)|0,gt&=67108863,k=Math.imul(te,Ct),M=Math.imul(te,nt),M=M+Math.imul(de,Ct)|0,W=Math.imul(de,nt),k=k+Math.imul(rt,ae)|0,M=M+Math.imul(rt,le)|0,M=M+Math.imul(ue,ae)|0,W=W+Math.imul(ue,le)|0,k=k+Math.imul(Fe,V)|0,M=M+Math.imul(Fe,pe)|0,M=M+Math.imul(Le,V)|0,W=W+Math.imul(Le,pe)|0,k=k+Math.imul(Je,$e)|0,M=M+Math.imul(Je,Be)|0,M=M+Math.imul(We,$e)|0,W=W+Math.imul(We,Be)|0,k=k+Math.imul(Ve,Ze)|0,M=M+Math.imul(Ve,He)|0,M=M+Math.imul(Ke,Ze)|0,W=W+Math.imul(Ke,He)|0;var ft=(P+k|0)+((M&8191)<<13)|0;P=(W+(M>>>13)|0)+(ft>>>26)|0,ft&=67108863,k=Math.imul(te,ae),M=Math.imul(te,le),M=M+Math.imul(de,ae)|0,W=Math.imul(de,le),k=k+Math.imul(rt,V)|0,M=M+Math.imul(rt,pe)|0,M=M+Math.imul(ue,V)|0,W=W+Math.imul(ue,pe)|0,k=k+Math.imul(Fe,$e)|0,M=M+Math.imul(Fe,Be)|0,M=M+Math.imul(Le,$e)|0,W=W+Math.imul(Le,Be)|0,k=k+Math.imul(Je,Ze)|0,M=M+Math.imul(Je,He)|0,M=M+Math.imul(We,Ze)|0,W=W+Math.imul(We,He)|0;var ke=(P+k|0)+((M&8191)<<13)|0;P=(W+(M>>>13)|0)+(ke>>>26)|0,ke&=67108863,k=Math.imul(te,V),M=Math.imul(te,pe),M=M+Math.imul(de,V)|0,W=Math.imul(de,pe),k=k+Math.imul(rt,$e)|0,M=M+Math.imul(rt,Be)|0,M=M+Math.imul(ue,$e)|0,W=W+Math.imul(ue,Be)|0,k=k+Math.imul(Fe,Ze)|0,M=M+Math.imul(Fe,He)|0,M=M+Math.imul(Le,Ze)|0,W=W+Math.imul(Le,He)|0;var Ue=(P+k|0)+((M&8191)<<13)|0;P=(W+(M>>>13)|0)+(Ue>>>26)|0,Ue&=67108863,k=Math.imul(te,$e),M=Math.imul(te,Be),M=M+Math.imul(de,$e)|0,W=Math.imul(de,Be),k=k+Math.imul(rt,Ze)|0,M=M+Math.imul(rt,He)|0,M=M+Math.imul(ue,Ze)|0,W=W+Math.imul(ue,He)|0;var Ye=(P+k|0)+((M&8191)<<13)|0;P=(W+(M>>>13)|0)+(Ye>>>26)|0,Ye&=67108863,k=Math.imul(te,Ze),M=Math.imul(te,He),M=M+Math.imul(de,Ze)|0,W=Math.imul(de,He);var fe=(P+k|0)+((M&8191)<<13)|0;return P=(W+(M>>>13)|0)+(fe>>>26)|0,fe&=67108863,K[0]=qt,K[1]=pt,K[2]=Ot,K[3]=$t,K[4]=Tt,K[5]=Mt,K[6]=Rt,K[7]=St,K[8]=Dt,K[9]=lt,K[10]=yt,K[11]=ct,K[12]=vt,K[13]=gt,K[14]=ft,K[15]=ke,K[16]=Ue,K[17]=Ye,K[18]=fe,P!==0&&(K[19]=P,B.length++),B};Math.imul||(L=U);function j(D,x,A){A.negative=x.negative^D.negative,A.length=D.length+x.length;for(var B=0,N=0,q=0;q<A.length-1;q++){var K=N;N=0;for(var P=B&67108863,k=Math.min(q,x.length-1),M=Math.max(0,q-D.length+1);M<=k;M++){var W=q-M,ce=D.words[W]|0,be=x.words[M]|0,ve=ce*be,Z=ve&67108863;K=K+(ve/67108864|0)|0,Z=Z+P|0,P=Z&67108863,K=K+(Z>>>26)|0,N+=K>>>26,K&=67108863}A.words[q]=P,B=K,K=N}return B!==0?A.words[q]=B:A.length--,A._strip()}function F(D,x,A){return j(D,x,A)}v.prototype.mulTo=function(x,A){var B,N=this.length+x.length;return this.length===10&&x.length===10?B=L(this,x,A):N<63?B=U(this,x,A):N<1024?B=j(this,x,A):B=F(this,x,A),B},v.prototype.mul=function(x){var A=new v(null);return A.words=new Array(this.length+x.length),this.mulTo(x,A)},v.prototype.mulf=function(x){var A=new v(null);return A.words=new Array(this.length+x.length),F(this,x,A)},v.prototype.imul=function(x){return this.clone().mulTo(x,this)},v.prototype.imuln=function(x){var A=x<0;A&&(x=-x),g(typeof x=="number"),g(x<67108864);for(var B=0,N=0;N<this.length;N++){var q=(this.words[N]|0)*x,K=(q&67108863)+(B&67108863);B>>=26,B+=q/67108864|0,B+=K>>>26,this.words[N]=K&67108863}return B!==0&&(this.words[N]=B,this.length++),A?this.ineg():this},v.prototype.muln=function(x){return this.clone().imuln(x)},v.prototype.sqr=function(){return this.mul(this)},v.prototype.isqr=function(){return this.imul(this.clone())},v.prototype.pow=function(x){var A=I(x);if(A.length===0)return new v(1);for(var B=this,N=0;N<A.length&&A[N]===0;N++,B=B.sqr());if(++N<A.length)for(var q=B.sqr();N<A.length;N++,q=q.sqr())A[N]!==0&&(B=B.mul(q));return B},v.prototype.iushln=function(x){g(typeof x=="number"&&x>=0);var A=x%26,B=(x-A)/26,N=67108863>>>26-A<<26-A,q;if(A!==0){var K=0;for(q=0;q<this.length;q++){var P=this.words[q]&N,k=(this.words[q]|0)-P<<A;this.words[q]=k|K,K=P>>>26-A}K&&(this.words[q]=K,this.length++)}if(B!==0){for(q=this.length-1;q>=0;q--)this.words[q+B]=this.words[q];for(q=0;q<B;q++)this.words[q]=0;this.length+=B}return this._strip()},v.prototype.ishln=function(x){return g(this.negative===0),this.iushln(x)},v.prototype.iushrn=function(x,A,B){g(typeof x=="number"&&x>=0);var N;A?N=(A-A%26)/26:N=0;var q=x%26,K=Math.min((x-q)/26,this.length),P=67108863^67108863>>>q<<q,k=B;if(N-=K,N=Math.max(0,N),k){for(var M=0;M<K;M++)k.words[M]=this.words[M];k.length=K}if(K!==0)if(this.length>K)for(this.length-=K,M=0;M<this.length;M++)this.words[M]=this.words[M+K];else this.words[0]=0,this.length=1;var W=0;for(M=this.length-1;M>=0&&(W!==0||M>=N);M--){var ce=this.words[M]|0;this.words[M]=W<<26-q|ce>>>q,W=ce&P}return k&&W!==0&&(k.words[k.length++]=W),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},v.prototype.ishrn=function(x,A,B){return g(this.negative===0),this.iushrn(x,A,B)},v.prototype.shln=function(x){return this.clone().ishln(x)},v.prototype.ushln=function(x){return this.clone().iushln(x)},v.prototype.shrn=function(x){return this.clone().ishrn(x)},v.prototype.ushrn=function(x){return this.clone().iushrn(x)},v.prototype.testn=function(x){g(typeof x=="number"&&x>=0);var A=x%26,B=(x-A)/26,N=1<<A;if(this.length<=B)return!1;var q=this.words[B];return!!(q&N)},v.prototype.imaskn=function(x){g(typeof x=="number"&&x>=0);var A=x%26,B=(x-A)/26;if(g(this.negative===0,"imaskn works only with positive numbers"),this.length<=B)return this;if(A!==0&&B++,this.length=Math.min(B,this.length),A!==0){var N=67108863^67108863>>>A<<A;this.words[this.length-1]&=N}return this._strip()},v.prototype.maskn=function(x){return this.clone().imaskn(x)},v.prototype.iaddn=function(x){return g(typeof x=="number"),g(x<67108864),x<0?this.isubn(-x):this.negative!==0?this.length===1&&(this.words[0]|0)<=x?(this.words[0]=x-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(x),this.negative=1,this):this._iaddn(x)},v.prototype._iaddn=function(x){this.words[0]+=x;for(var A=0;A<this.length&&this.words[A]>=67108864;A++)this.words[A]-=67108864,A===this.length-1?this.words[A+1]=1:this.words[A+1]++;return this.length=Math.max(this.length,A+1),this},v.prototype.isubn=function(x){if(g(typeof x=="number"),g(x<67108864),x<0)return this.iaddn(-x);if(this.negative!==0)return this.negative=0,this.iaddn(x),this.negative=1,this;if(this.words[0]-=x,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var A=0;A<this.length&&this.words[A]<0;A++)this.words[A]+=67108864,this.words[A+1]-=1;return this._strip()},v.prototype.addn=function(x){return this.clone().iaddn(x)},v.prototype.subn=function(x){return this.clone().isubn(x)},v.prototype.iabs=function(){return this.negative=0,this},v.prototype.abs=function(){return this.clone().iabs()},v.prototype._ishlnsubmul=function(x,A,B){var N=x.length+B,q;this._expand(N);var K,P=0;for(q=0;q<x.length;q++){K=(this.words[q+B]|0)+P;var k=(x.words[q]|0)*A;K-=k&67108863,P=(K>>26)-(k/67108864|0),this.words[q+B]=K&67108863}for(;q<this.length-B;q++)K=(this.words[q+B]|0)+P,P=K>>26,this.words[q+B]=K&67108863;if(P===0)return this._strip();for(g(P===-1),P=0,q=0;q<this.length;q++)K=-(this.words[q]|0)+P,P=K>>26,this.words[q]=K&67108863;return this.negative=1,this._strip()},v.prototype._wordDiv=function(x,A){var B=this.length-x.length,N=this.clone(),q=x,K=q.words[q.length-1]|0,P=this._countBits(K);B=26-P,B!==0&&(q=q.ushln(B),N.iushln(B),K=q.words[q.length-1]|0);var k=N.length-q.length,M;if(A!=="mod"){M=new v(null),M.length=k+1,M.words=new Array(M.length);for(var W=0;W<M.length;W++)M.words[W]=0}var ce=N.clone()._ishlnsubmul(q,1,k);ce.negative===0&&(N=ce,M&&(M.words[k]=1));for(var be=k-1;be>=0;be--){var ve=(N.words[q.length+be]|0)*67108864+(N.words[q.length+be-1]|0);for(ve=Math.min(ve/K|0,67108863),N._ishlnsubmul(q,ve,be);N.negative!==0;)ve--,N.negative=0,N._ishlnsubmul(q,1,be),N.isZero()||(N.negative^=1);M&&(M.words[be]=ve)}return M&&M._strip(),N._strip(),A!=="div"&&B!==0&&N.iushrn(B),{div:M||null,mod:N}},v.prototype.divmod=function(x,A,B){if(g(!x.isZero()),this.isZero())return{div:new v(0),mod:new v(0)};var N,q,K;return this.negative!==0&&x.negative===0?(K=this.neg().divmod(x,A),A!=="mod"&&(N=K.div.neg()),A!=="div"&&(q=K.mod.neg(),B&&q.negative!==0&&q.iadd(x)),{div:N,mod:q}):this.negative===0&&x.negative!==0?(K=this.divmod(x.neg(),A),A!=="mod"&&(N=K.div.neg()),{div:N,mod:K.mod}):this.negative&x.negative?(K=this.neg().divmod(x.neg(),A),A!=="div"&&(q=K.mod.neg(),B&&q.negative!==0&&q.isub(x)),{div:K.div,mod:q}):x.length>this.length||this.cmp(x)<0?{div:new v(0),mod:this}:x.length===1?A==="div"?{div:this.divn(x.words[0]),mod:null}:A==="mod"?{div:null,mod:new v(this.modrn(x.words[0]))}:{div:this.divn(x.words[0]),mod:new v(this.modrn(x.words[0]))}:this._wordDiv(x,A)},v.prototype.div=function(x){return this.divmod(x,"div",!1).div},v.prototype.mod=function(x){return this.divmod(x,"mod",!1).mod},v.prototype.umod=function(x){return this.divmod(x,"mod",!0).mod},v.prototype.divRound=function(x){var A=this.divmod(x);if(A.mod.isZero())return A.div;var B=A.div.negative!==0?A.mod.isub(x):A.mod,N=x.ushrn(1),q=x.andln(1),K=B.cmp(N);return K<0||q===1&&K===0?A.div:A.div.negative!==0?A.div.isubn(1):A.div.iaddn(1)},v.prototype.modrn=function(x){var A=x<0;A&&(x=-x),g(x<=67108863);for(var B=(1<<26)%x,N=0,q=this.length-1;q>=0;q--)N=(B*N+(this.words[q]|0))%x;return A?-N:N},v.prototype.modn=function(x){return this.modrn(x)},v.prototype.idivn=function(x){var A=x<0;A&&(x=-x),g(x<=67108863);for(var B=0,N=this.length-1;N>=0;N--){var q=(this.words[N]|0)+B*67108864;this.words[N]=q/x|0,B=q%x}return this._strip(),A?this.ineg():this},v.prototype.divn=function(x){return this.clone().idivn(x)},v.prototype.egcd=function(x){g(x.negative===0),g(!x.isZero());var A=this,B=x.clone();A.negative!==0?A=A.umod(x):A=A.clone();for(var N=new v(1),q=new v(0),K=new v(0),P=new v(1),k=0;A.isEven()&&B.isEven();)A.iushrn(1),B.iushrn(1),++k;for(var M=B.clone(),W=A.clone();!A.isZero();){for(var ce=0,be=1;!(A.words[0]&be)&&ce<26;++ce,be<<=1);if(ce>0)for(A.iushrn(ce);ce-- >0;)(N.isOdd()||q.isOdd())&&(N.iadd(M),q.isub(W)),N.iushrn(1),q.iushrn(1);for(var ve=0,Z=1;!(B.words[0]&Z)&&ve<26;++ve,Z<<=1);if(ve>0)for(B.iushrn(ve);ve-- >0;)(K.isOdd()||P.isOdd())&&(K.iadd(M),P.isub(W)),K.iushrn(1),P.iushrn(1);A.cmp(B)>=0?(A.isub(B),N.isub(K),q.isub(P)):(B.isub(A),K.isub(N),P.isub(q))}return{a:K,b:P,gcd:B.iushln(k)}},v.prototype._invmp=function(x){g(x.negative===0),g(!x.isZero());var A=this,B=x.clone();A.negative!==0?A=A.umod(x):A=A.clone();for(var N=new v(1),q=new v(0),K=B.clone();A.cmpn(1)>0&&B.cmpn(1)>0;){for(var P=0,k=1;!(A.words[0]&k)&&P<26;++P,k<<=1);if(P>0)for(A.iushrn(P);P-- >0;)N.isOdd()&&N.iadd(K),N.iushrn(1);for(var M=0,W=1;!(B.words[0]&W)&&M<26;++M,W<<=1);if(M>0)for(B.iushrn(M);M-- >0;)q.isOdd()&&q.iadd(K),q.iushrn(1);A.cmp(B)>=0?(A.isub(B),N.isub(q)):(B.isub(A),q.isub(N))}var ce;return A.cmpn(1)===0?ce=N:ce=q,ce.cmpn(0)<0&&ce.iadd(x),ce},v.prototype.gcd=function(x){if(this.isZero())return x.abs();if(x.isZero())return this.abs();var A=this.clone(),B=x.clone();A.negative=0,B.negative=0;for(var N=0;A.isEven()&&B.isEven();N++)A.iushrn(1),B.iushrn(1);do{for(;A.isEven();)A.iushrn(1);for(;B.isEven();)B.iushrn(1);var q=A.cmp(B);if(q<0){var K=A;A=B,B=K}else if(q===0||B.cmpn(1)===0)break;A.isub(B)}while(!0);return B.iushln(N)},v.prototype.invm=function(x){return this.egcd(x).a.umod(x)},v.prototype.isEven=function(){return(this.words[0]&1)===0},v.prototype.isOdd=function(){return(this.words[0]&1)===1},v.prototype.andln=function(x){return this.words[0]&x},v.prototype.bincn=function(x){g(typeof x=="number");var A=x%26,B=(x-A)/26,N=1<<A;if(this.length<=B)return this._expand(B+1),this.words[B]|=N,this;for(var q=N,K=B;q!==0&&K<this.length;K++){var P=this.words[K]|0;P+=q,q=P>>>26,P&=67108863,this.words[K]=P}return q!==0&&(this.words[K]=q,this.length++),this},v.prototype.isZero=function(){return this.length===1&&this.words[0]===0},v.prototype.cmpn=function(x){var A=x<0;if(this.negative!==0&&!A)return-1;if(this.negative===0&&A)return 1;this._strip();var B;if(this.length>1)B=1;else{A&&(x=-x),g(x<=67108863,"Number is too big");var N=this.words[0]|0;B=N===x?0:N<x?-1:1}return this.negative!==0?-B|0:B},v.prototype.cmp=function(x){if(this.negative!==0&&x.negative===0)return-1;if(this.negative===0&&x.negative!==0)return 1;var A=this.ucmp(x);return this.negative!==0?-A|0:A},v.prototype.ucmp=function(x){if(this.length>x.length)return 1;if(this.length<x.length)return-1;for(var A=0,B=this.length-1;B>=0;B--){var N=this.words[B]|0,q=x.words[B]|0;if(N!==q){N<q?A=-1:N>q&&(A=1);break}}return A},v.prototype.gtn=function(x){return this.cmpn(x)===1},v.prototype.gt=function(x){return this.cmp(x)===1},v.prototype.gten=function(x){return this.cmpn(x)>=0},v.prototype.gte=function(x){return this.cmp(x)>=0},v.prototype.ltn=function(x){return this.cmpn(x)===-1},v.prototype.lt=function(x){return this.cmp(x)===-1},v.prototype.lten=function(x){return this.cmpn(x)<=0},v.prototype.lte=function(x){return this.cmp(x)<=0},v.prototype.eqn=function(x){return this.cmpn(x)===0},v.prototype.eq=function(x){return this.cmp(x)===0},v.red=function(x){return new G(x)},v.prototype.toRed=function(x){return g(!this.red,"Already a number in reduction context"),g(this.negative===0,"red works only with positives"),x.convertTo(this)._forceRed(x)},v.prototype.fromRed=function(){return g(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},v.prototype._forceRed=function(x){return this.red=x,this},v.prototype.forceRed=function(x){return g(!this.red,"Already a number in reduction context"),this._forceRed(x)},v.prototype.redAdd=function(x){return g(this.red,"redAdd works only with red numbers"),this.red.add(this,x)},v.prototype.redIAdd=function(x){return g(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,x)},v.prototype.redSub=function(x){return g(this.red,"redSub works only with red numbers"),this.red.sub(this,x)},v.prototype.redISub=function(x){return g(this.red,"redISub works only with red numbers"),this.red.isub(this,x)},v.prototype.redShl=function(x){return g(this.red,"redShl works only with red numbers"),this.red.shl(this,x)},v.prototype.redMul=function(x){return g(this.red,"redMul works only with red numbers"),this.red._verify2(this,x),this.red.mul(this,x)},v.prototype.redIMul=function(x){return g(this.red,"redMul works only with red numbers"),this.red._verify2(this,x),this.red.imul(this,x)},v.prototype.redSqr=function(){return g(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},v.prototype.redISqr=function(){return g(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},v.prototype.redSqrt=function(){return g(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},v.prototype.redInvm=function(){return g(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},v.prototype.redNeg=function(){return g(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},v.prototype.redPow=function(x){return g(this.red&&!x.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,x)};var X={k256:null,p224:null,p192:null,p25519:null};function z(D,x){this.name=D,this.p=new v(x,16),this.n=this.p.bitLength(),this.k=new v(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}z.prototype._tmp=function(){var x=new v(null);return x.words=new Array(Math.ceil(this.n/13)),x},z.prototype.ireduce=function(x){var A=x,B;do this.split(A,this.tmp),A=this.imulK(A),A=A.iadd(this.tmp),B=A.bitLength();while(B>this.n);var N=B<this.n?-1:A.ucmp(this.p);return N===0?(A.words[0]=0,A.length=1):N>0?A.isub(this.p):A.strip!==void 0?A.strip():A._strip(),A},z.prototype.split=function(x,A){x.iushrn(this.n,0,A)},z.prototype.imulK=function(x){return x.imul(this.k)};function Y(){z.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}_(Y,z),Y.prototype.split=function(x,A){for(var B=4194303,N=Math.min(x.length,9),q=0;q<N;q++)A.words[q]=x.words[q];if(A.length=N,x.length<=9){x.words[0]=0,x.length=1;return}var K=x.words[9];for(A.words[A.length++]=K&B,q=10;q<x.length;q++){var P=x.words[q]|0;x.words[q-10]=(P&B)<<4|K>>>22,K=P}K>>>=22,x.words[q-10]=K,K===0&&x.length>10?x.length-=10:x.length-=9},Y.prototype.imulK=function(x){x.words[x.length]=0,x.words[x.length+1]=0,x.length+=2;for(var A=0,B=0;B<x.length;B++){var N=x.words[B]|0;A+=N*977,x.words[B]=A&67108863,A=N*64+(A/67108864|0)}return x.words[x.length-1]===0&&(x.length--,x.words[x.length-1]===0&&x.length--),x};function ne(){z.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}_(ne,z);function re(){z.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}_(re,z);function se(){z.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}_(se,z),se.prototype.imulK=function(x){for(var A=0,B=0;B<x.length;B++){var N=(x.words[B]|0)*19+A,q=N&67108863;N>>>=26,x.words[B]=q,A=N}return A!==0&&(x.words[x.length++]=A),x},v._prime=function(x){if(X[x])return X[x];var A;if(x==="k256")A=new Y;else if(x==="p224")A=new ne;else if(x==="p192")A=new re;else if(x==="p25519")A=new se;else throw new Error("Unknown prime "+x);return X[x]=A,A};function G(D){if(typeof D=="string"){var x=v._prime(D);this.m=x.p,this.prime=x}else g(D.gtn(1),"modulus must be greater than 1"),this.m=D,this.prime=null}G.prototype._verify1=function(x){g(x.negative===0,"red works only with positives"),g(x.red,"red works only with red numbers")},G.prototype._verify2=function(x,A){g((x.negative|A.negative)===0,"red works only with positives"),g(x.red&&x.red===A.red,"red works only with red numbers")},G.prototype.imod=function(x){return this.prime?this.prime.ireduce(x)._forceRed(this):(b(x,x.umod(this.m)._forceRed(this)),x)},G.prototype.neg=function(x){return x.isZero()?x.clone():this.m.sub(x)._forceRed(this)},G.prototype.add=function(x,A){this._verify2(x,A);var B=x.add(A);return B.cmp(this.m)>=0&&B.isub(this.m),B._forceRed(this)},G.prototype.iadd=function(x,A){this._verify2(x,A);var B=x.iadd(A);return B.cmp(this.m)>=0&&B.isub(this.m),B},G.prototype.sub=function(x,A){this._verify2(x,A);var B=x.sub(A);return B.cmpn(0)<0&&B.iadd(this.m),B._forceRed(this)},G.prototype.isub=function(x,A){this._verify2(x,A);var B=x.isub(A);return B.cmpn(0)<0&&B.iadd(this.m),B},G.prototype.shl=function(x,A){return this._verify1(x),this.imod(x.ushln(A))},G.prototype.imul=function(x,A){return this._verify2(x,A),this.imod(x.imul(A))},G.prototype.mul=function(x,A){return this._verify2(x,A),this.imod(x.mul(A))},G.prototype.isqr=function(x){return this.imul(x,x.clone())},G.prototype.sqr=function(x){return this.mul(x,x)},G.prototype.sqrt=function(x){if(x.isZero())return x.clone();var A=this.m.andln(3);if(g(A%2===1),A===3){var B=this.m.add(new v(1)).iushrn(2);return this.pow(x,B)}for(var N=this.m.subn(1),q=0;!N.isZero()&&N.andln(1)===0;)q++,N.iushrn(1);g(!N.isZero());var K=new v(1).toRed(this),P=K.redNeg(),k=this.m.subn(1).iushrn(1),M=this.m.bitLength();for(M=new v(2*M*M).toRed(this);this.pow(M,k).cmp(P)!==0;)M.redIAdd(P);for(var W=this.pow(M,N),ce=this.pow(x,N.addn(1).iushrn(1)),be=this.pow(x,N),ve=q;be.cmp(K)!==0;){for(var Z=be,J=0;Z.cmp(K)!==0;J++)Z=Z.redSqr();g(J<ve);var oe=this.pow(W,new v(1).iushln(ve-J-1));ce=ce.redMul(oe),W=oe.redSqr(),be=be.redMul(W),ve=J}return ce},G.prototype.invm=function(x){var A=x._invmp(this.m);return A.negative!==0?(A.negative=0,this.imod(A).redNeg()):this.imod(A)},G.prototype.pow=function(x,A){if(A.isZero())return new v(1).toRed(this);if(A.cmpn(1)===0)return x.clone();var B=4,N=new Array(1<<B);N[0]=new v(1).toRed(this),N[1]=x;for(var q=2;q<N.length;q++)N[q]=this.mul(N[q-1],x);var K=N[0],P=0,k=0,M=A.bitLength()%26;for(M===0&&(M=26),q=A.length-1;q>=0;q--){for(var W=A.words[q],ce=M-1;ce>=0;ce--){var be=W>>ce&1;if(K!==N[0]&&(K=this.sqr(K)),be===0&&P===0){k=0;continue}P<<=1,P|=be,k++,!(k!==B&&(q!==0||ce!==0))&&(K=this.mul(K,N[P]),k=0,P=0)}M=26}return K},G.prototype.convertTo=function(x){var A=x.umod(this.m);return A===x?A.clone():A},G.prototype.convertFrom=function(x){var A=x.clone();return A.red=null,A},v.mont=function(x){return new T(x)};function T(D){G.call(this,D),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new v(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}_(T,G),T.prototype.convertTo=function(x){return this.imod(x.ushln(this.shift))},T.prototype.convertFrom=function(x){var A=this.imod(x.mul(this.rinv));return A.red=null,A},T.prototype.imul=function(x,A){if(x.isZero()||A.isZero())return x.words[0]=0,x.length=1,x;var B=x.imul(A),N=B.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),q=B.isub(N).iushrn(this.shift),K=q;return q.cmp(this.m)>=0?K=q.isub(this.m):q.cmpn(0)<0&&(K=q.iadd(this.m)),K._forceRed(this)},T.prototype.mul=function(x,A){if(x.isZero()||A.isZero())return new v(0)._forceRed(this);var B=x.mul(A),N=B.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),q=B.isub(N).iushrn(this.shift),K=q;return q.cmp(this.m)>=0?K=q.isub(this.m):q.cmpn(0)<0&&(K=q.iadd(this.m)),K._forceRed(this)},T.prototype.invm=function(x){var A=this.imod(x._invmp(this.m).mul(this.r2));return A._forceRed(this)}})(f,commonjsGlobal)}(bn)),bn.exports}var asn1$1={},asn1={},api={},vmBrowserify={},hasRequiredVmBrowserify;function requireVmBrowserify(){return hasRequiredVmBrowserify||(hasRequiredVmBrowserify=1,function(exports){var indexOf=function(f,r){if(f.indexOf)return f.indexOf(r);for(var d=0;d<f.length;d++)if(f[d]===r)return d;return-1},Object_keys=function(f){if(Object.keys)return Object.keys(f);var r=[];for(var d in f)r.push(d);return r},forEach=function(f,r){if(f.forEach)return f.forEach(r);for(var d=0;d<f.length;d++)r(f[d],d,f)},defineProp=function(){try{return Object.defineProperty({},"_",{}),function(f,r,d){Object.defineProperty(f,r,{writable:!0,enumerable:!1,configurable:!0,value:d})}}catch{return function(r,d,g){r[d]=g}}}(),globals=["Array","Boolean","Date","Error","EvalError","Function","Infinity","JSON","Math","NaN","Number","Object","RangeError","ReferenceError","RegExp","String","SyntaxError","TypeError","URIError","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","isFinite","isNaN","parseFloat","parseInt","undefined","unescape"];function Context(){}Context.prototype={};var Script=exports.Script=function(r){if(!(this instanceof Script))return new Script(r);this.code=r};Script.prototype.runInContext=function(f){if(!(f instanceof Context))throw new TypeError("needs a 'context' argument.");var r=document.createElement("iframe");r.style||(r.style={}),r.style.display="none",document.body.appendChild(r);var d=r.contentWindow,g=d.eval,_=d.execScript;!g&&_&&(_.call(d,"null"),g=d.eval),forEach(Object_keys(f),function(m){d[m]=f[m]}),forEach(globals,function(m){f[m]&&(d[m]=f[m])});var v=Object_keys(d),y=g.call(d,this.code);return forEach(Object_keys(d),function(m){(m in f||indexOf(v,m)===-1)&&(f[m]=d[m])}),forEach(globals,function(m){m in f||defineProp(f,m,d[m])}),document.body.removeChild(r),y},Script.prototype.runInThisContext=function(){return eval(this.code)},Script.prototype.runInNewContext=function(f){var r=Script.createContext(f),d=this.runInContext(r);return f&&forEach(Object_keys(r),function(g){f[g]=r[g]}),d},forEach(Object_keys(Script.prototype),function(f){exports[f]=Script[f]=function(r){var d=Script(r);return d[f].apply(d,[].slice.call(arguments,1))}}),exports.isContext=function(f){return f instanceof Context},exports.createScript=function(f){return exports.Script(f)},exports.createContext=Script.createContext=function(f){var r=new Context;return typeof f=="object"&&forEach(Object_keys(f),function(d){r[d]=f[d]}),r}}(vmBrowserify)),vmBrowserify}var hasRequiredApi;function requireApi(){return hasRequiredApi||(hasRequiredApi=1,function(f){var r=requireAsn1$1(),d=requireInherits_browser(),g=f;g.define=function(y,m){return new _(y,m)};function _(v,y){this.name=v,this.body=y,this.decoders={},this.encoders={}}_.prototype._createNamed=function(y){var m;try{m=requireVmBrowserify().runInThisContext("(function "+this.name+`(entity) {
  this._initNamed(entity);
})`)}catch{m=function(C){this._initNamed(C)}}return d(m,y),m.prototype._initNamed=function(C){y.call(this,C)},new m(this)},_.prototype._getDecoder=function(y){return y=y||"der",this.decoders.hasOwnProperty(y)||(this.decoders[y]=this._createNamed(r.decoders[y])),this.decoders[y]},_.prototype.decode=function(y,m,w){return this._getDecoder(m).decode(y,w)},_.prototype._getEncoder=function(y){return y=y||"der",this.encoders.hasOwnProperty(y)||(this.encoders[y]=this._createNamed(r.encoders[y])),this.encoders[y]},_.prototype.encode=function(y,m,w){return this._getEncoder(m).encode(y,w)}}(api)),api}var base$4={},reporter={},hasRequiredReporter;function requireReporter(){if(hasRequiredReporter)return reporter;hasRequiredReporter=1;var f=requireInherits_browser();function r(g){this._reporterState={obj:null,path:[],options:g||{},errors:[]}}reporter.Reporter=r,r.prototype.isError=function(_){return _ instanceof d},r.prototype.save=function(){var _=this._reporterState;return{obj:_.obj,pathLen:_.path.length}},r.prototype.restore=function(_){var v=this._reporterState;v.obj=_.obj,v.path=v.path.slice(0,_.pathLen)},r.prototype.enterKey=function(_){return this._reporterState.path.push(_)},r.prototype.exitKey=function(_){var v=this._reporterState;v.path=v.path.slice(0,_-1)},r.prototype.leaveKey=function(_,v,y){var m=this._reporterState;this.exitKey(_),m.obj!==null&&(m.obj[v]=y)},r.prototype.path=function(){return this._reporterState.path.join("/")},r.prototype.enterObject=function(){var _=this._reporterState,v=_.obj;return _.obj={},v},r.prototype.leaveObject=function(_){var v=this._reporterState,y=v.obj;return v.obj=_,y},r.prototype.error=function(_){var v,y=this._reporterState,m=_ instanceof d;if(m?v=_:v=new d(y.path.map(function(w){return"["+JSON.stringify(w)+"]"}).join(""),_.message||_,_.stack),!y.options.partial)throw v;return m||y.errors.push(v),v},r.prototype.wrapResult=function(_){var v=this._reporterState;return v.options.partial?{result:this.isError(_)?null:_,errors:v.errors}:_};function d(g,_){this.path=g,this.rethrow(_)}return f(d,Error),d.prototype.rethrow=function(_){if(this.message=_+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,d),!this.stack)try{throw new Error(this.message)}catch(v){this.stack=v.stack}return this},reporter}var buffer={},hasRequiredBuffer;function requireBuffer(){if(hasRequiredBuffer)return buffer;hasRequiredBuffer=1;var f=requireInherits_browser(),r=requireBase().Reporter,d=require$$0$2.Buffer;function g(v,y){if(r.call(this,y),!d.isBuffer(v)){this.error("Input not Buffer");return}this.base=v,this.offset=0,this.length=v.length}f(g,r),buffer.DecoderBuffer=g,g.prototype.save=function(){return{offset:this.offset,reporter:r.prototype.save.call(this)}},g.prototype.restore=function(y){var m=new g(this.base);return m.offset=y.offset,m.length=this.offset,this.offset=y.offset,r.prototype.restore.call(this,y.reporter),m},g.prototype.isEmpty=function(){return this.offset===this.length},g.prototype.readUInt8=function(y){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(y||"DecoderBuffer overrun")},g.prototype.skip=function(y,m){if(!(this.offset+y<=this.length))return this.error(m||"DecoderBuffer overrun");var w=new g(this.base);return w._reporterState=this._reporterState,w.offset=this.offset,w.length=this.offset+y,this.offset+=y,w},g.prototype.raw=function(y){return this.base.slice(y?y.offset:this.offset,this.length)};function _(v,y){if(Array.isArray(v))this.length=0,this.value=v.map(function(m){return m instanceof _||(m=new _(m,y)),this.length+=m.length,m},this);else if(typeof v=="number"){if(!(0<=v&&v<=255))return y.error("non-byte EncoderBuffer value");this.value=v,this.length=1}else if(typeof v=="string")this.value=v,this.length=d.byteLength(v);else if(d.isBuffer(v))this.value=v,this.length=v.length;else return y.error("Unsupported type: "+typeof v)}return buffer.EncoderBuffer=_,_.prototype.join=function(y,m){return y||(y=new d(this.length)),m||(m=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(w){w.join(y,m),m+=w.length}):(typeof this.value=="number"?y[m]=this.value:typeof this.value=="string"?y.write(this.value,m):d.isBuffer(this.value)&&this.value.copy(y,m),m+=this.length)),y},buffer}var node$1,hasRequiredNode;function requireNode(){if(hasRequiredNode)return node$1;hasRequiredNode=1;var f=requireBase().Reporter,r=requireBase().EncoderBuffer,d=requireBase().DecoderBuffer,g=requireMinimalisticAssert(),_=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],v=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(_),y=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];function m(C,b){var E={};this._baseState=E,E.enc=C,E.parent=b||null,E.children=null,E.tag=null,E.args=null,E.reverseArgs=null,E.choice=null,E.optional=!1,E.any=!1,E.obj=!1,E.use=null,E.useDecoder=null,E.key=null,E.default=null,E.explicit=null,E.implicit=null,E.contains=null,E.parent||(E.children=[],this._wrap())}node$1=m;var w=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];return m.prototype.clone=function(){var b=this._baseState,E={};w.forEach(function(R){E[R]=b[R]});var S=new this.constructor(E.parent);return S._baseState=E,S},m.prototype._wrap=function(){var b=this._baseState;v.forEach(function(E){this[E]=function(){var R=new this.constructor(this);return b.children.push(R),R[E].apply(R,arguments)}},this)},m.prototype._init=function(b){var E=this._baseState;g(E.parent===null),b.call(this),E.children=E.children.filter(function(S){return S._baseState.parent===this},this),g.equal(E.children.length,1,"Root node can have only one child")},m.prototype._useArgs=function(b){var E=this._baseState,S=b.filter(function(R){return R instanceof this.constructor},this);b=b.filter(function(R){return!(R instanceof this.constructor)},this),S.length!==0&&(g(E.children===null),E.children=S,S.forEach(function(R){R._baseState.parent=this},this)),b.length!==0&&(g(E.args===null),E.args=b,E.reverseArgs=b.map(function(R){if(typeof R!="object"||R.constructor!==Object)return R;var O={};return Object.keys(R).forEach(function($){$==($|0)&&($|=0);var I=R[$];O[I]=$}),O}))},y.forEach(function(C){m.prototype[C]=function(){var E=this._baseState;throw new Error(C+" not implemented for encoding: "+E.enc)}}),_.forEach(function(C){m.prototype[C]=function(){var E=this._baseState,S=Array.prototype.slice.call(arguments);return g(E.tag===null),E.tag=C,this._useArgs(S),this}}),m.prototype.use=function(b){g(b);var E=this._baseState;return g(E.use===null),E.use=b,this},m.prototype.optional=function(){var b=this._baseState;return b.optional=!0,this},m.prototype.def=function(b){var E=this._baseState;return g(E.default===null),E.default=b,E.optional=!0,this},m.prototype.explicit=function(b){var E=this._baseState;return g(E.explicit===null&&E.implicit===null),E.explicit=b,this},m.prototype.implicit=function(b){var E=this._baseState;return g(E.explicit===null&&E.implicit===null),E.implicit=b,this},m.prototype.obj=function(){var b=this._baseState,E=Array.prototype.slice.call(arguments);return b.obj=!0,E.length!==0&&this._useArgs(E),this},m.prototype.key=function(b){var E=this._baseState;return g(E.key===null),E.key=b,this},m.prototype.any=function(){var b=this._baseState;return b.any=!0,this},m.prototype.choice=function(b){var E=this._baseState;return g(E.choice===null),E.choice=b,this._useArgs(Object.keys(b).map(function(S){return b[S]})),this},m.prototype.contains=function(b){var E=this._baseState;return g(E.use===null),E.contains=b,this},m.prototype._decode=function(b,E){var S=this._baseState;if(S.parent===null)return b.wrapResult(S.children[0]._decode(b,E));var R=S.default,O=!0,$=null;if(S.key!==null&&($=b.enterKey(S.key)),S.optional){var I=null;if(S.explicit!==null?I=S.explicit:S.implicit!==null?I=S.implicit:S.tag!==null&&(I=S.tag),I===null&&!S.any){var U=b.save();try{S.choice===null?this._decodeGeneric(S.tag,b,E):this._decodeChoice(b,E),O=!0}catch{O=!1}b.restore(U)}else if(O=this._peekTag(b,I,S.any),b.isError(O))return O}var L;if(S.obj&&O&&(L=b.enterObject()),O){if(S.explicit!==null){var j=this._decodeTag(b,S.explicit);if(b.isError(j))return j;b=j}var F=b.offset;if(S.use===null&&S.choice===null){if(S.any)var U=b.save();var X=this._decodeTag(b,S.implicit!==null?S.implicit:S.tag,S.any);if(b.isError(X))return X;S.any?R=b.raw(U):b=X}if(E&&E.track&&S.tag!==null&&E.track(b.path(),F,b.length,"tagged"),E&&E.track&&S.tag!==null&&E.track(b.path(),b.offset,b.length,"content"),S.any?R=R:S.choice===null?R=this._decodeGeneric(S.tag,b,E):R=this._decodeChoice(b,E),b.isError(R))return R;if(!S.any&&S.choice===null&&S.children!==null&&S.children.forEach(function(ne){ne._decode(b,E)}),S.contains&&(S.tag==="octstr"||S.tag==="bitstr")){var z=new d(R);R=this._getUse(S.contains,b._reporterState.obj)._decode(z,E)}}return S.obj&&O&&(R=b.leaveObject(L)),S.key!==null&&(R!==null||O===!0)?b.leaveKey($,S.key,R):$!==null&&b.exitKey($),R},m.prototype._decodeGeneric=function(b,E,S){var R=this._baseState;return b==="seq"||b==="set"?null:b==="seqof"||b==="setof"?this._decodeList(E,b,R.args[0],S):/str$/.test(b)?this._decodeStr(E,b,S):b==="objid"&&R.args?this._decodeObjid(E,R.args[0],R.args[1],S):b==="objid"?this._decodeObjid(E,null,null,S):b==="gentime"||b==="utctime"?this._decodeTime(E,b,S):b==="null_"?this._decodeNull(E,S):b==="bool"?this._decodeBool(E,S):b==="objDesc"?this._decodeStr(E,b,S):b==="int"||b==="enum"?this._decodeInt(E,R.args&&R.args[0],S):R.use!==null?this._getUse(R.use,E._reporterState.obj)._decode(E,S):E.error("unknown tag: "+b)},m.prototype._getUse=function(b,E){var S=this._baseState;return S.useDecoder=this._use(b,E),g(S.useDecoder._baseState.parent===null),S.useDecoder=S.useDecoder._baseState.children[0],S.implicit!==S.useDecoder._baseState.implicit&&(S.useDecoder=S.useDecoder.clone(),S.useDecoder._baseState.implicit=S.implicit),S.useDecoder},m.prototype._decodeChoice=function(b,E){var S=this._baseState,R=null,O=!1;return Object.keys(S.choice).some(function($){var I=b.save(),U=S.choice[$];try{var L=U._decode(b,E);if(b.isError(L))return!1;R={type:$,value:L},O=!0}catch{return b.restore(I),!1}return!0},this),O?R:b.error("Choice not matched")},m.prototype._createEncoderBuffer=function(b){return new r(b,this.reporter)},m.prototype._encode=function(b,E,S){var R=this._baseState;if(!(R.default!==null&&R.default===b)){var O=this._encodeValue(b,E,S);if(O!==void 0&&!this._skipDefault(O,E,S))return O}},m.prototype._encodeValue=function(b,E,S){var R=this._baseState;if(R.parent===null)return R.children[0]._encode(b,E||new f);var U=null;if(this.reporter=E,R.optional&&b===void 0)if(R.default!==null)b=R.default;else return;var O=null,$=!1;if(R.any)U=this._createEncoderBuffer(b);else if(R.choice)U=this._encodeChoice(b,E);else if(R.contains)O=this._getUse(R.contains,S)._encode(b,E),$=!0;else if(R.children)O=R.children.map(function(F){if(F._baseState.tag==="null_")return F._encode(null,E,b);if(F._baseState.key===null)return E.error("Child should have a key");var X=E.enterKey(F._baseState.key);if(typeof b!="object")return E.error("Child expected, but input is not object");var z=F._encode(b[F._baseState.key],E,b);return E.leaveKey(X),z},this).filter(function(F){return F}),O=this._createEncoderBuffer(O);else if(R.tag==="seqof"||R.tag==="setof"){if(!(R.args&&R.args.length===1))return E.error("Too many args for : "+R.tag);if(!Array.isArray(b))return E.error("seqof/setof, but data is not Array");var I=this.clone();I._baseState.implicit=null,O=this._createEncoderBuffer(b.map(function(F){var X=this._baseState;return this._getUse(X.args[0],b)._encode(F,E)},I))}else R.use!==null?U=this._getUse(R.use,S)._encode(b,E):(O=this._encodePrimitive(R.tag,b),$=!0);var U;if(!R.any&&R.choice===null){var L=R.implicit!==null?R.implicit:R.tag,j=R.implicit===null?"universal":"context";L===null?R.use===null&&E.error("Tag could be omitted only for .use()"):R.use===null&&(U=this._encodeComposite(L,$,j,O))}return R.explicit!==null&&(U=this._encodeComposite(R.explicit,!1,"context",U)),U},m.prototype._encodeChoice=function(b,E){var S=this._baseState,R=S.choice[b.type];return R||g(!1,b.type+" not found in "+JSON.stringify(Object.keys(S.choice))),R._encode(b.value,E)},m.prototype._encodePrimitive=function(b,E){var S=this._baseState;if(/str$/.test(b))return this._encodeStr(E,b);if(b==="objid"&&S.args)return this._encodeObjid(E,S.reverseArgs[0],S.args[1]);if(b==="objid")return this._encodeObjid(E,null,null);if(b==="gentime"||b==="utctime")return this._encodeTime(E,b);if(b==="null_")return this._encodeNull();if(b==="int"||b==="enum")return this._encodeInt(E,S.args&&S.reverseArgs[0]);if(b==="bool")return this._encodeBool(E);if(b==="objDesc")return this._encodeStr(E,b);throw new Error("Unsupported tag: "+b)},m.prototype._isNumstr=function(b){return/^[0-9 ]*$/.test(b)},m.prototype._isPrintstr=function(b){return/^[A-Za-z0-9 '\(\)\+,\-\.\/:=\?]*$/.test(b)},node$1}var hasRequiredBase;function requireBase(){return hasRequiredBase||(hasRequiredBase=1,function(f){var r=f;r.Reporter=requireReporter().Reporter,r.DecoderBuffer=requireBuffer().DecoderBuffer,r.EncoderBuffer=requireBuffer().EncoderBuffer,r.Node=requireNode()}(base$4)),base$4}var constants$3={},der={},hasRequiredDer$2;function requireDer$2(){return hasRequiredDer$2||(hasRequiredDer$2=1,function(f){var r=requireConstants();f.tagClass={0:"universal",1:"application",2:"context",3:"private"},f.tagClassByName=r._reverse(f.tagClass),f.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},f.tagByName=r._reverse(f.tag)}(der)),der}var hasRequiredConstants;function requireConstants(){return hasRequiredConstants||(hasRequiredConstants=1,function(f){var r=f;r._reverse=function(g){var _={};return Object.keys(g).forEach(function(v){(v|0)==v&&(v=v|0);var y=g[v];_[y]=v}),_},r.der=requireDer$2()}(constants$3)),constants$3}var decoders={},der_1$1,hasRequiredDer$1;function requireDer$1(){if(hasRequiredDer$1)return der_1$1;hasRequiredDer$1=1;var f=requireInherits_browser(),r=requireAsn1$1(),d=r.base,g=r.bignum,_=r.constants.der;function v(C){this.enc="der",this.name=C.name,this.entity=C,this.tree=new y,this.tree._init(C.body)}der_1$1=v,v.prototype.decode=function(b,E){return b instanceof d.DecoderBuffer||(b=new d.DecoderBuffer(b,E)),this.tree._decode(b,E)};function y(C){d.Node.call(this,"der",C)}f(y,d.Node),y.prototype._peekTag=function(b,E,S){if(b.isEmpty())return!1;var R=b.save(),O=m(b,'Failed to peek tag: "'+E+'"');return b.isError(O)?O:(b.restore(R),O.tag===E||O.tagStr===E||O.tagStr+"of"===E||S)},y.prototype._decodeTag=function(b,E,S){var R=m(b,'Failed to decode tag of "'+E+'"');if(b.isError(R))return R;var O=w(b,R.primitive,'Failed to get length of "'+E+'"');if(b.isError(O))return O;if(!S&&R.tag!==E&&R.tagStr!==E&&R.tagStr+"of"!==E)return b.error('Failed to match tag: "'+E+'"');if(R.primitive||O!==null)return b.skip(O,'Failed to match body of: "'+E+'"');var $=b.save(),I=this._skipUntilEnd(b,'Failed to skip indefinite length body: "'+this.tag+'"');return b.isError(I)?I:(O=b.offset-$.offset,b.restore($),b.skip(O,'Failed to match body of: "'+E+'"'))},y.prototype._skipUntilEnd=function(b,E){for(;;){var S=m(b,E);if(b.isError(S))return S;var R=w(b,S.primitive,E);if(b.isError(R))return R;var O;if(S.primitive||R!==null?O=b.skip(R):O=this._skipUntilEnd(b,E),b.isError(O))return O;if(S.tagStr==="end")break}},y.prototype._decodeList=function(b,E,S,R){for(var O=[];!b.isEmpty();){var $=this._peekTag(b,"end");if(b.isError($))return $;var I=S.decode(b,"der",R);if(b.isError(I)&&$)break;O.push(I)}return O},y.prototype._decodeStr=function(b,E){if(E==="bitstr"){var S=b.readUInt8();return b.isError(S)?S:{unused:S,data:b.raw()}}else if(E==="bmpstr"){var R=b.raw();if(R.length%2===1)return b.error("Decoding of string type: bmpstr length mismatch");for(var O="",$=0;$<R.length/2;$++)O+=String.fromCharCode(R.readUInt16BE($*2));return O}else if(E==="numstr"){var I=b.raw().toString("ascii");return this._isNumstr(I)?I:b.error("Decoding of string type: numstr unsupported characters")}else{if(E==="octstr")return b.raw();if(E==="objDesc")return b.raw();if(E==="printstr"){var U=b.raw().toString("ascii");return this._isPrintstr(U)?U:b.error("Decoding of string type: printstr unsupported characters")}else return/str$/.test(E)?b.raw().toString():b.error("Decoding of string type: "+E+" unsupported")}},y.prototype._decodeObjid=function(b,E,S){for(var R,O=[],$=0;!b.isEmpty();){var I=b.readUInt8();$<<=7,$|=I&127,I&128||(O.push($),$=0)}I&128&&O.push($);var U=O[0]/40|0,L=O[0]%40;if(S?R=O:R=[U,L].concat(O.slice(1)),E){var j=E[R.join(" ")];j===void 0&&(j=E[R.join(".")]),j!==void 0&&(R=j)}return R},y.prototype._decodeTime=function(b,E){var S=b.raw().toString();if(E==="gentime")var R=S.slice(0,4)|0,O=S.slice(4,6)|0,$=S.slice(6,8)|0,I=S.slice(8,10)|0,U=S.slice(10,12)|0,L=S.slice(12,14)|0;else if(E==="utctime"){var R=S.slice(0,2)|0,O=S.slice(2,4)|0,$=S.slice(4,6)|0,I=S.slice(6,8)|0,U=S.slice(8,10)|0,L=S.slice(10,12)|0;R<70?R=2e3+R:R=1900+R}else return b.error("Decoding "+E+" time is not supported yet");return Date.UTC(R,O-1,$,I,U,L,0)},y.prototype._decodeNull=function(b){return null},y.prototype._decodeBool=function(b){var E=b.readUInt8();return b.isError(E)?E:E!==0},y.prototype._decodeInt=function(b,E){var S=b.raw(),R=new g(S);return E&&(R=E[R.toString(10)]||R),R},y.prototype._use=function(b,E){return typeof b=="function"&&(b=b(E)),b._getDecoder("der").tree};function m(C,b){var E=C.readUInt8(b);if(C.isError(E))return E;var S=_.tagClass[E>>6],R=(E&32)===0;if((E&31)===31){var O=E;for(E=0;(O&128)===128;){if(O=C.readUInt8(b),C.isError(O))return O;E<<=7,E|=O&127}}else E&=31;var $=_.tag[E];return{cls:S,primitive:R,tag:E,tagStr:$}}function w(C,b,E){var S=C.readUInt8(E);if(C.isError(S))return S;if(!b&&S===128)return null;if(!(S&128))return S;var R=S&127;if(R>4)return C.error("length octect is too long");S=0;for(var O=0;O<R;O++){S<<=8;var $=C.readUInt8(E);if(C.isError($))return $;S|=$}return S}return der_1$1}var pem$1,hasRequiredPem$1;function requirePem$1(){if(hasRequiredPem$1)return pem$1;hasRequiredPem$1=1;var f=requireInherits_browser(),r=require$$0$2.Buffer,d=requireDer$1();function g(_){d.call(this,_),this.enc="pem"}return f(g,d),pem$1=g,g.prototype.decode=function(v,y){for(var m=v.toString().split(/[\r\n]+/g),w=y.label.toUpperCase(),C=/^-----(BEGIN|END) ([^-]+)-----$/,b=-1,E=-1,S=0;S<m.length;S++){var R=m[S].match(C);if(R!==null&&R[2]===w)if(b===-1){if(R[1]!=="BEGIN")break;b=S}else{if(R[1]!=="END")break;E=S;break}}if(b===-1||E===-1)throw new Error("PEM section not found for: "+w);var O=m.slice(b+1,E).join("");O.replace(/[^a-z0-9\+\/=]+/gi,"");var $=new r(O,"base64");return d.prototype.decode.call(this,$,y)},pem$1}var hasRequiredDecoders;function requireDecoders(){return hasRequiredDecoders||(hasRequiredDecoders=1,function(f){var r=f;r.der=requireDer$1(),r.pem=requirePem$1()}(decoders)),decoders}var encoders={},der_1,hasRequiredDer;function requireDer(){if(hasRequiredDer)return der_1;hasRequiredDer=1;var f=requireInherits_browser(),r=require$$0$2.Buffer,d=requireAsn1$1(),g=d.base,_=d.constants.der;function v(C){this.enc="der",this.name=C.name,this.entity=C,this.tree=new y,this.tree._init(C.body)}der_1=v,v.prototype.encode=function(b,E){return this.tree._encode(b,E).join()};function y(C){g.Node.call(this,"der",C)}f(y,g.Node),y.prototype._encodeComposite=function(b,E,S,R){var O=w(b,E,S,this.reporter);if(R.length<128){var U=new r(2);return U[0]=O,U[1]=R.length,this._createEncoderBuffer([U,R])}for(var $=1,I=R.length;I>=256;I>>=8)$++;var U=new r(2+$);U[0]=O,U[1]=128|$;for(var I=1+$,L=R.length;L>0;I--,L>>=8)U[I]=L&255;return this._createEncoderBuffer([U,R])},y.prototype._encodeStr=function(b,E){if(E==="bitstr")return this._createEncoderBuffer([b.unused|0,b.data]);if(E==="bmpstr"){for(var S=new r(b.length*2),R=0;R<b.length;R++)S.writeUInt16BE(b.charCodeAt(R),R*2);return this._createEncoderBuffer(S)}else return E==="numstr"?this._isNumstr(b)?this._createEncoderBuffer(b):this.reporter.error("Encoding of string type: numstr supports only digits and space"):E==="printstr"?this._isPrintstr(b)?this._createEncoderBuffer(b):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(E)?this._createEncoderBuffer(b):E==="objDesc"?this._createEncoderBuffer(b):this.reporter.error("Encoding of string type: "+E+" unsupported")},y.prototype._encodeObjid=function(b,E,S){if(typeof b=="string"){if(!E)return this.reporter.error("string objid given, but no values map found");if(!E.hasOwnProperty(b))return this.reporter.error("objid not found in values map");b=E[b].split(/[\s\.]+/g);for(var R=0;R<b.length;R++)b[R]|=0}else if(Array.isArray(b)){b=b.slice();for(var R=0;R<b.length;R++)b[R]|=0}if(!Array.isArray(b))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(b));if(!S){if(b[1]>=40)return this.reporter.error("Second objid identifier OOB");b.splice(0,2,b[0]*40+b[1])}for(var O=0,R=0;R<b.length;R++){var $=b[R];for(O++;$>=128;$>>=7)O++}for(var I=new r(O),U=I.length-1,R=b.length-1;R>=0;R--){var $=b[R];for(I[U--]=$&127;($>>=7)>0;)I[U--]=128|$&127}return this._createEncoderBuffer(I)};function m(C){return C<10?"0"+C:C}y.prototype._encodeTime=function(b,E){var S,R=new Date(b);return E==="gentime"?S=[m(R.getFullYear()),m(R.getUTCMonth()+1),m(R.getUTCDate()),m(R.getUTCHours()),m(R.getUTCMinutes()),m(R.getUTCSeconds()),"Z"].join(""):E==="utctime"?S=[m(R.getFullYear()%100),m(R.getUTCMonth()+1),m(R.getUTCDate()),m(R.getUTCHours()),m(R.getUTCMinutes()),m(R.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+E+" time is not supported yet"),this._encodeStr(S,"octstr")},y.prototype._encodeNull=function(){return this._createEncoderBuffer("")},y.prototype._encodeInt=function(b,E){if(typeof b=="string"){if(!E)return this.reporter.error("String int or enum given, but no values map");if(!E.hasOwnProperty(b))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(b));b=E[b]}if(typeof b!="number"&&!r.isBuffer(b)){var S=b.toArray();!b.sign&&S[0]&128&&S.unshift(0),b=new r(S)}if(r.isBuffer(b)){var R=b.length;b.length===0&&R++;var $=new r(R);return b.copy($),b.length===0&&($[0]=0),this._createEncoderBuffer($)}if(b<128)return this._createEncoderBuffer(b);if(b<256)return this._createEncoderBuffer([0,b]);for(var R=1,O=b;O>=256;O>>=8)R++;for(var $=new Array(R),O=$.length-1;O>=0;O--)$[O]=b&255,b>>=8;return $[0]&128&&$.unshift(0),this._createEncoderBuffer(new r($))},y.prototype._encodeBool=function(b){return this._createEncoderBuffer(b?255:0)},y.prototype._use=function(b,E){return typeof b=="function"&&(b=b(E)),b._getEncoder("der").tree},y.prototype._skipDefault=function(b,E,S){var R=this._baseState,O;if(R.default===null)return!1;var $=b.join();if(R.defaultBuffer===void 0&&(R.defaultBuffer=this._encodeValue(R.default,E,S).join()),$.length!==R.defaultBuffer.length)return!1;for(O=0;O<$.length;O++)if($[O]!==R.defaultBuffer[O])return!1;return!0};function w(C,b,E,S){var R;if(C==="seqof"?C="seq":C==="setof"&&(C="set"),_.tagByName.hasOwnProperty(C))R=_.tagByName[C];else if(typeof C=="number"&&(C|0)===C)R=C;else return S.error("Unknown tag: "+C);return R>=31?S.error("Multi-octet tag encoding unsupported"):(b||(R|=32),R|=_.tagClassByName[E||"universal"]<<6,R)}return der_1}var pem,hasRequiredPem;function requirePem(){if(hasRequiredPem)return pem;hasRequiredPem=1;var f=requireInherits_browser(),r=requireDer();function d(g){r.call(this,g),this.enc="pem"}return f(d,r),pem=d,d.prototype.encode=function(_,v){for(var y=r.prototype.encode.call(this,_),m=y.toString("base64"),w=["-----BEGIN "+v.label+"-----"],C=0;C<m.length;C+=64)w.push(m.slice(C,C+64));return w.push("-----END "+v.label+"-----"),w.join(`
`)},pem}var hasRequiredEncoders;function requireEncoders(){return hasRequiredEncoders||(hasRequiredEncoders=1,function(f){var r=f;r.der=requireDer(),r.pem=requirePem()}(encoders)),encoders}var hasRequiredAsn1$1;function requireAsn1$1(){return hasRequiredAsn1$1||(hasRequiredAsn1$1=1,function(f){var r=f;r.bignum=requireBn$2(),r.define=requireApi().define,r.base=requireBase(),r.constants=requireConstants(),r.decoders=requireDecoders(),r.encoders=requireEncoders()}(asn1)),asn1}var certificate,hasRequiredCertificate;function requireCertificate(){if(hasRequiredCertificate)return certificate;hasRequiredCertificate=1;var f=requireAsn1$1(),r=f.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),d=f.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),g=f.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),_=f.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(g),this.key("subjectPublicKey").bitstr())}),v=f.define("RelativeDistinguishedName",function(){this.setof(d)}),y=f.define("RDNSequence",function(){this.seqof(v)}),m=f.define("Name",function(){this.choice({rdnSequence:this.use(y)})}),w=f.define("Validity",function(){this.seq().obj(this.key("notBefore").use(r),this.key("notAfter").use(r))}),C=f.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),b=f.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(g),this.key("issuer").use(m),this.key("validity").use(w),this.key("subject").use(m),this.key("subjectPublicKeyInfo").use(_),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(C).optional())}),E=f.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(b),this.key("signatureAlgorithm").use(g),this.key("signatureValue").bitstr())});return certificate=E,certificate}var hasRequiredAsn1;function requireAsn1(){if(hasRequiredAsn1)return asn1$1;hasRequiredAsn1=1;var f=requireAsn1$1();asn1$1.certificate=requireCertificate();var r=f.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});asn1$1.RSAPrivateKey=r;var d=f.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});asn1$1.RSAPublicKey=d;var g=f.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),_=f.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(g),this.key("subjectPublicKey").bitstr())});asn1$1.PublicKey=_;var v=f.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(g),this.key("subjectPrivateKey").octstr())});asn1$1.PrivateKey=v;var y=f.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});asn1$1.EncryptedPrivateKey=y;var m=f.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});asn1$1.DSAPrivateKey=m,asn1$1.DSAparam=f.define("DSAparam",function(){this.int()});var w=f.define("ECParameters",function(){this.choice({namedCurve:this.objid()})}),C=f.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(w),this.key("publicKey").optional().explicit(1).bitstr())});return asn1$1.ECPrivateKey=C,asn1$1.signature=f.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())}),asn1$1}const require$$1$1={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"};var fixProc,hasRequiredFixProc;function requireFixProc(){if(hasRequiredFixProc)return fixProc;hasRequiredFixProc=1;var f=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,r=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,d=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,g=requireEvp_bytestokey(),_=requireBrowser$6(),v=safeBufferExports.Buffer;return fixProc=function(y,m){var w=y.toString(),C=w.match(f),b;if(C){var S="aes"+C[1],R=v.from(C[2],"hex"),O=v.from(C[3].replace(/[\r\n]/g,""),"base64"),$=g(m,R.slice(0,8),parseInt(C[1],10)).key,I=[],U=_.createDecipheriv(S,$,R);I.push(U.update(O)),I.push(U.final()),b=v.concat(I)}else{var E=w.match(d);b=v.from(E[2].replace(/[\r\n]/g,""),"base64")}var L=w.match(r)[1];return{tag:L,data:b}},fixProc}var parseAsn1,hasRequiredParseAsn1;function requireParseAsn1(){if(hasRequiredParseAsn1)return parseAsn1;hasRequiredParseAsn1=1;var f=requireAsn1(),r=require$$1$1,d=requireFixProc(),g=requireBrowser$6(),_=requireBrowser$7(),v=safeBufferExports.Buffer;function y(w,C){var b=w.algorithm.decrypt.kde.kdeparams.salt,E=parseInt(w.algorithm.decrypt.kde.kdeparams.iters.toString(),10),S=r[w.algorithm.decrypt.cipher.algo.join(".")],R=w.algorithm.decrypt.cipher.iv,O=w.subjectPrivateKey,$=parseInt(S.split("-")[1],10)/8,I=_.pbkdf2Sync(C,b,E,$,"sha1"),U=g.createDecipheriv(S,I,R),L=[];return L.push(U.update(O)),L.push(U.final()),v.concat(L)}function m(w){var C;typeof w=="object"&&!v.isBuffer(w)&&(C=w.passphrase,w=w.key),typeof w=="string"&&(w=v.from(w));var b=d(w,C),E=b.tag,S=b.data,R,O;switch(E){case"CERTIFICATE":O=f.certificate.decode(S,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(O||(O=f.PublicKey.decode(S,"der")),R=O.algorithm.algorithm.join("."),R){case"1.2.840.113549.1.1.1":return f.RSAPublicKey.decode(O.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return O.subjectPrivateKey=O.subjectPublicKey,{type:"ec",data:O};case"1.2.840.10040.4.1":return O.algorithm.params.pub_key=f.DSAparam.decode(O.subjectPublicKey.data,"der"),{type:"dsa",data:O.algorithm.params};default:throw new Error("unknown key id "+R)}case"ENCRYPTED PRIVATE KEY":S=f.EncryptedPrivateKey.decode(S,"der"),S=y(S,C);case"PRIVATE KEY":switch(O=f.PrivateKey.decode(S,"der"),R=O.algorithm.algorithm.join("."),R){case"1.2.840.113549.1.1.1":return f.RSAPrivateKey.decode(O.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:O.algorithm.curve,privateKey:f.ECPrivateKey.decode(O.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return O.algorithm.params.priv_key=f.DSAparam.decode(O.subjectPrivateKey,"der"),{type:"dsa",params:O.algorithm.params};default:throw new Error("unknown key id "+R)}case"RSA PUBLIC KEY":return f.RSAPublicKey.decode(S,"der");case"RSA PRIVATE KEY":return f.RSAPrivateKey.decode(S,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:f.DSAPrivateKey.decode(S,"der")};case"EC PRIVATE KEY":return S=f.ECPrivateKey.decode(S,"der"),{curve:S.parameters.value,privateKey:S.privateKey};default:throw new Error("unknown key type "+E)}}return m.signature=f.signature,parseAsn1=m,parseAsn1}const require$$4={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"};var hasRequiredSign;function requireSign(){if(hasRequiredSign)return sign.exports;hasRequiredSign=1;var f=safeBufferExports.Buffer,r=requireBrowser$8(),d=requireBrowserifyRsa(),g=requireElliptic().ec,_=requireBn(),v=requireParseAsn1(),y=require$$4,m=1;function w(U,L,j,F,X){var z=v(L);if(z.curve){if(F!=="ecdsa"&&F!=="ecdsa/rsa")throw new Error("wrong private key type");return C(U,z)}else if(z.type==="dsa"){if(F!=="dsa")throw new Error("wrong private key type");return b(U,z,j)}if(F!=="rsa"&&F!=="ecdsa/rsa")throw new Error("wrong private key type");if(L.padding!==void 0&&L.padding!==m)throw new Error("illegal or unsupported padding mode");U=f.concat([X,U]);for(var Y=z.modulus.byteLength(),ne=[0,1];U.length+ne.length+1<Y;)ne.push(255);ne.push(0);for(var re=-1;++re<U.length;)ne.push(U[re]);var se=d(ne,z);return se}function C(U,L){var j=y[L.curve.join(".")];if(!j)throw new Error("unknown curve "+L.curve.join("."));var F=new g(j),X=F.keyFromPrivate(L.privateKey),z=X.sign(U);return f.from(z.toDER())}function b(U,L,j){for(var F=L.params.priv_key,X=L.params.p,z=L.params.q,Y=L.params.g,ne=new _(0),re,se=R(U,z).mod(z),G=!1,T=S(F,z,U,j);G===!1;)re=$(z,T,j),ne=I(Y,re,X,z),G=re.invm(z).imul(se.add(F.mul(ne))).mod(z),G.cmpn(0)===0&&(G=!1,ne=new _(0));return E(ne,G)}function E(U,L){U=U.toArray(),L=L.toArray(),U[0]&128&&(U=[0].concat(U)),L[0]&128&&(L=[0].concat(L));var j=U.length+L.length+4,F=[48,j,2,U.length];return F=F.concat(U,[2,L.length],L),f.from(F)}function S(U,L,j,F){if(U=f.from(U.toArray()),U.length<L.byteLength()){var X=f.alloc(L.byteLength()-U.length);U=f.concat([X,U])}var z=j.length,Y=O(j,L),ne=f.alloc(z);ne.fill(1);var re=f.alloc(z);return re=r(F,re).update(ne).update(f.from([0])).update(U).update(Y).digest(),ne=r(F,re).update(ne).digest(),re=r(F,re).update(ne).update(f.from([1])).update(U).update(Y).digest(),ne=r(F,re).update(ne).digest(),{k:re,v:ne}}function R(U,L){var j=new _(U),F=(U.length<<3)-L.bitLength();return F>0&&j.ishrn(F),j}function O(U,L){U=R(U,L),U=U.mod(L);var j=f.from(U.toArray());if(j.length<L.byteLength()){var F=f.alloc(L.byteLength()-j.length);j=f.concat([F,j])}return j}function $(U,L,j){var F,X;do{for(F=f.alloc(0);F.length*8<U.bitLength();)L.v=r(j,L.k).update(L.v).digest(),F=f.concat([F,L.v]);X=R(F,U),L.k=r(j,L.k).update(L.v).update(f.from([0])).digest(),L.v=r(j,L.k).update(L.v).digest()}while(X.cmp(U)!==-1);return X}function I(U,L,j,F){return U.toRed(_.mont(j)).redPow(L).fromRed().mod(F)}return sign.exports=w,sign.exports.getKey=S,sign.exports.makeKey=$,sign.exports}var verify_1,hasRequiredVerify;function requireVerify(){if(hasRequiredVerify)return verify_1;hasRequiredVerify=1;var f=safeBufferExports.Buffer,r=requireBn(),d=requireElliptic().ec,g=requireParseAsn1(),_=require$$4;function v(C,b,E,S,R){var O=g(E);if(O.type==="ec"){if(S!=="ecdsa"&&S!=="ecdsa/rsa")throw new Error("wrong public key type");return y(C,b,O)}else if(O.type==="dsa"){if(S!=="dsa")throw new Error("wrong public key type");return m(C,b,O)}if(S!=="rsa"&&S!=="ecdsa/rsa")throw new Error("wrong public key type");b=f.concat([R,b]);for(var $=O.modulus.byteLength(),I=[1],U=0;b.length+I.length+2<$;)I.push(255),U+=1;I.push(0);for(var L=-1;++L<b.length;)I.push(b[L]);I=f.from(I);var j=r.mont(O.modulus);C=new r(C).toRed(j),C=C.redPow(new r(O.publicExponent)),C=f.from(C.fromRed().toArray());var F=U<8?1:0;for($=Math.min(C.length,I.length),C.length!==I.length&&(F=1),L=-1;++L<$;)F|=C[L]^I[L];return F===0}function y(C,b,E){var S=_[E.data.algorithm.curve.join(".")];if(!S)throw new Error("unknown curve "+E.data.algorithm.curve.join("."));var R=new d(S),O=E.data.subjectPrivateKey.data;return R.verify(b,C,O)}function m(C,b,E){var S=E.data.p,R=E.data.q,O=E.data.g,$=E.data.pub_key,I=g.signature.decode(C,"der"),U=I.s,L=I.r;w(U,R),w(L,R);var j=r.mont(S),F=U.invm(R),X=O.toRed(j).redPow(new r(b).mul(F).mod(R)).fromRed().mul($.toRed(j).redPow(L.mul(F).mod(R)).fromRed()).mod(S).mod(R);return X.cmp(L)===0}function w(C,b){if(C.cmpn(0)<=0)throw new Error("invalid sig");if(C.cmp(b)>=0)throw new Error("invalid sig")}return verify_1=v,verify_1}var browser$4,hasRequiredBrowser$3;function requireBrowser$3(){if(hasRequiredBrowser$3)return browser$4;hasRequiredBrowser$3=1;var f=safeBufferExports.Buffer,r=requireBrowser$9(),d=requireReadableBrowser(),g=requireInherits_browser(),_=requireSign(),v=requireVerify(),y=require$$6;Object.keys(y).forEach(function(E){y[E].id=f.from(y[E].id,"hex"),y[E.toLowerCase()]=y[E]});function m(E){d.Writable.call(this);var S=y[E];if(!S)throw new Error("Unknown message digest");this._hashType=S.hash,this._hash=r(S.hash),this._tag=S.id,this._signType=S.sign}g(m,d.Writable),m.prototype._write=function(S,R,O){this._hash.update(S),O()},m.prototype.update=function(S,R){return this._hash.update(typeof S=="string"?f.from(S,R):S),this},m.prototype.sign=function(S,R){this.end();var O=this._hash.digest(),$=_(O,S,this._hashType,this._signType,this._tag);return R?$.toString(R):$};function w(E){d.Writable.call(this);var S=y[E];if(!S)throw new Error("Unknown message digest");this._hash=r(S.hash),this._tag=S.id,this._signType=S.sign}g(w,d.Writable),w.prototype._write=function(S,R,O){this._hash.update(S),O()},w.prototype.update=function(S,R){return this._hash.update(typeof S=="string"?f.from(S,R):S),this},w.prototype.verify=function(S,R,O){var $=typeof R=="string"?f.from(R,O):R;this.end();var I=this._hash.digest();return v($,I,S,this._signType,this._tag)};function C(E){return new m(E)}function b(E){return new w(E)}return browser$4={Sign:C,Verify:b,createSign:C,createVerify:b},browser$4}var browser$3,hasRequiredBrowser$2;function requireBrowser$2(){if(hasRequiredBrowser$2)return browser$3;hasRequiredBrowser$2=1;var f=requireElliptic(),r=requireBn$2();browser$3=function(y){return new g(y)};var d={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};d.p224=d.secp224r1,d.p256=d.secp256r1=d.prime256v1,d.p192=d.secp192r1=d.prime192v1,d.p384=d.secp384r1,d.p521=d.secp521r1;function g(v){this.curveType=d[v],this.curveType||(this.curveType={name:v}),this.curve=new f.ec(this.curveType.name),this.keys=void 0}g.prototype.generateKeys=function(v,y){return this.keys=this.curve.genKeyPair(),this.getPublicKey(v,y)},g.prototype.computeSecret=function(v,y,m){y=y||"utf8",Buffer.isBuffer(v)||(v=new Buffer(v,y));var w=this.curve.keyFromPublic(v).getPublic(),C=w.mul(this.keys.getPrivate()).getX();return _(C,m,this.curveType.byteLength)},g.prototype.getPublicKey=function(v,y){var m=this.keys.getPublic(y==="compressed",!0);return y==="hybrid"&&(m[m.length-1]%2?m[0]=7:m[0]=6),_(m,v)},g.prototype.getPrivateKey=function(v){return _(this.keys.getPrivate(),v)},g.prototype.setPublicKey=function(v,y){return y=y||"utf8",Buffer.isBuffer(v)||(v=new Buffer(v,y)),this.keys._importPublic(v),this},g.prototype.setPrivateKey=function(v,y){y=y||"utf8",Buffer.isBuffer(v)||(v=new Buffer(v,y));var m=new r(v);return m=m.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(m),this};function _(v,y,m){Array.isArray(v)||(v=v.toArray());var w=new Buffer(v);if(m&&w.length<m){var C=new Buffer(m-w.length);C.fill(0),w=Buffer.concat([C,w])}return y?w.toString(y):w}return browser$3}var browser$2={},mgf,hasRequiredMgf;function requireMgf(){if(hasRequiredMgf)return mgf;hasRequiredMgf=1;var f=requireBrowser$9(),r=safeBufferExports.Buffer;mgf=function(g,_){for(var v=r.alloc(0),y=0,m;v.length<_;)m=d(y++),v=r.concat([v,f("sha1").update(g).update(m).digest()]);return v.slice(0,_)};function d(g){var _=r.allocUnsafe(4);return _.writeUInt32BE(g,0),_}return mgf}var xor,hasRequiredXor;function requireXor(){return hasRequiredXor||(hasRequiredXor=1,xor=function(r,d){for(var g=r.length,_=-1;++_<g;)r[_]^=d[_];return r}),xor}var withPublic_1,hasRequiredWithPublic;function requireWithPublic(){if(hasRequiredWithPublic)return withPublic_1;hasRequiredWithPublic=1;var f=requireBn$2(),r=safeBufferExports.Buffer;function d(g,_){return r.from(g.toRed(f.mont(_.modulus)).redPow(new f(_.publicExponent)).fromRed().toArray())}return withPublic_1=d,withPublic_1}var publicEncrypt,hasRequiredPublicEncrypt;function requirePublicEncrypt(){if(hasRequiredPublicEncrypt)return publicEncrypt;hasRequiredPublicEncrypt=1;var f=requireParseAsn1(),r=requireBrowser$b(),d=requireBrowser$9(),g=requireMgf(),_=requireXor(),v=requireBn$2(),y=requireWithPublic(),m=requireBrowserifyRsa(),w=safeBufferExports.Buffer;publicEncrypt=function(R,O,$){var I;R.padding?I=R.padding:$?I=1:I=4;var U=f(R),L;if(I===4)L=C(U,O);else if(I===1)L=b(U,O,$);else if(I===3){if(L=new v(O),L.cmp(U.modulus)>=0)throw new Error("data too long for modulus")}else throw new Error("unknown padding");return $?m(L,U):y(L,U)};function C(S,R){var O=S.modulus.byteLength(),$=R.length,I=d("sha1").update(w.alloc(0)).digest(),U=I.length,L=2*U;if($>O-L-2)throw new Error("message too long");var j=w.alloc(O-$-L-2),F=O-U-1,X=r(U),z=_(w.concat([I,j,w.alloc(1,1),R],F),g(X,F)),Y=_(X,g(z,U));return new v(w.concat([w.alloc(1),Y,z],O))}function b(S,R,O){var $=R.length,I=S.modulus.byteLength();if($>I-11)throw new Error("message too long");var U;return O?U=w.alloc(I-$-3,255):U=E(I-$-3),new v(w.concat([w.from([0,O?1:2]),U,w.alloc(1),R],I))}function E(S){for(var R=w.allocUnsafe(S),O=0,$=r(S*2),I=0,U;O<S;)I===$.length&&($=r(S*2),I=0),U=$[I++],U&&(R[O++]=U);return R}return publicEncrypt}var privateDecrypt,hasRequiredPrivateDecrypt;function requirePrivateDecrypt(){if(hasRequiredPrivateDecrypt)return privateDecrypt;hasRequiredPrivateDecrypt=1;var f=requireParseAsn1(),r=requireMgf(),d=requireXor(),g=requireBn$2(),_=requireBrowserifyRsa(),v=requireBrowser$9(),y=requireWithPublic(),m=safeBufferExports.Buffer;privateDecrypt=function(S,R,O){var $;S.padding?$=S.padding:O?$=1:$=4;var I=f(S),U=I.modulus.byteLength();if(R.length>U||new g(R).cmp(I.modulus)>=0)throw new Error("decryption error");var L;O?L=y(new g(R),I):L=_(R,I);var j=m.alloc(U-L.length);if(L=m.concat([j,L],U),$===4)return w(I,L);if($===1)return C(I,L,O);if($===3)return L;throw new Error("unknown padding")};function w(E,S){var R=E.modulus.byteLength(),O=v("sha1").update(m.alloc(0)).digest(),$=O.length;if(S[0]!==0)throw new Error("decryption error");var I=S.slice(1,$+1),U=S.slice($+1),L=d(I,r(U,$)),j=d(U,r(L,R-$-1));if(b(O,j.slice(0,$)))throw new Error("decryption error");for(var F=$;j[F]===0;)F++;if(j[F++]!==1)throw new Error("decryption error");return j.slice(F)}function C(E,S,R){for(var O=S.slice(0,2),$=2,I=0;S[$++]!==0;)if($>=S.length){I++;break}var U=S.slice(2,$-1);if((O.toString("hex")!=="0002"&&!R||O.toString("hex")!=="0001"&&R)&&I++,U.length<8&&I++,I)throw new Error("decryption error");return S.slice($)}function b(E,S){E=m.from(E),S=m.from(S);var R=0,O=E.length;E.length!==S.length&&(R++,O=Math.min(E.length,S.length));for(var $=-1;++$<O;)R+=E[$]^S[$];return R}return privateDecrypt}var hasRequiredBrowser$1;function requireBrowser$1(){return hasRequiredBrowser$1||(hasRequiredBrowser$1=1,function(f){f.publicEncrypt=requirePublicEncrypt(),f.privateDecrypt=requirePrivateDecrypt(),f.privateEncrypt=function(d,g){return f.publicEncrypt(d,g,!0)},f.publicDecrypt=function(d,g){return f.privateDecrypt(d,g,!0)}}(browser$2)),browser$2}var browser$1={},hasRequiredBrowser;function requireBrowser(){if(hasRequiredBrowser)return browser$1;hasRequiredBrowser=1;function f(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var r=safeBufferExports,d=requireBrowser$b(),g=r.Buffer,_=r.kMaxLength,v=commonjsGlobal.crypto||commonjsGlobal.msCrypto,y=Math.pow(2,32)-1;function m(S,R){if(typeof S!="number"||S!==S)throw new TypeError("offset must be a number");if(S>y||S<0)throw new TypeError("offset must be a uint32");if(S>_||S>R)throw new RangeError("offset out of range")}function w(S,R,O){if(typeof S!="number"||S!==S)throw new TypeError("size must be a number");if(S>y||S<0)throw new TypeError("size must be a uint32");if(S+R>O||S>_)throw new RangeError("buffer too small")}v&&v.getRandomValues||!process$1.browser?(browser$1.randomFill=C,browser$1.randomFillSync=E):(browser$1.randomFill=f,browser$1.randomFillSync=f);function C(S,R,O,$){if(!g.isBuffer(S)&&!(S instanceof commonjsGlobal.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof R=="function")$=R,R=0,O=S.length;else if(typeof O=="function")$=O,O=S.length-R;else if(typeof $!="function")throw new TypeError('"cb" argument must be a function');return m(R,S.length),w(O,R,S.length),b(S,R,O,$)}function b(S,R,O,$){if(process$1.browser){var I=S.buffer,U=new Uint8Array(I,R,O);if(v.getRandomValues(U),$){process$1.nextTick(function(){$(null,S)});return}return S}if($){d(O,function(j,F){if(j)return $(j);F.copy(S,R),$(null,S)});return}var L=d(O);return L.copy(S,R),S}function E(S,R,O){if(typeof R>"u"&&(R=0),!g.isBuffer(S)&&!(S instanceof commonjsGlobal.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return m(R,S.length),O===void 0&&(O=S.length-R),w(O,R,S.length),b(S,R,O)}return browser$1}var hasRequiredCryptoBrowserify;function requireCryptoBrowserify(){if(hasRequiredCryptoBrowserify)return cryptoBrowserify;hasRequiredCryptoBrowserify=1,cryptoBrowserify.randomBytes=cryptoBrowserify.rng=cryptoBrowserify.pseudoRandomBytes=cryptoBrowserify.prng=requireBrowser$b(),cryptoBrowserify.createHash=cryptoBrowserify.Hash=requireBrowser$9(),cryptoBrowserify.createHmac=cryptoBrowserify.Hmac=requireBrowser$8();var f=requireAlgos(),r=Object.keys(f),d=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(r);cryptoBrowserify.getHashes=function(){return d};var g=requireBrowser$7();cryptoBrowserify.pbkdf2=g.pbkdf2,cryptoBrowserify.pbkdf2Sync=g.pbkdf2Sync;var _=requireBrowser$5();cryptoBrowserify.Cipher=_.Cipher,cryptoBrowserify.createCipher=_.createCipher,cryptoBrowserify.Cipheriv=_.Cipheriv,cryptoBrowserify.createCipheriv=_.createCipheriv,cryptoBrowserify.Decipher=_.Decipher,cryptoBrowserify.createDecipher=_.createDecipher,cryptoBrowserify.Decipheriv=_.Decipheriv,cryptoBrowserify.createDecipheriv=_.createDecipheriv,cryptoBrowserify.getCiphers=_.getCiphers,cryptoBrowserify.listCiphers=_.listCiphers;var v=requireBrowser$4();cryptoBrowserify.DiffieHellmanGroup=v.DiffieHellmanGroup,cryptoBrowserify.createDiffieHellmanGroup=v.createDiffieHellmanGroup,cryptoBrowserify.getDiffieHellman=v.getDiffieHellman,cryptoBrowserify.createDiffieHellman=v.createDiffieHellman,cryptoBrowserify.DiffieHellman=v.DiffieHellman;var y=requireBrowser$3();cryptoBrowserify.createSign=y.createSign,cryptoBrowserify.Sign=y.Sign,cryptoBrowserify.createVerify=y.createVerify,cryptoBrowserify.Verify=y.Verify,cryptoBrowserify.createECDH=requireBrowser$2();var m=requireBrowser$1();cryptoBrowserify.publicEncrypt=m.publicEncrypt,cryptoBrowserify.privateEncrypt=m.privateEncrypt,cryptoBrowserify.publicDecrypt=m.publicDecrypt,cryptoBrowserify.privateDecrypt=m.privateDecrypt;var w=requireBrowser();return cryptoBrowserify.randomFill=w.randomFill,cryptoBrowserify.randomFillSync=w.randomFillSync,cryptoBrowserify.createCredentials=function(){throw new Error(`sorry, createCredentials is not implemented yet
we accept pull requests
https://github.com/browserify/crypto-browserify`)},cryptoBrowserify.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6},cryptoBrowserify}(function(f){(function(r){var d=function(ae){var le,he=new Float64Array(16);if(ae)for(le=0;le<ae.length;le++)he[le]=ae[le];return he},g=function(){throw new Error("no PRNG")},_=new Uint8Array(16),v=new Uint8Array(32);v[0]=9;var y=d(),m=d([1]),w=d([56129,1]),C=d([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),b=d([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),E=d([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),S=d([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),R=d([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function O(ae,le,he,V){ae[le]=he>>24&255,ae[le+1]=he>>16&255,ae[le+2]=he>>8&255,ae[le+3]=he&255,ae[le+4]=V>>24&255,ae[le+5]=V>>16&255,ae[le+6]=V>>8&255,ae[le+7]=V&255}function $(ae,le,he,V,pe){var Ae,$e=0;for(Ae=0;Ae<pe;Ae++)$e|=ae[le+Ae]^he[V+Ae];return(1&$e-1>>>8)-1}function I(ae,le,he,V){return $(ae,le,he,V,16)}function U(ae,le,he,V){return $(ae,le,he,V,32)}function L(ae,le,he,V){for(var pe=V[0]&255|(V[1]&255)<<8|(V[2]&255)<<16|(V[3]&255)<<24,Ae=he[0]&255|(he[1]&255)<<8|(he[2]&255)<<16|(he[3]&255)<<24,$e=he[4]&255|(he[5]&255)<<8|(he[6]&255)<<16|(he[7]&255)<<24,Be=he[8]&255|(he[9]&255)<<8|(he[10]&255)<<16|(he[11]&255)<<24,Ge=he[12]&255|(he[13]&255)<<8|(he[14]&255)<<16|(he[15]&255)<<24,Ze=V[4]&255|(V[5]&255)<<8|(V[6]&255)<<16|(V[7]&255)<<24,He=le[0]&255|(le[1]&255)<<8|(le[2]&255)<<16|(le[3]&255)<<24,qt=le[4]&255|(le[5]&255)<<8|(le[6]&255)<<16|(le[7]&255)<<24,pt=le[8]&255|(le[9]&255)<<8|(le[10]&255)<<16|(le[11]&255)<<24,Ot=le[12]&255|(le[13]&255)<<8|(le[14]&255)<<16|(le[15]&255)<<24,$t=V[8]&255|(V[9]&255)<<8|(V[10]&255)<<16|(V[11]&255)<<24,Tt=he[16]&255|(he[17]&255)<<8|(he[18]&255)<<16|(he[19]&255)<<24,Mt=he[20]&255|(he[21]&255)<<8|(he[22]&255)<<16|(he[23]&255)<<24,Rt=he[24]&255|(he[25]&255)<<8|(he[26]&255)<<16|(he[27]&255)<<24,St=he[28]&255|(he[29]&255)<<8|(he[30]&255)<<16|(he[31]&255)<<24,Dt=V[12]&255|(V[13]&255)<<8|(V[14]&255)<<16|(V[15]&255)<<24,lt=pe,yt=Ae,ct=$e,vt=Be,gt=Ge,ft=Ze,ke=He,Ue=qt,Ye=pt,fe=Ot,ye=$t,ge=Tt,Ce=Mt,Oe=Rt,Ee=St,Pe=Dt,me,je=0;je<20;je+=2)me=lt+Ce|0,gt^=me<<7|me>>>25,me=gt+lt|0,Ye^=me<<9|me>>>23,me=Ye+gt|0,Ce^=me<<13|me>>>19,me=Ce+Ye|0,lt^=me<<18|me>>>14,me=ft+yt|0,fe^=me<<7|me>>>25,me=fe+ft|0,Oe^=me<<9|me>>>23,me=Oe+fe|0,yt^=me<<13|me>>>19,me=yt+Oe|0,ft^=me<<18|me>>>14,me=ye+ke|0,Ee^=me<<7|me>>>25,me=Ee+ye|0,ct^=me<<9|me>>>23,me=ct+Ee|0,ke^=me<<13|me>>>19,me=ke+ct|0,ye^=me<<18|me>>>14,me=Pe+ge|0,vt^=me<<7|me>>>25,me=vt+Pe|0,Ue^=me<<9|me>>>23,me=Ue+vt|0,ge^=me<<13|me>>>19,me=ge+Ue|0,Pe^=me<<18|me>>>14,me=lt+vt|0,yt^=me<<7|me>>>25,me=yt+lt|0,ct^=me<<9|me>>>23,me=ct+yt|0,vt^=me<<13|me>>>19,me=vt+ct|0,lt^=me<<18|me>>>14,me=ft+gt|0,ke^=me<<7|me>>>25,me=ke+ft|0,Ue^=me<<9|me>>>23,me=Ue+ke|0,gt^=me<<13|me>>>19,me=gt+Ue|0,ft^=me<<18|me>>>14,me=ye+fe|0,ge^=me<<7|me>>>25,me=ge+ye|0,Ye^=me<<9|me>>>23,me=Ye+ge|0,fe^=me<<13|me>>>19,me=fe+Ye|0,ye^=me<<18|me>>>14,me=Pe+Ee|0,Ce^=me<<7|me>>>25,me=Ce+Pe|0,Oe^=me<<9|me>>>23,me=Oe+Ce|0,Ee^=me<<13|me>>>19,me=Ee+Oe|0,Pe^=me<<18|me>>>14;lt=lt+pe|0,yt=yt+Ae|0,ct=ct+$e|0,vt=vt+Be|0,gt=gt+Ge|0,ft=ft+Ze|0,ke=ke+He|0,Ue=Ue+qt|0,Ye=Ye+pt|0,fe=fe+Ot|0,ye=ye+$t|0,ge=ge+Tt|0,Ce=Ce+Mt|0,Oe=Oe+Rt|0,Ee=Ee+St|0,Pe=Pe+Dt|0,ae[0]=lt>>>0&255,ae[1]=lt>>>8&255,ae[2]=lt>>>16&255,ae[3]=lt>>>24&255,ae[4]=yt>>>0&255,ae[5]=yt>>>8&255,ae[6]=yt>>>16&255,ae[7]=yt>>>24&255,ae[8]=ct>>>0&255,ae[9]=ct>>>8&255,ae[10]=ct>>>16&255,ae[11]=ct>>>24&255,ae[12]=vt>>>0&255,ae[13]=vt>>>8&255,ae[14]=vt>>>16&255,ae[15]=vt>>>24&255,ae[16]=gt>>>0&255,ae[17]=gt>>>8&255,ae[18]=gt>>>16&255,ae[19]=gt>>>24&255,ae[20]=ft>>>0&255,ae[21]=ft>>>8&255,ae[22]=ft>>>16&255,ae[23]=ft>>>24&255,ae[24]=ke>>>0&255,ae[25]=ke>>>8&255,ae[26]=ke>>>16&255,ae[27]=ke>>>24&255,ae[28]=Ue>>>0&255,ae[29]=Ue>>>8&255,ae[30]=Ue>>>16&255,ae[31]=Ue>>>24&255,ae[32]=Ye>>>0&255,ae[33]=Ye>>>8&255,ae[34]=Ye>>>16&255,ae[35]=Ye>>>24&255,ae[36]=fe>>>0&255,ae[37]=fe>>>8&255,ae[38]=fe>>>16&255,ae[39]=fe>>>24&255,ae[40]=ye>>>0&255,ae[41]=ye>>>8&255,ae[42]=ye>>>16&255,ae[43]=ye>>>24&255,ae[44]=ge>>>0&255,ae[45]=ge>>>8&255,ae[46]=ge>>>16&255,ae[47]=ge>>>24&255,ae[48]=Ce>>>0&255,ae[49]=Ce>>>8&255,ae[50]=Ce>>>16&255,ae[51]=Ce>>>24&255,ae[52]=Oe>>>0&255,ae[53]=Oe>>>8&255,ae[54]=Oe>>>16&255,ae[55]=Oe>>>24&255,ae[56]=Ee>>>0&255,ae[57]=Ee>>>8&255,ae[58]=Ee>>>16&255,ae[59]=Ee>>>24&255,ae[60]=Pe>>>0&255,ae[61]=Pe>>>8&255,ae[62]=Pe>>>16&255,ae[63]=Pe>>>24&255}function j(ae,le,he,V){for(var pe=V[0]&255|(V[1]&255)<<8|(V[2]&255)<<16|(V[3]&255)<<24,Ae=he[0]&255|(he[1]&255)<<8|(he[2]&255)<<16|(he[3]&255)<<24,$e=he[4]&255|(he[5]&255)<<8|(he[6]&255)<<16|(he[7]&255)<<24,Be=he[8]&255|(he[9]&255)<<8|(he[10]&255)<<16|(he[11]&255)<<24,Ge=he[12]&255|(he[13]&255)<<8|(he[14]&255)<<16|(he[15]&255)<<24,Ze=V[4]&255|(V[5]&255)<<8|(V[6]&255)<<16|(V[7]&255)<<24,He=le[0]&255|(le[1]&255)<<8|(le[2]&255)<<16|(le[3]&255)<<24,qt=le[4]&255|(le[5]&255)<<8|(le[6]&255)<<16|(le[7]&255)<<24,pt=le[8]&255|(le[9]&255)<<8|(le[10]&255)<<16|(le[11]&255)<<24,Ot=le[12]&255|(le[13]&255)<<8|(le[14]&255)<<16|(le[15]&255)<<24,$t=V[8]&255|(V[9]&255)<<8|(V[10]&255)<<16|(V[11]&255)<<24,Tt=he[16]&255|(he[17]&255)<<8|(he[18]&255)<<16|(he[19]&255)<<24,Mt=he[20]&255|(he[21]&255)<<8|(he[22]&255)<<16|(he[23]&255)<<24,Rt=he[24]&255|(he[25]&255)<<8|(he[26]&255)<<16|(he[27]&255)<<24,St=he[28]&255|(he[29]&255)<<8|(he[30]&255)<<16|(he[31]&255)<<24,Dt=V[12]&255|(V[13]&255)<<8|(V[14]&255)<<16|(V[15]&255)<<24,lt=pe,yt=Ae,ct=$e,vt=Be,gt=Ge,ft=Ze,ke=He,Ue=qt,Ye=pt,fe=Ot,ye=$t,ge=Tt,Ce=Mt,Oe=Rt,Ee=St,Pe=Dt,me,je=0;je<20;je+=2)me=lt+Ce|0,gt^=me<<7|me>>>25,me=gt+lt|0,Ye^=me<<9|me>>>23,me=Ye+gt|0,Ce^=me<<13|me>>>19,me=Ce+Ye|0,lt^=me<<18|me>>>14,me=ft+yt|0,fe^=me<<7|me>>>25,me=fe+ft|0,Oe^=me<<9|me>>>23,me=Oe+fe|0,yt^=me<<13|me>>>19,me=yt+Oe|0,ft^=me<<18|me>>>14,me=ye+ke|0,Ee^=me<<7|me>>>25,me=Ee+ye|0,ct^=me<<9|me>>>23,me=ct+Ee|0,ke^=me<<13|me>>>19,me=ke+ct|0,ye^=me<<18|me>>>14,me=Pe+ge|0,vt^=me<<7|me>>>25,me=vt+Pe|0,Ue^=me<<9|me>>>23,me=Ue+vt|0,ge^=me<<13|me>>>19,me=ge+Ue|0,Pe^=me<<18|me>>>14,me=lt+vt|0,yt^=me<<7|me>>>25,me=yt+lt|0,ct^=me<<9|me>>>23,me=ct+yt|0,vt^=me<<13|me>>>19,me=vt+ct|0,lt^=me<<18|me>>>14,me=ft+gt|0,ke^=me<<7|me>>>25,me=ke+ft|0,Ue^=me<<9|me>>>23,me=Ue+ke|0,gt^=me<<13|me>>>19,me=gt+Ue|0,ft^=me<<18|me>>>14,me=ye+fe|0,ge^=me<<7|me>>>25,me=ge+ye|0,Ye^=me<<9|me>>>23,me=Ye+ge|0,fe^=me<<13|me>>>19,me=fe+Ye|0,ye^=me<<18|me>>>14,me=Pe+Ee|0,Ce^=me<<7|me>>>25,me=Ce+Pe|0,Oe^=me<<9|me>>>23,me=Oe+Ce|0,Ee^=me<<13|me>>>19,me=Ee+Oe|0,Pe^=me<<18|me>>>14;ae[0]=lt>>>0&255,ae[1]=lt>>>8&255,ae[2]=lt>>>16&255,ae[3]=lt>>>24&255,ae[4]=ft>>>0&255,ae[5]=ft>>>8&255,ae[6]=ft>>>16&255,ae[7]=ft>>>24&255,ae[8]=ye>>>0&255,ae[9]=ye>>>8&255,ae[10]=ye>>>16&255,ae[11]=ye>>>24&255,ae[12]=Pe>>>0&255,ae[13]=Pe>>>8&255,ae[14]=Pe>>>16&255,ae[15]=Pe>>>24&255,ae[16]=ke>>>0&255,ae[17]=ke>>>8&255,ae[18]=ke>>>16&255,ae[19]=ke>>>24&255,ae[20]=Ue>>>0&255,ae[21]=Ue>>>8&255,ae[22]=Ue>>>16&255,ae[23]=Ue>>>24&255,ae[24]=Ye>>>0&255,ae[25]=Ye>>>8&255,ae[26]=Ye>>>16&255,ae[27]=Ye>>>24&255,ae[28]=fe>>>0&255,ae[29]=fe>>>8&255,ae[30]=fe>>>16&255,ae[31]=fe>>>24&255}function F(ae,le,he,V){L(ae,le,he,V)}function X(ae,le,he,V){j(ae,le,he,V)}var z=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function Y(ae,le,he,V,pe,Ae,$e){var Be=new Uint8Array(16),Ge=new Uint8Array(64),Ze,He;for(He=0;He<16;He++)Be[He]=0;for(He=0;He<8;He++)Be[He]=Ae[He];for(;pe>=64;){for(F(Ge,Be,$e,z),He=0;He<64;He++)ae[le+He]=he[V+He]^Ge[He];for(Ze=1,He=8;He<16;He++)Ze=Ze+(Be[He]&255)|0,Be[He]=Ze&255,Ze>>>=8;pe-=64,le+=64,V+=64}if(pe>0)for(F(Ge,Be,$e,z),He=0;He<pe;He++)ae[le+He]=he[V+He]^Ge[He];return 0}function ne(ae,le,he,V,pe){var Ae=new Uint8Array(16),$e=new Uint8Array(64),Be,Ge;for(Ge=0;Ge<16;Ge++)Ae[Ge]=0;for(Ge=0;Ge<8;Ge++)Ae[Ge]=V[Ge];for(;he>=64;){for(F($e,Ae,pe,z),Ge=0;Ge<64;Ge++)ae[le+Ge]=$e[Ge];for(Be=1,Ge=8;Ge<16;Ge++)Be=Be+(Ae[Ge]&255)|0,Ae[Ge]=Be&255,Be>>>=8;he-=64,le+=64}if(he>0)for(F($e,Ae,pe,z),Ge=0;Ge<he;Ge++)ae[le+Ge]=$e[Ge];return 0}function re(ae,le,he,V,pe){var Ae=new Uint8Array(32);X(Ae,V,pe,z);for(var $e=new Uint8Array(8),Be=0;Be<8;Be++)$e[Be]=V[Be+16];return ne(ae,le,he,$e,Ae)}function se(ae,le,he,V,pe,Ae,$e){var Be=new Uint8Array(32);X(Be,Ae,$e,z);for(var Ge=new Uint8Array(8),Ze=0;Ze<8;Ze++)Ge[Ze]=Ae[Ze+16];return Y(ae,le,he,V,pe,Ge,Be)}var G=function(ae){this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0;var le,he,V,pe,Ae,$e,Be,Ge;le=ae[0]&255|(ae[1]&255)<<8,this.r[0]=le&8191,he=ae[2]&255|(ae[3]&255)<<8,this.r[1]=(le>>>13|he<<3)&8191,V=ae[4]&255|(ae[5]&255)<<8,this.r[2]=(he>>>10|V<<6)&7939,pe=ae[6]&255|(ae[7]&255)<<8,this.r[3]=(V>>>7|pe<<9)&8191,Ae=ae[8]&255|(ae[9]&255)<<8,this.r[4]=(pe>>>4|Ae<<12)&255,this.r[5]=Ae>>>1&8190,$e=ae[10]&255|(ae[11]&255)<<8,this.r[6]=(Ae>>>14|$e<<2)&8191,Be=ae[12]&255|(ae[13]&255)<<8,this.r[7]=($e>>>11|Be<<5)&8065,Ge=ae[14]&255|(ae[15]&255)<<8,this.r[8]=(Be>>>8|Ge<<8)&8191,this.r[9]=Ge>>>5&127,this.pad[0]=ae[16]&255|(ae[17]&255)<<8,this.pad[1]=ae[18]&255|(ae[19]&255)<<8,this.pad[2]=ae[20]&255|(ae[21]&255)<<8,this.pad[3]=ae[22]&255|(ae[23]&255)<<8,this.pad[4]=ae[24]&255|(ae[25]&255)<<8,this.pad[5]=ae[26]&255|(ae[27]&255)<<8,this.pad[6]=ae[28]&255|(ae[29]&255)<<8,this.pad[7]=ae[30]&255|(ae[31]&255)<<8};G.prototype.blocks=function(ae,le,he){for(var V=this.fin?0:2048,pe,Ae,$e,Be,Ge,Ze,He,qt,pt,Ot,$t,Tt,Mt,Rt,St,Dt,lt,yt,ct,vt=this.h[0],gt=this.h[1],ft=this.h[2],ke=this.h[3],Ue=this.h[4],Ye=this.h[5],fe=this.h[6],ye=this.h[7],ge=this.h[8],Ce=this.h[9],Oe=this.r[0],Ee=this.r[1],Pe=this.r[2],me=this.r[3],je=this.r[4],Xe=this.r[5],ze=this.r[6],tt=this.r[7],mt=this.r[8],Et=this.r[9];he>=16;)pe=ae[le+0]&255|(ae[le+1]&255)<<8,vt+=pe&8191,Ae=ae[le+2]&255|(ae[le+3]&255)<<8,gt+=(pe>>>13|Ae<<3)&8191,$e=ae[le+4]&255|(ae[le+5]&255)<<8,ft+=(Ae>>>10|$e<<6)&8191,Be=ae[le+6]&255|(ae[le+7]&255)<<8,ke+=($e>>>7|Be<<9)&8191,Ge=ae[le+8]&255|(ae[le+9]&255)<<8,Ue+=(Be>>>4|Ge<<12)&8191,Ye+=Ge>>>1&8191,Ze=ae[le+10]&255|(ae[le+11]&255)<<8,fe+=(Ge>>>14|Ze<<2)&8191,He=ae[le+12]&255|(ae[le+13]&255)<<8,ye+=(Ze>>>11|He<<5)&8191,qt=ae[le+14]&255|(ae[le+15]&255)<<8,ge+=(He>>>8|qt<<8)&8191,Ce+=qt>>>5|V,pt=0,Ot=pt,Ot+=vt*Oe,Ot+=gt*(5*Et),Ot+=ft*(5*mt),Ot+=ke*(5*tt),Ot+=Ue*(5*ze),pt=Ot>>>13,Ot&=8191,Ot+=Ye*(5*Xe),Ot+=fe*(5*je),Ot+=ye*(5*me),Ot+=ge*(5*Pe),Ot+=Ce*(5*Ee),pt+=Ot>>>13,Ot&=8191,$t=pt,$t+=vt*Ee,$t+=gt*Oe,$t+=ft*(5*Et),$t+=ke*(5*mt),$t+=Ue*(5*tt),pt=$t>>>13,$t&=8191,$t+=Ye*(5*ze),$t+=fe*(5*Xe),$t+=ye*(5*je),$t+=ge*(5*me),$t+=Ce*(5*Pe),pt+=$t>>>13,$t&=8191,Tt=pt,Tt+=vt*Pe,Tt+=gt*Ee,Tt+=ft*Oe,Tt+=ke*(5*Et),Tt+=Ue*(5*mt),pt=Tt>>>13,Tt&=8191,Tt+=Ye*(5*tt),Tt+=fe*(5*ze),Tt+=ye*(5*Xe),Tt+=ge*(5*je),Tt+=Ce*(5*me),pt+=Tt>>>13,Tt&=8191,Mt=pt,Mt+=vt*me,Mt+=gt*Pe,Mt+=ft*Ee,Mt+=ke*Oe,Mt+=Ue*(5*Et),pt=Mt>>>13,Mt&=8191,Mt+=Ye*(5*mt),Mt+=fe*(5*tt),Mt+=ye*(5*ze),Mt+=ge*(5*Xe),Mt+=Ce*(5*je),pt+=Mt>>>13,Mt&=8191,Rt=pt,Rt+=vt*je,Rt+=gt*me,Rt+=ft*Pe,Rt+=ke*Ee,Rt+=Ue*Oe,pt=Rt>>>13,Rt&=8191,Rt+=Ye*(5*Et),Rt+=fe*(5*mt),Rt+=ye*(5*tt),Rt+=ge*(5*ze),Rt+=Ce*(5*Xe),pt+=Rt>>>13,Rt&=8191,St=pt,St+=vt*Xe,St+=gt*je,St+=ft*me,St+=ke*Pe,St+=Ue*Ee,pt=St>>>13,St&=8191,St+=Ye*Oe,St+=fe*(5*Et),St+=ye*(5*mt),St+=ge*(5*tt),St+=Ce*(5*ze),pt+=St>>>13,St&=8191,Dt=pt,Dt+=vt*ze,Dt+=gt*Xe,Dt+=ft*je,Dt+=ke*me,Dt+=Ue*Pe,pt=Dt>>>13,Dt&=8191,Dt+=Ye*Ee,Dt+=fe*Oe,Dt+=ye*(5*Et),Dt+=ge*(5*mt),Dt+=Ce*(5*tt),pt+=Dt>>>13,Dt&=8191,lt=pt,lt+=vt*tt,lt+=gt*ze,lt+=ft*Xe,lt+=ke*je,lt+=Ue*me,pt=lt>>>13,lt&=8191,lt+=Ye*Pe,lt+=fe*Ee,lt+=ye*Oe,lt+=ge*(5*Et),lt+=Ce*(5*mt),pt+=lt>>>13,lt&=8191,yt=pt,yt+=vt*mt,yt+=gt*tt,yt+=ft*ze,yt+=ke*Xe,yt+=Ue*je,pt=yt>>>13,yt&=8191,yt+=Ye*me,yt+=fe*Pe,yt+=ye*Ee,yt+=ge*Oe,yt+=Ce*(5*Et),pt+=yt>>>13,yt&=8191,ct=pt,ct+=vt*Et,ct+=gt*mt,ct+=ft*tt,ct+=ke*ze,ct+=Ue*Xe,pt=ct>>>13,ct&=8191,ct+=Ye*je,ct+=fe*me,ct+=ye*Pe,ct+=ge*Ee,ct+=Ce*Oe,pt+=ct>>>13,ct&=8191,pt=(pt<<2)+pt|0,pt=pt+Ot|0,Ot=pt&8191,pt=pt>>>13,$t+=pt,vt=Ot,gt=$t,ft=Tt,ke=Mt,Ue=Rt,Ye=St,fe=Dt,ye=lt,ge=yt,Ce=ct,le+=16,he-=16;this.h[0]=vt,this.h[1]=gt,this.h[2]=ft,this.h[3]=ke,this.h[4]=Ue,this.h[5]=Ye,this.h[6]=fe,this.h[7]=ye,this.h[8]=ge,this.h[9]=Ce},G.prototype.finish=function(ae,le){var he=new Uint16Array(10),V,pe,Ae,$e;if(this.leftover){for($e=this.leftover,this.buffer[$e++]=1;$e<16;$e++)this.buffer[$e]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(V=this.h[1]>>>13,this.h[1]&=8191,$e=2;$e<10;$e++)this.h[$e]+=V,V=this.h[$e]>>>13,this.h[$e]&=8191;for(this.h[0]+=V*5,V=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=V,V=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=V,he[0]=this.h[0]+5,V=he[0]>>>13,he[0]&=8191,$e=1;$e<10;$e++)he[$e]=this.h[$e]+V,V=he[$e]>>>13,he[$e]&=8191;for(he[9]-=8192,pe=(V^1)-1,$e=0;$e<10;$e++)he[$e]&=pe;for(pe=~pe,$e=0;$e<10;$e++)this.h[$e]=this.h[$e]&pe|he[$e];for(this.h[0]=(this.h[0]|this.h[1]<<13)&65535,this.h[1]=(this.h[1]>>>3|this.h[2]<<10)&65535,this.h[2]=(this.h[2]>>>6|this.h[3]<<7)&65535,this.h[3]=(this.h[3]>>>9|this.h[4]<<4)&65535,this.h[4]=(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14)&65535,this.h[5]=(this.h[6]>>>2|this.h[7]<<11)&65535,this.h[6]=(this.h[7]>>>5|this.h[8]<<8)&65535,this.h[7]=(this.h[8]>>>8|this.h[9]<<5)&65535,Ae=this.h[0]+this.pad[0],this.h[0]=Ae&65535,$e=1;$e<8;$e++)Ae=(this.h[$e]+this.pad[$e]|0)+(Ae>>>16)|0,this.h[$e]=Ae&65535;ae[le+0]=this.h[0]>>>0&255,ae[le+1]=this.h[0]>>>8&255,ae[le+2]=this.h[1]>>>0&255,ae[le+3]=this.h[1]>>>8&255,ae[le+4]=this.h[2]>>>0&255,ae[le+5]=this.h[2]>>>8&255,ae[le+6]=this.h[3]>>>0&255,ae[le+7]=this.h[3]>>>8&255,ae[le+8]=this.h[4]>>>0&255,ae[le+9]=this.h[4]>>>8&255,ae[le+10]=this.h[5]>>>0&255,ae[le+11]=this.h[5]>>>8&255,ae[le+12]=this.h[6]>>>0&255,ae[le+13]=this.h[6]>>>8&255,ae[le+14]=this.h[7]>>>0&255,ae[le+15]=this.h[7]>>>8&255},G.prototype.update=function(ae,le,he){var V,pe;if(this.leftover){for(pe=16-this.leftover,pe>he&&(pe=he),V=0;V<pe;V++)this.buffer[this.leftover+V]=ae[le+V];if(he-=pe,le+=pe,this.leftover+=pe,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(he>=16&&(pe=he-he%16,this.blocks(ae,le,pe),le+=pe,he-=pe),he){for(V=0;V<he;V++)this.buffer[this.leftover+V]=ae[le+V];this.leftover+=he}};function T(ae,le,he,V,pe,Ae){var $e=new G(Ae);return $e.update(he,V,pe),$e.finish(ae,le),0}function D(ae,le,he,V,pe,Ae){var $e=new Uint8Array(16);return T($e,0,he,V,pe,Ae),I(ae,le,$e,0)}function x(ae,le,he,V,pe){var Ae;if(he<32)return-1;for(se(ae,0,le,0,he,V,pe),T(ae,16,ae,32,he-32,ae),Ae=0;Ae<16;Ae++)ae[Ae]=0;return 0}function A(ae,le,he,V,pe){var Ae,$e=new Uint8Array(32);if(he<32||(re($e,0,32,V,pe),D(le,16,le,32,he-32,$e)!==0))return-1;for(se(ae,0,le,0,he,V,pe),Ae=0;Ae<32;Ae++)ae[Ae]=0;return 0}function B(ae,le){var he;for(he=0;he<16;he++)ae[he]=le[he]|0}function N(ae){var le,he,V=1;for(le=0;le<16;le++)he=ae[le]+V+65535,V=Math.floor(he/65536),ae[le]=he-V*65536;ae[0]+=V-1+37*(V-1)}function q(ae,le,he){for(var V,pe=~(he-1),Ae=0;Ae<16;Ae++)V=pe&(ae[Ae]^le[Ae]),ae[Ae]^=V,le[Ae]^=V}function K(ae,le){var he,V,pe,Ae=d(),$e=d();for(he=0;he<16;he++)$e[he]=le[he];for(N($e),N($e),N($e),V=0;V<2;V++){for(Ae[0]=$e[0]-65517,he=1;he<15;he++)Ae[he]=$e[he]-65535-(Ae[he-1]>>16&1),Ae[he-1]&=65535;Ae[15]=$e[15]-32767-(Ae[14]>>16&1),pe=Ae[15]>>16&1,Ae[14]&=65535,q($e,Ae,1-pe)}for(he=0;he<16;he++)ae[2*he]=$e[he]&255,ae[2*he+1]=$e[he]>>8}function P(ae,le){var he=new Uint8Array(32),V=new Uint8Array(32);return K(he,ae),K(V,le),U(he,0,V,0)}function k(ae){var le=new Uint8Array(32);return K(le,ae),le[0]&1}function M(ae,le){var he;for(he=0;he<16;he++)ae[he]=le[2*he]+(le[2*he+1]<<8);ae[15]&=32767}function W(ae,le,he){for(var V=0;V<16;V++)ae[V]=le[V]+he[V]}function ce(ae,le,he){for(var V=0;V<16;V++)ae[V]=le[V]-he[V]}function be(ae,le,he){var V,pe,Ae=0,$e=0,Be=0,Ge=0,Ze=0,He=0,qt=0,pt=0,Ot=0,$t=0,Tt=0,Mt=0,Rt=0,St=0,Dt=0,lt=0,yt=0,ct=0,vt=0,gt=0,ft=0,ke=0,Ue=0,Ye=0,fe=0,ye=0,ge=0,Ce=0,Oe=0,Ee=0,Pe=0,me=he[0],je=he[1],Xe=he[2],ze=he[3],tt=he[4],mt=he[5],Et=he[6],Pt=he[7],kt=he[8],Ut=he[9],Lt=he[10],Kt=he[11],Ft=he[12],Wt=he[13],jt=he[14],Xt=he[15];V=le[0],Ae+=V*me,$e+=V*je,Be+=V*Xe,Ge+=V*ze,Ze+=V*tt,He+=V*mt,qt+=V*Et,pt+=V*Pt,Ot+=V*kt,$t+=V*Ut,Tt+=V*Lt,Mt+=V*Kt,Rt+=V*Ft,St+=V*Wt,Dt+=V*jt,lt+=V*Xt,V=le[1],$e+=V*me,Be+=V*je,Ge+=V*Xe,Ze+=V*ze,He+=V*tt,qt+=V*mt,pt+=V*Et,Ot+=V*Pt,$t+=V*kt,Tt+=V*Ut,Mt+=V*Lt,Rt+=V*Kt,St+=V*Ft,Dt+=V*Wt,lt+=V*jt,yt+=V*Xt,V=le[2],Be+=V*me,Ge+=V*je,Ze+=V*Xe,He+=V*ze,qt+=V*tt,pt+=V*mt,Ot+=V*Et,$t+=V*Pt,Tt+=V*kt,Mt+=V*Ut,Rt+=V*Lt,St+=V*Kt,Dt+=V*Ft,lt+=V*Wt,yt+=V*jt,ct+=V*Xt,V=le[3],Ge+=V*me,Ze+=V*je,He+=V*Xe,qt+=V*ze,pt+=V*tt,Ot+=V*mt,$t+=V*Et,Tt+=V*Pt,Mt+=V*kt,Rt+=V*Ut,St+=V*Lt,Dt+=V*Kt,lt+=V*Ft,yt+=V*Wt,ct+=V*jt,vt+=V*Xt,V=le[4],Ze+=V*me,He+=V*je,qt+=V*Xe,pt+=V*ze,Ot+=V*tt,$t+=V*mt,Tt+=V*Et,Mt+=V*Pt,Rt+=V*kt,St+=V*Ut,Dt+=V*Lt,lt+=V*Kt,yt+=V*Ft,ct+=V*Wt,vt+=V*jt,gt+=V*Xt,V=le[5],He+=V*me,qt+=V*je,pt+=V*Xe,Ot+=V*ze,$t+=V*tt,Tt+=V*mt,Mt+=V*Et,Rt+=V*Pt,St+=V*kt,Dt+=V*Ut,lt+=V*Lt,yt+=V*Kt,ct+=V*Ft,vt+=V*Wt,gt+=V*jt,ft+=V*Xt,V=le[6],qt+=V*me,pt+=V*je,Ot+=V*Xe,$t+=V*ze,Tt+=V*tt,Mt+=V*mt,Rt+=V*Et,St+=V*Pt,Dt+=V*kt,lt+=V*Ut,yt+=V*Lt,ct+=V*Kt,vt+=V*Ft,gt+=V*Wt,ft+=V*jt,ke+=V*Xt,V=le[7],pt+=V*me,Ot+=V*je,$t+=V*Xe,Tt+=V*ze,Mt+=V*tt,Rt+=V*mt,St+=V*Et,Dt+=V*Pt,lt+=V*kt,yt+=V*Ut,ct+=V*Lt,vt+=V*Kt,gt+=V*Ft,ft+=V*Wt,ke+=V*jt,Ue+=V*Xt,V=le[8],Ot+=V*me,$t+=V*je,Tt+=V*Xe,Mt+=V*ze,Rt+=V*tt,St+=V*mt,Dt+=V*Et,lt+=V*Pt,yt+=V*kt,ct+=V*Ut,vt+=V*Lt,gt+=V*Kt,ft+=V*Ft,ke+=V*Wt,Ue+=V*jt,Ye+=V*Xt,V=le[9],$t+=V*me,Tt+=V*je,Mt+=V*Xe,Rt+=V*ze,St+=V*tt,Dt+=V*mt,lt+=V*Et,yt+=V*Pt,ct+=V*kt,vt+=V*Ut,gt+=V*Lt,ft+=V*Kt,ke+=V*Ft,Ue+=V*Wt,Ye+=V*jt,fe+=V*Xt,V=le[10],Tt+=V*me,Mt+=V*je,Rt+=V*Xe,St+=V*ze,Dt+=V*tt,lt+=V*mt,yt+=V*Et,ct+=V*Pt,vt+=V*kt,gt+=V*Ut,ft+=V*Lt,ke+=V*Kt,Ue+=V*Ft,Ye+=V*Wt,fe+=V*jt,ye+=V*Xt,V=le[11],Mt+=V*me,Rt+=V*je,St+=V*Xe,Dt+=V*ze,lt+=V*tt,yt+=V*mt,ct+=V*Et,vt+=V*Pt,gt+=V*kt,ft+=V*Ut,ke+=V*Lt,Ue+=V*Kt,Ye+=V*Ft,fe+=V*Wt,ye+=V*jt,ge+=V*Xt,V=le[12],Rt+=V*me,St+=V*je,Dt+=V*Xe,lt+=V*ze,yt+=V*tt,ct+=V*mt,vt+=V*Et,gt+=V*Pt,ft+=V*kt,ke+=V*Ut,Ue+=V*Lt,Ye+=V*Kt,fe+=V*Ft,ye+=V*Wt,ge+=V*jt,Ce+=V*Xt,V=le[13],St+=V*me,Dt+=V*je,lt+=V*Xe,yt+=V*ze,ct+=V*tt,vt+=V*mt,gt+=V*Et,ft+=V*Pt,ke+=V*kt,Ue+=V*Ut,Ye+=V*Lt,fe+=V*Kt,ye+=V*Ft,ge+=V*Wt,Ce+=V*jt,Oe+=V*Xt,V=le[14],Dt+=V*me,lt+=V*je,yt+=V*Xe,ct+=V*ze,vt+=V*tt,gt+=V*mt,ft+=V*Et,ke+=V*Pt,Ue+=V*kt,Ye+=V*Ut,fe+=V*Lt,ye+=V*Kt,ge+=V*Ft,Ce+=V*Wt,Oe+=V*jt,Ee+=V*Xt,V=le[15],lt+=V*me,yt+=V*je,ct+=V*Xe,vt+=V*ze,gt+=V*tt,ft+=V*mt,ke+=V*Et,Ue+=V*Pt,Ye+=V*kt,fe+=V*Ut,ye+=V*Lt,ge+=V*Kt,Ce+=V*Ft,Oe+=V*Wt,Ee+=V*jt,Pe+=V*Xt,Ae+=38*yt,$e+=38*ct,Be+=38*vt,Ge+=38*gt,Ze+=38*ft,He+=38*ke,qt+=38*Ue,pt+=38*Ye,Ot+=38*fe,$t+=38*ye,Tt+=38*ge,Mt+=38*Ce,Rt+=38*Oe,St+=38*Ee,Dt+=38*Pe,pe=1,V=Ae+pe+65535,pe=Math.floor(V/65536),Ae=V-pe*65536,V=$e+pe+65535,pe=Math.floor(V/65536),$e=V-pe*65536,V=Be+pe+65535,pe=Math.floor(V/65536),Be=V-pe*65536,V=Ge+pe+65535,pe=Math.floor(V/65536),Ge=V-pe*65536,V=Ze+pe+65535,pe=Math.floor(V/65536),Ze=V-pe*65536,V=He+pe+65535,pe=Math.floor(V/65536),He=V-pe*65536,V=qt+pe+65535,pe=Math.floor(V/65536),qt=V-pe*65536,V=pt+pe+65535,pe=Math.floor(V/65536),pt=V-pe*65536,V=Ot+pe+65535,pe=Math.floor(V/65536),Ot=V-pe*65536,V=$t+pe+65535,pe=Math.floor(V/65536),$t=V-pe*65536,V=Tt+pe+65535,pe=Math.floor(V/65536),Tt=V-pe*65536,V=Mt+pe+65535,pe=Math.floor(V/65536),Mt=V-pe*65536,V=Rt+pe+65535,pe=Math.floor(V/65536),Rt=V-pe*65536,V=St+pe+65535,pe=Math.floor(V/65536),St=V-pe*65536,V=Dt+pe+65535,pe=Math.floor(V/65536),Dt=V-pe*65536,V=lt+pe+65535,pe=Math.floor(V/65536),lt=V-pe*65536,Ae+=pe-1+37*(pe-1),pe=1,V=Ae+pe+65535,pe=Math.floor(V/65536),Ae=V-pe*65536,V=$e+pe+65535,pe=Math.floor(V/65536),$e=V-pe*65536,V=Be+pe+65535,pe=Math.floor(V/65536),Be=V-pe*65536,V=Ge+pe+65535,pe=Math.floor(V/65536),Ge=V-pe*65536,V=Ze+pe+65535,pe=Math.floor(V/65536),Ze=V-pe*65536,V=He+pe+65535,pe=Math.floor(V/65536),He=V-pe*65536,V=qt+pe+65535,pe=Math.floor(V/65536),qt=V-pe*65536,V=pt+pe+65535,pe=Math.floor(V/65536),pt=V-pe*65536,V=Ot+pe+65535,pe=Math.floor(V/65536),Ot=V-pe*65536,V=$t+pe+65535,pe=Math.floor(V/65536),$t=V-pe*65536,V=Tt+pe+65535,pe=Math.floor(V/65536),Tt=V-pe*65536,V=Mt+pe+65535,pe=Math.floor(V/65536),Mt=V-pe*65536,V=Rt+pe+65535,pe=Math.floor(V/65536),Rt=V-pe*65536,V=St+pe+65535,pe=Math.floor(V/65536),St=V-pe*65536,V=Dt+pe+65535,pe=Math.floor(V/65536),Dt=V-pe*65536,V=lt+pe+65535,pe=Math.floor(V/65536),lt=V-pe*65536,Ae+=pe-1+37*(pe-1),ae[0]=Ae,ae[1]=$e,ae[2]=Be,ae[3]=Ge,ae[4]=Ze,ae[5]=He,ae[6]=qt,ae[7]=pt,ae[8]=Ot,ae[9]=$t,ae[10]=Tt,ae[11]=Mt,ae[12]=Rt,ae[13]=St,ae[14]=Dt,ae[15]=lt}function ve(ae,le){be(ae,le,le)}function Z(ae,le){var he=d(),V;for(V=0;V<16;V++)he[V]=le[V];for(V=253;V>=0;V--)ve(he,he),V!==2&&V!==4&&be(he,he,le);for(V=0;V<16;V++)ae[V]=he[V]}function J(ae,le){var he=d(),V;for(V=0;V<16;V++)he[V]=le[V];for(V=250;V>=0;V--)ve(he,he),V!==1&&be(he,he,le);for(V=0;V<16;V++)ae[V]=he[V]}function oe(ae,le,he){var V=new Uint8Array(32),pe=new Float64Array(80),Ae,$e,Be=d(),Ge=d(),Ze=d(),He=d(),qt=d(),pt=d();for($e=0;$e<31;$e++)V[$e]=le[$e];for(V[31]=le[31]&127|64,V[0]&=248,M(pe,he),$e=0;$e<16;$e++)Ge[$e]=pe[$e],He[$e]=Be[$e]=Ze[$e]=0;for(Be[0]=He[0]=1,$e=254;$e>=0;--$e)Ae=V[$e>>>3]>>>($e&7)&1,q(Be,Ge,Ae),q(Ze,He,Ae),W(qt,Be,Ze),ce(Be,Be,Ze),W(Ze,Ge,He),ce(Ge,Ge,He),ve(He,qt),ve(pt,Be),be(Be,Ze,Be),be(Ze,Ge,qt),W(qt,Be,Ze),ce(Be,Be,Ze),ve(Ge,Be),ce(Ze,He,pt),be(Be,Ze,w),W(Be,Be,He),be(Ze,Ze,Be),be(Be,He,pt),be(He,Ge,pe),ve(Ge,qt),q(Be,Ge,Ae),q(Ze,He,Ae);for($e=0;$e<16;$e++)pe[$e+16]=Be[$e],pe[$e+32]=Ze[$e],pe[$e+48]=Ge[$e],pe[$e+64]=He[$e];var Ot=pe.subarray(32),$t=pe.subarray(16);return Z(Ot,Ot),be($t,$t,Ot),K(ae,$t),0}function H(ae,le){return oe(ae,le,v)}function Q(ae,le){return g(le,32),H(ae,le)}function ie(ae,le,he){var V=new Uint8Array(32);return oe(V,he,le),X(ae,_,V,z)}var we=x,Se=A;function De(ae,le,he,V,pe,Ae){var $e=new Uint8Array(32);return ie($e,pe,Ae),we(ae,le,he,V,$e)}function Ie(ae,le,he,V,pe,Ae){var $e=new Uint8Array(32);return ie($e,pe,Ae),Se(ae,le,he,V,$e)}var qe=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Ne(ae,le,he,V){for(var pe=new Int32Array(16),Ae=new Int32Array(16),$e,Be,Ge,Ze,He,qt,pt,Ot,$t,Tt,Mt,Rt,St,Dt,lt,yt,ct,vt,gt,ft,ke,Ue,Ye,fe,ye,ge,Ce=ae[0],Oe=ae[1],Ee=ae[2],Pe=ae[3],me=ae[4],je=ae[5],Xe=ae[6],ze=ae[7],tt=le[0],mt=le[1],Et=le[2],Pt=le[3],kt=le[4],Ut=le[5],Lt=le[6],Kt=le[7],Ft=0;V>=128;){for(gt=0;gt<16;gt++)ft=8*gt+Ft,pe[gt]=he[ft+0]<<24|he[ft+1]<<16|he[ft+2]<<8|he[ft+3],Ae[gt]=he[ft+4]<<24|he[ft+5]<<16|he[ft+6]<<8|he[ft+7];for(gt=0;gt<80;gt++)if($e=Ce,Be=Oe,Ge=Ee,Ze=Pe,He=me,qt=je,pt=Xe,Ot=ze,$t=tt,Tt=mt,Mt=Et,Rt=Pt,St=kt,Dt=Ut,lt=Lt,yt=Kt,ke=ze,Ue=Kt,Ye=Ue&65535,fe=Ue>>>16,ye=ke&65535,ge=ke>>>16,ke=(me>>>14|kt<<18)^(me>>>18|kt<<14)^(kt>>>9|me<<23),Ue=(kt>>>14|me<<18)^(kt>>>18|me<<14)^(me>>>9|kt<<23),Ye+=Ue&65535,fe+=Ue>>>16,ye+=ke&65535,ge+=ke>>>16,ke=me&je^~me&Xe,Ue=kt&Ut^~kt&Lt,Ye+=Ue&65535,fe+=Ue>>>16,ye+=ke&65535,ge+=ke>>>16,ke=qe[gt*2],Ue=qe[gt*2+1],Ye+=Ue&65535,fe+=Ue>>>16,ye+=ke&65535,ge+=ke>>>16,ke=pe[gt%16],Ue=Ae[gt%16],Ye+=Ue&65535,fe+=Ue>>>16,ye+=ke&65535,ge+=ke>>>16,fe+=Ye>>>16,ye+=fe>>>16,ge+=ye>>>16,ct=ye&65535|ge<<16,vt=Ye&65535|fe<<16,ke=ct,Ue=vt,Ye=Ue&65535,fe=Ue>>>16,ye=ke&65535,ge=ke>>>16,ke=(Ce>>>28|tt<<4)^(tt>>>2|Ce<<30)^(tt>>>7|Ce<<25),Ue=(tt>>>28|Ce<<4)^(Ce>>>2|tt<<30)^(Ce>>>7|tt<<25),Ye+=Ue&65535,fe+=Ue>>>16,ye+=ke&65535,ge+=ke>>>16,ke=Ce&Oe^Ce&Ee^Oe&Ee,Ue=tt&mt^tt&Et^mt&Et,Ye+=Ue&65535,fe+=Ue>>>16,ye+=ke&65535,ge+=ke>>>16,fe+=Ye>>>16,ye+=fe>>>16,ge+=ye>>>16,Ot=ye&65535|ge<<16,yt=Ye&65535|fe<<16,ke=Ze,Ue=Rt,Ye=Ue&65535,fe=Ue>>>16,ye=ke&65535,ge=ke>>>16,ke=ct,Ue=vt,Ye+=Ue&65535,fe+=Ue>>>16,ye+=ke&65535,ge+=ke>>>16,fe+=Ye>>>16,ye+=fe>>>16,ge+=ye>>>16,Ze=ye&65535|ge<<16,Rt=Ye&65535|fe<<16,Oe=$e,Ee=Be,Pe=Ge,me=Ze,je=He,Xe=qt,ze=pt,Ce=Ot,mt=$t,Et=Tt,Pt=Mt,kt=Rt,Ut=St,Lt=Dt,Kt=lt,tt=yt,gt%16===15)for(ft=0;ft<16;ft++)ke=pe[ft],Ue=Ae[ft],Ye=Ue&65535,fe=Ue>>>16,ye=ke&65535,ge=ke>>>16,ke=pe[(ft+9)%16],Ue=Ae[(ft+9)%16],Ye+=Ue&65535,fe+=Ue>>>16,ye+=ke&65535,ge+=ke>>>16,ct=pe[(ft+1)%16],vt=Ae[(ft+1)%16],ke=(ct>>>1|vt<<31)^(ct>>>8|vt<<24)^ct>>>7,Ue=(vt>>>1|ct<<31)^(vt>>>8|ct<<24)^(vt>>>7|ct<<25),Ye+=Ue&65535,fe+=Ue>>>16,ye+=ke&65535,ge+=ke>>>16,ct=pe[(ft+14)%16],vt=Ae[(ft+14)%16],ke=(ct>>>19|vt<<13)^(vt>>>29|ct<<3)^ct>>>6,Ue=(vt>>>19|ct<<13)^(ct>>>29|vt<<3)^(vt>>>6|ct<<26),Ye+=Ue&65535,fe+=Ue>>>16,ye+=ke&65535,ge+=ke>>>16,fe+=Ye>>>16,ye+=fe>>>16,ge+=ye>>>16,pe[ft]=ye&65535|ge<<16,Ae[ft]=Ye&65535|fe<<16;ke=Ce,Ue=tt,Ye=Ue&65535,fe=Ue>>>16,ye=ke&65535,ge=ke>>>16,ke=ae[0],Ue=le[0],Ye+=Ue&65535,fe+=Ue>>>16,ye+=ke&65535,ge+=ke>>>16,fe+=Ye>>>16,ye+=fe>>>16,ge+=ye>>>16,ae[0]=Ce=ye&65535|ge<<16,le[0]=tt=Ye&65535|fe<<16,ke=Oe,Ue=mt,Ye=Ue&65535,fe=Ue>>>16,ye=ke&65535,ge=ke>>>16,ke=ae[1],Ue=le[1],Ye+=Ue&65535,fe+=Ue>>>16,ye+=ke&65535,ge+=ke>>>16,fe+=Ye>>>16,ye+=fe>>>16,ge+=ye>>>16,ae[1]=Oe=ye&65535|ge<<16,le[1]=mt=Ye&65535|fe<<16,ke=Ee,Ue=Et,Ye=Ue&65535,fe=Ue>>>16,ye=ke&65535,ge=ke>>>16,ke=ae[2],Ue=le[2],Ye+=Ue&65535,fe+=Ue>>>16,ye+=ke&65535,ge+=ke>>>16,fe+=Ye>>>16,ye+=fe>>>16,ge+=ye>>>16,ae[2]=Ee=ye&65535|ge<<16,le[2]=Et=Ye&65535|fe<<16,ke=Pe,Ue=Pt,Ye=Ue&65535,fe=Ue>>>16,ye=ke&65535,ge=ke>>>16,ke=ae[3],Ue=le[3],Ye+=Ue&65535,fe+=Ue>>>16,ye+=ke&65535,ge+=ke>>>16,fe+=Ye>>>16,ye+=fe>>>16,ge+=ye>>>16,ae[3]=Pe=ye&65535|ge<<16,le[3]=Pt=Ye&65535|fe<<16,ke=me,Ue=kt,Ye=Ue&65535,fe=Ue>>>16,ye=ke&65535,ge=ke>>>16,ke=ae[4],Ue=le[4],Ye+=Ue&65535,fe+=Ue>>>16,ye+=ke&65535,ge+=ke>>>16,fe+=Ye>>>16,ye+=fe>>>16,ge+=ye>>>16,ae[4]=me=ye&65535|ge<<16,le[4]=kt=Ye&65535|fe<<16,ke=je,Ue=Ut,Ye=Ue&65535,fe=Ue>>>16,ye=ke&65535,ge=ke>>>16,ke=ae[5],Ue=le[5],Ye+=Ue&65535,fe+=Ue>>>16,ye+=ke&65535,ge+=ke>>>16,fe+=Ye>>>16,ye+=fe>>>16,ge+=ye>>>16,ae[5]=je=ye&65535|ge<<16,le[5]=Ut=Ye&65535|fe<<16,ke=Xe,Ue=Lt,Ye=Ue&65535,fe=Ue>>>16,ye=ke&65535,ge=ke>>>16,ke=ae[6],Ue=le[6],Ye+=Ue&65535,fe+=Ue>>>16,ye+=ke&65535,ge+=ke>>>16,fe+=Ye>>>16,ye+=fe>>>16,ge+=ye>>>16,ae[6]=Xe=ye&65535|ge<<16,le[6]=Lt=Ye&65535|fe<<16,ke=ze,Ue=Kt,Ye=Ue&65535,fe=Ue>>>16,ye=ke&65535,ge=ke>>>16,ke=ae[7],Ue=le[7],Ye+=Ue&65535,fe+=Ue>>>16,ye+=ke&65535,ge+=ke>>>16,fe+=Ye>>>16,ye+=fe>>>16,ge+=ye>>>16,ae[7]=ze=ye&65535|ge<<16,le[7]=Kt=Ye&65535|fe<<16,Ft+=128,V-=128}return V}function Me(ae,le,he){var V=new Int32Array(8),pe=new Int32Array(8),Ae=new Uint8Array(256),$e,Be=he;for(V[0]=1779033703,V[1]=3144134277,V[2]=1013904242,V[3]=2773480762,V[4]=1359893119,V[5]=2600822924,V[6]=528734635,V[7]=1541459225,pe[0]=4089235720,pe[1]=2227873595,pe[2]=4271175723,pe[3]=1595750129,pe[4]=2917565137,pe[5]=725511199,pe[6]=4215389547,pe[7]=327033209,Ne(V,pe,le,he),he%=128,$e=0;$e<he;$e++)Ae[$e]=le[Be-he+$e];for(Ae[he]=128,he=256-128*(he<112?1:0),Ae[he-9]=0,O(Ae,he-8,Be/536870912|0,Be<<3),Ne(V,pe,Ae,he),$e=0;$e<8;$e++)O(ae,8*$e,V[$e],pe[$e]);return 0}function Ve(ae,le){var he=d(),V=d(),pe=d(),Ae=d(),$e=d(),Be=d(),Ge=d(),Ze=d(),He=d();ce(he,ae[1],ae[0]),ce(He,le[1],le[0]),be(he,he,He),W(V,ae[0],ae[1]),W(He,le[0],le[1]),be(V,V,He),be(pe,ae[3],le[3]),be(pe,pe,b),be(Ae,ae[2],le[2]),W(Ae,Ae,Ae),ce($e,V,he),ce(Be,Ae,pe),W(Ge,Ae,pe),W(Ze,V,he),be(ae[0],$e,Be),be(ae[1],Ze,Ge),be(ae[2],Ge,Be),be(ae[3],$e,Ze)}function Ke(ae,le,he){var V;for(V=0;V<4;V++)q(ae[V],le[V],he)}function ot(ae,le){var he=d(),V=d(),pe=d();Z(pe,le[2]),be(he,le[0],pe),be(V,le[1],pe),K(ae,V),ae[31]^=k(he)<<7}function Je(ae,le,he){var V,pe;for(B(ae[0],y),B(ae[1],m),B(ae[2],m),B(ae[3],y),pe=255;pe>=0;--pe)V=he[pe/8|0]>>(pe&7)&1,Ke(ae,le,V),Ve(le,ae),Ve(ae,ae),Ke(ae,le,V)}function We(ae,le){var he=[d(),d(),d(),d()];B(he[0],E),B(he[1],S),B(he[2],m),be(he[3],E,S),Je(ae,he,le)}function it(ae,le,he){var V=new Uint8Array(64),pe=[d(),d(),d(),d()],Ae;for(he||g(le,32),Me(V,le,32),V[0]&=248,V[31]&=127,V[31]|=64,We(pe,V),ot(ae,pe),Ae=0;Ae<32;Ae++)le[Ae+32]=ae[Ae];return 0}var Fe=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function Le(ae,le){var he,V,pe,Ae;for(V=63;V>=32;--V){for(he=0,pe=V-32,Ae=V-12;pe<Ae;++pe)le[pe]+=he-16*le[V]*Fe[pe-(V-32)],he=Math.floor((le[pe]+128)/256),le[pe]-=he*256;le[pe]+=he,le[V]=0}for(he=0,pe=0;pe<32;pe++)le[pe]+=he-(le[31]>>4)*Fe[pe],he=le[pe]>>8,le[pe]&=255;for(pe=0;pe<32;pe++)le[pe]-=he*Fe[pe];for(V=0;V<32;V++)le[V+1]+=le[V]>>8,ae[V]=le[V]&255}function Qe(ae){var le=new Float64Array(64),he;for(he=0;he<64;he++)le[he]=ae[he];for(he=0;he<64;he++)ae[he]=0;Le(ae,le)}function rt(ae,le,he,V){var pe=new Uint8Array(64),Ae=new Uint8Array(64),$e=new Uint8Array(64),Be,Ge,Ze=new Float64Array(64),He=[d(),d(),d(),d()];Me(pe,V,32),pe[0]&=248,pe[31]&=127,pe[31]|=64;var qt=he+64;for(Be=0;Be<he;Be++)ae[64+Be]=le[Be];for(Be=0;Be<32;Be++)ae[32+Be]=pe[32+Be];for(Me($e,ae.subarray(32),he+32),Qe($e),We(He,$e),ot(ae,He),Be=32;Be<64;Be++)ae[Be]=V[Be];for(Me(Ae,ae,he+64),Qe(Ae),Be=0;Be<64;Be++)Ze[Be]=0;for(Be=0;Be<32;Be++)Ze[Be]=$e[Be];for(Be=0;Be<32;Be++)for(Ge=0;Ge<32;Ge++)Ze[Be+Ge]+=Ae[Be]*pe[Ge];return Le(ae.subarray(32),Ze),qt}function ue(ae,le){var he=d(),V=d(),pe=d(),Ae=d(),$e=d(),Be=d(),Ge=d();return B(ae[2],m),M(ae[1],le),ve(pe,ae[1]),be(Ae,pe,C),ce(pe,pe,ae[2]),W(Ae,ae[2],Ae),ve($e,Ae),ve(Be,$e),be(Ge,Be,$e),be(he,Ge,pe),be(he,he,Ae),J(he,he),be(he,he,pe),be(he,he,Ae),be(he,he,Ae),be(ae[0],he,Ae),ve(V,ae[0]),be(V,V,Ae),P(V,pe)&&be(ae[0],ae[0],R),ve(V,ae[0]),be(V,V,Ae),P(V,pe)?-1:(k(ae[0])===le[31]>>7&&ce(ae[0],y,ae[0]),be(ae[3],ae[0],ae[1]),0)}function ee(ae,le,he,V){var pe,Ae=new Uint8Array(32),$e=new Uint8Array(64),Be=[d(),d(),d(),d()],Ge=[d(),d(),d(),d()];if(he<64||ue(Ge,V))return-1;for(pe=0;pe<he;pe++)ae[pe]=le[pe];for(pe=0;pe<32;pe++)ae[pe+32]=V[pe];if(Me($e,ae,he),Qe($e),Je(Be,Ge,$e),We(Ge,le.subarray(32)),Ve(Be,Ge),ot(Ae,Be),he-=64,U(le,0,Ae,0)){for(pe=0;pe<he;pe++)ae[pe]=0;return-1}for(pe=0;pe<he;pe++)ae[pe]=le[pe+64];return he}var te=32,de=24,xe=32,Re=16,Te=32,dt=32,ut=32,et=32,wt=32,ht=de,_t=xe,It=Re,bt=64,at=32,Bt=64,xt=32,st=64;r.lowlevel={crypto_core_hsalsa20:X,crypto_stream_xor:se,crypto_stream:re,crypto_stream_salsa20_xor:Y,crypto_stream_salsa20:ne,crypto_onetimeauth:T,crypto_onetimeauth_verify:D,crypto_verify_16:I,crypto_verify_32:U,crypto_secretbox:x,crypto_secretbox_open:A,crypto_scalarmult:oe,crypto_scalarmult_base:H,crypto_box_beforenm:ie,crypto_box_afternm:we,crypto_box:De,crypto_box_open:Ie,crypto_box_keypair:Q,crypto_hash:Me,crypto_sign:rt,crypto_sign_keypair:it,crypto_sign_open:ee,crypto_secretbox_KEYBYTES:te,crypto_secretbox_NONCEBYTES:de,crypto_secretbox_ZEROBYTES:xe,crypto_secretbox_BOXZEROBYTES:Re,crypto_scalarmult_BYTES:Te,crypto_scalarmult_SCALARBYTES:dt,crypto_box_PUBLICKEYBYTES:ut,crypto_box_SECRETKEYBYTES:et,crypto_box_BEFORENMBYTES:wt,crypto_box_NONCEBYTES:ht,crypto_box_ZEROBYTES:_t,crypto_box_BOXZEROBYTES:It,crypto_sign_BYTES:bt,crypto_sign_PUBLICKEYBYTES:at,crypto_sign_SECRETKEYBYTES:Bt,crypto_sign_SEEDBYTES:xt,crypto_hash_BYTES:st,gf:d,D:C,L:Fe,pack25519:K,unpack25519:M,M:be,A:W,S:ve,Z:ce,pow2523:J,add:Ve,set25519:B,modL:Le,scalarmult:Je,scalarbase:We};function Nt(ae,le){if(ae.length!==te)throw new Error("bad key size");if(le.length!==de)throw new Error("bad nonce size")}function Ct(ae,le){if(ae.length!==ut)throw new Error("bad public key size");if(le.length!==et)throw new Error("bad secret key size")}function nt(){for(var ae=0;ae<arguments.length;ae++)if(!(arguments[ae]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function At(ae){for(var le=0;le<ae.length;le++)ae[le]=0}r.randomBytes=function(ae){var le=new Uint8Array(ae);return g(le,ae),le},r.secretbox=function(ae,le,he){nt(ae,le,he),Nt(he,le);for(var V=new Uint8Array(xe+ae.length),pe=new Uint8Array(V.length),Ae=0;Ae<ae.length;Ae++)V[Ae+xe]=ae[Ae];return x(pe,V,V.length,le,he),pe.subarray(Re)},r.secretbox.open=function(ae,le,he){nt(ae,le,he),Nt(he,le);for(var V=new Uint8Array(Re+ae.length),pe=new Uint8Array(V.length),Ae=0;Ae<ae.length;Ae++)V[Ae+Re]=ae[Ae];return V.length<32||A(pe,V,V.length,le,he)!==0?null:pe.subarray(xe)},r.secretbox.keyLength=te,r.secretbox.nonceLength=de,r.secretbox.overheadLength=Re,r.scalarMult=function(ae,le){if(nt(ae,le),ae.length!==dt)throw new Error("bad n size");if(le.length!==Te)throw new Error("bad p size");var he=new Uint8Array(Te);return oe(he,ae,le),he},r.scalarMult.base=function(ae){if(nt(ae),ae.length!==dt)throw new Error("bad n size");var le=new Uint8Array(Te);return H(le,ae),le},r.scalarMult.scalarLength=dt,r.scalarMult.groupElementLength=Te,r.box=function(ae,le,he,V){var pe=r.box.before(he,V);return r.secretbox(ae,le,pe)},r.box.before=function(ae,le){nt(ae,le),Ct(ae,le);var he=new Uint8Array(wt);return ie(he,ae,le),he},r.box.after=r.secretbox,r.box.open=function(ae,le,he,V){var pe=r.box.before(he,V);return r.secretbox.open(ae,le,pe)},r.box.open.after=r.secretbox.open,r.box.keyPair=function(){var ae=new Uint8Array(ut),le=new Uint8Array(et);return Q(ae,le),{publicKey:ae,secretKey:le}},r.box.keyPair.fromSecretKey=function(ae){if(nt(ae),ae.length!==et)throw new Error("bad secret key size");var le=new Uint8Array(ut);return H(le,ae),{publicKey:le,secretKey:new Uint8Array(ae)}},r.box.publicKeyLength=ut,r.box.secretKeyLength=et,r.box.sharedKeyLength=wt,r.box.nonceLength=ht,r.box.overheadLength=r.secretbox.overheadLength,r.sign=function(ae,le){if(nt(ae,le),le.length!==Bt)throw new Error("bad secret key size");var he=new Uint8Array(bt+ae.length);return rt(he,ae,ae.length,le),he},r.sign.open=function(ae,le){if(nt(ae,le),le.length!==at)throw new Error("bad public key size");var he=new Uint8Array(ae.length),V=ee(he,ae,ae.length,le);if(V<0)return null;for(var pe=new Uint8Array(V),Ae=0;Ae<pe.length;Ae++)pe[Ae]=he[Ae];return pe},r.sign.detached=function(ae,le){for(var he=r.sign(ae,le),V=new Uint8Array(bt),pe=0;pe<V.length;pe++)V[pe]=he[pe];return V},r.sign.detached.verify=function(ae,le,he){if(nt(ae,le,he),le.length!==bt)throw new Error("bad signature size");if(he.length!==at)throw new Error("bad public key size");var V=new Uint8Array(bt+ae.length),pe=new Uint8Array(bt+ae.length),Ae;for(Ae=0;Ae<bt;Ae++)V[Ae]=le[Ae];for(Ae=0;Ae<ae.length;Ae++)V[Ae+bt]=ae[Ae];return ee(pe,V,V.length,he)>=0},r.sign.keyPair=function(){var ae=new Uint8Array(at),le=new Uint8Array(Bt);return it(ae,le),{publicKey:ae,secretKey:le}},r.sign.keyPair.fromSecretKey=function(ae){if(nt(ae),ae.length!==Bt)throw new Error("bad secret key size");for(var le=new Uint8Array(at),he=0;he<le.length;he++)le[he]=ae[32+he];return{publicKey:le,secretKey:new Uint8Array(ae)}},r.sign.keyPair.fromSeed=function(ae){if(nt(ae),ae.length!==xt)throw new Error("bad seed size");for(var le=new Uint8Array(at),he=new Uint8Array(Bt),V=0;V<32;V++)he[V]=ae[V];return it(le,he,!0),{publicKey:le,secretKey:he}},r.sign.publicKeyLength=at,r.sign.secretKeyLength=Bt,r.sign.seedLength=xt,r.sign.signatureLength=bt,r.hash=function(ae){nt(ae);var le=new Uint8Array(st);return Me(le,ae,ae.length),le},r.hash.hashLength=st,r.verify=function(ae,le){return nt(ae,le),ae.length===0||le.length===0||ae.length!==le.length?!1:$(ae,0,le,0,ae.length)===0},r.setPRNG=function(ae){g=ae},function(){var ae=typeof self<"u"?self.crypto||self.msCrypto:null;if(ae&&ae.getRandomValues){var le=65536;r.setPRNG(function(he,V){var pe,Ae=new Uint8Array(V);for(pe=0;pe<V;pe+=le)ae.getRandomValues(Ae.subarray(pe,pe+Math.min(V-pe,le)));for(pe=0;pe<V;pe++)he[pe]=Ae[pe];At(Ae)})}else typeof commonjsRequire<"u"&&(ae=requireCryptoBrowserify(),ae&&ae.randomBytes&&r.setPRNG(function(he,V){var pe,Ae=ae.randomBytes(V);for(pe=0;pe<V;pe++)he[pe]=Ae[pe];At(Ae)}))}()})(f.exports?f.exports:self.nacl=self.nacl||{})})(naclFast);var naclFastExports=naclFast.exports;const nacl=getDefaultExportFromCjs(naclFastExports);var utils$4={},naclUtil={exports:{}};(function(f){(function(r,d){f.exports?f.exports=d():(r.nacl||(r.nacl={}),r.nacl.util=d())})(commonjsGlobal,function(){var r={};function d(g){if(!/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/.test(g))throw new TypeError("invalid encoding")}return r.decodeUTF8=function(g){if(typeof g!="string")throw new TypeError("expected string");var _,v=unescape(encodeURIComponent(g)),y=new Uint8Array(v.length);for(_=0;_<v.length;_++)y[_]=v.charCodeAt(_);return y},r.encodeUTF8=function(g){var _,v=[];for(_=0;_<g.length;_++)v.push(String.fromCharCode(g[_]));return decodeURIComponent(escape(v.join("")))},typeof atob>"u"?typeof Buffer.from<"u"?(r.encodeBase64=function(g){return Buffer.from(g).toString("base64")},r.decodeBase64=function(g){return d(g),new Uint8Array(Array.prototype.slice.call(Buffer.from(g,"base64"),0))}):(r.encodeBase64=function(g){return new Buffer(g).toString("base64")},r.decodeBase64=function(g){return d(g),new Uint8Array(Array.prototype.slice.call(new Buffer(g,"base64"),0))}):(r.encodeBase64=function(g){var _,v=[],y=g.length;for(_=0;_<y;_++)v.push(String.fromCharCode(g[_]));return btoa(v.join(""))},r.decodeBase64=function(g){d(g);var _,v=atob(g),y=new Uint8Array(v.length);for(_=0;_<v.length;_++)y[_]=v.charCodeAt(_);return y}),r})})(naclUtil);var naclUtilExports=naclUtil.exports;function base$3(f,r){if(f.length>=255)throw new TypeError("Alphabet too long");for(var d=new Uint8Array(256),g=0;g<d.length;g++)d[g]=255;for(var _=0;_<f.length;_++){var v=f.charAt(_),y=v.charCodeAt(0);if(d[y]!==255)throw new TypeError(v+" is ambiguous");d[y]=_}var m=f.length,w=f.charAt(0),C=Math.log(m)/Math.log(256),b=Math.log(256)/Math.log(m);function E(O){if(O instanceof Uint8Array||(ArrayBuffer.isView(O)?O=new Uint8Array(O.buffer,O.byteOffset,O.byteLength):Array.isArray(O)&&(O=Uint8Array.from(O))),!(O instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(O.length===0)return"";for(var $=0,I=0,U=0,L=O.length;U!==L&&O[U]===0;)U++,$++;for(var j=(L-U)*b+1>>>0,F=new Uint8Array(j);U!==L;){for(var X=O[U],z=0,Y=j-1;(X!==0||z<I)&&Y!==-1;Y--,z++)X+=256*F[Y]>>>0,F[Y]=X%m>>>0,X=X/m>>>0;if(X!==0)throw new Error("Non-zero carry");I=z,U++}for(var ne=j-I;ne!==j&&F[ne]===0;)ne++;for(var re=w.repeat($);ne<j;++ne)re+=f.charAt(F[ne]);return re}function S(O){if(typeof O!="string")throw new TypeError("Expected String");if(O.length===0)return new Uint8Array;var $=0;if(O[$]!==" "){for(var I=0,U=0;O[$]===w;)I++,$++;for(var L=(O.length-$)*C+1>>>0,j=new Uint8Array(L);O[$];){var F=d[O.charCodeAt($)];if(F===255)return;for(var X=0,z=L-1;(F!==0||X<U)&&z!==-1;z--,X++)F+=m*j[z]>>>0,j[z]=F%256>>>0,F=F/256>>>0;if(F!==0)throw new Error("Non-zero carry");U=X,$++}if(O[$]!==" "){for(var Y=L-U;Y!==L&&j[Y]===0;)Y++;for(var ne=new Uint8Array(I+(L-Y)),re=I;Y!==L;)ne[re++]=j[Y++];return ne}}}function R(O){var $=S(O);if($)return $;throw new Error(`Non-${r} character`)}return{encode:E,decodeUnsafe:S,decode:R}}var src$5=base$3,_brrp__multiformats_scope_baseX$1=src$5;const coerce$1=f=>{if(f instanceof Uint8Array&&f.constructor.name==="Uint8Array")return f;if(f instanceof ArrayBuffer)return new Uint8Array(f);if(ArrayBuffer.isView(f))return new Uint8Array(f.buffer,f.byteOffset,f.byteLength);throw new Error("Unknown type, must be binary type")},fromString$1=f=>new TextEncoder().encode(f),toString$3=f=>new TextDecoder().decode(f);let Encoder$1=class{constructor(r,d,g){this.name=r,this.prefix=d,this.baseEncode=g}encode(r){if(r instanceof Uint8Array)return`${this.prefix}${this.baseEncode(r)}`;throw Error("Unknown type, must be binary type")}},Decoder$1=class{constructor(r,d,g){if(this.name=r,this.prefix=d,d.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=d.codePointAt(0),this.baseDecode=g}decode(r){if(typeof r=="string"){if(r.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(r)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(r.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(r){return or(this,r)}},ComposedDecoder$1=class{constructor(r){this.decoders=r}or(r){return or(this,r)}decode(r){const d=r[0],g=this.decoders[d];if(g)return g.decode(r);throw RangeError(`Unable to decode multibase string ${JSON.stringify(r)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const or=(f,r)=>new ComposedDecoder$1({...f.decoders||{[f.prefix]:f},...r.decoders||{[r.prefix]:r}});let Codec$1=class{constructor(r,d,g,_){this.name=r,this.prefix=d,this.baseEncode=g,this.baseDecode=_,this.encoder=new Encoder$1(r,d,g),this.decoder=new Decoder$1(r,d,_)}encode(r){return this.encoder.encode(r)}decode(r){return this.decoder.decode(r)}};const from$2=({name:f,prefix:r,encode:d,decode:g})=>new Codec$1(f,r,d,g),baseX$1=({prefix:f,name:r,alphabet:d})=>{const{encode:g,decode:_}=_brrp__multiformats_scope_baseX$1(d,r);return from$2({prefix:f,name:r,encode:g,decode:v=>coerce$1(_(v))})},decode$7=(f,r,d,g)=>{const _={};for(let b=0;b<r.length;++b)_[r[b]]=b;let v=f.length;for(;f[v-1]==="=";)--v;const y=new Uint8Array(v*d/8|0);let m=0,w=0,C=0;for(let b=0;b<v;++b){const E=_[f[b]];if(E===void 0)throw new SyntaxError(`Non-${g} character`);w=w<<d|E,m+=d,m>=8&&(m-=8,y[C++]=255&w>>m)}if(m>=d||255&w<<8-m)throw new SyntaxError("Unexpected end of data");return y},encode$5=(f,r,d)=>{const g=r[r.length-1]==="=",_=(1<<d)-1;let v="",y=0,m=0;for(let w=0;w<f.length;++w)for(m=m<<8|f[w],y+=8;y>d;)y-=d,v+=r[_&m>>y];if(y&&(v+=r[_&m<<d-y]),g)for(;v.length*d&7;)v+="=";return v},rfc4648$1=({name:f,prefix:r,bitsPerChar:d,alphabet:g})=>from$2({prefix:r,name:f,encode(_){return encode$5(_,g,d)},decode(_){return decode$7(_,g,d,f)}}),identity$3=from$2({prefix:"\0",name:"identity",encode:f=>toString$3(f),decode:f=>fromString$1(f)}),identityBase$1=Object.freeze(Object.defineProperty({__proto__:null,identity:identity$3},Symbol.toStringTag,{value:"Module"})),base2$2=rfc4648$1({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),base2$3=Object.freeze(Object.defineProperty({__proto__:null,base2:base2$2},Symbol.toStringTag,{value:"Module"})),base8$2=rfc4648$1({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),base8$3=Object.freeze(Object.defineProperty({__proto__:null,base8:base8$2},Symbol.toStringTag,{value:"Module"})),base10$2=baseX$1({prefix:"9",name:"base10",alphabet:"0123456789"}),base10$3=Object.freeze(Object.defineProperty({__proto__:null,base10:base10$2},Symbol.toStringTag,{value:"Module"})),base16$2=rfc4648$1({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),base16upper$1=rfc4648$1({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),base16$3=Object.freeze(Object.defineProperty({__proto__:null,base16:base16$2,base16upper:base16upper$1},Symbol.toStringTag,{value:"Module"})),base32$2=rfc4648$1({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),base32upper$1=rfc4648$1({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),base32pad$1=rfc4648$1({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),base32padupper$1=rfc4648$1({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),base32hex$1=rfc4648$1({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),base32hexupper$1=rfc4648$1({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),base32hexpad$1=rfc4648$1({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),base32hexpadupper$1=rfc4648$1({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),base32z$1=rfc4648$1({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),base32$3=Object.freeze(Object.defineProperty({__proto__:null,base32:base32$2,base32hex:base32hex$1,base32hexpad:base32hexpad$1,base32hexpadupper:base32hexpadupper$1,base32hexupper:base32hexupper$1,base32pad:base32pad$1,base32padupper:base32padupper$1,base32upper:base32upper$1,base32z:base32z$1},Symbol.toStringTag,{value:"Module"})),base36$2=baseX$1({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),base36upper$1=baseX$1({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),base36$3=Object.freeze(Object.defineProperty({__proto__:null,base36:base36$2,base36upper:base36upper$1},Symbol.toStringTag,{value:"Module"})),base58btc$1=baseX$1({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),base58flickr$1=baseX$1({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),base58$1=Object.freeze(Object.defineProperty({__proto__:null,base58btc:base58btc$1,base58flickr:base58flickr$1},Symbol.toStringTag,{value:"Module"})),base64$2=rfc4648$1({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),base64pad$1=rfc4648$1({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),base64url$1=rfc4648$1({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),base64urlpad$1=rfc4648$1({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),base64$3=Object.freeze(Object.defineProperty({__proto__:null,base64:base64$2,base64pad:base64pad$1,base64url:base64url$1,base64urlpad:base64urlpad$1},Symbol.toStringTag,{value:"Module"})),alphabet=Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"),alphabetBytesToChars=alphabet.reduce((f,r,d)=>(f[d]=r,f),[]),alphabetCharsToBytes=alphabet.reduce((f,r,d)=>(f[r.codePointAt(0)]=d,f),[]);function encode$4(f){return f.reduce((r,d)=>(r+=alphabetBytesToChars[d],r),"")}function decode$6(f){const r=[];for(const d of f){const g=alphabetCharsToBytes[d.codePointAt(0)];if(g===void 0)throw new Error(`Non-base256emoji character: ${d}`);r.push(g)}return new Uint8Array(r)}const base256emoji=from$2({prefix:"🚀",name:"base256emoji",encode:encode$4,decode:decode$6}),base256emoji$1=Object.freeze(Object.defineProperty({__proto__:null,base256emoji},Symbol.toStringTag,{value:"Module"}));new TextEncoder;new TextDecoder;const bases$1={...identityBase$1,...base2$3,...base8$3,...base10$3,...base16$3,...base32$3,...base36$3,...base58$1,...base64$3,...base256emoji$1};function allocUnsafe(f=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?globalThis.Buffer.allocUnsafe(f):new Uint8Array(f)}function createCodec(f,r,d,g){return{name:f,prefix:r,encoder:{name:f,prefix:r,encode:d},decoder:{decode:g}}}const string=createCodec("utf8","u",f=>"u"+new TextDecoder("utf8").decode(f),f=>new TextEncoder().encode(f.substring(1))),ascii=createCodec("ascii","a",f=>{let r="a";for(let d=0;d<f.length;d++)r+=String.fromCharCode(f[d]);return r},f=>{f=f.substring(1);const r=allocUnsafe(f.length);for(let d=0;d<f.length;d++)r[d]=f.charCodeAt(d);return r}),BASES={utf8:string,"utf-8":string,hex:bases$1.base16,latin1:ascii,ascii,binary:ascii,...bases$1};function toString$1(f,r="utf8"){const d=BASES[r];if(!d)throw new Error(`Unsupported encoding "${r}"`);return(r==="utf8"||r==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(f.buffer,f.byteOffset,f.byteLength).toString("utf8"):d.encoder.encode(f).substring(1)}const toString$2=Object.freeze(Object.defineProperty({__proto__:null,toString:toString$1},Symbol.toStringTag,{value:"Module"})),require$$2=getAugmentedNamespace(toString$2);var sha256$2={},binary={},int={};(function(f){Object.defineProperty(f,"__esModule",{value:!0});function r(m,w){var C=m>>>16&65535,b=m&65535,E=w>>>16&65535,S=w&65535;return b*S+(C*S+b*E<<16>>>0)|0}f.mul=Math.imul||r;function d(m,w){return m+w|0}f.add=d;function g(m,w){return m-w|0}f.sub=g;function _(m,w){return m<<w|m>>>32-w}f.rotl=_;function v(m,w){return m<<32-w|m>>>w}f.rotr=v;function y(m){return typeof m=="number"&&isFinite(m)&&Math.floor(m)===m}f.isInteger=Number.isInteger||y,f.MAX_SAFE_INTEGER=9007199254740991,f.isSafeInteger=function(m){return f.isInteger(m)&&m>=-f.MAX_SAFE_INTEGER&&m<=f.MAX_SAFE_INTEGER}})(int);Object.defineProperty(binary,"__esModule",{value:!0});var int_1=int;function readInt16BE(f,r){return r===void 0&&(r=0),(f[r+0]<<8|f[r+1])<<16>>16}binary.readInt16BE=readInt16BE;function readUint16BE(f,r){return r===void 0&&(r=0),(f[r+0]<<8|f[r+1])>>>0}binary.readUint16BE=readUint16BE;function readInt16LE(f,r){return r===void 0&&(r=0),(f[r+1]<<8|f[r])<<16>>16}binary.readInt16LE=readInt16LE;function readUint16LE(f,r){return r===void 0&&(r=0),(f[r+1]<<8|f[r])>>>0}binary.readUint16LE=readUint16LE;function writeUint16BE(f,r,d){return r===void 0&&(r=new Uint8Array(2)),d===void 0&&(d=0),r[d+0]=f>>>8,r[d+1]=f>>>0,r}binary.writeUint16BE=writeUint16BE;binary.writeInt16BE=writeUint16BE;function writeUint16LE(f,r,d){return r===void 0&&(r=new Uint8Array(2)),d===void 0&&(d=0),r[d+0]=f>>>0,r[d+1]=f>>>8,r}binary.writeUint16LE=writeUint16LE;binary.writeInt16LE=writeUint16LE;function readInt32BE(f,r){return r===void 0&&(r=0),f[r]<<24|f[r+1]<<16|f[r+2]<<8|f[r+3]}binary.readInt32BE=readInt32BE;function readUint32BE(f,r){return r===void 0&&(r=0),(f[r]<<24|f[r+1]<<16|f[r+2]<<8|f[r+3])>>>0}binary.readUint32BE=readUint32BE;function readInt32LE(f,r){return r===void 0&&(r=0),f[r+3]<<24|f[r+2]<<16|f[r+1]<<8|f[r]}binary.readInt32LE=readInt32LE;function readUint32LE(f,r){return r===void 0&&(r=0),(f[r+3]<<24|f[r+2]<<16|f[r+1]<<8|f[r])>>>0}binary.readUint32LE=readUint32LE;function writeUint32BE(f,r,d){return r===void 0&&(r=new Uint8Array(4)),d===void 0&&(d=0),r[d+0]=f>>>24,r[d+1]=f>>>16,r[d+2]=f>>>8,r[d+3]=f>>>0,r}binary.writeUint32BE=writeUint32BE;binary.writeInt32BE=writeUint32BE;function writeUint32LE(f,r,d){return r===void 0&&(r=new Uint8Array(4)),d===void 0&&(d=0),r[d+0]=f>>>0,r[d+1]=f>>>8,r[d+2]=f>>>16,r[d+3]=f>>>24,r}binary.writeUint32LE=writeUint32LE;binary.writeInt32LE=writeUint32LE;function readInt64BE(f,r){r===void 0&&(r=0);var d=readInt32BE(f,r),g=readInt32BE(f,r+4);return d*4294967296+g-(g>>31)*4294967296}binary.readInt64BE=readInt64BE;function readUint64BE(f,r){r===void 0&&(r=0);var d=readUint32BE(f,r),g=readUint32BE(f,r+4);return d*4294967296+g}binary.readUint64BE=readUint64BE;function readInt64LE(f,r){r===void 0&&(r=0);var d=readInt32LE(f,r),g=readInt32LE(f,r+4);return g*4294967296+d-(d>>31)*4294967296}binary.readInt64LE=readInt64LE;function readUint64LE(f,r){r===void 0&&(r=0);var d=readUint32LE(f,r),g=readUint32LE(f,r+4);return g*4294967296+d}binary.readUint64LE=readUint64LE;function writeUint64BE(f,r,d){return r===void 0&&(r=new Uint8Array(8)),d===void 0&&(d=0),writeUint32BE(f/4294967296>>>0,r,d),writeUint32BE(f>>>0,r,d+4),r}binary.writeUint64BE=writeUint64BE;binary.writeInt64BE=writeUint64BE;function writeUint64LE(f,r,d){return r===void 0&&(r=new Uint8Array(8)),d===void 0&&(d=0),writeUint32LE(f>>>0,r,d),writeUint32LE(f/4294967296>>>0,r,d+4),r}binary.writeUint64LE=writeUint64LE;binary.writeInt64LE=writeUint64LE;function readUintBE(f,r,d){if(d===void 0&&(d=0),f%8!==0)throw new Error("readUintBE supports only bitLengths divisible by 8");if(f/8>r.length-d)throw new Error("readUintBE: array is too short for the given bitLength");for(var g=0,_=1,v=f/8+d-1;v>=d;v--)g+=r[v]*_,_*=256;return g}binary.readUintBE=readUintBE;function readUintLE(f,r,d){if(d===void 0&&(d=0),f%8!==0)throw new Error("readUintLE supports only bitLengths divisible by 8");if(f/8>r.length-d)throw new Error("readUintLE: array is too short for the given bitLength");for(var g=0,_=1,v=d;v<d+f/8;v++)g+=r[v]*_,_*=256;return g}binary.readUintLE=readUintLE;function writeUintBE(f,r,d,g){if(d===void 0&&(d=new Uint8Array(f/8)),g===void 0&&(g=0),f%8!==0)throw new Error("writeUintBE supports only bitLengths divisible by 8");if(!int_1.isSafeInteger(r))throw new Error("writeUintBE value must be an integer");for(var _=1,v=f/8+g-1;v>=g;v--)d[v]=r/_&255,_*=256;return d}binary.writeUintBE=writeUintBE;function writeUintLE(f,r,d,g){if(d===void 0&&(d=new Uint8Array(f/8)),g===void 0&&(g=0),f%8!==0)throw new Error("writeUintLE supports only bitLengths divisible by 8");if(!int_1.isSafeInteger(r))throw new Error("writeUintLE value must be an integer");for(var _=1,v=g;v<g+f/8;v++)d[v]=r/_&255,_*=256;return d}binary.writeUintLE=writeUintLE;function readFloat32BE(f,r){r===void 0&&(r=0);var d=new DataView(f.buffer,f.byteOffset,f.byteLength);return d.getFloat32(r)}binary.readFloat32BE=readFloat32BE;function readFloat32LE(f,r){r===void 0&&(r=0);var d=new DataView(f.buffer,f.byteOffset,f.byteLength);return d.getFloat32(r,!0)}binary.readFloat32LE=readFloat32LE;function readFloat64BE(f,r){r===void 0&&(r=0);var d=new DataView(f.buffer,f.byteOffset,f.byteLength);return d.getFloat64(r)}binary.readFloat64BE=readFloat64BE;function readFloat64LE(f,r){r===void 0&&(r=0);var d=new DataView(f.buffer,f.byteOffset,f.byteLength);return d.getFloat64(r,!0)}binary.readFloat64LE=readFloat64LE;function writeFloat32BE(f,r,d){r===void 0&&(r=new Uint8Array(4)),d===void 0&&(d=0);var g=new DataView(r.buffer,r.byteOffset,r.byteLength);return g.setFloat32(d,f),r}binary.writeFloat32BE=writeFloat32BE;function writeFloat32LE(f,r,d){r===void 0&&(r=new Uint8Array(4)),d===void 0&&(d=0);var g=new DataView(r.buffer,r.byteOffset,r.byteLength);return g.setFloat32(d,f,!0),r}binary.writeFloat32LE=writeFloat32LE;function writeFloat64BE(f,r,d){r===void 0&&(r=new Uint8Array(8)),d===void 0&&(d=0);var g=new DataView(r.buffer,r.byteOffset,r.byteLength);return g.setFloat64(d,f),r}binary.writeFloat64BE=writeFloat64BE;function writeFloat64LE(f,r,d){r===void 0&&(r=new Uint8Array(8)),d===void 0&&(d=0);var g=new DataView(r.buffer,r.byteOffset,r.byteLength);return g.setFloat64(d,f,!0),r}binary.writeFloat64LE=writeFloat64LE;var wipe$1={};Object.defineProperty(wipe$1,"__esModule",{value:!0});function wipe(f){for(var r=0;r<f.length;r++)f[r]=0;return f}wipe$1.wipe=wipe;(function(f){Object.defineProperty(f,"__esModule",{value:!0});var r=binary,d=wipe$1;f.DIGEST_LENGTH=32,f.BLOCK_SIZE=64;var g=function(){function m(){this.digestLength=f.DIGEST_LENGTH,this.blockSize=f.BLOCK_SIZE,this._state=new Int32Array(8),this._temp=new Int32Array(64),this._buffer=new Uint8Array(128),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return m.prototype._initState=function(){this._state[0]=1779033703,this._state[1]=3144134277,this._state[2]=1013904242,this._state[3]=2773480762,this._state[4]=1359893119,this._state[5]=2600822924,this._state[6]=528734635,this._state[7]=1541459225},m.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},m.prototype.clean=function(){d.wipe(this._buffer),d.wipe(this._temp),this.reset()},m.prototype.update=function(w,C){if(C===void 0&&(C=w.length),this._finished)throw new Error("SHA256: can't update because hash was finished.");var b=0;if(this._bytesHashed+=C,this._bufferLength>0){for(;this._bufferLength<this.blockSize&&C>0;)this._buffer[this._bufferLength++]=w[b++],C--;this._bufferLength===this.blockSize&&(v(this._temp,this._state,this._buffer,0,this.blockSize),this._bufferLength=0)}for(C>=this.blockSize&&(b=v(this._temp,this._state,w,b,C),C%=this.blockSize);C>0;)this._buffer[this._bufferLength++]=w[b++],C--;return this},m.prototype.finish=function(w){if(!this._finished){var C=this._bytesHashed,b=this._bufferLength,E=C/536870912|0,S=C<<3,R=C%64<56?64:128;this._buffer[b]=128;for(var O=b+1;O<R-8;O++)this._buffer[O]=0;r.writeUint32BE(E,this._buffer,R-8),r.writeUint32BE(S,this._buffer,R-4),v(this._temp,this._state,this._buffer,0,R),this._finished=!0}for(var O=0;O<this.digestLength/4;O++)r.writeUint32BE(this._state[O],w,O*4);return this},m.prototype.digest=function(){var w=new Uint8Array(this.digestLength);return this.finish(w),w},m.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{state:new Int32Array(this._state),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},m.prototype.restoreState=function(w){return this._state.set(w.state),this._bufferLength=w.bufferLength,w.buffer&&this._buffer.set(w.buffer),this._bytesHashed=w.bytesHashed,this._finished=!1,this},m.prototype.cleanSavedState=function(w){d.wipe(w.state),w.buffer&&d.wipe(w.buffer),w.bufferLength=0,w.bytesHashed=0},m}();f.SHA256=g;var _=new Int32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function v(m,w,C,b,E){for(;E>=64;){for(var S=w[0],R=w[1],O=w[2],$=w[3],I=w[4],U=w[5],L=w[6],j=w[7],F=0;F<16;F++){var X=b+F*4;m[F]=r.readUint32BE(C,X)}for(var F=16;F<64;F++){var z=m[F-2],Y=(z>>>17|z<<15)^(z>>>19|z<<13)^z>>>10;z=m[F-15];var ne=(z>>>7|z<<25)^(z>>>18|z<<14)^z>>>3;m[F]=(Y+m[F-7]|0)+(ne+m[F-16]|0)}for(var F=0;F<64;F++){var Y=(((I>>>6|I<<26)^(I>>>11|I<<21)^(I>>>25|I<<7))+(I&U^~I&L)|0)+(j+(_[F]+m[F]|0)|0)|0,ne=((S>>>2|S<<30)^(S>>>13|S<<19)^(S>>>22|S<<10))+(S&R^S&O^R&O)|0;j=L,L=U,U=I,I=$+Y|0,$=O,O=R,R=S,S=Y+ne|0}w[0]+=S,w[1]+=R,w[2]+=O,w[3]+=$,w[4]+=I,w[5]+=U,w[6]+=L,w[7]+=j,b+=64,E-=64}return b}function y(m){var w=new g;w.update(m);var C=w.digest();return w.clean(),C}f.hash=y})(sha256$2);var safejson={},log$5={},report={},browserPonyfill$1={exports:{}};(function(f,r){var d=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof commonjsGlobal<"u"&&commonjsGlobal,g=function(){function v(){this.fetch=!1,this.DOMException=d.DOMException}return v.prototype=d,new v}();(function(v){(function(y){var m=typeof v<"u"&&v||typeof self<"u"&&self||typeof m<"u"&&m,w={searchParams:"URLSearchParams"in m,iterable:"Symbol"in m&&"iterator"in Symbol,blob:"FileReader"in m&&"Blob"in m&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in m,arrayBuffer:"ArrayBuffer"in m};function C(A){return A&&DataView.prototype.isPrototypeOf(A)}if(w.arrayBuffer)var b=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],E=ArrayBuffer.isView||function(A){return A&&b.indexOf(Object.prototype.toString.call(A))>-1};function S(A){if(typeof A!="string"&&(A=String(A)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(A)||A==="")throw new TypeError('Invalid character in header field name: "'+A+'"');return A.toLowerCase()}function R(A){return typeof A!="string"&&(A=String(A)),A}function O(A){var B={next:function(){var N=A.shift();return{done:N===void 0,value:N}}};return w.iterable&&(B[Symbol.iterator]=function(){return B}),B}function $(A){this.map={},A instanceof $?A.forEach(function(B,N){this.append(N,B)},this):Array.isArray(A)?A.forEach(function(B){this.append(B[0],B[1])},this):A&&Object.getOwnPropertyNames(A).forEach(function(B){this.append(B,A[B])},this)}$.prototype.append=function(A,B){A=S(A),B=R(B);var N=this.map[A];this.map[A]=N?N+", "+B:B},$.prototype.delete=function(A){delete this.map[S(A)]},$.prototype.get=function(A){return A=S(A),this.has(A)?this.map[A]:null},$.prototype.has=function(A){return this.map.hasOwnProperty(S(A))},$.prototype.set=function(A,B){this.map[S(A)]=R(B)},$.prototype.forEach=function(A,B){for(var N in this.map)this.map.hasOwnProperty(N)&&A.call(B,this.map[N],N,this)},$.prototype.keys=function(){var A=[];return this.forEach(function(B,N){A.push(N)}),O(A)},$.prototype.values=function(){var A=[];return this.forEach(function(B){A.push(B)}),O(A)},$.prototype.entries=function(){var A=[];return this.forEach(function(B,N){A.push([N,B])}),O(A)},w.iterable&&($.prototype[Symbol.iterator]=$.prototype.entries);function I(A){if(A.bodyUsed)return Promise.reject(new TypeError("Already read"));A.bodyUsed=!0}function U(A){return new Promise(function(B,N){A.onload=function(){B(A.result)},A.onerror=function(){N(A.error)}})}function L(A){var B=new FileReader,N=U(B);return B.readAsArrayBuffer(A),N}function j(A){var B=new FileReader,N=U(B);return B.readAsText(A),N}function F(A){for(var B=new Uint8Array(A),N=new Array(B.length),q=0;q<B.length;q++)N[q]=String.fromCharCode(B[q]);return N.join("")}function X(A){if(A.slice)return A.slice(0);var B=new Uint8Array(A.byteLength);return B.set(new Uint8Array(A)),B.buffer}function z(){return this.bodyUsed=!1,this._initBody=function(A){this.bodyUsed=this.bodyUsed,this._bodyInit=A,A?typeof A=="string"?this._bodyText=A:w.blob&&Blob.prototype.isPrototypeOf(A)?this._bodyBlob=A:w.formData&&FormData.prototype.isPrototypeOf(A)?this._bodyFormData=A:w.searchParams&&URLSearchParams.prototype.isPrototypeOf(A)?this._bodyText=A.toString():w.arrayBuffer&&w.blob&&C(A)?(this._bodyArrayBuffer=X(A.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):w.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(A)||E(A))?this._bodyArrayBuffer=X(A):this._bodyText=A=Object.prototype.toString.call(A):this._bodyText="",this.headers.get("content-type")||(typeof A=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):w.searchParams&&URLSearchParams.prototype.isPrototypeOf(A)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},w.blob&&(this.blob=function(){var A=I(this);if(A)return A;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var A=I(this);return A||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else return this.blob().then(L)}),this.text=function(){var A=I(this);if(A)return A;if(this._bodyBlob)return j(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(F(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},w.formData&&(this.formData=function(){return this.text().then(se)}),this.json=function(){return this.text().then(JSON.parse)},this}var Y=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function ne(A){var B=A.toUpperCase();return Y.indexOf(B)>-1?B:A}function re(A,B){if(!(this instanceof re))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');B=B||{};var N=B.body;if(A instanceof re){if(A.bodyUsed)throw new TypeError("Already read");this.url=A.url,this.credentials=A.credentials,B.headers||(this.headers=new $(A.headers)),this.method=A.method,this.mode=A.mode,this.signal=A.signal,!N&&A._bodyInit!=null&&(N=A._bodyInit,A.bodyUsed=!0)}else this.url=String(A);if(this.credentials=B.credentials||this.credentials||"same-origin",(B.headers||!this.headers)&&(this.headers=new $(B.headers)),this.method=ne(B.method||this.method||"GET"),this.mode=B.mode||this.mode||null,this.signal=B.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&N)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(N),(this.method==="GET"||this.method==="HEAD")&&(B.cache==="no-store"||B.cache==="no-cache")){var q=/([?&])_=[^&]*/;if(q.test(this.url))this.url=this.url.replace(q,"$1_="+new Date().getTime());else{var K=/\?/;this.url+=(K.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}re.prototype.clone=function(){return new re(this,{body:this._bodyInit})};function se(A){var B=new FormData;return A.trim().split("&").forEach(function(N){if(N){var q=N.split("="),K=q.shift().replace(/\+/g," "),P=q.join("=").replace(/\+/g," ");B.append(decodeURIComponent(K),decodeURIComponent(P))}}),B}function G(A){var B=new $,N=A.replace(/\r?\n[\t ]+/g," ");return N.split("\r").map(function(q){return q.indexOf(`
`)===0?q.substr(1,q.length):q}).forEach(function(q){var K=q.split(":"),P=K.shift().trim();if(P){var k=K.join(":").trim();B.append(P,k)}}),B}z.call(re.prototype);function T(A,B){if(!(this instanceof T))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');B||(B={}),this.type="default",this.status=B.status===void 0?200:B.status,this.ok=this.status>=200&&this.status<300,this.statusText=B.statusText===void 0?"":""+B.statusText,this.headers=new $(B.headers),this.url=B.url||"",this._initBody(A)}z.call(T.prototype),T.prototype.clone=function(){return new T(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new $(this.headers),url:this.url})},T.error=function(){var A=new T(null,{status:0,statusText:""});return A.type="error",A};var D=[301,302,303,307,308];T.redirect=function(A,B){if(D.indexOf(B)===-1)throw new RangeError("Invalid status code");return new T(null,{status:B,headers:{location:A}})},y.DOMException=m.DOMException;try{new y.DOMException}catch{y.DOMException=function(B,N){this.message=B,this.name=N;var q=Error(B);this.stack=q.stack},y.DOMException.prototype=Object.create(Error.prototype),y.DOMException.prototype.constructor=y.DOMException}function x(A,B){return new Promise(function(N,q){var K=new re(A,B);if(K.signal&&K.signal.aborted)return q(new y.DOMException("Aborted","AbortError"));var P=new XMLHttpRequest;function k(){P.abort()}P.onload=function(){var W={status:P.status,statusText:P.statusText,headers:G(P.getAllResponseHeaders()||"")};W.url="responseURL"in P?P.responseURL:W.headers.get("X-Request-URL");var ce="response"in P?P.response:P.responseText;setTimeout(function(){N(new T(ce,W))},0)},P.onerror=function(){setTimeout(function(){q(new TypeError("Network request failed"))},0)},P.ontimeout=function(){setTimeout(function(){q(new TypeError("Network request failed"))},0)},P.onabort=function(){setTimeout(function(){q(new y.DOMException("Aborted","AbortError"))},0)};function M(W){try{return W===""&&m.location.href?m.location.href:W}catch{return W}}P.open(K.method,M(K.url),!0),K.credentials==="include"?P.withCredentials=!0:K.credentials==="omit"&&(P.withCredentials=!1),"responseType"in P&&(w.blob?P.responseType="blob":w.arrayBuffer&&K.headers.get("Content-Type")&&K.headers.get("Content-Type").indexOf("application/octet-stream")!==-1&&(P.responseType="arraybuffer")),B&&typeof B.headers=="object"&&!(B.headers instanceof $)?Object.getOwnPropertyNames(B.headers).forEach(function(W){P.setRequestHeader(W,R(B.headers[W]))}):K.headers.forEach(function(W,ce){P.setRequestHeader(ce,W)}),K.signal&&(K.signal.addEventListener("abort",k),P.onreadystatechange=function(){P.readyState===4&&K.signal.removeEventListener("abort",k)}),P.send(typeof K._bodyInit>"u"?null:K._bodyInit)})}return x.polyfill=!0,m.fetch||(m.fetch=x,m.Headers=$,m.Request=re,m.Response=T),y.Headers=$,y.Request=re,y.Response=T,y.fetch=x,y})({})})(g),g.fetch.ponyfill=!0,delete g.fetch.polyfill;var _=d.fetch?d:g;r=_.fetch,r.default=_.fetch,r.fetch=_.fetch,r.Headers=_.Headers,r.Request=_.Request,r.Response=_.Response,f.exports=r})(browserPonyfill$1,browserPonyfill$1.exports);var browserPonyfillExports$1=browserPonyfill$1.exports,url$1={},protocol={},error={},okxConnect_error={};(function(f){Object.defineProperty(f,"__esModule",{value:!0}),f.DEFAULT_ERROR=f.STANDARD_ERROR_MAP=f.SERVER_ERROR_CODE_RANGE=f.RESERVED_ERROR_CODES=f.SERVER_ERROR=f.INTERNAL_ERROR=f.INVALID_PARAMS=f.METHOD_NOT_FOUND=f.INVALID_REQUEST=f.PARSE_ERROR=f.OKX_CONNECT_ERROR_CODES=f.OKXConnectError=void 0;class r extends Error{constructor(v,y){y==null&&(y=d(v)),super(y),this.code=v,this.message=`${r.prefix} ${y?`
`+y:""}`,Object.setPrototypeOf(this,r.prototype)}toJSON(){return{message:this.message,code:this.code}}}f.OKXConnectError=r,r.prefix="[OKX_CONNECT_SDK_ERROR]";function d(_){return _==g.UNKNOWN_ERROR?"unknown error":_==g.BAD_REQUEST_ERROR?"bad request error":_==g.ALREADY_CONNECTED_ERROR?"already connected error":_==g.NOT_CONNECTED_ERROR?"not connected error":_==g.UNKNOWN_APP_ERROR?"unknown app error":_==g.USER_REJECTS_ERROR?"user rejects error":_==g.USER_REJECTS_ERROR_CAUSE_REGISTER?"wallet address are registering":_==g.METHOD_NOT_SUPPORTED?"method not supported":_==g.CONNECTION_ERROR?"connect error":_==g.CHAIN_NOT_SUPPORTED?"chain not supported":"unknown error"}var g;(function(_){_[_.UNKNOWN_ERROR=0]="UNKNOWN_ERROR",_[_.BAD_REQUEST_ERROR=1]="BAD_REQUEST_ERROR",_[_.ALREADY_CONNECTED_ERROR=11]="ALREADY_CONNECTED_ERROR",_[_.NOT_CONNECTED_ERROR=12]="NOT_CONNECTED_ERROR",_[_.UNKNOWN_APP_ERROR=100]="UNKNOWN_APP_ERROR",_[_.USER_REJECTS_ERROR=300]="USER_REJECTS_ERROR",_[_.USER_REJECTS_ERROR_CAUSE_REGISTER=301]="USER_REJECTS_ERROR_CAUSE_REGISTER",_[_.METHOD_NOT_SUPPORTED=400]="METHOD_NOT_SUPPORTED",_[_.CHAIN_NOT_SUPPORTED=500]="CHAIN_NOT_SUPPORTED",_[_.WALLET_NOT_SUPPORTED=600]="WALLET_NOT_SUPPORTED",_[_.CONNECTION_ERROR=700]="CONNECTION_ERROR"})(g||(f.OKX_CONNECT_ERROR_CODES=g={})),f.PARSE_ERROR="PARSE_ERROR",f.INVALID_REQUEST="INVALID_REQUEST",f.METHOD_NOT_FOUND="METHOD_NOT_FOUND",f.INVALID_PARAMS="INVALID_PARAMS",f.INTERNAL_ERROR="INTERNAL_ERROR",f.SERVER_ERROR="SERVER_ERROR",f.RESERVED_ERROR_CODES=[-32700,-32600,-32601,-32602,-32603],f.SERVER_ERROR_CODE_RANGE=[-32e3,-32099],f.STANDARD_ERROR_MAP={[f.PARSE_ERROR]:{code:-32700,message:"Parse error"},[f.INVALID_REQUEST]:{code:-32600,message:"Invalid Request"},[f.METHOD_NOT_FOUND]:{code:-32601,message:"Method not found"},[f.INVALID_PARAMS]:{code:-32602,message:"Invalid params"},[f.INTERNAL_ERROR]:{code:-32603,message:"Internal error"},[f.SERVER_ERROR]:{code:-32e3,message:"Server error"}},f.DEFAULT_ERROR=f.SERVER_ERROR})(okxConnect_error);(function(f){Object.defineProperty(f,"__esModule",{value:!0}),f.OKX_CONNECT_ERROR_CODES=f.OKXConnectError=void 0;var r=okxConnect_error;Object.defineProperty(f,"OKXConnectError",{enumerable:!0,get:function(){return r.OKXConnectError}}),Object.defineProperty(f,"OKX_CONNECT_ERROR_CODES",{enumerable:!0,get:function(){return r.OKX_CONNECT_ERROR_CODES}})})(error);var misc$2={};Object.defineProperty(misc$2,"__esModule",{value:!0});misc$2.NameSpaceKeyStarknet=misc$2.NameSpaceKeyTron=misc$2.NameSpaceKeyCosmos=misc$2.NameSpaceKeyAptos=misc$2.NameSpaceKeyBtc=misc$2.NameSpaceKeySui=misc$2.NameSpaceKeyTON=misc$2.NameSpaceKeySOL=misc$2.NameSpaceKeyEip155=void 0;misc$2.NameSpaceKeyEip155="eip155";misc$2.NameSpaceKeySOL="solana";misc$2.NameSpaceKeyTON="ton";misc$2.NameSpaceKeySui="sui";misc$2.NameSpaceKeyBtc="btc";misc$2.NameSpaceKeyAptos="aptos";misc$2.NameSpaceKeyCosmos="cosmos";misc$2.NameSpaceKeyTron="tron";misc$2.NameSpaceKeyStarknet="starknet";var constants$2={};(function(f){Object.defineProperty(f,"__esModule",{value:!0}),f.OKX_MINI_WALLET_NAME=f.OKX_APP_WALLET_NAME=f.stackDeepLink=f.tgwalletAppName=f.tgwalletName=f.tonConnectSdkVersion=f.shortUniversalLink=f.standardDeeplink=f.downloadUrl=f.standardUniversalLink=f.okxDeeplink=void 0,f.getTestTwaUrl=r,f.getTestTgTwaUrl=d,f.getBotNameAndAppName=g,f.okxDeeplink="okx://web3",f.standardUniversalLink=typeof window<"u"&&window.location.hostname.includes("okx.com")?"https://link.okx.com/download":"https://www.okx.com/download",f.downloadUrl="https://www.okx.com/download",f.standardDeeplink=`${f.okxDeeplink}/wallet/connect`,f.shortUniversalLink="https://www.okx.com/ul/connect",f.tonConnectSdkVersion="1",f.tgwalletName="OKX_WALLET_BOT",f.tgwalletAppName="start",f.stackDeepLink="okx://web3?stack=true";function r(){return window.okxTesttwaUrl}function d(){return window.okxTestTgtwaUrl}function g(_){const y=new URL(_).pathname.split("/").filter(Boolean);if(y.length>=2){const m=y[0],w=y[1];return{botName:m,appName:w}}}f.OKX_APP_WALLET_NAME="OKX Wallet",f.OKX_MINI_WALLET_NAME="OKX Mini Wallet"})(constants$2);var connect={},jsonRpc={},__importDefault$7=commonjsGlobal&&commonjsGlobal.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(jsonRpc,"__esModule",{value:!0});jsonRpc.isJsonRpcPayload=isJsonRpcPayload;jsonRpc.isJsonRpcRequest=isJsonRpcRequest;jsonRpc.isJsonRpcResponse=isJsonRpcResponse;jsonRpc.isJsonRpcResult=isJsonRpcResult;jsonRpc.isJsonRpcError=isJsonRpcError;jsonRpc.payloadId=payloadId;jsonRpc.getBigIntRpcId=getBigIntRpcId;jsonRpc.formatJsonRpcRequest=formatJsonRpcRequest;jsonRpc.formatJsonRpcResult=formatJsonRpcResult;jsonRpc.formatJsonRpcError=formatJsonRpcError;jsonRpc.isReservedErrorCode=isReservedErrorCode;jsonRpc.getError=getError;jsonRpc.getErrorByCode=getErrorByCode;jsonRpc.formatErrorMessage=formatErrorMessage;jsonRpc.isHttpUrl=isHttpUrl;jsonRpc.isWsUrl=isWsUrl;jsonRpc.parseConnectionError=parseConnectionError;function isJsonRpcPayload(f){return typeof f=="object"&&"id"in f&&"jsonrpc"in f&&f.jsonrpc==="2.0"}function isJsonRpcRequest(f){return isJsonRpcPayload(f)&&"method"in f}function isJsonRpcResponse(f){return isJsonRpcPayload(f)&&(isJsonRpcResult(f)||isJsonRpcError(f))}function isJsonRpcResult(f){return"result"in f}function isJsonRpcError(f){return"error"in f}const okx_connect_error_1=okxConnect_error,tweetnacl_1$2=__importDefault$7(naclFastExports);class IncrementalRandomGenerator{constructor(r){this.i=1,r?this.initialValue=tweetnacl_1$2.default.randomBytes(r/8)[0]:this.initialValue=0}getNextValue(){return this.initialValue+this.i++}}const uint8Generator=new IncrementalRandomGenerator(8),uint16Generator=new IncrementalRandomGenerator(16);function payloadId(){const f=Date.now()*1e3,r=uint8Generator.getNextValue();return f+r}function getBigIntRpcId(){const f=BigInt(Date.now())*BigInt(1e6),r=BigInt(uint16Generator.getNextValue());return f+r}function formatJsonRpcRequest(f,r,d){return{id:d||payloadId(),jsonrpc:"2.0",method:f,params:r}}function formatJsonRpcResult(f,r){return{id:f,jsonrpc:"2.0",result:r}}function formatJsonRpcError(f,r,d){return{id:f,jsonrpc:"2.0",error:formatErrorMessage(r,d)}}function isReservedErrorCode(f){return okx_connect_error_1.RESERVED_ERROR_CODES.includes(f)}function getError(f){return Object.keys(okx_connect_error_1.STANDARD_ERROR_MAP).includes(f)?okx_connect_error_1.STANDARD_ERROR_MAP[f]:okx_connect_error_1.STANDARD_ERROR_MAP[okx_connect_error_1.DEFAULT_ERROR]}function getErrorByCode(f){const r=Object.values(okx_connect_error_1.STANDARD_ERROR_MAP).find(d=>d.code===f);return r||okx_connect_error_1.STANDARD_ERROR_MAP[okx_connect_error_1.DEFAULT_ERROR]}function formatErrorMessage(f,r){return typeof f>"u"?getError(okx_connect_error_1.INTERNAL_ERROR):(typeof f=="string"&&(f=Object.assign(Object.assign({},getError(okx_connect_error_1.SERVER_ERROR)),{message:f})),typeof r<"u"&&(f.data=r),isReservedErrorCode(f.code)&&(f=getErrorByCode(f.code)),f)}function getUrlProtocol(f){const r=f.match(new RegExp(/^\w+:/,"gi"));if(!(!r||!r.length))return r[0]}function matchRegexProtocol(f,r){const d=getUrlProtocol(f);return typeof d>"u"?!1:new RegExp(r).test(d)}function isHttpUrl(f){return matchRegexProtocol(f,"^https?:")}function isWsUrl(f){return matchRegexProtocol(f,"^wss?:")}function parseConnectionError(f,r,d){return f.message.includes("getaddrinfo ENOTFOUND")||f.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${d} RPC url at ${r}`):f}var engine$1={},eventemitter3$1={exports:{}};(function(f){var r=Object.prototype.hasOwnProperty,d="~";function g(){}Object.create&&(g.prototype=Object.create(null),new g().__proto__||(d=!1));function _(w,C,b){this.fn=w,this.context=C,this.once=b||!1}function v(w,C,b,E,S){if(typeof b!="function")throw new TypeError("The listener must be a function");var R=new _(b,E||w,S),O=d?d+C:C;return w._events[O]?w._events[O].fn?w._events[O]=[w._events[O],R]:w._events[O].push(R):(w._events[O]=R,w._eventsCount++),w}function y(w,C){--w._eventsCount===0?w._events=new g:delete w._events[C]}function m(){this._events=new g,this._eventsCount=0}m.prototype.eventNames=function(){var C=[],b,E;if(this._eventsCount===0)return C;for(E in b=this._events)r.call(b,E)&&C.push(d?E.slice(1):E);return Object.getOwnPropertySymbols?C.concat(Object.getOwnPropertySymbols(b)):C},m.prototype.listeners=function(C){var b=d?d+C:C,E=this._events[b];if(!E)return[];if(E.fn)return[E.fn];for(var S=0,R=E.length,O=new Array(R);S<R;S++)O[S]=E[S].fn;return O},m.prototype.listenerCount=function(C){var b=d?d+C:C,E=this._events[b];return E?E.fn?1:E.length:0},m.prototype.emit=function(C,b,E,S,R,O){var $=d?d+C:C;if(!this._events[$])return!1;var I=this._events[$],U=arguments.length,L,j;if(I.fn){switch(I.once&&this.removeListener(C,I.fn,void 0,!0),U){case 1:return I.fn.call(I.context),!0;case 2:return I.fn.call(I.context,b),!0;case 3:return I.fn.call(I.context,b,E),!0;case 4:return I.fn.call(I.context,b,E,S),!0;case 5:return I.fn.call(I.context,b,E,S,R),!0;case 6:return I.fn.call(I.context,b,E,S,R,O),!0}for(j=1,L=new Array(U-1);j<U;j++)L[j-1]=arguments[j];I.fn.apply(I.context,L)}else{var F=I.length,X;for(j=0;j<F;j++)switch(I[j].once&&this.removeListener(C,I[j].fn,void 0,!0),U){case 1:I[j].fn.call(I[j].context);break;case 2:I[j].fn.call(I[j].context,b);break;case 3:I[j].fn.call(I[j].context,b,E);break;case 4:I[j].fn.call(I[j].context,b,E,S);break;default:if(!L)for(X=1,L=new Array(U-1);X<U;X++)L[X-1]=arguments[X];I[j].fn.apply(I[j].context,L)}}return!0},m.prototype.on=function(C,b,E){return v(this,C,b,E,!1)},m.prototype.once=function(C,b,E){return v(this,C,b,E,!0)},m.prototype.removeListener=function(C,b,E,S){var R=d?d+C:C;if(!this._events[R])return this;if(!b)return y(this,R),this;var O=this._events[R];if(O.fn)O.fn===b&&(!S||O.once)&&(!E||O.context===E)&&y(this,R);else{for(var $=0,I=[],U=O.length;$<U;$++)(O[$].fn!==b||S&&!O[$].once||E&&O[$].context!==E)&&I.push(O[$]);I.length?this._events[R]=I.length===1?I[0]:I:y(this,R)}return this},m.prototype.removeAllListeners=function(C){var b;return C?(b=d?d+C:C,this._events[b]&&y(this,b)):(this._events=new g,this._eventsCount=0),this},m.prototype.off=m.prototype.removeListener,m.prototype.addListener=m.prototype.on,m.prefixed=d,m.EventEmitter=m,f.exports=m})(eventemitter3$1);var eventemitter3Exports=eventemitter3$1.exports;const EventEmitter=getDefaultExportFromCjs(eventemitter3Exports),eventemitter3=Object.freeze(Object.defineProperty({__proto__:null,EventEmitter,default:EventEmitter},Symbol.toStringTag,{value:"Module"})),require$$3=getAugmentedNamespace(eventemitter3);var __importDefault$6=commonjsGlobal&&commonjsGlobal.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(engine$1,"__esModule",{value:!0});engine$1.IEngine=engine$1.ISignClient=engine$1.ISignClientEvents=engine$1.IEngineEvents=void 0;const eventemitter3_1$6=__importDefault$6(require$$3);class IEngineEvents extends eventemitter3_1$6.default{constructor(){super()}}engine$1.IEngineEvents=IEngineEvents;class ISignClientEvents extends eventemitter3_1$6.default{constructor(){super()}}engine$1.ISignClientEvents=ISignClientEvents;class ISignClient{constructor(r){this.data=r}}engine$1.ISignClient=ISignClient;class IEngine{constructor(r){this.client=r}}engine$1.IEngine=IEngine;var ton$1={},connectWallet={};Object.defineProperty(connectWallet,"__esModule",{value:!0});connectWallet.TONCHAIN=void 0;var TONCHAIN;(function(f){f.MAINNET="-239"})(TONCHAIN||(connectWallet.TONCHAIN=TONCHAIN={}));var connectEvent={};Object.defineProperty(connectEvent,"__esModule",{value:!0});connectEvent.CONNECT_ITEM_ERROR_CODES=void 0;var CONNECT_ITEM_ERROR_CODES;(function(f){f[f.UNKNOWN_ERROR=0]="UNKNOWN_ERROR",f[f.METHOD_NOT_SUPPORTED=400]="METHOD_NOT_SUPPORTED"})(CONNECT_ITEM_ERROR_CODES||(connectEvent.CONNECT_ITEM_ERROR_CODES=CONNECT_ITEM_ERROR_CODES={}));(function(f){Object.defineProperty(f,"__esModule",{value:!0}),f.CONNECT_ITEM_ERROR_CODES=f.TONCHAIN=void 0;var r=connectWallet;Object.defineProperty(f,"TONCHAIN",{enumerable:!0,get:function(){return r.TONCHAIN}});var d=connectEvent;Object.defineProperty(f,"CONNECT_ITEM_ERROR_CODES",{enumerable:!0,get:function(){return d.CONNECT_ITEM_ERROR_CODES}})})(ton$1);var walletInfo$1={};(function(f){Object.defineProperty(f,"__esModule",{value:!0}),f.OKXInjectWalletName=f.OKXMiniWalletName=f.OKXWalletName=void 0,f.creatOKXWalletInfo=r,f.creatOKXMiniAppWalletInfo=d,f.creatOKXInjectWalletInfo=g,f.OKXWalletName="OKX Wallet",f.OKXMiniWalletName="OKX Mini Wallet",f.OKXInjectWalletName="OKX Inject Wallet";function r(){return{appName:"okxAppWallet",name:f.OKXWalletName,imageUrl:"https://static.okx.com/cdn/assets/imgs/247/58E63FEA47A2B7D7.png"}}function d(){return{appName:"okxMiniApp",name:f.OKXMiniWalletName,imageUrl:"https://static.okx.com/cdn/assets/imgs/247/58E63FEA47A2B7D7.png"}}function g(){return{appName:"okxInjectWallet",name:f.OKXInjectWalletName,imageUrl:""}}})(walletInfo$1);(function(f){var r=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(y,m,w,C){C===void 0&&(C=w);var b=Object.getOwnPropertyDescriptor(m,w);(!b||("get"in b?!m.__esModule:b.writable||b.configurable))&&(b={enumerable:!0,get:function(){return m[w]}}),Object.defineProperty(y,C,b)}:function(y,m,w,C){C===void 0&&(C=w),y[C]=m[w]}),d=commonjsGlobal&&commonjsGlobal.__exportStar||function(y,m){for(var w in y)w!=="default"&&!Object.prototype.hasOwnProperty.call(m,w)&&r(m,y,w)};Object.defineProperty(f,"__esModule",{value:!0}),f.OKXWalletName=f.creatOKXInjectWalletInfo=f.creatOKXMiniAppWalletInfo=f.creatOKXWalletInfo=f.ISignClientEvents=f.IEngine=f.IEngineEvents=f.ISignClient=f.getBigIntRpcId=f.formatJsonRpcRequest=f.isJsonRpcError=f.isJsonRpcResponse=f.parseConnectionError=f.isHttpUrl=f.formatJsonRpcError=void 0;var g=jsonRpc;Object.defineProperty(f,"formatJsonRpcError",{enumerable:!0,get:function(){return g.formatJsonRpcError}}),Object.defineProperty(f,"isHttpUrl",{enumerable:!0,get:function(){return g.isHttpUrl}}),Object.defineProperty(f,"parseConnectionError",{enumerable:!0,get:function(){return g.parseConnectionError}}),Object.defineProperty(f,"isJsonRpcResponse",{enumerable:!0,get:function(){return g.isJsonRpcResponse}}),Object.defineProperty(f,"isJsonRpcError",{enumerable:!0,get:function(){return g.isJsonRpcError}}),Object.defineProperty(f,"formatJsonRpcRequest",{enumerable:!0,get:function(){return g.formatJsonRpcRequest}}),Object.defineProperty(f,"getBigIntRpcId",{enumerable:!0,get:function(){return g.getBigIntRpcId}});var _=engine$1;Object.defineProperty(f,"ISignClient",{enumerable:!0,get:function(){return _.ISignClient}}),Object.defineProperty(f,"IEngineEvents",{enumerable:!0,get:function(){return _.IEngineEvents}}),Object.defineProperty(f,"IEngine",{enumerable:!0,get:function(){return _.IEngine}}),Object.defineProperty(f,"ISignClientEvents",{enumerable:!0,get:function(){return _.ISignClientEvents}}),d(ton$1,f);var v=walletInfo$1;Object.defineProperty(f,"creatOKXWalletInfo",{enumerable:!0,get:function(){return v.creatOKXWalletInfo}}),Object.defineProperty(f,"creatOKXMiniAppWalletInfo",{enumerable:!0,get:function(){return v.creatOKXMiniAppWalletInfo}}),Object.defineProperty(f,"creatOKXInjectWalletInfo",{enumerable:!0,get:function(){return v.creatOKXInjectWalletInfo}}),Object.defineProperty(f,"OKXWalletName",{enumerable:!0,get:function(){return v.OKXWalletName}})})(connect);var chains={};Object.defineProperty(chains,"__esModule",{value:!0});chains.TON_CHAINS=chains.COSMOS_CHAINS=chains.APTOS_CHAINS=chains.SUI_CHAINS=chains.SOLANA_CHAINS=chains.BTC_CHAINS=void 0;chains.BTC_CHAINS={MAINNET:"btc:mainnet",FRACTAL:"fractal:mainnet"};chains.SOLANA_CHAINS={MAINNET:"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",TESTNET:"solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z",SONIC_TESTNET:"sonic:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z"};chains.SUI_CHAINS={MAINNET:"sui:mainnet"};chains.APTOS_CHAINS={MAINNET:"aptos:mainnet"};chains.COSMOS_CHAINS={COSMOS_MAINNET:"cosmos:cosmoshub-4"};chains.TON_CHAINS={MAINNET:"ton:-239"};(function(f){var r=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(y,m,w,C){C===void 0&&(C=w);var b=Object.getOwnPropertyDescriptor(m,w);(!b||("get"in b?!m.__esModule:b.writable||b.configurable))&&(b={enumerable:!0,get:function(){return m[w]}}),Object.defineProperty(y,C,b)}:function(y,m,w,C){C===void 0&&(C=w),y[C]=m[w]}),d=commonjsGlobal&&commonjsGlobal.__exportStar||function(y,m){for(var w in y)w!=="default"&&!Object.prototype.hasOwnProperty.call(m,w)&&r(m,y,w)};Object.defineProperty(f,"__esModule",{value:!0}),f.TON_CHAINS=f.COSMOS_CHAINS=f.APTOS_CHAINS=f.SUI_CHAINS=f.SOLANA_CHAINS=f.BTC_CHAINS=f.downloadUrl=f.okxDeeplink=f.tonConnectSdkVersion=f.standardDeeplink=f.standardUniversalLink=f.NameSpaceKeyStarknet=f.NameSpaceKeyTron=f.NameSpaceKeyCosmos=f.NameSpaceKeyAptos=f.NameSpaceKeyBtc=f.NameSpaceKeySui=f.NameSpaceKeyTON=f.NameSpaceKeySOL=f.NameSpaceKeyEip155=void 0,d(error,f);var g=misc$2;Object.defineProperty(f,"NameSpaceKeyEip155",{enumerable:!0,get:function(){return g.NameSpaceKeyEip155}}),Object.defineProperty(f,"NameSpaceKeySOL",{enumerable:!0,get:function(){return g.NameSpaceKeySOL}}),Object.defineProperty(f,"NameSpaceKeyTON",{enumerable:!0,get:function(){return g.NameSpaceKeyTON}}),Object.defineProperty(f,"NameSpaceKeySui",{enumerable:!0,get:function(){return g.NameSpaceKeySui}}),Object.defineProperty(f,"NameSpaceKeyBtc",{enumerable:!0,get:function(){return g.NameSpaceKeyBtc}}),Object.defineProperty(f,"NameSpaceKeyAptos",{enumerable:!0,get:function(){return g.NameSpaceKeyAptos}}),Object.defineProperty(f,"NameSpaceKeyCosmos",{enumerable:!0,get:function(){return g.NameSpaceKeyCosmos}}),Object.defineProperty(f,"NameSpaceKeyTron",{enumerable:!0,get:function(){return g.NameSpaceKeyTron}}),Object.defineProperty(f,"NameSpaceKeyStarknet",{enumerable:!0,get:function(){return g.NameSpaceKeyStarknet}});var _=constants$2;Object.defineProperty(f,"standardUniversalLink",{enumerable:!0,get:function(){return _.standardUniversalLink}}),Object.defineProperty(f,"standardDeeplink",{enumerable:!0,get:function(){return _.standardDeeplink}}),Object.defineProperty(f,"tonConnectSdkVersion",{enumerable:!0,get:function(){return _.tonConnectSdkVersion}}),Object.defineProperty(f,"okxDeeplink",{enumerable:!0,get:function(){return _.okxDeeplink}}),Object.defineProperty(f,"downloadUrl",{enumerable:!0,get:function(){return _.downloadUrl}}),d(connect,f);var v=chains;Object.defineProperty(f,"BTC_CHAINS",{enumerable:!0,get:function(){return v.BTC_CHAINS}}),Object.defineProperty(f,"SOLANA_CHAINS",{enumerable:!0,get:function(){return v.SOLANA_CHAINS}}),Object.defineProperty(f,"SUI_CHAINS",{enumerable:!0,get:function(){return v.SUI_CHAINS}}),Object.defineProperty(f,"APTOS_CHAINS",{enumerable:!0,get:function(){return v.APTOS_CHAINS}}),Object.defineProperty(f,"COSMOS_CHAINS",{enumerable:!0,get:function(){return v.COSMOS_CHAINS}}),Object.defineProperty(f,"TON_CHAINS",{enumerable:!0,get:function(){return v.TON_CHAINS}})})(protocol);var tmaApi={},webApi={},uaParser={exports:{}};(function(f,r){(function(d,g){var _="1.0.39",v="",y="?",m="function",w="undefined",C="object",b="string",E="major",S="model",R="name",O="type",$="vendor",I="version",U="architecture",L="console",j="mobile",F="tablet",X="smarttv",z="wearable",Y="embedded",ne=500,re="Amazon",se="Apple",G="ASUS",T="BlackBerry",D="Browser",x="Chrome",A="Edge",B="Firefox",N="Google",q="Huawei",K="LG",P="Microsoft",k="Motorola",M="Opera",W="Samsung",ce="Sharp",be="Sony",ve="Xiaomi",Z="Zebra",J="Facebook",oe="Chromium OS",H="Mac OS",Q=" Browser",ie=function(Fe,Le){var Qe={};for(var rt in Fe)Le[rt]&&Le[rt].length%2===0?Qe[rt]=Le[rt].concat(Fe[rt]):Qe[rt]=Fe[rt];return Qe},we=function(Fe){for(var Le={},Qe=0;Qe<Fe.length;Qe++)Le[Fe[Qe].toUpperCase()]=Fe[Qe];return Le},Se=function(Fe,Le){return typeof Fe===b?De(Le).indexOf(De(Fe))!==-1:!1},De=function(Fe){return Fe.toLowerCase()},Ie=function(Fe){return typeof Fe===b?Fe.replace(/[^\d\.]/g,v).split(".")[0]:g},qe=function(Fe,Le){if(typeof Fe===b)return Fe=Fe.replace(/^\s\s*/,v),typeof Le===w?Fe:Fe.substring(0,ne)},Ne=function(Fe,Le){for(var Qe=0,rt,ue,ee,te,de,xe;Qe<Le.length&&!de;){var Re=Le[Qe],Te=Le[Qe+1];for(rt=ue=0;rt<Re.length&&!de&&Re[rt];)if(de=Re[rt++].exec(Fe),de)for(ee=0;ee<Te.length;ee++)xe=de[++ue],te=Te[ee],typeof te===C&&te.length>0?te.length===2?typeof te[1]==m?this[te[0]]=te[1].call(this,xe):this[te[0]]=te[1]:te.length===3?typeof te[1]===m&&!(te[1].exec&&te[1].test)?this[te[0]]=xe?te[1].call(this,xe,te[2]):g:this[te[0]]=xe?xe.replace(te[1],te[2]):g:te.length===4&&(this[te[0]]=xe?te[3].call(this,xe.replace(te[1],te[2])):g):this[te]=xe||g;Qe+=2}},Me=function(Fe,Le){for(var Qe in Le)if(typeof Le[Qe]===C&&Le[Qe].length>0){for(var rt=0;rt<Le[Qe].length;rt++)if(Se(Le[Qe][rt],Fe))return Qe===y?g:Qe}else if(Se(Le[Qe],Fe))return Qe===y?g:Qe;return Le.hasOwnProperty("*")?Le["*"]:Fe},Ve={"1.0":"/8","1.2":"/1","1.3":"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},Ke={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2","8.1":"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},ot={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[I,[R,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[I,[R,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[R,I],[/opios[\/ ]+([\w\.]+)/i],[I,[R,M+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[I,[R,M+" GX"]],[/\bopr\/([\w\.]+)/i],[I,[R,M]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[I,[R,"Baidu"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim)\s?(?:browser)?[\/ ]?([\w\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[R,I],[/quark(?:pc)?\/([-\w\.]+)/i],[I,[R,"Quark"]],[/\bddg\/([\w\.]+)/i],[I,[R,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[I,[R,"UC"+D]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[I,[R,"WeChat"]],[/konqueror\/([\w\.]+)/i],[I,[R,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[I,[R,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[I,[R,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[I,[R,"Smart Lenovo "+D]],[/(avast|avg)\/([\w\.]+)/i],[[R,/(.+)/,"$1 Secure "+D],I],[/\bfocus\/([\w\.]+)/i],[I,[R,B+" Focus"]],[/\bopt\/([\w\.]+)/i],[I,[R,M+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[I,[R,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[I,[R,"Dolphin"]],[/coast\/([\w\.]+)/i],[I,[R,M+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[I,[R,"MIUI "+D]],[/fxios\/([-\w\.]+)/i],[I,[R,B]],[/\bqihu|(qi?ho?o?|360)browser/i],[[R,"360"+Q]],[/\b(qq)\/([\w\.]+)/i],[[R,/(.+)/,"$1Browser"],I],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[R,/(.+)/,"$1"+Q],I],[/samsungbrowser\/([\w\.]+)/i],[I,[R,W+" Internet"]],[/(comodo_dragon)\/([\w\.]+)/i],[[R,/_/g," "],I],[/metasr[\/ ]?([\d\.]+)/i],[I,[R,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[R,"Sogou Mobile"],I],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345Explorer)[\/ ]?([\w\.]+)/i],[R,I],[/(lbbrowser|rekonq)/i,/\[(linkedin)app\]/i],[R],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[R,J],I],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[R,I],[/\bgsa\/([\w\.]+) .*safari\//i],[I,[R,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[I,[R,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[I,[R,x+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[R,x+" WebView"],I],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[I,[R,"Android "+D]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[R,I],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[I,[R,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[I,R],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[R,[I,Me,Ve]],[/(webkit|khtml)\/([\w\.]+)/i],[R,I],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[R,"Netscape"],I],[/(wolvic)\/([\w\.]+)/i],[R,I],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[I,[R,B+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[R,[I,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[R,[I,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[U,"amd64"]],[/(ia32(?=;))/i],[[U,De]],[/((?:i[346]|x)86)[;\)]/i],[[U,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[U,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[U,"armhf"]],[/windows (ce|mobile); ppc;/i],[[U,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[U,/ower/,v,De]],[/(sun4\w)[;\)]/i],[[U,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[U,De]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[S,[$,W],[O,F]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\w]+)/i,/sec-(sgh\w+)/i],[S,[$,W],[O,j]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[S,[$,se],[O,j]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[S,[$,se],[O,F]],[/(macintosh);/i],[S,[$,se]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[S,[$,ce],[O,j]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[S,[$,q],[O,F]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[S,[$,q],[O,j]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i],[[S,/_/g," "],[$,ve],[O,j]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[S,/_/g," "],[$,ve],[O,F]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[S,[$,"OPPO"],[O,j]],[/\b(opd2\d{3}a?) bui/i],[S,[$,"OPPO"],[O,F]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[S,[$,"Vivo"],[O,j]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[S,[$,"Realme"],[O,j]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[S,[$,k],[O,j]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[S,[$,k],[O,F]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[S,[$,K],[O,F]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[S,[$,K],[O,j]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[S,[$,"Lenovo"],[O,F]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[S,/_/g," "],[$,"Nokia"],[O,j]],[/(pixel c)\b/i],[S,[$,N],[O,F]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[S,[$,N],[O,j]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[S,[$,be],[O,j]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[S,"Xperia Tablet"],[$,be],[O,F]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[S,[$,"OnePlus"],[O,j]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[S,[$,re],[O,F]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[S,/(.+)/g,"Fire Phone $1"],[$,re],[O,j]],[/(playbook);[-\w\),; ]+(rim)/i],[S,$,[O,F]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[S,[$,T],[O,j]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[S,[$,G],[O,F]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[S,[$,G],[O,j]],[/(nexus 9)/i],[S,[$,"HTC"],[O,F]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[$,[S,/_/g," "],[O,j]],[/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])\w*(\)| bui)/i],[S,[$,"TCL"],[O,F]],[/(itel) ((\w+))/i],[[$,De],S,[O,Me,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[S,[$,"Acer"],[O,F]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[S,[$,"Meizu"],[O,j]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[S,[$,"Ulefone"],[O,j]],[/droid.+; (a(?:015|06[35]|142p?))/i],[S,[$,"Nothing"],[O,j]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[$,S,[O,j]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[$,S,[O,F]],[/(surface duo)/i],[S,[$,P],[O,F]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[S,[$,"Fairphone"],[O,j]],[/(u304aa)/i],[S,[$,"AT&T"],[O,j]],[/\bsie-(\w*)/i],[S,[$,"Siemens"],[O,j]],[/\b(rct\w+) b/i],[S,[$,"RCA"],[O,F]],[/\b(venue[\d ]{2,7}) b/i],[S,[$,"Dell"],[O,F]],[/\b(q(?:mv|ta)\w+) b/i],[S,[$,"Verizon"],[O,F]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[S,[$,"Barnes & Noble"],[O,F]],[/\b(tm\d{3}\w+) b/i],[S,[$,"NuVision"],[O,F]],[/\b(k88) b/i],[S,[$,"ZTE"],[O,F]],[/\b(nx\d{3}j) b/i],[S,[$,"ZTE"],[O,j]],[/\b(gen\d{3}) b.+49h/i],[S,[$,"Swiss"],[O,j]],[/\b(zur\d{3}) b/i],[S,[$,"Swiss"],[O,F]],[/\b((zeki)?tb.*\b) b/i],[S,[$,"Zeki"],[O,F]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[$,"Dragon Touch"],S,[O,F]],[/\b(ns-?\w{0,9}) b/i],[S,[$,"Insignia"],[O,F]],[/\b((nxa|next)-?\w{0,9}) b/i],[S,[$,"NextBook"],[O,F]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[$,"Voice"],S,[O,j]],[/\b(lvtel\-)?(v1[12]) b/i],[[$,"LvTel"],S,[O,j]],[/\b(ph-1) /i],[S,[$,"Essential"],[O,j]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[S,[$,"Envizen"],[O,F]],[/\b(trio[-\w\. ]+) b/i],[S,[$,"MachSpeed"],[O,F]],[/\btu_(1491) b/i],[S,[$,"Rotor"],[O,F]],[/(shield[\w ]+) b/i],[S,[$,"Nvidia"],[O,F]],[/(sprint) (\w+)/i],[$,S,[O,j]],[/(kin\.[onetw]{3})/i],[[S,/\./g," "],[$,P],[O,j]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[S,[$,Z],[O,F]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[S,[$,Z],[O,j]],[/smart-tv.+(samsung)/i],[$,[O,X]],[/hbbtv.+maple;(\d+)/i],[[S,/^/,"SmartTV"],[$,W],[O,X]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[$,K],[O,X]],[/(apple) ?tv/i],[$,[S,se+" TV"],[O,X]],[/crkey/i],[[S,x+"cast"],[$,N],[O,X]],[/droid.+aft(\w+)( bui|\))/i],[S,[$,re],[O,X]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[S,[$,ce],[O,X]],[/(bravia[\w ]+)( bui|\))/i],[S,[$,be],[O,X]],[/(mitv-\w{5}) bui/i],[S,[$,ve],[O,X]],[/Hbbtv.*(technisat) (.*);/i],[$,S,[O,X]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[$,qe],[S,qe],[O,X]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[O,X]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[$,S,[O,L]],[/droid.+; (shield) bui/i],[S,[$,"Nvidia"],[O,L]],[/(playstation [345portablevi]+)/i],[S,[$,be],[O,L]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[S,[$,P],[O,L]],[/\b(sm-[lr]\d\d[05][fnuw]?s?)\b/i],[S,[$,W],[O,z]],[/((pebble))app/i],[$,S,[O,z]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[S,[$,se],[O,z]],[/droid.+; (glass) \d/i],[S,[$,N],[O,z]],[/droid.+; (wt63?0{2,3})\)/i],[S,[$,Z],[O,z]],[/(quest( \d| pro)?)/i],[S,[$,J],[O,z]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[$,[O,Y]],[/(aeobc)\b/i],[S,[$,re],[O,Y]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[S,[O,j]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[S,[O,F]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[O,F]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[O,j]],[/(android[-\w\. ]{0,9});.+buil/i],[S,[$,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[I,[R,A+"HTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[I,[R,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[R,I],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[I,R]],os:[[/microsoft (windows) (vista|xp)/i],[R,I],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[R,[I,Me,Ke]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[I,Me,Ke],[R,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[I,/_/g,"."],[R,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[R,H],[I,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[I,R],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[R,I],[/\(bb(10);/i],[I,[R,T]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[I,[R,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[I,[R,B+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[I,[R,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[I,[R,"watchOS"]],[/crkey\/([\d\.]+)/i],[I,[R,x+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[R,oe],I],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[R,I],[/(sunos) ?([\w\.\d]*)/i],[[R,"Solaris"],I],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[R,I]]},Je=function(Fe,Le){if(typeof Fe===C&&(Le=Fe,Fe=g),!(this instanceof Je))return new Je(Fe,Le).getResult();var Qe=typeof d!==w&&d.navigator?d.navigator:g,rt=Fe||(Qe&&Qe.userAgent?Qe.userAgent:v),ue=Qe&&Qe.userAgentData?Qe.userAgentData:g,ee=Le?ie(ot,Le):ot,te=Qe&&Qe.userAgent==rt;return this.getBrowser=function(){var de={};return de[R]=g,de[I]=g,Ne.call(de,rt,ee.browser),de[E]=Ie(de[I]),te&&Qe&&Qe.brave&&typeof Qe.brave.isBrave==m&&(de[R]="Brave"),de},this.getCPU=function(){var de={};return de[U]=g,Ne.call(de,rt,ee.cpu),de},this.getDevice=function(){var de={};return de[$]=g,de[S]=g,de[O]=g,Ne.call(de,rt,ee.device),te&&!de[O]&&ue&&ue.mobile&&(de[O]=j),te&&de[S]=="Macintosh"&&Qe&&typeof Qe.standalone!==w&&Qe.maxTouchPoints&&Qe.maxTouchPoints>2&&(de[S]="iPad",de[O]=F),de},this.getEngine=function(){var de={};return de[R]=g,de[I]=g,Ne.call(de,rt,ee.engine),de},this.getOS=function(){var de={};return de[R]=g,de[I]=g,Ne.call(de,rt,ee.os),te&&!de[R]&&ue&&ue.platform&&ue.platform!="Unknown"&&(de[R]=ue.platform.replace(/chrome os/i,oe).replace(/macos/i,H)),de},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return rt},this.setUA=function(de){return rt=typeof de===b&&de.length>ne?qe(de,ne):de,this},this.setUA(rt),this};Je.VERSION=_,Je.BROWSER=we([R,I,E]),Je.CPU=we([U]),Je.DEVICE=we([S,$,O,L,j,X,F,z,Y]),Je.ENGINE=Je.OS=we([R,I]),f.exports&&(r=f.exports=Je),r.UAParser=Je;var We=typeof d!==w&&(d.jQuery||d.Zepto);if(We&&!We.ua){var it=new Je;We.ua=it.getResult(),We.ua.get=function(){return it.getUA()},We.ua.set=function(Fe){it.setUA(Fe);var Le=it.getResult();for(var Qe in Le)We.ua[Qe]=Le[Qe]}}})(typeof window=="object"?window:commonjsGlobal)})(uaParser,uaParser.exports);var uaParserExports=uaParser.exports;const UAParser=getDefaultExportFromCjs(uaParserExports);var hasRequiredWebApi;function requireWebApi(){if(hasRequiredWebApi)return webApi;hasRequiredWebApi=1;var f=commonjsGlobal&&commonjsGlobal.__importDefault||function(E){return E&&E.__esModule?E:{default:E}};Object.defineProperty(webApi,"__esModule",{value:!0}),webApi.openLink=_,webApi.openLinkBlank=v,webApi.openDeeplinkWithFallback=y,webApi.isMobileUserAgent=m,webApi.getUserAgent=w,webApi.isOS=C,webApi.isBrowser=b;const r=f(uaParserExports),d=requireLog(),g=requireTmaApi();function _(E,S="_self"){(0,d.logDebug)("openLink",E,S),window.open(E,S,"noopener noreferrer")}function v(E){_(E,"_blank")}function y(E,S){const R=()=>{b("safari")||C("android")&&b("firefox")||S()},O=setTimeout(()=>R(),500);window.addEventListener("blur",()=>clearTimeout(O),{once:!0}),C("android")&&(0,g.inTg)()?_(E,"_blank"):_(E,"_self")}function m(){let E=!1;return function(S){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(S)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(S.slice(0,4)))&&(E=!0)}(navigator.userAgent||navigator.vendor||window.opera),E}function w(){var E,S,R;const O=new r.default().getResult(),$=(E=O.os.name)===null||E===void 0?void 0:E.toLowerCase(),I=(S=O.device.model)===null||S===void 0?void 0:S.toLowerCase();let U;switch(!0){case I==="ipad":U="ipad";break;case $==="ios":U="ios";break;case $==="android":U="android";break;case $==="mac os":U="macos";break;case $==="linux":U="linux";break;case($==null?void 0:$.includes("windows")):U="windows";break}const L=(R=O.browser.name)===null||R===void 0?void 0:R.toLowerCase();let j;switch(!0){case L==="chrome":j="chrome";break;case L==="firefox":j="firefox";break;case(L==null?void 0:L.includes("safari")):j="safari";break;case(L==null?void 0:L.includes("opera")):j="opera";break}return{os:U,browser:j}}function C(...E){return E.includes(w().os)}function b(...E){return E.includes(w().browser)}return webApi}var hasRequiredTmaApi;function requireTmaApi(){if(hasRequiredTmaApi)return tmaApi;hasRequiredTmaApi=1;var f,r,d,g,_,v,y;Object.defineProperty(tmaApi,"__esModule",{value:!0}),tmaApi.isTmaPlatform=O,tmaApi.isInTMA=$,tmaApi.inTg=I,tmaApi.isInTelegramBrowser=U,tmaApi.sendExpand=L,tmaApi.sendOpenTelegramLink=j,tmaApi.versionCompare=re;const m=requireUrl(),w=requireLog(),C=protocol,b=requireWebApi();let E={};try{let G=location.hash.toString();E=z(G)}catch{}let S="unknown";if(E!=null&&E.tgWebAppPlatform&&(S=(f=E.tgWebAppPlatform)!==null&&f!==void 0?f:"unknown"),S==="unknown"){const G=(0,m.getWindow)();S=(g=(d=(r=G==null?void 0:G.Telegram)===null||r===void 0?void 0:r.WebApp)===null||d===void 0?void 0:d.platform)!==null&&g!==void 0?g:"unknown"}let R="6.0";if(E!=null&&E.tgWebAppVersion&&(R=E.tgWebAppVersion),!R){const G=(0,m.getWindow)();R=(y=(v=(_=G==null?void 0:G.Telegram)===null||_===void 0?void 0:_.WebApp)===null||v===void 0?void 0:v.version)!==null&&y!==void 0?y:"6.0"}function O(...G){return G.includes(S)}function $(){var G;return S!=="unknown"||!!(!((G=(0,m.getWindow)())===null||G===void 0)&&G.TelegramWebviewProxy)}function I(){return U()||$()}function U(){var G;const T=!!(!((G=(0,m.getWindow)())===null||G===void 0)&&G.TelegramWebview);return($()||T)&&S==="unknown"}function L(){X("web_app_expand",{})}function j(G,T){const D=new URL(G);if(D.protocol!=="http:"&&D.protocol!=="https:"){if(T)return T();throw new C.OKXConnectError(C.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Url protocol is not supported: ${D}`)}if(D.hostname!=="t.me"){if(T)return T();throw new C.OKXConnectError(C.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Url host is not supported: ${D}`)}const x=D.pathname+D.search;F()||se("6.1")?X("web_app_open_tg_link",{path_full:x}):(0,b.openLinkBlank)("https://t.me"+x)}function F(){try{const G=(0,m.getWindow)();return G?G.parent!=null&&G!==G.parent:!1}catch{return!1}}function X(G,T){try{const D=(0,m.getWindow)();if(!D)throw new C.OKXConnectError(C.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"Can't post event to parent window: window is not defined");if(D.TelegramWebviewProxy!==void 0)(0,w.logDebug)("postEvent",G,T),D.TelegramWebviewProxy.postEvent(G,JSON.stringify(T));else if(D.external&&"notify"in D.external)(0,w.logDebug)("postEvent",G,T),D.external.notify(JSON.stringify({eventType:G,eventData:T}));else if(F()){const x="*",A=JSON.stringify({eventType:G,eventData:T});(0,w.logDebug)("postEvent",G,T),D.parent.postMessage(A,x)}else throw new C.OKXConnectError(C.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"Can't post event to TMA")}catch(D){(0,w.logError)(`Can't post event to parent window: ${D}`)}}function z(G){G=G.replace(/^#/,"");let T={};if(!G.length)return T;if(G.indexOf("=")<0&&G.indexOf("?")<0)return T._path=Y(G),T;let D=G.indexOf("?");if(D>=0){let A=G.substr(0,D);T._path=Y(A),G=G.substr(D+1)}let x=ne(G);for(let A in x)T[A]=x[A];return T}function Y(G){try{return G=G.replace(/\+/g,"%20"),decodeURIComponent(G)}catch{return G}}function ne(G){let T={};if(!G.length)return T;let D=G.split("&"),x,A,B,N;for(x=0;x<D.length;x++)A=D[x].split("="),B=Y(A[0]),N=A[1]==null?null:Y(A[1]),T[B]=N;return T}function re(G,T){typeof G!="string"&&(G=""),typeof T!="string"&&(T="");let D=G.replace(/^\s+|\s+$/g,"").split("."),x=T.replace(/^\s+|\s+$/g,"").split("."),A,B,N,q;for(A=Math.max(D.length,x.length),B=0;B<A;B++)if(N=parseInt(D[B])||0,q=parseInt(x[B])||0,N!==q)return N>q?1:-1;return 0}function se(G){return re(R,G)>=0}return tmaApi}var hasRequiredUrl;function requireUrl(){if(hasRequiredUrl)return url$1;hasRequiredUrl=1;var f,r,d,g;Object.defineProperty(url$1,"__esModule",{value:!0}),url$1.removeUrlLastSlash=b,url$1.addPathToUrl=E,url$1.getUniversalLink=S,url$1.openOKXDeeplink=R,url$1.openOKXUniversalLink=O,url$1.openOKXDeeplinkWithFallback=$,url$1.getWindow=I,url$1.isTelegramUrl=U,url$1.encodeTelegramUrlParameters=L,url$1.encodeConnectParams=j,url$1.encodeTWAConnectURLParams=F,url$1.getAppWalletDeepLink=X,url$1.getAppWalletShortDeepLink=z,url$1.getTelegramWalletTWAUrl=Y,url$1.openOKXTMAWalletlinkWithFallback=ne,url$1.isInTMA=x,url$1.isInTelegramBrowser=A,url$1.getOKXLink=B;const _=protocol,v=requireLog(),y=constants$2,m=requireUtils(),w=requireTmaApi(),C=constants$5;function b(N){return N.slice(-1)==="/"?N.slice(0,-1):N}function E(N,q){return b(N)+"/"+q}function S(N,q=!1){console.log("getUniversalLink deeplinkUrl:",N,", useStandardUniversalLink:",q);const K=encodeURIComponent(N);return console.log("getUniversalLink standardUniversalLink:",_.standardUniversalLink),console.log("getUniversalLink standardUniversalLink:",`${_.standardUniversalLink}?deeplink=${K}`),`${_.standardUniversalLink}?deeplink=${K}`}function R(N){var q;const K=S(N),P=!!(!((q=I())===null||q===void 0)&&q.TelegramWebviewProxy);console.log("openOKXDeeplink fullUrl:",K),(0,m.isIos)()?O(K):P?window.open(N,"_blank"):window.location.href=N}function O(N){(0,m.isIos)()?x()?window.open(N,"_blank"):(console.log("windowOpen[before]: ",Date.now()),window!=null&&window.okxLogDebug?window.open(N,"_blank"):window.open(N,"_self"),console.log("windowOpen[after]: ",Date.now())):window.open(N,"_blank")}function $(N){var q;const K=S(N),P=!!(!((q=I())===null||q===void 0)&&q.TelegramWebviewProxy);console.log("openOKXDeeplinkWithFallback fullUrl:",K);let k=!1;const M=3e3;if(_.standardUniversalLink,console.log("openOKXDeeplinkWithFallback standardUniversalLink:",_.standardUniversalLink),(0,m.isIos)())P?window.open(K,"_blank"):(console.log("windowOpen[before]: ",Date.now()),window!=null&&window.okxLogDebug?window.open(K,"_blank"):window.open(K,"_self"),console.log("windowOpen[after]: ",Date.now()));else{let ce=null;var W=()=>{k||(ce?ce.open(K,"_self"):window.open(K,"_blank"))};P?ce=window.open(N,"_blank"):window.location.href=N,setTimeout(W,M),window.addEventListener("blur",()=>{k=!0},{once:!0}),document.addEventListener("visibilitychange",()=>{document.visibilityState==="hidden"&&(k=!0)})}}function I(){if(typeof window<"u")return window}function U(N){if(!N)return!1;const q=new URL(N);return q.protocol==="tg:"||q.hostname==="t.me"}function L(N){let q=N;return q=q.replace(/\./g,"%2E"),q=q.replace(/-/g,"%2D"),q=q.replace(/_/g,"%5F"),q=q.replace(/&/g,"-"),q=q.replace(/=/g,"__"),q=q.replace(/%/g,"--"),q}function j(N){let q=Object.assign(Object.assign({},N),{protocolVersion:C.CONNECT_PROTOCOL_VER});const K=JSON.stringify(q);(0,v.logDebug)("url encodeConnectParams connectRequestStr ",K);const P=new TextEncoder().encode(K),k=btoa(String.fromCharCode(...P));return(0,v.logDebug)("url encodeConnectParams base64Encoded ",k),k}function F(N){const q=JSON.stringify({topic:N.topic,clientId:N.clientId});(0,v.logDebug)("url encodeConnectParams connectRequestStr",q);const K=new TextEncoder().encode(q);return btoa(String.fromCharCode(...K))}function X(N){return`${_.standardDeeplink}?param=${N}`}function z(N,q){return`${y.shortUniversalLink}?topic=${N}${(0,m.getLastSixMd5Hash)(q)}`}function Y(N,q){let K={okxconnect:"",redirect:"",extraparams:"",fromtg:!1};N&&(K.okxconnect=N),q&&(K.redirect=q),x()?K.fromtg=!0:K.fromtg=!1,(0,v.logDebug)("getTelegramWalletTWAUrl redirect:",K.redirect);let P=JSON.stringify(K);const k=new TextEncoder().encode(P),M=btoa(String.fromCharCode(...k)),W=(0,m.toSafeBase64FromBase64)(M);if((0,v.logDebug)("[TWA] open link:",K,M),N||q){if(x())return(0,y.getTestTgTwaUrl)()?`${(0,y.getTestTgTwaUrl)()}?startapp=${W}`:`https://t.me/${y.tgwalletName}/start?startapp=${W}`;if((0,y.getTestTwaUrl)())return`${(0,y.getTestTwaUrl)()}?tgWebAppStartParam=${W}`;if((0,y.getTestTgTwaUrl)()){let ce=(0,y.getBotNameAndAppName)((0,y.getTestTgTwaUrl)());if(ce){let{botName:be,appName:ve}=ce;return`tg://resolve?domain=${be}&appname=${ve}&startapp=${W}`}return`tg://resolve?domain=${y.tgwalletName}&appname=${y.tgwalletAppName}&startapp=${W}`}else return`tg://resolve?domain=${y.tgwalletName}&appname=${y.tgwalletAppName}&startapp=${W}`}if(x())return(0,y.getTestTgTwaUrl)()?`${(0,y.getTestTgTwaUrl)()}`:`https://t.me/${y.tgwalletName}/start`;if((0,y.getTestTwaUrl)())return`${(0,y.getTestTwaUrl)()}`;if((0,y.getTestTgTwaUrl)()){let ce=(0,y.getBotNameAndAppName)((0,y.getTestTgTwaUrl)());if(ce){let{botName:be,appName:ve}=ce;return`tg://resolve?domain=${be}&appname=${ve}`}return`tg://resolve?domain=${y.tgwalletName}&appname=${y.tgwalletAppName}`}else return`tg://resolve?domain=${y.tgwalletName}&appname=${y.tgwalletAppName}`}function ne(N){var q,K,P,k,M;(0,v.logDebug)("[TWA] open link:",N,"isInTMA ==> ",x()),x()?!((K=(q=I())===null||q===void 0?void 0:q.Telegram)===null||K===void 0)&&K.WebApp?(M=(k=(P=I())===null||P===void 0?void 0:P.Telegram)===null||k===void 0?void 0:k.WebApp)===null||M===void 0||M.openTelegramLink(N):(0,w.sendOpenTelegramLink)(N):(0,y.getTestTwaUrl)()?window.open(N,"_blank"):window.open(N,"_self")}function re(N){try{return N=N.replace(/\+/g,"%20"),decodeURIComponent(N)}catch{return N}}function se(N){let q={};if(!N.length)return q;let K=N.split("&"),P,k,M,W;for(P=0;P<K.length;P++)k=K[P].split("="),M=re(k[0]),W=k[1]==null?null:re(k[1]),q[M]=W;return q}function G(N){N=N.replace(/^#/,"");let q={};if(!N.length)return q;if(N.indexOf("=")<0&&N.indexOf("?")<0)return q._path=re(N),q;let K=N.indexOf("?");if(K>=0){let k=N.substr(0,K);q._path=re(k),N=N.substr(K+1)}let P=se(N);for(let k in P)q[k]=P[k];return q}let T={};try{let N=location.hash.toString();T=G(N)}catch{}let D="unknown";if(T!=null&&T.tgWebAppPlatform&&(D=(f=T.tgWebAppPlatform)!==null&&f!==void 0?f:"unknown"),D==="unknown"){const N=I();D=(g=(d=(r=N==null?void 0:N.Telegram)===null||r===void 0?void 0:r.WebApp)===null||d===void 0?void 0:d.platform)!==null&&g!==void 0?g:"unknown"}function x(){var N;return D!=="unknown"||!!(!((N=I())===null||N===void 0)&&N.TelegramWebviewProxy)}function A(){var N;const q=!!(!((N=I())===null||N===void 0)&&N.TelegramWebview);return(x()||q)&&D==="unknown"}function B(N,q=!1,K){if((0,v.logDebug)(`url  getOKXLink() called connectRequest==> ${JSON.stringify(N)}  useMini=> ${q}  tmaReturnUrl==> ${K}`),q)if(N){var P=F(N);return Y(P,K??"back")}else return Y(void 0,K??"back");else{if((0,m.useShortLink)())return N?z(N.topic,N.clientId):y.shortUniversalLink;if(N){const k=j(N);return`${_.standardDeeplink}?param=${k}`}else return _.standardDeeplink}}return url$1}var utils$3={},callForSuccess$1={},__awaiter$y=commonjsGlobal&&commonjsGlobal.__awaiter||function(f,r,d,g){function _(v){return v instanceof d?v:new d(function(y){y(v)})}return new(d||(d=Promise))(function(v,y){function m(b){try{C(g.next(b))}catch(E){y(E)}}function w(b){try{C(g.throw(b))}catch(E){y(E)}}function C(b){b.done?v(b.value):_(b.value).then(m,w)}C((g=g.apply(f,r||[])).next())})};Object.defineProperty(callForSuccess$1,"__esModule",{value:!0});callForSuccess$1.callForSuccess=callForSuccess;callForSuccess$1.delay=delay;function callForSuccess(f,r){return __awaiter$y(this,void 0,void 0,function*(){var d,g;const _=(d=r==null?void 0:r.attempts)!==null&&d!==void 0?d:3,v=(g=r==null?void 0:r.delayMs)!==null&&g!==void 0?g:800;if(typeof f!="function")throw new Error(`Expected a function, got ${typeof f}`);let y=0,m;for(;y<_;)try{return yield f()}catch(w){m=w,y++,y<_&&(yield delay(v))}throw m})}function delay(f,r){return __awaiter$y(this,void 0,void 0,function*(){return new Promise((d,g)=>{var _,v;if(!((_=r==null?void 0:r.signal)===null||_===void 0)&&_.aborted){g(new Error("Delay aborted"));return}const y=setTimeout(()=>d(),f);(v=r==null?void 0:r.signal)===null||v===void 0||v.addEventListener("abort",()=>{clearTimeout(y),g(new Error("Delay aborted"))})})})}var reportconstants={};Object.defineProperty(reportconstants,"__esModule",{value:!0});reportconstants.Report_WalletType_Key=reportconstants.Report_Proceed_QRCode_Click=reportconstants.Report_ChooseType_Download_Click=reportconstants.Report_ChooseType_ConnectWallet_Click=reportconstants.Report_Proceed_Retry_Click=reportconstants.Report_ChooseType_ConnectWallet_View=reportconstants.Report_Loading_ConnectWallet_View=reportconstants.Report_Proceed_QRCode_View=reportconstants.Report_Proceed_Proceed_View=void 0;reportconstants.Report_Proceed_Proceed_View="OKXConnectSDK_Proceed_Proceed_View";reportconstants.Report_Proceed_QRCode_View="OKXConnectSDK_Proceed_QRCode_View";reportconstants.Report_Loading_ConnectWallet_View="OKXConnectSDK_Loading_ConnectWallet_View";reportconstants.Report_ChooseType_ConnectWallet_View="OKXConnectSDK_ChooseType_ConnectWallet_View";reportconstants.Report_Proceed_Retry_Click="OKXConnectSDK_Proceed_Retry_Click";reportconstants.Report_ChooseType_ConnectWallet_Click="OKXConnectSDK_ChooseType_ConnectWallet_Click";reportconstants.Report_ChooseType_Download_Click="OKXConnectSDK_ChooseType_Download_Click";reportconstants.Report_Proceed_QRCode_Click="OKXConnectSDK_Proceed_QRCode_Click";reportconstants.Report_WalletType_Key="wallet_type";var request={};Object.defineProperty(request,"__esModule",{value:!0});request.checkMetaData=checkMetaData;const protocol_1$8=protocol;function checkMetaData(f){if(!f)throw new protocol_1$8.OKXConnectError(protocol_1$8.OKX_CONNECT_ERROR_CODES.BAD_REQUEST_ERROR,"You have to specify a `dappMetaData`in the options.");if(!f.name)throw new protocol_1$8.OKXConnectError(protocol_1$8.OKX_CONNECT_ERROR_CODES.BAD_REQUEST_ERROR,"dappName is required");if(!f.icon)throw new protocol_1$8.OKXConnectError(protocol_1$8.OKX_CONNECT_ERROR_CODES.BAD_REQUEST_ERROR,"icon is required");return!0}var hasRequiredUtils$1;function requireUtils$1(){return hasRequiredUtils$1||(hasRequiredUtils$1=1,function(f){var r=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(E,S,R,O){O===void 0&&(O=R);var $=Object.getOwnPropertyDescriptor(S,R);(!$||("get"in $?!S.__esModule:$.writable||$.configurable))&&($={enumerable:!0,get:function(){return S[R]}}),Object.defineProperty(E,O,$)}:function(E,S,R,O){O===void 0&&(O=R),E[O]=S[R]}),d=commonjsGlobal&&commonjsGlobal.__exportStar||function(E,S){for(var R in E)R!=="default"&&!Object.prototype.hasOwnProperty.call(S,R)&&r(S,E,R)};Object.defineProperty(f,"__esModule",{value:!0}),f.checkMetaData=f.versionCompare=f.isBrowser=f.isOS=f.isMobileUserAgent=f.openDeeplinkWithFallback=f.openLinkBlank=f.openLink=f.getChainId=f.useShortLink=f.toSafeBase64FromBase64=f.isValidObject=f.isIos=f.base64decode=f.base64encode=f.splitToUint8Arrays=f.concatUint8Arrays=f.toHexString=f.hexToByteArray=f.getOKXLink=f.openOKXUniversalLink=f.getAppWalletShortDeepLink=f.encodeTWAConnectURLParams=f.encodeConnectParams=f.openOKXTMAWalletlinkWithFallback=f.getTelegramWalletTWAUrl=f.getAppWalletDeepLink=f.encodeTelegramUrlParameters=f.isTelegramUrl=f.openOKXDeeplinkWithFallback=f.openOKXDeeplink=f.getUniversalLink=f.safeJsonStringify=f.safeJsonParse=f.getDefaultReporter=f.reportEvent=f.reportLog=f.logWarning=f.logError=f.logDebug=f.callForSuccess=void 0;var g=callForSuccess$1;Object.defineProperty(f,"callForSuccess",{enumerable:!0,get:function(){return g.callForSuccess}});var _=requireLog();Object.defineProperty(f,"logDebug",{enumerable:!0,get:function(){return _.logDebug}}),Object.defineProperty(f,"logError",{enumerable:!0,get:function(){return _.logError}}),Object.defineProperty(f,"logWarning",{enumerable:!0,get:function(){return _.logWarning}}),Object.defineProperty(f,"reportLog",{enumerable:!0,get:function(){return _.reportLog}}),Object.defineProperty(f,"reportEvent",{enumerable:!0,get:function(){return _.reportEvent}}),Object.defineProperty(f,"getDefaultReporter",{enumerable:!0,get:function(){return _.getDefaultReporter}}),d(reportconstants,f),d(requireReport(),f);var v=requireSafejson();Object.defineProperty(f,"safeJsonParse",{enumerable:!0,get:function(){return v.safeJsonParse}}),Object.defineProperty(f,"safeJsonStringify",{enumerable:!0,get:function(){return v.safeJsonStringify}});var y=requireUrl();Object.defineProperty(f,"getUniversalLink",{enumerable:!0,get:function(){return y.getUniversalLink}}),Object.defineProperty(f,"openOKXDeeplink",{enumerable:!0,get:function(){return y.openOKXDeeplink}}),Object.defineProperty(f,"openOKXDeeplinkWithFallback",{enumerable:!0,get:function(){return y.openOKXDeeplinkWithFallback}}),Object.defineProperty(f,"isTelegramUrl",{enumerable:!0,get:function(){return y.isTelegramUrl}}),Object.defineProperty(f,"encodeTelegramUrlParameters",{enumerable:!0,get:function(){return y.encodeTelegramUrlParameters}}),Object.defineProperty(f,"getAppWalletDeepLink",{enumerable:!0,get:function(){return y.getAppWalletDeepLink}}),Object.defineProperty(f,"getTelegramWalletTWAUrl",{enumerable:!0,get:function(){return y.getTelegramWalletTWAUrl}}),Object.defineProperty(f,"openOKXTMAWalletlinkWithFallback",{enumerable:!0,get:function(){return y.openOKXTMAWalletlinkWithFallback}}),Object.defineProperty(f,"encodeConnectParams",{enumerable:!0,get:function(){return y.encodeConnectParams}}),Object.defineProperty(f,"encodeTWAConnectURLParams",{enumerable:!0,get:function(){return y.encodeTWAConnectURLParams}}),Object.defineProperty(f,"getAppWalletShortDeepLink",{enumerable:!0,get:function(){return y.getAppWalletShortDeepLink}}),Object.defineProperty(f,"openOKXUniversalLink",{enumerable:!0,get:function(){return y.openOKXUniversalLink}}),Object.defineProperty(f,"getOKXLink",{enumerable:!0,get:function(){return y.getOKXLink}});var m=requireUtils();Object.defineProperty(f,"hexToByteArray",{enumerable:!0,get:function(){return m.hexToByteArray}}),Object.defineProperty(f,"toHexString",{enumerable:!0,get:function(){return m.toHexString}}),Object.defineProperty(f,"concatUint8Arrays",{enumerable:!0,get:function(){return m.concatUint8Arrays}}),Object.defineProperty(f,"splitToUint8Arrays",{enumerable:!0,get:function(){return m.splitToUint8Arrays}}),Object.defineProperty(f,"base64encode",{enumerable:!0,get:function(){return m.base64encode}}),Object.defineProperty(f,"base64decode",{enumerable:!0,get:function(){return m.base64decode}}),Object.defineProperty(f,"isIos",{enumerable:!0,get:function(){return m.isIos}}),Object.defineProperty(f,"isValidObject",{enumerable:!0,get:function(){return m.isValidObject}}),Object.defineProperty(f,"toSafeBase64FromBase64",{enumerable:!0,get:function(){return m.toSafeBase64FromBase64}}),Object.defineProperty(f,"useShortLink",{enumerable:!0,get:function(){return m.useShortLink}}),Object.defineProperty(f,"getChainId",{enumerable:!0,get:function(){return m.getChainId}});var w=requireWebApi();Object.defineProperty(f,"openLink",{enumerable:!0,get:function(){return w.openLink}}),Object.defineProperty(f,"openLinkBlank",{enumerable:!0,get:function(){return w.openLinkBlank}}),Object.defineProperty(f,"openDeeplinkWithFallback",{enumerable:!0,get:function(){return w.openDeeplinkWithFallback}}),Object.defineProperty(f,"isMobileUserAgent",{enumerable:!0,get:function(){return w.isMobileUserAgent}}),Object.defineProperty(f,"isOS",{enumerable:!0,get:function(){return w.isOS}}),Object.defineProperty(f,"isBrowser",{enumerable:!0,get:function(){return w.isBrowser}});var C=requireTmaApi();Object.defineProperty(f,"versionCompare",{enumerable:!0,get:function(){return C.versionCompare}});var b=request;Object.defineProperty(f,"checkMetaData",{enumerable:!0,get:function(){return b.checkMetaData}})}(utils$3)),utils$3}var localforage={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(f,r){(function(d){f.exports=d()})(function(){return function d(g,_,v){function y(C,b){if(!_[C]){if(!g[C]){var E=typeof commonjsRequire=="function"&&commonjsRequire;if(!b&&E)return E(C,!0);if(m)return m(C,!0);var S=new Error("Cannot find module '"+C+"'");throw S.code="MODULE_NOT_FOUND",S}var R=_[C]={exports:{}};g[C][0].call(R.exports,function(O){var $=g[C][1][O];return y($||O)},R,R.exports,d,g,_,v)}return _[C].exports}for(var m=typeof commonjsRequire=="function"&&commonjsRequire,w=0;w<v.length;w++)y(v[w]);return y}({1:[function(d,g,_){(function(v){var y=v.MutationObserver||v.WebKitMutationObserver,m;if(y){var w=0,C=new y(O),b=v.document.createTextNode("");C.observe(b,{characterData:!0}),m=function(){b.data=w=++w%2}}else if(!v.setImmediate&&typeof v.MessageChannel<"u"){var E=new v.MessageChannel;E.port1.onmessage=O,m=function(){E.port2.postMessage(0)}}else"document"in v&&"onreadystatechange"in v.document.createElement("script")?m=function(){var I=v.document.createElement("script");I.onreadystatechange=function(){O(),I.onreadystatechange=null,I.parentNode.removeChild(I),I=null},v.document.documentElement.appendChild(I)}:m=function(){setTimeout(O,0)};var S,R=[];function O(){S=!0;for(var I,U,L=R.length;L;){for(U=R,R=[],I=-1;++I<L;)U[I]();L=R.length}S=!1}g.exports=$;function $(I){R.push(I)===1&&!S&&m()}}).call(this,typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(d,g,_){var v=d(1);function y(){}var m={},w=["REJECTED"],C=["FULFILLED"],b=["PENDING"];g.exports=E;function E(X){if(typeof X!="function")throw new TypeError("resolver must be a function");this.state=b,this.queue=[],this.outcome=void 0,X!==y&&$(this,X)}E.prototype.catch=function(X){return this.then(null,X)},E.prototype.then=function(X,z){if(typeof X!="function"&&this.state===C||typeof z!="function"&&this.state===w)return this;var Y=new this.constructor(y);if(this.state!==b){var ne=this.state===C?X:z;R(Y,ne,this.outcome)}else this.queue.push(new S(Y,X,z));return Y};function S(X,z,Y){this.promise=X,typeof z=="function"&&(this.onFulfilled=z,this.callFulfilled=this.otherCallFulfilled),typeof Y=="function"&&(this.onRejected=Y,this.callRejected=this.otherCallRejected)}S.prototype.callFulfilled=function(X){m.resolve(this.promise,X)},S.prototype.otherCallFulfilled=function(X){R(this.promise,this.onFulfilled,X)},S.prototype.callRejected=function(X){m.reject(this.promise,X)},S.prototype.otherCallRejected=function(X){R(this.promise,this.onRejected,X)};function R(X,z,Y){v(function(){var ne;try{ne=z(Y)}catch(re){return m.reject(X,re)}ne===X?m.reject(X,new TypeError("Cannot resolve promise with itself")):m.resolve(X,ne)})}m.resolve=function(X,z){var Y=I(O,z);if(Y.status==="error")return m.reject(X,Y.value);var ne=Y.value;if(ne)$(X,ne);else{X.state=C,X.outcome=z;for(var re=-1,se=X.queue.length;++re<se;)X.queue[re].callFulfilled(z)}return X},m.reject=function(X,z){X.state=w,X.outcome=z;for(var Y=-1,ne=X.queue.length;++Y<ne;)X.queue[Y].callRejected(z);return X};function O(X){var z=X&&X.then;if(X&&(typeof X=="object"||typeof X=="function")&&typeof z=="function")return function(){z.apply(X,arguments)}}function $(X,z){var Y=!1;function ne(T){Y||(Y=!0,m.reject(X,T))}function re(T){Y||(Y=!0,m.resolve(X,T))}function se(){z(re,ne)}var G=I(se);G.status==="error"&&ne(G.value)}function I(X,z){var Y={};try{Y.value=X(z),Y.status="success"}catch(ne){Y.status="error",Y.value=ne}return Y}E.resolve=U;function U(X){return X instanceof this?X:m.resolve(new this(y),X)}E.reject=L;function L(X){var z=new this(y);return m.reject(z,X)}E.all=j;function j(X){var z=this;if(Object.prototype.toString.call(X)!=="[object Array]")return this.reject(new TypeError("must be an array"));var Y=X.length,ne=!1;if(!Y)return this.resolve([]);for(var re=new Array(Y),se=0,G=-1,T=new this(y);++G<Y;)D(X[G],G);return T;function D(x,A){z.resolve(x).then(B,function(N){ne||(ne=!0,m.reject(T,N))});function B(N){re[A]=N,++se===Y&&!ne&&(ne=!0,m.resolve(T,re))}}}E.race=F;function F(X){var z=this;if(Object.prototype.toString.call(X)!=="[object Array]")return this.reject(new TypeError("must be an array"));var Y=X.length,ne=!1;if(!Y)return this.resolve([]);for(var re=-1,se=new this(y);++re<Y;)G(X[re]);return se;function G(T){z.resolve(T).then(function(D){ne||(ne=!0,m.resolve(se,D))},function(D){ne||(ne=!0,m.reject(se,D))})}}},{1:1}],3:[function(d,g,_){(function(v){typeof v.Promise!="function"&&(v.Promise=d(2))}).call(this,typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(d,g,_){var v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(fe){return typeof fe}:function(fe){return fe&&typeof Symbol=="function"&&fe.constructor===Symbol&&fe!==Symbol.prototype?"symbol":typeof fe};function y(fe,ye){if(!(fe instanceof ye))throw new TypeError("Cannot call a class as a function")}function m(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var w=m();function C(){try{if(!w||!w.open)return!1;var fe=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),ye=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!fe||ye)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function b(fe,ye){fe=fe||[],ye=ye||{};try{return new Blob(fe,ye)}catch(Ee){if(Ee.name!=="TypeError")throw Ee;for(var ge=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,Ce=new ge,Oe=0;Oe<fe.length;Oe+=1)Ce.append(fe[Oe]);return Ce.getBlob(ye.type)}}typeof Promise>"u"&&d(3);var E=Promise;function S(fe,ye){ye&&fe.then(function(ge){ye(null,ge)},function(ge){ye(ge)})}function R(fe,ye,ge){typeof ye=="function"&&fe.then(ye),typeof ge=="function"&&fe.catch(ge)}function O(fe){return typeof fe!="string"&&(console.warn(fe+" used as a key, but it is not a string."),fe=String(fe)),fe}function $(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var I="local-forage-detect-blob-support",U=void 0,L={},j=Object.prototype.toString,F="readonly",X="readwrite";function z(fe){for(var ye=fe.length,ge=new ArrayBuffer(ye),Ce=new Uint8Array(ge),Oe=0;Oe<ye;Oe++)Ce[Oe]=fe.charCodeAt(Oe);return ge}function Y(fe){return new E(function(ye){var ge=fe.transaction(I,X),Ce=b([""]);ge.objectStore(I).put(Ce,"key"),ge.onabort=function(Oe){Oe.preventDefault(),Oe.stopPropagation(),ye(!1)},ge.oncomplete=function(){var Oe=navigator.userAgent.match(/Chrome\/(\d+)/),Ee=navigator.userAgent.match(/Edge\//);ye(Ee||!Oe||parseInt(Oe[1],10)>=43)}}).catch(function(){return!1})}function ne(fe){return typeof U=="boolean"?E.resolve(U):Y(fe).then(function(ye){return U=ye,U})}function re(fe){var ye=L[fe.name],ge={};ge.promise=new E(function(Ce,Oe){ge.resolve=Ce,ge.reject=Oe}),ye.deferredOperations.push(ge),ye.dbReady?ye.dbReady=ye.dbReady.then(function(){return ge.promise}):ye.dbReady=ge.promise}function se(fe){var ye=L[fe.name],ge=ye.deferredOperations.pop();if(ge)return ge.resolve(),ge.promise}function G(fe,ye){var ge=L[fe.name],Ce=ge.deferredOperations.pop();if(Ce)return Ce.reject(ye),Ce.promise}function T(fe,ye){return new E(function(ge,Ce){if(L[fe.name]=L[fe.name]||M(),fe.db)if(ye)re(fe),fe.db.close();else return ge(fe.db);var Oe=[fe.name];ye&&Oe.push(fe.version);var Ee=w.open.apply(w,Oe);ye&&(Ee.onupgradeneeded=function(Pe){var me=Ee.result;try{me.createObjectStore(fe.storeName),Pe.oldVersion<=1&&me.createObjectStore(I)}catch(je){if(je.name==="ConstraintError")console.warn('The database "'+fe.name+'" has been upgraded from version '+Pe.oldVersion+" to version "+Pe.newVersion+', but the storage "'+fe.storeName+'" already exists.');else throw je}}),Ee.onerror=function(Pe){Pe.preventDefault(),Ce(Ee.error)},Ee.onsuccess=function(){var Pe=Ee.result;Pe.onversionchange=function(me){me.target.close()},ge(Pe),se(fe)}})}function D(fe){return T(fe,!1)}function x(fe){return T(fe,!0)}function A(fe,ye){if(!fe.db)return!0;var ge=!fe.db.objectStoreNames.contains(fe.storeName),Ce=fe.version<fe.db.version,Oe=fe.version>fe.db.version;if(Ce&&(fe.version!==ye&&console.warn('The database "'+fe.name+`" can't be downgraded from version `+fe.db.version+" to version "+fe.version+"."),fe.version=fe.db.version),Oe||ge){if(ge){var Ee=fe.db.version+1;Ee>fe.version&&(fe.version=Ee)}return!0}return!1}function B(fe){return new E(function(ye,ge){var Ce=new FileReader;Ce.onerror=ge,Ce.onloadend=function(Oe){var Ee=btoa(Oe.target.result||"");ye({__local_forage_encoded_blob:!0,data:Ee,type:fe.type})},Ce.readAsBinaryString(fe)})}function N(fe){var ye=z(atob(fe.data));return b([ye],{type:fe.type})}function q(fe){return fe&&fe.__local_forage_encoded_blob}function K(fe){var ye=this,ge=ye._initReady().then(function(){var Ce=L[ye._dbInfo.name];if(Ce&&Ce.dbReady)return Ce.dbReady});return R(ge,fe,fe),ge}function P(fe){re(fe);for(var ye=L[fe.name],ge=ye.forages,Ce=0;Ce<ge.length;Ce++){var Oe=ge[Ce];Oe._dbInfo.db&&(Oe._dbInfo.db.close(),Oe._dbInfo.db=null)}return fe.db=null,D(fe).then(function(Ee){return fe.db=Ee,A(fe)?x(fe):Ee}).then(function(Ee){fe.db=ye.db=Ee;for(var Pe=0;Pe<ge.length;Pe++)ge[Pe]._dbInfo.db=Ee}).catch(function(Ee){throw G(fe,Ee),Ee})}function k(fe,ye,ge,Ce){Ce===void 0&&(Ce=1);try{var Oe=fe.db.transaction(fe.storeName,ye);ge(null,Oe)}catch(Ee){if(Ce>0&&(!fe.db||Ee.name==="InvalidStateError"||Ee.name==="NotFoundError"))return E.resolve().then(function(){if(!fe.db||Ee.name==="NotFoundError"&&!fe.db.objectStoreNames.contains(fe.storeName)&&fe.version<=fe.db.version)return fe.db&&(fe.version=fe.db.version+1),x(fe)}).then(function(){return P(fe).then(function(){k(fe,ye,ge,Ce-1)})}).catch(ge);ge(Ee)}}function M(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function W(fe){var ye=this,ge={db:null};if(fe)for(var Ce in fe)ge[Ce]=fe[Ce];var Oe=L[ge.name];Oe||(Oe=M(),L[ge.name]=Oe),Oe.forages.push(ye),ye._initReady||(ye._initReady=ye.ready,ye.ready=K);var Ee=[];function Pe(){return E.resolve()}for(var me=0;me<Oe.forages.length;me++){var je=Oe.forages[me];je!==ye&&Ee.push(je._initReady().catch(Pe))}var Xe=Oe.forages.slice(0);return E.all(Ee).then(function(){return ge.db=Oe.db,D(ge)}).then(function(ze){return ge.db=ze,A(ge,ye._defaultConfig.version)?x(ge):ze}).then(function(ze){ge.db=Oe.db=ze,ye._dbInfo=ge;for(var tt=0;tt<Xe.length;tt++){var mt=Xe[tt];mt!==ye&&(mt._dbInfo.db=ge.db,mt._dbInfo.version=ge.version)}})}function ce(fe,ye){var ge=this;fe=O(fe);var Ce=new E(function(Oe,Ee){ge.ready().then(function(){k(ge._dbInfo,F,function(Pe,me){if(Pe)return Ee(Pe);try{var je=me.objectStore(ge._dbInfo.storeName),Xe=je.get(fe);Xe.onsuccess=function(){var ze=Xe.result;ze===void 0&&(ze=null),q(ze)&&(ze=N(ze)),Oe(ze)},Xe.onerror=function(){Ee(Xe.error)}}catch(ze){Ee(ze)}})}).catch(Ee)});return S(Ce,ye),Ce}function be(fe,ye){var ge=this,Ce=new E(function(Oe,Ee){ge.ready().then(function(){k(ge._dbInfo,F,function(Pe,me){if(Pe)return Ee(Pe);try{var je=me.objectStore(ge._dbInfo.storeName),Xe=je.openCursor(),ze=1;Xe.onsuccess=function(){var tt=Xe.result;if(tt){var mt=tt.value;q(mt)&&(mt=N(mt));var Et=fe(mt,tt.key,ze++);Et!==void 0?Oe(Et):tt.continue()}else Oe()},Xe.onerror=function(){Ee(Xe.error)}}catch(tt){Ee(tt)}})}).catch(Ee)});return S(Ce,ye),Ce}function ve(fe,ye,ge){var Ce=this;fe=O(fe);var Oe=new E(function(Ee,Pe){var me;Ce.ready().then(function(){return me=Ce._dbInfo,j.call(ye)==="[object Blob]"?ne(me.db).then(function(je){return je?ye:B(ye)}):ye}).then(function(je){k(Ce._dbInfo,X,function(Xe,ze){if(Xe)return Pe(Xe);try{var tt=ze.objectStore(Ce._dbInfo.storeName);je===null&&(je=void 0);var mt=tt.put(je,fe);ze.oncomplete=function(){je===void 0&&(je=null),Ee(je)},ze.onabort=ze.onerror=function(){var Et=mt.error?mt.error:mt.transaction.error;Pe(Et)}}catch(Et){Pe(Et)}})}).catch(Pe)});return S(Oe,ge),Oe}function Z(fe,ye){var ge=this;fe=O(fe);var Ce=new E(function(Oe,Ee){ge.ready().then(function(){k(ge._dbInfo,X,function(Pe,me){if(Pe)return Ee(Pe);try{var je=me.objectStore(ge._dbInfo.storeName),Xe=je.delete(fe);me.oncomplete=function(){Oe()},me.onerror=function(){Ee(Xe.error)},me.onabort=function(){var ze=Xe.error?Xe.error:Xe.transaction.error;Ee(ze)}}catch(ze){Ee(ze)}})}).catch(Ee)});return S(Ce,ye),Ce}function J(fe){var ye=this,ge=new E(function(Ce,Oe){ye.ready().then(function(){k(ye._dbInfo,X,function(Ee,Pe){if(Ee)return Oe(Ee);try{var me=Pe.objectStore(ye._dbInfo.storeName),je=me.clear();Pe.oncomplete=function(){Ce()},Pe.onabort=Pe.onerror=function(){var Xe=je.error?je.error:je.transaction.error;Oe(Xe)}}catch(Xe){Oe(Xe)}})}).catch(Oe)});return S(ge,fe),ge}function oe(fe){var ye=this,ge=new E(function(Ce,Oe){ye.ready().then(function(){k(ye._dbInfo,F,function(Ee,Pe){if(Ee)return Oe(Ee);try{var me=Pe.objectStore(ye._dbInfo.storeName),je=me.count();je.onsuccess=function(){Ce(je.result)},je.onerror=function(){Oe(je.error)}}catch(Xe){Oe(Xe)}})}).catch(Oe)});return S(ge,fe),ge}function H(fe,ye){var ge=this,Ce=new E(function(Oe,Ee){if(fe<0){Oe(null);return}ge.ready().then(function(){k(ge._dbInfo,F,function(Pe,me){if(Pe)return Ee(Pe);try{var je=me.objectStore(ge._dbInfo.storeName),Xe=!1,ze=je.openKeyCursor();ze.onsuccess=function(){var tt=ze.result;if(!tt){Oe(null);return}fe===0||Xe?Oe(tt.key):(Xe=!0,tt.advance(fe))},ze.onerror=function(){Ee(ze.error)}}catch(tt){Ee(tt)}})}).catch(Ee)});return S(Ce,ye),Ce}function Q(fe){var ye=this,ge=new E(function(Ce,Oe){ye.ready().then(function(){k(ye._dbInfo,F,function(Ee,Pe){if(Ee)return Oe(Ee);try{var me=Pe.objectStore(ye._dbInfo.storeName),je=me.openKeyCursor(),Xe=[];je.onsuccess=function(){var ze=je.result;if(!ze){Ce(Xe);return}Xe.push(ze.key),ze.continue()},je.onerror=function(){Oe(je.error)}}catch(ze){Oe(ze)}})}).catch(Oe)});return S(ge,fe),ge}function ie(fe,ye){ye=$.apply(this,arguments);var ge=this.config();fe=typeof fe!="function"&&fe||{},fe.name||(fe.name=fe.name||ge.name,fe.storeName=fe.storeName||ge.storeName);var Ce=this,Oe;if(!fe.name)Oe=E.reject("Invalid arguments");else{var Ee=fe.name===ge.name&&Ce._dbInfo.db,Pe=Ee?E.resolve(Ce._dbInfo.db):D(fe).then(function(me){var je=L[fe.name],Xe=je.forages;je.db=me;for(var ze=0;ze<Xe.length;ze++)Xe[ze]._dbInfo.db=me;return me});fe.storeName?Oe=Pe.then(function(me){if(me.objectStoreNames.contains(fe.storeName)){var je=me.version+1;re(fe);var Xe=L[fe.name],ze=Xe.forages;me.close();for(var tt=0;tt<ze.length;tt++){var mt=ze[tt];mt._dbInfo.db=null,mt._dbInfo.version=je}var Et=new E(function(Pt,kt){var Ut=w.open(fe.name,je);Ut.onerror=function(Lt){var Kt=Ut.result;Kt.close(),kt(Lt)},Ut.onupgradeneeded=function(){var Lt=Ut.result;Lt.deleteObjectStore(fe.storeName)},Ut.onsuccess=function(){var Lt=Ut.result;Lt.close(),Pt(Lt)}});return Et.then(function(Pt){Xe.db=Pt;for(var kt=0;kt<ze.length;kt++){var Ut=ze[kt];Ut._dbInfo.db=Pt,se(Ut._dbInfo)}}).catch(function(Pt){throw(G(fe,Pt)||E.resolve()).catch(function(){}),Pt})}}):Oe=Pe.then(function(me){re(fe);var je=L[fe.name],Xe=je.forages;me.close();for(var ze=0;ze<Xe.length;ze++){var tt=Xe[ze];tt._dbInfo.db=null}var mt=new E(function(Et,Pt){var kt=w.deleteDatabase(fe.name);kt.onerror=function(){var Ut=kt.result;Ut&&Ut.close(),Pt(kt.error)},kt.onblocked=function(){console.warn('dropInstance blocked for database "'+fe.name+'" until all open connections are closed')},kt.onsuccess=function(){var Ut=kt.result;Ut&&Ut.close(),Et(Ut)}});return mt.then(function(Et){je.db=Et;for(var Pt=0;Pt<Xe.length;Pt++){var kt=Xe[Pt];se(kt._dbInfo)}}).catch(function(Et){throw(G(fe,Et)||E.resolve()).catch(function(){}),Et})})}return S(Oe,ye),Oe}var we={_driver:"asyncStorage",_initStorage:W,_support:C(),iterate:be,getItem:ce,setItem:ve,removeItem:Z,clear:J,length:oe,key:H,keys:Q,dropInstance:ie};function Se(){return typeof openDatabase=="function"}var De="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ie="~~local_forage_type~",qe=/^~~local_forage_type~([^~]+)~/,Ne="__lfsc__:",Me=Ne.length,Ve="arbf",Ke="blob",ot="si08",Je="ui08",We="uic8",it="si16",Fe="si32",Le="ur16",Qe="ui32",rt="fl32",ue="fl64",ee=Me+Ve.length,te=Object.prototype.toString;function de(fe){var ye=fe.length*.75,ge=fe.length,Ce,Oe=0,Ee,Pe,me,je;fe[fe.length-1]==="="&&(ye--,fe[fe.length-2]==="="&&ye--);var Xe=new ArrayBuffer(ye),ze=new Uint8Array(Xe);for(Ce=0;Ce<ge;Ce+=4)Ee=De.indexOf(fe[Ce]),Pe=De.indexOf(fe[Ce+1]),me=De.indexOf(fe[Ce+2]),je=De.indexOf(fe[Ce+3]),ze[Oe++]=Ee<<2|Pe>>4,ze[Oe++]=(Pe&15)<<4|me>>2,ze[Oe++]=(me&3)<<6|je&63;return Xe}function xe(fe){var ye=new Uint8Array(fe),ge="",Ce;for(Ce=0;Ce<ye.length;Ce+=3)ge+=De[ye[Ce]>>2],ge+=De[(ye[Ce]&3)<<4|ye[Ce+1]>>4],ge+=De[(ye[Ce+1]&15)<<2|ye[Ce+2]>>6],ge+=De[ye[Ce+2]&63];return ye.length%3===2?ge=ge.substring(0,ge.length-1)+"=":ye.length%3===1&&(ge=ge.substring(0,ge.length-2)+"=="),ge}function Re(fe,ye){var ge="";if(fe&&(ge=te.call(fe)),fe&&(ge==="[object ArrayBuffer]"||fe.buffer&&te.call(fe.buffer)==="[object ArrayBuffer]")){var Ce,Oe=Ne;fe instanceof ArrayBuffer?(Ce=fe,Oe+=Ve):(Ce=fe.buffer,ge==="[object Int8Array]"?Oe+=ot:ge==="[object Uint8Array]"?Oe+=Je:ge==="[object Uint8ClampedArray]"?Oe+=We:ge==="[object Int16Array]"?Oe+=it:ge==="[object Uint16Array]"?Oe+=Le:ge==="[object Int32Array]"?Oe+=Fe:ge==="[object Uint32Array]"?Oe+=Qe:ge==="[object Float32Array]"?Oe+=rt:ge==="[object Float64Array]"?Oe+=ue:ye(new Error("Failed to get type for BinaryArray"))),ye(Oe+xe(Ce))}else if(ge==="[object Blob]"){var Ee=new FileReader;Ee.onload=function(){var Pe=Ie+fe.type+"~"+xe(this.result);ye(Ne+Ke+Pe)},Ee.readAsArrayBuffer(fe)}else try{ye(JSON.stringify(fe))}catch(Pe){console.error("Couldn't convert value into a JSON string: ",fe),ye(null,Pe)}}function Te(fe){if(fe.substring(0,Me)!==Ne)return JSON.parse(fe);var ye=fe.substring(ee),ge=fe.substring(Me,ee),Ce;if(ge===Ke&&qe.test(ye)){var Oe=ye.match(qe);Ce=Oe[1],ye=ye.substring(Oe[0].length)}var Ee=de(ye);switch(ge){case Ve:return Ee;case Ke:return b([Ee],{type:Ce});case ot:return new Int8Array(Ee);case Je:return new Uint8Array(Ee);case We:return new Uint8ClampedArray(Ee);case it:return new Int16Array(Ee);case Le:return new Uint16Array(Ee);case Fe:return new Int32Array(Ee);case Qe:return new Uint32Array(Ee);case rt:return new Float32Array(Ee);case ue:return new Float64Array(Ee);default:throw new Error("Unkown type: "+ge)}}var dt={serialize:Re,deserialize:Te,stringToBuffer:de,bufferToString:xe};function ut(fe,ye,ge,Ce){fe.executeSql("CREATE TABLE IF NOT EXISTS "+ye.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],ge,Ce)}function et(fe){var ye=this,ge={db:null};if(fe)for(var Ce in fe)ge[Ce]=typeof fe[Ce]!="string"?fe[Ce].toString():fe[Ce];var Oe=new E(function(Ee,Pe){try{ge.db=openDatabase(ge.name,String(ge.version),ge.description,ge.size)}catch(me){return Pe(me)}ge.db.transaction(function(me){ut(me,ge,function(){ye._dbInfo=ge,Ee()},function(je,Xe){Pe(Xe)})},Pe)});return ge.serializer=dt,Oe}function wt(fe,ye,ge,Ce,Oe,Ee){fe.executeSql(ge,Ce,Oe,function(Pe,me){me.code===me.SYNTAX_ERR?Pe.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[ye.storeName],function(je,Xe){Xe.rows.length?Ee(je,me):ut(je,ye,function(){je.executeSql(ge,Ce,Oe,Ee)},Ee)},Ee):Ee(Pe,me)},Ee)}function ht(fe,ye){var ge=this;fe=O(fe);var Ce=new E(function(Oe,Ee){ge.ready().then(function(){var Pe=ge._dbInfo;Pe.db.transaction(function(me){wt(me,Pe,"SELECT * FROM "+Pe.storeName+" WHERE key = ? LIMIT 1",[fe],function(je,Xe){var ze=Xe.rows.length?Xe.rows.item(0).value:null;ze&&(ze=Pe.serializer.deserialize(ze)),Oe(ze)},function(je,Xe){Ee(Xe)})})}).catch(Ee)});return S(Ce,ye),Ce}function _t(fe,ye){var ge=this,Ce=new E(function(Oe,Ee){ge.ready().then(function(){var Pe=ge._dbInfo;Pe.db.transaction(function(me){wt(me,Pe,"SELECT * FROM "+Pe.storeName,[],function(je,Xe){for(var ze=Xe.rows,tt=ze.length,mt=0;mt<tt;mt++){var Et=ze.item(mt),Pt=Et.value;if(Pt&&(Pt=Pe.serializer.deserialize(Pt)),Pt=fe(Pt,Et.key,mt+1),Pt!==void 0){Oe(Pt);return}}Oe()},function(je,Xe){Ee(Xe)})})}).catch(Ee)});return S(Ce,ye),Ce}function It(fe,ye,ge,Ce){var Oe=this;fe=O(fe);var Ee=new E(function(Pe,me){Oe.ready().then(function(){ye===void 0&&(ye=null);var je=ye,Xe=Oe._dbInfo;Xe.serializer.serialize(ye,function(ze,tt){tt?me(tt):Xe.db.transaction(function(mt){wt(mt,Xe,"INSERT OR REPLACE INTO "+Xe.storeName+" (key, value) VALUES (?, ?)",[fe,ze],function(){Pe(je)},function(Et,Pt){me(Pt)})},function(mt){if(mt.code===mt.QUOTA_ERR){if(Ce>0){Pe(It.apply(Oe,[fe,je,ge,Ce-1]));return}me(mt)}})})}).catch(me)});return S(Ee,ge),Ee}function bt(fe,ye,ge){return It.apply(this,[fe,ye,ge,1])}function at(fe,ye){var ge=this;fe=O(fe);var Ce=new E(function(Oe,Ee){ge.ready().then(function(){var Pe=ge._dbInfo;Pe.db.transaction(function(me){wt(me,Pe,"DELETE FROM "+Pe.storeName+" WHERE key = ?",[fe],function(){Oe()},function(je,Xe){Ee(Xe)})})}).catch(Ee)});return S(Ce,ye),Ce}function Bt(fe){var ye=this,ge=new E(function(Ce,Oe){ye.ready().then(function(){var Ee=ye._dbInfo;Ee.db.transaction(function(Pe){wt(Pe,Ee,"DELETE FROM "+Ee.storeName,[],function(){Ce()},function(me,je){Oe(je)})})}).catch(Oe)});return S(ge,fe),ge}function xt(fe){var ye=this,ge=new E(function(Ce,Oe){ye.ready().then(function(){var Ee=ye._dbInfo;Ee.db.transaction(function(Pe){wt(Pe,Ee,"SELECT COUNT(key) as c FROM "+Ee.storeName,[],function(me,je){var Xe=je.rows.item(0).c;Ce(Xe)},function(me,je){Oe(je)})})}).catch(Oe)});return S(ge,fe),ge}function st(fe,ye){var ge=this,Ce=new E(function(Oe,Ee){ge.ready().then(function(){var Pe=ge._dbInfo;Pe.db.transaction(function(me){wt(me,Pe,"SELECT key FROM "+Pe.storeName+" WHERE id = ? LIMIT 1",[fe+1],function(je,Xe){var ze=Xe.rows.length?Xe.rows.item(0).key:null;Oe(ze)},function(je,Xe){Ee(Xe)})})}).catch(Ee)});return S(Ce,ye),Ce}function Nt(fe){var ye=this,ge=new E(function(Ce,Oe){ye.ready().then(function(){var Ee=ye._dbInfo;Ee.db.transaction(function(Pe){wt(Pe,Ee,"SELECT key FROM "+Ee.storeName,[],function(me,je){for(var Xe=[],ze=0;ze<je.rows.length;ze++)Xe.push(je.rows.item(ze).key);Ce(Xe)},function(me,je){Oe(je)})})}).catch(Oe)});return S(ge,fe),ge}function Ct(fe){return new E(function(ye,ge){fe.transaction(function(Ce){Ce.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(Oe,Ee){for(var Pe=[],me=0;me<Ee.rows.length;me++)Pe.push(Ee.rows.item(me).name);ye({db:fe,storeNames:Pe})},function(Oe,Ee){ge(Ee)})},function(Ce){ge(Ce)})})}function nt(fe,ye){ye=$.apply(this,arguments);var ge=this.config();fe=typeof fe!="function"&&fe||{},fe.name||(fe.name=fe.name||ge.name,fe.storeName=fe.storeName||ge.storeName);var Ce=this,Oe;return fe.name?Oe=new E(function(Ee){var Pe;fe.name===ge.name?Pe=Ce._dbInfo.db:Pe=openDatabase(fe.name,"","",0),fe.storeName?Ee({db:Pe,storeNames:[fe.storeName]}):Ee(Ct(Pe))}).then(function(Ee){return new E(function(Pe,me){Ee.db.transaction(function(je){function Xe(Et){return new E(function(Pt,kt){je.executeSql("DROP TABLE IF EXISTS "+Et,[],function(){Pt()},function(Ut,Lt){kt(Lt)})})}for(var ze=[],tt=0,mt=Ee.storeNames.length;tt<mt;tt++)ze.push(Xe(Ee.storeNames[tt]));E.all(ze).then(function(){Pe()}).catch(function(Et){me(Et)})},function(je){me(je)})})}):Oe=E.reject("Invalid arguments"),S(Oe,ye),Oe}var At={_driver:"webSQLStorage",_initStorage:et,_support:Se(),iterate:_t,getItem:ht,setItem:bt,removeItem:at,clear:Bt,length:xt,key:st,keys:Nt,dropInstance:nt};function ae(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function le(fe,ye){var ge=fe.name+"/";return fe.storeName!==ye.storeName&&(ge+=fe.storeName+"/"),ge}function he(){var fe="_localforage_support_test";try{return localStorage.setItem(fe,!0),localStorage.removeItem(fe),!1}catch{return!0}}function V(){return!he()||localStorage.length>0}function pe(fe){var ye=this,ge={};if(fe)for(var Ce in fe)ge[Ce]=fe[Ce];return ge.keyPrefix=le(fe,ye._defaultConfig),V()?(ye._dbInfo=ge,ge.serializer=dt,E.resolve()):E.reject()}function Ae(fe){var ye=this,ge=ye.ready().then(function(){for(var Ce=ye._dbInfo.keyPrefix,Oe=localStorage.length-1;Oe>=0;Oe--){var Ee=localStorage.key(Oe);Ee.indexOf(Ce)===0&&localStorage.removeItem(Ee)}});return S(ge,fe),ge}function $e(fe,ye){var ge=this;fe=O(fe);var Ce=ge.ready().then(function(){var Oe=ge._dbInfo,Ee=localStorage.getItem(Oe.keyPrefix+fe);return Ee&&(Ee=Oe.serializer.deserialize(Ee)),Ee});return S(Ce,ye),Ce}function Be(fe,ye){var ge=this,Ce=ge.ready().then(function(){for(var Oe=ge._dbInfo,Ee=Oe.keyPrefix,Pe=Ee.length,me=localStorage.length,je=1,Xe=0;Xe<me;Xe++){var ze=localStorage.key(Xe);if(ze.indexOf(Ee)===0){var tt=localStorage.getItem(ze);if(tt&&(tt=Oe.serializer.deserialize(tt)),tt=fe(tt,ze.substring(Pe),je++),tt!==void 0)return tt}}});return S(Ce,ye),Ce}function Ge(fe,ye){var ge=this,Ce=ge.ready().then(function(){var Oe=ge._dbInfo,Ee;try{Ee=localStorage.key(fe)}catch{Ee=null}return Ee&&(Ee=Ee.substring(Oe.keyPrefix.length)),Ee});return S(Ce,ye),Ce}function Ze(fe){var ye=this,ge=ye.ready().then(function(){for(var Ce=ye._dbInfo,Oe=localStorage.length,Ee=[],Pe=0;Pe<Oe;Pe++){var me=localStorage.key(Pe);me.indexOf(Ce.keyPrefix)===0&&Ee.push(me.substring(Ce.keyPrefix.length))}return Ee});return S(ge,fe),ge}function He(fe){var ye=this,ge=ye.keys().then(function(Ce){return Ce.length});return S(ge,fe),ge}function qt(fe,ye){var ge=this;fe=O(fe);var Ce=ge.ready().then(function(){var Oe=ge._dbInfo;localStorage.removeItem(Oe.keyPrefix+fe)});return S(Ce,ye),Ce}function pt(fe,ye,ge){var Ce=this;fe=O(fe);var Oe=Ce.ready().then(function(){ye===void 0&&(ye=null);var Ee=ye;return new E(function(Pe,me){var je=Ce._dbInfo;je.serializer.serialize(ye,function(Xe,ze){if(ze)me(ze);else try{localStorage.setItem(je.keyPrefix+fe,Xe),Pe(Ee)}catch(tt){(tt.name==="QuotaExceededError"||tt.name==="NS_ERROR_DOM_QUOTA_REACHED")&&me(tt),me(tt)}})})});return S(Oe,ge),Oe}function Ot(fe,ye){if(ye=$.apply(this,arguments),fe=typeof fe!="function"&&fe||{},!fe.name){var ge=this.config();fe.name=fe.name||ge.name,fe.storeName=fe.storeName||ge.storeName}var Ce=this,Oe;return fe.name?Oe=new E(function(Ee){fe.storeName?Ee(le(fe,Ce._defaultConfig)):Ee(fe.name+"/")}).then(function(Ee){for(var Pe=localStorage.length-1;Pe>=0;Pe--){var me=localStorage.key(Pe);me.indexOf(Ee)===0&&localStorage.removeItem(me)}}):Oe=E.reject("Invalid arguments"),S(Oe,ye),Oe}var $t={_driver:"localStorageWrapper",_initStorage:pe,_support:ae(),iterate:Be,getItem:$e,setItem:pt,removeItem:qt,clear:Ae,length:He,key:Ge,keys:Ze,dropInstance:Ot},Tt=function(ye,ge){return ye===ge||typeof ye=="number"&&typeof ge=="number"&&isNaN(ye)&&isNaN(ge)},Mt=function(ye,ge){for(var Ce=ye.length,Oe=0;Oe<Ce;){if(Tt(ye[Oe],ge))return!0;Oe++}return!1},Rt=Array.isArray||function(fe){return Object.prototype.toString.call(fe)==="[object Array]"},St={},Dt={},lt={INDEXEDDB:we,WEBSQL:At,LOCALSTORAGE:$t},yt=[lt.INDEXEDDB._driver,lt.WEBSQL._driver,lt.LOCALSTORAGE._driver],ct=["dropInstance"],vt=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(ct),gt={description:"",driver:yt.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function ft(fe,ye){fe[ye]=function(){var ge=arguments;return fe.ready().then(function(){return fe[ye].apply(fe,ge)})}}function ke(){for(var fe=1;fe<arguments.length;fe++){var ye=arguments[fe];if(ye)for(var ge in ye)ye.hasOwnProperty(ge)&&(Rt(ye[ge])?arguments[0][ge]=ye[ge].slice():arguments[0][ge]=ye[ge])}return arguments[0]}var Ue=function(){function fe(ye){y(this,fe);for(var ge in lt)if(lt.hasOwnProperty(ge)){var Ce=lt[ge],Oe=Ce._driver;this[ge]=Oe,St[Oe]||this.defineDriver(Ce)}this._defaultConfig=ke({},gt),this._config=ke({},this._defaultConfig,ye),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return fe.prototype.config=function(ge){if((typeof ge>"u"?"undefined":v(ge))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var Ce in ge){if(Ce==="storeName"&&(ge[Ce]=ge[Ce].replace(/\W/g,"_")),Ce==="version"&&typeof ge[Ce]!="number")return new Error("Database version must be a number.");this._config[Ce]=ge[Ce]}return"driver"in ge&&ge.driver?this.setDriver(this._config.driver):!0}else return typeof ge=="string"?this._config[ge]:this._config},fe.prototype.defineDriver=function(ge,Ce,Oe){var Ee=new E(function(Pe,me){try{var je=ge._driver,Xe=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!ge._driver){me(Xe);return}for(var ze=vt.concat("_initStorage"),tt=0,mt=ze.length;tt<mt;tt++){var Et=ze[tt],Pt=!Mt(ct,Et);if((Pt||ge[Et])&&typeof ge[Et]!="function"){me(Xe);return}}var kt=function(){for(var Kt=function(Gt){return function(){var zt=new Error("Method "+Gt+" is not implemented by the current driver"),Ht=E.reject(zt);return S(Ht,arguments[arguments.length-1]),Ht}},Ft=0,Wt=ct.length;Ft<Wt;Ft++){var jt=ct[Ft];ge[jt]||(ge[jt]=Kt(jt))}};kt();var Ut=function(Kt){St[je]&&console.info("Redefining LocalForage driver: "+je),St[je]=ge,Dt[je]=Kt,Pe()};"_support"in ge?ge._support&&typeof ge._support=="function"?ge._support().then(Ut,me):Ut(!!ge._support):Ut(!0)}catch(Lt){me(Lt)}});return R(Ee,Ce,Oe),Ee},fe.prototype.driver=function(){return this._driver||null},fe.prototype.getDriver=function(ge,Ce,Oe){var Ee=St[ge]?E.resolve(St[ge]):E.reject(new Error("Driver not found."));return R(Ee,Ce,Oe),Ee},fe.prototype.getSerializer=function(ge){var Ce=E.resolve(dt);return R(Ce,ge),Ce},fe.prototype.ready=function(ge){var Ce=this,Oe=Ce._driverSet.then(function(){return Ce._ready===null&&(Ce._ready=Ce._initDriver()),Ce._ready});return R(Oe,ge,ge),Oe},fe.prototype.setDriver=function(ge,Ce,Oe){var Ee=this;Rt(ge)||(ge=[ge]);var Pe=this._getSupportedDrivers(ge);function me(){Ee._config.driver=Ee.driver()}function je(tt){return Ee._extend(tt),me(),Ee._ready=Ee._initStorage(Ee._config),Ee._ready}function Xe(tt){return function(){var mt=0;function Et(){for(;mt<tt.length;){var Pt=tt[mt];return mt++,Ee._dbInfo=null,Ee._ready=null,Ee.getDriver(Pt).then(je).catch(Et)}me();var kt=new Error("No available storage method found.");return Ee._driverSet=E.reject(kt),Ee._driverSet}return Et()}}var ze=this._driverSet!==null?this._driverSet.catch(function(){return E.resolve()}):E.resolve();return this._driverSet=ze.then(function(){var tt=Pe[0];return Ee._dbInfo=null,Ee._ready=null,Ee.getDriver(tt).then(function(mt){Ee._driver=mt._driver,me(),Ee._wrapLibraryMethodsWithReady(),Ee._initDriver=Xe(Pe)})}).catch(function(){me();var tt=new Error("No available storage method found.");return Ee._driverSet=E.reject(tt),Ee._driverSet}),R(this._driverSet,Ce,Oe),this._driverSet},fe.prototype.supports=function(ge){return!!Dt[ge]},fe.prototype._extend=function(ge){ke(this,ge)},fe.prototype._getSupportedDrivers=function(ge){for(var Ce=[],Oe=0,Ee=ge.length;Oe<Ee;Oe++){var Pe=ge[Oe];this.supports(Pe)&&Ce.push(Pe)}return Ce},fe.prototype._wrapLibraryMethodsWithReady=function(){for(var ge=0,Ce=vt.length;ge<Ce;ge++)ft(this,vt[ge])},fe.prototype.createInstance=function(ge){return new fe(ge)},fe}(),Ye=new Ue;g.exports=Ye},{3:3}]},{},[4])(4)})})(localforage);var localforageExports=localforage.exports,hasRequiredReport;function requireReport(){return hasRequiredReport||(hasRequiredReport=1,function(f){var r=commonjsGlobal&&commonjsGlobal.__awaiter||function(L,j,F,X){function z(Y){return Y instanceof F?Y:new F(function(ne){ne(Y)})}return new(F||(F=Promise))(function(Y,ne){function re(T){try{G(X.next(T))}catch(D){ne(D)}}function se(T){try{G(X.throw(T))}catch(D){ne(D)}}function G(T){T.done?Y(T.value):z(T.value).then(re,se)}G((X=X.apply(L,j||[])).next())})},d=commonjsGlobal&&commonjsGlobal.__importDefault||function(L){return L&&L.__esModule?L:{default:L}};Object.defineProperty(f,"__esModule",{value:!0}),f.OKXReporter=f.OKXReportSide=f.OKXReportType=f.versionStr=void 0;const g=d(browserPonyfillExports$1),_=requireLog(),v=requireUrl(),y=requireUtils$1(),m=d(localforageExports),w=d(naclFastExports);f.versionStr="1.6.9";const C=["https://www.okx.com/dappstat/wallet-connect","https://www.okx.ac/dappstat/wallet-connect"],b="OKX_RP_CK",E="OKX_RP_UUID_CK",S=100,$={headers:{Accept:"*/*","Content-Type":"text/plain"},method:"POST"};f.OKXReportType={PAGE_IN:"page_in",PAGE_OUT:"page_out",CLICK:"click",LOG:"log"},f.OKXReportSide={DAPP:"dapp",WALLET:"wallet"};const I=(L,...j)=>r(void 0,[L,...j],void 0,function*(F,X={},z=5e3){for(const Y of F)try{const ne=new AbortController,re=ne.signal,se=(0,g.default)(Y,Object.assign(Object.assign({},X),{signal:re})),G=new Promise((D,x)=>setTimeout(()=>{ne.abort(),x(new Error("Request timed out"))},z)),T=yield Promise.race([se,G]);if(T.ok)return T;if(T.status==502)return console.error("Fetch error status 502",Y),T}catch(ne){console.error(`Fetch error for ${Y}:`,ne)}throw console.error("'All fetch attempts failed.'"),new Error("All fetch attempts failed.")});class U{constructor(){this.currentSide=f.OKXReportSide.DAPP,this.currentVersion=f.versionStr,this.storage=m.default.createInstance({name:"OKXReporter"}),this.recordList=new Array,this.currentUUID=(0,y.toHexString)(w.default.randomBytes(16))}configVersionAndSide(j,F,X){this.currentVersion=j,this.currentSide=F,this.appName=X}get recordCacheKey(){return b+"@"+this.appName}get reportPlatform(){return(0,y.isMobileUserAgent)()?(0,y.isIos)()?"iOS":"android":"pc"}beginReport(){return r(this,void 0,void 0,function*(){this.startErrorCatching();let j=yield this.storage.getItem(this.recordCacheKey),F=yield this.storage.getItem(E);F?this.currentUUID=F:this.storage.setItem(E,this.currentUUID),j&&(this.recordList=j,(0,_.logDebug)("resume records from cache length: ",this.recordList.length),yield this.sendCachedRecords())})}startErrorCatching(){(0,v.getWindow)()&&(0,_.logDebug)("begin capture console error")}cachedErrors(){return this.recordList}sendRecord(j){return r(this,void 0,void 0,function*(){return new Promise((F,X)=>r(this,void 0,void 0,function*(){try{const z=JSON.stringify(j);(0,_.logDebug)("[REPORT] record: ",z);const Y=yield I(C,Object.assign(Object.assign({},$),{body:z}));(0,_.logDebug)("[REPORT] get rsp:",Y),Y&&Y.status&&Y.status==200?(this.recordList=this.recordList.filter(ne=>ne.timestamp!=j.timestamp||ne.content!=j.content),yield this.storage.setItem(this.recordCacheKey,this.recordList),F(!0)):X(!1)}catch(z){(0,_.logDebug)("send record error:",z),F(!0)}}))})}sendRecordContent(j,F,X){return r(this,void 0,void 0,function*(){var z,Y,ne,re;let se=(z=(0,v.getWindow)())===null||z===void 0?void 0:z.location.pathname,G=(Y=(0,v.getWindow)())===null||Y===void 0?void 0:Y.location.origin;se&&G&&(G=G+se);let T=(ne=(0,v.getWindow)())===null||ne===void 0?void 0:ne.navigator.language,D=(re=(0,v.getWindow)())===null||re===void 0?void 0:re.navigator.userAgent,x=this.reportPlatform,A={uuid:this.currentUUID,version:this.currentVersion,content:j,action:X,side:this.currentSide,timestamp:new Date().getTime(),url:G,lang:T,type:F,platform:x,"user-agent":D};yield this.markRecordItem(A),yield this.sendRecord(A)})}sendCachedRecords(){return r(this,void 0,void 0,function*(){return new Promise((j,F)=>r(this,void 0,void 0,function*(){let X=this.recordList.map(z=>this.sendRecord(z));(0,_.logDebug)("[REPORT] submit & clean recorded caches begin @",new Date().toUTCString()),Promise.allSettled(X).then(z=>{(0,_.logDebug)("[REPORT] submit & clean recorded caches ends @",new Date().toUTCString());let Y=[];z.forEach((ne,re)=>{ne.status=="rejected"&&Y.push(re)}),this.recordList=this.recordList.filter((ne,re)=>!Y.includes(re)),this.storage.setItem(this.recordCacheKey,this.recordList).then(function(ne){j()}).catch(function(ne){F(ne)})})}))})}markRecordItem(j){return r(this,void 0,void 0,function*(){if(this.recordList.push(j),this.recordList.length>S){let F=this.recordList.length-S;this.recordList.splice(0,F)}return new Promise((F,X)=>{this.storage.setItem(this.recordCacheKey,this.recordList).then(function(z){F(j)}).catch(function(z){X(z)})})})}markRecord(j,F,X,z){return r(this,void 0,void 0,function*(){var Y,ne,re,se;let G=(Y=(0,v.getWindow)())===null||Y===void 0?void 0:Y.location.pathname,T=(ne=(0,v.getWindow)())===null||ne===void 0?void 0:ne.location.origin;G&&T&&(T=T+G);let D=(re=(0,v.getWindow)())===null||re===void 0?void 0:re.navigator.language,x=this.reportPlatform,A=(se=(0,v.getWindow)())===null||se===void 0?void 0:se.navigator.userAgent,B={uuid:this.currentUUID,version:this.currentVersion,content:j,action:X,side:z,timestamp:new Date().getTime(),url:T,lang:D,type:F,platform:x,"user-agent":A};return yield this.markRecordItem(B)})}}f.OKXReporter=U}(report)),report}const name$2="@okxconnect/core",version$1="1.6.9",description="OKX Connect core",main="./src/index.js",keywords=["OKXConnect","OKX Connect"],scripts={build:"npx tsc",local:"yarn install && npx tsc",remove:"rm -rf ./src  && rm -rf ./node_modules"},author="OKX Wallet",license="MIT",dependencies={"@stablelib/ed25519":"^1.0.2","@stablelib/random":"^1.0.1","@stablelib/sha256":"1.0.1",bs58:"^5.0.0","core-js":"2.6.12","cross-fetch":"^4.0.0","crypto-js":"^4.2.0",eventemitter3:"^5.0.1",isutf8:"^4.0.0",localforage:"^1.10.0",multiformats:"9.4.2",process:"^0.11.10",tweetnacl:"^1.0.3","tweetnacl-util":"^0.15.1","ua-parser-js":"^1.0.35",uint8arrays:"3.1.0"},devDependencies={"@types/crypto-js":"^4.2.2","@types/ua-parser-js":"^0.7.36",assert:"^2.1.0",eslint:"^9.7.0",events:"^3.3.0",jest:"^29.7.0","ts-loader":"^9.5.1",typescript:"^5.5.2"},peerDependencies={"@solana/web3.js":"^1.78.4"},require$$1={name:name$2,version:version$1,description,main,keywords,scripts,author,license,dependencies,devDependencies,peerDependencies};var hasRequiredLog;function requireLog(){if(hasRequiredLog)return log$5;hasRequiredLog=1;var f=commonjsGlobal&&commonjsGlobal.__awaiter||function(R,O,$,I){function U(L){return L instanceof $?L:new $(function(j){j(L)})}return new($||($=Promise))(function(L,j){function F(Y){try{z(I.next(Y))}catch(ne){j(ne)}}function X(Y){try{z(I.throw(Y))}catch(ne){j(ne)}}function z(Y){Y.done?L(Y.value):U(Y.value).then(F,X)}z((I=I.apply(R,O||[])).next())})};Object.defineProperty(log$5,"__esModule",{value:!0}),log$5.getDefaultReporter=v,log$5.logDebug=w,log$5.logError=C,log$5.logWarning=b,log$5.reportEvent=E,log$5.reportLog=S;const r=!1,d=!1,g=requireReport(),_=new g.OKXReporter;function v(){return _}const m=require$$1.version;function w(...R){if(typeof console<"u")try{(r||window!=null&&window.okxLogDebug)&&console.log(`[OKX_CONNECT_SDK] ${m} `,...R)}catch{}}function C(...R){if(typeof console<"u")try{if((r||window!=null&&window.okxLogDebug)&&console.error(`[OKX_CONNECT_SDK] ${m} `,...R),d||!r){let O="";O+=[...R].reduce(($,I)=>{typeof I=="string"?$+=","+I:typeof I=="object"&&($+=JSON.stringify(I))}),_.sendRecordContent(O,g.OKXReportType.LOG,"")}}catch{}}function b(...R){if(typeof console<"u")try{(r||window!=null&&window.okxLogDebug)&&console.warn(`[OKX_CONNECT_SDK] ${m} `,...R)}catch{}}function E(R,O,$){return f(this,void 0,void 0,function*(){yield _.sendRecordContent($,R,O)})}function S(R){return f(this,arguments,void 0,function*(O,$="default"){})}return log$5}var hasRequiredSafejson;function requireSafejson(){if(hasRequiredSafejson)return safejson;hasRequiredSafejson=1,Object.defineProperty(safejson,"__esModule",{value:!0}),safejson.safeJsonParse=g,safejson.safeJsonStringify=_;const f=requireLog(),r=v=>JSON.stringify(v,(y,m)=>typeof m=="bigint"?m.toString()+"n":m),d=v=>{const y=/:(\b\d{17,}|\b(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))(?=[,\}\]]|$)/g,m=v.replace(y,(w,C)=>`:"${C}n"`);try{return JSON.parse(m,(w,C)=>typeof C=="string"&&C.match(/^\d+n$/)?BigInt(C.substring(0,C.length-1)):C)}catch{return JSON.parse(v)}};function g(v){if(typeof v!="string")throw(0,f.logDebug)(v),new Error(`Cannot safe json parse value of type ${typeof v}`);try{return d(v)}catch(y){return console.error("safeJsonParse error:",y),v}}function _(v){return typeof v=="string"?v:r(v)||""}return safejson}var stringUtils={};function base$2(f,r){if(f.length>=255)throw new TypeError("Alphabet too long");for(var d=new Uint8Array(256),g=0;g<d.length;g++)d[g]=255;for(var _=0;_<f.length;_++){var v=f.charAt(_),y=v.charCodeAt(0);if(d[y]!==255)throw new TypeError(v+" is ambiguous");d[y]=_}var m=f.length,w=f.charAt(0),C=Math.log(m)/Math.log(256),b=Math.log(256)/Math.log(m);function E(O){if(O instanceof Uint8Array||(ArrayBuffer.isView(O)?O=new Uint8Array(O.buffer,O.byteOffset,O.byteLength):Array.isArray(O)&&(O=Uint8Array.from(O))),!(O instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(O.length===0)return"";for(var $=0,I=0,U=0,L=O.length;U!==L&&O[U]===0;)U++,$++;for(var j=(L-U)*b+1>>>0,F=new Uint8Array(j);U!==L;){for(var X=O[U],z=0,Y=j-1;(X!==0||z<I)&&Y!==-1;Y--,z++)X+=256*F[Y]>>>0,F[Y]=X%m>>>0,X=X/m>>>0;if(X!==0)throw new Error("Non-zero carry");I=z,U++}for(var ne=j-I;ne!==j&&F[ne]===0;)ne++;for(var re=w.repeat($);ne<j;++ne)re+=f.charAt(F[ne]);return re}function S(O){if(typeof O!="string")throw new TypeError("Expected String");if(O.length===0)return new Uint8Array;var $=0;if(O[$]!==" "){for(var I=0,U=0;O[$]===w;)I++,$++;for(var L=(O.length-$)*C+1>>>0,j=new Uint8Array(L);O[$];){var F=d[O.charCodeAt($)];if(F===255)return;for(var X=0,z=L-1;(F!==0||X<U)&&z!==-1;z--,X++)F+=m*j[z]>>>0,j[z]=F%256>>>0,F=F/256>>>0;if(F!==0)throw new Error("Non-zero carry");U=X,$++}if(O[$]!==" "){for(var Y=L-U;Y!==L&&j[Y]===0;)Y++;for(var ne=new Uint8Array(I+(L-Y)),re=I;Y!==L;)ne[re++]=j[Y++];return ne}}}function R(O){var $=S(O);if($)return $;throw new Error(`Non-${r} character`)}return{encode:E,decodeUnsafe:S,decode:R}}var src$4=base$2,_brrp__multiformats_scope_baseX=src$4;const empty=new Uint8Array(0),toHex=f=>f.reduce((r,d)=>r+d.toString(16).padStart(2,"0"),""),fromHex=f=>{const r=f.match(/../g);return r?new Uint8Array(r.map(d=>parseInt(d,16))):empty},equals$1=(f,r)=>{if(f===r)return!0;if(f.byteLength!==r.byteLength)return!1;for(let d=0;d<f.byteLength;d++)if(f[d]!==r[d])return!1;return!0},coerce=f=>{if(f instanceof Uint8Array&&f.constructor.name==="Uint8Array")return f;if(f instanceof ArrayBuffer)return new Uint8Array(f);if(ArrayBuffer.isView(f))return new Uint8Array(f.buffer,f.byteOffset,f.byteLength);throw new Error("Unknown type, must be binary type")},isBinary=f=>f instanceof ArrayBuffer||ArrayBuffer.isView(f),fromString=f=>new TextEncoder().encode(f),toString=f=>new TextDecoder().decode(f),bytes=Object.freeze(Object.defineProperty({__proto__:null,coerce,empty,equals:equals$1,fromHex,fromString,isBinary,toHex,toString},Symbol.toStringTag,{value:"Module"}));class Encoder{constructor(r,d,g){this.name=r,this.prefix=d,this.baseEncode=g}encode(r){if(r instanceof Uint8Array)return`${this.prefix}${this.baseEncode(r)}`;throw Error("Unknown type, must be binary type")}}class Decoder{constructor(r,d,g){this.name=r,this.prefix=d,this.baseDecode=g}decode(r){if(typeof r=="string")switch(r[0]){case this.prefix:return this.baseDecode(r.slice(1));default:throw Error(`Unable to decode multibase string ${JSON.stringify(r)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`)}else throw Error("Can only multibase decode strings")}or(r){const d={[this.prefix]:this,...r.decoders||{[r.prefix]:r}};return new ComposedDecoder(d)}}class ComposedDecoder{constructor(r){this.decoders=r}or(r){const d=r.decoders||{[r.prefix]:r};return new ComposedDecoder({...this.decoders,...d})}decode(r){const d=r[0],g=this.decoders[d];if(g)return g.decode(r);throw RangeError(`Unable to decode multibase string ${JSON.stringify(r)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}class Codec{constructor(r,d,g,_){this.name=r,this.prefix=d,this.baseEncode=g,this.baseDecode=_,this.encoder=new Encoder(r,d,g),this.decoder=new Decoder(r,d,_)}encode(r){return this.encoder.encode(r)}decode(r){return this.decoder.decode(r)}}const from$1=({name:f,prefix:r,encode:d,decode:g})=>new Codec(f,r,d,g),baseX=({prefix:f,name:r,alphabet:d})=>{const{encode:g,decode:_}=_brrp__multiformats_scope_baseX(d,r);return from$1({prefix:f,name:r,encode:g,decode:v=>coerce(_(v))})},decode$5=(f,r,d,g)=>{const _={};for(let b=0;b<r.length;++b)_[r[b]]=b;let v=f.length;for(;f[v-1]==="=";)--v;const y=new Uint8Array(v*d/8|0);let m=0,w=0,C=0;for(let b=0;b<v;++b){const E=_[f[b]];if(E===void 0)throw new SyntaxError(`Non-${g} character`);w=w<<d|E,m+=d,m>=8&&(m-=8,y[C++]=255&w>>m)}if(m>=d||255&w<<8-m)throw new SyntaxError("Unexpected end of data");return y},encode$3=(f,r,d)=>{const g=r[r.length-1]==="=",_=(1<<d)-1;let v="",y=0,m=0;for(let w=0;w<f.length;++w)for(m=m<<8|f[w],y+=8;y>d;)y-=d,v+=r[_&m>>y];if(y&&(v+=r[_&m<<d-y]),g)for(;v.length*d&7;)v+="=";return v},rfc4648=({name:f,prefix:r,bitsPerChar:d,alphabet:g})=>from$1({prefix:r,name:f,encode(_){return encode$3(_,g,d)},decode(_){return decode$5(_,g,d,f)}}),identity$2=from$1({prefix:"\0",name:"identity",encode:f=>toString(f),decode:f=>fromString(f)}),identityBase=Object.freeze(Object.defineProperty({__proto__:null,identity:identity$2},Symbol.toStringTag,{value:"Module"})),base2=rfc4648({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),base2$1=Object.freeze(Object.defineProperty({__proto__:null,base2},Symbol.toStringTag,{value:"Module"})),base8=rfc4648({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),base8$1=Object.freeze(Object.defineProperty({__proto__:null,base8},Symbol.toStringTag,{value:"Module"})),base10=baseX({prefix:"9",name:"base10",alphabet:"0123456789"}),base10$1=Object.freeze(Object.defineProperty({__proto__:null,base10},Symbol.toStringTag,{value:"Module"})),base16=rfc4648({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),base16upper=rfc4648({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),base16$1=Object.freeze(Object.defineProperty({__proto__:null,base16,base16upper},Symbol.toStringTag,{value:"Module"})),base32=rfc4648({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),base32upper=rfc4648({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),base32pad=rfc4648({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),base32padupper=rfc4648({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),base32hex=rfc4648({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),base32hexupper=rfc4648({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),base32hexpad=rfc4648({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),base32hexpadupper=rfc4648({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),base32z=rfc4648({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),base32$1=Object.freeze(Object.defineProperty({__proto__:null,base32,base32hex,base32hexpad,base32hexpadupper,base32hexupper,base32pad,base32padupper,base32upper,base32z},Symbol.toStringTag,{value:"Module"})),base36=baseX({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),base36upper=baseX({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),base36$1=Object.freeze(Object.defineProperty({__proto__:null,base36,base36upper},Symbol.toStringTag,{value:"Module"})),base58btc=baseX({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),base58flickr=baseX({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),base58=Object.freeze(Object.defineProperty({__proto__:null,base58btc,base58flickr},Symbol.toStringTag,{value:"Module"})),base64=rfc4648({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),base64pad=rfc4648({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),base64url=rfc4648({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),base64urlpad=rfc4648({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),base64$1=Object.freeze(Object.defineProperty({__proto__:null,base64,base64pad,base64url,base64urlpad},Symbol.toStringTag,{value:"Module"}));var encode_1=encode$2,MSB=128,REST=127,MSBALL=~REST,INT=Math.pow(2,31);function encode$2(f,r,d){r=r||[],d=d||0;for(var g=d;f>=INT;)r[d++]=f&255|MSB,f/=128;for(;f&MSBALL;)r[d++]=f&255|MSB,f>>>=7;return r[d]=f|0,encode$2.bytes=d-g+1,r}var decode$4=read,MSB$1=128,REST$1=127;function read(f,g){var d=0,g=g||0,_=0,v=g,y,m=f.length;do{if(v>=m)throw read.bytes=0,new RangeError("Could not decode varint");y=f[v++],d+=_<28?(y&REST$1)<<_:(y&REST$1)*Math.pow(2,_),_+=7}while(y>=MSB$1);return read.bytes=v-g,d}var N1=Math.pow(2,7),N2=Math.pow(2,14),N3=Math.pow(2,21),N4=Math.pow(2,28),N5=Math.pow(2,35),N6=Math.pow(2,42),N7=Math.pow(2,49),N8=Math.pow(2,56),N9=Math.pow(2,63),length=function(f){return f<N1?1:f<N2?2:f<N3?3:f<N4?4:f<N5?5:f<N6?6:f<N7?7:f<N8?8:f<N9?9:10},varint$1={encode:encode_1,decode:decode$4,encodingLength:length},_brrp_varint=varint$1;const decode$3=f=>[_brrp_varint.decode(f),_brrp_varint.decode.bytes],encodeTo=(f,r,d=0)=>(_brrp_varint.encode(f,r,d),r),encodingLength=f=>_brrp_varint.encodingLength(f),varint=Object.freeze(Object.defineProperty({__proto__:null,decode:decode$3,encodeTo,encodingLength},Symbol.toStringTag,{value:"Module"})),create=(f,r)=>{const d=r.byteLength,g=encodingLength(f),_=g+encodingLength(d),v=new Uint8Array(_+d);return encodeTo(f,v,0),encodeTo(d,v,g),v.set(r,_),new Digest(f,d,r,v)},decode$2=f=>{const r=coerce(f),[d,g]=decode$3(r),[_,v]=decode$3(r.subarray(g)),y=r.subarray(g+v);if(y.byteLength!==_)throw new Error("Incorrect length");return new Digest(d,_,y,r)},equals=(f,r)=>f===r?!0:f.code===r.code&&f.size===r.size&&equals$1(f.bytes,r.bytes);class Digest{constructor(r,d,g,_){this.code=r,this.size=d,this.digest=g,this.bytes=_}}const digest=Object.freeze(Object.defineProperty({__proto__:null,Digest,create,decode:decode$2,equals},Symbol.toStringTag,{value:"Module"})),from=({name:f,code:r,encode:d})=>new Hasher(f,r,d);class Hasher{constructor(r,d,g){this.name=r,this.code=d,this.encode=g}async digest(r){if(r instanceof Uint8Array){const d=await this.encode(r);return create(this.code,d)}else throw Error("Unknown type, must be binary type")}}const hasher=Object.freeze(Object.defineProperty({__proto__:null,Hasher,from},Symbol.toStringTag,{value:"Module"})),sha=f=>async r=>new Uint8Array(await crypto.subtle.digest(f,r)),sha256$1=from({name:"sha2-256",code:18,encode:sha("SHA-256")}),sha512$2=from({name:"sha2-512",code:19,encode:sha("SHA-512")}),sha2=Object.freeze(Object.defineProperty({__proto__:null,sha256:sha256$1,sha512:sha512$2},Symbol.toStringTag,{value:"Module"})),identity=from({name:"identity",code:0,encode:f=>coerce(f)}),identity$1=Object.freeze(Object.defineProperty({__proto__:null,identity},Symbol.toStringTag,{value:"Module"})),raw=f=>coerce(f),{name:name$1,code:code$1,encode:encode$1,decode:decode$1}={name:"raw",code:85,decode:raw,encode:raw},raw$1=Object.freeze(Object.defineProperty({__proto__:null,code:code$1,decode:decode$1,encode:encode$1,name:name$1},Symbol.toStringTag,{value:"Module"})),{name,code,encode,decode}={name:"json",code:512,encode:f=>new TextEncoder().encode(JSON.stringify(f)),decode:f=>JSON.parse(new TextDecoder().decode(f))},json=Object.freeze(Object.defineProperty({__proto__:null,code,decode,encode,name},Symbol.toStringTag,{value:"Module"}));class CID{constructor(r,d,g,_){this.code=d,this.version=r,this.multihash=g,this.bytes=_,this.byteOffset=_.byteOffset,this.byteLength=_.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:hidden,byteLength:hidden,code:readonly,version:readonly,multihash:readonly,bytes:readonly,_baseCache:hidden,asCID:hidden})}toV0(){switch(this.version){case 0:return this;default:{const{code:r,multihash:d}=this;if(r!==DAG_PB_CODE)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(d.code!==SHA_256_CODE)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return CID.createV0(d)}}}toV1(){switch(this.version){case 0:{const{code:r,digest:d}=this.multihash,g=create(r,d);return CID.createV1(this.code,g)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(r){return r&&this.code===r.code&&this.version===r.version&&equals(this.multihash,r.multihash)}toString(r){const{bytes:d,version:g,_baseCache:_}=this;switch(g){case 0:return toStringV0(d,_,r||base58btc.encoder);default:return toStringV1(d,_,r||base32.encoder)}}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(r){return deprecate(/^0\.0/,IS_CID_DEPRECATION),!!(r&&(r[cidSymbol]||r.asCID===r))}get toBaseEncodedString(){throw new Error("Deprecated, use .toString()")}get codec(){throw new Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw new Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw new Error('"multibaseName" property is deprecated')}get prefix(){throw new Error('"prefix" property is deprecated')}static asCID(r){if(r instanceof CID)return r;if(r!=null&&r.asCID===r){const{version:d,code:g,multihash:_,bytes:v}=r;return new CID(d,g,_,v||encodeCID(d,g,_.bytes))}else if(r!=null&&r[cidSymbol]===!0){const{version:d,multihash:g,code:_}=r,v=decode$2(g);return CID.create(d,_,v)}else return null}static create(r,d,g){if(typeof d!="number")throw new Error("String codecs are no longer supported");switch(r){case 0:{if(d!==DAG_PB_CODE)throw new Error(`Version 0 CID must use dag-pb (code: ${DAG_PB_CODE}) block encoding`);return new CID(r,d,g,g.bytes)}case 1:{const _=encodeCID(r,d,g.bytes);return new CID(r,d,g,_)}default:throw new Error("Invalid version")}}static createV0(r){return CID.create(0,DAG_PB_CODE,r)}static createV1(r,d){return CID.create(1,r,d)}static decode(r){const[d,g]=CID.decodeFirst(r);if(g.length)throw new Error("Incorrect length");return d}static decodeFirst(r){const d=CID.inspectBytes(r),g=d.size-d.multihashSize,_=coerce(r.subarray(g,g+d.multihashSize));if(_.byteLength!==d.multihashSize)throw new Error("Incorrect length");const v=_.subarray(d.multihashSize-d.digestSize),y=new Digest(d.multihashCode,d.digestSize,v,_);return[d.version===0?CID.createV0(y):CID.createV1(d.codec,y),r.subarray(d.size)]}static inspectBytes(r){let d=0;const g=()=>{const[E,S]=decode$3(r.subarray(d));return d+=S,E};let _=g(),v=DAG_PB_CODE;if(_===18?(_=0,d=0):_===1&&(v=g()),_!==0&&_!==1)throw new RangeError(`Invalid CID version ${_}`);const y=d,m=g(),w=g(),C=d+w,b=C-y;return{version:_,codec:v,multihashCode:m,digestSize:w,multihashSize:b,size:C}}static parse(r,d){const[g,_]=parseCIDtoBytes(r,d),v=CID.decode(_);return v._baseCache.set(g,r),v}}const parseCIDtoBytes=(f,r)=>{switch(f[0]){case"Q":{const d=r||base58btc;return[base58btc.prefix,d.decode(`${base58btc.prefix}${f}`)]}case base58btc.prefix:{const d=r||base58btc;return[base58btc.prefix,d.decode(f)]}case base32.prefix:{const d=r||base32;return[base32.prefix,d.decode(f)]}default:{if(r==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[f[0],r.decode(f)]}}},toStringV0=(f,r,d)=>{const{prefix:g}=d;if(g!==base58btc.prefix)throw Error(`Cannot string encode V0 in ${d.name} encoding`);const _=r.get(g);if(_==null){const v=d.encode(f).slice(1);return r.set(g,v),v}else return _},toStringV1=(f,r,d)=>{const{prefix:g}=d,_=r.get(g);if(_==null){const v=d.encode(f);return r.set(g,v),v}else return _},DAG_PB_CODE=112,SHA_256_CODE=18,encodeCID=(f,r,d)=>{const g=encodingLength(f),_=g+encodingLength(r),v=new Uint8Array(_+d.byteLength);return encodeTo(f,v,0),encodeTo(r,v,g),v.set(d,_),v},cidSymbol=Symbol.for("@ipld/js-cid/CID"),readonly={writable:!1,configurable:!1,enumerable:!0},hidden={writable:!1,enumerable:!1,configurable:!1},version="0.0.0-dev",deprecate=(f,r)=>{if(f.test(version))console.warn(r);else throw new Error(r)},IS_CID_DEPRECATION=`CID.isCID(v) is deprecated and will be removed in the next major release.
Following code pattern:

if (CID.isCID(value)) {
  doSomethingWithCID(value)
}

Is replaced with:

const cid = CID.asCID(value)
if (cid) {
  // Make sure to use cid instead of value
  doSomethingWithCID(cid)
}
`,bases={...identityBase,...base2$1,...base8$1,...base10$1,...base16$1,...base32$1,...base36$1,...base58,...base64$1},hashes={...sha2,...identity$1},codecs={raw:raw$1,json},basics=Object.freeze(Object.defineProperty({__proto__:null,CID,bases,bytes,codecs,digest,hasher,hashes,varint},Symbol.toStringTag,{value:"Module"})),require$$0=getAugmentedNamespace(basics);var hasRequiredStringUtils;function requireStringUtils(){if(hasRequiredStringUtils)return stringUtils;hasRequiredStringUtils=1,Object.defineProperty(stringUtils,"__esModule",{value:!0}),stringUtils.okxfromString=d,stringUtils.okxtoString=g,stringUtils.alloc=_,stringUtils.allocUnsafe=v;const f=require$$0,r=requireLog();function d(b,E="utf8"){const S=C[E];if((0,r.logDebug)("okxfromstring ====> "),!S)throw new Error(`Unsupported encoding "${E}"`);return S.decoder.decode(`${S.prefix}${b}`)}function g(b,E="utf8"){const S=C[E];if((0,r.logDebug)("okxtoString ====> "),!S)throw new Error(`Unsupported encoding "${E}"`);return S.encoder.encode(b).substring(1)}function _(b=0){return new Uint8Array(b)}function v(b=0){return new Uint8Array(b)}function y(b,E,S,R){return{name:b,prefix:E,encoder:{name:b,prefix:E,encode:S},decoder:{decode:R}}}const m=y("utf8","u",b=>"u"+new TextDecoder("utf8").decode(b),b=>new TextEncoder().encode(b.substring(1))),w=y("ascii","a",b=>{let E="a";for(let S=0;S<b.length;S++){let R=b[S];R&&String.fromCharCode(R)&&(E+=String.fromCharCode(R))}return E},b=>{b=b.substring(1);const E=v(b.length);for(let S=0;S<b.length;S++)E[S]=b.charCodeAt(S);return E}),C=Object.assign({utf8:m,"utf-8":m,hex:f.bases.base16,latin1:w,ascii:w,binary:w},f.bases);return stringUtils}var cryptoJs={exports:{}},core={exports:{}},hasRequiredCore;function requireCore(){return hasRequiredCore||(hasRequiredCore=1,function(f,r){(function(d,g){f.exports=g()})(commonjsGlobal,function(){var d=d||function(g,_){var v;if(typeof window<"u"&&window.crypto&&(v=window.crypto),typeof self<"u"&&self.crypto&&(v=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(v=globalThis.crypto),!v&&typeof window<"u"&&window.msCrypto&&(v=window.msCrypto),!v&&typeof commonjsGlobal<"u"&&commonjsGlobal.crypto&&(v=commonjsGlobal.crypto),!v&&typeof commonjsRequire=="function")try{v=requireCryptoBrowserify()}catch{}var y=function(){if(v){if(typeof v.getRandomValues=="function")try{return v.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof v.randomBytes=="function")try{return v.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},m=Object.create||function(){function L(){}return function(j){var F;return L.prototype=j,F=new L,L.prototype=null,F}}(),w={},C=w.lib={},b=C.Base=function(){return{extend:function(L){var j=m(this);return L&&j.mixIn(L),(!j.hasOwnProperty("init")||this.init===j.init)&&(j.init=function(){j.$super.init.apply(this,arguments)}),j.init.prototype=j,j.$super=this,j},create:function(){var L=this.extend();return L.init.apply(L,arguments),L},init:function(){},mixIn:function(L){for(var j in L)L.hasOwnProperty(j)&&(this[j]=L[j]);L.hasOwnProperty("toString")&&(this.toString=L.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),E=C.WordArray=b.extend({init:function(L,j){L=this.words=L||[],j!=_?this.sigBytes=j:this.sigBytes=L.length*4},toString:function(L){return(L||R).stringify(this)},concat:function(L){var j=this.words,F=L.words,X=this.sigBytes,z=L.sigBytes;if(this.clamp(),X%4)for(var Y=0;Y<z;Y++){var ne=F[Y>>>2]>>>24-Y%4*8&255;j[X+Y>>>2]|=ne<<24-(X+Y)%4*8}else for(var re=0;re<z;re+=4)j[X+re>>>2]=F[re>>>2];return this.sigBytes+=z,this},clamp:function(){var L=this.words,j=this.sigBytes;L[j>>>2]&=4294967295<<32-j%4*8,L.length=g.ceil(j/4)},clone:function(){var L=b.clone.call(this);return L.words=this.words.slice(0),L},random:function(L){for(var j=[],F=0;F<L;F+=4)j.push(y());return new E.init(j,L)}}),S=w.enc={},R=S.Hex={stringify:function(L){for(var j=L.words,F=L.sigBytes,X=[],z=0;z<F;z++){var Y=j[z>>>2]>>>24-z%4*8&255;X.push((Y>>>4).toString(16)),X.push((Y&15).toString(16))}return X.join("")},parse:function(L){for(var j=L.length,F=[],X=0;X<j;X+=2)F[X>>>3]|=parseInt(L.substr(X,2),16)<<24-X%8*4;return new E.init(F,j/2)}},O=S.Latin1={stringify:function(L){for(var j=L.words,F=L.sigBytes,X=[],z=0;z<F;z++){var Y=j[z>>>2]>>>24-z%4*8&255;X.push(String.fromCharCode(Y))}return X.join("")},parse:function(L){for(var j=L.length,F=[],X=0;X<j;X++)F[X>>>2]|=(L.charCodeAt(X)&255)<<24-X%4*8;return new E.init(F,j)}},$=S.Utf8={stringify:function(L){try{return decodeURIComponent(escape(O.stringify(L)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(L){return O.parse(unescape(encodeURIComponent(L)))}},I=C.BufferedBlockAlgorithm=b.extend({reset:function(){this._data=new E.init,this._nDataBytes=0},_append:function(L){typeof L=="string"&&(L=$.parse(L)),this._data.concat(L),this._nDataBytes+=L.sigBytes},_process:function(L){var j,F=this._data,X=F.words,z=F.sigBytes,Y=this.blockSize,ne=Y*4,re=z/ne;L?re=g.ceil(re):re=g.max((re|0)-this._minBufferSize,0);var se=re*Y,G=g.min(se*4,z);if(se){for(var T=0;T<se;T+=Y)this._doProcessBlock(X,T);j=X.splice(0,se),F.sigBytes-=G}return new E.init(j,G)},clone:function(){var L=b.clone.call(this);return L._data=this._data.clone(),L},_minBufferSize:0});C.Hasher=I.extend({cfg:b.extend(),init:function(L){this.cfg=this.cfg.extend(L),this.reset()},reset:function(){I.reset.call(this),this._doReset()},update:function(L){return this._append(L),this._process(),this},finalize:function(L){L&&this._append(L);var j=this._doFinalize();return j},blockSize:16,_createHelper:function(L){return function(j,F){return new L.init(F).finalize(j)}},_createHmacHelper:function(L){return function(j,F){return new U.HMAC.init(L,F).finalize(j)}}});var U=w.algo={};return w}(Math);return d})}(core)),core.exports}var x64Core={exports:{}},hasRequiredX64Core;function requireX64Core(){return hasRequiredX64Core||(hasRequiredX64Core=1,function(f,r){(function(d,g){f.exports=g(requireCore())})(commonjsGlobal,function(d){return function(g){var _=d,v=_.lib,y=v.Base,m=v.WordArray,w=_.x64={};w.Word=y.extend({init:function(C,b){this.high=C,this.low=b}}),w.WordArray=y.extend({init:function(C,b){C=this.words=C||[],b!=g?this.sigBytes=b:this.sigBytes=C.length*8},toX32:function(){for(var C=this.words,b=C.length,E=[],S=0;S<b;S++){var R=C[S];E.push(R.high),E.push(R.low)}return m.create(E,this.sigBytes)},clone:function(){for(var C=y.clone.call(this),b=C.words=this.words.slice(0),E=b.length,S=0;S<E;S++)b[S]=b[S].clone();return C}})}(),d})}(x64Core)),x64Core.exports}var libTypedarrays={exports:{}},hasRequiredLibTypedarrays;function requireLibTypedarrays(){return hasRequiredLibTypedarrays||(hasRequiredLibTypedarrays=1,function(f,r){(function(d,g){f.exports=g(requireCore())})(commonjsGlobal,function(d){return function(){if(typeof ArrayBuffer=="function"){var g=d,_=g.lib,v=_.WordArray,y=v.init,m=v.init=function(w){if(w instanceof ArrayBuffer&&(w=new Uint8Array(w)),(w instanceof Int8Array||typeof Uint8ClampedArray<"u"&&w instanceof Uint8ClampedArray||w instanceof Int16Array||w instanceof Uint16Array||w instanceof Int32Array||w instanceof Uint32Array||w instanceof Float32Array||w instanceof Float64Array)&&(w=new Uint8Array(w.buffer,w.byteOffset,w.byteLength)),w instanceof Uint8Array){for(var C=w.byteLength,b=[],E=0;E<C;E++)b[E>>>2]|=w[E]<<24-E%4*8;y.call(this,b,C)}else y.apply(this,arguments)};m.prototype=v}}(),d.lib.WordArray})}(libTypedarrays)),libTypedarrays.exports}var encUtf16={exports:{}},hasRequiredEncUtf16;function requireEncUtf16(){return hasRequiredEncUtf16||(hasRequiredEncUtf16=1,function(f,r){(function(d,g){f.exports=g(requireCore())})(commonjsGlobal,function(d){return function(){var g=d,_=g.lib,v=_.WordArray,y=g.enc;y.Utf16=y.Utf16BE={stringify:function(w){for(var C=w.words,b=w.sigBytes,E=[],S=0;S<b;S+=2){var R=C[S>>>2]>>>16-S%4*8&65535;E.push(String.fromCharCode(R))}return E.join("")},parse:function(w){for(var C=w.length,b=[],E=0;E<C;E++)b[E>>>1]|=w.charCodeAt(E)<<16-E%2*16;return v.create(b,C*2)}},y.Utf16LE={stringify:function(w){for(var C=w.words,b=w.sigBytes,E=[],S=0;S<b;S+=2){var R=m(C[S>>>2]>>>16-S%4*8&65535);E.push(String.fromCharCode(R))}return E.join("")},parse:function(w){for(var C=w.length,b=[],E=0;E<C;E++)b[E>>>1]|=m(w.charCodeAt(E)<<16-E%2*16);return v.create(b,C*2)}};function m(w){return w<<8&4278255360|w>>>8&16711935}}(),d.enc.Utf16})}(encUtf16)),encUtf16.exports}var encBase64={exports:{}},hasRequiredEncBase64;function requireEncBase64(){return hasRequiredEncBase64||(hasRequiredEncBase64=1,function(f,r){(function(d,g){f.exports=g(requireCore())})(commonjsGlobal,function(d){return function(){var g=d,_=g.lib,v=_.WordArray,y=g.enc;y.Base64={stringify:function(w){var C=w.words,b=w.sigBytes,E=this._map;w.clamp();for(var S=[],R=0;R<b;R+=3)for(var O=C[R>>>2]>>>24-R%4*8&255,$=C[R+1>>>2]>>>24-(R+1)%4*8&255,I=C[R+2>>>2]>>>24-(R+2)%4*8&255,U=O<<16|$<<8|I,L=0;L<4&&R+L*.75<b;L++)S.push(E.charAt(U>>>6*(3-L)&63));var j=E.charAt(64);if(j)for(;S.length%4;)S.push(j);return S.join("")},parse:function(w){var C=w.length,b=this._map,E=this._reverseMap;if(!E){E=this._reverseMap=[];for(var S=0;S<b.length;S++)E[b.charCodeAt(S)]=S}var R=b.charAt(64);if(R){var O=w.indexOf(R);O!==-1&&(C=O)}return m(w,C,E)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function m(w,C,b){for(var E=[],S=0,R=0;R<C;R++)if(R%4){var O=b[w.charCodeAt(R-1)]<<R%4*2,$=b[w.charCodeAt(R)]>>>6-R%4*2,I=O|$;E[S>>>2]|=I<<24-S%4*8,S++}return v.create(E,S)}}(),d.enc.Base64})}(encBase64)),encBase64.exports}var encBase64url={exports:{}},hasRequiredEncBase64url;function requireEncBase64url(){return hasRequiredEncBase64url||(hasRequiredEncBase64url=1,function(f,r){(function(d,g){f.exports=g(requireCore())})(commonjsGlobal,function(d){return function(){var g=d,_=g.lib,v=_.WordArray,y=g.enc;y.Base64url={stringify:function(w,C){C===void 0&&(C=!0);var b=w.words,E=w.sigBytes,S=C?this._safe_map:this._map;w.clamp();for(var R=[],O=0;O<E;O+=3)for(var $=b[O>>>2]>>>24-O%4*8&255,I=b[O+1>>>2]>>>24-(O+1)%4*8&255,U=b[O+2>>>2]>>>24-(O+2)%4*8&255,L=$<<16|I<<8|U,j=0;j<4&&O+j*.75<E;j++)R.push(S.charAt(L>>>6*(3-j)&63));var F=S.charAt(64);if(F)for(;R.length%4;)R.push(F);return R.join("")},parse:function(w,C){C===void 0&&(C=!0);var b=w.length,E=C?this._safe_map:this._map,S=this._reverseMap;if(!S){S=this._reverseMap=[];for(var R=0;R<E.length;R++)S[E.charCodeAt(R)]=R}var O=E.charAt(64);if(O){var $=w.indexOf(O);$!==-1&&(b=$)}return m(w,b,S)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function m(w,C,b){for(var E=[],S=0,R=0;R<C;R++)if(R%4){var O=b[w.charCodeAt(R-1)]<<R%4*2,$=b[w.charCodeAt(R)]>>>6-R%4*2,I=O|$;E[S>>>2]|=I<<24-S%4*8,S++}return v.create(E,S)}}(),d.enc.Base64url})}(encBase64url)),encBase64url.exports}var md5={exports:{}},hasRequiredMd5;function requireMd5(){return hasRequiredMd5||(hasRequiredMd5=1,function(f,r){(function(d,g){f.exports=g(requireCore())})(commonjsGlobal,function(d){return function(g){var _=d,v=_.lib,y=v.WordArray,m=v.Hasher,w=_.algo,C=[];(function(){for(var $=0;$<64;$++)C[$]=g.abs(g.sin($+1))*4294967296|0})();var b=w.MD5=m.extend({_doReset:function(){this._hash=new y.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function($,I){for(var U=0;U<16;U++){var L=I+U,j=$[L];$[L]=(j<<8|j>>>24)&16711935|(j<<24|j>>>8)&4278255360}var F=this._hash.words,X=$[I+0],z=$[I+1],Y=$[I+2],ne=$[I+3],re=$[I+4],se=$[I+5],G=$[I+6],T=$[I+7],D=$[I+8],x=$[I+9],A=$[I+10],B=$[I+11],N=$[I+12],q=$[I+13],K=$[I+14],P=$[I+15],k=F[0],M=F[1],W=F[2],ce=F[3];k=E(k,M,W,ce,X,7,C[0]),ce=E(ce,k,M,W,z,12,C[1]),W=E(W,ce,k,M,Y,17,C[2]),M=E(M,W,ce,k,ne,22,C[3]),k=E(k,M,W,ce,re,7,C[4]),ce=E(ce,k,M,W,se,12,C[5]),W=E(W,ce,k,M,G,17,C[6]),M=E(M,W,ce,k,T,22,C[7]),k=E(k,M,W,ce,D,7,C[8]),ce=E(ce,k,M,W,x,12,C[9]),W=E(W,ce,k,M,A,17,C[10]),M=E(M,W,ce,k,B,22,C[11]),k=E(k,M,W,ce,N,7,C[12]),ce=E(ce,k,M,W,q,12,C[13]),W=E(W,ce,k,M,K,17,C[14]),M=E(M,W,ce,k,P,22,C[15]),k=S(k,M,W,ce,z,5,C[16]),ce=S(ce,k,M,W,G,9,C[17]),W=S(W,ce,k,M,B,14,C[18]),M=S(M,W,ce,k,X,20,C[19]),k=S(k,M,W,ce,se,5,C[20]),ce=S(ce,k,M,W,A,9,C[21]),W=S(W,ce,k,M,P,14,C[22]),M=S(M,W,ce,k,re,20,C[23]),k=S(k,M,W,ce,x,5,C[24]),ce=S(ce,k,M,W,K,9,C[25]),W=S(W,ce,k,M,ne,14,C[26]),M=S(M,W,ce,k,D,20,C[27]),k=S(k,M,W,ce,q,5,C[28]),ce=S(ce,k,M,W,Y,9,C[29]),W=S(W,ce,k,M,T,14,C[30]),M=S(M,W,ce,k,N,20,C[31]),k=R(k,M,W,ce,se,4,C[32]),ce=R(ce,k,M,W,D,11,C[33]),W=R(W,ce,k,M,B,16,C[34]),M=R(M,W,ce,k,K,23,C[35]),k=R(k,M,W,ce,z,4,C[36]),ce=R(ce,k,M,W,re,11,C[37]),W=R(W,ce,k,M,T,16,C[38]),M=R(M,W,ce,k,A,23,C[39]),k=R(k,M,W,ce,q,4,C[40]),ce=R(ce,k,M,W,X,11,C[41]),W=R(W,ce,k,M,ne,16,C[42]),M=R(M,W,ce,k,G,23,C[43]),k=R(k,M,W,ce,x,4,C[44]),ce=R(ce,k,M,W,N,11,C[45]),W=R(W,ce,k,M,P,16,C[46]),M=R(M,W,ce,k,Y,23,C[47]),k=O(k,M,W,ce,X,6,C[48]),ce=O(ce,k,M,W,T,10,C[49]),W=O(W,ce,k,M,K,15,C[50]),M=O(M,W,ce,k,se,21,C[51]),k=O(k,M,W,ce,N,6,C[52]),ce=O(ce,k,M,W,ne,10,C[53]),W=O(W,ce,k,M,A,15,C[54]),M=O(M,W,ce,k,z,21,C[55]),k=O(k,M,W,ce,D,6,C[56]),ce=O(ce,k,M,W,P,10,C[57]),W=O(W,ce,k,M,G,15,C[58]),M=O(M,W,ce,k,q,21,C[59]),k=O(k,M,W,ce,re,6,C[60]),ce=O(ce,k,M,W,B,10,C[61]),W=O(W,ce,k,M,Y,15,C[62]),M=O(M,W,ce,k,x,21,C[63]),F[0]=F[0]+k|0,F[1]=F[1]+M|0,F[2]=F[2]+W|0,F[3]=F[3]+ce|0},_doFinalize:function(){var $=this._data,I=$.words,U=this._nDataBytes*8,L=$.sigBytes*8;I[L>>>5]|=128<<24-L%32;var j=g.floor(U/4294967296),F=U;I[(L+64>>>9<<4)+15]=(j<<8|j>>>24)&16711935|(j<<24|j>>>8)&4278255360,I[(L+64>>>9<<4)+14]=(F<<8|F>>>24)&16711935|(F<<24|F>>>8)&4278255360,$.sigBytes=(I.length+1)*4,this._process();for(var X=this._hash,z=X.words,Y=0;Y<4;Y++){var ne=z[Y];z[Y]=(ne<<8|ne>>>24)&16711935|(ne<<24|ne>>>8)&4278255360}return X},clone:function(){var $=m.clone.call(this);return $._hash=this._hash.clone(),$}});function E($,I,U,L,j,F,X){var z=$+(I&U|~I&L)+j+X;return(z<<F|z>>>32-F)+I}function S($,I,U,L,j,F,X){var z=$+(I&L|U&~L)+j+X;return(z<<F|z>>>32-F)+I}function R($,I,U,L,j,F,X){var z=$+(I^U^L)+j+X;return(z<<F|z>>>32-F)+I}function O($,I,U,L,j,F,X){var z=$+(U^(I|~L))+j+X;return(z<<F|z>>>32-F)+I}_.MD5=m._createHelper(b),_.HmacMD5=m._createHmacHelper(b)}(Math),d.MD5})}(md5)),md5.exports}var sha1={exports:{}},hasRequiredSha1;function requireSha1(){return hasRequiredSha1||(hasRequiredSha1=1,function(f,r){(function(d,g){f.exports=g(requireCore())})(commonjsGlobal,function(d){return function(){var g=d,_=g.lib,v=_.WordArray,y=_.Hasher,m=g.algo,w=[],C=m.SHA1=y.extend({_doReset:function(){this._hash=new v.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(b,E){for(var S=this._hash.words,R=S[0],O=S[1],$=S[2],I=S[3],U=S[4],L=0;L<80;L++){if(L<16)w[L]=b[E+L]|0;else{var j=w[L-3]^w[L-8]^w[L-14]^w[L-16];w[L]=j<<1|j>>>31}var F=(R<<5|R>>>27)+U+w[L];L<20?F+=(O&$|~O&I)+1518500249:L<40?F+=(O^$^I)+1859775393:L<60?F+=(O&$|O&I|$&I)-1894007588:F+=(O^$^I)-899497514,U=I,I=$,$=O<<30|O>>>2,O=R,R=F}S[0]=S[0]+R|0,S[1]=S[1]+O|0,S[2]=S[2]+$|0,S[3]=S[3]+I|0,S[4]=S[4]+U|0},_doFinalize:function(){var b=this._data,E=b.words,S=this._nDataBytes*8,R=b.sigBytes*8;return E[R>>>5]|=128<<24-R%32,E[(R+64>>>9<<4)+14]=Math.floor(S/4294967296),E[(R+64>>>9<<4)+15]=S,b.sigBytes=E.length*4,this._process(),this._hash},clone:function(){var b=y.clone.call(this);return b._hash=this._hash.clone(),b}});g.SHA1=y._createHelper(C),g.HmacSHA1=y._createHmacHelper(C)}(),d.SHA1})}(sha1)),sha1.exports}var sha256={exports:{}},hasRequiredSha256;function requireSha256(){return hasRequiredSha256||(hasRequiredSha256=1,function(f,r){(function(d,g){f.exports=g(requireCore())})(commonjsGlobal,function(d){return function(g){var _=d,v=_.lib,y=v.WordArray,m=v.Hasher,w=_.algo,C=[],b=[];(function(){function R(U){for(var L=g.sqrt(U),j=2;j<=L;j++)if(!(U%j))return!1;return!0}function O(U){return(U-(U|0))*4294967296|0}for(var $=2,I=0;I<64;)R($)&&(I<8&&(C[I]=O(g.pow($,1/2))),b[I]=O(g.pow($,1/3)),I++),$++})();var E=[],S=w.SHA256=m.extend({_doReset:function(){this._hash=new y.init(C.slice(0))},_doProcessBlock:function(R,O){for(var $=this._hash.words,I=$[0],U=$[1],L=$[2],j=$[3],F=$[4],X=$[5],z=$[6],Y=$[7],ne=0;ne<64;ne++){if(ne<16)E[ne]=R[O+ne]|0;else{var re=E[ne-15],se=(re<<25|re>>>7)^(re<<14|re>>>18)^re>>>3,G=E[ne-2],T=(G<<15|G>>>17)^(G<<13|G>>>19)^G>>>10;E[ne]=se+E[ne-7]+T+E[ne-16]}var D=F&X^~F&z,x=I&U^I&L^U&L,A=(I<<30|I>>>2)^(I<<19|I>>>13)^(I<<10|I>>>22),B=(F<<26|F>>>6)^(F<<21|F>>>11)^(F<<7|F>>>25),N=Y+B+D+b[ne]+E[ne],q=A+x;Y=z,z=X,X=F,F=j+N|0,j=L,L=U,U=I,I=N+q|0}$[0]=$[0]+I|0,$[1]=$[1]+U|0,$[2]=$[2]+L|0,$[3]=$[3]+j|0,$[4]=$[4]+F|0,$[5]=$[5]+X|0,$[6]=$[6]+z|0,$[7]=$[7]+Y|0},_doFinalize:function(){var R=this._data,O=R.words,$=this._nDataBytes*8,I=R.sigBytes*8;return O[I>>>5]|=128<<24-I%32,O[(I+64>>>9<<4)+14]=g.floor($/4294967296),O[(I+64>>>9<<4)+15]=$,R.sigBytes=O.length*4,this._process(),this._hash},clone:function(){var R=m.clone.call(this);return R._hash=this._hash.clone(),R}});_.SHA256=m._createHelper(S),_.HmacSHA256=m._createHmacHelper(S)}(Math),d.SHA256})}(sha256)),sha256.exports}var sha224={exports:{}},hasRequiredSha224;function requireSha224(){return hasRequiredSha224||(hasRequiredSha224=1,function(f,r){(function(d,g,_){f.exports=g(requireCore(),requireSha256())})(commonjsGlobal,function(d){return function(){var g=d,_=g.lib,v=_.WordArray,y=g.algo,m=y.SHA256,w=y.SHA224=m.extend({_doReset:function(){this._hash=new v.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var C=m._doFinalize.call(this);return C.sigBytes-=4,C}});g.SHA224=m._createHelper(w),g.HmacSHA224=m._createHmacHelper(w)}(),d.SHA224})}(sha224)),sha224.exports}var sha512$1={exports:{}},hasRequiredSha512;function requireSha512(){return hasRequiredSha512||(hasRequiredSha512=1,function(f,r){(function(d,g,_){f.exports=g(requireCore(),requireX64Core())})(commonjsGlobal,function(d){return function(){var g=d,_=g.lib,v=_.Hasher,y=g.x64,m=y.Word,w=y.WordArray,C=g.algo;function b(){return m.create.apply(m,arguments)}var E=[b(1116352408,3609767458),b(1899447441,602891725),b(3049323471,3964484399),b(3921009573,2173295548),b(961987163,4081628472),b(1508970993,3053834265),b(2453635748,2937671579),b(2870763221,3664609560),b(3624381080,2734883394),b(310598401,1164996542),b(607225278,1323610764),b(1426881987,3590304994),b(1925078388,4068182383),b(2162078206,991336113),b(2614888103,633803317),b(3248222580,3479774868),b(3835390401,2666613458),b(4022224774,944711139),b(264347078,2341262773),b(604807628,2007800933),b(770255983,1495990901),b(1249150122,1856431235),b(1555081692,3175218132),b(1996064986,2198950837),b(2554220882,3999719339),b(2821834349,766784016),b(2952996808,2566594879),b(3210313671,3203337956),b(3336571891,1034457026),b(3584528711,2466948901),b(113926993,3758326383),b(338241895,168717936),b(666307205,1188179964),b(773529912,1546045734),b(1294757372,1522805485),b(1396182291,2643833823),b(1695183700,2343527390),b(1986661051,1014477480),b(2177026350,1206759142),b(2456956037,344077627),b(2730485921,1290863460),b(2820302411,3158454273),b(3259730800,3505952657),b(3345764771,106217008),b(3516065817,3606008344),b(3600352804,1432725776),b(4094571909,1467031594),b(275423344,851169720),b(430227734,3100823752),b(506948616,1363258195),b(659060556,3750685593),b(883997877,3785050280),b(958139571,3318307427),b(1322822218,3812723403),b(1537002063,2003034995),b(1747873779,3602036899),b(1955562222,1575990012),b(2024104815,1125592928),b(2227730452,2716904306),b(2361852424,442776044),b(2428436474,593698344),b(2756734187,3733110249),b(3204031479,2999351573),b(3329325298,3815920427),b(3391569614,3928383900),b(3515267271,566280711),b(3940187606,3454069534),b(4118630271,4000239992),b(116418474,1914138554),b(174292421,2731055270),b(289380356,3203993006),b(460393269,320620315),b(685471733,587496836),b(852142971,1086792851),b(1017036298,365543100),b(1126000580,2618297676),b(1288033470,3409855158),b(1501505948,4234509866),b(1607167915,987167468),b(1816402316,1246189591)],S=[];(function(){for(var O=0;O<80;O++)S[O]=b()})();var R=C.SHA512=v.extend({_doReset:function(){this._hash=new w.init([new m.init(1779033703,4089235720),new m.init(3144134277,2227873595),new m.init(1013904242,4271175723),new m.init(2773480762,1595750129),new m.init(1359893119,2917565137),new m.init(2600822924,725511199),new m.init(528734635,4215389547),new m.init(1541459225,327033209)])},_doProcessBlock:function(O,$){for(var I=this._hash.words,U=I[0],L=I[1],j=I[2],F=I[3],X=I[4],z=I[5],Y=I[6],ne=I[7],re=U.high,se=U.low,G=L.high,T=L.low,D=j.high,x=j.low,A=F.high,B=F.low,N=X.high,q=X.low,K=z.high,P=z.low,k=Y.high,M=Y.low,W=ne.high,ce=ne.low,be=re,ve=se,Z=G,J=T,oe=D,H=x,Q=A,ie=B,we=N,Se=q,De=K,Ie=P,qe=k,Ne=M,Me=W,Ve=ce,Ke=0;Ke<80;Ke++){var ot,Je,We=S[Ke];if(Ke<16)Je=We.high=O[$+Ke*2]|0,ot=We.low=O[$+Ke*2+1]|0;else{var it=S[Ke-15],Fe=it.high,Le=it.low,Qe=(Fe>>>1|Le<<31)^(Fe>>>8|Le<<24)^Fe>>>7,rt=(Le>>>1|Fe<<31)^(Le>>>8|Fe<<24)^(Le>>>7|Fe<<25),ue=S[Ke-2],ee=ue.high,te=ue.low,de=(ee>>>19|te<<13)^(ee<<3|te>>>29)^ee>>>6,xe=(te>>>19|ee<<13)^(te<<3|ee>>>29)^(te>>>6|ee<<26),Re=S[Ke-7],Te=Re.high,dt=Re.low,ut=S[Ke-16],et=ut.high,wt=ut.low;ot=rt+dt,Je=Qe+Te+(ot>>>0<rt>>>0?1:0),ot=ot+xe,Je=Je+de+(ot>>>0<xe>>>0?1:0),ot=ot+wt,Je=Je+et+(ot>>>0<wt>>>0?1:0),We.high=Je,We.low=ot}var ht=we&De^~we&qe,_t=Se&Ie^~Se&Ne,It=be&Z^be&oe^Z&oe,bt=ve&J^ve&H^J&H,at=(be>>>28|ve<<4)^(be<<30|ve>>>2)^(be<<25|ve>>>7),Bt=(ve>>>28|be<<4)^(ve<<30|be>>>2)^(ve<<25|be>>>7),xt=(we>>>14|Se<<18)^(we>>>18|Se<<14)^(we<<23|Se>>>9),st=(Se>>>14|we<<18)^(Se>>>18|we<<14)^(Se<<23|we>>>9),Nt=E[Ke],Ct=Nt.high,nt=Nt.low,At=Ve+st,ae=Me+xt+(At>>>0<Ve>>>0?1:0),At=At+_t,ae=ae+ht+(At>>>0<_t>>>0?1:0),At=At+nt,ae=ae+Ct+(At>>>0<nt>>>0?1:0),At=At+ot,ae=ae+Je+(At>>>0<ot>>>0?1:0),le=Bt+bt,he=at+It+(le>>>0<Bt>>>0?1:0);Me=qe,Ve=Ne,qe=De,Ne=Ie,De=we,Ie=Se,Se=ie+At|0,we=Q+ae+(Se>>>0<ie>>>0?1:0)|0,Q=oe,ie=H,oe=Z,H=J,Z=be,J=ve,ve=At+le|0,be=ae+he+(ve>>>0<At>>>0?1:0)|0}se=U.low=se+ve,U.high=re+be+(se>>>0<ve>>>0?1:0),T=L.low=T+J,L.high=G+Z+(T>>>0<J>>>0?1:0),x=j.low=x+H,j.high=D+oe+(x>>>0<H>>>0?1:0),B=F.low=B+ie,F.high=A+Q+(B>>>0<ie>>>0?1:0),q=X.low=q+Se,X.high=N+we+(q>>>0<Se>>>0?1:0),P=z.low=P+Ie,z.high=K+De+(P>>>0<Ie>>>0?1:0),M=Y.low=M+Ne,Y.high=k+qe+(M>>>0<Ne>>>0?1:0),ce=ne.low=ce+Ve,ne.high=W+Me+(ce>>>0<Ve>>>0?1:0)},_doFinalize:function(){var O=this._data,$=O.words,I=this._nDataBytes*8,U=O.sigBytes*8;$[U>>>5]|=128<<24-U%32,$[(U+128>>>10<<5)+30]=Math.floor(I/4294967296),$[(U+128>>>10<<5)+31]=I,O.sigBytes=$.length*4,this._process();var L=this._hash.toX32();return L},clone:function(){var O=v.clone.call(this);return O._hash=this._hash.clone(),O},blockSize:1024/32});g.SHA512=v._createHelper(R),g.HmacSHA512=v._createHmacHelper(R)}(),d.SHA512})}(sha512$1)),sha512$1.exports}var sha384={exports:{}},hasRequiredSha384;function requireSha384(){return hasRequiredSha384||(hasRequiredSha384=1,function(f,r){(function(d,g,_){f.exports=g(requireCore(),requireX64Core(),requireSha512())})(commonjsGlobal,function(d){return function(){var g=d,_=g.x64,v=_.Word,y=_.WordArray,m=g.algo,w=m.SHA512,C=m.SHA384=w.extend({_doReset:function(){this._hash=new y.init([new v.init(3418070365,3238371032),new v.init(1654270250,914150663),new v.init(2438529370,812702999),new v.init(355462360,4144912697),new v.init(1731405415,4290775857),new v.init(2394180231,1750603025),new v.init(3675008525,1694076839),new v.init(1203062813,3204075428)])},_doFinalize:function(){var b=w._doFinalize.call(this);return b.sigBytes-=16,b}});g.SHA384=w._createHelper(C),g.HmacSHA384=w._createHmacHelper(C)}(),d.SHA384})}(sha384)),sha384.exports}var sha3={exports:{}},hasRequiredSha3;function requireSha3(){return hasRequiredSha3||(hasRequiredSha3=1,function(f,r){(function(d,g,_){f.exports=g(requireCore(),requireX64Core())})(commonjsGlobal,function(d){return function(g){var _=d,v=_.lib,y=v.WordArray,m=v.Hasher,w=_.x64,C=w.Word,b=_.algo,E=[],S=[],R=[];(function(){for(var I=1,U=0,L=0;L<24;L++){E[I+5*U]=(L+1)*(L+2)/2%64;var j=U%5,F=(2*I+3*U)%5;I=j,U=F}for(var I=0;I<5;I++)for(var U=0;U<5;U++)S[I+5*U]=U+(2*I+3*U)%5*5;for(var X=1,z=0;z<24;z++){for(var Y=0,ne=0,re=0;re<7;re++){if(X&1){var se=(1<<re)-1;se<32?ne^=1<<se:Y^=1<<se-32}X&128?X=X<<1^113:X<<=1}R[z]=C.create(Y,ne)}})();var O=[];(function(){for(var I=0;I<25;I++)O[I]=C.create()})();var $=b.SHA3=m.extend({cfg:m.cfg.extend({outputLength:512}),_doReset:function(){for(var I=this._state=[],U=0;U<25;U++)I[U]=new C.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(I,U){for(var L=this._state,j=this.blockSize/2,F=0;F<j;F++){var X=I[U+2*F],z=I[U+2*F+1];X=(X<<8|X>>>24)&16711935|(X<<24|X>>>8)&4278255360,z=(z<<8|z>>>24)&16711935|(z<<24|z>>>8)&4278255360;var Y=L[F];Y.high^=z,Y.low^=X}for(var ne=0;ne<24;ne++){for(var re=0;re<5;re++){for(var se=0,G=0,T=0;T<5;T++){var Y=L[re+5*T];se^=Y.high,G^=Y.low}var D=O[re];D.high=se,D.low=G}for(var re=0;re<5;re++)for(var x=O[(re+4)%5],A=O[(re+1)%5],B=A.high,N=A.low,se=x.high^(B<<1|N>>>31),G=x.low^(N<<1|B>>>31),T=0;T<5;T++){var Y=L[re+5*T];Y.high^=se,Y.low^=G}for(var q=1;q<25;q++){var se,G,Y=L[q],K=Y.high,P=Y.low,k=E[q];k<32?(se=K<<k|P>>>32-k,G=P<<k|K>>>32-k):(se=P<<k-32|K>>>64-k,G=K<<k-32|P>>>64-k);var M=O[S[q]];M.high=se,M.low=G}var W=O[0],ce=L[0];W.high=ce.high,W.low=ce.low;for(var re=0;re<5;re++)for(var T=0;T<5;T++){var q=re+5*T,Y=L[q],be=O[q],ve=O[(re+1)%5+5*T],Z=O[(re+2)%5+5*T];Y.high=be.high^~ve.high&Z.high,Y.low=be.low^~ve.low&Z.low}var Y=L[0],J=R[ne];Y.high^=J.high,Y.low^=J.low}},_doFinalize:function(){var I=this._data,U=I.words;this._nDataBytes*8;var L=I.sigBytes*8,j=this.blockSize*32;U[L>>>5]|=1<<24-L%32,U[(g.ceil((L+1)/j)*j>>>5)-1]|=128,I.sigBytes=U.length*4,this._process();for(var F=this._state,X=this.cfg.outputLength/8,z=X/8,Y=[],ne=0;ne<z;ne++){var re=F[ne],se=re.high,G=re.low;se=(se<<8|se>>>24)&16711935|(se<<24|se>>>8)&4278255360,G=(G<<8|G>>>24)&16711935|(G<<24|G>>>8)&4278255360,Y.push(G),Y.push(se)}return new y.init(Y,X)},clone:function(){for(var I=m.clone.call(this),U=I._state=this._state.slice(0),L=0;L<25;L++)U[L]=U[L].clone();return I}});_.SHA3=m._createHelper($),_.HmacSHA3=m._createHmacHelper($)}(Math),d.SHA3})}(sha3)),sha3.exports}var ripemd160={exports:{}},hasRequiredRipemd160;function requireRipemd160(){return hasRequiredRipemd160||(hasRequiredRipemd160=1,function(f,r){(function(d,g){f.exports=g(requireCore())})(commonjsGlobal,function(d){/** @preserve
			(c) 2012 by Cédric Mesnil. All rights reserved.

			Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

			    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
			    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

			THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
			*/return function(g){var _=d,v=_.lib,y=v.WordArray,m=v.Hasher,w=_.algo,C=y.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),b=y.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),E=y.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),S=y.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),R=y.create([0,1518500249,1859775393,2400959708,2840853838]),O=y.create([1352829926,1548603684,1836072691,2053994217,0]),$=w.RIPEMD160=m.extend({_doReset:function(){this._hash=y.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(z,Y){for(var ne=0;ne<16;ne++){var re=Y+ne,se=z[re];z[re]=(se<<8|se>>>24)&16711935|(se<<24|se>>>8)&4278255360}var G=this._hash.words,T=R.words,D=O.words,x=C.words,A=b.words,B=E.words,N=S.words,q,K,P,k,M,W,ce,be,ve,Z;W=q=G[0],ce=K=G[1],be=P=G[2],ve=k=G[3],Z=M=G[4];for(var J,ne=0;ne<80;ne+=1)J=q+z[Y+x[ne]]|0,ne<16?J+=I(K,P,k)+T[0]:ne<32?J+=U(K,P,k)+T[1]:ne<48?J+=L(K,P,k)+T[2]:ne<64?J+=j(K,P,k)+T[3]:J+=F(K,P,k)+T[4],J=J|0,J=X(J,B[ne]),J=J+M|0,q=M,M=k,k=X(P,10),P=K,K=J,J=W+z[Y+A[ne]]|0,ne<16?J+=F(ce,be,ve)+D[0]:ne<32?J+=j(ce,be,ve)+D[1]:ne<48?J+=L(ce,be,ve)+D[2]:ne<64?J+=U(ce,be,ve)+D[3]:J+=I(ce,be,ve)+D[4],J=J|0,J=X(J,N[ne]),J=J+Z|0,W=Z,Z=ve,ve=X(be,10),be=ce,ce=J;J=G[1]+P+ve|0,G[1]=G[2]+k+Z|0,G[2]=G[3]+M+W|0,G[3]=G[4]+q+ce|0,G[4]=G[0]+K+be|0,G[0]=J},_doFinalize:function(){var z=this._data,Y=z.words,ne=this._nDataBytes*8,re=z.sigBytes*8;Y[re>>>5]|=128<<24-re%32,Y[(re+64>>>9<<4)+14]=(ne<<8|ne>>>24)&16711935|(ne<<24|ne>>>8)&4278255360,z.sigBytes=(Y.length+1)*4,this._process();for(var se=this._hash,G=se.words,T=0;T<5;T++){var D=G[T];G[T]=(D<<8|D>>>24)&16711935|(D<<24|D>>>8)&4278255360}return se},clone:function(){var z=m.clone.call(this);return z._hash=this._hash.clone(),z}});function I(z,Y,ne){return z^Y^ne}function U(z,Y,ne){return z&Y|~z&ne}function L(z,Y,ne){return(z|~Y)^ne}function j(z,Y,ne){return z&ne|Y&~ne}function F(z,Y,ne){return z^(Y|~ne)}function X(z,Y){return z<<Y|z>>>32-Y}_.RIPEMD160=m._createHelper($),_.HmacRIPEMD160=m._createHmacHelper($)}(),d.RIPEMD160})}(ripemd160)),ripemd160.exports}var hmac={exports:{}},hasRequiredHmac;function requireHmac(){return hasRequiredHmac||(hasRequiredHmac=1,function(f,r){(function(d,g){f.exports=g(requireCore())})(commonjsGlobal,function(d){(function(){var g=d,_=g.lib,v=_.Base,y=g.enc,m=y.Utf8,w=g.algo;w.HMAC=v.extend({init:function(C,b){C=this._hasher=new C.init,typeof b=="string"&&(b=m.parse(b));var E=C.blockSize,S=E*4;b.sigBytes>S&&(b=C.finalize(b)),b.clamp();for(var R=this._oKey=b.clone(),O=this._iKey=b.clone(),$=R.words,I=O.words,U=0;U<E;U++)$[U]^=1549556828,I[U]^=909522486;R.sigBytes=O.sigBytes=S,this.reset()},reset:function(){var C=this._hasher;C.reset(),C.update(this._iKey)},update:function(C){return this._hasher.update(C),this},finalize:function(C){var b=this._hasher,E=b.finalize(C);b.reset();var S=b.finalize(this._oKey.clone().concat(E));return S}})})()})}(hmac)),hmac.exports}var pbkdf2={exports:{}},hasRequiredPbkdf2;function requirePbkdf2(){return hasRequiredPbkdf2||(hasRequiredPbkdf2=1,function(f,r){(function(d,g,_){f.exports=g(requireCore(),requireSha256(),requireHmac())})(commonjsGlobal,function(d){return function(){var g=d,_=g.lib,v=_.Base,y=_.WordArray,m=g.algo,w=m.SHA256,C=m.HMAC,b=m.PBKDF2=v.extend({cfg:v.extend({keySize:128/32,hasher:w,iterations:25e4}),init:function(E){this.cfg=this.cfg.extend(E)},compute:function(E,S){for(var R=this.cfg,O=C.create(R.hasher,E),$=y.create(),I=y.create([1]),U=$.words,L=I.words,j=R.keySize,F=R.iterations;U.length<j;){var X=O.update(S).finalize(I);O.reset();for(var z=X.words,Y=z.length,ne=X,re=1;re<F;re++){ne=O.finalize(ne),O.reset();for(var se=ne.words,G=0;G<Y;G++)z[G]^=se[G]}$.concat(X),L[0]++}return $.sigBytes=j*4,$}});g.PBKDF2=function(E,S,R){return b.create(R).compute(E,S)}}(),d.PBKDF2})}(pbkdf2)),pbkdf2.exports}var evpkdf={exports:{}},hasRequiredEvpkdf;function requireEvpkdf(){return hasRequiredEvpkdf||(hasRequiredEvpkdf=1,function(f,r){(function(d,g,_){f.exports=g(requireCore(),requireSha1(),requireHmac())})(commonjsGlobal,function(d){return function(){var g=d,_=g.lib,v=_.Base,y=_.WordArray,m=g.algo,w=m.MD5,C=m.EvpKDF=v.extend({cfg:v.extend({keySize:128/32,hasher:w,iterations:1}),init:function(b){this.cfg=this.cfg.extend(b)},compute:function(b,E){for(var S,R=this.cfg,O=R.hasher.create(),$=y.create(),I=$.words,U=R.keySize,L=R.iterations;I.length<U;){S&&O.update(S),S=O.update(b).finalize(E),O.reset();for(var j=1;j<L;j++)S=O.finalize(S),O.reset();$.concat(S)}return $.sigBytes=U*4,$}});g.EvpKDF=function(b,E,S){return C.create(S).compute(b,E)}}(),d.EvpKDF})}(evpkdf)),evpkdf.exports}var cipherCore={exports:{}},hasRequiredCipherCore;function requireCipherCore(){return hasRequiredCipherCore||(hasRequiredCipherCore=1,function(f,r){(function(d,g,_){f.exports=g(requireCore(),requireEvpkdf())})(commonjsGlobal,function(d){d.lib.Cipher||function(g){var _=d,v=_.lib,y=v.Base,m=v.WordArray,w=v.BufferedBlockAlgorithm,C=_.enc;C.Utf8;var b=C.Base64,E=_.algo,S=E.EvpKDF,R=v.Cipher=w.extend({cfg:y.extend(),createEncryptor:function(se,G){return this.create(this._ENC_XFORM_MODE,se,G)},createDecryptor:function(se,G){return this.create(this._DEC_XFORM_MODE,se,G)},init:function(se,G,T){this.cfg=this.cfg.extend(T),this._xformMode=se,this._key=G,this.reset()},reset:function(){w.reset.call(this),this._doReset()},process:function(se){return this._append(se),this._process()},finalize:function(se){se&&this._append(se);var G=this._doFinalize();return G},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function se(G){return typeof G=="string"?re:z}return function(G){return{encrypt:function(T,D,x){return se(D).encrypt(G,T,D,x)},decrypt:function(T,D,x){return se(D).decrypt(G,T,D,x)}}}}()});v.StreamCipher=R.extend({_doFinalize:function(){var se=this._process(!0);return se},blockSize:1});var O=_.mode={},$=v.BlockCipherMode=y.extend({createEncryptor:function(se,G){return this.Encryptor.create(se,G)},createDecryptor:function(se,G){return this.Decryptor.create(se,G)},init:function(se,G){this._cipher=se,this._iv=G}}),I=O.CBC=function(){var se=$.extend();se.Encryptor=se.extend({processBlock:function(T,D){var x=this._cipher,A=x.blockSize;G.call(this,T,D,A),x.encryptBlock(T,D),this._prevBlock=T.slice(D,D+A)}}),se.Decryptor=se.extend({processBlock:function(T,D){var x=this._cipher,A=x.blockSize,B=T.slice(D,D+A);x.decryptBlock(T,D),G.call(this,T,D,A),this._prevBlock=B}});function G(T,D,x){var A,B=this._iv;B?(A=B,this._iv=g):A=this._prevBlock;for(var N=0;N<x;N++)T[D+N]^=A[N]}return se}(),U=_.pad={},L=U.Pkcs7={pad:function(se,G){for(var T=G*4,D=T-se.sigBytes%T,x=D<<24|D<<16|D<<8|D,A=[],B=0;B<D;B+=4)A.push(x);var N=m.create(A,D);se.concat(N)},unpad:function(se){var G=se.words[se.sigBytes-1>>>2]&255;se.sigBytes-=G}};v.BlockCipher=R.extend({cfg:R.cfg.extend({mode:I,padding:L}),reset:function(){var se;R.reset.call(this);var G=this.cfg,T=G.iv,D=G.mode;this._xformMode==this._ENC_XFORM_MODE?se=D.createEncryptor:(se=D.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==se?this._mode.init(this,T&&T.words):(this._mode=se.call(D,this,T&&T.words),this._mode.__creator=se)},_doProcessBlock:function(se,G){this._mode.processBlock(se,G)},_doFinalize:function(){var se,G=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(G.pad(this._data,this.blockSize),se=this._process(!0)):(se=this._process(!0),G.unpad(se)),se},blockSize:128/32});var j=v.CipherParams=y.extend({init:function(se){this.mixIn(se)},toString:function(se){return(se||this.formatter).stringify(this)}}),F=_.format={},X=F.OpenSSL={stringify:function(se){var G,T=se.ciphertext,D=se.salt;return D?G=m.create([1398893684,1701076831]).concat(D).concat(T):G=T,G.toString(b)},parse:function(se){var G,T=b.parse(se),D=T.words;return D[0]==1398893684&&D[1]==1701076831&&(G=m.create(D.slice(2,4)),D.splice(0,4),T.sigBytes-=16),j.create({ciphertext:T,salt:G})}},z=v.SerializableCipher=y.extend({cfg:y.extend({format:X}),encrypt:function(se,G,T,D){D=this.cfg.extend(D);var x=se.createEncryptor(T,D),A=x.finalize(G),B=x.cfg;return j.create({ciphertext:A,key:T,iv:B.iv,algorithm:se,mode:B.mode,padding:B.padding,blockSize:se.blockSize,formatter:D.format})},decrypt:function(se,G,T,D){D=this.cfg.extend(D),G=this._parse(G,D.format);var x=se.createDecryptor(T,D).finalize(G.ciphertext);return x},_parse:function(se,G){return typeof se=="string"?G.parse(se,this):se}}),Y=_.kdf={},ne=Y.OpenSSL={execute:function(se,G,T,D,x){if(D||(D=m.random(64/8)),x)var A=S.create({keySize:G+T,hasher:x}).compute(se,D);else var A=S.create({keySize:G+T}).compute(se,D);var B=m.create(A.words.slice(G),T*4);return A.sigBytes=G*4,j.create({key:A,iv:B,salt:D})}},re=v.PasswordBasedCipher=z.extend({cfg:z.cfg.extend({kdf:ne}),encrypt:function(se,G,T,D){D=this.cfg.extend(D);var x=D.kdf.execute(T,se.keySize,se.ivSize,D.salt,D.hasher);D.iv=x.iv;var A=z.encrypt.call(this,se,G,x.key,D);return A.mixIn(x),A},decrypt:function(se,G,T,D){D=this.cfg.extend(D),G=this._parse(G,D.format);var x=D.kdf.execute(T,se.keySize,se.ivSize,G.salt,D.hasher);D.iv=x.iv;var A=z.decrypt.call(this,se,G,x.key,D);return A}})}()})}(cipherCore)),cipherCore.exports}var modeCfb={exports:{}},hasRequiredModeCfb;function requireModeCfb(){return hasRequiredModeCfb||(hasRequiredModeCfb=1,function(f,r){(function(d,g,_){f.exports=g(requireCore(),requireCipherCore())})(commonjsGlobal,function(d){return d.mode.CFB=function(){var g=d.lib.BlockCipherMode.extend();g.Encryptor=g.extend({processBlock:function(v,y){var m=this._cipher,w=m.blockSize;_.call(this,v,y,w,m),this._prevBlock=v.slice(y,y+w)}}),g.Decryptor=g.extend({processBlock:function(v,y){var m=this._cipher,w=m.blockSize,C=v.slice(y,y+w);_.call(this,v,y,w,m),this._prevBlock=C}});function _(v,y,m,w){var C,b=this._iv;b?(C=b.slice(0),this._iv=void 0):C=this._prevBlock,w.encryptBlock(C,0);for(var E=0;E<m;E++)v[y+E]^=C[E]}return g}(),d.mode.CFB})}(modeCfb)),modeCfb.exports}var modeCtr={exports:{}},hasRequiredModeCtr;function requireModeCtr(){return hasRequiredModeCtr||(hasRequiredModeCtr=1,function(f,r){(function(d,g,_){f.exports=g(requireCore(),requireCipherCore())})(commonjsGlobal,function(d){return d.mode.CTR=function(){var g=d.lib.BlockCipherMode.extend(),_=g.Encryptor=g.extend({processBlock:function(v,y){var m=this._cipher,w=m.blockSize,C=this._iv,b=this._counter;C&&(b=this._counter=C.slice(0),this._iv=void 0);var E=b.slice(0);m.encryptBlock(E,0),b[w-1]=b[w-1]+1|0;for(var S=0;S<w;S++)v[y+S]^=E[S]}});return g.Decryptor=_,g}(),d.mode.CTR})}(modeCtr)),modeCtr.exports}var modeCtrGladman={exports:{}},hasRequiredModeCtrGladman;function requireModeCtrGladman(){return hasRequiredModeCtrGladman||(hasRequiredModeCtrGladman=1,function(f,r){(function(d,g,_){f.exports=g(requireCore(),requireCipherCore())})(commonjsGlobal,function(d){/** @preserve
 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
 * derived from CryptoJS.mode.CTR
 * Jan Hruby jhruby.web@gmail.com
 */return d.mode.CTRGladman=function(){var g=d.lib.BlockCipherMode.extend();function _(m){if((m>>24&255)===255){var w=m>>16&255,C=m>>8&255,b=m&255;w===255?(w=0,C===255?(C=0,b===255?b=0:++b):++C):++w,m=0,m+=w<<16,m+=C<<8,m+=b}else m+=1<<24;return m}function v(m){return(m[0]=_(m[0]))===0&&(m[1]=_(m[1])),m}var y=g.Encryptor=g.extend({processBlock:function(m,w){var C=this._cipher,b=C.blockSize,E=this._iv,S=this._counter;E&&(S=this._counter=E.slice(0),this._iv=void 0),v(S);var R=S.slice(0);C.encryptBlock(R,0);for(var O=0;O<b;O++)m[w+O]^=R[O]}});return g.Decryptor=y,g}(),d.mode.CTRGladman})}(modeCtrGladman)),modeCtrGladman.exports}var modeOfb={exports:{}},hasRequiredModeOfb;function requireModeOfb(){return hasRequiredModeOfb||(hasRequiredModeOfb=1,function(f,r){(function(d,g,_){f.exports=g(requireCore(),requireCipherCore())})(commonjsGlobal,function(d){return d.mode.OFB=function(){var g=d.lib.BlockCipherMode.extend(),_=g.Encryptor=g.extend({processBlock:function(v,y){var m=this._cipher,w=m.blockSize,C=this._iv,b=this._keystream;C&&(b=this._keystream=C.slice(0),this._iv=void 0),m.encryptBlock(b,0);for(var E=0;E<w;E++)v[y+E]^=b[E]}});return g.Decryptor=_,g}(),d.mode.OFB})}(modeOfb)),modeOfb.exports}var modeEcb={exports:{}},hasRequiredModeEcb;function requireModeEcb(){return hasRequiredModeEcb||(hasRequiredModeEcb=1,function(f,r){(function(d,g,_){f.exports=g(requireCore(),requireCipherCore())})(commonjsGlobal,function(d){return d.mode.ECB=function(){var g=d.lib.BlockCipherMode.extend();return g.Encryptor=g.extend({processBlock:function(_,v){this._cipher.encryptBlock(_,v)}}),g.Decryptor=g.extend({processBlock:function(_,v){this._cipher.decryptBlock(_,v)}}),g}(),d.mode.ECB})}(modeEcb)),modeEcb.exports}var padAnsix923={exports:{}},hasRequiredPadAnsix923;function requirePadAnsix923(){return hasRequiredPadAnsix923||(hasRequiredPadAnsix923=1,function(f,r){(function(d,g,_){f.exports=g(requireCore(),requireCipherCore())})(commonjsGlobal,function(d){return d.pad.AnsiX923={pad:function(g,_){var v=g.sigBytes,y=_*4,m=y-v%y,w=v+m-1;g.clamp(),g.words[w>>>2]|=m<<24-w%4*8,g.sigBytes+=m},unpad:function(g){var _=g.words[g.sigBytes-1>>>2]&255;g.sigBytes-=_}},d.pad.Ansix923})}(padAnsix923)),padAnsix923.exports}var padIso10126={exports:{}},hasRequiredPadIso10126;function requirePadIso10126(){return hasRequiredPadIso10126||(hasRequiredPadIso10126=1,function(f,r){(function(d,g,_){f.exports=g(requireCore(),requireCipherCore())})(commonjsGlobal,function(d){return d.pad.Iso10126={pad:function(g,_){var v=_*4,y=v-g.sigBytes%v;g.concat(d.lib.WordArray.random(y-1)).concat(d.lib.WordArray.create([y<<24],1))},unpad:function(g){var _=g.words[g.sigBytes-1>>>2]&255;g.sigBytes-=_}},d.pad.Iso10126})}(padIso10126)),padIso10126.exports}var padIso97971={exports:{}},hasRequiredPadIso97971;function requirePadIso97971(){return hasRequiredPadIso97971||(hasRequiredPadIso97971=1,function(f,r){(function(d,g,_){f.exports=g(requireCore(),requireCipherCore())})(commonjsGlobal,function(d){return d.pad.Iso97971={pad:function(g,_){g.concat(d.lib.WordArray.create([2147483648],1)),d.pad.ZeroPadding.pad(g,_)},unpad:function(g){d.pad.ZeroPadding.unpad(g),g.sigBytes--}},d.pad.Iso97971})}(padIso97971)),padIso97971.exports}var padZeropadding={exports:{}},hasRequiredPadZeropadding;function requirePadZeropadding(){return hasRequiredPadZeropadding||(hasRequiredPadZeropadding=1,function(f,r){(function(d,g,_){f.exports=g(requireCore(),requireCipherCore())})(commonjsGlobal,function(d){return d.pad.ZeroPadding={pad:function(g,_){var v=_*4;g.clamp(),g.sigBytes+=v-(g.sigBytes%v||v)},unpad:function(g){for(var _=g.words,v=g.sigBytes-1,v=g.sigBytes-1;v>=0;v--)if(_[v>>>2]>>>24-v%4*8&255){g.sigBytes=v+1;break}}},d.pad.ZeroPadding})}(padZeropadding)),padZeropadding.exports}var padNopadding={exports:{}},hasRequiredPadNopadding;function requirePadNopadding(){return hasRequiredPadNopadding||(hasRequiredPadNopadding=1,function(f,r){(function(d,g,_){f.exports=g(requireCore(),requireCipherCore())})(commonjsGlobal,function(d){return d.pad.NoPadding={pad:function(){},unpad:function(){}},d.pad.NoPadding})}(padNopadding)),padNopadding.exports}var formatHex={exports:{}},hasRequiredFormatHex;function requireFormatHex(){return hasRequiredFormatHex||(hasRequiredFormatHex=1,function(f,r){(function(d,g,_){f.exports=g(requireCore(),requireCipherCore())})(commonjsGlobal,function(d){return function(g){var _=d,v=_.lib,y=v.CipherParams,m=_.enc,w=m.Hex,C=_.format;C.Hex={stringify:function(b){return b.ciphertext.toString(w)},parse:function(b){var E=w.parse(b);return y.create({ciphertext:E})}}}(),d.format.Hex})}(formatHex)),formatHex.exports}var aes={exports:{}},hasRequiredAes;function requireAes(){return hasRequiredAes||(hasRequiredAes=1,function(f,r){(function(d,g,_){f.exports=g(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(commonjsGlobal,function(d){return function(){var g=d,_=g.lib,v=_.BlockCipher,y=g.algo,m=[],w=[],C=[],b=[],E=[],S=[],R=[],O=[],$=[],I=[];(function(){for(var j=[],F=0;F<256;F++)F<128?j[F]=F<<1:j[F]=F<<1^283;for(var X=0,z=0,F=0;F<256;F++){var Y=z^z<<1^z<<2^z<<3^z<<4;Y=Y>>>8^Y&255^99,m[X]=Y,w[Y]=X;var ne=j[X],re=j[ne],se=j[re],G=j[Y]*257^Y*16843008;C[X]=G<<24|G>>>8,b[X]=G<<16|G>>>16,E[X]=G<<8|G>>>24,S[X]=G;var G=se*16843009^re*65537^ne*257^X*16843008;R[Y]=G<<24|G>>>8,O[Y]=G<<16|G>>>16,$[Y]=G<<8|G>>>24,I[Y]=G,X?(X=ne^j[j[j[se^ne]]],z^=j[j[z]]):X=z=1}})();var U=[0,1,2,4,8,16,32,64,128,27,54],L=y.AES=v.extend({_doReset:function(){var j;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var F=this._keyPriorReset=this._key,X=F.words,z=F.sigBytes/4,Y=this._nRounds=z+6,ne=(Y+1)*4,re=this._keySchedule=[],se=0;se<ne;se++)se<z?re[se]=X[se]:(j=re[se-1],se%z?z>6&&se%z==4&&(j=m[j>>>24]<<24|m[j>>>16&255]<<16|m[j>>>8&255]<<8|m[j&255]):(j=j<<8|j>>>24,j=m[j>>>24]<<24|m[j>>>16&255]<<16|m[j>>>8&255]<<8|m[j&255],j^=U[se/z|0]<<24),re[se]=re[se-z]^j);for(var G=this._invKeySchedule=[],T=0;T<ne;T++){var se=ne-T;if(T%4)var j=re[se];else var j=re[se-4];T<4||se<=4?G[T]=j:G[T]=R[m[j>>>24]]^O[m[j>>>16&255]]^$[m[j>>>8&255]]^I[m[j&255]]}}},encryptBlock:function(j,F){this._doCryptBlock(j,F,this._keySchedule,C,b,E,S,m)},decryptBlock:function(j,F){var X=j[F+1];j[F+1]=j[F+3],j[F+3]=X,this._doCryptBlock(j,F,this._invKeySchedule,R,O,$,I,w);var X=j[F+1];j[F+1]=j[F+3],j[F+3]=X},_doCryptBlock:function(j,F,X,z,Y,ne,re,se){for(var G=this._nRounds,T=j[F]^X[0],D=j[F+1]^X[1],x=j[F+2]^X[2],A=j[F+3]^X[3],B=4,N=1;N<G;N++){var q=z[T>>>24]^Y[D>>>16&255]^ne[x>>>8&255]^re[A&255]^X[B++],K=z[D>>>24]^Y[x>>>16&255]^ne[A>>>8&255]^re[T&255]^X[B++],P=z[x>>>24]^Y[A>>>16&255]^ne[T>>>8&255]^re[D&255]^X[B++],k=z[A>>>24]^Y[T>>>16&255]^ne[D>>>8&255]^re[x&255]^X[B++];T=q,D=K,x=P,A=k}var q=(se[T>>>24]<<24|se[D>>>16&255]<<16|se[x>>>8&255]<<8|se[A&255])^X[B++],K=(se[D>>>24]<<24|se[x>>>16&255]<<16|se[A>>>8&255]<<8|se[T&255])^X[B++],P=(se[x>>>24]<<24|se[A>>>16&255]<<16|se[T>>>8&255]<<8|se[D&255])^X[B++],k=(se[A>>>24]<<24|se[T>>>16&255]<<16|se[D>>>8&255]<<8|se[x&255])^X[B++];j[F]=q,j[F+1]=K,j[F+2]=P,j[F+3]=k},keySize:256/32});g.AES=v._createHelper(L)}(),d.AES})}(aes)),aes.exports}var tripledes={exports:{}},hasRequiredTripledes;function requireTripledes(){return hasRequiredTripledes||(hasRequiredTripledes=1,function(f,r){(function(d,g,_){f.exports=g(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(commonjsGlobal,function(d){return function(){var g=d,_=g.lib,v=_.WordArray,y=_.BlockCipher,m=g.algo,w=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],C=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],b=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],E=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],S=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],R=m.DES=y.extend({_doReset:function(){for(var U=this._key,L=U.words,j=[],F=0;F<56;F++){var X=w[F]-1;j[F]=L[X>>>5]>>>31-X%32&1}for(var z=this._subKeys=[],Y=0;Y<16;Y++){for(var ne=z[Y]=[],re=b[Y],F=0;F<24;F++)ne[F/6|0]|=j[(C[F]-1+re)%28]<<31-F%6,ne[4+(F/6|0)]|=j[28+(C[F+24]-1+re)%28]<<31-F%6;ne[0]=ne[0]<<1|ne[0]>>>31;for(var F=1;F<7;F++)ne[F]=ne[F]>>>(F-1)*4+3;ne[7]=ne[7]<<5|ne[7]>>>27}for(var se=this._invSubKeys=[],F=0;F<16;F++)se[F]=z[15-F]},encryptBlock:function(U,L){this._doCryptBlock(U,L,this._subKeys)},decryptBlock:function(U,L){this._doCryptBlock(U,L,this._invSubKeys)},_doCryptBlock:function(U,L,j){this._lBlock=U[L],this._rBlock=U[L+1],O.call(this,4,252645135),O.call(this,16,65535),$.call(this,2,858993459),$.call(this,8,16711935),O.call(this,1,1431655765);for(var F=0;F<16;F++){for(var X=j[F],z=this._lBlock,Y=this._rBlock,ne=0,re=0;re<8;re++)ne|=E[re][((Y^X[re])&S[re])>>>0];this._lBlock=Y,this._rBlock=z^ne}var se=this._lBlock;this._lBlock=this._rBlock,this._rBlock=se,O.call(this,1,1431655765),$.call(this,8,16711935),$.call(this,2,858993459),O.call(this,16,65535),O.call(this,4,252645135),U[L]=this._lBlock,U[L+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function O(U,L){var j=(this._lBlock>>>U^this._rBlock)&L;this._rBlock^=j,this._lBlock^=j<<U}function $(U,L){var j=(this._rBlock>>>U^this._lBlock)&L;this._lBlock^=j,this._rBlock^=j<<U}g.DES=y._createHelper(R);var I=m.TripleDES=y.extend({_doReset:function(){var U=this._key,L=U.words;if(L.length!==2&&L.length!==4&&L.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var j=L.slice(0,2),F=L.length<4?L.slice(0,2):L.slice(2,4),X=L.length<6?L.slice(0,2):L.slice(4,6);this._des1=R.createEncryptor(v.create(j)),this._des2=R.createEncryptor(v.create(F)),this._des3=R.createEncryptor(v.create(X))},encryptBlock:function(U,L){this._des1.encryptBlock(U,L),this._des2.decryptBlock(U,L),this._des3.encryptBlock(U,L)},decryptBlock:function(U,L){this._des3.decryptBlock(U,L),this._des2.encryptBlock(U,L),this._des1.decryptBlock(U,L)},keySize:192/32,ivSize:64/32,blockSize:64/32});g.TripleDES=y._createHelper(I)}(),d.TripleDES})}(tripledes)),tripledes.exports}var rc4={exports:{}},hasRequiredRc4;function requireRc4(){return hasRequiredRc4||(hasRequiredRc4=1,function(f,r){(function(d,g,_){f.exports=g(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(commonjsGlobal,function(d){return function(){var g=d,_=g.lib,v=_.StreamCipher,y=g.algo,m=y.RC4=v.extend({_doReset:function(){for(var b=this._key,E=b.words,S=b.sigBytes,R=this._S=[],O=0;O<256;O++)R[O]=O;for(var O=0,$=0;O<256;O++){var I=O%S,U=E[I>>>2]>>>24-I%4*8&255;$=($+R[O]+U)%256;var L=R[O];R[O]=R[$],R[$]=L}this._i=this._j=0},_doProcessBlock:function(b,E){b[E]^=w.call(this)},keySize:256/32,ivSize:0});function w(){for(var b=this._S,E=this._i,S=this._j,R=0,O=0;O<4;O++){E=(E+1)%256,S=(S+b[E])%256;var $=b[E];b[E]=b[S],b[S]=$,R|=b[(b[E]+b[S])%256]<<24-O*8}return this._i=E,this._j=S,R}g.RC4=v._createHelper(m);var C=y.RC4Drop=m.extend({cfg:m.cfg.extend({drop:192}),_doReset:function(){m._doReset.call(this);for(var b=this.cfg.drop;b>0;b--)w.call(this)}});g.RC4Drop=v._createHelper(C)}(),d.RC4})}(rc4)),rc4.exports}var rabbit={exports:{}},hasRequiredRabbit;function requireRabbit(){return hasRequiredRabbit||(hasRequiredRabbit=1,function(f,r){(function(d,g,_){f.exports=g(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(commonjsGlobal,function(d){return function(){var g=d,_=g.lib,v=_.StreamCipher,y=g.algo,m=[],w=[],C=[],b=y.Rabbit=v.extend({_doReset:function(){for(var S=this._key.words,R=this.cfg.iv,O=0;O<4;O++)S[O]=(S[O]<<8|S[O]>>>24)&16711935|(S[O]<<24|S[O]>>>8)&4278255360;var $=this._X=[S[0],S[3]<<16|S[2]>>>16,S[1],S[0]<<16|S[3]>>>16,S[2],S[1]<<16|S[0]>>>16,S[3],S[2]<<16|S[1]>>>16],I=this._C=[S[2]<<16|S[2]>>>16,S[0]&4294901760|S[1]&65535,S[3]<<16|S[3]>>>16,S[1]&4294901760|S[2]&65535,S[0]<<16|S[0]>>>16,S[2]&4294901760|S[3]&65535,S[1]<<16|S[1]>>>16,S[3]&4294901760|S[0]&65535];this._b=0;for(var O=0;O<4;O++)E.call(this);for(var O=0;O<8;O++)I[O]^=$[O+4&7];if(R){var U=R.words,L=U[0],j=U[1],F=(L<<8|L>>>24)&16711935|(L<<24|L>>>8)&4278255360,X=(j<<8|j>>>24)&16711935|(j<<24|j>>>8)&4278255360,z=F>>>16|X&4294901760,Y=X<<16|F&65535;I[0]^=F,I[1]^=z,I[2]^=X,I[3]^=Y,I[4]^=F,I[5]^=z,I[6]^=X,I[7]^=Y;for(var O=0;O<4;O++)E.call(this)}},_doProcessBlock:function(S,R){var O=this._X;E.call(this),m[0]=O[0]^O[5]>>>16^O[3]<<16,m[1]=O[2]^O[7]>>>16^O[5]<<16,m[2]=O[4]^O[1]>>>16^O[7]<<16,m[3]=O[6]^O[3]>>>16^O[1]<<16;for(var $=0;$<4;$++)m[$]=(m[$]<<8|m[$]>>>24)&16711935|(m[$]<<24|m[$]>>>8)&4278255360,S[R+$]^=m[$]},blockSize:128/32,ivSize:64/32});function E(){for(var S=this._X,R=this._C,O=0;O<8;O++)w[O]=R[O];R[0]=R[0]+1295307597+this._b|0,R[1]=R[1]+3545052371+(R[0]>>>0<w[0]>>>0?1:0)|0,R[2]=R[2]+886263092+(R[1]>>>0<w[1]>>>0?1:0)|0,R[3]=R[3]+1295307597+(R[2]>>>0<w[2]>>>0?1:0)|0,R[4]=R[4]+3545052371+(R[3]>>>0<w[3]>>>0?1:0)|0,R[5]=R[5]+886263092+(R[4]>>>0<w[4]>>>0?1:0)|0,R[6]=R[6]+1295307597+(R[5]>>>0<w[5]>>>0?1:0)|0,R[7]=R[7]+3545052371+(R[6]>>>0<w[6]>>>0?1:0)|0,this._b=R[7]>>>0<w[7]>>>0?1:0;for(var O=0;O<8;O++){var $=S[O]+R[O],I=$&65535,U=$>>>16,L=((I*I>>>17)+I*U>>>15)+U*U,j=(($&4294901760)*$|0)+(($&65535)*$|0);C[O]=L^j}S[0]=C[0]+(C[7]<<16|C[7]>>>16)+(C[6]<<16|C[6]>>>16)|0,S[1]=C[1]+(C[0]<<8|C[0]>>>24)+C[7]|0,S[2]=C[2]+(C[1]<<16|C[1]>>>16)+(C[0]<<16|C[0]>>>16)|0,S[3]=C[3]+(C[2]<<8|C[2]>>>24)+C[1]|0,S[4]=C[4]+(C[3]<<16|C[3]>>>16)+(C[2]<<16|C[2]>>>16)|0,S[5]=C[5]+(C[4]<<8|C[4]>>>24)+C[3]|0,S[6]=C[6]+(C[5]<<16|C[5]>>>16)+(C[4]<<16|C[4]>>>16)|0,S[7]=C[7]+(C[6]<<8|C[6]>>>24)+C[5]|0}g.Rabbit=v._createHelper(b)}(),d.Rabbit})}(rabbit)),rabbit.exports}var rabbitLegacy={exports:{}},hasRequiredRabbitLegacy;function requireRabbitLegacy(){return hasRequiredRabbitLegacy||(hasRequiredRabbitLegacy=1,function(f,r){(function(d,g,_){f.exports=g(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(commonjsGlobal,function(d){return function(){var g=d,_=g.lib,v=_.StreamCipher,y=g.algo,m=[],w=[],C=[],b=y.RabbitLegacy=v.extend({_doReset:function(){var S=this._key.words,R=this.cfg.iv,O=this._X=[S[0],S[3]<<16|S[2]>>>16,S[1],S[0]<<16|S[3]>>>16,S[2],S[1]<<16|S[0]>>>16,S[3],S[2]<<16|S[1]>>>16],$=this._C=[S[2]<<16|S[2]>>>16,S[0]&4294901760|S[1]&65535,S[3]<<16|S[3]>>>16,S[1]&4294901760|S[2]&65535,S[0]<<16|S[0]>>>16,S[2]&4294901760|S[3]&65535,S[1]<<16|S[1]>>>16,S[3]&4294901760|S[0]&65535];this._b=0;for(var I=0;I<4;I++)E.call(this);for(var I=0;I<8;I++)$[I]^=O[I+4&7];if(R){var U=R.words,L=U[0],j=U[1],F=(L<<8|L>>>24)&16711935|(L<<24|L>>>8)&4278255360,X=(j<<8|j>>>24)&16711935|(j<<24|j>>>8)&4278255360,z=F>>>16|X&4294901760,Y=X<<16|F&65535;$[0]^=F,$[1]^=z,$[2]^=X,$[3]^=Y,$[4]^=F,$[5]^=z,$[6]^=X,$[7]^=Y;for(var I=0;I<4;I++)E.call(this)}},_doProcessBlock:function(S,R){var O=this._X;E.call(this),m[0]=O[0]^O[5]>>>16^O[3]<<16,m[1]=O[2]^O[7]>>>16^O[5]<<16,m[2]=O[4]^O[1]>>>16^O[7]<<16,m[3]=O[6]^O[3]>>>16^O[1]<<16;for(var $=0;$<4;$++)m[$]=(m[$]<<8|m[$]>>>24)&16711935|(m[$]<<24|m[$]>>>8)&4278255360,S[R+$]^=m[$]},blockSize:128/32,ivSize:64/32});function E(){for(var S=this._X,R=this._C,O=0;O<8;O++)w[O]=R[O];R[0]=R[0]+1295307597+this._b|0,R[1]=R[1]+3545052371+(R[0]>>>0<w[0]>>>0?1:0)|0,R[2]=R[2]+886263092+(R[1]>>>0<w[1]>>>0?1:0)|0,R[3]=R[3]+1295307597+(R[2]>>>0<w[2]>>>0?1:0)|0,R[4]=R[4]+3545052371+(R[3]>>>0<w[3]>>>0?1:0)|0,R[5]=R[5]+886263092+(R[4]>>>0<w[4]>>>0?1:0)|0,R[6]=R[6]+1295307597+(R[5]>>>0<w[5]>>>0?1:0)|0,R[7]=R[7]+3545052371+(R[6]>>>0<w[6]>>>0?1:0)|0,this._b=R[7]>>>0<w[7]>>>0?1:0;for(var O=0;O<8;O++){var $=S[O]+R[O],I=$&65535,U=$>>>16,L=((I*I>>>17)+I*U>>>15)+U*U,j=(($&4294901760)*$|0)+(($&65535)*$|0);C[O]=L^j}S[0]=C[0]+(C[7]<<16|C[7]>>>16)+(C[6]<<16|C[6]>>>16)|0,S[1]=C[1]+(C[0]<<8|C[0]>>>24)+C[7]|0,S[2]=C[2]+(C[1]<<16|C[1]>>>16)+(C[0]<<16|C[0]>>>16)|0,S[3]=C[3]+(C[2]<<8|C[2]>>>24)+C[1]|0,S[4]=C[4]+(C[3]<<16|C[3]>>>16)+(C[2]<<16|C[2]>>>16)|0,S[5]=C[5]+(C[4]<<8|C[4]>>>24)+C[3]|0,S[6]=C[6]+(C[5]<<16|C[5]>>>16)+(C[4]<<16|C[4]>>>16)|0,S[7]=C[7]+(C[6]<<8|C[6]>>>24)+C[5]|0}g.RabbitLegacy=v._createHelper(b)}(),d.RabbitLegacy})}(rabbitLegacy)),rabbitLegacy.exports}var blowfish={exports:{}},hasRequiredBlowfish;function requireBlowfish(){return hasRequiredBlowfish||(hasRequiredBlowfish=1,function(f,r){(function(d,g,_){f.exports=g(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(commonjsGlobal,function(d){return function(){var g=d,_=g.lib,v=_.BlockCipher,y=g.algo;const m=16,w=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],C=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var b={pbox:[],sbox:[]};function E(I,U){let L=U>>24&255,j=U>>16&255,F=U>>8&255,X=U&255,z=I.sbox[0][L]+I.sbox[1][j];return z=z^I.sbox[2][F],z=z+I.sbox[3][X],z}function S(I,U,L){let j=U,F=L,X;for(let z=0;z<m;++z)j=j^I.pbox[z],F=E(I,j)^F,X=j,j=F,F=X;return X=j,j=F,F=X,F=F^I.pbox[m],j=j^I.pbox[m+1],{left:j,right:F}}function R(I,U,L){let j=U,F=L,X;for(let z=m+1;z>1;--z)j=j^I.pbox[z],F=E(I,j)^F,X=j,j=F,F=X;return X=j,j=F,F=X,F=F^I.pbox[1],j=j^I.pbox[0],{left:j,right:F}}function O(I,U,L){for(let Y=0;Y<4;Y++){I.sbox[Y]=[];for(let ne=0;ne<256;ne++)I.sbox[Y][ne]=C[Y][ne]}let j=0;for(let Y=0;Y<m+2;Y++)I.pbox[Y]=w[Y]^U[j],j++,j>=L&&(j=0);let F=0,X=0,z=0;for(let Y=0;Y<m+2;Y+=2)z=S(I,F,X),F=z.left,X=z.right,I.pbox[Y]=F,I.pbox[Y+1]=X;for(let Y=0;Y<4;Y++)for(let ne=0;ne<256;ne+=2)z=S(I,F,X),F=z.left,X=z.right,I.sbox[Y][ne]=F,I.sbox[Y][ne+1]=X;return!0}var $=y.Blowfish=v.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var I=this._keyPriorReset=this._key,U=I.words,L=I.sigBytes/4;O(b,U,L)}},encryptBlock:function(I,U){var L=S(b,I[U],I[U+1]);I[U]=L.left,I[U+1]=L.right},decryptBlock:function(I,U){var L=R(b,I[U],I[U+1]);I[U]=L.left,I[U+1]=L.right},blockSize:64/32,keySize:128/32,ivSize:64/32});g.Blowfish=v._createHelper($)}(),d.Blowfish})}(blowfish)),blowfish.exports}(function(f,r){(function(d,g,_){f.exports=g(requireCore(),requireX64Core(),requireLibTypedarrays(),requireEncUtf16(),requireEncBase64(),requireEncBase64url(),requireMd5(),requireSha1(),requireSha256(),requireSha224(),requireSha512(),requireSha384(),requireSha3(),requireRipemd160(),requireHmac(),requirePbkdf2(),requireEvpkdf(),requireCipherCore(),requireModeCfb(),requireModeCtr(),requireModeCtrGladman(),requireModeOfb(),requireModeEcb(),requirePadAnsix923(),requirePadIso10126(),requirePadIso97971(),requirePadZeropadding(),requirePadNopadding(),requireFormatHex(),requireAes(),requireTripledes(),requireRc4(),requireRabbit(),requireRabbitLegacy(),requireBlowfish())})(commonjsGlobal,function(d){return d})})(cryptoJs);var cryptoJsExports=cryptoJs.exports,hasRequiredUtils;function requireUtils(){return hasRequiredUtils||(hasRequiredUtils=1,function(f){var r=commonjsGlobal&&commonjsGlobal.__importDefault||function(P){return P&&P.__esModule?P:{default:P}};Object.defineProperty(f,"__esModule",{value:!0}),f.isValidObject=f.RANDOM_LENGTH=f.isBrowser=f.resolveLocalStorage=f.hasLocalStorage=f.hasBuiltInWebSocket=f.resolveWebSocketImplementation=void 0,f.hexToByteArray=E,f.getChainId=S,f.toHexString=R,f.concatUint8Arrays=O,f.splitToUint8Arrays=$,f.base64encode=L,f.base64decode=j,f.checkWSUrl=F,f.hashKey=se,f.generateRandomBytes32=G,f.generateTopic=T,f.generateGroupId=D,f.isIos=A,f.getLastSixMd5Hash=B,f.toSafeBase64FromBase64=N,f.useShortLink=q,f.replaceAptosChainName=K;const d=r(naclFastExports),g=r(naclUtilExports),_=require$$2,v=sha256$2,y=requireSafejson(),m=requireLog(),w=requireStringUtils(),C=r(cryptoJsExports),b="base16";function E(P){if(P.length%2!==0)throw new Error(`Cannot convert ${P} to bytesArray`);const k=new Uint8Array(P.length/2);for(let M=0;M<P.length;M+=2)k[M/2]=parseInt(P.slice(M,M+2),16);return k}function S(P){return P.includes(":")?P.split(":")[1]:P}function R(P){let k="";return P.forEach(M=>{k+=("0"+(M&255).toString(16)).slice(-2)}),k}function O(P,k){const M=new Uint8Array(P.length+k.length);return M.set(P),M.set(k,P.length),M}function $(P,k){if(k>=P.length)throw new Error("Index is out of buffer");const M=P.slice(0,k),W=P.slice(k);return[M,W]}function I(P,k){const M=g.default.encodeBase64(P);return k?encodeURIComponent(M):M}function U(P,k){return k&&(P=decodeURIComponent(P)),g.default.decodeBase64(P)}function L(P,k){let M;return P instanceof Uint8Array?M=P:(typeof P!="string"&&(P=(0,y.safeJsonStringify)(P)),M=g.default.decodeUTF8(P)),I(M,k)}function j(P,k){const M=U(P,k);return{toString(){return g.default.encodeUTF8(M)},toObject(){try{return(0,y.safeJsonParse)(g.default.encodeUTF8(M))}catch{return null}},toUint8Array(){return M}}}function F(P){const k=P.match(new RegExp(/^\w+:/,"gi"));if(!k||!k.length)return!1;let M=k[0];return M===void 0?!1:new RegExp("^wss?:").test(M)}const X=()=>typeof WebSocket<"u"?WebSocket:typeof commonjsGlobal<"u"&&typeof commonjsGlobal.WebSocket<"u"?commonjsGlobal.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:WebSocket;f.resolveWebSocketImplementation=X;const z=()=>typeof WebSocket<"u"||typeof commonjsGlobal<"u"&&typeof commonjsGlobal.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u";f.hasBuiltInWebSocket=z;const Y=()=>typeof commonjsGlobal<"u"&&typeof commonjsGlobal.localStorage<"u"||typeof window<"u"&&typeof window.localStorage<"u";f.hasLocalStorage=Y;const ne=()=>typeof commonjsGlobal<"u"&&typeof commonjsGlobal.localStorage<"u"?commonjsGlobal.localStorage:typeof window<"u"&&typeof window.localStorage<"u"?window.localStorage:localStorage;f.resolveLocalStorage=ne;const re=()=>typeof window<"u";f.isBrowser=re,f.RANDOM_LENGTH=32;function se(P,k=b){(0,m.logDebug)(`hash key called ${P}`);const M=(0,v.hash)((0,w.okxfromString)(P,k));return(0,_.toString)(M,k)}function G(){return d.default.randomBytes(f.RANDOM_LENGTH)}function T(){let P=G();return(0,m.logDebug)(`generate topic called ${P}`),se((0,_.toString)(P,b))}function D(){let P=d.default.randomBytes(16);return(0,m.logDebug)(`generate groupid called ${P}`),se((0,_.toString)(P,b))}const x=P=>Object.getPrototypeOf(P)===Object.prototype&&Object.keys(P).length;f.isValidObject=x;function A(){const P=navigator.userAgent,k=navigator.maxTouchPoints||0,M=/iPad|iPhone|iPod/.test(P)&&!window.MSStream,W=P.includes("Mac")&&k>1;return(0,m.logDebug)(`utils isIos >>>isIOSDevice: ${M}    >> isIPadOS: ${W}`),M||W}function B(P){return C.default.MD5(P).toString().slice(-6)}function N(P){return P.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function q(){return!0}function K(P){let k=P;return P.includes("aptos:mainnet")?k=P.replace("aptos:mainnet","aptos:637"):P.includes("movement:testnet")&&(k=P.replace("movement:testnet","aptos:70000060")),k}}(utils$4)),utils$4}var __createBinding$4=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(f,r,d,g){g===void 0&&(g=d);var _=Object.getOwnPropertyDescriptor(r,d);(!_||("get"in _?!r.__esModule:_.writable||_.configurable))&&(_={enumerable:!0,get:function(){return r[d]}}),Object.defineProperty(f,g,_)}:function(f,r,d,g){g===void 0&&(g=d),f[g]=r[d]}),__setModuleDefault$4=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(f,r){Object.defineProperty(f,"default",{enumerable:!0,value:r})}:function(f,r){f.default=r}),__importStar$4=commonjsGlobal&&commonjsGlobal.__importStar||function(){var f=function(r){return f=Object.getOwnPropertyNames||function(d){var g=[];for(var _ in d)Object.prototype.hasOwnProperty.call(d,_)&&(g[g.length]=_);return g},f(r)};return function(r){if(r&&r.__esModule)return r;var d={};if(r!=null)for(var g=f(r),_=0;_<g.length;_++)g[_]!=="default"&&__createBinding$4(d,r,g[_]);return __setModuleDefault$4(d,r),d}}(),__importDefault$5=commonjsGlobal&&commonjsGlobal.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(storage,"__esModule",{value:!0});storage.Storage=void 0;const storageconstants_1$4=storageconstants,tweetnacl_1$1=__importDefault$5(naclFastExports),utils_1$o=requireUtils(),utils_2$3=requireUtils$1(),log$4=__importStar$4(requireLog()),utils_3=requireUtils$1(),crypto_js_1=cryptoJsExports;class Storage{constructor(r,d=void 0){const g=(0,utils_1$o.resolveLocalStorage)();log$4.logDebug("------ update before cache ------"),d&&this.checkAndUpgradeCache(d,r),this.storeKey="",this.cipherIV="",this.subKey=r,log$4.logDebug("--------get current local storage --------"),log$4.logDebug(g);const _=g.getItem(Storage.cacheKey+r);if(typeof _>"u"||_===null){log$4.logDebug("with no cache"),this.cache={};return}if(log$4.logDebug(_),(_==null?void 0:_.length)>0){var v=(0,utils_2$3.safeJsonParse)(_);this.cache=v}log$4.logDebug(`get cache obj: ${this.cache}`),(typeof this.cache>"u"||this.cache==null)&&(this.cache={})}checkAndUpgradeCache(r,d){if(r&&r.length>0&&d&&d.length>0){log$4.logDebug("--------get current local storage --------"),log$4.logDebug(localStorage);const g=localStorage.getItem(Storage.cacheKey+r);if(typeof g>"u"||g===null){log$4.logDebug("no pre cache content");return}log$4.logDebug(g),(g==null?void 0:g.length)>0&&(log$4.logDebug("write in cache content: ",r,"->",d),localStorage.setItem(Storage.cacheKey+d,g),log$4.logDebug("clean in cache content: ",r),localStorage.removeItem(Storage.cacheKey+r))}else log$4.logDebug("no pre cache key:",r)}saveContent(r,d,g="-"){let _={id:g,timestamp:Date.now().toString(),content:r};this.saveItem(_,d)}saveItem(r,d){let g=Storage.cacheKey+this.subKey;const _=(0,utils_1$o.resolveLocalStorage)();log$4.logDebug(this.cache),log$4.logDebug(`get cache obj: ${this.cache}, ${d}, ${r}`),this.cache[d]=r;let v=(0,utils_2$3.safeJsonStringify)(this.cache);log$4.logDebug(`STORAGE: ${d} @ ${this.cache}`),_.setItem(g,v)}getItem(r){return log$4.logDebug(`STORAGE >> getItem: ${r} @ ${this.cache}`),this.cache[r]}getCachedPBKDF2InfoKey(){var r,d,g,_;if(this.storeKey.length>0&&((r=this.cipherIV)===null||r===void 0?void 0:r.length)>0)return{pw:this.storeKey,iv:this.cipherIV};let m=(d=this.getItem(storageconstants_1$4.OKXCONNECTOR_STORAGER_CRYPTO_SALT))===null||d===void 0?void 0:d.content;m||(m=(0,utils_1$o.toHexString)(tweetnacl_1$1.default.randomBytes(24)),this.saveContent(m,storageconstants_1$4.OKXCONNECTOR_STORAGER_CRYPTO_SALT));let w=(g=this.getItem(storageconstants_1$4.OKXCONNECTOR_STORAGE_CRYPTO_PASSWORD))===null||g===void 0?void 0:g.content;w||(w=(0,utils_1$o.toHexString)(tweetnacl_1$1.default.randomBytes(32)),this.saveContent(w,storageconstants_1$4.OKXCONNECTOR_STORAGE_CRYPTO_PASSWORD));let C=(_=this.getItem(storageconstants_1$4.OKXCONNECTOR_STORAGE_CRYPTO_CIPHERIV))===null||_===void 0?void 0:_.content;if(!C){let b=tweetnacl_1$1.default.randomBytes(16);C=(0,utils_1$o.toHexString)(b),this.saveContent(C,storageconstants_1$4.OKXCONNECTOR_STORAGE_CRYPTO_CIPHERIV)}return this.cipherIV=C,this.storeKey=(0,crypto_js_1.PBKDF2)(w,m,{iterations:10}).toString(),{pw:this.storeKey,iv:this.cipherIV}}encryptStoreMsg(r,d){(0,utils_3.logDebug)(`encryptStoreMsg  encryptStoreMsg start ${Date.now()}`);let g=this.getCachedPBKDF2InfoKey();(0,utils_3.logDebug)(`encryptStoreMsg  encryptStoreMsg mid ${Date.now()}`);var _=crypto_js_1.AES.encrypt(r,g.pw).toString();this.saveContent(_,d),(0,utils_3.logDebug)(`encryptStoreMsg  encryptStoreMsg end ${Date.now()}`)}getAndDecrypt(r){(0,utils_3.logDebug)(`encryptStoreMsg  getAndDecrypt start ${Date.now()}`);let d=this.getItem(r);if(d&&d.content){let g=this.getCachedPBKDF2InfoKey();(0,utils_3.logDebug)(`encryptStoreMsg  getAndDecrypt mid ${Date.now()}`);let _=crypto_js_1.AES.decrypt(d.content,g.pw).toString(crypto_js_1.enc.Utf8);return(0,utils_3.logDebug)(`encryptStoreMsg  getAndDecrypt end ${Date.now()}`),_}return null}clearCache(r=void 0){if(r===void 0){this.cache={};let d=Storage.cacheKey+this.subKey;localStorage.setItem(d,"")}else{let d=Storage.cacheKey+this.subKey;const g=(0,utils_1$o.resolveLocalStorage)();log$4.logDebug(this.cache),this.cache[r]=null;let _=(0,utils_2$3.safeJsonStringify)(this.cache);log$4.logDebug(`STORAGE: clean key ${r} @ ${this.cache}`),g.setItem(d,_)}}}storage.Storage=Storage;Storage.cacheKey="OKXStorageKey";var __createBinding$3=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(f,r,d,g){g===void 0&&(g=d);var _=Object.getOwnPropertyDescriptor(r,d);(!_||("get"in _?!r.__esModule:_.writable||_.configurable))&&(_={enumerable:!0,get:function(){return r[d]}}),Object.defineProperty(f,g,_)}:function(f,r,d,g){g===void 0&&(g=d),f[g]=r[d]}),__setModuleDefault$3=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(f,r){Object.defineProperty(f,"default",{enumerable:!0,value:r})}:function(f,r){f.default=r}),__importStar$3=commonjsGlobal&&commonjsGlobal.__importStar||function(){var f=function(r){return f=Object.getOwnPropertyNames||function(d){var g=[];for(var _ in d)Object.prototype.hasOwnProperty.call(d,_)&&(g[g.length]=_);return g},f(r)};return function(r){if(r&&r.__esModule)return r;var d={};if(r!=null)for(var g=f(r),_=0;_<g.length;_++)g[_]!=="default"&&__createBinding$3(d,r,g[_]);return __setModuleDefault$3(d,r),d}}(),__awaiter$x=commonjsGlobal&&commonjsGlobal.__awaiter||function(f,r,d,g){function _(v){return v instanceof d?v:new d(function(y){y(v)})}return new(d||(d=Promise))(function(v,y){function m(b){try{C(g.next(b))}catch(E){y(E)}}function w(b){try{C(g.throw(b))}catch(E){y(E)}}function C(b){b.done?v(b.value):_(b.value).then(m,w)}C((g=g.apply(f,r||[])).next())})};Object.defineProperty(connect$1,"__esModule",{value:!0});connect$1.OKXWalletConnector=void 0;const constants_1$h=constants$5,storageconstants_1$3=storageconstants,storage_1$2=storage,utils_1$n=requireUtils$1(),utils_2$2=requireUtils(),eventemitter3_1$5=require$$3,log$3=__importStar$3(requireLog()),protocol_1$7=protocol,report_1$1=requireReport(),WS=(0,utils_2$2.resolveWebSocketImplementation)();class OKXWalletConnector{constructor(r){if(this.events=new eventemitter3_1$5.EventEmitter,this.state=constants_1$h.ConnectorState.InitState,this.selectedUrlIndex=0,this.retryCount=0,this.timeOutLimit=8e3,!(0,utils_2$2.checkWSUrl)(r))throw new Error(`CONNECTOR: invalid url ${r}`);this.url=r,this.heartbeatTimer=null,this.connectionTimeoutTimer=null,this.connectURLStorage=new storage_1$2.Storage(storageconstants_1$3.OKXCONNECTOR_CACHE_KEY+storageconstants_1$3.OKXCONNECTOR_CACHE_KEY)}get connecting(){return this.state==constants_1$h.ConnectorState.Connecting}onPayload(r){if(!(typeof r.data>"u")){if(log$3.logDebug("get received data"),log$3.logDebug(r),typeof r.data=="string"&&r.data==="pong"){log$3.logDebug(`CONNECT: receive pong ${Date.now().toString()}`);return}this.events.emit("payload",r.data)}}onClose(r){var d;log$3.logDebug("socket get closed: ",(d=this.socket)===null||d===void 0?void 0:d.url,r.code),this.socket=void 0,this.events.emit("close",r)}onError(r,d){const g={id:r,msg:d.toString()};this.events.emit("payload",g)}onopen(r){r.onmessage=d=>this.onPayload(d),r.onclose=d=>this.onClose(d),this.socket=r,this.state=constants_1$h.ConnectorState.Connected,this.events.emit("open")}emitError(r){this.events.emit("fail",r)}heartbeat(){return __awaiter$x(this,void 0,void 0,function*(){if(this.heartbeatTimer&&clearTimeout(this.heartbeatTimer),this.state!=constants_1$h.ConnectorState.Connected&&this.state!=constants_1$h.ConnectorState.OnError){log$3.logDebug("heart beat close");return}if(!this.socket){if(log$3.logDebug("socket not exist"),this.state==constants_1$h.ConnectorState.Connected||this.state==constants_1$h.ConnectorState.OnError){log$3.logDebug("socket reconnect by heartbeat");try{yield this.tryRegistOpen()}catch{log$3.logError("regist open failed"),this.heartbeatTimer=setTimeout(this.heartbeat.bind(this),5e3)}}return}if(this.socket.readyState!==WebSocket.OPEN){if(log$3.logDebug("socket not ready"),this.state==constants_1$h.ConnectorState.Connected||this.state==constants_1$h.ConnectorState.OnError){log$3.logDebug("socket reconnect by heartbeat with state",this.state,this.socket.readyState);try{yield this.tryRegistOpen()}catch{log$3.logError("regist open failed"),this.heartbeatTimer=setTimeout(this.heartbeat.bind(this),5e3)}}return}log$3.logDebug(`send ping heart beat: ${Date.now().toString()}, ${this.socket}`),this.socket.send("ping"),this.heartbeatTimer=setTimeout(this.heartbeat.bind(this),5e3)})}registOpen(r=this.url,d=!1){if(!(0,utils_2$2.checkWSUrl)(r))throw new Error(`CONNECTOR: invalid url ${r}`);return this.url=r,d||log$3.logDebug("Connection connect:",this.url,new Date().toUTCString()),this.state=constants_1$h.ConnectorState.Connecting,new URLSearchParams(r).get("origin"),new Promise((g,_)=>{const v=new WS(r,[]);log$3.logDebug("Connection connect Begin:",this.url,new Date().toUTCString()),this.startTimeOutTimer(v),(0,utils_2$2.hasBuiltInWebSocket)()?(log$3.logDebug("Add socket error handler"),v.onerror=()=>{_(new Error("socket error")),v.close()}):(log$3.logDebug("Add socket error handler"),v.on("error",()=>{_(new Error("socket error")),v.close()})),v.onopen=()=>{log$3.logDebug("socket opened"),this.resetTimeOutTimer(constants_1$h.OKXCONNECTOR_WS_URL_PENDING_CLOSE_CODE.FINISHED),this.onopen(v),this.heartbeat(),g(v)}})}checkMaxRetry(){return log$3.logDebug("current retry count:",this.retryCount,"of",constants_1$h.OKXCONNECTOR_WS_URL_LIST.length),this.retryCount>constants_1$h.OKXCONNECTOR_WS_URL_LIST.length*3}connectionTryNext(){return __awaiter$x(this,void 0,void 0,function*(){if(this.checkMaxRetry())log$3.logDebug("Max Connection retry ",this.retryCount,new Date().toUTCString());else{this.retryCount+=1;let r=this.getNextSelectUrl();return log$3.logDebug("Connection retry:",r,new Date().toUTCString()),this.registOpen(r,!0)}})}startTimeOutTimer(r){this.connectionTimeoutTimer&&this.resetTimeOutTimer(constants_1$h.OKXCONNECTOR_WS_URL_PENDING_CLOSE_CODE.CANCELED),this.pendingSocket=r,this.connectionTimeoutTimer=setTimeout(()=>{this.pendingSocket&&this.resetTimeOutTimer(constants_1$h.OKXCONNECTOR_WS_URL_PENDING_CLOSE_CODE.TIME_OUT)},this.timeOutLimit)}resetTimeOutTimer(r){var d;if(r==constants_1$h.OKXCONNECTOR_WS_URL_PENDING_CLOSE_CODE.TIME_OUT)throw clearTimeout(this.connectionTimeoutTimer),(d=this.pendingSocket)===null||d===void 0||d.close(),this.pendingSocket=void 0,log$3.reportEvent(report_1$1.OKXReportType.LOG,"timeout",this.retryCount.toString()),new Error("socket timeout");this.pendingSocket=void 0,clearTimeout(this.connectionTimeoutTimer)}cacheSuccessUrlSelect(){this.connectURLStorage.saveContent(this.selectedUrlIndex.toString(),storageconstants_1$3.OKXCONNECTOR_CACHE_KEY)}getNextSelectUrl(){return this.selectedUrlIndex+=1,this.selectedUrlIndex=this.selectedUrlIndex%constants_1$h.OKXCONNECTOR_WS_URL_LIST.length,constants_1$h.OKXCONNECTOR_WS_URL_LIST[this.selectedUrlIndex]}onVisibleChanged(){return __awaiter$x(this,void 0,void 0,function*(){if(document.visibilityState==="visible"&&(log$3.logDebug(`get changed ${this.state}, ${this.socket}`),this.state==constants_1$h.ConnectorState.Connected&&typeof this.socket>"u")){log$3.logDebug("CONNECTION need reopen");try{yield this.tryRegistOpen()}catch{log$3.logError("regist open failed")}return}})}tryRegistOpen(){return __awaiter$x(this,arguments,void 0,function*(r=this.url){if(this.connecting)return log$3.logDebug("tryRegistOpen => connecting state"),new Promise((g,_)=>{this.events.once("fail",v=>(log$3.logDebug("tryRegistOpen => connecting fail listener",v),_(v))),this.events.once("open",()=>typeof this.socket>"u"?_(new Error("Connect lost")):g(this.socket))});log$3.logDebug("tryRegistOpen => try registOpen until retry limit is hit");let d=!1;for(;!this.checkMaxRetry()&&!this.socket;)try{log$3.logDebug("tryRegistOpen => call registOpen, try count:",this.retryCount,d),yield this.registOpen(r,d)}catch(g){log$3.logDebug("tryRegistOpen => registOpen failed",g),this.retryCount+=1,r=this.getNextSelectUrl(),d=!0}if(log$3.logDebug("tryRegistOpen => exit while loop",this.retryCount,this.socket),!this.socket&&this.checkMaxRetry())throw log$3.logDebug("tryRegistOpen => failed to open a socket",this.retryCount,this.socket),this.retryCount=0,this.state=constants_1$h.ConnectorState.OnError,this.emitError(new Error("tryRegistOpen failed")),new protocol_1$7.OKXConnectError(protocol_1$7.OKX_CONNECT_ERROR_CODES.CONNECTION_ERROR,"Failed to connect")})}connect(){return __awaiter$x(this,void 0,void 0,function*(){try{yield this.tryRegistOpen(),document.removeEventListener("visibilitychange",this.onVisibleChanged.bind(this)),document.addEventListener("visibilitychange",this.onVisibleChanged.bind(this))}catch(r){throw log$3.logDebug("connect => failed to connect",r),r}})}disconnect(){return __awaiter$x(this,void 0,void 0,function*(){return this.state=constants_1$h.ConnectorState.Disconnected,new Promise((r,d)=>{if(typeof this.socket>"u"){r();return}this.socket.onclose=g=>{this.onClose(g),r()},this.socket.close(),this.heartbeatTimer&&clearTimeout(this.heartbeatTimer)})})}currentStatus(){return{state:this.state,url:this.url}}addListener(r,d,g,_,v){this.listenPayloadHandler&&this.events.removeListener("payload",this.listenPayloadHandler),this.listenPayloadHandler=y=>__awaiter$x(this,void 0,void 0,function*(){var m;log$3.logDebug(`<<< get payload ${y}`);let w=(0,utils_1$n.safeJsonParse)(y);if(w.params&&w.params.data){let C=(m=w.params.data)===null||m===void 0?void 0:m.message,b=!1;if(C&&v){let E=yield v(w.params.data);b=E.isSplitPackage&&!E.finalMessage,E.isSplitPackage&&(E.finalMessage&&E.finalMessage.length>0?(log$3.logDebug("CONNECT: update raw msg content"),C=E.finalMessage):(log$3.logDebug("CONNECT: skip raw msg content"),b=!0))}if(!b)try{let E=d(C);E===void 0?(log$3.logDebug("CONNECT: decrypt undefined"),_(r,"Decrypt undefined")):g(r,E)}catch(E){log$3.logDebug(`CONNECT: decrypt failed: ${E}`),_(r,E.message)}}}),this.events.on("payload",this.listenPayloadHandler),this.failHandler&&this.events.removeListener("fail",this.failHandler),this.failHandler=y=>{y?(log$3.logDebug(`CONNECT failed: ${y}`),_(r,y.message)):_(r,"Unkonow error")},this.events.on("fail",this.failHandler)}addPackageParse(r){this.payloadHandler&&this.events.removeListener("payload",this.payloadHandler),this.payloadHandler=d=>__awaiter$x(this,void 0,void 0,function*(){log$3.logDebug(`CONNECTION @[${new Date().toUTCString()}] <<<< received e:${d}`);let g=(0,utils_1$n.safeJsonParse)(d);yield r(g)}),this.events.on("payload",this.payloadHandler)}once(r,d){this.events.once(r,d)}off(r,d){this.events.off(r,d)}removeListener(r,d){this.events.removeListener(r,d)}send(r,d){return __awaiter$x(this,void 0,void 0,function*(){try{typeof this.socket>"u"&&(log$3.logDebug(`>>> send payload undefined ${d}`),yield r()),log$3.logDebug(`CONNECTION @[${new Date().toUTCString()}]>>> send payload ${(0,utils_1$n.safeJsonStringify)(d)}`),this.socket&&this.socket.send((0,utils_1$n.safeJsonStringify)(d))}catch(g){this.onError(d.id,g)}})}getMsgPayloadFromHistory(r){return __awaiter$x(this,void 0,void 0,function*(){if(typeof r>"u")return;let d={params:{data:r}},g=(0,utils_1$n.safeJsonStringify)(r);log$3.logDebug("get received data from history"),log$3.logDebug(g),g=(0,utils_1$n.safeJsonStringify)(d),this.events.emit("payload",g)})}onOpen(r){this.openHandler&&this.events.removeListener("open",this.openHandler),this.openHandler=()=>__awaiter$x(this,void 0,void 0,function*(){log$3.logDebug(`CONNECTION @[${new Date().toUTCString()}] >>> ws opened: `),yield r()}),this.events.on("open",this.openHandler),this.cacheSuccessUrlSelect()}}connect$1.OKXWalletConnector=OKXWalletConnector;var connectionManager={},commands={};Object.defineProperty(commands,"__esModule",{value:!0});commands.CONNECT_METHOD_BATCH_FETCHMSG=commands.CONNECT_METHOD_FETCHMSG=commands.CONNECT_METHOD_RECEIVE=commands.CONNECT_METHOD_UNSUB=commands.CONNECT_METHOD_SUB=commands.CONNECT_METHOD_PUBLISH=commands.CONNECT_METHOD_LOGIN=commands.CONNECT_METHOD_PUSH=void 0;commands.CONNECT_METHOD_PUSH="push";commands.CONNECT_METHOD_LOGIN="login";commands.CONNECT_METHOD_PUBLISH="publish";commands.CONNECT_METHOD_SUB="subscribe";commands.CONNECT_METHOD_UNSUB="unsubscribe";commands.CONNECT_METHOD_RECEIVE="receive";commands.CONNECT_METHOD_FETCHMSG="fetchMessages";commands.CONNECT_METHOD_BATCH_FETCHMSG="batchFetchMessages";var jwtconstants={};Object.defineProperty(jwtconstants,"__esModule",{value:!0});jwtconstants.OKXCONNECTOR_JWT_TTL=jwtconstants.OKXCONNECTOR_JWT_WALLET_SIDE=jwtconstants.OKXCONNECTOR_JWT_SIDE=void 0;jwtconstants.OKXCONNECTOR_JWT_SIDE="wallet";jwtconstants.OKXCONNECTOR_JWT_WALLET_SIDE="dapp";jwtconstants.OKXCONNECTOR_JWT_TTL=864e5;var crypto$1={},__importDefault$4=commonjsGlobal&&commonjsGlobal.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(crypto$1,"__esModule",{value:!0});crypto$1.SessionCrypto=void 0;const tweetnacl_1=__importDefault$4(naclFastExports),utils_1$m=requireUtils();class SessionCrypto{constructor(r=void 0){this.nonceLength=24,this.sessionKeyPair=r?this.createKeypairFromString(r):this.createKeypair()}createKeypair(){return tweetnacl_1.default.box.keyPair()}createKeypairFromString(r){return{publicKey:(0,utils_1$m.hexToByteArray)(r.publicKey),secretKey:(0,utils_1$m.hexToByteArray)(r.secretKey)}}createNonce(){return tweetnacl_1.default.randomBytes(this.nonceLength)}get keyPair(){return this.sessionKeyPair}encrypt(r,d){const g=new TextEncoder().encode(r),_=this.createNonce(),v=tweetnacl_1.default.box(g,_,(0,utils_1$m.hexToByteArray)(d),this.keyPair.secretKey);let y=(0,utils_1$m.concatUint8Arrays)(_,v);var m=(0,utils_1$m.toHexString)(y),w=new TextEncoder().encode(m);return(0,utils_1$m.base64encode)(w,!1)}encryptWallet(r,d){const g=new TextEncoder().encode(r),_=this.createNonce(),v=tweetnacl_1.default.box(g,_,(0,utils_1$m.hexToByteArray)(d),this.keyPair.secretKey);let y=(0,utils_1$m.concatUint8Arrays)(_,v);return(0,utils_1$m.base64encode)(y,!1)}decrypt(r,d){let _=(0,utils_1$m.base64decode)(r,!0).toUint8Array();const[v,y]=(0,utils_1$m.splitToUint8Arrays)(_,this.nonceLength),m=tweetnacl_1.default.box.open(y,v,(0,utils_1$m.hexToByteArray)(d),this.keyPair.secretKey);if(!m)throw new Error(`Decryption error: 
 message: ${r.toString()} 
 sender pubkey: ${d.toString()} 
 keypair pubkey: ${(0,utils_1$m.toHexString)(this.keyPair.publicKey)} 
 keypair secretkey: ${(0,utils_1$m.toHexString)(this.keyPair.secretKey)}`);return new TextDecoder().decode(m)}decryptWallet(r,d){let g=(0,utils_1$m.base64decode)(r,!0),_=(0,utils_1$m.hexToByteArray)(g.toString());const[v,y]=(0,utils_1$m.splitToUint8Arrays)(_,this.nonceLength),m=tweetnacl_1.default.box.open(y,v,(0,utils_1$m.hexToByteArray)(d),this.keyPair.secretKey);if(!m)throw new Error(`Decryption error: 
 message: ${r.toString()} 
 sender pubkey: ${d.toString()} 
 keypair pubkey: ${(0,utils_1$m.toHexString)(this.keyPair.publicKey)} 
 keypair secretkey: ${(0,utils_1$m.toHexString)(this.keyPair.secretKey)}`);return new TextDecoder().decode(m)}stringifyKeypair(){return{publicKey:(0,utils_1$m.toHexString)(this.keyPair.publicKey),secretKey:(0,utils_1$m.toHexString)(this.keyPair.secretKey)}}}crypto$1.SessionCrypto=SessionCrypto;var jwt={},ed25519={},random={},system={},browser={};Object.defineProperty(browser,"__esModule",{value:!0});browser.BrowserRandomSource=void 0;const QUOTA=65536;class BrowserRandomSource{constructor(){this.isAvailable=!1,this.isInstantiated=!1;const r=typeof self<"u"?self.crypto||self.msCrypto:null;r&&r.getRandomValues!==void 0&&(this._crypto=r,this.isAvailable=!0,this.isInstantiated=!0)}randomBytes(r){if(!this.isAvailable||!this._crypto)throw new Error("Browser random byte generator is not available.");const d=new Uint8Array(r);for(let g=0;g<d.length;g+=QUOTA)this._crypto.getRandomValues(d.subarray(g,g+Math.min(d.length-g,QUOTA)));return d}}browser.BrowserRandomSource=BrowserRandomSource;var node={};Object.defineProperty(node,"__esModule",{value:!0});node.NodeRandomSource=void 0;const wipe_1=wipe$1;class NodeRandomSource{constructor(){if(this.isAvailable=!1,this.isInstantiated=!1,typeof commonjsRequire<"u"){const r=requireCryptoBrowserify();r&&r.randomBytes&&(this._crypto=r,this.isAvailable=!0,this.isInstantiated=!0)}}randomBytes(r){if(!this.isAvailable||!this._crypto)throw new Error("Node.js random byte generator is not available.");let d=this._crypto.randomBytes(r);if(d.length!==r)throw new Error("NodeRandomSource: got fewer bytes than requested");const g=new Uint8Array(r);for(let _=0;_<g.length;_++)g[_]=d[_];return(0,wipe_1.wipe)(d),g}}node.NodeRandomSource=NodeRandomSource;Object.defineProperty(system,"__esModule",{value:!0});system.SystemRandomSource=void 0;const browser_1=browser,node_1=node;class SystemRandomSource{constructor(){if(this.isAvailable=!1,this.name="",this._source=new browser_1.BrowserRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Browser";return}if(this._source=new node_1.NodeRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Node";return}}randomBytes(r){if(!this.isAvailable)throw new Error("System random byte generator is not available.");return this._source.randomBytes(r)}}system.SystemRandomSource=SystemRandomSource;(function(f){Object.defineProperty(f,"__esModule",{value:!0}),f.randomStringForEntropy=f.randomString=f.randomUint32=f.randomBytes=f.defaultRandomSource=void 0;const r=system,d=binary,g=wipe$1;f.defaultRandomSource=new r.SystemRandomSource;function _(C,b=f.defaultRandomSource){return b.randomBytes(C)}f.randomBytes=_;function v(C=f.defaultRandomSource){const b=_(4,C),E=(0,d.readUint32LE)(b);return(0,g.wipe)(b),E}f.randomUint32=v;const y="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function m(C,b=y,E=f.defaultRandomSource){if(b.length<2)throw new Error("randomString charset is too short");if(b.length>256)throw new Error("randomString charset is too long");let S="";const R=b.length,O=256-256%R;for(;C>0;){const $=_(Math.ceil(C*256/O),E);for(let I=0;I<$.length&&C>0;I++){const U=$[I];U<O&&(S+=b.charAt(U%R),C--)}(0,g.wipe)($)}return S}f.randomString=m;function w(C,b=y,E=f.defaultRandomSource){const S=Math.ceil(C/(Math.log(b.length)/Math.LN2));return m(S,b,E)}f.randomStringForEntropy=w})(random);var sha512={};(function(f){Object.defineProperty(f,"__esModule",{value:!0});var r=binary,d=wipe$1;f.DIGEST_LENGTH=64,f.BLOCK_SIZE=128;var g=function(){function m(){this.digestLength=f.DIGEST_LENGTH,this.blockSize=f.BLOCK_SIZE,this._stateHi=new Int32Array(8),this._stateLo=new Int32Array(8),this._tempHi=new Int32Array(16),this._tempLo=new Int32Array(16),this._buffer=new Uint8Array(256),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return m.prototype._initState=function(){this._stateHi[0]=1779033703,this._stateHi[1]=3144134277,this._stateHi[2]=1013904242,this._stateHi[3]=2773480762,this._stateHi[4]=1359893119,this._stateHi[5]=2600822924,this._stateHi[6]=528734635,this._stateHi[7]=1541459225,this._stateLo[0]=4089235720,this._stateLo[1]=2227873595,this._stateLo[2]=4271175723,this._stateLo[3]=1595750129,this._stateLo[4]=2917565137,this._stateLo[5]=725511199,this._stateLo[6]=4215389547,this._stateLo[7]=327033209},m.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},m.prototype.clean=function(){d.wipe(this._buffer),d.wipe(this._tempHi),d.wipe(this._tempLo),this.reset()},m.prototype.update=function(w,C){if(C===void 0&&(C=w.length),this._finished)throw new Error("SHA512: can't update because hash was finished.");var b=0;if(this._bytesHashed+=C,this._bufferLength>0){for(;this._bufferLength<f.BLOCK_SIZE&&C>0;)this._buffer[this._bufferLength++]=w[b++],C--;this._bufferLength===this.blockSize&&(v(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,this.blockSize),this._bufferLength=0)}for(C>=this.blockSize&&(b=v(this._tempHi,this._tempLo,this._stateHi,this._stateLo,w,b,C),C%=this.blockSize);C>0;)this._buffer[this._bufferLength++]=w[b++],C--;return this},m.prototype.finish=function(w){if(!this._finished){var C=this._bytesHashed,b=this._bufferLength,E=C/536870912|0,S=C<<3,R=C%128<112?128:256;this._buffer[b]=128;for(var O=b+1;O<R-8;O++)this._buffer[O]=0;r.writeUint32BE(E,this._buffer,R-8),r.writeUint32BE(S,this._buffer,R-4),v(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,R),this._finished=!0}for(var O=0;O<this.digestLength/8;O++)r.writeUint32BE(this._stateHi[O],w,O*8),r.writeUint32BE(this._stateLo[O],w,O*8+4);return this},m.prototype.digest=function(){var w=new Uint8Array(this.digestLength);return this.finish(w),w},m.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{stateHi:new Int32Array(this._stateHi),stateLo:new Int32Array(this._stateLo),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},m.prototype.restoreState=function(w){return this._stateHi.set(w.stateHi),this._stateLo.set(w.stateLo),this._bufferLength=w.bufferLength,w.buffer&&this._buffer.set(w.buffer),this._bytesHashed=w.bytesHashed,this._finished=!1,this},m.prototype.cleanSavedState=function(w){d.wipe(w.stateHi),d.wipe(w.stateLo),w.buffer&&d.wipe(w.buffer),w.bufferLength=0,w.bytesHashed=0},m}();f.SHA512=g;var _=new Int32Array([1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591]);function v(m,w,C,b,E,S,R){for(var O=C[0],$=C[1],I=C[2],U=C[3],L=C[4],j=C[5],F=C[6],X=C[7],z=b[0],Y=b[1],ne=b[2],re=b[3],se=b[4],G=b[5],T=b[6],D=b[7],x,A,B,N,q,K,P,k;R>=128;){for(var M=0;M<16;M++){var W=8*M+S;m[M]=r.readUint32BE(E,W),w[M]=r.readUint32BE(E,W+4)}for(var M=0;M<80;M++){var ce=O,be=$,ve=I,Z=U,J=L,oe=j,H=F,Q=X,ie=z,we=Y,Se=ne,De=re,Ie=se,qe=G,Ne=T,Me=D;if(x=X,A=D,q=A&65535,K=A>>>16,P=x&65535,k=x>>>16,x=(L>>>14|se<<18)^(L>>>18|se<<14)^(se>>>9|L<<23),A=(se>>>14|L<<18)^(se>>>18|L<<14)^(L>>>9|se<<23),q+=A&65535,K+=A>>>16,P+=x&65535,k+=x>>>16,x=L&j^~L&F,A=se&G^~se&T,q+=A&65535,K+=A>>>16,P+=x&65535,k+=x>>>16,x=_[M*2],A=_[M*2+1],q+=A&65535,K+=A>>>16,P+=x&65535,k+=x>>>16,x=m[M%16],A=w[M%16],q+=A&65535,K+=A>>>16,P+=x&65535,k+=x>>>16,K+=q>>>16,P+=K>>>16,k+=P>>>16,B=P&65535|k<<16,N=q&65535|K<<16,x=B,A=N,q=A&65535,K=A>>>16,P=x&65535,k=x>>>16,x=(O>>>28|z<<4)^(z>>>2|O<<30)^(z>>>7|O<<25),A=(z>>>28|O<<4)^(O>>>2|z<<30)^(O>>>7|z<<25),q+=A&65535,K+=A>>>16,P+=x&65535,k+=x>>>16,x=O&$^O&I^$&I,A=z&Y^z&ne^Y&ne,q+=A&65535,K+=A>>>16,P+=x&65535,k+=x>>>16,K+=q>>>16,P+=K>>>16,k+=P>>>16,Q=P&65535|k<<16,Me=q&65535|K<<16,x=Z,A=De,q=A&65535,K=A>>>16,P=x&65535,k=x>>>16,x=B,A=N,q+=A&65535,K+=A>>>16,P+=x&65535,k+=x>>>16,K+=q>>>16,P+=K>>>16,k+=P>>>16,Z=P&65535|k<<16,De=q&65535|K<<16,$=ce,I=be,U=ve,L=Z,j=J,F=oe,X=H,O=Q,Y=ie,ne=we,re=Se,se=De,G=Ie,T=qe,D=Ne,z=Me,M%16===15)for(var W=0;W<16;W++)x=m[W],A=w[W],q=A&65535,K=A>>>16,P=x&65535,k=x>>>16,x=m[(W+9)%16],A=w[(W+9)%16],q+=A&65535,K+=A>>>16,P+=x&65535,k+=x>>>16,B=m[(W+1)%16],N=w[(W+1)%16],x=(B>>>1|N<<31)^(B>>>8|N<<24)^B>>>7,A=(N>>>1|B<<31)^(N>>>8|B<<24)^(N>>>7|B<<25),q+=A&65535,K+=A>>>16,P+=x&65535,k+=x>>>16,B=m[(W+14)%16],N=w[(W+14)%16],x=(B>>>19|N<<13)^(N>>>29|B<<3)^B>>>6,A=(N>>>19|B<<13)^(B>>>29|N<<3)^(N>>>6|B<<26),q+=A&65535,K+=A>>>16,P+=x&65535,k+=x>>>16,K+=q>>>16,P+=K>>>16,k+=P>>>16,m[W]=P&65535|k<<16,w[W]=q&65535|K<<16}x=O,A=z,q=A&65535,K=A>>>16,P=x&65535,k=x>>>16,x=C[0],A=b[0],q+=A&65535,K+=A>>>16,P+=x&65535,k+=x>>>16,K+=q>>>16,P+=K>>>16,k+=P>>>16,C[0]=O=P&65535|k<<16,b[0]=z=q&65535|K<<16,x=$,A=Y,q=A&65535,K=A>>>16,P=x&65535,k=x>>>16,x=C[1],A=b[1],q+=A&65535,K+=A>>>16,P+=x&65535,k+=x>>>16,K+=q>>>16,P+=K>>>16,k+=P>>>16,C[1]=$=P&65535|k<<16,b[1]=Y=q&65535|K<<16,x=I,A=ne,q=A&65535,K=A>>>16,P=x&65535,k=x>>>16,x=C[2],A=b[2],q+=A&65535,K+=A>>>16,P+=x&65535,k+=x>>>16,K+=q>>>16,P+=K>>>16,k+=P>>>16,C[2]=I=P&65535|k<<16,b[2]=ne=q&65535|K<<16,x=U,A=re,q=A&65535,K=A>>>16,P=x&65535,k=x>>>16,x=C[3],A=b[3],q+=A&65535,K+=A>>>16,P+=x&65535,k+=x>>>16,K+=q>>>16,P+=K>>>16,k+=P>>>16,C[3]=U=P&65535|k<<16,b[3]=re=q&65535|K<<16,x=L,A=se,q=A&65535,K=A>>>16,P=x&65535,k=x>>>16,x=C[4],A=b[4],q+=A&65535,K+=A>>>16,P+=x&65535,k+=x>>>16,K+=q>>>16,P+=K>>>16,k+=P>>>16,C[4]=L=P&65535|k<<16,b[4]=se=q&65535|K<<16,x=j,A=G,q=A&65535,K=A>>>16,P=x&65535,k=x>>>16,x=C[5],A=b[5],q+=A&65535,K+=A>>>16,P+=x&65535,k+=x>>>16,K+=q>>>16,P+=K>>>16,k+=P>>>16,C[5]=j=P&65535|k<<16,b[5]=G=q&65535|K<<16,x=F,A=T,q=A&65535,K=A>>>16,P=x&65535,k=x>>>16,x=C[6],A=b[6],q+=A&65535,K+=A>>>16,P+=x&65535,k+=x>>>16,K+=q>>>16,P+=K>>>16,k+=P>>>16,C[6]=F=P&65535|k<<16,b[6]=T=q&65535|K<<16,x=X,A=D,q=A&65535,K=A>>>16,P=x&65535,k=x>>>16,x=C[7],A=b[7],q+=A&65535,K+=A>>>16,P+=x&65535,k+=x>>>16,K+=q>>>16,P+=K>>>16,k+=P>>>16,C[7]=X=P&65535|k<<16,b[7]=D=q&65535|K<<16,S+=128,R-=128}return S}function y(m){var w=new g;w.update(m);var C=w.digest();return w.clean(),C}f.hash=y})(sha512);(function(f){Object.defineProperty(f,"__esModule",{value:!0}),f.convertSecretKeyToX25519=f.convertPublicKeyToX25519=f.verify=f.sign=f.extractPublicKeyFromSecretKey=f.generateKeyPair=f.generateKeyPairFromSeed=f.SEED_LENGTH=f.SECRET_KEY_LENGTH=f.PUBLIC_KEY_LENGTH=f.SIGNATURE_LENGTH=void 0;const r=random,d=sha512,g=wipe$1;f.SIGNATURE_LENGTH=64,f.PUBLIC_KEY_LENGTH=32,f.SECRET_KEY_LENGTH=64,f.SEED_LENGTH=32;function _(Z){const J=new Float64Array(16);if(Z)for(let oe=0;oe<Z.length;oe++)J[oe]=Z[oe];return J}const v=new Uint8Array(32);v[0]=9;const y=_(),m=_([1]),w=_([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),C=_([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),b=_([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),E=_([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),S=_([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function R(Z,J){for(let oe=0;oe<16;oe++)Z[oe]=J[oe]|0}function O(Z){let J=1;for(let oe=0;oe<16;oe++){let H=Z[oe]+J+65535;J=Math.floor(H/65536),Z[oe]=H-J*65536}Z[0]+=J-1+37*(J-1)}function $(Z,J,oe){const H=~(oe-1);for(let Q=0;Q<16;Q++){const ie=H&(Z[Q]^J[Q]);Z[Q]^=ie,J[Q]^=ie}}function I(Z,J){const oe=_(),H=_();for(let Q=0;Q<16;Q++)H[Q]=J[Q];O(H),O(H),O(H);for(let Q=0;Q<2;Q++){oe[0]=H[0]-65517;for(let we=1;we<15;we++)oe[we]=H[we]-65535-(oe[we-1]>>16&1),oe[we-1]&=65535;oe[15]=H[15]-32767-(oe[14]>>16&1);const ie=oe[15]>>16&1;oe[14]&=65535,$(H,oe,1-ie)}for(let Q=0;Q<16;Q++)Z[2*Q]=H[Q]&255,Z[2*Q+1]=H[Q]>>8}function U(Z,J){let oe=0;for(let H=0;H<32;H++)oe|=Z[H]^J[H];return(1&oe-1>>>8)-1}function L(Z,J){const oe=new Uint8Array(32),H=new Uint8Array(32);return I(oe,Z),I(H,J),U(oe,H)}function j(Z){const J=new Uint8Array(32);return I(J,Z),J[0]&1}function F(Z,J){for(let oe=0;oe<16;oe++)Z[oe]=J[2*oe]+(J[2*oe+1]<<8);Z[15]&=32767}function X(Z,J,oe){for(let H=0;H<16;H++)Z[H]=J[H]+oe[H]}function z(Z,J,oe){for(let H=0;H<16;H++)Z[H]=J[H]-oe[H]}function Y(Z,J,oe){let H,Q,ie=0,we=0,Se=0,De=0,Ie=0,qe=0,Ne=0,Me=0,Ve=0,Ke=0,ot=0,Je=0,We=0,it=0,Fe=0,Le=0,Qe=0,rt=0,ue=0,ee=0,te=0,de=0,xe=0,Re=0,Te=0,dt=0,ut=0,et=0,wt=0,ht=0,_t=0,It=oe[0],bt=oe[1],at=oe[2],Bt=oe[3],xt=oe[4],st=oe[5],Nt=oe[6],Ct=oe[7],nt=oe[8],At=oe[9],ae=oe[10],le=oe[11],he=oe[12],V=oe[13],pe=oe[14],Ae=oe[15];H=J[0],ie+=H*It,we+=H*bt,Se+=H*at,De+=H*Bt,Ie+=H*xt,qe+=H*st,Ne+=H*Nt,Me+=H*Ct,Ve+=H*nt,Ke+=H*At,ot+=H*ae,Je+=H*le,We+=H*he,it+=H*V,Fe+=H*pe,Le+=H*Ae,H=J[1],we+=H*It,Se+=H*bt,De+=H*at,Ie+=H*Bt,qe+=H*xt,Ne+=H*st,Me+=H*Nt,Ve+=H*Ct,Ke+=H*nt,ot+=H*At,Je+=H*ae,We+=H*le,it+=H*he,Fe+=H*V,Le+=H*pe,Qe+=H*Ae,H=J[2],Se+=H*It,De+=H*bt,Ie+=H*at,qe+=H*Bt,Ne+=H*xt,Me+=H*st,Ve+=H*Nt,Ke+=H*Ct,ot+=H*nt,Je+=H*At,We+=H*ae,it+=H*le,Fe+=H*he,Le+=H*V,Qe+=H*pe,rt+=H*Ae,H=J[3],De+=H*It,Ie+=H*bt,qe+=H*at,Ne+=H*Bt,Me+=H*xt,Ve+=H*st,Ke+=H*Nt,ot+=H*Ct,Je+=H*nt,We+=H*At,it+=H*ae,Fe+=H*le,Le+=H*he,Qe+=H*V,rt+=H*pe,ue+=H*Ae,H=J[4],Ie+=H*It,qe+=H*bt,Ne+=H*at,Me+=H*Bt,Ve+=H*xt,Ke+=H*st,ot+=H*Nt,Je+=H*Ct,We+=H*nt,it+=H*At,Fe+=H*ae,Le+=H*le,Qe+=H*he,rt+=H*V,ue+=H*pe,ee+=H*Ae,H=J[5],qe+=H*It,Ne+=H*bt,Me+=H*at,Ve+=H*Bt,Ke+=H*xt,ot+=H*st,Je+=H*Nt,We+=H*Ct,it+=H*nt,Fe+=H*At,Le+=H*ae,Qe+=H*le,rt+=H*he,ue+=H*V,ee+=H*pe,te+=H*Ae,H=J[6],Ne+=H*It,Me+=H*bt,Ve+=H*at,Ke+=H*Bt,ot+=H*xt,Je+=H*st,We+=H*Nt,it+=H*Ct,Fe+=H*nt,Le+=H*At,Qe+=H*ae,rt+=H*le,ue+=H*he,ee+=H*V,te+=H*pe,de+=H*Ae,H=J[7],Me+=H*It,Ve+=H*bt,Ke+=H*at,ot+=H*Bt,Je+=H*xt,We+=H*st,it+=H*Nt,Fe+=H*Ct,Le+=H*nt,Qe+=H*At,rt+=H*ae,ue+=H*le,ee+=H*he,te+=H*V,de+=H*pe,xe+=H*Ae,H=J[8],Ve+=H*It,Ke+=H*bt,ot+=H*at,Je+=H*Bt,We+=H*xt,it+=H*st,Fe+=H*Nt,Le+=H*Ct,Qe+=H*nt,rt+=H*At,ue+=H*ae,ee+=H*le,te+=H*he,de+=H*V,xe+=H*pe,Re+=H*Ae,H=J[9],Ke+=H*It,ot+=H*bt,Je+=H*at,We+=H*Bt,it+=H*xt,Fe+=H*st,Le+=H*Nt,Qe+=H*Ct,rt+=H*nt,ue+=H*At,ee+=H*ae,te+=H*le,de+=H*he,xe+=H*V,Re+=H*pe,Te+=H*Ae,H=J[10],ot+=H*It,Je+=H*bt,We+=H*at,it+=H*Bt,Fe+=H*xt,Le+=H*st,Qe+=H*Nt,rt+=H*Ct,ue+=H*nt,ee+=H*At,te+=H*ae,de+=H*le,xe+=H*he,Re+=H*V,Te+=H*pe,dt+=H*Ae,H=J[11],Je+=H*It,We+=H*bt,it+=H*at,Fe+=H*Bt,Le+=H*xt,Qe+=H*st,rt+=H*Nt,ue+=H*Ct,ee+=H*nt,te+=H*At,de+=H*ae,xe+=H*le,Re+=H*he,Te+=H*V,dt+=H*pe,ut+=H*Ae,H=J[12],We+=H*It,it+=H*bt,Fe+=H*at,Le+=H*Bt,Qe+=H*xt,rt+=H*st,ue+=H*Nt,ee+=H*Ct,te+=H*nt,de+=H*At,xe+=H*ae,Re+=H*le,Te+=H*he,dt+=H*V,ut+=H*pe,et+=H*Ae,H=J[13],it+=H*It,Fe+=H*bt,Le+=H*at,Qe+=H*Bt,rt+=H*xt,ue+=H*st,ee+=H*Nt,te+=H*Ct,de+=H*nt,xe+=H*At,Re+=H*ae,Te+=H*le,dt+=H*he,ut+=H*V,et+=H*pe,wt+=H*Ae,H=J[14],Fe+=H*It,Le+=H*bt,Qe+=H*at,rt+=H*Bt,ue+=H*xt,ee+=H*st,te+=H*Nt,de+=H*Ct,xe+=H*nt,Re+=H*At,Te+=H*ae,dt+=H*le,ut+=H*he,et+=H*V,wt+=H*pe,ht+=H*Ae,H=J[15],Le+=H*It,Qe+=H*bt,rt+=H*at,ue+=H*Bt,ee+=H*xt,te+=H*st,de+=H*Nt,xe+=H*Ct,Re+=H*nt,Te+=H*At,dt+=H*ae,ut+=H*le,et+=H*he,wt+=H*V,ht+=H*pe,_t+=H*Ae,ie+=38*Qe,we+=38*rt,Se+=38*ue,De+=38*ee,Ie+=38*te,qe+=38*de,Ne+=38*xe,Me+=38*Re,Ve+=38*Te,Ke+=38*dt,ot+=38*ut,Je+=38*et,We+=38*wt,it+=38*ht,Fe+=38*_t,Q=1,H=ie+Q+65535,Q=Math.floor(H/65536),ie=H-Q*65536,H=we+Q+65535,Q=Math.floor(H/65536),we=H-Q*65536,H=Se+Q+65535,Q=Math.floor(H/65536),Se=H-Q*65536,H=De+Q+65535,Q=Math.floor(H/65536),De=H-Q*65536,H=Ie+Q+65535,Q=Math.floor(H/65536),Ie=H-Q*65536,H=qe+Q+65535,Q=Math.floor(H/65536),qe=H-Q*65536,H=Ne+Q+65535,Q=Math.floor(H/65536),Ne=H-Q*65536,H=Me+Q+65535,Q=Math.floor(H/65536),Me=H-Q*65536,H=Ve+Q+65535,Q=Math.floor(H/65536),Ve=H-Q*65536,H=Ke+Q+65535,Q=Math.floor(H/65536),Ke=H-Q*65536,H=ot+Q+65535,Q=Math.floor(H/65536),ot=H-Q*65536,H=Je+Q+65535,Q=Math.floor(H/65536),Je=H-Q*65536,H=We+Q+65535,Q=Math.floor(H/65536),We=H-Q*65536,H=it+Q+65535,Q=Math.floor(H/65536),it=H-Q*65536,H=Fe+Q+65535,Q=Math.floor(H/65536),Fe=H-Q*65536,H=Le+Q+65535,Q=Math.floor(H/65536),Le=H-Q*65536,ie+=Q-1+37*(Q-1),Q=1,H=ie+Q+65535,Q=Math.floor(H/65536),ie=H-Q*65536,H=we+Q+65535,Q=Math.floor(H/65536),we=H-Q*65536,H=Se+Q+65535,Q=Math.floor(H/65536),Se=H-Q*65536,H=De+Q+65535,Q=Math.floor(H/65536),De=H-Q*65536,H=Ie+Q+65535,Q=Math.floor(H/65536),Ie=H-Q*65536,H=qe+Q+65535,Q=Math.floor(H/65536),qe=H-Q*65536,H=Ne+Q+65535,Q=Math.floor(H/65536),Ne=H-Q*65536,H=Me+Q+65535,Q=Math.floor(H/65536),Me=H-Q*65536,H=Ve+Q+65535,Q=Math.floor(H/65536),Ve=H-Q*65536,H=Ke+Q+65535,Q=Math.floor(H/65536),Ke=H-Q*65536,H=ot+Q+65535,Q=Math.floor(H/65536),ot=H-Q*65536,H=Je+Q+65535,Q=Math.floor(H/65536),Je=H-Q*65536,H=We+Q+65535,Q=Math.floor(H/65536),We=H-Q*65536,H=it+Q+65535,Q=Math.floor(H/65536),it=H-Q*65536,H=Fe+Q+65535,Q=Math.floor(H/65536),Fe=H-Q*65536,H=Le+Q+65535,Q=Math.floor(H/65536),Le=H-Q*65536,ie+=Q-1+37*(Q-1),Z[0]=ie,Z[1]=we,Z[2]=Se,Z[3]=De,Z[4]=Ie,Z[5]=qe,Z[6]=Ne,Z[7]=Me,Z[8]=Ve,Z[9]=Ke,Z[10]=ot,Z[11]=Je,Z[12]=We,Z[13]=it,Z[14]=Fe,Z[15]=Le}function ne(Z,J){Y(Z,J,J)}function re(Z,J){const oe=_();let H;for(H=0;H<16;H++)oe[H]=J[H];for(H=253;H>=0;H--)ne(oe,oe),H!==2&&H!==4&&Y(oe,oe,J);for(H=0;H<16;H++)Z[H]=oe[H]}function se(Z,J){const oe=_();let H;for(H=0;H<16;H++)oe[H]=J[H];for(H=250;H>=0;H--)ne(oe,oe),H!==1&&Y(oe,oe,J);for(H=0;H<16;H++)Z[H]=oe[H]}function G(Z,J){const oe=_(),H=_(),Q=_(),ie=_(),we=_(),Se=_(),De=_(),Ie=_(),qe=_();z(oe,Z[1],Z[0]),z(qe,J[1],J[0]),Y(oe,oe,qe),X(H,Z[0],Z[1]),X(qe,J[0],J[1]),Y(H,H,qe),Y(Q,Z[3],J[3]),Y(Q,Q,C),Y(ie,Z[2],J[2]),X(ie,ie,ie),z(we,H,oe),z(Se,ie,Q),X(De,ie,Q),X(Ie,H,oe),Y(Z[0],we,Se),Y(Z[1],Ie,De),Y(Z[2],De,Se),Y(Z[3],we,Ie)}function T(Z,J,oe){for(let H=0;H<4;H++)$(Z[H],J[H],oe)}function D(Z,J){const oe=_(),H=_(),Q=_();re(Q,J[2]),Y(oe,J[0],Q),Y(H,J[1],Q),I(Z,H),Z[31]^=j(oe)<<7}function x(Z,J,oe){R(Z[0],y),R(Z[1],m),R(Z[2],m),R(Z[3],y);for(let H=255;H>=0;--H){const Q=oe[H/8|0]>>(H&7)&1;T(Z,J,Q),G(J,Z),G(Z,Z),T(Z,J,Q)}}function A(Z,J){const oe=[_(),_(),_(),_()];R(oe[0],b),R(oe[1],E),R(oe[2],m),Y(oe[3],b,E),x(Z,oe,J)}function B(Z){if(Z.length!==f.SEED_LENGTH)throw new Error(`ed25519: seed must be ${f.SEED_LENGTH} bytes`);const J=(0,d.hash)(Z);J[0]&=248,J[31]&=127,J[31]|=64;const oe=new Uint8Array(32),H=[_(),_(),_(),_()];A(H,J),D(oe,H);const Q=new Uint8Array(64);return Q.set(Z),Q.set(oe,32),{publicKey:oe,secretKey:Q}}f.generateKeyPairFromSeed=B;function N(Z){const J=(0,r.randomBytes)(32,Z),oe=B(J);return(0,g.wipe)(J),oe}f.generateKeyPair=N;function q(Z){if(Z.length!==f.SECRET_KEY_LENGTH)throw new Error(`ed25519: secret key must be ${f.SECRET_KEY_LENGTH} bytes`);return new Uint8Array(Z.subarray(32))}f.extractPublicKeyFromSecretKey=q;const K=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function P(Z,J){let oe,H,Q,ie;for(H=63;H>=32;--H){for(oe=0,Q=H-32,ie=H-12;Q<ie;++Q)J[Q]+=oe-16*J[H]*K[Q-(H-32)],oe=Math.floor((J[Q]+128)/256),J[Q]-=oe*256;J[Q]+=oe,J[H]=0}for(oe=0,Q=0;Q<32;Q++)J[Q]+=oe-(J[31]>>4)*K[Q],oe=J[Q]>>8,J[Q]&=255;for(Q=0;Q<32;Q++)J[Q]-=oe*K[Q];for(H=0;H<32;H++)J[H+1]+=J[H]>>8,Z[H]=J[H]&255}function k(Z){const J=new Float64Array(64);for(let oe=0;oe<64;oe++)J[oe]=Z[oe];for(let oe=0;oe<64;oe++)Z[oe]=0;P(Z,J)}function M(Z,J){const oe=new Float64Array(64),H=[_(),_(),_(),_()],Q=(0,d.hash)(Z.subarray(0,32));Q[0]&=248,Q[31]&=127,Q[31]|=64;const ie=new Uint8Array(64);ie.set(Q.subarray(32),32);const we=new d.SHA512;we.update(ie.subarray(32)),we.update(J);const Se=we.digest();we.clean(),k(Se),A(H,Se),D(ie,H),we.reset(),we.update(ie.subarray(0,32)),we.update(Z.subarray(32)),we.update(J);const De=we.digest();k(De);for(let Ie=0;Ie<32;Ie++)oe[Ie]=Se[Ie];for(let Ie=0;Ie<32;Ie++)for(let qe=0;qe<32;qe++)oe[Ie+qe]+=De[Ie]*Q[qe];return P(ie.subarray(32),oe),ie}f.sign=M;function W(Z,J){const oe=_(),H=_(),Q=_(),ie=_(),we=_(),Se=_(),De=_();return R(Z[2],m),F(Z[1],J),ne(Q,Z[1]),Y(ie,Q,w),z(Q,Q,Z[2]),X(ie,Z[2],ie),ne(we,ie),ne(Se,we),Y(De,Se,we),Y(oe,De,Q),Y(oe,oe,ie),se(oe,oe),Y(oe,oe,Q),Y(oe,oe,ie),Y(oe,oe,ie),Y(Z[0],oe,ie),ne(H,Z[0]),Y(H,H,ie),L(H,Q)&&Y(Z[0],Z[0],S),ne(H,Z[0]),Y(H,H,ie),L(H,Q)?-1:(j(Z[0])===J[31]>>7&&z(Z[0],y,Z[0]),Y(Z[3],Z[0],Z[1]),0)}function ce(Z,J,oe){const H=new Uint8Array(32),Q=[_(),_(),_(),_()],ie=[_(),_(),_(),_()];if(oe.length!==f.SIGNATURE_LENGTH)throw new Error(`ed25519: signature must be ${f.SIGNATURE_LENGTH} bytes`);if(W(ie,Z))return!1;const we=new d.SHA512;we.update(oe.subarray(0,32)),we.update(Z),we.update(J);const Se=we.digest();return k(Se),x(Q,ie,Se),A(ie,oe.subarray(32)),G(Q,ie),D(H,Q),!U(oe,H)}f.verify=ce;function be(Z){let J=[_(),_(),_(),_()];if(W(J,Z))throw new Error("Ed25519: invalid public key");let oe=_(),H=_(),Q=J[1];X(oe,m,Q),z(H,m,Q),re(H,H),Y(oe,oe,H);let ie=new Uint8Array(32);return I(ie,oe),ie}f.convertPublicKeyToX25519=be;function ve(Z){const J=(0,d.hash)(Z.subarray(0,32));J[0]&=248,J[31]&=127,J[31]|=64;const oe=new Uint8Array(J.subarray(0,32));return(0,g.wipe)(J),oe}f.convertSecretKeyToX25519=ve})(ed25519);(function(f){var r=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(re,se,G,T){T===void 0&&(T=G);var D=Object.getOwnPropertyDescriptor(se,G);(!D||("get"in D?!se.__esModule:D.writable||D.configurable))&&(D={enumerable:!0,get:function(){return se[G]}}),Object.defineProperty(re,T,D)}:function(re,se,G,T){T===void 0&&(T=G),re[T]=se[G]}),d=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(re,se){Object.defineProperty(re,"default",{enumerable:!0,value:se})}:function(re,se){re.default=se}),g=commonjsGlobal&&commonjsGlobal.__importStar||function(){var re=function(se){return re=Object.getOwnPropertyNames||function(G){var T=[];for(var D in G)Object.prototype.hasOwnProperty.call(G,D)&&(T[T.length]=D);return T},re(se)};return function(se){if(se&&se.__esModule)return se;var G={};if(se!=null)for(var T=re(se),D=0;D<T.length;D++)T[D]!=="default"&&r(G,se,T[D]);return d(G,se),G}}(),_=commonjsGlobal&&commonjsGlobal.__awaiter||function(re,se,G,T){function D(x){return x instanceof G?x:new G(function(A){A(x)})}return new(G||(G=Promise))(function(x,A){function B(K){try{q(T.next(K))}catch(P){A(P)}}function N(K){try{q(T.throw(K))}catch(P){A(P)}}function q(K){K.done?x(K.value):D(K.value).then(B,N)}q((T=T.apply(re,se||[])).next())})},v=commonjsGlobal&&commonjsGlobal.__importDefault||function(re){return re&&re.__esModule?re:{default:re}};Object.defineProperty(f,"__esModule",{value:!0}),f.MULTICODEC_ED25519_LENGTH=f.MULTICODEC_ED25519_HEADER=f.MULTICODEC_ED25519_BASE=f.MULTICODEC_ED25519_ENCODING=f.DID_METHOD=f.DID_PREFIX=f.DID_DELIMITER=f.KEY_PAIR_SEED_LENGTH=f.DATA_ENCODING=f.JSON_ENCODING=f.JWT_ENCODING=f.JWT_DELIMITER=f.JWT_IRIDIUM_TYP=f.JWT_IRIDIUM_ALG=f.JWTHeaderType=void 0,f.generateKeyPair=S,f.decodeJSON=R,f.encodeJSON=O,f.encodeIss=$,f.decodeIss=I,f.encodeSig=U,f.decodeSig=L,f.encodeData=j,f.decodeData=F,f.encodeJWT=X,f.decodeJWT=z,f.signJWT=Y,f.verifyJWT=ne;const y=g(ed25519),m=requireSafejson(),w=requireUtils(),C=v(naclFastExports),b=g(requireLog()),E=requireStringUtils();f.JWTHeaderType="dapp",f.JWT_IRIDIUM_ALG="EdDSA",f.JWT_IRIDIUM_TYP="JWT",f.JWT_DELIMITER=".",f.JWT_ENCODING="base64url",f.JSON_ENCODING="utf8",f.DATA_ENCODING="utf8",f.KEY_PAIR_SEED_LENGTH=32,f.DID_DELIMITER=":",f.DID_PREFIX="did",f.DID_METHOD="key",f.MULTICODEC_ED25519_ENCODING="base58btc",f.MULTICODEC_ED25519_BASE="z",f.MULTICODEC_ED25519_HEADER="K36",f.MULTICODEC_ED25519_LENGTH=32;function S(){return C.default.sign.keyPair()}function R(re){return(0,m.safeJsonParse)((0,E.okxtoString)((0,E.okxfromString)(re,f.JWT_ENCODING),f.JSON_ENCODING))}function O(re){return(0,E.okxtoString)((0,E.okxfromString)((0,m.safeJsonStringify)(re),f.JSON_ENCODING),f.JWT_ENCODING)}function $(re){b.logDebug(`publicKey: ${(0,w.toHexString)(re)}`);var se=(0,E.okxtoString)(re,f.MULTICODEC_ED25519_ENCODING);return[f.DID_PREFIX,f.DID_METHOD,se].join(f.DID_DELIMITER)}function I(re){const[se,G,T]=re.split(f.DID_DELIMITER);if(se!==f.DID_PREFIX||G!==f.DID_METHOD)throw new Error('Issuer must be a DID with method "key"');if(T===void 0)throw new Error("multicodec is undefined");const D=(0,E.okxfromString)(T,f.MULTICODEC_ED25519_ENCODING);if(D===void 0||D.length!==f.MULTICODEC_ED25519_LENGTH)throw new Error("Issuer must be a public key with length 32 bytes");return D}function U(re){return(0,E.okxtoString)(re,f.JWT_ENCODING)}function L(re){return(0,E.okxfromString)(re,f.JWT_ENCODING)}function j(re){return(0,E.okxfromString)([O(re.header),O(re.payload)].join(f.JWT_DELIMITER),f.DATA_ENCODING)}function F(re){var se,G;const T=(0,E.okxtoString)(re,f.DATA_ENCODING).split(f.JWT_DELIMITER),D=R((se=T[0])!==null&&se!==void 0?se:"{}"),x=R((G=T[1])!==null&&G!==void 0?G:"{}");return{header:D,payload:x}}function X(re){return[O(re.header),O(re.payload),U(re.signature)].join(f.JWT_DELIMITER)}function z(re){var se,G,T;const D=re.split(f.JWT_DELIMITER),x=R((se=D[0])!==null&&se!==void 0?se:"{}"),A=R((G=D[1])!==null&&G!==void 0?G:"{}"),B=L((T=D[2])!==null&&T!==void 0?T:"{}"),N=(0,E.okxfromString)(D.slice(0,2).join(f.JWT_DELIMITER),f.DATA_ENCODING);return{header:x,payload:A,signature:B,data:N}}function Y(re,se,G,T){return _(this,arguments,void 0,function*(D,x,A,B,N=Math.floor(Date.now())){const q={alg:f.JWT_IRIDIUM_ALG,typ:f.JWT_IRIDIUM_TYP},K=$(B.publicKey),P=N+A,M={iss:K,sub:D,aud:x,act:"authenticate user",iat:N,exp:P},W=j({header:q,payload:M});b.logDebug(`get sec kp: ${B.secretKey} {${B.secretKey.length}}`);const ce=C.default.sign.detached(W,B.secretKey);return X({header:q,payload:M,signature:ce})})}function ne(re){return _(this,void 0,void 0,function*(){const{header:se,payload:G,data:T,signature:D}=z(re);if(se.alg!==f.JWT_IRIDIUM_ALG||se.typ!==f.JWT_IRIDIUM_TYP)throw new Error("JWT must use EdDSA algorithm");const x=I(G.iss);return y.verify(x,T,D)})}})(jwt);var connectionSplitPackages={},__createBinding$2=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(f,r,d,g){g===void 0&&(g=d);var _=Object.getOwnPropertyDescriptor(r,d);(!_||("get"in _?!r.__esModule:_.writable||_.configurable))&&(_={enumerable:!0,get:function(){return r[d]}}),Object.defineProperty(f,g,_)}:function(f,r,d,g){g===void 0&&(g=d),f[g]=r[d]}),__setModuleDefault$2=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(f,r){Object.defineProperty(f,"default",{enumerable:!0,value:r})}:function(f,r){f.default=r}),__importStar$2=commonjsGlobal&&commonjsGlobal.__importStar||function(){var f=function(r){return f=Object.getOwnPropertyNames||function(d){var g=[];for(var _ in d)Object.prototype.hasOwnProperty.call(d,_)&&(g[g.length]=_);return g},f(r)};return function(r){if(r&&r.__esModule)return r;var d={};if(r!=null)for(var g=f(r),_=0;_<g.length;_++)g[_]!=="default"&&__createBinding$2(d,r,g[_]);return __setModuleDefault$2(d,r),d}}(),__awaiter$w=commonjsGlobal&&commonjsGlobal.__awaiter||function(f,r,d,g){function _(v){return v instanceof d?v:new d(function(y){y(v)})}return new(d||(d=Promise))(function(v,y){function m(b){try{C(g.next(b))}catch(E){y(E)}}function w(b){try{C(g.throw(b))}catch(E){y(E)}}function C(b){b.done?v(b.value):_(b.value).then(m,w)}C((g=g.apply(f,r||[])).next())})},__importDefault$3=commonjsGlobal&&commonjsGlobal.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(connectionSplitPackages,"__esModule",{value:!0});connectionSplitPackages.ConnectionSplitPackages=void 0;const storageconstants_1$2=storageconstants,localforage_1=__importDefault$3(localforageExports),utils_1$l=requireUtils(),safejson_1$3=requireSafejson(),log$2=__importStar$2(requireLog()),log_1$4=requireLog(),ConnectionSplitSupportedVersionLimit=2,ConnectionSplitSupportedSizeLimit=63e3,ConnectionReceiveKey="ConnectionReceiveKey",ConnectionSendKey="ConnectionSendKey",ConnectionTopicVersionKey="ConnectionSenderVersionKey";class ConnectionSplitPackages{constructor(r){this.splitMessageSendArray=new Map,this.splitMessageReceivedArray=new Map,this.splitMessageSenderVersionMap=new Map,this.splitPackageCache=localforage_1.default.createInstance({name:storageconstants_1$2.OKXCONNECTOR_STORAGE_PROTOCOL_CACHE+r})}init(r){return __awaiter$w(this,void 0,void 0,function*(){if(yield this.recoverFromCache(),this.splitMessageSendArray.size>0){for(const[d,g]of this.splitMessageSendArray.entries())for(let _=0;_<g.length;){const v=g[_];try{yield r((0,safejson_1$3.safeJsonStringify)(v),d),log$2.logDebug(`Successfully sent payload: ${(0,safejson_1$3.safeJsonStringify)(v)} to topic: ${d}`),g.splice(_,1)}catch(y){log$2.logError(`Failed to send payload: ${(0,safejson_1$3.safeJsonStringify)(v)} to topic: ${d}`,y),v.retryCount=(v.retryCount||0)+1,v.retryCount>3?(log$2.logError(`Payload failed after 3 retries: ${(0,safejson_1$3.safeJsonStringify)(v)}`),g.splice(_,1)):_++}}yield this.syncCache()}})}tryParseMessageSplitPayload(r){var d;let g;try{if(r.trimStart().startsWith("{")){let _=(0,safejson_1$3.safeJsonParse)(r);if(_&&_.protocol_version&&_.protocol_version>=2){let v=_;v.package_group_id&&((d=v.package_group_id)===null||d===void 0?void 0:d.length)>0&&(g=_)}}else(0,log_1$4.logDebug)("not split packages")}catch{(0,log_1$4.logDebug)("not split packages")}return g}updateTopicSenderVersion(r,d){return __awaiter$w(this,void 0,void 0,function*(){this.splitMessageSenderVersionMap.set(r,d),yield this.syncCache(),(0,log_1$4.logDebug)("get update topic sender version: ",r,d)})}sendSplitPackages(r,d,g,_){return __awaiter$w(this,void 0,void 0,function*(){if(!r){log$2.logError("sendSplitPackages invalid topic");return}let v=this.splitMessageSenderVersionMap.get(r),y=d.length;try{if(y<ConnectionSplitSupportedSizeLimit)throw new Error(`no need to split (size:${y})`);if(!v||v&&v<ConnectionSplitSupportedVersionLimit)throw new Error(`version not support split (version: ${v})`);const m=[];let w=ConnectionSplitSupportedSizeLimit;for(let E=0;E<d.length;E+=w)E+w<d.length?m.push(d.slice(E,E+w)):m.push(d.slice(E));let C=(0,utils_1$l.generateGroupId)(),b=m.map((E,S)=>({topicId:r,protocol_version:ConnectionSplitSupportedVersionLimit,total_count:m.length,package_index:S,package_group_id:C,content:E}));this.mergePackageArray(!0,b);for(let E=0;E<b.length;){const S=b[E],R=(0,safejson_1$3.safeJsonStringify)(S);try{yield _(R,r),log$2.logDebug(`Successfully sent payload: ${R} to topic: ${r}`),b.splice(E,1)}catch(O){log$2.logError(`Failed to send payload: ${R} to topic: ${r}`,O),S.retryCount=(S.retryCount||0)+1,S.retryCount>3?(log$2.logError(`Payload failed after 3 retries: ${R}`),b.splice(E,1)):E++}}this.splitMessageSendArray.set(r,[]),yield this.syncCache()}catch(m){(0,log_1$4.logDebug)("send split packages no split"),(0,log_1$4.logDebug)(m),yield g(r,d)}})}onReceivedPackageCheck(r){return __awaiter$w(this,void 0,void 0,function*(){this.mergePackageArray(!1,[r]);let d=new Map,g=r.topicId;this.splitMessageReceivedArray.forEach((v,y)=>{y==r.topicId&&v.forEach(m=>{if(m.messageObject.package_group_id){let w=d.get(m.messageObject.package_group_id);w||(w=new Array),w.push(m),d.set(m.messageObject.package_group_id,w)}})}),(0,log_1$4.logDebug)("on received message, check message cache");let _={isSplitPackage:!1};if(r.messageObject.package_group_id){_.isSplitPackage=!0;let v=d.get(r.messageObject.package_group_id);if(v!=null&&v.length){let y=new Set;if(v.forEach(m=>{m.messageObject.package_index!==void 0&&y.add(m.messageObject.package_index)}),y.size==r.messageObject.total_count){v.sort((b,E)=>(b.messageObject.package_index||b.messageObject.package_index===0)&&(E.messageObject.package_index||E.messageObject.package_index===0)?b.messageObject.package_index-E.messageObject.package_index:0);let m=v.reduce((b,E)=>(b.push(E.messageObject.content),b),[]),w=v.reduce((b,E)=>(b.push(E.messageId),b),[]);_.isSplitPackage=!0,_.finalMessage=m.join(""),_.completeMessageIdList=w;let C=this.splitMessageReceivedArray.get(g);C&&(C=C.filter(b=>!w.includes(b.messageId)),this.splitMessageReceivedArray.set(g,C)),yield this.syncCache()}}}return _})}mergePackageArray(r,d){return __awaiter$w(this,void 0,void 0,function*(){if((0,log_1$4.logDebug)("append sending array"),r){let _=d.filter(v=>{let y=v.topicId,m=!0,w=this.splitMessageSendArray.get(y);return w==null||w.forEach(C=>{C.package_group_id==v.package_group_id&&C.total_count==v.total_count&&C.package_index==v.package_index&&(m=!1)}),m});if(_.length>0){let v=_[0].topicId,y=this.splitMessageSendArray.get(v);y||(y=new Array),y=y.concat(_),this.splitMessageSendArray.set(v,y),(0,log_1$4.logDebug)("append sending array (after filted): ",y)}}else{let _=d.filter(v=>{let y=v.topicId,m=!0,w=this.splitMessageReceivedArray.get(y);return w==null||w.forEach(C=>{C.messageId==v.messageId&&(m=!1)}),m});if(_.length>0){let v=_[0].topicId,y=this.splitMessageReceivedArray.get(v);y||(y=new Array),y=y.concat(_),this.splitMessageReceivedArray.set(v,y),(0,log_1$4.logDebug)("append received array (after filted): ",y)}}})}syncCache(){return __awaiter$w(this,void 0,void 0,function*(){(0,log_1$4.logDebug)("sync split message cache"),yield this.splitPackageCache.setItem(ConnectionReceiveKey,this.splitMessageReceivedArray),yield this.splitPackageCache.setItem(ConnectionSendKey,this.splitMessageSendArray),yield this.splitPackageCache.setItem(ConnectionTopicVersionKey,this.splitMessageSenderVersionMap)})}recoverFromCache(){return __awaiter$w(this,void 0,void 0,function*(){let r=yield this.splitPackageCache.getItem(ConnectionReceiveKey);r?this.splitMessageReceivedArray=r:this.splitMessageReceivedArray=new Map;let d=yield this.splitPackageCache.getItem(ConnectionSendKey);d?this.splitMessageSendArray=d:this.splitMessageSendArray=new Map;let g=yield this.splitPackageCache.getItem(ConnectionTopicVersionKey);g?this.splitMessageSenderVersionMap=g:this.splitMessageSenderVersionMap=new Map})}}connectionSplitPackages.ConnectionSplitPackages=ConnectionSplitPackages;var __createBinding$1=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(f,r,d,g){g===void 0&&(g=d);var _=Object.getOwnPropertyDescriptor(r,d);(!_||("get"in _?!r.__esModule:_.writable||_.configurable))&&(_={enumerable:!0,get:function(){return r[d]}}),Object.defineProperty(f,g,_)}:function(f,r,d,g){g===void 0&&(g=d),f[g]=r[d]}),__setModuleDefault$1=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(f,r){Object.defineProperty(f,"default",{enumerable:!0,value:r})}:function(f,r){f.default=r}),__importStar$1=commonjsGlobal&&commonjsGlobal.__importStar||function(){var f=function(r){return f=Object.getOwnPropertyNames||function(d){var g=[];for(var _ in d)Object.prototype.hasOwnProperty.call(d,_)&&(g[g.length]=_);return g},f(r)};return function(r){if(r&&r.__esModule)return r;var d={};if(r!=null)for(var g=f(r),_=0;_<g.length;_++)g[_]!=="default"&&__createBinding$1(d,r,g[_]);return __setModuleDefault$1(d,r),d}}(),__awaiter$v=commonjsGlobal&&commonjsGlobal.__awaiter||function(f,r,d,g){function _(v){return v instanceof d?v:new d(function(y){y(v)})}return new(d||(d=Promise))(function(v,y){function m(b){try{C(g.next(b))}catch(E){y(E)}}function w(b){try{C(g.throw(b))}catch(E){y(E)}}function C(b){b.done?v(b.value):_(b.value).then(m,w)}C((g=g.apply(f,r||[])).next())})};Object.defineProperty(connectionManager,"__esModule",{value:!0});connectionManager.ConnectionManager=void 0;const connect_1$1=connect$1,commands_1$1=commands,storageconstants_1$1=storageconstants,jwtconstants_1$1=jwtconstants,constants_1$g=constants$5,eventemitter3_1$4=require$$3,storage_1$1=storage,utils_1$k=requireUtils(),crypto_1$1=crypto$1,jwt_1$1=jwt,safejson_1$2=requireSafejson(),log$1=__importStar$1(requireLog()),log_1$3=requireLog(),report_1=requireReport(),url_1=requireUrl(),connectionSplitPackages_1$1=connectionSplitPackages;class ConnectionManager{constructor(r=void 0){this.events=new eventemitter3_1$4.EventEmitter,this.splitManager=new connectionSplitPackages_1$1.ConnectionSplitPackages("dapp"),this.connectStorage=new storage_1$1.Storage(storageconstants_1$1.OKXCONNECTOR_CACHE_KEY_DAPP+r,storageconstants_1$1.OKXCONNECTOR_CACHE_KEY_DAPP),this.crypto=new crypto_1$1.SessionCrypto;let d=(0,url_1.isInTMA)();if((0,log_1$3.logDebug)("do init:",d),log$1.reportLog("connection manager do init"),d){const g=this.getCachedCryptoKeyPair();(0,log_1$3.logDebug)("use same pk:",g),this.crypto=new crypto_1$1.SessionCrypto(g)}this.jwtKeyPair=this.getCachedJWTKeyPair(),this.saveJWTKeyPair(this.jwtKeyPair),this.connector=new connect_1$1.OKXWalletConnector(constants_1$g.OKXCONNECTOR_WS_URL_1),this.packageId=Date.now(),this.connectedWalletPK="",this.currentTopic="",log$1.logDebug(`this.connectedWalletPK  constructor   ${this.connectedWalletPK}`)}refreshPackageId(){let r=Date.now();r==this.packageId&&(this.packageId=r+1),this.packageId=r}saveCryptoKeyPair(r){let d=(0,safejson_1$2.safeJsonStringify)(r);this.connectStorage.encryptStoreMsg(d,storageconstants_1$1.OKXCONNECTOR_CRYPTO_KEY)}getCachedCryptoKeyPair(){const d=this.connectStorage.getAndDecrypt(storageconstants_1$1.OKXCONNECTOR_CRYPTO_KEY);return typeof d=="string"?(log$1.logDebug("get cached crypto key:"),log$1.logDebug(d),(0,safejson_1$2.safeJsonParse)(d)):(this.connectStorage.clearCache(),null)}saveJWTKeyPair(r){var d={publicKey:(0,utils_1$k.toHexString)(r.publicKey),secretKey:(0,utils_1$k.toHexString)(r.secretKey)};log$1.logDebug("save jwt kp");let g=(0,safejson_1$2.safeJsonStringify)(d);log$1.logDebug(g),this.connectStorage.encryptStoreMsg(g,storageconstants_1$1.OKXCONNECTOR_JWT_KEY)}getCachedJWTKeyPair(){const d=this.connectStorage.getAndDecrypt(storageconstants_1$1.OKXCONNECTOR_JWT_KEY);if(typeof d=="string"){log$1.logDebug("get cached jwt kp:"),log$1.logDebug(d);let _=(0,safejson_1$2.safeJsonParse)(d);log$1.logDebug("save jwt kp"),log$1.logDebug(_);var g={publicKey:(0,utils_1$k.hexToByteArray)(_.publicKey),secretKey:(0,utils_1$k.hexToByteArray)(_.secretKey)};return g}else return(0,jwt_1$1.generateKeyPair)()}isWalletPKReady(){return log$1.logDebug(`isWalletPKReady  ===> ${this.connectedWalletPK}`),this.connectedWalletPK.length>0}makeJWT(r){return __awaiter$v(this,void 0,void 0,function*(){return yield(0,jwt_1$1.signJWT)(r,jwtconstants_1$1.OKXCONNECTOR_JWT_SIDE,jwtconstants_1$1.OKXCONNECTOR_JWT_TTL,this.jwtKeyPair)})}parsePackage(r){return __awaiter$v(this,arguments,void 0,function*(d,g=!1){var _,v,y,m,w,C,b,E,S,R,O,$,I;if(this.events.emit(d.id,d),!g){yield this.sendACK(d.id,!0);let U=(_=this.connectStorage.getItem(storageconstants_1$1.OKXCONNECTOR_TOKEN_CACHE))===null||_===void 0?void 0:_.content;if(U){let L=d;if(!((y=(v=L.params)===null||v===void 0?void 0:v.data)===null||y===void 0)&&y.messageId){let j=this.splitManager.tryParseMessageSplitPayload((w=(m=L.params)===null||m===void 0?void 0:m.data)===null||w===void 0?void 0:w.message);if(j){let F={topicId:(b=(C=L.params)===null||C===void 0?void 0:C.data)===null||b===void 0?void 0:b.topic,messageId:(S=(E=L.params)===null||E===void 0?void 0:E.data)===null||S===void 0?void 0:S.messageId,messageObject:j,publishedAt:(O=(R=L.params)===null||R===void 0?void 0:R.data)===null||O===void 0?void 0:O.publishedAt},X=yield this.splitManager.onReceivedPackageCheck(F);X.completeMessageIdList&&X.completeMessageIdList.forEach(z=>__awaiter$v(this,void 0,void 0,function*(){this.refreshPackageId(),yield this.sendReceive(this.packageId.toString(),z,U)}))}else this.refreshPackageId(),yield this.sendReceive(this.packageId.toString(),(I=($=L.params)===null||$===void 0?void 0:$.data)===null||I===void 0?void 0:I.messageId,U)}}}})}restoreConnect(r){return __awaiter$v(this,void 0,void 0,function*(){if(log$1.reportLog("connection manager restore connection"),log$1.logDebug(`connectionManager  restoreConenct   ${r}`),typeof r!="string"||r.length===0)throw new Error("CONNECTION: invalid topic");log$1.logDebug("connectionManager  restoreConenct   disconnect"),yield this.disconnect(!0),this.connectStorage.saveContent(r,storageconstants_1$1.OKXCONNECTOR_TOKEN_CACHE),log$1.logDebug("connectionManager  restoreConenct   conect"),yield this.connect(!0)})}getConnectInfo(){var r=(0,utils_1$k.generateTopic)();return log$1.logDebug(`generate topic token: ${r}`),log$1.reportLog("connection manager generate connection info"),this.currentTopic=r,{channelId:r,clientId:this.crypto.stringifyKeypair().publicKey}}connect(){return __awaiter$v(this,arguments,void 0,function*(r=!1){this.timeLog=new Date().getTime(),(0,log_1$3.logDebug)("ConnectTime---enter->",this.timeLog),log$1.reportLog("connection manager begin connect");let d=this.connectStorage.getItem(storageconstants_1$1.OKXCONNECTOR_TOKEN_CACHE);var g=this.currentTopic;if(log$1.logDebug(`generate topic token: ${g}`),r){typeof d<"u"&&d!==null&&(log$1.logDebug(`read last connect id: ${d}`),g=d.content);var _=this.connectStorage.getItem(storageconstants_1$1.OKXCONNECTOR_CRYPTO_SENDER_PK_CACHE);_&&(this.connectedWalletPK=_.content,(0,log_1$3.logDebug)(`connectionManager connect() this.connectedWalletPK : ${this.connectedWalletPK}`)),log$1.reportLog("connection manager do restore connection")}if(r){const y=this.getCachedCryptoKeyPair();y&&(this.crypto=new crypto_1$1.SessionCrypto(y))}log$1.logDebug(`use crypto client id: ${this.crypto.stringifyKeypair().publicKey}`),this.connectStorage.saveContent(g,storageconstants_1$1.OKXCONNECTOR_TOKEN_CACHE);var v=yield this.makeJWT(g);return log$1.logDebug(`generate jwt token: ${v}`),this.connectStorage.saveContent(v,"jwt"),new Promise((y,m)=>{this.connector.onOpen(()=>__awaiter$v(this,void 0,void 0,function*(){log$1.logDebug("1. connector on open"),log$1.reportLog("1. connect ws open");const w=new Date().getTime();(0,log_1$3.logDebug)("ConnectTime---open->",w-this.timeLog),this.events.once(this.packageId.toString(),C=>__awaiter$v(this,void 0,void 0,function*(){if(C&&C.error){log$1.logError("failed when login"),log$1.reportLog("2. connect login failed"),yield this.connector.disconnect();var b=new Error;b.message=C.error.message,b.name=C.error.code.toString(),m(b)}this.refreshPackageId(),this.events.once(this.packageId.toString(),S=>__awaiter$v(this,void 0,void 0,function*(){if(S&&S.error){log$1.logError("failed when subscribe"),log$1.reportLog("3. connect subscribe failed"),yield this.connector.disconnect();var R=new Error;R.message=S.error.message,R.name=S.error.code.toString(),m(R)}this.refreshPackageId(),log$1.logDebug(`4. subscribe callback then send fetch: ${this.packageId}`),log$1.reportLog("4. subscribe callback then send fetch");const O=new Date().getTime();(0,log_1$3.logDebug)("ConnectTime--subscribe callback->",O-this.timeLog),yield this.sendFetchAndConsumeMessages(this.packageId.toString(),g),log$1.logDebug(`5. splitmanager init: ${this.packageId}`),log$1.reportLog("5. splitmanager init"),yield this.splitManager.init(this.sendRaw.bind(this)),y()})),log$1.logDebug(`3. login callback then send subscribe: ${this.packageId}`),log$1.reportLog("3. connect subscribe failed");const E=new Date().getTime();(0,log_1$3.logDebug)("ConnectTime---login callback->",E-this.timeLog),yield this.connector.send(()=>__awaiter$v(this,void 0,void 0,function*(){log$1.logDebug("CONNECT: reconnect before send"),yield this.connector.connect().catch(S=>{(0,log_1$3.logDebug)("ConnectionManager connect error",S),m(S)})}),{id:this.packageId.toString(),jsonrpc:constants_1$g.CONNECT_JSONRPC_VER,method:commands_1$1.CONNECT_METHOD_SUB,params:{topic:g}})})),log$1.logDebug("2. login called"),log$1.reportLog("2. connection manager connect call login"),yield this.connector.send(()=>__awaiter$v(this,void 0,void 0,function*(){log$1.logDebug("CONNECT: reconnect before send"),yield this.connector.connect().catch(C=>{(0,log_1$3.logDebug)("ConnectionManager connect error",C),m(C)})}),{id:this.packageId.toString(),jsonrpc:constants_1$g.CONNECT_JSONRPC_VER,method:commands_1$1.CONNECT_METHOD_LOGIN,params:{token:v}}),this.connector.addPackageParse(C=>{var b;if(log$1.logDebug("connect: parse package"),log$1.logDebug(C),!("params"in C)||!("data"in C.params)){this.parsePackage(C,!0);return}let E=(b=C.params.data)===null||b===void 0?void 0:b.message;if(typeof E<"u"){E=E.replace(/'/g,'"');let S=(0,safejson_1$2.safeJsonParse)(E);typeof S!="string"&&"clientId"in S&&S.clientId&&S.clientId.length>0&&(this.connectedWalletPK=S.clientId,log$1.logDebug(`this.connectedWalletPK  addPackageParse   ${this.connectedWalletPK}`),this.connectStorage.saveContent(this.connectedWalletPK,storageconstants_1$1.OKXCONNECTOR_CRYPTO_SENDER_PK_CACHE),this.saveCryptoKeyPair(this.crypto.stringifyKeypair()))}this.parsePackage(C,C.method===commands_1$1.CONNECT_METHOD_RECEIVE)})})),this.connector.connect().catch(w=>{(0,log_1$3.logDebug)("ConnectionManager connect error",w),m(w)})})})}disconnect(){return __awaiter$v(this,arguments,void 0,function*(r=!1){yield this.connector.disconnect(),log$1.reportLog("connect disconnect"),this.connectStorage.clearCache(storageconstants_1$1.OKXCONNECTOR_TOKEN_CACHE),r||(this.connectStorage.clearCache(storageconstants_1$1.OKXCONNECTOR_CRYPTO_SENDER_PK_CACHE),this.connectedWalletPK="",(0,log_1$3.logDebug)(`connectionManager disconnect() this.connectedWalletPK : ${this.connectedWalletPK}`))})}updateProtocolVersion(r,d){this.splitManager.updateTopicSenderVersion(r,d)}addListener(r,d,g){this.connector.addListener((0,safejson_1$2.safeJsonStringify)(r),_=>{if(_=_.replace(/'/g,'"'),log$1.logDebug(`addListener ===> ${_}`),typeof _<"u"){var v=(0,safejson_1$2.safeJsonParse)(_),y=v.message;let m;return y.trimStart().startsWith("{")?m=y:(v.clientId&&v.clientId.length>0&&(this.connectedWalletPK=v.clientId,this.connectStorage.saveContent(this.connectedWalletPK,storageconstants_1$1.OKXCONNECTOR_CRYPTO_SENDER_PK_CACHE),log$1.logDebug(`this.connectedWalletPK  addListener   ${this.connectedWalletPK}`),log$1.logDebug(`this.cryptoKey  addListener   ${(0,utils_1$k.toHexString)(this.crypto.keyPair.publicKey)}`),this.saveCryptoKeyPair(this.crypto.stringifyKeypair())),m=this.crypto.decrypt(y,this.connectedWalletPK)),log$1.logDebug(`addListener ===> ${m}`),m}},d,g,_=>new Promise((v,y)=>__awaiter$v(this,void 0,void 0,function*(){let m=this.splitManager.tryParseMessageSplitPayload(_.message);if(m){let w={topicId:_.topic,messageId:_==null?void 0:_.messageId,messageObject:m,publishedAt:_==null?void 0:_.publishedAt},C=yield this.splitManager.onReceivedPackageCheck(w);v(C)}else v({isSplitPackage:!1})})))}sendRaw(r){return __awaiter$v(this,void 0,void 0,function*(){log$1.logDebug(`message send =====> ${r}`),log$1.reportLog("connect send raw msg");let d=r;log$1.logDebug(`message send =====encrypt message.length>>>> ${d.length}`);let g=this.connectStorage.getItem(storageconstants_1$1.OKXCONNECTOR_TOKEN_CACHE);log$1.logDebug(`message send =====topic>>>> ${g==null?void 0:g.content}`),this.refreshPackageId();const _={id:this.packageId.toString(),method:commands_1$1.CONNECT_METHOD_PUBLISH,jsonrpc:constants_1$g.CONNECT_JSONRPC_VER,params:{message:{topic:g==null?void 0:g.content,message:d,ttl:constants_1$g.OKXCONNECTOR_MESSAGE_TTL}}};return this.events.once(this.packageId.toString(),v=>__awaiter$v(this,void 0,void 0,function*(){v&&v.error?log$1.logError(`@${new Date().toUTCString()} >>> failed when send msg`):v&&!v.error&&log$1.logDebug(`CONNECTION @[${new Date().toUTCString()}] >>> send msg with id ${this.packageId} successed`)})),yield this.connector.send(()=>__awaiter$v(this,void 0,void 0,function*(){return log$1.logDebug("CONNECT: reconnect before send"),yield this.connector.connect()}),_),this.packageId})}sendEncryptedMsg(r,d){return __awaiter$v(this,arguments,void 0,function*(g,_,v=constants_1$g.OKXCONNECTOR_MESSAGE_TTL){this.refreshPackageId();const y={id:this.packageId.toString(),method:commands_1$1.CONNECT_METHOD_PUBLISH,jsonrpc:constants_1$g.CONNECT_JSONRPC_VER,params:{message:{topic:g,message:_,ttl:v}}};this.events.once(this.packageId.toString(),m=>__awaiter$v(this,void 0,void 0,function*(){m&&m.error?log$1.logError(`@${new Date().toUTCString()} >>> failed when send msg`):m&&!m.error&&log$1.logDebug(`CONNECTION @[${new Date().toUTCString()}] >>> send msg with id ${this.packageId} successed`)})),yield this.connector.send(()=>__awaiter$v(this,void 0,void 0,function*(){return log$1.logDebug("CONNECT: reconnect before send"),yield this.connector.connect()}),y)})}send(r){return __awaiter$v(this,arguments,void 0,function*(d,g=constants_1$g.OKXCONNECTOR_MESSAGE_TTL){if(log$1.logDebug(`message send =====> ${d}`),log$1.reportLog("connect send msg"),!this.isWalletPKReady())throw new Error("connection not finish");let _=this.crypto.encrypt(d,this.connectedWalletPK);log$1.logDebug(`message send =====encrypt message.length>>>> ${_.length}`),log$1.reportEvent(report_1.OKXReportType.LOG,"msg_size",_.length.toString());let v=this.connectStorage.getItem(storageconstants_1$1.OKXCONNECTOR_TOKEN_CACHE);return log$1.logDebug(`message send =====topic>>>> ${v==null?void 0:v.content}`),yield this.splitManager.sendSplitPackages(v==null?void 0:v.content,_,this.sendEncryptedMsg.bind(this),this.sendRaw.bind(this)),this.packageId})}sendACK(r,d){return __awaiter$v(this,arguments,void 0,function*(g,_,v=void 0){if(_===!0){const y={id:g,jsonrpc:constants_1$g.CONNECT_JSONRPC_VER,result:!0};yield this.connector.send(()=>__awaiter$v(this,void 0,void 0,function*(){return log$1.logDebug("CONNECT: reconnect before send"),yield this.connector.connect()}),y)}else if(v){const y={id:g,jsonrpc:constants_1$g.CONNECT_JSONRPC_VER,error:{code:v.code,message:v.message}};yield this.connector.send(()=>__awaiter$v(this,void 0,void 0,function*(){return log$1.logDebug("CONNECT: reconnect before send"),yield this.connector.connect()}),y)}})}sendReceive(r,d,g){return __awaiter$v(this,void 0,void 0,function*(){const _={id:r,jsonrpc:constants_1$g.CONNECT_JSONRPC_VER,method:commands_1$1.CONNECT_METHOD_RECEIVE,params:{data:{messageId:d,topic:g}}};yield this.connector.send(()=>__awaiter$v(this,void 0,void 0,function*(){return log$1.logDebug("CONNECT: reconnect before send"),yield this.connector.connect()}),_)})}sendFetchAndConsumeMessages(r,d){return __awaiter$v(this,void 0,void 0,function*(){this.events.once(r,v=>__awaiter$v(this,void 0,void 0,function*(){var y,m;if(v.result){var w=v.result.hasMore,C=v.result.data;if(C)for(let b=0;b<C.length;b++){let E=C[b];if(E&&E.topic==d){let S=E.messageId;log$1.reportLog("5. get fetch result"),this.splitManager.tryParseMessageSplitPayload(E.message)?(yield this.connector.getMsgPayloadFromHistory(E),log$1.logDebug("skip receive")):(yield this.connector.getMsgPayloadFromHistory(E),this.refreshPackageId(),yield this.sendReceive(this.packageId.toString(),S,d))}}w&&(this.refreshPackageId(),yield this.sendFetchAndConsumeMessages(this.packageId.toString(),d))}else log$1.logDebug(`CONNECT: get error rsp ${(y=v.error)===null||y===void 0?void 0:y.code} : ${(m=v.error)===null||m===void 0?void 0:m.message}`)})),log$1.logDebug("5. send fetch more"),log$1.reportLog("5. send fetch more");const g=new Date().getTime();(0,log_1$3.logDebug)("ConnectTime---5->",g-this.timeLog);const _={id:r,jsonrpc:constants_1$g.CONNECT_JSONRPC_VER,method:commands_1$1.CONNECT_METHOD_FETCHMSG,params:{data:{topic:d}}};yield this.connector.send(()=>__awaiter$v(this,void 0,void 0,function*(){return log$1.logDebug("CONNECT: reconnect before send"),yield this.connector.connect()}),_)})}cleanCache(){return __awaiter$v(this,void 0,void 0,function*(){log$1.reportLog("connection cache clean called"),this.connectStorage.clearCache()})}saveSessionContent(r,d){d||this.connectStorage.clearCache(storageconstants_1$1.OKXCONNECTOR_SESSION_PREFIX_KEY+r);let g=(0,safejson_1$2.safeJsonStringify)(d);this.connectStorage.encryptStoreMsg(g,storageconstants_1$1.OKXCONNECTOR_SESSION_PREFIX_KEY+r)}getSessionContent(r){let d=this.connectStorage.getAndDecrypt(storageconstants_1$1.OKXCONNECTOR_SESSION_PREFIX_KEY+r);if(d)return(0,safejson_1$2.safeJsonParse)(d)}getCurrentConnectionReady(){return this.isWalletPKReady()}}connectionManager.ConnectionManager=ConnectionManager;var walletConnectionManager={},walletConnectionConstants={};Object.defineProperty(walletConnectionConstants,"__esModule",{value:!0});walletConnectionConstants.WalletConnectionManagerEvent=walletConnectionConstants.WalletConnectionManagerTopicInfoCacheKey=void 0;walletConnectionConstants.WalletConnectionManagerTopicInfoCacheKey="wcmtic";walletConnectionConstants.WalletConnectionManagerEvent={RECEIVE_REQUEST:"payload"};var __createBinding=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(f,r,d,g){g===void 0&&(g=d);var _=Object.getOwnPropertyDescriptor(r,d);(!_||("get"in _?!r.__esModule:_.writable||_.configurable))&&(_={enumerable:!0,get:function(){return r[d]}}),Object.defineProperty(f,g,_)}:function(f,r,d,g){g===void 0&&(g=d),f[g]=r[d]}),__setModuleDefault=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(f,r){Object.defineProperty(f,"default",{enumerable:!0,value:r})}:function(f,r){f.default=r}),__importStar=commonjsGlobal&&commonjsGlobal.__importStar||function(){var f=function(r){return f=Object.getOwnPropertyNames||function(d){var g=[];for(var _ in d)Object.prototype.hasOwnProperty.call(d,_)&&(g[g.length]=_);return g},f(r)};return function(r){if(r&&r.__esModule)return r;var d={};if(r!=null)for(var g=f(r),_=0;_<g.length;_++)g[_]!=="default"&&__createBinding(d,r,g[_]);return __setModuleDefault(d,r),d}}(),__awaiter$u=commonjsGlobal&&commonjsGlobal.__awaiter||function(f,r,d,g){function _(v){return v instanceof d?v:new d(function(y){y(v)})}return new(d||(d=Promise))(function(v,y){function m(b){try{C(g.next(b))}catch(E){y(E)}}function w(b){try{C(g.throw(b))}catch(E){y(E)}}function C(b){b.done?v(b.value):_(b.value).then(m,w)}C((g=g.apply(f,r||[])).next())})};Object.defineProperty(walletConnectionManager,"__esModule",{value:!0});walletConnectionManager.WalletConnectionManager=void 0;const connect_1=connect$1,commands_1=commands,storageconstants_1=storageconstants,jwtconstants_1=jwtconstants,constants_1$f=constants$5,walletConnectionConstants_1=walletConnectionConstants,connectionSplitPackages_1=connectionSplitPackages,eventemitter3_1$3=require$$3,storage_1=storage,utils_1$j=requireUtils(),crypto_1=crypto$1,jwt_1=jwt,safejson_1$1=requireSafejson(),log=__importStar(requireLog()),log_1$2=requireLog(),utils_2$1=requireUtils$1();class WalletConnectionManager{constructor(){this.events=new eventemitter3_1$3.EventEmitter,this.communicateEvents=new eventemitter3_1$3.EventEmitter,this.splitManager=new connectionSplitPackages_1.ConnectionSplitPackages("wallet"),log.logDebug("connect manager construct"),this.connectStorage=new storage_1.Storage(storageconstants_1.OKXCONNECTOR_CACHE_KEY),this.jwtKeyPair=this.getCachedJWTKeyPair(),this.saveJWTKeyPair(this.jwtKeyPair),this.connector=new connect_1.OKXWalletConnector(constants_1$f.OKXCONNECTOR_WS_URL_1),this.packageId=Date.now(),this.sessionCryptoInfoMap=new Map,this.inLogin=!1,this.isLogined=!1}refreshPackageId(r=0){let d=Date.now()+r;d==this.packageId&&(this.packageId=d+1),this.packageId=d}saveCryptoKeyPair(r,d){let g=(0,safejson_1$1.safeJsonStringify)(d);this.connectStorage.encryptStoreMsg(g,storageconstants_1.OKXCONNECTOR_CRYPTO_KEY+r)}getCachedCryptoKeyPair(r){const g=this.connectStorage.getAndDecrypt(storageconstants_1.OKXCONNECTOR_CRYPTO_KEY+r);return typeof g=="string"?(log.logDebug("get cached crypto key:"),log.logDebug(g),(0,safejson_1$1.safeJsonParse)(g)):(this.connectStorage.clearCache(),null)}saveJWTKeyPair(r){var d={publicKey:(0,utils_1$j.toHexString)(r.publicKey),secretKey:(0,utils_1$j.toHexString)(r.secretKey)};log.logDebug("save jwt kp");let g=(0,safejson_1$1.safeJsonStringify)(d);log.logDebug(g),this.connectStorage.encryptStoreMsg(g,storageconstants_1.OKXCONNECTOR_JWT_KEY),log.logDebug("after save jwt kp")}getCachedJWTKeyPair(){const d=this.connectStorage.getAndDecrypt(storageconstants_1.OKXCONNECTOR_JWT_KEY);if(typeof d=="string"){log.logDebug("get cached jwt kp:"),log.logDebug(d);let _=(0,safejson_1$1.safeJsonParse)(d);log.logDebug("save jwt kp"),log.logDebug(_);var g={publicKey:(0,utils_1$j.hexToByteArray)(_.publicKey),secretKey:(0,utils_1$j.hexToByteArray)(_.secretKey)};return g}else return(0,jwt_1.generateKeyPair)()}isTopicPublicKeyExist(r){return log.logDebug(`isTopicPublicKeyExist  ===> ${r}`),this.sessionCryptoInfoMap.get(r)}makeJWT(r){return __awaiter$u(this,void 0,void 0,function*(){return yield(0,jwt_1.signJWT)(r,jwtconstants_1.OKXCONNECTOR_JWT_WALLET_SIDE,jwtconstants_1.OKXCONNECTOR_JWT_TTL,this.jwtKeyPair)})}parseInternalMsg(r){try{let g=(0,safejson_1$1.safeJsonParse)(r)["ivur-igbfft-ptjip"];if(g&&g.length>0)return(0,utils_2$1.base64decode)(g,!0).toString()}catch(d){log.logError("parse internal msg",d)}}updateClientId(r,d){let g=this.sessionCryptoInfoMap.get(r);if((0,log_1$2.logDebug)("updateClientId",g,r,d),g&&d&&d.length>0){if(g.cid){let _=(0,utils_1$j.getLastSixMd5Hash)(d);g.cid==_?g.dappPublicKey=d:log.logError("cid check failed",g,r,d)}else g.dappPublicKey=d;this.syncCacheSessionInfo()}return!1}parsePackage(r,d){return __awaiter$u(this,arguments,void 0,function*(g,_,v=!1){var y,m,w,C,b,E,S,R,O,$,I,U,L,j,F,X,z;this.events.emit(_.id,_);let Y=this.sessionCryptoInfoMap.get(g);log.logDebug("get sessionInfo for decrypt topic:",g),log.logDebug("get sessionInfo for decrypt:",_.id,g,Y,this.sessionCryptoInfoMap);let ne=!1;if(Y&&_.params.data&&!((y=_.params.data)===null||y===void 0)&&y.message)if(!((m=_.params.data)===null||m===void 0)&&m.isInternalData){let re=(w=_.params.data)===null||w===void 0?void 0:w.message,se=(C=_.params.data)===null||C===void 0?void 0:C.topic,G=this.parseInternalMsg(re);(0,log_1$2.logDebug)("parse internal origin: ",G),G&&G.length>0&&this.communicateEvents.emit("origin",G,se)}else try{let re=(b=_.params.data)===null||b===void 0?void 0:b.message;if(re.trimStart().startsWith("{")){let se=this.splitManager.tryParseMessageSplitPayload(re);if(se){(0,log_1$2.logDebug)("parse split msg object: ",se),ne=!0;let G={topicId:(S=(E=_.params)===null||E===void 0?void 0:E.data)===null||S===void 0?void 0:S.topic,messageId:(O=(R=_.params)===null||R===void 0?void 0:R.data)===null||O===void 0?void 0:O.messageId,messageObject:se,publishedAt:(I=($=_.params)===null||$===void 0?void 0:$.data)===null||I===void 0?void 0:I.publishedAt},T=yield this.splitManager.onReceivedPackageCheck(G);if(T.completeMessageIdList&&T.completeMessageIdList.forEach(D=>__awaiter$u(this,void 0,void 0,function*(){this.refreshPackageId(),yield this.sendReceive(this.packageId.toString(),D,g)})),T.finalMessage){let D=Y.crypto.decryptWallet(T.finalMessage,Y.dappPublicKey);(0,log_1$2.logDebug)("<<< receive msg from split:",g,D),this.communicateEvents.emit(g,D)}}else{let G=(0,safejson_1$1.safeJsonParse)(re);if(G.method){if(G.method=="session_info"){let T=G.params.sessionInfo,D=(0,utils_2$1.base64decode)(T,!1);(0,log_1$2.logDebug)("wallet connection manager requset base64Content:",D),(0,log_1$2.logDebug)("base64Content:"+D);let x=D.toObject();this.updateClientId(g,x.clientId)}(0,log_1$2.logDebug)("<<< parse raw msg:",g,G),this.communicateEvents.emit(g,re)}}}else{let se=Y.crypto.decryptWallet((U=_.params.data)===null||U===void 0?void 0:U.message,Y.dappPublicKey);(0,log_1$2.logDebug)("<<< receive msg:",g,se),this.communicateEvents.emit(g,se)}}catch{let se=Y.crypto.decryptWallet((L=_.params.data)===null||L===void 0?void 0:L.message,Y.dappPublicKey);(0,log_1$2.logDebug)("<<< receive msg:",g,se),this.communicateEvents.emit(g,se)}if(!v&&(yield this.sendACK(_.id,!0),g&&!ne)){let re=_;!((F=(j=re.params)===null||j===void 0?void 0:j.data)===null||F===void 0)&&F.messageId&&(this.refreshPackageId(),yield this.sendReceive(this.packageId.toString(),(z=(X=re.params)===null||X===void 0?void 0:X.data)===null||z===void 0?void 0:z.messageId,g))}})}recovrySessionInfoFromCache(){let r=this.connectStorage.getAndDecrypt(walletConnectionConstants_1.WalletConnectionManagerTopicInfoCacheKey);if(log.logDebug("get cached sessionInfos:",r),r){let d=(0,safejson_1$1.safeJsonParse)(r);for(let g in d){let _=d[g];log.logDebug("make topicItem:",_);let v={topic:g,crypto:new crypto_1.SessionCrypto({publicKey:_.cryptoKeyPair.publicKey,secretKey:_.cryptoKeyPair.secretKey}),dappPublicKey:_.dappPublicKey,cid:_.cid};this.sessionCryptoInfoMap.set(g,v)}}log.logDebug("get cached sessionInfos map:",this.sessionCryptoInfoMap)}syncCacheSessionInfo(){let r={};for(let[g,_]of this.sessionCryptoInfoMap)log.logDebug("for each Keys",g),_&&(r[g]={cryptoKeyPair:_.crypto.stringifyKeypair(),dappPublicKey:_.dappPublicKey,cid:_.cid});let d=(0,safejson_1$1.safeJsonStringify)(r);log.logDebug("sync cache sessionInfos:",d),this.connectStorage.encryptStoreMsg(d,walletConnectionConstants_1.WalletConnectionManagerTopicInfoCacheKey)}cacheSessionInfo(r,d,g=!0){let _=d.dappPublicKey,v=[];for(let[y,m]of this.sessionCryptoInfoMap)log.logDebug("for each Keys",y),m.dappPublicKey==_&&(log.logDebug("duplicated dapp public key:",y,_),v.push(y));for(let[y,m]of this.sessionCryptoInfoMap)v.includes(y)&&this.sessionCryptoInfoMap.delete(y);return log.logDebug("cleaned connect session cache:",this.sessionCryptoInfoMap),this.sessionCryptoInfoMap.set(r,d),log.logDebug("cache sessionInfo:",r,d,this.sessionCryptoInfoMap),g&&this.syncCacheSessionInfo(),v}updateProtocolVersion(r,d){this.splitManager.updateTopicSenderVersion(r,d)}appendTopic(r,d,g){return __awaiter$u(this,void 0,void 0,function*(){return(0,log_1$2.logDebug)("4.1. get append Topic:",r),new Promise((_,v)=>__awaiter$u(this,void 0,void 0,function*(){if(!this.isLogined){var y=new Error;y.message="connection is not logined",y.name="append error",v(y);return}let m={topic:r,crypto:new crypto_1.SessionCrypto,dappPublicKey:d||"",cid:g},w=this.cacheSessionInfo(r,m,!1);yield this.subscribeTopics(Array.from([r])),this.refreshPackageId(),log.logDebug(`5. subscribe callback then fetch append message: ${this.packageId}, ${r}`),log.reportLog("5. subscribe callback then fetch append message");const C=new Date().getTime();(0,log_1$2.logDebug)("Append --subscribe callback->",C-this.timeLog),_(w)}))})}confirmAppendingTopics(){this.syncCacheSessionInfo()}connect(){return __awaiter$u(this,void 0,void 0,function*(){this.timeLog=new Date().getTime(),(0,log_1$2.logDebug)("[Wallet] ConnectTime---enter->",this.timeLog),log.reportLog("wallet connect connect called");let r=Date.now().toString();var d=yield this.makeJWT(r);return log.logDebug(`generate jwt token: ${d}`),this.connectStorage.saveContent(d,"jwt"),this.recovrySessionInfoFromCache(),new Promise((g,_)=>{this.inLogin=!0,this.connector.onOpen(()=>__awaiter$u(this,void 0,void 0,function*(){log.logDebug("1. connector on open"),log.reportLog("1. wallet connect connect on open");const v=new Date().getTime();(0,log_1$2.logDebug)("ConnectTime---open->",v-this.timeLog),this.events.once(this.packageId.toString(),y=>__awaiter$u(this,void 0,void 0,function*(){if(y&&y.error){log.logError("failed when login"),yield this.connector.disconnect();var m=new Error;m.message=y.error.message,m.name=y.error.code.toString(),_(m)}else this.isLogined=!0,g(),log.logDebug("3. subscribe cached topics",this.sessionCryptoInfoMap),log.reportLog("3. wallet connect connect subscribe cached topics"),this.sessionCryptoInfoMap.size>0&&(yield this.subscribeTopics(Array.from(this.sessionCryptoInfoMap.keys())))})),log.logDebug("2. login called"),log.reportLog("2. wallet connect login called"),yield this.connector.send(()=>__awaiter$u(this,void 0,void 0,function*(){return log.logDebug("CONNECT: reconnect before send"),yield this.connector.connect()}),{id:this.packageId.toString(),jsonrpc:constants_1$f.CONNECT_JSONRPC_VER,method:commands_1.CONNECT_METHOD_LOGIN,params:{token:d}})})),this.connector.connect().catch(v=>{(0,log_1$2.logDebug)("WalletConnectionManager connect error",v),_(v)}),this.connector.addPackageParse(v=>{var y,m;if(log.logDebug("connect: parse package"),log.logDebug(v),!("params"in v)||!("data"in v.params)){this.parsePackage("",v,!0);return}!((y=v.params.data)===null||y===void 0)&&y.topic&&this.parsePackage((m=v.params.data)===null||m===void 0?void 0:m.topic,v,v.method===commands_1.CONNECT_METHOD_RECEIVE)})})})}getSessionPublicKey(r){if(this.isTopicPublicKeyExist(r)){let d=this.sessionCryptoInfoMap.get(r);if(d)return(0,utils_1$j.toHexString)(d.crypto.keyPair.publicKey)}}getCurrentCachedTopicIdList(){return Array.from(this.sessionCryptoInfoMap.keys())}disconnect(){return __awaiter$u(this,arguments,void 0,function*(r=!1){yield this.connector.disconnect(),this.connectStorage.clearCache(storageconstants_1.OKXCONNECTOR_TOKEN_CACHE),r||this.connectStorage.clearCache(storageconstants_1.OKXCONNECTOR_CRYPTO_SENDER_PK_CACHE)})}sendRaw(r,d){return __awaiter$u(this,void 0,void 0,function*(){d&&(yield this.sendMsg(d,r,constants_1$f.OKXCONNECTOR_MESSAGE_TTL))})}sendMsg(r,d,g){return __awaiter$u(this,void 0,void 0,function*(){if(d){this.refreshPackageId();const _={id:this.packageId.toString(),method:commands_1.CONNECT_METHOD_PUBLISH,jsonrpc:constants_1$f.CONNECT_JSONRPC_VER,params:{message:{topic:r,message:d,ttl:g}}};this.events.once(this.packageId.toString(),v=>__awaiter$u(this,void 0,void 0,function*(){v&&v.error?log.logError(`@${new Date().toUTCString()} >>> failed when send msg`):v&&!v.error&&log.logDebug(`CONNECTION @[${new Date().toUTCString()}] >>> send msg with id ${this.packageId} successed`)})),yield this.connector.send(()=>__awaiter$u(this,void 0,void 0,function*(){return log.logDebug("CONNECT: reconnect before send"),yield this.connector.connect()}),_)}})}send(r,d){return __awaiter$u(this,arguments,void 0,function*(g,_,v=!1,y=constants_1$f.OKXCONNECTOR_MESSAGE_TTL,m=!1){var w,C;if(log.logDebug(`message send =====> ${_}`),!this.isTopicPublicKeyExist(g))throw new Error("connection not finish");let b=(w=this.sessionCryptoInfoMap.get(g))===null||w===void 0?void 0:w.dappPublicKey,E=(C=this.sessionCryptoInfoMap.get(g))===null||C===void 0?void 0:C.crypto,S;m&&(S={message:_});let R=!1;if(E&&b&&!m){let O=E.encryptWallet(_,b);R=!0,S={message:O}}if(S){v&&E&&(S.clientId=(0,utils_1$j.toHexString)(E.keyPair.publicKey));let O=(0,safejson_1$1.safeJsonStringify)(S);!m&&R?yield this.splitManager.sendSplitPackages(g,O,this.sendMsg.bind(this),this.sendRaw.bind(this)):yield this.sendMsg(g,O,y)}})}sendACK(r,d){return __awaiter$u(this,arguments,void 0,function*(g,_,v=void 0){if(_===!0){const y={id:g,jsonrpc:constants_1$f.CONNECT_JSONRPC_VER,result:!0};yield this.connector.send(()=>__awaiter$u(this,void 0,void 0,function*(){return log.logDebug("CONNECT: reconnect before send"),yield this.connector.connect()}),y)}else if(v){const y={id:g,jsonrpc:constants_1$f.CONNECT_JSONRPC_VER,error:{code:v.code,message:v.message}};yield this.connector.send(()=>__awaiter$u(this,void 0,void 0,function*(){return log.logDebug("CONNECT: reconnect before send"),yield this.connector.connect()}),y)}})}sendReceive(r,d,g){return __awaiter$u(this,void 0,void 0,function*(){const _={id:r,jsonrpc:constants_1$f.CONNECT_JSONRPC_VER,method:commands_1.CONNECT_METHOD_RECEIVE,params:{data:{messageId:d,topic:g}}};yield this.connector.send(()=>__awaiter$u(this,void 0,void 0,function*(){return log.logDebug("CONNECT: reconnect before send"),yield this.connector.connect()}),_)})}sendUnsubscribe(r){return __awaiter$u(this,void 0,void 0,function*(){yield this.connector.send(()=>__awaiter$u(this,void 0,void 0,function*(){return log.logDebug("CONNECT: reconnect before send"),yield this.connector.connect()}),{id:this.packageId.toString(),jsonrpc:constants_1$f.CONNECT_JSONRPC_VER,method:commands_1.CONNECT_METHOD_UNSUB,params:{topic:r}}),this.sessionCryptoInfoMap.delete(r),this.syncCacheSessionInfo()})}sendFetchAndConsumeMessages(r,d){return __awaiter$u(this,void 0,void 0,function*(){this.events.once(r,v=>__awaiter$u(this,void 0,void 0,function*(){var y,m;if(v.result){var w=v.result.hasMore,C=v.result.data;if(C)for(let b=0;b<C.length;b++){let E=C[b];if(E&&E.topic==d){let S=E.messageId;yield this.connector.getMsgPayloadFromHistory(E),this.refreshPackageId(),yield this.sendReceive(this.packageId.toString(),S,d)}}w&&(this.refreshPackageId(),yield this.sendFetchAndConsumeMessages(this.packageId.toString(),d))}else log.logDebug(`CONNECT: get error rsp ${(y=v.error)===null||y===void 0?void 0:y.code} : ${(m=v.error)===null||m===void 0?void 0:m.message}`)})),log.logDebug("5. send fetch more");const g=new Date().getTime();(0,log_1$2.logDebug)("ConnectTime---5->",g-this.timeLog);const _={id:r,jsonrpc:constants_1$f.CONNECT_JSONRPC_VER,method:commands_1.CONNECT_METHOD_FETCHMSG,params:{data:{topic:d}}};yield this.connector.send(()=>__awaiter$u(this,void 0,void 0,function*(){return log.logDebug("CONNECT: reconnect before send"),yield this.connector.connect()}),_)})}sendBatchFetchAndConsumeMessages(r,d){return __awaiter$u(this,void 0,void 0,function*(){this.events.once(r,v=>__awaiter$u(this,void 0,void 0,function*(){var y,m;if(v.result){var w=v.result.hasMore,C=v.result.data;if(C)for(let b=0;b<C.length;b++){let E=C[b];if(E&&E.topic)if(this.splitManager.tryParseMessageSplitPayload(E.message))yield this.connector.getMsgPayloadFromHistory(E);else{let R=E.messageId;yield this.connector.getMsgPayloadFromHistory(E),this.refreshPackageId(b),yield this.sendReceive(this.packageId.toString(),R,E.topic)}}w&&(this.refreshPackageId(),yield this.sendBatchFetchAndConsumeMessages(this.packageId.toString(),d))}else log.logDebug(`CONNECT: get error rsp ${(y=v.error)===null||y===void 0?void 0:y.code} : ${(m=v.error)===null||m===void 0?void 0:m.message}`)})),log.logDebug("5. send fetch more"),log.reportLog("5. send fetch more");const g=new Date().getTime();(0,log_1$2.logDebug)("ConnectTime---5->",g-this.timeLog);const _={id:r,jsonrpc:constants_1$f.CONNECT_JSONRPC_VER,method:commands_1.CONNECT_METHOD_BATCH_FETCHMSG,params:{topics:d,withInternalData:!0}};yield this.connector.send(()=>__awaiter$u(this,void 0,void 0,function*(){log.logDebug("CONNECT: reconnect before send"),yield this.connector.connect()}),_)})}cleanCache(){return __awaiter$u(this,void 0,void 0,function*(){this.connectStorage.clearCache()})}saveSessionContent(r,d){d||this.connectStorage.clearCache(storageconstants_1.OKXCONNECTOR_SESSION_PREFIX_KEY+r);let g=(0,safejson_1$1.safeJsonStringify)(d);this.connectStorage.encryptStoreMsg(g,storageconstants_1.OKXCONNECTOR_SESSION_PREFIX_KEY+r)}getSessionContent(r){let d=this.connectStorage.getAndDecrypt(storageconstants_1.OKXCONNECTOR_SESSION_PREFIX_KEY+r);if(d)return(0,safejson_1$1.safeJsonParse)(d)}subscribeTopics(r){return __awaiter$u(this,void 0,void 0,function*(){(0,log_1$2.logDebug)("4. topicid list",r),log.reportLog("4. topicid list"),this.refreshPackageId();const d=new Date().getTime();return(0,log_1$2.logDebug)("ConnectTime--subscribe callback->",d-this.timeLog),new Promise((g,_)=>__awaiter$u(this,void 0,void 0,function*(){let v=0;for(let y=0;y<r.length;++y){let m=r[y];this.refreshPackageId(y),this.events.once(this.packageId.toString(),C=>__awaiter$u(this,void 0,void 0,function*(){if(C&&C.error){log.logError("failed when subscribe"),yield this.connector.disconnect();var b=new Error;b.message=C.error.message,b.name=C.error.code.toString(),v+=1,v==r.length&&g()}this.refreshPackageId(y);const E=new Date().getTime();(0,log_1$2.logDebug)("ConnectTime--subscribe callback->",E-this.timeLog),v+=1,v==r.length&&(log.logDebug(`5. send fetch msg: ${this.packageId}, ${m}`),yield this.sendBatchFetchAndConsumeMessages(this.packageId.toString(),r),yield this.splitManager.init(this.sendRaw.bind(this)),g())})),log.logDebug(`3. login callback then send subscribe: ${this.packageId}, ${m}`),log.reportLog("3. login callback then send subscribe");const w=new Date().getTime();(0,log_1$2.logDebug)("ConnectTime---login callback->",w-this.timeLog),yield this.connector.send(()=>__awaiter$u(this,void 0,void 0,function*(){return log.logDebug("CONNECT: reconnect before send"),yield this.connector.connect()}),{id:this.packageId.toString(),jsonrpc:constants_1$f.CONNECT_JSONRPC_VER,method:commands_1.CONNECT_METHOD_SUB,params:{topic:m}})}}))})}}walletConnectionManager.WalletConnectionManager=WalletConnectionManager;var engine={},iconnector={};Object.defineProperty(iconnector,"__esModule",{value:!0});iconnector.OKX_TG_WALLET=iconnector.OKX_APP_WALLET=iconnector.OKX_INJECT_WALLET=void 0;iconnector.OKX_INJECT_WALLET="okx_inject_wallet";iconnector.OKX_APP_WALLET="okx_app_wallet";iconnector.OKX_TG_WALLET="okx_tg_wallet";var sessionUtils={};Object.defineProperty(sessionUtils,"__esModule",{value:!0});sessionUtils.buildNameSpacesByConnectResponse=buildNameSpacesByConnectResponse;sessionUtils.buildRequestAccountNameSpacesByConnectResponse=buildRequestAccountNameSpacesByConnectResponse;sessionUtils.buildAccountNameSpaces=buildAccountNameSpaces;const log_1$1=requireLog();function buildNameSpacesByConnectResponse(f){return buildRequestAccountNameSpacesByConnectResponse(f)}function buildRequestAccountNameSpacesByConnectResponse(f){let r={};(0,log_1$1.logDebug)("buildRequestAccountNameSpacesByConnectResponse start connectResponse111>>",JSON.stringify(f));let d=f.payload.responses.find(v=>v.name==="requestAccounts");if(d&&d.accounts){let v=[];for(const y of d.accounts)y.namespace==="ton"?y.data&&y.data.ton_addr&&y.data.ton_addr.address&&y.data.ton_addr.address.length>0&&((0,log_1$1.logDebug)("buildRequestAccountNameSpacesByConnectResponse start TON>>",JSON.stringify(y)),v.push(y)):((0,log_1$1.logDebug)("buildRequestAccountNameSpacesByConnectResponse start other>>",JSON.stringify(y)),v.push(y));d.accounts=v}const g=f.payload.responses.find(v=>v.name==="ton_addr"),_=f.payload.responses.find(v=>v.name==="ton_proof");if(g&&!d){(0,log_1$1.logDebug)("buildRequestAccountNameSpacesByConnectResponse adapt ton data >>");let v=g.address;v="ton:"+g.network+":"+v;let y={ton_addr:g};_&&(y.ton_proof=_),d={name:"requestAccounts",accounts:[{namespace:"ton",addresses:[v],methods:["ton_sendTransaction"],extra:{},data:y}]}}return(0,log_1$1.logDebug)("buildRequestAccountNameSpacesByConnectResponse end universalResponse>>>",JSON.stringify(d)),buildAccountNameSpaces(d.accounts,r),r}function buildAccountNameSpaces(f,r){f.forEach(d=>{var g=[],_=[];d.addresses.forEach(v=>{var y=v.split(":");if((0,log_1$1.logDebug)("buildRequestAccountNameSpacesByConnectResponse addressArr>>",y.length),y.length>=3){let m=y.slice(0,2).join(":");g.push(m),_.push(v),(0,log_1$1.logDebug)("buildRequestAccountNameSpacesByConnectResponse chain:>>",m,"addressItem:",v)}}),d.data&&d.data.ton_addr&&(d.data.ton_addr.name="ton_addr"),d.data&&d.data.ton_proof&&(d.data.ton_proof.name="ton_proof"),r[d.namespace]={chains:g,accounts:_,methods:d.methods,extra:d.extra,payload:d.data},(0,log_1$1.logDebug)("buildRequestAccountNameSpacesByConnectResponse result>>",JSON.stringify(r))})}var __awaiter$t=commonjsGlobal&&commonjsGlobal.__awaiter||function(f,r,d,g){function _(v){return v instanceof d?v:new d(function(y){y(v)})}return new(d||(d=Promise))(function(v,y){function m(b){try{C(g.next(b))}catch(E){y(E)}}function w(b){try{C(g.throw(b))}catch(E){y(E)}}function C(b){b.done?v(b.value):_(b.value).then(m,w)}C((g=g.apply(f,r||[])).next())})};Object.defineProperty(engine,"__esModule",{value:!0});engine.Engine=void 0;const protocol_1$6=protocol,constants_1$e=constants$5,utils_1$i=requireUtils$1(),iconnector_1$3=iconnector,connectionManager_1=connectionManager,sessionUtils_1$1=sessionUtils,wallet_info_1$1=walletInfo$1;class Engine{constructor(r){this.connectors=[],this.useConnector=void 0,this.connectionManager=new connectionManager_1.ConnectionManager(r),this.addConnectionListener()}getConnector(){if(this.useConnector)return this.useConnector}setAccountChangeListener(r){this.accountChangeListener=r,(0,utils_1$i.logDebug)("setAccountChangeListener: engine",r);for(const d of this.connectors)d.setAccountChangeListener(r)}registerConnector(r){this.connectors=r;for(const d of r)d.setConnectionManager(this.connectionManager)}hasWsConnector(){for(const r of this.connectors)if(this.isWsConnector(r))return!0;return!1}isWsConnector(r){return r?r.getTag()===iconnector_1$3.OKX_TG_WALLET||r.getTag()===iconnector_1$3.OKX_APP_WALLET:!1}isInjectedConnector(r){return r?r.getTag()===iconnector_1$3.OKX_INJECT_WALLET:!1}universalConnect(r,d,g){return __awaiter$t(this,void 0,void 0,function*(){return this.addConnectionListener(),new Promise((_,v)=>__awaiter$t(this,void 0,void 0,function*(){var y,m,w,C;try{(0,utils_1$i.logDebug)("engine universalConnect request :",JSON.stringify(r)),(0,utils_1$i.logDebug)("engine universalConnect sessionConfig :",JSON.stringify(d));let E=[];r.forEach(j=>{let F=j.name;(F.startsWith("requestAccounts")||F.startsWith("ton"))&&E.push(j)}),(0,utils_1$i.logDebug)("engine universalConnect universalRequest :",JSON.stringify(E));const S=this.connectionManager.getConnectInfo(),R=Date.now().toString();let O=(y=d.openUniversalUrl)!==null&&y!==void 0?y:!1;const $={protocolVer:Number(protocol_1$6.tonConnectSdkVersion),topic:S.channelId,clientId:S.clientId,requestId:R,dAppInfo:d.dappInfo,requests:E,redirect:(m=d==null?void 0:d.redirect)!==null&&m!==void 0?m:"none"},I=(0,utils_1$i.encodeConnectParams)($);$.redirect=(w=d==null?void 0:d.redirect)!==null&&w!==void 0?w:"none",(0,utils_1$i.logDebug)("engine universalConnect ==>>universalConnectRequest:",JSON.stringify($));var b="";O&&(b=(0,utils_1$i.getOKXLink)($,d.useMini,d.tmaReturnUrl),(0,utils_1$i.logDebug)("engine universalConnect ==>>openOKXLink:",b));const U=()=>this.connectors.length==1&&this.connectors[0].getTag()===iconnector_1$3.OKX_INJECT_WALLET?this.connectors[0].openWallet({connectRequest:$}):d.useMini?(0,utils_1$i.openOKXTMAWalletlinkWithFallback)(b):(0,utils_1$i.useShortLink)()?(0,utils_1$i.openOKXUniversalLink)(b):(0,utils_1$i.openOKXDeeplinkWithFallback)(b);(0,utils_1$i.logDebug)("engine universalConnect ==>>openOKXLink:",b);const L=(0,utils_1$i.isIos)();if(L&&O&&((0,utils_1$i.logDebug)(`engine universalConnect ==>>isIOS: ${L}   openUniversalLink: ${O}`),U()),this.addOnConnectResultListener(j=>{var F,X,z,Y;try{this.addOnConnectResultListener(void 0);let se=j;if(se.method=="connect"){(0,utils_1$i.logDebug)("engin  universalConnect success connectResponse:>>>",JSON.stringify(se));let G=(0,sessionUtils_1$1.buildNameSpacesByConnectResponse)(se);if(G){let T;!((X=(F=se.payload)===null||F===void 0?void 0:F.responses)===null||X===void 0)&&X[0]&&"walletName"in se.payload.responses[0]&&(T=se.payload.responses[0].walletName);let D=(z=se.payload)===null||z===void 0?void 0:z.wallet.appName;var ne;switch(D){case wallet_info_1$1.OKXWalletName:ne=iconnector_1$3.OKX_APP_WALLET;break;case wallet_info_1$1.OKXMiniWalletName:ne=iconnector_1$3.OKX_TG_WALLET;break;case wallet_info_1$1.OKXInjectWalletName:ne=iconnector_1$3.OKX_INJECT_WALLET;break}var re=this.connectors.find(B=>B.getTag()===ne);if(!re)throw new protocol_1$6.OKXConnectError(protocol_1$6.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR);let x=Object.assign({topic:S.channelId,sessionConfig:d,namespaces:G},se.payload&&{wallet:Object.assign(Object.assign({},se.payload.wallet),{walletName:T})}),A=se.payload.responses.find(B=>B.name==="requestAccounts");A&&A.connectRequestMethods&&(x.signResponse=A.connectRequestMethods),(0,utils_1$i.logDebug)("engin  universalConnect success session:>>>",JSON.stringify(x)),this.isWsConnector(re)&&((0,utils_1$i.logDebug)("engine update protocol version"),this.connectionManager.updateProtocolVersion(S.channelId,se.payload.wallet.maxProtocolVersion)),_(x),this.setUseConnector(re)}else throw new protocol_1$6.OKXConnectError(protocol_1$6.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR)}else if(se.method=="connect_error"&&((Y=se.payload)===null||Y===void 0?void 0:Y.code)!=null)throw new protocol_1$6.OKXConnectError(se.payload.code)}catch(se){v(se)}}),this.hasWsConnector()){yield(C=this.connectionManager)===null||C===void 0?void 0:C.disconnect(!1);try{yield this.connectionManager.connect()}catch(j){throw(0,utils_1$i.logDebug)("Engine universalConnect error",j),j}(0,utils_1$i.logDebug)("engin  universalConnect ==>> connectInfoAndUrl:",g),this.sendSession(I)}if(!L&&O&&U(),(0,utils_1$i.logDebug)("engin  universalConnect ==>> connectInfoAndUrl:",g),g){const j={connectRequest:$,redirect:d.redirect,tmaReturnUrl:d.tmaReturnUrl};(0,utils_1$i.logDebug)("universalConnect connectInfoAndUrl info :",JSON.stringify(j)),g(j)}}catch(E){(0,utils_1$i.logDebug)("Engine universalConnect catch error",E),v(E)}}))})}addOnConnectResultListener(r){for(const d of this.connectors)this.isInjectedConnector(d)&&d.setOnConnectResultListener(r);this.connectResultListener=r}openWallet(r,d){var g;d?d.openWallet(r):(g=this.getConnector())===null||g===void 0||g.openWallet(r)}send(r,d,g){return __awaiter$t(this,void 0,void 0,function*(){var _;return(_=this.getConnector())===null||_===void 0?void 0:_.send(r,d,g)})}clearData(){var r;(r=this.getConnector())===null||r===void 0||r.clearData()}addDisconnectListener(r){var d;(d=this.getConnector())===null||d===void 0||d.addDisconnectListener(r)}saveSessionContent(r,d){this.connectionManager.saveSessionContent(r,d)}getSessionContent(r){var d,g=this.connectionManager.getSessionContent(r);if(g){var _="";if(typeof g=="object"&&(_=this.getTagByappName((d=g.wallet)===null||d===void 0?void 0:d.appName)),this.connectors.find(v=>v.getTag()===_))return g}}getTagByappName(r){var d="";if(r)switch(r){case wallet_info_1$1.OKXWalletName:d=iconnector_1$3.OKX_APP_WALLET;break;case wallet_info_1$1.OKXMiniWalletName:d=iconnector_1$3.OKX_TG_WALLET;break;case wallet_info_1$1.OKXInjectWalletName:d=iconnector_1$3.OKX_INJECT_WALLET}return d}setConnectConnector(r){var d=this.getTagByappName(r==null?void 0:r.appName);d&&this.setUseConnector(this.connectors.find(g=>g.getTag()===d))}setUseConnector(r){this.useConnector=r,this.isWsConnector(r)&&r.addConnectionListener()}setSessionConnectingListener(r){this.sessionConnectingListener=r}restoreconnect(r,d){return __awaiter$t(this,void 0,void 0,function*(){var g;yield(g=this.getConnector())===null||g===void 0?void 0:g.restoreconnect(r,d)})}restoreconnectFromTopic(r){return __awaiter$t(this,void 0,void 0,function*(){this.isWsConnector(this.getConnector())&&(yield this.getConnector().restoreconnectFromTopic(r))})}getCurrentConnectionReady(r){var d;return!!(!((d=this.getConnector())===null||d===void 0)&&d.getCurrentConnectionReady(r))}connectManagerDisconnect(){return __awaiter$t(this,arguments,void 0,function*(r=!1){var d;yield(d=this.getConnector())===null||d===void 0?void 0:d.connectManagerDisconnect(r)})}sendSession(r){return __awaiter$t(this,void 0,void 0,function*(){(0,utils_1$i.logDebug)("[Connect] sendSession called:",r);const d=Date.now().toString();let g={method:"session_info",params:{protocolVersion:constants_1$e.CONNECT_PROTOCOL_VER,sessionInfo:r}};yield this.connectionManager.sendRaw(JSON.stringify(Object.assign(Object.assign({},g),{requestId:d})))})}addConnectionListener(){var r;(r=this.connectionManager)===null||r===void 0||r.addListener("sdk_response",(d,g)=>{var _=(0,utils_1$i.safeJsonParse)(g);(0,utils_1$i.logDebug)(`Engine ==>> addListener ==> success ==> ${_}`),_.method==="connect"||_.method==="connect_error"?this.connectResultListener&&this.connectResultListener(_):_.method==="session_connecting"&&((0,utils_1$i.logDebug)("Engine ==>> handleResponse_4  ===> sessionConnectingListener"),this.sessionConnectingListener&&((0,utils_1$i.logDebug)("Engine ==>> handleResponse_4  ===> sessionConnectingListener not null"),this.sessionConnectingListener(),this.sessionConnectingListener=void 0))},function(){})}}engine.Engine=Engine;(function(f){Object.defineProperty(f,"__esModule",{value:!0}),f.Storage=f.Engine=f.WalletConnectionManager=f.ConnectionManager=f.OKXWalletConnector=void 0;var r=connect$1;Object.defineProperty(f,"OKXWalletConnector",{enumerable:!0,get:function(){return r.OKXWalletConnector}});var d=connectionManager;Object.defineProperty(f,"ConnectionManager",{enumerable:!0,get:function(){return d.ConnectionManager}});var g=walletConnectionManager;Object.defineProperty(f,"WalletConnectionManager",{enumerable:!0,get:function(){return g.WalletConnectionManager}});var _=engine;Object.defineProperty(f,"Engine",{enumerable:!0,get:function(){return _.Engine}});var v=storage;Object.defineProperty(f,"Storage",{enumerable:!0,get:function(){return v.Storage}})})(connect$2);var inject={},InjectUtils={};Object.defineProperty(InjectUtils,"__esModule",{value:!0});InjectUtils.SuiMethods=InjectUtils.TONMethods=InjectUtils.AptosMethods=InjectUtils.SOLANAMethods=InjectUtils.Eip55Methods=void 0;InjectUtils.hasOKXInjectedProvider=hasOKXInjectedProvider;function hasOKXInjectedProvider(){return typeof getWindowProviderNamespace("okxwallet")<"u"}function getWindowProviderNamespace(f){const r=(d,g)=>{const[_,...v]=g.split("."),y=d[_];if(y)return v.length===0?y:r(y,v.join("."))};if(typeof window<"u")return r(window,f)}InjectUtils.Eip55Methods=["personal_sign","eth_signTypedData_v4","eth_sendTransaction","wallet_addEthereumChain","wallet_watchAsset","wallet_switchEthereumChain","eth_requestAccounts","eth_accounts","eth_chainId"];InjectUtils.SOLANAMethods=["solana_signTransaction","solana_signMessage","solana_signAllTransactions","solana_signAndSendTransaction"];InjectUtils.AptosMethods=["aptos_signMessage","aptos_signTransaction","aptos_signAndSubmitTransaction"];InjectUtils.TONMethods=["ton_sendTransaction"];InjectUtils.SuiMethods=["sui_signMessage","sui_signPersonalMessage","sui_signTransactionBlock","sui_signAndExecuteTransactionBlock"];var provider$1={},eip155Provider={},media$1={};(function(f){Object.defineProperty(f,"__esModule",{value:!0}),f.mediaNotTouch=f.mediaTouch=f.maxWidth=void 0,f.isDevice=v,f.media=y,f.mediaMin=m,f.mediaMax=w,f.mediaMinMax=C;const r=requireWebApi(),d=requireTmaApi(),g=requireUrl(),_=requireLog();f.maxWidth={mobile:440,tablet:1020};function v(b){var E;const S=(0,g.getWindow)();if(!S)return b==="desktop";if((0,d.isTmaPlatform)("weba"))return!0;const R=S.innerWidth;switch(b){case"desktop":return R>f.maxWidth.tablet;case"tablet":return R>f.maxWidth.mobile;default:case"mobile":let O=R<=f.maxWidth.mobile||(0,r.isOS)("ios","android","ipad");if(O){const $=!!(!((E=(0,g.getWindow)())===null||E===void 0)&&E.TelegramWebviewProxy),I=navigator.maxTouchPoints||0;$&&I===0&&(O=!1),(0,_.logDebug)("isDevice mobile isTelegram and maxTouchPoints:",O,$,I)}return O}}function y(b){switch(b){case"mobile":return`@media (max-width: ${f.maxWidth.mobile}px)`;case"tablet":return`@media (max-width: ${f.maxWidth.tablet}px) (min-width: ${f.maxWidth.mobile}px)`;default:case"desktop":return`@media (min-width: ${f.maxWidth.tablet}px)`}}function m(b){return`@media (min-width: ${b}px)`}function w(b){return`@media (max-width: ${b}px)`}function C(b,E){return`@media (min-width: ${b}px) and (max-width: ${E}px)`}f.mediaTouch="@media (hover: none)",f.mediaNotTouch="@media not all and (hover: none)"})(media$1);var __awaiter$s=commonjsGlobal&&commonjsGlobal.__awaiter||function(f,r,d,g){function _(v){return v instanceof d?v:new d(function(y){y(v)})}return new(d||(d=Promise))(function(v,y){function m(b){try{C(g.next(b))}catch(E){y(E)}}function w(b){try{C(g.throw(b))}catch(E){y(E)}}function C(b){b.done?v(b.value):_(b.value).then(m,w)}C((g=g.apply(f,r||[])).next())})};Object.defineProperty(eip155Provider,"__esModule",{value:!0});eip155Provider.Eip155Provider=void 0;const protocol_1$5=protocol,utils_1$h=requireUtils$1(),media_1$5=media$1,InjectUtils_1$4=InjectUtils;let Eip155Provider$1=class{send(r){return __awaiter$s(this,void 0,void 0,function*(){var d;try{(0,utils_1$h.logDebug)("Eip155Provider send request:",(0,utils_1$h.safeJsonStringify)(r)),yield this.restoreConnect();let g=null;switch(r.method){case"personal_sign":r.params&&"message"in r.params&&(g={method:r.method,params:[r.params.message,r.address]});break;case"eth_sendTransaction":case"wallet_addEthereumChain":case"wallet_switchEthereumChain":r.params&&(g={method:r.method,params:[r.params]});break;case"eth_signTypedData_v4":r.params&&"typedDataJson"in r.params&&(!((d=r.params)===null||d===void 0)&&d.typedDataJson)&&typeof r.params.typedDataJson=="string"&&(g={method:r.method,params:[r.address,r.params.typedDataJson]});break;case"wallet_watchAsset":r.params&&(g={method:r.method,params:r.params});break;default:throw new protocol_1$5.OKXConnectError(protocol_1$5.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED)}if(g)if((r.method==="wallet_switchEthereumChain"||r.method==="wallet_addEthereumChain")&&r.params&&"chainId"in r.params){(0,utils_1$h.logDebug)("Eip155Provider send request switch requestParams:",(0,utils_1$h.safeJsonStringify)(g));const _=parseInt(r.params.chainId,16).toString();yield window.okxwallet.request(g);const v=`eip155:${_}:${r.address}`;return(0,utils_1$h.logDebug)("Eip155Provider send request switch result:",v),{result:v,method:r.method}}else{const _=(0,utils_1$h.getChainId)(r.chainId),v=`0x${Number(_).toString(16)}`;if((0,utils_1$h.logDebug)("Eip155Provider current chainId:",_,v),v){yield window.okxwallet.request({method:"wallet_switchEthereumChain",params:[{chainId:v}]}),(0,utils_1$h.logDebug)("Eip155Provider send request requestParams:",v,(0,utils_1$h.safeJsonStringify)(g));const y=yield window.okxwallet.request(g);return(0,utils_1$h.logDebug)("Eip155Provider send request result:",(0,utils_1$h.safeJsonStringify)(y)),{result:y,method:r.method}}}else throw new protocol_1$5.OKXConnectError(protocol_1$5.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED)}catch(g){throw(0,utils_1$h.logDebug)("Eip155Provider encountered an error:",g),g}})}connectReady(){return!0}restoreConnect(){return(0,media_1$5.isDevice)("mobile")?window.okxwallet.request({method:"eth_requestAccounts"}):Promise.resolve()}parseConnectResponse(r,d,g,_,v,y){return __awaiter$s(this,void 0,void 0,function*(){try{let m=[];_.forEach(b=>{b.namespace===protocol_1$5.NameSpaceKeyEip155&&m.push(...b.chains)});let w=[],C={};return m.forEach(b=>{let E=(0,utils_1$h.getChainId)(b),S=v.address.find(R=>R.chainId===E&&R.coinType===60||R.namespaceChainId===b);S&&(w.push(b+":"+S.address),C[b]={publicKey:S.publicKey})}),w&&w.length>0?{namespace:protocol_1$5.NameSpaceKeyEip155,addresses:w,methods:[...InjectUtils_1$4.Eip55Methods],extra:C}:void 0}catch(m){throw m}})}connect(r,d){return __awaiter$s(this,void 0,void 0,function*(){return window.okxwallet.request({method:"eth_requestAccounts"})})}};eip155Provider.Eip155Provider=Eip155Provider$1;(function(f){var r=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(g,_,v,y){y===void 0&&(y=v);var m=Object.getOwnPropertyDescriptor(_,v);(!m||("get"in m?!_.__esModule:m.writable||m.configurable))&&(m={enumerable:!0,get:function(){return _[v]}}),Object.defineProperty(g,y,m)}:function(g,_,v,y){y===void 0&&(y=v),g[y]=_[v]}),d=commonjsGlobal&&commonjsGlobal.__exportStar||function(g,_){for(var v in g)v!=="default"&&!Object.prototype.hasOwnProperty.call(_,v)&&r(_,g,v)};Object.defineProperty(f,"__esModule",{value:!0}),d(eip155Provider,f)})(provider$1);(function(f){var r=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(g,_,v,y){y===void 0&&(y=v);var m=Object.getOwnPropertyDescriptor(_,v);(!m||("get"in m?!_.__esModule:m.writable||m.configurable))&&(m={enumerable:!0,get:function(){return _[v]}}),Object.defineProperty(g,y,m)}:function(g,_,v,y){y===void 0&&(y=v),g[y]=_[v]}),d=commonjsGlobal&&commonjsGlobal.__exportStar||function(g,_){for(var v in g)v!=="default"&&!Object.prototype.hasOwnProperty.call(_,v)&&r(_,g,v)};Object.defineProperty(f,"__esModule",{value:!0}),d(InjectUtils,f),d(provider$1,f)})(inject);var connector={},appwalletConnector={},wsConnector={},__awaiter$r=commonjsGlobal&&commonjsGlobal.__awaiter||function(f,r,d,g){function _(v){return v instanceof d?v:new d(function(y){y(v)})}return new(d||(d=Promise))(function(v,y){function m(b){try{C(g.next(b))}catch(E){y(E)}}function w(b){try{C(g.throw(b))}catch(E){y(E)}}function C(b){b.done?v(b.value):_(b.value).then(m,w)}C((g=g.apply(f,r||[])).next())})};Object.defineProperty(wsConnector,"__esModule",{value:!0});wsConnector.WsConnector=void 0;const safejson_1=requireSafejson(),log_1=requireLog();class WsConnector{constructor(){this.disconnectListener=[],this.walletName="",this.walletNameKey="",this.enable=!0,this.pendingRequests=new Map,(0,log_1.getDefaultReporter)().beginReport()}setAccountChangeListener(r){this.accountChangeListener=r}setConnectionManager(r){this.connectionManager=r}addConnectionListener(){var r;(r=this.connectionManager)===null||r===void 0||r.addListener("sdk_response",(d,g)=>{var _=(0,safejson_1.safeJsonParse)(g);(0,log_1.logDebug)(`Engine ==>> addListener ==> success ==> ${_}`),this.handleResponse(d,_)},function(){})}addDisconnectListener(r){this.disconnectListener.push(r)}connectManagerDisconnect(){return __awaiter$r(this,arguments,void 0,function*(r=!1){var d;yield(d=this.connectionManager)===null||d===void 0?void 0:d.disconnect(r)})}openWallet(r){}bindRequestForPromise(r,d){this.pendingRequests.set(r,d)}send(r,d,g){return __awaiter$r(this,void 0,void 0,function*(){var _,v;(0,log_1.logDebug)("Engine ==>> send  request==>",JSON.stringify(r));const y=this.getRequestId();try{let m=yield(_=this.connectionManager)===null||_===void 0?void 0:_.send(JSON.stringify(Object.assign(Object.assign({},r),{requestId:y})),g);m&&((v=this.connectionManager)===null||v===void 0||v.events.once(m.toString(),w=>{var C;(0,log_1.logDebug)(`Engine ==> send => onAck => ${(0,safejson_1.safeJsonStringify)(w)}`),w&&w.result&&((C=d.onAck)===null||C===void 0||C.call(d))})),d.resolve&&this.bindRequestForPromise(y,d.resolve)}catch(m){return Promise.reject(m)}})}restoreconnect(r,d){return __awaiter$r(this,void 0,void 0,function*(){var g;yield(g=this.connectionManager)===null||g===void 0?void 0:g.restoreConnect(r.topic),d(r)})}restoreconnectFromTopic(r){return __awaiter$r(this,void 0,void 0,function*(){var d;yield(d=this.connectionManager)===null||d===void 0?void 0:d.restoreConnect(r)})}getRequestId(){const r=Date.now().toString();return(0,log_1.logDebug)("Engine ==>> getRequestId ==>",r),r}handleResponse(r,d){if((0,log_1.logDebug)(`Engine ==>> handleResponse_1  ======>response: ${(0,safejson_1.safeJsonStringify)(d)}`,r),"requestId"in d){(0,log_1.logDebug)("Engine ==>> handleResponse_2  ===> in response");let g=d.requestId;const _=this.pendingRequests.get(g);_?((0,log_1.logDebug)("Engine ==>> handleResponse_3  ===> find resolve:",_),_(d),this.pendingRequests.delete(g)):((0,log_1.logDebug)("Engine ==>> handleResponse_3  ===> not find resolve:"),d.method==="disconnect"&&(this.disconnectListener.forEach(v=>v()),this.disconnectListener=[],this.clearData()))}}getCurrentConnectionReady(){var r;return!!(!((r=this.connectionManager)===null||r===void 0)&&r.getCurrentConnectionReady())}saveSessionContent(r,d){var g;(g=this.connectionManager)===null||g===void 0||g.saveSessionContent(r,d)}getSessionContent(r){var d;return(d=this.connectionManager)===null||d===void 0?void 0:d.getSessionContent(r)}setOnConnectResultListener(r){this.connectResultListener=r}getTag(){return""}toJSON(){return"ws-connector"}clearData(){this.pendingRequests.clear()}}wsConnector.WsConnector=WsConnector;Object.defineProperty(appwalletConnector,"__esModule",{value:!0});appwalletConnector.AppwalletConnector=void 0;const ws_connector_1$1=wsConnector,iconnector_1$2=iconnector,utils_1$g=requireUtils$1(),constants_1$d=constants$2;class AppwalletConnector extends ws_connector_1$1.WsConnector{static getConnector(){return new AppwalletConnector}constructor(){super(),this.walletName="OKX App",this.walletNameKey="walletModal.mobileConnectionModal.connectApp"}getTag(){return iconnector_1$2.OKX_APP_WALLET}openWallet(r){var d;if(r&&r.connectRequest){let g=r.connectRequest;if((0,utils_1$g.logDebug)(`appwallet-connector openwallet before useSHortLink engineConnectInfo.connectRequest JSON ${JSON.stringify(r)}`),(0,utils_1$g.useShortLink)()){let _=(0,utils_1$g.getOKXLink)(g);(0,utils_1$g.openOKXUniversalLink)(_)}else{(0,utils_1$g.logDebug)(`appwallet-connector openwallet else connectRequest ${g}`);let _=(0,utils_1$g.encodeConnectParams)(Object.assign(Object.assign({},g),{redirect:(d=r.redirect)!==null&&d!==void 0?d:"none"})),v=(0,utils_1$g.getAppWalletDeepLink)(_);(0,utils_1$g.openOKXDeeplinkWithFallback)(v)}}else(0,utils_1$g.isOS)("android")?(0,utils_1$g.openDeeplinkWithFallback)(constants_1$d.stackDeepLink,()=>{}):(0,utils_1$g.openLinkBlank)(constants_1$d.standardUniversalLink)}}appwalletConnector.AppwalletConnector=AppwalletConnector;var injectConnector={},SolProvider$1={};function base$1(f){if(f.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),d=0;d<r.length;d++)r[d]=255;for(var g=0;g<f.length;g++){var _=f.charAt(g),v=_.charCodeAt(0);if(r[v]!==255)throw new TypeError(_+" is ambiguous");r[v]=g}var y=f.length,m=f.charAt(0),w=Math.log(y)/Math.log(256),C=Math.log(256)/Math.log(y);function b(R){if(R instanceof Uint8Array||(ArrayBuffer.isView(R)?R=new Uint8Array(R.buffer,R.byteOffset,R.byteLength):Array.isArray(R)&&(R=Uint8Array.from(R))),!(R instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(R.length===0)return"";for(var O=0,$=0,I=0,U=R.length;I!==U&&R[I]===0;)I++,O++;for(var L=(U-I)*C+1>>>0,j=new Uint8Array(L);I!==U;){for(var F=R[I],X=0,z=L-1;(F!==0||X<$)&&z!==-1;z--,X++)F+=256*j[z]>>>0,j[z]=F%y>>>0,F=F/y>>>0;if(F!==0)throw new Error("Non-zero carry");$=X,I++}for(var Y=L-$;Y!==L&&j[Y]===0;)Y++;for(var ne=m.repeat(O);Y<L;++Y)ne+=f.charAt(j[Y]);return ne}function E(R){if(typeof R!="string")throw new TypeError("Expected String");if(R.length===0)return new Uint8Array;for(var O=0,$=0,I=0;R[O]===m;)$++,O++;for(var U=(R.length-O)*w+1>>>0,L=new Uint8Array(U);R[O];){var j=r[R.charCodeAt(O)];if(j===255)return;for(var F=0,X=U-1;(j!==0||F<I)&&X!==-1;X--,F++)j+=y*L[X]>>>0,L[X]=j%256>>>0,j=j/256>>>0;if(j!==0)throw new Error("Non-zero carry");I=F,O++}for(var z=U-I;z!==U&&L[z]===0;)z++;for(var Y=new Uint8Array($+(U-z)),ne=$;z!==U;)Y[ne++]=L[z++];return Y}function S(R){var O=E(R);if(O)return O;throw new Error("Non-base"+y+" character")}return{encode:b,decodeUnsafe:E,decode:S}}var src$3=base$1;const basex$1=src$3,ALPHABET$1="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";var bs58$1=basex$1(ALPHABET$1),__awaiter$q=commonjsGlobal&&commonjsGlobal.__awaiter||function(f,r,d,g){function _(v){return v instanceof d?v:new d(function(y){y(v)})}return new(d||(d=Promise))(function(v,y){function m(b){try{C(g.next(b))}catch(E){y(E)}}function w(b){try{C(g.throw(b))}catch(E){y(E)}}function C(b){b.done?v(b.value):_(b.value).then(m,w)}C((g=g.apply(f,r||[])).next())})},__importDefault$2=commonjsGlobal&&commonjsGlobal.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(SolProvider$1,"__esModule",{value:!0});SolProvider$1.SolProvider=void 0;const protocol_1$4=protocol,utils_1$f=requireUtils$1(),bs58_1=__importDefault$2(bs58$1),media_1$4=media$1,InjectUtils_1$3=InjectUtils;class SolProvider{send(r){return __awaiter$q(this,void 0,void 0,function*(){var d;try{yield this.restoreConnect(),(0,utils_1$f.logDebug)("SolProvider send request:",JSON.stringify(r));const v=r.method;let y;if(r.injectParams)switch(v){case"solana_signMessage":if(r.injectParams&&typeof r.injectParams=="object"&&"message"in r.injectParams){var g=(d=r.injectParams)===null||d===void 0?void 0:d.message;const m=new TextEncoder().encode(g),w=yield window.okxwallet.solana.signMessage(m,"utf8");return y={method:r.method,result:bs58_1.default.encode(w.signature)},(0,utils_1$f.logDebug)("SolProvider send result:",JSON.stringify(w)),y}else throw new protocol_1$4.OKXConnectError(protocol_1$4.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`param is error method: '${v}'`);break;case"solana_signTransaction":{let m=yield window.okxwallet.solana.signTransaction(r.injectParams);return(0,utils_1$f.logDebug)("SolProvider send bufferResult:",JSON.stringify(m)),y={method:r.method,injectResult:m},(0,utils_1$f.logDebug)("SolProvider send result:",(0,utils_1$f.safeJsonStringify)(y)),y}break;case"solana_signAllTransactions":{let m=yield window.okxwallet.solana.signAllTransactions(r.injectParams);return(0,utils_1$f.logDebug)("SolProvider send result:",(0,utils_1$f.safeJsonStringify)(m)),y={method:r.method,injectResult:m},y}break;case"solana_signAndSendTransaction":{var _=yield window.okxwallet.solana.signAndSendTransaction(r.injectParams);return(0,utils_1$f.logDebug)("SolProvider send result:",(0,utils_1$f.safeJsonStringify)(_)),y={method:r.method,injectResult:_},y}break;default:throw new protocol_1$4.OKXConnectError(protocol_1$4.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED,`method: '${v}'`)}else throw new protocol_1$4.OKXConnectError(protocol_1$4.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`param is error method: '${v}'`)}catch(v){throw(0,utils_1$f.logDebug)("SolProvider send error:",v),v}})}connectReady(){return!0}disconnect(){}restoreConnect(){return(0,media_1$4.isDevice)("mobile")?this.connect(void 0):Promise.resolve()}parseConnectResponse(r,d,g,_,v,y){return __awaiter$q(this,void 0,void 0,function*(){let m=[];_.forEach(E=>{E.namespace===protocol_1$4.NameSpaceKeySOL&&m.push(...E.chains)});let w=[],C={},b={};if(m.forEach(E=>{let S=v.address.find(R=>R.chainId==="501"&&R.coinType===501||R.namespaceChainId===E);S&&(w.push(E+":"+S.address),b&&"publicKey"in b?C[E]=b:C[E]={publicKey:S.publicKey})}),w&&w.length>0){let E={namespace:protocol_1$4.NameSpaceKeySOL,addresses:w,methods:[...InjectUtils_1$3.SOLANAMethods],extra:C};return(0,utils_1$f.logDebug)("parseConnectResponse nameSpaceResponse :",JSON.stringify(E)),E}})}connect(r,d){return __awaiter$q(this,void 0,void 0,function*(){return window.okxwallet.solana.connect()})}}SolProvider$1.SolProvider=SolProvider;var AptosProvider$2={},__awaiter$p=commonjsGlobal&&commonjsGlobal.__awaiter||function(f,r,d,g){function _(v){return v instanceof d?v:new d(function(y){y(v)})}return new(d||(d=Promise))(function(v,y){function m(b){try{C(g.next(b))}catch(E){y(E)}}function w(b){try{C(g.throw(b))}catch(E){y(E)}}function C(b){b.done?v(b.value):_(b.value).then(m,w)}C((g=g.apply(f,r||[])).next())})};Object.defineProperty(AptosProvider$2,"__esModule",{value:!0});AptosProvider$2.AptosProvider=void 0;const protocol_1$3=protocol,utils_1$e=requireUtils$1(),InjectUtils_1$2=InjectUtils,media_1$3=media$1;let AptosProvider$1=class{send(r){return __awaiter$p(this,void 0,void 0,function*(){try{(0,utils_1$e.logDebug)("AptosProvider send request:",(0,utils_1$e.safeJsonStringify)(r)),yield this.restoreConnect();const d=r.method;let g;switch(d){case"aptos_signMessage":if(r.injectParams){let _=yield window.okxwallet.aptos.signMessage(r.injectParams);return g={method:r.method,result:_.signature},(0,utils_1$e.logDebug)("AptosProvider send result:",(0,utils_1$e.safeJsonStringify)(g)),g}else throw new protocol_1$3.OKXConnectError(protocol_1$3.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`param is error method: '${d}'`);break;case"aptos_signTransaction":{(0,utils_1$e.logDebug)("AptosProvider Method>>>> :",d);let _=yield window.okxwallet.aptos.signTransaction(r.params);return g={method:r.method,result:_},(0,utils_1$e.logDebug)("AptosProvider send result:",(0,utils_1$e.safeJsonStringify)(g)),g}break;case"aptos_signAndSubmitTransaction":{(0,utils_1$e.logDebug)("AptosProvider Method>>>> :",d);let _=yield window.okxwallet.aptos.signAndSubmitTransaction(r.params);return g={method:r.method,result:_.hash},(0,utils_1$e.logDebug)("AptosProvider send result:",(0,utils_1$e.safeJsonStringify)(g)),g}break;default:throw new protocol_1$3.OKXConnectError(protocol_1$3.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED,` method: '${d}'`)}}catch(d){throw(0,utils_1$e.logDebug)("AptosProvider send error:",d),d}})}connectReady(){return!0}disconnect(){}restoreConnect(){return(0,media_1$3.isDevice)("mobile")?window.okxwallet.aptos.connect():Promise.resolve()}parseConnectResponse(r,d,g,_,v,y){return __awaiter$p(this,void 0,void 0,function*(){let m=[];_.forEach(b=>{b.namespace===protocol_1$3.NameSpaceKeyAptos&&m.push(...b.chains)});let w=[],C={};if((0,utils_1$e.logDebug)("AptosProvider parseConnectResponse connectChain",JSON.stringify(m)),m.forEach(b=>{let E=v.address.find(S=>S.chainId==="637"&&S.coinType===637||S.namespaceChainId===b);E&&(w.push(b+":"+E.address),C[b]={publicKey:E.publicKey})}),(0,utils_1$e.logDebug)("AptosProvider parseConnectResponse addresses",JSON.stringify(w)),w&&w.length>0)return{namespace:protocol_1$3.NameSpaceKeyAptos,addresses:w,methods:[...InjectUtils_1$2.AptosMethods],extra:C}})}connect(r,d){return __awaiter$p(this,void 0,void 0,function*(){return window.okxwallet.aptos.connect()})}};AptosProvider$2.AptosProvider=AptosProvider$1;var TONProvider$2={},__awaiter$o=commonjsGlobal&&commonjsGlobal.__awaiter||function(f,r,d,g){function _(v){return v instanceof d?v:new d(function(y){y(v)})}return new(d||(d=Promise))(function(v,y){function m(b){try{C(g.next(b))}catch(E){y(E)}}function w(b){try{C(g.throw(b))}catch(E){y(E)}}function C(b){b.done?v(b.value):_(b.value).then(m,w)}C((g=g.apply(f,r||[])).next())})};Object.defineProperty(TONProvider$2,"__esModule",{value:!0});TONProvider$2.TONProvider=void 0;const protocol_1$2=protocol,utils_1$d=requireUtils$1(),media_1$2=media$1,InjectUtils_1$1=InjectUtils;let TONProvider$1=class{constructor(){this.signalChainConnectResult=void 0}send(r){return __awaiter$o(this,void 0,void 0,function*(){try{(0,utils_1$d.logDebug)("TONProvider send request:",(0,utils_1$d.safeJsonStringify)(r));let d=null;switch(r.method){case"ton_sendTransaction":r.params&&(d={method:"sendTransaction",params:[JSON.stringify(r.params)],id:Date.now().toString()},(0,utils_1$d.logDebug)("TONProvider tonParams first:",JSON.stringify(d)));break;default:throw new protocol_1$2.OKXConnectError(protocol_1$2.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED)}if(d){const g=yield window.okxTonWallet.tonconnect.send(d);if((0,utils_1$d.logDebug)("TONProvider send request result:",(0,utils_1$d.safeJsonStringify)(g)),g.error)throw new protocol_1$2.OKXConnectError(g.error.code,g.error.message);return{result:g.result,method:r.method}}else throw new protocol_1$2.OKXConnectError(protocol_1$2.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED)}catch(d){throw(0,utils_1$d.logDebug)("TONProvider encountered an error:",d),d}})}connectReady(){return!0}restoreConnect(){return Promise.resolve()}parseConnectResponse(r,d,g,_,v,y){return __awaiter$o(this,void 0,void 0,function*(){try{let m=[];_.forEach(b=>{b.namespace===protocol_1$2.NameSpaceKeyTON&&m.push(...b.chains)});let w=[],C={};if(m.forEach(b=>{let E=(0,utils_1$d.getChainId)(b),S=v.address.find(R=>R.chainId==="607"&&R.coinType===607||R.namespaceChainId===b);S&&(w.push(b+":"+S.address),C[b]={publicKey:S.publicKey})}),(0,utils_1$d.logDebug)("tonprovider parseConnectResponse needPop and addresses: ",r,JSON.stringify(w)),w&&w.length>0){let b=_.find(S=>S.namespace===protocol_1$2.NameSpaceKeyTON);(0,utils_1$d.logDebug)("tonprovider parseConnectResponse ton: ",JSON.stringify(b));let E;if(b&&b.params&&y&&y.manifestUrl){this.dappInfo=y;let S=[b.params.ton_addr],R={manifestUrl:y.manifestUrl,items:S};(r||d)&&b.params.ton_proof&&S.push(b.params.ton_proof),(0,utils_1$d.logDebug)("parseConnectResponse ton connect params: ",JSON.stringify(R)),(0,media_1$2.isDevice)("mobile")?E=yield window.okxTonWallet.tonconnect.connect(2,R):r||d?E=yield window.okxTonWallet.tonconnect.connect(2,R):E=yield window.okxTonWallet.tonconnect.restoreConnection()}else throw new protocol_1$2.OKXConnectError(protocol_1$2.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"manifestUrl is nil");if(g&&this.signalChainConnectResult&&(E=this.signalChainConnectResult,this.signalChainConnectResult=void 0),(0,utils_1$d.logDebug)("parseConnectResponse ton connect result: ",JSON.stringify(E)),E&&b){if(E.event==="connect_error")throw new protocol_1$2.OKXConnectError(E.payload.code,E.payload.message);{let S=E.payload.items.find($=>$.name==="ton_addr"),R=E.payload.items.find($=>$.name==="ton_proof");return(0,utils_1$d.logDebug)("tonprovider connect isSignalChain: ",g),{namespace:protocol_1$2.NameSpaceKeyTON,addresses:w,methods:[...InjectUtils_1$1.TONMethods],extra:C,data:{ton_addr:S,ton_proof:R,manifestUrl:y.manifestUrl}}}}}return}catch(m){throw(0,utils_1$d.logDebug)("tonprovider parseConnectResponse error: ",JSON.stringify(m)),m}})}connect(r,d){return __awaiter$o(this,void 0,void 0,function*(){if(r&&d&&d.manifestUrl&&r.params){this.dappInfo=d;let g=[r.params.ton_addr],_={manifestUrl:d.manifestUrl,items:g};r.params.ton_proof&&g.push(r.params.ton_proof),(0,utils_1$d.logDebug)("tonprovider connect params: ",JSON.stringify(_));try{let v=yield window.okxTonWallet.tonconnect.connect(2,_);return(0,utils_1$d.logDebug)("tonprovider connect tonResult: ",JSON.stringify(v)),this.signalChainConnectResult=v,v}catch(v){throw(0,utils_1$d.logDebug)("tonprovider connect error: ",JSON.stringify(v)),new protocol_1$2.OKXConnectError(protocol_1$2.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"tonconnect error")}}else throw new protocol_1$2.OKXConnectError(protocol_1$2.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"manifestUrl or params is nil")})}};TONProvider$2.TONProvider=TONProvider$1;var suiProvider={},__awaiter$n=commonjsGlobal&&commonjsGlobal.__awaiter||function(f,r,d,g){function _(v){return v instanceof d?v:new d(function(y){y(v)})}return new(d||(d=Promise))(function(v,y){function m(b){try{C(g.next(b))}catch(E){y(E)}}function w(b){try{C(g.throw(b))}catch(E){y(E)}}function C(b){b.done?v(b.value):_(b.value).then(m,w)}C((g=g.apply(f,r||[])).next())})};Object.defineProperty(suiProvider,"__esModule",{value:!0});suiProvider.SuiProvider=void 0;const protocol_1$1=protocol,utils_1$c=requireUtils$1(),media_1$1=media$1,InjectUtils_1=InjectUtils;let SuiProvider$1=class{constructor(){}connectReady(){return!0}getSuiPublicKey(){return __awaiter$n(this,void 0,void 0,function*(){return(yield this.connect(void 0)).accounts[0].publicKey})}parseConnectResponse(r,d,g,_,v,y){return __awaiter$n(this,void 0,void 0,function*(){try{let m=[];_.forEach(E=>{E.namespace===protocol_1$1.NameSpaceKeySui&&m.push(...E.chains)});let w=[],C={};if(m.length==0)return;const b=yield this.getSuiPublicKey();return m.forEach(E=>{var S;let R=(0,utils_1$c.getChainId)(E),O=v.address.find($=>$.coinType===784||$.namespaceChainId===E);O&&(w.push(E+":"+O.address),C[E]={publicKey:(S=O.publicKey)!==null&&S!==void 0?S:b})}),w&&w.length>0?{namespace:protocol_1$1.NameSpaceKeySui,addresses:w,methods:[...InjectUtils_1.SuiMethods],extra:C}:void 0}catch(m){throw m}})}restoreConnect(){return(0,media_1$1.isDevice)("mobile")?this.connect(void 0):Promise.resolve()}getSuiWallet(){return window.okxwallet.sui}send(r){return __awaiter$n(this,void 0,void 0,function*(){try{yield this.restoreConnect(),(0,utils_1$c.logDebug)("suiProvider send request:",JSON.stringify(r));const d=r.method;let g;if(r.injectParams&&this.getSuiWallet()){let _=r.injectParams;switch(d){case"sui_signTransactionBlock":g={method:"sui_signTransactionBlock",result:(yield this.getSuiWallet().features["sui:signTransactionBlock"].signTransactionBlock(_)).signature};break;case"sui_signAndExecuteTransactionBlock":g={method:"sui_signAndExecuteTransactionBlock",result:(yield this.getSuiWallet().features["sui:signAndExecuteTransactionBlock"].signAndExecuteTransactionBlock(_)).digest};break;case"sui_signMessage":g={method:"sui_signMessage",result:(yield this.getSuiWallet().features["sui:signMessage"].signMessage(_)).signature};break;case"sui_signPersonalMessage":g={method:"sui_signPersonalMessage",result:(yield this.getSuiWallet().features["sui:signPersonalMessage"].signPersonalMessage(_)).signature};break}}return g}catch(d){throw(0,utils_1$c.logDebug)("suiProvider send error:",d),d}})}connect(r,d){return __awaiter$n(this,void 0,void 0,function*(){var g;return(g=this.getSuiWallet())===null||g===void 0?void 0:g.features["standard:connect"].connect()})}};suiProvider.SuiProvider=SuiProvider$1;var __awaiter$m=commonjsGlobal&&commonjsGlobal.__awaiter||function(f,r,d,g){function _(v){return v instanceof d?v:new d(function(y){y(v)})}return new(d||(d=Promise))(function(v,y){function m(b){try{C(g.next(b))}catch(E){y(E)}}function w(b){try{C(g.throw(b))}catch(E){y(E)}}function C(b){b.done?v(b.value):_(b.value).then(m,w)}C((g=g.apply(f,r||[])).next())})};Object.defineProperty(injectConnector,"__esModule",{value:!0});injectConnector.InjectConnector=void 0;const protocol_1=protocol,utils_1$b=requireUtils$1(),iconnector_1$1=iconnector,SolProvider_1=SolProvider$1,wallet_info_1=walletInfo$1,AptosProvider_1=AptosProvider$2,media_1=media$1,TONProvider_1=TONProvider$2,inject_1=inject,sui_provider_1=suiProvider,utils_2=requireUtils(),sessionUtils_1=sessionUtils;class InjectConnector{constructor(){this.disconnectListener=[],this.providerMap=new Map,this.accountChangedEVMHandler=null,this.accountChangedSolanaPublicKeyHandler=null,this.accountChangedTONHandler=null,this.disconnectHandler=null,this.walletName="",this.walletNameKey="",this.enable=!0,this.providerMap.set(protocol_1.NameSpaceKeyEip155,new inject_1.Eip155Provider),this.providerMap.set(protocol_1.NameSpaceKeySOL,new SolProvider_1.SolProvider),this.providerMap.set(protocol_1.NameSpaceKeyAptos,new AptosProvider_1.AptosProvider),this.providerMap.set(protocol_1.NameSpaceKeyTON,new TONProvider_1.TONProvider),this.providerMap.set(protocol_1.NameSpaceKeySui,new sui_provider_1.SuiProvider)}setAccountChangeListener(r){(0,utils_1$b.logDebug)("setAccountChangeListener: inject",r),this.accountChangeListener=r}setConnectionManager(r){this.connectionManager=r}getInjectProvider(r){for(const[d,g]of this.providerMap.entries())if(r.includes(d))return g}openWallet(r){return __awaiter$m(this,void 0,void 0,function*(){var d,g,_;if((0,utils_1$b.logDebug)("InjectEngine connect begin:",JSON.stringify(r)),!r)throw new protocol_1.OKXConnectError(protocol_1.OKX_CONNECT_ERROR_CODES.BAD_REQUEST_ERROR);this.dappInfo=r.connectRequest.dAppInfo;var v=r.connectRequest;try{if(window&&window.okxwallet){if(v.requests){let w=v.requests.find(I=>I.name==="requestAccounts"),C=yield window.okxwallet.getVersion(),b={method:"connect",requestId:v.requestId,payload:{wallet:{platform:(d=navigator.platform)!==null&&d!==void 0?d:"/",appName:wallet_info_1.OKXInjectWalletName,appVersion:C??"1.0.0",maxProtocolVersion:1},responses:[]}},E={name:"requestAccounts",accounts:[]};b.payload.responses.push(E),yield this.disconnect();const S=(g=w.requiredNamespaces)!==null&&g!==void 0?g:[],R=(_=w.optionalNamespaces)!==null&&_!==void 0?_:[];let O=!0,$=!1;if(S.length+R.length===1&&!(0,media_1.isDevice)("mobile")){const I=S.length===1?S[0]:R[0],U=this.getInjectProvider(I.namespace);yield U==null?void 0:U.connect(I,this.dappInfo),$=!0,O=!1}var y=yield this.getAccountByRequestWallets(O,!1,$,S,R);if(y){if(E.accounts.push(...y),E.accounts.length===0)throw new protocol_1.OKXConnectError(protocol_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"connect connectAccounts is null")}else throw new protocol_1.OKXConnectError(protocol_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"connect requestWallets is null");this.connectResultListener&&(this.disconnectHandler&&window.okxwallet.removeListener("disconnect",this.disconnectHandler),this.disconnectHandler=()=>{console.log("window.okxwallet disconnect:"),this.disconnectListener.forEach(I=>I()),this.disconnectListener=[]},window.okxwallet.on("disconnect",this.disconnectHandler),this.connectResultListener(b))}}else throw new protocol_1.OKXConnectError(protocol_1.OKX_CONNECT_ERROR_CODES.BAD_REQUEST_ERROR)}catch(w){var m=protocol_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR;w instanceof protocol_1.OKXConnectError&&(m=w.code,w.message),this.connectResultListener&&this.connectResultListener({requestId:"-1",method:"connect_error",payload:{code:m}})}})}disconnect(){return __awaiter$m(this,void 0,void 0,function*(){(0,utils_1$b.logDebug)("InjectEngine ==>> disconnect  okxwallet.disconnect()"),window.okxwallet&&(yield window.okxwallet.disconnect(),(0,utils_1$b.logDebug)("InjectEngine ==>> disconnect end okxwallet.disconnect()"))})}getRequestId(){const r=Date.now().toString();return(0,utils_1$b.logDebug)("InjectEngine ==>> getRequestId ==>",r),r}send(r,d){return __awaiter$m(this,void 0,void 0,function*(){var g;try{(0,utils_1$b.logDebug)("InjectEngine send  > request:",(0,utils_1$b.safeJsonStringify)(r));let _=r;if(_.method==="disconnect"){yield this.disconnect(),this.disconnectListener.forEach(y=>y()),this.disconnectListener=[],(g=d.onAck)===null||g===void 0||g.call(d);return}yield this.checkWalletMatch();const v=this.getInjectProvider(_.chainId);if(v){v.send(_).then(y=>{var m;(0,utils_1$b.logDebug)("InjectEngine ==>> send > result:",y),(m=d.resolve)===null||m===void 0||m.call(d,y)}).catch(y=>{var m;let w=y.code;w===4001&&(w=protocol_1.OKX_CONNECT_ERROR_CODES.USER_REJECTS_ERROR);let C={requestId:this.getRequestId(),method:r.method,error:{code:w,message:y.message}};(0,utils_1$b.logDebug)("InjectEngine ==>> send > errorResponse:",JSON.stringify(C)),(m=d.resolve)===null||m===void 0||m.call(d,C)});return}else throw new protocol_1.OKXConnectError(protocol_1.OKX_CONNECT_ERROR_CODES.CHAIN_NOT_SUPPORTED)}catch(_){return(0,utils_1$b.logDebug)("InjectEngine ==>> send  ===> error:",_),Promise.reject(_)}})}checkWalletMatch(){return __awaiter$m(this,void 0,void 0,function*(){return new Promise((r,d)=>{var g;let _=(g=this.connectionManager)===null||g===void 0?void 0:g.getSessionContent("connectSession");_||d(new protocol_1.OKXConnectError(protocol_1.OKX_CONNECT_ERROR_CODES.WALLET_NOT_SUPPORTED)),this.restoreconnect(_,v=>{v?r():d(new protocol_1.OKXConnectError(protocol_1.OKX_CONNECT_ERROR_CODES.WALLET_NOT_SUPPORTED))})})})}checkAccountChanged(){return __awaiter$m(this,void 0,void 0,function*(){var r;try{let d=(r=this.connectionManager)===null||r===void 0?void 0:r.getSessionContent("connectSession");if(!d)throw new protocol_1.OKXConnectError(protocol_1.OKX_CONNECT_ERROR_CODES.WALLET_NOT_SUPPORTED);(0,utils_1$b.logDebug)("inject-connector checkAccountChanged --sessionInfo:",JSON.stringify(d));let g=this.getRequireNameSpaceFromSession(d);(0,utils_1$b.logDebug)("inject-connector checkAccountChanged --requiredNamespaces:",JSON.stringify(g));let _=yield this.getAccountByRequestWallets(!1,!0,!1,g,[]);if((0,utils_1$b.logDebug)("inject-connector checkAccountChanged --accounts:",JSON.stringify(_)),_){let v={};(0,sessionUtils_1.buildAccountNameSpaces)(_,v),this.compareAndModifyNamespaces(d.namespaces,v)||((0,utils_1$b.logDebug)("inject-connector checkAccountChanged --result sessionLocal:",JSON.stringify(d)),this.accountChangeListener?((0,utils_1$b.logDebug)("inject-connector checkAccountChanged -accountChangeListener:",this.accountChangeListener),this.accountChangeListener(d)):((0,utils_1$b.logDebug)("inject-connector checkAccountChanged disconnect:"),yield this.disconnect()))}else throw new protocol_1.OKXConnectError(protocol_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"connect requestWallets is null")}catch(d){throw(0,utils_1$b.logDebug)("inject-connector restoreconnect catch error",JSON.stringify(d)),d}})}compareAndModifyNamespaces(r,d){let g=!0;for(const _ in r)if(d[_]){const v=r[_],y=d[_];(0,utils_1$b.logDebug)("inject-connector checkAccountChanged ns1:",JSON.stringify(v)),(0,utils_1$b.logDebug)("inject-connector checkAccountChanged ns2:",JSON.stringify(y)),JSON.stringify([...v.accounts].sort())===JSON.stringify([...y.accounts].sort())||(g=!1,v.accounts=[...y.accounts],v.extra=Object.assign({},y.extra),v.payload=Object.assign({},y.payload)),(0,utils_1$b.logDebug)("inject-connector checkAccountChanged new ns1:",JSON.stringify(v))}return(0,utils_1$b.logDebug)(`inject-connector checkAccountChanged compareAndModifyNamespaces ===> ${g}`),g}clearData(){this.connectResultListener=void 0}addDisconnectListener(r){this.disconnectListener.push(r)}setOnConnectResultListener(r){this.connectResultListener=r}connectManagerDisconnect(){return __awaiter$m(this,arguments,void 0,function*(r=!1){})}getCurrentConnectionReady(r){return r?r.every(g=>{var _;return(_=this.getInjectProvider(g))===null||_===void 0?void 0:_.connectReady()}):!1}getTag(){return iconnector_1$1.OKX_INJECT_WALLET}toJSON(){return"inject-connector"}getRequireNameSpaceFromSession(r){var d,g,_=[];for(let v in r.namespaces){let y=r.namespaces[v],m={namespace:v,chains:y.chains};if(v===protocol_1.NameSpaceKeyAptos){let w=[];y.chains.forEach(C=>{let b=(0,utils_2.replaceAptosChainName)(C);w.push(b)}),m={namespace:v,chains:w}}else if(v===protocol_1.NameSpaceKeyTON){let w,C;!((d=y.payload)===null||d===void 0)&&d.ton_proof&&(w=(g=y.payload)===null||g===void 0?void 0:g.ton_proof,w.proof.payload&&(C={name:"ton_proof",payload:w.proof.payload})),m={namespace:v,chains:y.chains,params:{ton_addr:{name:"ton_addr"},ton_proof:C}}}_.push(m)}return _}restoreconnect(r,d){var g;if(!window.okxwallet){d(null);return}this.dappInfo=(g=r.sessionConfig)===null||g===void 0?void 0:g.dappInfo,(0,utils_1$b.logDebug)("inject-connector restoreconnect --sessionInfo:",JSON.stringify(r));var _=this.getRequireNameSpaceFromSession(r);(0,utils_1$b.logDebug)("inject-connector restoreconnect --requiredNamespaces:",JSON.stringify(_)),this.getAccountByRequestWallets(!1,!1,!1,_,[]).then(v=>{(0,utils_1$b.logDebug)("inject-connector restoreconnect --accounts:",JSON.stringify(v));let y=!0;for(let C in r.namespaces){var m=v.find(E=>E.namespace===C),w=r.namespaces[C].accounts;if(!m)throw new protocol_1.OKXConnectError(protocol_1.OKX_CONNECT_ERROR_CODES.BAD_REQUEST_ERROR,"resotreconnect error: accountItem error");m.addresses.length===w.length&&m.addresses.slice().sort().every((E,S)=>{if(C===protocol_1.NameSpaceKeyAptos){let R=w.slice().sort()[S];return(0,utils_1$b.logDebug)("check aptos address -value and aptosAdd--",E,R),R=(0,utils_2.replaceAptosChainName)(R),R===E}else return E===w.slice().sort()[S]})||(y=!1)}if(y)d(r);else throw new protocol_1.OKXConnectError(protocol_1.OKX_CONNECT_ERROR_CODES.BAD_REQUEST_ERROR,"resotreconnect error: address not as same as session")}).catch(v=>{(0,utils_1$b.logDebug)("inject-connector restoreconnect catch error",JSON.stringify(v)),d(null)})}getAccountByRequestWallets(r,d,g,_,v){return __awaiter$m(this,void 0,void 0,function*(){try{var y=[],m=[];if((0,media_1.isDevice)("mobile")){var w=yield window.okxwallet.connectWallet(r,{requiredNamespaces:_,optionalNamespaces:v});y.push(w)}else y=yield window.okxwallet.requestWallets(r);var C=[..._??[],...v??[]];let b=y[0];(0,utils_1$b.logDebug)(" InjectEngine connect connectAccounts:",JSON.stringify(b));let E,S=!1;if(C&&b&&b.address)for(const[O,$]of this.providerMap.entries()){let I=yield $.parseConnectResponse(r,d,g,C,b,this.dappInfo);I&&(E=O,m.push(I),O===protocol_1.NameSpaceKeyTON&&(S=!0))}let R=_.every(O=>{let $=m.find(I=>I.namespace===O.namespace);return $?O.chains.every(U=>!!$.addresses.find(j=>j.startsWith(U+":"))):!1});if((0,utils_1$b.logDebug)("InjectEngine connect requiredNamespaces:",JSON.stringify(_)),(0,utils_1$b.logDebug)("InjectEngine connect accountResult:",JSON.stringify(m)),!R)throw yield this.disconnect(),new protocol_1.OKXConnectError(protocol_1.OKX_CONNECT_ERROR_CODES.CHAIN_NOT_SUPPORTED);return(0,media_1.isDevice)("mobile")||(this.configEventWithKey(E,S),yield window.okxwallet.requestWallets(r)),m}catch(b){throw b&&typeof b=="object"&&"code"in b&&b.code===4001?new protocol_1.OKXConnectError(protocol_1.OKX_CONNECT_ERROR_CODES.USER_REJECTS_ERROR):new protocol_1.OKXConnectError(protocol_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR)}})}configEventWithKey(r,d){if(window.okxwallet&&r)if(this.accountChangedEVMHandler&&window.okxwallet.removeListener("accountsChanged",this.accountChangedEVMHandler),this.accountChangedSolanaPublicKeyHandler&&(window.okxwallet.solana.removeListener("accountChanged",this.accountChangedSolanaPublicKeyHandler),window.okxwallet.sui.removeListener("accountChanged",this.accountChangedSolanaPublicKeyHandler)),this.accountChangedTONHandler&&window.okxTonWallet.tonconnect.off("accountChanged",this.accountChangedTONHandler),d)console.log("window.okxwallet configEventWithKey:",r),this.accountChangedTONHandler=()=>{console.log("window.okxwallet configEventWithKey_TON:",Date.now(),r),this.checkAccountChanged().catch(g=>{console.log("window.okxwallet configEventWithKey error: ",g)})},window.okxTonWallet.tonconnect.on("accountChanged",this.accountChangedTONHandler);else switch(r){case protocol_1.NameSpaceKeyEip155:console.log("window.okxwallet configEventWithKey:",r),this.accountChangedEVMHandler=g=>{console.log("window.okxwallet configEventWithKey_evm:",Date.now(),r,g),g&&g.length>0&&this.checkAccountChanged().catch(_=>{console.log("window.okxwallet configEventWithKey error: ",_)})},window.okxwallet.on("accountsChanged",this.accountChangedEVMHandler);break;case protocol_1.NameSpaceKeySOL:console.log("window.okxwallet configEventWithKey:",r),this.accountChangedSolanaPublicKeyHandler=g=>{console.log("window.okxwallet configEventWithKey_solana:",Date.now(),r,g),g&&this.checkAccountChanged().catch(_=>{console.log("window.okxwallet configEventWithKey error: ",_)})},window.okxwallet.solana.on("accountChanged",this.accountChangedSolanaPublicKeyHandler);break;case protocol_1.NameSpaceKeySui:console.log("window.okxwallet configEventWithKey:",r),this.accountChangedSolanaPublicKeyHandler=g=>{console.log("window.okxwallet configEventWithKey_sui:",Date.now(),r,g),g&&this.checkAccountChanged().catch(_=>{console.log("window.okxwallet configEventWithKey error: ",_)})},window.okxwallet.sui.on("accountChanged",this.accountChangedSolanaPublicKeyHandler);break;case protocol_1.NameSpaceKeyTON:console.log("window.okxwallet configEventWithKey:",r);break}}}injectConnector.InjectConnector=InjectConnector;var tgwalletConnector={};Object.defineProperty(tgwalletConnector,"__esModule",{value:!0});tgwalletConnector.TgwalletConnector=void 0;const ws_connector_1=wsConnector,iconnector_1=iconnector,utils_1$a=requireUtils$1();class TgwalletConnector extends ws_connector_1.WsConnector{static getConnector(){return new TgwalletConnector}constructor(){super(),this.walletName="OKX Mini Wallet",this.walletNameKey="walletModal.mobileConnectionModal.connectMini"}getTag(){return iconnector_1.OKX_TG_WALLET}openWallet(r){var d,g;r&&r.connectRequest&&(g=(0,utils_1$a.encodeTWAConnectURLParams)(Object.assign(Object.assign({},r.connectRequest),{redirect:"none"})));var _=(0,utils_1$a.getTelegramWalletTWAUrl)(g,(d=r==null?void 0:r.tmaReturnUrl)!==null&&d!==void 0?d:"back");(0,utils_1$a.openOKXTMAWalletlinkWithFallback)(_)}}tgwalletConnector.TgwalletConnector=TgwalletConnector;var okxwalletInjectConnector={};Object.defineProperty(okxwalletInjectConnector,"__esModule",{value:!0});okxwalletInjectConnector.OkxwalletInjectConnector=void 0;const inject_connector_1=injectConnector;class OkxwalletInjectConnector extends inject_connector_1.InjectConnector{static getConnector(){return new OkxwalletInjectConnector}constructor(){super(),this.walletName="OKX Wallet extension",this.walletNameKey="walletModal.mobileConnectionModal.connectInjected"}}okxwalletInjectConnector.OkxwalletInjectConnector=OkxwalletInjectConnector;(function(f){Object.defineProperty(f,"__esModule",{value:!0}),f.OkxwalletInjectConnector=f.WsConnector=f.TgwalletConnector=f.InjectConnector=f.OKX_INJECT_WALLET=f.OKX_APP_WALLET=f.OKX_TG_WALLET=f.AppwalletConnector=void 0;var r=appwalletConnector;Object.defineProperty(f,"AppwalletConnector",{enumerable:!0,get:function(){return r.AppwalletConnector}});var d=iconnector;Object.defineProperty(f,"OKX_TG_WALLET",{enumerable:!0,get:function(){return d.OKX_TG_WALLET}}),Object.defineProperty(f,"OKX_APP_WALLET",{enumerable:!0,get:function(){return d.OKX_APP_WALLET}}),Object.defineProperty(f,"OKX_INJECT_WALLET",{enumerable:!0,get:function(){return d.OKX_INJECT_WALLET}});var g=injectConnector;Object.defineProperty(f,"InjectConnector",{enumerable:!0,get:function(){return g.InjectConnector}});var _=tgwalletConnector;Object.defineProperty(f,"TgwalletConnector",{enumerable:!0,get:function(){return _.TgwalletConnector}});var v=wsConnector;Object.defineProperty(f,"WsConnector",{enumerable:!0,get:function(){return v.WsConnector}});var y=okxwalletInjectConnector;Object.defineProperty(f,"OkxwalletInjectConnector",{enumerable:!0,get:function(){return y.OkxwalletInjectConnector}})})(connector);(function(f){var r=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(g,_,v,y){y===void 0&&(y=v);var m=Object.getOwnPropertyDescriptor(_,v);(!m||("get"in m?!_.__esModule:m.writable||m.configurable))&&(m={enumerable:!0,get:function(){return _[v]}}),Object.defineProperty(g,y,m)}:function(g,_,v,y){y===void 0&&(y=v),g[y]=_[v]}),d=commonjsGlobal&&commonjsGlobal.__exportStar||function(g,_){for(var v in g)v!=="default"&&!Object.prototype.hasOwnProperty.call(_,v)&&r(_,g,v)};Object.defineProperty(f,"__esModule",{value:!0}),d(connect$2,f),d(protocol,f),d(requireUtils$1(),f),d(inject,f),d(connector,f)})(src$6);var src$2={},okxConnectTon={},okxConnectTonInner={},bridgeProvider={},bridgeConnection={};Object.defineProperty(bridgeConnection,"__esModule",{value:!0});bridgeConnection.isPendingConnectionHttp=isPendingConnectionHttp;function isPendingConnectionHttp(f){return!("connectEvent"in f)}var bridgeConnectionStorage={},__awaiter$l=commonjsGlobal&&commonjsGlobal.__awaiter||function(f,r,d,g){function _(v){return v instanceof d?v:new d(function(y){y(v)})}return new(d||(d=Promise))(function(v,y){function m(b){try{C(g.next(b))}catch(E){y(E)}}function w(b){try{C(g.throw(b))}catch(E){y(E)}}function C(b){b.done?v(b.value):_(b.value).then(m,w)}C((g=g.apply(f,r||[])).next())})};Object.defineProperty(bridgeConnectionStorage,"__esModule",{value:!0});bridgeConnectionStorage.BridgeConnectionStorage=void 0;const core_1$n=src$6;class BridgeConnectionStorage{constructor(r){this.storage=r,this.storeKey="ton_connect_info_adapter_universal"}storeConnection(r){return __awaiter$l(this,void 0,void 0,function*(){return(0,core_1$n.logDebug)("BridgeConnectionStorage ==>> storeConnection ==>> connection:",r),this.storage.saveContent(JSON.stringify(r),this.storeKey)})}removeConnection(){return __awaiter$l(this,void 0,void 0,function*(){return(0,core_1$n.logDebug)("BridgeConnectionStorage ==>> removeConnection"),this.storage.clearCache(this.storeKey)})}getConnection(){return __awaiter$l(this,void 0,void 0,function*(){const r=this.storage.getItem(this.storeKey);if((0,core_1$n.logDebug)("BridgeConnectionStorage ==>> getConnection ==>>this.storage: ",this.storage),!r||!(r!=null&&r.content))return null;try{const d=r==null?void 0:r.content;if(d){let g;return g=JSON.parse(d),(0,core_1$n.logDebug)("BridgeConnectionStorage ==>> getConnection ==>>connection: ",g),g}else return null}catch{return null}})}getHttpConnection(){return __awaiter$l(this,void 0,void 0,function*(){const r=yield this.getConnection();if(!r)throw new core_1$n.OKXConnectError(core_1$n.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"Trying to read HTTP connection source while nothing is stored");return r})}storeLastWalletEventId(r){return __awaiter$l(this,void 0,void 0,function*(){const d=yield this.getConnection();if(d&&"connectEvent"in d)return d.lastWalletEventId=r,this.storeConnection(d)})}getLastWalletEventId(){return __awaiter$l(this,void 0,void 0,function*(){const r=yield this.getConnection();if(r&&"lastWalletEventId"in r)return r.lastWalletEventId})}}bridgeConnectionStorage.BridgeConnectionStorage=BridgeConnectionStorage;var constants$1={};Object.defineProperty(constants$1,"__esModule",{value:!0});constants$1.OKXCONNECTOR_TON_KEY=constants$1.OKXtonConnectSdkVersion=void 0;constants$1.OKXtonConnectSdkVersion="1";constants$1.OKXCONNECTOR_TON_KEY="OKXStorage_ctc";var tonConnectTracker={},types$1={};Object.defineProperty(types$1,"__esModule",{value:!0});types$1.createRequestVersionEvent=createRequestVersionEvent;types$1.createResponseVersionEvent=createResponseVersionEvent;types$1.createVersionInfo=createVersionInfo;types$1.createConnectionStartedEvent=createConnectionStartedEvent;types$1.createConnectionDeepLinkEvent=createConnectionDeepLinkEvent;types$1.createConnectionInfoBeforeJumpEvent=createConnectionInfoBeforeJumpEvent;types$1.createConnectionCompletedEvent=createConnectionCompletedEvent;types$1.createConnectionErrorEvent=createConnectionErrorEvent;types$1.createConnectionRestoringStartedEvent=createConnectionRestoringStartedEvent;types$1.createConnectionRestoringCompletedEvent=createConnectionRestoringCompletedEvent;types$1.createConnectionRestoringErrorEvent=createConnectionRestoringErrorEvent;types$1.createTransactionSentForSignatureEvent=createTransactionSentForSignatureEvent;types$1.createTransactionSignedEvent=createTransactionSignedEvent;types$1.createTransactionSigningFailedEvent=createTransactionSigningFailedEvent;types$1.createDisconnectionEvent=createDisconnectionEvent;function createRequestVersionEvent(){return{type:"request-version"}}function createResponseVersionEvent(f){return{type:"response-version",version:f}}function createVersionInfo(f){return{okx_ton_connect_sdk_lib:f.okx_ton_connect_sdk_lib,okx_connect_ui_lib:f.okx_connect_ui_lib}}function createConnectionInfo(f,r){var d,g,_,v,y,m,w,C;const E=((d=r==null?void 0:r.connectItems)===null||d===void 0?void 0:d.tonProof)&&"proof"in r.connectItems.tonProof?"ton_proof":"ton_addr";return{wallet_address:(_=(g=r==null?void 0:r.account)===null||g===void 0?void 0:g.address)!==null&&_!==void 0?_:null,wallet_type:(v=r==null?void 0:r.device.appName)!==null&&v!==void 0?v:null,wallet_version:(y=r==null?void 0:r.device.appVersion)!==null&&y!==void 0?y:null,auth_type:E,custom_data:Object.assign({chain_id:(w=(m=r==null?void 0:r.account)===null||m===void 0?void 0:m.chain)!==null&&w!==void 0?w:null,provider:(C=r==null?void 0:r.provider)!==null&&C!==void 0?C:null},createVersionInfo(f))}}function createConnectionStartedEvent(f){return{type:"connection-started",custom_data:createVersionInfo(f)}}function createConnectionDeepLinkEvent(f){return{type:"connection-get-deeplink",deeplinkUrl:f}}function createConnectionInfoBeforeJumpEvent(f){return{type:"connection-info-before-jump",connectInfo:f}}function createConnectionCompletedEvent(f,r){return Object.assign({type:"connection-completed",is_success:!0},createConnectionInfo(f,r))}function createConnectionErrorEvent(f,r,d){return{type:"connection-error",is_success:!1,error_message:r,error_code:d??null,custom_data:createVersionInfo(f)}}function createConnectionRestoringStartedEvent(f){return{type:"connection-restoring-started",custom_data:createVersionInfo(f)}}function createConnectionRestoringCompletedEvent(f,r){return Object.assign({type:"connection-restoring-completed",is_success:!0},createConnectionInfo(f,r))}function createConnectionRestoringErrorEvent(f,r){return{type:"connection-restoring-error",is_success:!1,error_message:r,custom_data:createVersionInfo(f)}}function createTransactionInfo(f,r){var d,g,_,v;return{valid_until:(d=String(r.validUntil))!==null&&d!==void 0?d:null,from:(v=(g=r.from)!==null&&g!==void 0?g:(_=f==null?void 0:f.account)===null||_===void 0?void 0:_.address)!==null&&v!==void 0?v:null,messages:r.messages.map(y=>{var m,w;return{address:(m=y.address)!==null&&m!==void 0?m:null,amount:(w=y.amount)!==null&&w!==void 0?w:null}})}}function createTransactionSentForSignatureEvent(f,r,d){return Object.assign(Object.assign({type:"transaction-sent-for-signature"},createConnectionInfo(f,r)),createTransactionInfo(r,d))}function createTransactionSignedEvent(f,r,d,g){return Object.assign(Object.assign({type:"transaction-signed",is_success:!0,signed_transaction:g.boc},createConnectionInfo(f,r)),createTransactionInfo(r,d))}function createTransactionSigningFailedEvent(f,r,d,g,_){return Object.assign(Object.assign({type:"transaction-signing-failed",is_success:!1,error_message:g,error_code:_??null},createConnectionInfo(f,r)),createTransactionInfo(r,d))}function createDisconnectionEvent(f,r,d){return Object.assign({type:"disconnection",scope:d},createConnectionInfo(f,r))}var browserEventDispatcher={},__awaiter$k=commonjsGlobal&&commonjsGlobal.__awaiter||function(f,r,d,g){function _(v){return v instanceof d?v:new d(function(y){y(v)})}return new(d||(d=Promise))(function(v,y){function m(b){try{C(g.next(b))}catch(E){y(E)}}function w(b){try{C(g.throw(b))}catch(E){y(E)}}function C(b){b.done?v(b.value):_(b.value).then(m,w)}C((g=g.apply(f,r||[])).next())})};Object.defineProperty(browserEventDispatcher,"__esModule",{value:!0});browserEventDispatcher.BrowserEventDispatcher=void 0;class BrowserEventDispatcher{constructor(){this.window=window}dispatchEvent(r,d){return __awaiter$k(this,void 0,void 0,function*(){var g;const _=new CustomEvent(r,{detail:d});(g=this.window)===null||g===void 0||g.dispatchEvent(_)})}addEventListener(r,d,g){return __awaiter$k(this,void 0,void 0,function*(){var _;return(_=this.window)===null||_===void 0||_.addEventListener(r,d,g),()=>{var v;return(v=this.window)===null||v===void 0?void 0:v.removeEventListener(r,d)}})}}browserEventDispatcher.BrowserEventDispatcher=BrowserEventDispatcher;var __awaiter$j=commonjsGlobal&&commonjsGlobal.__awaiter||function(f,r,d,g){function _(v){return v instanceof d?v:new d(function(y){y(v)})}return new(d||(d=Promise))(function(v,y){function m(b){try{C(g.next(b))}catch(E){y(E)}}function w(b){try{C(g.throw(b))}catch(E){y(E)}}function C(b){b.done?v(b.value):_(b.value).then(m,w)}C((g=g.apply(f,r||[])).next())})};Object.defineProperty(tonConnectTracker,"__esModule",{value:!0});tonConnectTracker.TonConnectTracker=void 0;const types_1$1=types$1,browser_event_dispatcher_1=browserEventDispatcher;class TonConnectTracker{get version(){return(0,types_1$1.createVersionInfo)({okx_ton_connect_sdk_lib:this.OKXtonConnectSdkVersion,okx_connect_ui_lib:this.OKXConnectUiVersion})}constructor(r){this.eventPrefix="okx-ton-connect-",this.OKXConnectUiVersion=null,this.eventDispatcher=new browser_event_dispatcher_1.BrowserEventDispatcher,this.OKXtonConnectSdkVersion=r.OKXtonConnectSdkVersion,this.init().catch()}init(){return __awaiter$j(this,void 0,void 0,function*(){try{yield this.setRequestVersionHandler(),this.OKXConnectUiVersion=yield this.requestTonConnectUiVersion()}catch{}})}setRequestVersionHandler(){return __awaiter$j(this,void 0,void 0,function*(){yield this.eventDispatcher.addEventListener("okx-ton-connect-request-version",()=>__awaiter$j(this,void 0,void 0,function*(){yield this.eventDispatcher.dispatchEvent("okx-ton-connect-response-version",(0,types_1$1.createResponseVersionEvent)(this.OKXtonConnectSdkVersion))}))})}requestTonConnectUiVersion(){return __awaiter$j(this,void 0,void 0,function*(){return new Promise((r,d)=>__awaiter$j(this,void 0,void 0,function*(){try{yield this.eventDispatcher.addEventListener("okx-connect-ui-response-version",g=>{r(g.detail.version)},{once:!0}),yield this.eventDispatcher.dispatchEvent("okx-connect-ui-request-version",(0,types_1$1.createRequestVersionEvent)())}catch(g){d(g)}}))})}dispatchUserActionEvent(r){try{this.eventDispatcher.dispatchEvent(`${this.eventPrefix}${r.type}`,r).catch()}catch{}}trackConnectionStarted(...r){try{const d=(0,types_1$1.createConnectionStartedEvent)(this.version,...r);this.dispatchUserActionEvent(d)}catch{}}trackConnectionDeepLink(...r){try{const d=(0,types_1$1.createConnectionDeepLinkEvent)(...r);this.dispatchUserActionEvent(d)}catch{}}trackConnectionCompleted(...r){try{const d=(0,types_1$1.createConnectionCompletedEvent)(this.version,...r);this.dispatchUserActionEvent(d)}catch{}}trackConnectionInfoBeforeJump(r){try{const d=(0,types_1$1.createConnectionInfoBeforeJumpEvent)(r);this.dispatchUserActionEvent(d)}catch{}}trackConnectionError(...r){try{const d=(0,types_1$1.createConnectionErrorEvent)(this.version,...r);this.dispatchUserActionEvent(d)}catch{}}trackConnectionRestoringStarted(...r){try{const d=(0,types_1$1.createConnectionRestoringStartedEvent)(this.version,...r);this.dispatchUserActionEvent(d)}catch{}}trackConnectionRestoringCompleted(...r){try{const d=(0,types_1$1.createConnectionRestoringCompletedEvent)(this.version,...r);this.dispatchUserActionEvent(d)}catch{}}trackConnectionRestoringError(...r){try{const d=(0,types_1$1.createConnectionRestoringErrorEvent)(this.version,...r);this.dispatchUserActionEvent(d)}catch{}}trackDisconnection(...r){try{const d=(0,types_1$1.createDisconnectionEvent)(this.version,...r);this.dispatchUserActionEvent(d)}catch{}}trackTransactionSentForSignature(...r){try{const d=(0,types_1$1.createTransactionSentForSignatureEvent)(this.version,...r);this.dispatchUserActionEvent(d)}catch{}}trackTransactionSigned(...r){try{const d=(0,types_1$1.createTransactionSignedEvent)(this.version,...r);this.dispatchUserActionEvent(d)}catch{}}trackTransactionSigningFailed(...r){try{const d=(0,types_1$1.createTransactionSigningFailedEvent)(this.version,...r);this.dispatchUserActionEvent(d)}catch{}}}tonConnectTracker.TonConnectTracker=TonConnectTracker;var __awaiter$i=commonjsGlobal&&commonjsGlobal.__awaiter||function(f,r,d,g){function _(v){return v instanceof d?v:new d(function(y){y(v)})}return new(d||(d=Promise))(function(v,y){function m(b){try{C(g.next(b))}catch(E){y(E)}}function w(b){try{C(g.throw(b))}catch(E){y(E)}}function C(b){b.done?v(b.value):_(b.value).then(m,w)}C((g=g.apply(f,r||[])).next())})};Object.defineProperty(bridgeProvider,"__esModule",{value:!0});bridgeProvider.BridgeProvider=void 0;const bridge_connection_1=bridgeConnection,core_1$m=src$6,bridge_connection_storage_1$1=bridgeConnectionStorage,constants_1$c=constants$1,ton_connect_tracker_1$1=tonConnectTracker;class BridgeProvider{constructor(r,d=void 0,g){this.storage=r,this.type="http",this.listeners=[],this.walletConnectionSource={universalLink:core_1$m.standardUniversalLink},this.openUniversalLink=!1,this.engine=new core_1$m.Engine(d+"_okxton"),this.engine.registerConnector(g),this.connectionStorage=new bridge_connection_storage_1$1.BridgeConnectionStorage(r),this.tracker=new ton_connect_tracker_1$1.TonConnectTracker({OKXtonConnectSdkVersion:constants_1$c.OKXtonConnectSdkVersion}),(0,core_1$m.getDefaultReporter)().configVersionAndSide("tonsdk-1.5.2","dapp",d)}static fromStorage(r){return __awaiter$i(this,arguments,void 0,function*(d,g=void 0,_){(0,core_1$m.logDebug)("bridge-provider ==>> fromStorage ==>>storage:",d),(0,core_1$m.reportLog)("bridge-provider ==>> fromStorage");const y=yield new bridge_connection_storage_1$1.BridgeConnectionStorage(d).getHttpConnection();if((0,bridge_connection_1.isPendingConnectionHttp)(y))return null;const m=new BridgeProvider(d,g,_);return m.openUniversalLink=y.openUniversalLink,m})}connect(r,d,g,_){return __awaiter$i(this,void 0,void 0,function*(){return(0,core_1$m.logDebug)("bridge-provider ==>> connect_1 ==>>message:",r),(0,core_1$m.logDebug)("bridge-provider ==>> connect_1 ==>>redirect:",d),(0,core_1$m.logDebug)("bridge-provider ==>> connect_1 ==>>openUniversalLink:",g),(0,core_1$m.logDebug)("bridge-provider ==>> connect_1 ==>>tmaReturnUrl:",_),(0,core_1$m.reportLog)("bridge-provider ==>> connect"),new Promise((v,y)=>{try{this.openUniversalLink=g,this.openUniversalLink===void 0&&(this.openUniversalLink=(0,core_1$m.isMobileUserAgent)());let w={name:"requestAccounts",requiredNamespaces:[{namespace:"ton",chains:["ton:-239"],params:r.params}]},C=[];r.params.ton_addr&&C.push(r.params.ton_addr),r.params.ton_proof&&C.push(r.params.ton_proof),C.push(w);let b={dappInfo:r.dappInfo,openUniversalUrl:this.openUniversalLink,redirect:d,tmaReturnUrl:_};this.engine.universalConnect(C,b,E=>{(0,core_1$m.logDebug)(`bridge-provider: connect: info>>>> ${JSON.stringify(E)}`);try{const S=(0,core_1$m.encodeConnectParams)(E.connectRequest),R=(0,core_1$m.getAppWalletDeepLink)(S),O=(0,core_1$m.getUniversalLink)(R);this.tracker.trackConnectionInfoBeforeJump(E),v(O)}catch(S){y(S)}}).then(E=>{(0,core_1$m.logDebug)(`bridge-provider: connect: success>>>> ${JSON.stringify(E)}`),this.connectSuccessHandle(E)}).catch(E=>{(0,core_1$m.logDebug)(`bridge-provider: connect: catch>>>> ${JSON.stringify(E)}`);const S={event:"connect_error",requestId:Number(Date.now()),payload:{code:E.code,message:E.message}};(0,core_1$m.logDebug)("bridge-provider ==>> connectListener_4 ==>>connect_error:",S),this.listeners.forEach(R=>R(S)),y(E)})}catch(m){console.error("bridge-provider connect try catch error:>>>",JSON.stringify(m)),y(m)}})})}listen(r){return this.listeners.push(r),()=>this.listeners=this.listeners.filter(d=>d!==r)}disconnectListener(){return __awaiter$i(this,void 0,void 0,function*(){(0,core_1$m.logDebug)("bridge-provider ==>> disconnectListener"),(0,core_1$m.reportLog)("bridge-provider ==>> disconnectListener");const r={event:"disconnect",requestId:1,payload:{}};this.listeners.forEach(d=>d(r)),yield this.closeConnection()})}connectSuccessHandle(r){return __awaiter$i(this,void 0,void 0,function*(){var d,g;try{const _=(d=r.namespaces)===null||d===void 0?void 0:d.ton,v=_.payload,y=r.wallet;if(!_||!v||!y||!v.ton_addr)throw new core_1$m.OKXConnectError(core_1$m.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR);const m=v.ton_addr,w=r.sessionConfig;let C=[];v.ton_addr&&C.push(v.ton_addr),v.ton_proof&&C.push(v.ton_proof);const b={platform:y.platform,appName:y.appName,appVersion:y.appVersion,maxProtocolVersion:y.maxProtocolVersion,features:["ton_sendTransaction"]},E={type:"http",lastWalletEventId:Number(Date.now()),connectEvent:{event:"connect",payload:{items:C,device:b}},connectionSource:this.walletConnectionSource,channelId:r.topic,openUniversalLink:w==null?void 0:w.openUniversalUrl};(0,core_1$m.logDebug)("bridge-provider ==>> connectSuccessHandle_2 ==>>storeConnection:",E),yield this.connectionStorage.storeConnection(E),(g=this.engine)===null||g===void 0||g.addDisconnectListener(this.disconnectListener.bind(this));const S={event:"connect",requestId:E.lastWalletEventId,payload:E.connectEvent.payload};(0,core_1$m.logDebug)("bridge-provider ==>> connectSuccessHandle_3 ==>>listeners.forEach:",S),this.listeners.forEach(R=>R(S))}catch(_){(0,core_1$m.logDebug)("bridge-provider ==>> connectSuccessHandle_4 ==>>error:",_);const v={event:"connect_error",requestId:Number(Date.now()),payload:{code:core_1$m.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,message:"Connect success  connectSuccessHandle response error"}};(0,core_1$m.logDebug)("bridge-provider ==>> connectSuccessHandle_4 ==>>connect_error:",v),this.listeners.forEach(y=>y(v))}})}closeConnection(){return __awaiter$i(this,arguments,void 0,function*(r=!1,d=!1){var g,_;(0,core_1$m.logDebug)("bridge-provider ==>> closeConnection ==>>fromRestore:",r," needOpenUrl:",d),(0,core_1$m.reportLog)("bridge-provider ==>> closeConnection"),this.listeners=[],d||(yield(g=this.engine)===null||g===void 0?void 0:g.connectManagerDisconnect(r)),r||((_=this.engine)===null||_===void 0||_.clearData(),yield this.connectionStorage.removeConnection())})}restoreConnection(){return __awaiter$i(this,void 0,void 0,function*(){var r;(0,core_1$m.logDebug)("bridge-provider ==>> restoreConnection_1"),(0,core_1$m.reportLog)("bridge-provider ==>> restoreConnection");const d=yield this.connectionStorage.getHttpConnection();if(d&&!(0,bridge_connection_1.isPendingConnectionHttp)(d))if((0,core_1$m.logDebug)("bridge-provider ==>> restoreConnection_2 ==>>storedConnection.channelId:",d.channelId),d.channelId)try{const g={event:"connect",requestId:0,payload:d.connectEvent.payload};this.listeners.forEach(v=>v(g)),this.engine.setConnectConnector(d.connectEvent.payload.device);const _=d.channelId;(0,core_1$m.logDebug)("bridge-provider ==>> restoreConnection_3 ==>>this.engine.restoreConnect:",_),(r=this.engine)===null||r===void 0||r.addDisconnectListener(this.disconnectListener.bind(this)),yield this.engine.restoreconnectFromTopic(_)}catch{(0,core_1$m.logDebug)("bridge-provider ==>> restoreConnection_4 ==>>closeConnection_1"),yield this.closeConnection()}else(0,core_1$m.logDebug)("bridge-provider ==>> restoreConnection_4 ==>>closeConnection_2"),yield this.closeConnection()})}openOKXWallet(){(0,core_1$m.logDebug)("bridge-provider ==>> openOKXWallet",this.openUniversalLink),(0,core_1$m.reportLog)("bridge-provider ==>> openOKXWallet"),this.openUniversalLink&&(0,core_1$m.openOKXDeeplink)(core_1$m.standardDeeplink)}disconnect(){return __awaiter$i(this,void 0,void 0,function*(){return(0,core_1$m.logDebug)("bridge-provider ==>> disconnect_1"),(0,core_1$m.reportLog)("bridge-provider ==>> disconnect"),new Promise(r=>__awaiter$i(this,void 0,void 0,function*(){let d=!1;const g=()=>{d||(d=!0,this.closeConnection().then(r))};try{yield this.sendRequest({method:"disconnect"},{onRequestSent:g,attempts:1})}catch{d||this.closeConnection().then(r)}finally{g()}}))})}sendRequest(r,d,g){return(0,core_1$m.logDebug)("bridge-provider ==>> sendRequest"),(0,core_1$m.reportLog)("bridge-provider ==>> sendRequest"),new Promise((_,v)=>__awaiter$i(this,void 0,void 0,function*(){var y;try{yield(y=this.engine)===null||y===void 0?void 0:y.send(r,{resolve:function(m){_(m)},onAck:function(){var m;(m=d==null?void 0:d.onRequestSent)===null||m===void 0||m.call(d)}},g)}catch(m){v(m)}}))}connectorOpenWallet(){this.engine.openWallet()}}bridgeProvider.BridgeProvider=BridgeProvider;var featureSupport={};Object.defineProperty(featureSupport,"__esModule",{value:!0});featureSupport.checkSendTransactionSupport=checkSendTransactionSupport;const core_1$l=src$6;function checkSendTransactionSupport(f,r){if(!f.includes("ton_sendTransaction"))throw new core_1$l.OKXConnectError(core_1$l.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED,"Wallet doesn't support SendTransaction feature.");if(4<r.requiredMessagesNumber)throw new core_1$l.OKXConnectError(core_1$l.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED,`Wallet is not able to handle such SendTransaction request. Max support messages number is 4, but ${r.requiredMessagesNumber} is required.`)}var sendTransactionParser={},rpcParser={};Object.defineProperty(rpcParser,"__esModule",{value:!0});rpcParser.RpcParser=void 0;class RpcParser{isError(r){return"error"in r}}rpcParser.RpcParser=RpcParser;var __rest$2=commonjsGlobal&&commonjsGlobal.__rest||function(f,r){var d={};for(var g in f)Object.prototype.hasOwnProperty.call(f,g)&&r.indexOf(g)<0&&(d[g]=f[g]);if(f!=null&&typeof Object.getOwnPropertySymbols=="function")for(var _=0,g=Object.getOwnPropertySymbols(f);_<g.length;_++)r.indexOf(g[_])<0&&Object.prototype.propertyIsEnumerable.call(f,g[_])&&(d[g[_]]=f[g[_]]);return d};Object.defineProperty(sendTransactionParser,"__esModule",{value:!0});sendTransactionParser.sendTransactionParser=void 0;const rpc_parser_1=rpcParser;class SendTransactionParser extends rpc_parser_1.RpcParser{convertToRpcRequest(r){const{redirect:d}=r,g=__rest$2(r,["redirect"]);return{method:"ton_sendTransaction",redirect:d,params:g}}convertFromRpcResponse(r){return{boc:r.result.toString()}}}sendTransactionParser.sendTransactionParser=new SendTransactionParser;var __awaiter$h=commonjsGlobal&&commonjsGlobal.__awaiter||function(f,r,d,g){function _(v){return v instanceof d?v:new d(function(y){y(v)})}return new(d||(d=Promise))(function(v,y){function m(b){try{C(g.next(b))}catch(E){y(E)}}function w(b){try{C(g.throw(b))}catch(E){y(E)}}function C(b){b.done?v(b.value):_(b.value).then(m,w)}C((g=g.apply(f,r||[])).next())})},__rest$1=commonjsGlobal&&commonjsGlobal.__rest||function(f,r){var d={};for(var g in f)Object.prototype.hasOwnProperty.call(f,g)&&r.indexOf(g)<0&&(d[g]=f[g]);if(f!=null&&typeof Object.getOwnPropertySymbols=="function")for(var _=0,g=Object.getOwnPropertySymbols(f);_<g.length;_++)r.indexOf(g[_])<0&&Object.prototype.propertyIsEnumerable.call(f,g[_])&&(d[g[_]]=f[g[_]]);return d};Object.defineProperty(okxConnectTonInner,"__esModule",{value:!0});okxConnectTonInner.OKXTonConnectInner=void 0;const bridge_provider_1=bridgeProvider,core_1$k=src$6,feature_support_1=featureSupport,ton_connect_tracker_1=tonConnectTracker,send_transaction_parser_1=sendTransactionParser,bridge_connection_storage_1=bridgeConnectionStorage,constants_1$b=constants$1;class OKXTonConnectInner{constructor(r){if(this._wallet=null,this.provider=null,this.statusChangeSubscriptions=[],this.statusChangeErrorSubscriptions=[],this.openUniversalLink=this.provider?this.provider.openUniversalLink:!1,this.connectors=[core_1$k.AppwalletConnector.getConnector()],(0,core_1$k.checkMetaData)(r.metaData),!r.metaData)throw(0,core_1$k.logDebug)("OKXTonConnect constructor error: options.metaData is nil"),new core_1$k.OKXConnectError(core_1$k.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"dapp metaData can not be null");(0,core_1$k.logDebug)("OKXTonConnect constructor options:",JSON.stringify(r)),this.dappSettings={metaData:Object.assign(Object.assign({},r.metaData),{url:window.location.hostname,origin:window.location.origin})},this.tracker=new ton_connect_tracker_1.TonConnectTracker({OKXtonConnectSdkVersion:constants_1$b.OKXtonConnectSdkVersion}),this.storage=new core_1$k.Storage(constants_1$b.OKXCONNECTOR_TON_KEY+this.dappSettings.metaData.name,constants_1$b.OKXCONNECTOR_TON_KEY),this.bridgeConnectionStorage=new bridge_connection_storage_1.BridgeConnectionStorage(this.storage)}registerConnector(r){this.connectors=r}get connected(){return this._wallet!==null}get account(){var r;return((r=this._wallet)===null||r===void 0?void 0:r.account)||null}get wallet(){return this._wallet}set wallet(r){this._wallet=r,this.statusChangeSubscriptions.forEach(d=>d(this._wallet))}connect(r){return __awaiter$h(this,void 0,void 0,function*(){var d;return(0,core_1$k.logDebug)("ton-Connect ==>> connect_1 >> request:",r),this.connected&&(0,core_1$k.logError)("It's already connected to OKX Wallet, please call disconnect() first"),yield(d=this.provider)===null||d===void 0?void 0:d.closeConnection(!1,!0),this.provider||(this.provider=new bridge_provider_1.BridgeProvider(this.storage,this.dappSettings.metaData.name,this.connectors)),this.provider.listen(this.walletEventsListener.bind(this)),this.tracker.trackConnectionStarted(),yield this.provider.connect(this.createConnectRequest(r),r==null?void 0:r.redirect,r==null?void 0:r.openUniversalLink,r==null?void 0:r.tmaReturnUrl)})}walletEventsListener(r){switch((0,core_1$k.logDebug)("ton-Connect ==>> walletEventsListener_1 >> e:",r),r.event){case"connect":this.onWalletConnected(r.payload);break;case"connect_error":this.onWalletConnectError(r.payload);break;case"disconnect":this.onWalletDisconnected("wallet")}}onWalletConnected(r){(0,core_1$k.logDebug)("ton-Connect ==>> onWalletConnected_1 >> connectEvent:",r);const d=r.items.find(v=>v.name==="ton_addr"),g=r.items.find(v=>v.name==="ton_proof");if(!d)throw new core_1$k.OKXConnectError(core_1$k.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"ton_addr connection item was not found");const _={device:r.device,provider:this.provider.type,account:{address:d.address,chain:d.network,walletStateInit:d.walletStateInit,publicKey:d.publicKey}};g&&(_.connectItems={tonProof:g}),this.wallet=_,(0,core_1$k.logDebug)("ton-Connect ==>> onWalletConnected_2 >> wallet:",_),this.tracker.trackConnectionCompleted(_)}onWalletConnectError(r){var d;(0,core_1$k.logDebug)("ton-Connect ==>> onWalletConnectError_1 >> connectEventError:",r);const g=new core_1$k.OKXConnectError(r.code,r.message);(0,core_1$k.logDebug)("ton-Connect ==>> onWalletConnectError_1 >> error:",g),this.statusChangeErrorSubscriptions.forEach(_=>_(g)),this.tracker.trackConnectionError((d=r.message)!==null&&d!==void 0?d:"",r.code)}onWalletDisconnected(r){this.tracker.trackDisconnection(this.wallet,r),this.wallet=null}disconnect(){return __awaiter$h(this,void 0,void 0,function*(){var r;if((0,core_1$k.logDebug)("ton-Connect ==>> disconnect_1"),!this.connected)throw new core_1$k.OKXConnectError(core_1$k.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR,"wallet is not connected");(0,core_1$k.logDebug)("ton-Connect ==>> disconnect_222"),this.onWalletDisconnected("dapp"),yield(r=this.provider)===null||r===void 0?void 0:r.disconnect()})}onStatusChange(r,d){return this.statusChangeSubscriptions.push(r),d&&this.statusChangeErrorSubscriptions.push(d),()=>{this.statusChangeSubscriptions=this.statusChangeSubscriptions.filter(g=>g!==r),d&&(this.statusChangeErrorSubscriptions=this.statusChangeErrorSubscriptions.filter(g=>g!==d))}}restoreConnection(){return __awaiter$h(this,void 0,void 0,function*(){var r;(0,core_1$k.logDebug)("ton-Connect ==>> restoreConnection_1"),this.tracker.trackConnectionRestoringStarted();let d=null;try{d=yield bridge_provider_1.BridgeProvider.fromStorage(this.storage,this.dappSettings.metaData.name,this.connectors)}catch{this.tracker.trackConnectionRestoringError("Provider is not restored"),yield this.bridgeConnectionStorage.removeConnection(),d==null||d.closeConnection(),d=null;return}if(!d){(0,core_1$k.logError)("Provider is not restored"),this.tracker.trackConnectionRestoringError("Provider is not restored");return}(0,core_1$k.logDebug)("ton-Connect ==>> restoreConnection_2 ==>> Provider is restored "),(r=this.provider)===null||r===void 0||r.closeConnection(!0,!1),this.provider=d,d.listen(this.walletEventsListener.bind(this)),yield this.provider.restoreConnection(),this.connected?this.tracker.trackConnectionRestoringCompleted(this.wallet):this.tracker.trackConnectionRestoringError("Connection restoring failed")})}sendTransaction(r,d){return __awaiter$h(this,void 0,void 0,function*(){var g;(0,core_1$k.logDebug)("ton-Connect ==>> sendTransaction_1",r),this.checkConnection(),(0,feature_support_1.checkSendTransactionSupport)(this.wallet.device.features,{requiredMessagesNumber:r.messages.length}),this.tracker.trackTransactionSentForSignature(this.wallet,r),(0,core_1$k.logDebug)("ton-Connect ==>> sendTransaction_2 ==>> check params");const{validUntil:_}=r,v=__rest$1(r,["validUntil"]),y=r.from||this.account.address;let m=this.account.chain;(0,core_1$k.logDebug)("ton-Connect ==>> sendTransaction_2 ==>> await sendRequest",m),(0,core_1$k.isIos)()&&!(d!=null&&d.doNotOpenWallet)&&((g=this.provider)===null||g===void 0||g.openOKXWallet());const w=yield this.provider.sendRequest(send_transaction_parser_1.sendTransactionParser.convertToRpcRequest(Object.assign(Object.assign({},v),{valid_until:_,from:y,network:m})),{onRequestSent:()=>{var b,E;!(0,core_1$k.isIos)()&&!(d!=null&&d.doNotOpenWallet)&&((b=this.provider)===null||b===void 0||b.openOKXWallet()),(E=d==null?void 0:d.onRequestSent)===null||E===void 0||E.call(d)}});if((0,core_1$k.logDebug)("ton-Connect ==>> sendTransaction_3 ==>>sendRequest response:",w),send_transaction_parser_1.sendTransactionParser.isError(w))throw this.tracker.trackTransactionSigningFailed(this.wallet,r,w.error.message,w.error.code),new core_1$k.OKXConnectError(w.error.code,w.error.message);const C=send_transaction_parser_1.sendTransactionParser.convertFromRpcResponse(w);return this.tracker.trackTransactionSigned(this.wallet,r,C),C})}checkConnection(){if((0,core_1$k.logDebug)("ton-Connect ==>> checkConnection"),!this.connected)throw new core_1$k.OKXConnectError(core_1$k.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR,"Wallet not connected")}createConnectRequest(r){(0,core_1$k.logDebug)("ton-Connect ==>> createConnectRequest");const d={ton_addr:{name:"ton_addr"}};return r!=null&&r.tonProof&&(d.ton_proof={name:"ton_proof",payload:r.tonProof}),{dappInfo:this.dappSettings.metaData,params:d}}static getWallets(){return this.walletsList}}okxConnectTonInner.OKXTonConnectInner=OKXTonConnectInner;OKXTonConnectInner.walletsList=[(0,core_1$k.creatOKXWalletInfo)()];var __awaiter$g=commonjsGlobal&&commonjsGlobal.__awaiter||function(f,r,d,g){function _(v){return v instanceof d?v:new d(function(y){y(v)})}return new(d||(d=Promise))(function(v,y){function m(b){try{C(g.next(b))}catch(E){y(E)}}function w(b){try{C(g.throw(b))}catch(E){y(E)}}function C(b){b.done?v(b.value):_(b.value).then(m,w)}C((g=g.apply(f,r||[])).next())})};Object.defineProperty(okxConnectTon,"__esModule",{value:!0});okxConnectTon.OKXTonConnect=void 0;const core_1$j=src$6,okx_connect_ton_inner_1=okxConnectTonInner;class OKXTonConnect{constructor(r){try{(0,core_1$j.logDebug)("OKXTonConnect constructor called"),window&&window.okxConnectTonsdkinwindow&&window.okxConnectTonsdkinwindow instanceof okx_connect_ton_inner_1.OKXTonConnectInner?(this.tonInner=window.okxConnectTonsdkinwindow,(0,core_1$j.logDebug)("OKXTonConnect constructor old called")):(this.tonInner=new okx_connect_ton_inner_1.OKXTonConnectInner(r),(0,core_1$j.logDebug)("OKXTonConnect constructor new called"),this.registerConnector([core_1$j.AppwalletConnector.getConnector()]),window&&(window.okxConnectTonsdkinwindow=this.tonInner))}catch(d){throw d}}get connected(){return this.tonInner.connected}get openUniversalLink(){return this.tonInner.openUniversalLink}get provider(){return this.tonInner.provider}get account(){return this.tonInner.account}get wallet(){return this.tonInner.wallet}set wallet(r){this.tonInner.wallet=r}connect(r){return __awaiter$g(this,void 0,void 0,function*(){return this.tonInner.connect(r)})}disconnect(){return __awaiter$g(this,void 0,void 0,function*(){return this.tonInner.disconnect()})}onStatusChange(r,d){return this.tonInner.onStatusChange(r,d)}restoreConnection(){return __awaiter$g(this,void 0,void 0,function*(){return this.tonInner.restoreConnection()})}sendTransaction(r,d){return __awaiter$g(this,void 0,void 0,function*(){return this.tonInner.sendTransaction(r,d)})}static getWallets(){return okx_connect_ton_inner_1.OKXTonConnectInner.getWallets()}registerConnector(r){this.tonInner.registerConnector(r)}}okxConnectTon.OKXTonConnect=OKXTonConnect;var tracker={},trackerConstants={};Object.defineProperty(trackerConstants,"__esModule",{value:!0});trackerConstants.OKX_TON_CONNECTION_AND_TRANSACTION_EVENT=void 0;var OKX_TON_CONNECTION_AND_TRANSACTION_EVENT;(function(f){f.OKX_TON_CONNECTION_STARTED="okx-ton-connect-connection-started",f.OKX_TON_CONNECTION_COMPLETED="okx-ton-connect-connection-completed",f.OKX_TON_CONNECTION_ERROR="okx-ton-connect-connection-error",f.OKX_TON_CONNECTION_RESTORING_STARTED="okx-ton-connect-connection-restoring-started",f.OKX_TON_CONNECTION_RESTORING_COMPLETED="okx-ton-connect-connection-restoring-completed",f.OKX_TON_CONNECTION_RESTORING_ERROR="okx-ton-connect-connection-restoring-error",f.OKX_TON_DISCONNECTION="okx-ton-connect-disconnection",f.OKX_TON_TRANSACTION_SENT_FOR_SIGNATURE="okx-ton-connect-transaction-sent-for-signature",f.OKX_TON_TRANSACTION_SIGNED="okx-ton-connect-transaction-signed",f.OKX_TON_TRANSACTION_SIGNING_FAILED="okx-ton-connect-transaction-signing-failed"})(OKX_TON_CONNECTION_AND_TRANSACTION_EVENT||(trackerConstants.OKX_TON_CONNECTION_AND_TRANSACTION_EVENT=OKX_TON_CONNECTION_AND_TRANSACTION_EVENT={}));(function(f){Object.defineProperty(f,"__esModule",{value:!0}),f.BrowserEventDispatcher=f.createVersionInfo=f.createTransactionSigningFailedEvent=f.createTransactionSignedEvent=f.createTransactionSentForSignatureEvent=f.createDisconnectionEvent=f.createConnectionStartedEvent=f.createConnectionRestoringStartedEvent=f.createConnectionRestoringErrorEvent=f.createConnectionRestoringCompletedEvent=f.createConnectionErrorEvent=f.createConnectionCompletedEvent=f.createResponseVersionEvent=f.createRequestVersionEvent=f.OKX_TON_CONNECTION_AND_TRANSACTION_EVENT=void 0;var r=trackerConstants;Object.defineProperty(f,"OKX_TON_CONNECTION_AND_TRANSACTION_EVENT",{enumerable:!0,get:function(){return r.OKX_TON_CONNECTION_AND_TRANSACTION_EVENT}});var d=types$1;Object.defineProperty(f,"createRequestVersionEvent",{enumerable:!0,get:function(){return d.createRequestVersionEvent}}),Object.defineProperty(f,"createResponseVersionEvent",{enumerable:!0,get:function(){return d.createResponseVersionEvent}}),Object.defineProperty(f,"createConnectionCompletedEvent",{enumerable:!0,get:function(){return d.createConnectionCompletedEvent}}),Object.defineProperty(f,"createConnectionErrorEvent",{enumerable:!0,get:function(){return d.createConnectionErrorEvent}}),Object.defineProperty(f,"createConnectionRestoringCompletedEvent",{enumerable:!0,get:function(){return d.createConnectionRestoringCompletedEvent}}),Object.defineProperty(f,"createConnectionRestoringErrorEvent",{enumerable:!0,get:function(){return d.createConnectionRestoringErrorEvent}}),Object.defineProperty(f,"createConnectionRestoringStartedEvent",{enumerable:!0,get:function(){return d.createConnectionRestoringStartedEvent}}),Object.defineProperty(f,"createConnectionStartedEvent",{enumerable:!0,get:function(){return d.createConnectionStartedEvent}}),Object.defineProperty(f,"createDisconnectionEvent",{enumerable:!0,get:function(){return d.createDisconnectionEvent}}),Object.defineProperty(f,"createTransactionSentForSignatureEvent",{enumerable:!0,get:function(){return d.createTransactionSentForSignatureEvent}}),Object.defineProperty(f,"createTransactionSignedEvent",{enumerable:!0,get:function(){return d.createTransactionSignedEvent}}),Object.defineProperty(f,"createTransactionSigningFailedEvent",{enumerable:!0,get:function(){return d.createTransactionSigningFailedEvent}}),Object.defineProperty(f,"createVersionInfo",{enumerable:!0,get:function(){return d.createVersionInfo}});var g=browserEventDispatcher;Object.defineProperty(f,"BrowserEventDispatcher",{enumerable:!0,get:function(){return g.BrowserEventDispatcher}})})(tracker);var utils$2={},url={};Object.defineProperty(url,"__esModule",{value:!0});url.removeUrlLastSlash=removeUrlLastSlash;url.addPathToUrl=addPathToUrl;function removeUrlLastSlash(f){return f.slice(-1)==="/"?f.slice(0,-1):f}function addPathToUrl(f,r){return removeUrlLastSlash(f)+"/"+r}var address={};Object.defineProperty(address,"__esModule",{value:!0});address.toUserFriendlyAddress=toUserFriendlyAddress;const core_1$i=src$6,noBounceableTag=81,testOnlyTag=128;function toUserFriendlyAddress(f,r=!1){const{wc:d,hex:g}=parseHexAddress(f);let _=noBounceableTag;r&&(_|=testOnlyTag);const v=new Int8Array(34);v[0]=_,v[1]=d,v.set(g,2);const y=new Uint8Array(36);return y.set(v),y.set(crc16(v),34),(0,core_1$i.base64encode)(y,!1).replace(/\+/g,"-").replace(/\//g,"_")}function parseHexAddress(f){if(!f.includes(":"))throw new Error(`Wrong address ${f}. Address must include ":".`);const r=f.split(":");if(r.length!==2)throw new Error(`Wrong address ${f}. Address must include ":" only once.`);const d=parseInt(r[0]);if(d!==0&&d!==-1)throw new Error(`Wrong address ${f}. WC must be eq 0 or -1, but ${d} received.`);const g=r[1];if((g==null?void 0:g.length)!==64)throw new Error(`Wrong address ${f}. Hex part must be 64bytes length, but ${g==null?void 0:g.length} received.`);return{wc:d,hex:hexToBytes(g)}}function crc16(f){let d=0;const g=new Uint8Array(f.length+2);g.set(f);for(let _ of g){let v=128;for(;v>0;)d<<=1,_&v&&(d+=1),v>>=1,d>65535&&(d&=65535,d^=4129)}return new Uint8Array([Math.floor(d/256),d%256])}const toByteMap={};for(let f=0;f<=255;f++){let r=f.toString(16);r.length<2&&(r="0"+r),toByteMap[r]=f}function hexToBytes(f){f=f.toLowerCase();const r=f.length;if(r%2!==0)throw new Error("Hex string must have length a multiple of 2: "+f);const d=r/2,g=new Uint8Array(d);for(let _=0;_<d;_++){const v=_*2,y=f.substring(v,v+2);if(!toByteMap.hasOwnProperty(y))throw new Error("Invalid hex character: "+y);g[_]=toByteMap[y]}return g}(function(f){Object.defineProperty(f,"__esModule",{value:!0}),f.toUserFriendlyAddress=f.removeUrlLastSlash=f.addPathToUrl=void 0;var r=url;Object.defineProperty(f,"addPathToUrl",{enumerable:!0,get:function(){return r.addPathToUrl}}),Object.defineProperty(f,"removeUrlLastSlash",{enumerable:!0,get:function(){return r.removeUrlLastSlash}});var d=address;Object.defineProperty(f,"toUserFriendlyAddress",{enumerable:!0,get:function(){return d.toUserFriendlyAddress}})})(utils$2);(function(f){var r=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(y,m,w,C){C===void 0&&(C=w);var b=Object.getOwnPropertyDescriptor(m,w);(!b||("get"in b?!m.__esModule:b.writable||b.configurable))&&(b={enumerable:!0,get:function(){return m[w]}}),Object.defineProperty(y,C,b)}:function(y,m,w,C){C===void 0&&(C=w),y[C]=m[w]}),d=commonjsGlobal&&commonjsGlobal.__exportStar||function(y,m){for(var w in y)w!=="default"&&!Object.prototype.hasOwnProperty.call(m,w)&&r(m,y,w)};Object.defineProperty(f,"__esModule",{value:!0}),f.toUserFriendlyAddress=f.removeUrlLastSlash=f.addPathToUrl=f.createVersionInfo=f.BrowserEventDispatcher=f.createTransactionSigningFailedEvent=f.createTransactionSignedEvent=f.createTransactionSentForSignatureEvent=f.createDisconnectionEvent=f.createConnectionStartedEvent=f.createConnectionRestoringStartedEvent=f.createConnectionRestoringErrorEvent=f.createConnectionRestoringCompletedEvent=f.createConnectionErrorEvent=f.createConnectionCompletedEvent=f.createResponseVersionEvent=f.createRequestVersionEvent=f.OKX_TON_CONNECTION_AND_TRANSACTION_EVENT=f.OKXTonConnect=void 0;var g=okxConnectTon;Object.defineProperty(f,"OKXTonConnect",{enumerable:!0,get:function(){return g.OKXTonConnect}}),d(src$6,f);var _=tracker;Object.defineProperty(f,"OKX_TON_CONNECTION_AND_TRANSACTION_EVENT",{enumerable:!0,get:function(){return _.OKX_TON_CONNECTION_AND_TRANSACTION_EVENT}}),Object.defineProperty(f,"createRequestVersionEvent",{enumerable:!0,get:function(){return _.createRequestVersionEvent}}),Object.defineProperty(f,"createResponseVersionEvent",{enumerable:!0,get:function(){return _.createResponseVersionEvent}}),Object.defineProperty(f,"createConnectionCompletedEvent",{enumerable:!0,get:function(){return _.createConnectionCompletedEvent}}),Object.defineProperty(f,"createConnectionErrorEvent",{enumerable:!0,get:function(){return _.createConnectionErrorEvent}}),Object.defineProperty(f,"createConnectionRestoringCompletedEvent",{enumerable:!0,get:function(){return _.createConnectionRestoringCompletedEvent}}),Object.defineProperty(f,"createConnectionRestoringErrorEvent",{enumerable:!0,get:function(){return _.createConnectionRestoringErrorEvent}}),Object.defineProperty(f,"createConnectionRestoringStartedEvent",{enumerable:!0,get:function(){return _.createConnectionRestoringStartedEvent}}),Object.defineProperty(f,"createConnectionStartedEvent",{enumerable:!0,get:function(){return _.createConnectionStartedEvent}}),Object.defineProperty(f,"createDisconnectionEvent",{enumerable:!0,get:function(){return _.createDisconnectionEvent}}),Object.defineProperty(f,"createTransactionSentForSignatureEvent",{enumerable:!0,get:function(){return _.createTransactionSentForSignatureEvent}}),Object.defineProperty(f,"createTransactionSignedEvent",{enumerable:!0,get:function(){return _.createTransactionSignedEvent}}),Object.defineProperty(f,"createTransactionSigningFailedEvent",{enumerable:!0,get:function(){return _.createTransactionSigningFailedEvent}}),Object.defineProperty(f,"BrowserEventDispatcher",{enumerable:!0,get:function(){return _.BrowserEventDispatcher}}),Object.defineProperty(f,"createVersionInfo",{enumerable:!0,get:function(){return _.createVersionInfo}});var v=utils$2;Object.defineProperty(f,"addPathToUrl",{enumerable:!0,get:function(){return v.addPathToUrl}}),Object.defineProperty(f,"removeUrlLastSlash",{enumerable:!0,get:function(){return v.removeUrlLastSlash}}),Object.defineProperty(f,"toUserFriendlyAddress",{enumerable:!0,get:function(){return v.toUserFriendlyAddress}})})(src$2);var classnames={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(f){(function(){var r={}.hasOwnProperty;function d(){for(var v="",y=0;y<arguments.length;y++){var m=arguments[y];m&&(v=_(v,g(m)))}return v}function g(v){if(typeof v=="string"||typeof v=="number")return v;if(typeof v!="object")return"";if(Array.isArray(v))return d.apply(null,v);if(v.toString!==Object.prototype.toString&&!v.toString.toString().includes("[native code]"))return v.toString();var y="";for(var m in v)r.call(v,m)&&v[m]&&(y=_(y,m));return y}function _(v,y){return y?v?v+" "+y:v+y:v}f.exports?(d.default=d,f.exports=d):window.classNames=d})()})(classnames);var classnamesExports=classnames.exports;const cn=getDefaultExportFromCjs(classnamesExports);var isMergeableObject=function f(r){return isNonNullObject(r)&&!isSpecial(r)};function isNonNullObject(f){return!!f&&typeof f=="object"}function isSpecial(f){var r=Object.prototype.toString.call(f);return r==="[object RegExp]"||r==="[object Date]"||isReactElement(f)}var canUseSymbol=typeof Symbol=="function"&&Symbol.for,REACT_ELEMENT_TYPE=canUseSymbol?Symbol.for("react.element"):60103;function isReactElement(f){return f.$$typeof===REACT_ELEMENT_TYPE}function emptyTarget(f){return Array.isArray(f)?[]:{}}function cloneUnlessOtherwiseSpecified(f,r){return r.clone!==!1&&r.isMergeableObject(f)?deepmerge(emptyTarget(f),f,r):f}function defaultArrayMerge(f,r,d){return f.concat(r).map(function(g){return cloneUnlessOtherwiseSpecified(g,d)})}function getMergeFunction(f,r){if(!r.customMerge)return deepmerge;var d=r.customMerge(f);return typeof d=="function"?d:deepmerge}function getEnumerableOwnPropertySymbols(f){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(f).filter(function(r){return Object.propertyIsEnumerable.call(f,r)}):[]}function getKeys(f){return Object.keys(f).concat(getEnumerableOwnPropertySymbols(f))}function propertyIsOnObject(f,r){try{return r in f}catch{return!1}}function propertyIsUnsafe(f,r){return propertyIsOnObject(f,r)&&!(Object.hasOwnProperty.call(f,r)&&Object.propertyIsEnumerable.call(f,r))}function mergeObject(f,r,d){var g={};return d.isMergeableObject(f)&&getKeys(f).forEach(function(_){g[_]=cloneUnlessOtherwiseSpecified(f[_],d)}),getKeys(r).forEach(function(_){propertyIsUnsafe(f,_)||(propertyIsOnObject(f,_)&&d.isMergeableObject(r[_])?g[_]=getMergeFunction(_,d)(f[_],r[_],d):g[_]=cloneUnlessOtherwiseSpecified(r[_],d))}),g}function deepmerge(f,r,d){d=d||{},d.arrayMerge=d.arrayMerge||defaultArrayMerge,d.isMergeableObject=d.isMergeableObject||isMergeableObject,d.cloneUnlessOtherwiseSpecified=cloneUnlessOtherwiseSpecified;var g=Array.isArray(r),_=Array.isArray(f),v=g===_;return v?g?d.arrayMerge(f,r,d):mergeObject(f,r,d):cloneUnlessOtherwiseSpecified(r,d)}deepmerge.all=function f(r,d){if(!Array.isArray(r))throw new Error("first argument should be an array");return r.reduce(function(g,_){return deepmerge(g,_,d)},{})};var deepmerge_1=deepmerge,cjs=deepmerge_1;const deepmerge$1=getDefaultExportFromCjs(cjs);var src$1={},types={},providers={};Object.defineProperty(providers,"__esModule",{value:!0});providers.IJSONRpcProvider=providers.IJSONRpcConnection=void 0;class IJSONRpcConnection{}providers.IJSONRpcConnection=IJSONRpcConnection;class IJSONRpcProvider{constructor(r){}}providers.IJSONRpcProvider=IJSONRpcProvider;var misc$1={};Object.defineProperty(misc$1,"__esModule",{value:!0});(function(f){var r=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(g,_,v,y){y===void 0&&(y=v);var m=Object.getOwnPropertyDescriptor(_,v);(!m||("get"in m?!_.__esModule:m.writable||m.configurable))&&(m={enumerable:!0,get:function(){return _[v]}}),Object.defineProperty(g,y,m)}:function(g,_,v,y){y===void 0&&(y=v),g[y]=_[v]}),d=commonjsGlobal&&commonjsGlobal.__exportStar||function(g,_){for(var v in g)v!=="default"&&!Object.prototype.hasOwnProperty.call(_,v)&&r(_,g,v)};Object.defineProperty(f,"__esModule",{value:!0}),d(providers,f),d(misc$1,f)})(types);var packages={},utils$1={},ConnectMethodUtils={},provider={},utils={},misc={};Object.defineProperty(misc,"__esModule",{value:!0});misc.getRpcUrl=getRpcUrl;misc.getChainId=getChainId;misc.fromAccountToAddress=fromAccountToAddress;misc.convertChainIdToNumber=convertChainIdToNumber;misc.parseChainId=parseChainId;misc.mergeArrays=mergeArrays;misc.syncAddressAvailable=syncAddressAvailable;misc.syncAddressHostAvailable=syncAddressHostAvailable;const core_1$h=src$6;function getRpcUrl(f,r,d){var g;const _=parseChainId(f);return((g=r.rpcMap)===null||g===void 0?void 0:g[_.reference])||""}function getChainId(f){return f.includes(":")?f.split(":")[1]:f}function fromAccountToAddress(f){if(!f)return"";try{let r=f.split(":").slice(2),d=r.length>0?r.join(":"):"";return(0,core_1$h.logDebug)("fromAccountToAddress address and account:",d,f),d}catch{return(0,core_1$h.logError)("fromAccountToAddress error:",f),""}}function convertChainIdToNumber(f){return typeof f=="number"?f:f.includes("0x")?parseInt(f,16):(f=f.includes(":")?f.split(":")[1]:f,isNaN(Number(f))?f:Number(f))}const CAIP_DELIMITER=":";function parseChainId(f){const[r,d]=f.split(CAIP_DELIMITER);return{namespace:r,reference:d}}function mergeArrays(f=[],r=[]){return[...new Set([...f,...r])]}function syncAddressAvailable(f){return!f||f.appName!=="OKX Wallet"||(0,core_1$h.versionCompare)("6.97.0",f.appVersion)>0?!1:syncAddressHostAvailable()}function syncAddressHostAvailable(){try{return!!window.okxGlobal}catch{return!1}}var globals$1={};Object.defineProperty(globals$1,"__esModule",{value:!0});globals$1.setGlobal=globals$1.getGlobal=void 0;const globals={},getGlobal=f=>globals[f];globals$1.getGlobal=getGlobal;const setGlobal=(f,r)=>{globals[f]=r};globals$1.setGlobal=setGlobal;(function(f){var r=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(g,_,v,y){y===void 0&&(y=v);var m=Object.getOwnPropertyDescriptor(_,v);(!m||("get"in m?!_.__esModule:m.writable||m.configurable))&&(m={enumerable:!0,get:function(){return _[v]}}),Object.defineProperty(g,y,m)}:function(g,_,v,y){y===void 0&&(y=v),g[y]=_[v]}),d=commonjsGlobal&&commonjsGlobal.__exportStar||function(g,_){for(var v in g)v!=="default"&&!Object.prototype.hasOwnProperty.call(_,v)&&r(_,g,v)};Object.defineProperty(f,"__esModule",{value:!0}),d(misc,f),d(globals$1,f)})(utils);(function(f){var r=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(g,_,v,y){y===void 0&&(y=v);var m=Object.getOwnPropertyDescriptor(_,v);(!m||("get"in m?!_.__esModule:m.writable||m.configurable))&&(m={enumerable:!0,get:function(){return _[v]}}),Object.defineProperty(g,y,m)}:function(g,_,v,y){y===void 0&&(y=v),g[y]=_[v]}),d=commonjsGlobal&&commonjsGlobal.__exportStar||function(g,_){for(var v in g)v!=="default"&&!Object.prototype.hasOwnProperty.call(_,v)&&r(_,g,v)};Object.defineProperty(f,"__esModule",{value:!0}),d(types,f),d(utils,f)})(provider);(function(f){var r=commonjsGlobal&&commonjsGlobal.__awaiter||function(O,$,I,U){function L(j){return j instanceof I?j:new I(function(F){F(j)})}return new(I||(I=Promise))(function(j,F){function X(ne){try{Y(U.next(ne))}catch(re){F(re)}}function z(ne){try{Y(U.throw(ne))}catch(re){F(re)}}function Y(ne){ne.done?j(ne.value):L(ne.value).then(X,z)}Y((U=U.apply(O,$||[])).next())})},d=commonjsGlobal&&commonjsGlobal.__importDefault||function(O){return O&&O.__esModule?O:{default:O}};Object.defineProperty(f,"__esModule",{value:!0}),f.connectSupportMethods=void 0,f.creatNotSupportMethodItemReplay=w,f.connectMethodsAdaptOldVersion=C,f.connectMethodsResponseUpdate=b,f.connectMethodsToConnectWalletMethods=E,f.syncResoonseToRequire=R;const g=src$6,_=d(bs58$1),v=provider;function y(O){return typeof O=="object"&&O!==null&&Array.isArray(O)}function m(O){return typeof O=="object"&&O!==null&&!Array.isArray(O)}f.connectSupportMethods=Object.freeze(["personal_sign","sui_signMessage","sui_signPersonalMessage","btc_signMessage","aptos_signMessage","cosmos_signArbitrary","tron_signMessage","tron_signMessageV2","starknet_signMessage","sync_all_addresses"]);function w(O){let $=new g.OKXConnectError(g.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED);var I={method:O.method,chainId:O.chainId,error:{code:$.code,message:$.message}};return I}function C(O,$){return r(this,void 0,void 0,function*(){var I,U,L,j,F;try{(0,g.logDebug)("connectMethodsAdaptOldVersion start params :",JSON.stringify(O));let z={};if(O.method==="solana_signMessage"){let Y=(I=$.namespaces[g.NameSpaceKeySOL])===null||I===void 0?void 0:I.accounts.filter(function(re){return re.startsWith(O.chainId)})[0];const ne=(0,v.fromAccountToAddress)(Y);if(O.params&&ne&&"message"in O.params){let re=O.params.message;if(((U=$.wallet)===null||U===void 0?void 0:U.appName)=="OKX Wallet"){let se=new TextEncoder().encode(re);re=_.default.encode(se)}return O.params={message:re,pubkey:ne},z={publicKey:ne},(0,g.logDebug)("solana_signMessage account and address:",JSON.stringify(Y),ne),(0,g.logDebug)("solana_signMessage callBackParams:",JSON.stringify(z)),z}else throw new g.OKXConnectError(g.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED)}else if(O.method==="sui_signMessage"||O.method==="sui_signPersonalMessage")if("message"in O.params&&O.params.message){let Y=JSON.parse(JSON.stringify(O.params.message)),ne=Object.values(Y),re=new Uint8Array(ne),se=new TextDecoder("utf8"),G=btoa(se.decode(re));return O.params={message:atob(G)},console.log("sui_signMessag suiMessagee suiMessageb64:>>>>",JSON.stringify(O.params),G),O.method==="sui_signMessage"?z={messageBytes:G,signature:""}:O.method==="sui_signPersonalMessage"&&(z={bytes:G,signature:""}),(0,g.logDebug)("sui_signMessage/sui_signPersonalMessage callBackParams:",JSON.stringify(z)),z}else throw new g.OKXConnectError(g.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED);else if(O.method==="btc_signMessage"){let ne=((L=$.namespaces[g.NameSpaceKeyBtc])===null||L===void 0?void 0:L.accounts.filter(function(se){return se.startsWith(O.chainId)}))[0];const re=(0,v.fromAccountToAddress)(ne);if((0,g.logDebug)("btc_signMessage account and address:",JSON.stringify(ne),re),re){if("message"in O.params&&O.params.message&&typeof O.params.message=="string")O.params={from:re,signStr:O.params.message};else throw new g.OKXConnectError(g.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED);return O.params.from=re,(0,g.logDebug)("btc_signMessage callBackParams:",JSON.stringify(z)),z}else throw new g.OKXConnectError(g.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED)}else if(O.method==="aptos_signMessage"){let Y=O.params,ne=(j=$.namespaces[g.NameSpaceKeyAptos])===null||j===void 0?void 0:j.accounts.filter(function(se){return se.startsWith(O.chainId)})[0],re=(0,v.fromAccountToAddress)(ne);if(Y&&re){let se="APTOS",G="",T="";var X=se;let D=window.location.protocol+"//"+window.location.hostname;"address"in Y&&Y.address&&(X+=`
address: `+re),"application"in Y&&Y.application&&(X+=`
application: `+D);let x=1;"chainId"in Y&&Y.chainId&&(Y.chainId=="aptos:mainnet"?x=1:Y.chainId=="movement:testnet"&&(x=2),X+=`
chainId: `+x),"message"in Y&&(X+=`
message: `+Y.message,G=Y.message),"nonce"in Y&&(X+=`
nonce: `+Y.nonce,T=Y.nonce);const A=new TextEncoder().encode(X),B=Array.from(A).map(N=>N.toString(16).padStart(2,"0")).join("");return O.params={message:B},(0,g.logDebug)("aptos_signMessage requestParams:",JSON.stringify(O)),z={address:re,application:D,chainId:x,fullMessage:X,message:G,nonce:T,prefix:se,signature:""},(0,g.logDebug)("aptos_signMessage callBackParams:",JSON.stringify(z)),z}else throw new g.OKXConnectError(g.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED)}else if(O.method==="cosmos_signArbitrary"){let Y=(F=$==null?void 0:$.namespaces[g.NameSpaceKeyCosmos])===null||F===void 0?void 0:F.accounts.filter(function(G){return G.startsWith(O.chainId)})[0];const ne=(0,v.fromAccountToAddress)(Y);let re=O.params.message;const se=btoa(re);if((0,g.logDebug)("cosmos_signArbitrary account and address:",JSON.stringify(Y),ne),(0,g.logDebug)("cosmos_signArbitrary cosmosBase64Encoded:",se),re&&ne){const G={chain_id:"",account_number:"0",sequence:"0",fee:{gas:"0",amount:[]},msgs:[{type:"sign/MsgSignData",value:{signer:ne,data:se}}],memo:""};return O.params={signer:ne,chain_id:O.chainId.split(":")[1],data:G},(0,g.logDebug)("cosmos_signArbitrary callBackParams:",JSON.stringify(z)),z}else throw new g.OKXConnectError(g.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED)}(0,g.logDebug)("sol_handleSignatureData end params:",JSON.stringify(O))}catch(z){throw z}})}function b(O,$){return r(this,void 0,void 0,function*(){var I;try{if(O.signResponse){(0,g.logDebug)("connectMethodsResponseUpdate signResponse:",JSON.stringify(O.signResponse)),(0,g.logDebug)("connectMethodsResponseUpdate session.namespaces:",JSON.stringify(O.namespaces));for(const U of O.signResponse)if((0,g.logDebug)("connectMethodsResponseUpdate methodItem:",JSON.stringify(U)),"result"in U)if(U.method==="solana_signMessage"){let L=U.result;(0,g.logDebug)("solana_signMessage methodItem.chainId:",U.chainId);let j=(I=O.namespaces[g.NameSpaceKeySOL])===null||I===void 0?void 0:I.accounts.filter(function(F){return(0,g.logDebug)("solana_signMessage account:",F),F.startsWith(U.chainId)})[0];(0,g.logDebug)("solana_signMessage result account:",L,j),L&&j&&(U.result={signature:_.default.decode(L),publicKey:(0,v.fromAccountToAddress)(j)})}else if(U.method==="sui_signMessage"||U.method==="sui_signPersonalMessage"){let L=$.filter(function(j){return j.method===U.method})[0];if(L&&L.params&&"message"in L.params){let j=L.params.message,F=btoa(j);console.log("sui_signMessag suiMessagee suiMessageb64:>>>>",j,F),U.method==="sui_signMessage"?U.result={messageBytes:F,signature:U.result}:U.method==="sui_signPersonalMessage"&&(U.result={bytes:F,signature:U.result})}}else if(U.method==="aptos_signMessage"){if(U.chainId==="aptos:637"?U.chainId="aptos:mainnet":U.chainId==="aptos:70000060"&&(U.chainId="movement:testnet"),U.result=JSON.parse(U.result),console.log("aptos_signMessage result methodItem.result before:>>>>",JSON.stringify(U.result)),U.result&&"signature"in U.result){let L=U.result.signature;L&&L.startsWith("0x")&&(L=L.slice(2,L.length),U.result.signature=L)}console.log("aptos_signMessage result methodItem.result after:>>>>",JSON.stringify(U.result))}else if(U.method==="cosmos_signArbitrary")U.result=JSON.parse(U.result);else if(U.method=="starknet_signMessage"){let L=U.result;typeof L=="string"&&(L=JSON.parse(L)),U.result=[L.signedDataR,L.signedDataS]}else U.method=="sync_all_addresses"&&(U.result=R(U.result))}}catch(U){throw(0,g.logDebug)("connectMethodsResponseUpdate signResponse Error:",JSON.stringify(U)),U}})}function E(O,$){return r(this,void 0,void 0,function*(){try{(0,g.logDebug)("connectMethodsToConnectWalletMethods requestMethods:",JSON.stringify(O));const j=[];if(O&&O.length>1)throw new g.OKXConnectError(g.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"connectAndSign/openModalAndSign signRequest only support one data");if(!$&&O&&O.length>0)throw new g.OKXConnectError(g.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"Connect request params error , RequestMethods cannot be added when the NameSpace is empty");for(const F of O)if(F.method==="aptos_signMessage"&&(F.chainId==="aptos:mainnet"?F.chainId="aptos:637":F.chainId==="movement:testnet"&&(F.chainId="aptos:70000060")),F.method==="wallet_addEthereumChain"){var I=$==null?void 0:$.some(X=>X.namespace.includes("eip155"));if(!I)throw new g.OKXConnectError(g.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Connect request params error, When using '${F.method}', the EVM chain needs to be included in the NameSpace`)}else if(F.method==="sync_all_addresses")if((0,v.syncAddressHostAvailable)())F.chainId="";else throw new g.OKXConnectError(g.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED);else if(!!!($!=null&&$.some(z=>z.chains.some(Y=>Y.includes(`${F.chainId}`)))))throw new g.OKXConnectError(g.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Connect request params error, When using '${F.method}', NameSpace must contain '${F.chainId}'`);for(const F of O){if(!f.connectSupportMethods.includes(F.method))throw new g.OKXConnectError(g.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`connect requestMethods not support method, method: '${F.method}'`);if(F.method==="wallet_addEthereumChain"){if(Array.isArray(F.params)){const X=F.params;if(X&&X.length===1){const z=X[0];m(z)&&(F.params=z)}else throw X&&X.length>1?new g.OKXConnectError(g.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`connect request params only support one data, method: '${F.method}'`):new g.OKXConnectError(g.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`connect request params is nil, method: '${F.method}'`)}}else if(F.method==="personal_sign"){if(y(F.params)){if(F.params&&F.params.length!==1)throw new g.OKXConnectError(g.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`connect request params error,  method: '${F.method}' `);let X=F.params[0];if(X&&typeof X=="string")F.params={message:X};else throw new g.OKXConnectError(g.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`connect request params is error,  method: '${F.method}' `)}}else if(F.method==="sui_signMessage"||F.method==="sui_signPersonalMessage")if(m(F.params)&&"message"in F.params)if(F.params.message){(0,g.logDebug)("sui_signMessage item.params.message :",F.params.message);let X=JSON.parse(JSON.stringify(F.params.message)),z=Object.values(X),Y=new Uint8Array(z),ne=new TextDecoder("utf8"),re=btoa(ne.decode(Y));F.params.message=atob(re)}else throw new g.OKXConnectError(g.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`connect request params is error,  method: '${F.method}' `);else throw new g.OKXConnectError(g.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`connect request params is error,  method: '${F.method}' `);else if(F.method==="solana_signMessage")if(m(F.params)&&"message"in F.params)if(F.params.message&&typeof F.params.message=="string"){let X=new TextEncoder().encode(F.params.message);F.params.bs58Message=_.default.encode(X)}else throw new g.OKXConnectError(g.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`connect request params is error,  method: '${F.method}' `);else throw new g.OKXConnectError(g.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`connect request params is error,  method: '${F.method}' `);else if(F.method==="aptos_signMessage")if(m(F.params))if(F.chainId&&(F.chainId==="aptos:637"||F.chainId==="aptos:70000060")){var U=F.params,L=window.location.protocol+"//"+window.location.hostname;let X=1;F.chainId==="aptos:637"||F.chainId==="aptos:70000060"&&(X=2),F.params={data:U,applicationUrl:L,prefix:"APTOS",aptosChainId:X}}else throw new g.OKXConnectError(g.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`connect request params chainId is error,  method: '${F.method}' `);else throw new g.OKXConnectError(g.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`connect request params is error,  method: '${F.method}' `);else if(F.method==="cosmos_signArbitrary")if(m(F.params))if(F.params.message&&typeof F.params.message=="string"){const X=btoa(F.params.message);let z=F.chainId.split(":")[1];if(z)F.params={chain_id:z,data:{chain_id:"",account_number:"0",sequence:"0",fee:{gas:"0",amount:[]},msgs:[{type:"sign/MsgSignData",value:{signer:"",data:X}}],memo:""}};else throw new g.OKXConnectError(g.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`connect request params chainId is error,  method: '${F.method}' `)}else throw new g.OKXConnectError(g.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`connect request params message is error,  method: '${F.method}' `);else throw new g.OKXConnectError(g.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`connect request params is error,  method: '${F.method}' `);else if(F.method=="tron_signMessage")if(m(F.params))if("message"in F.params&&F.params.message&&typeof F.params.message=="string")F.params.message=S(F.params.message);else throw new g.OKXConnectError(g.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`connect request params is error,  method: '${F.method}' `);else throw new g.OKXConnectError(g.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`connect request params is error,  method: '${F.method}' `);else if(F.method=="btc_signMessage")if(m(F.params))if("message"in F.params&&F.params.message&&typeof F.params.message=="string")F.params={signStr:F.params.message};else throw new g.OKXConnectError(g.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`connect request params is error,  method: '${F.method}' `);else throw new g.OKXConnectError(g.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`connect request params is error,  method: '${F.method}' `);(0,g.logDebug)("connectMethodsToConnectWalletMethods item:",JSON.stringify(F)),j.push(F)}return j}catch(j){throw j}})}function S(O){let $="";for(let I=0;I<O.length;I++)$+=O.charCodeAt(I).toString(16).padStart(2,"0");return $}function R(O){const $=JSON.parse(O);return{type:$.type,isEvm:$.isEvm,walletName:$.walletName,deriveName:$.deriveName,addresses:$.addresses.map(U=>({coinId:U.ci,address:U.a&&U.a!=="null"?U.a:$.evmAddress}))}}})(ConnectMethodUtils);(function(f){Object.defineProperty(f,"__esModule",{value:!0}),f.creatNotSupportMethodItemReplay=f.connectMethodsAdaptOldVersion=void 0;var r=ConnectMethodUtils;Object.defineProperty(f,"connectMethodsAdaptOldVersion",{enumerable:!0,get:function(){return r.connectMethodsAdaptOldVersion}}),Object.defineProperty(f,"creatNotSupportMethodItemReplay",{enumerable:!0,get:function(){return r.creatNotSupportMethodItemReplay}})})(utils$1);(function(f){var r=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(g,_,v,y){y===void 0&&(y=v);var m=Object.getOwnPropertyDescriptor(_,v);(!m||("get"in m?!_.__esModule:m.writable||m.configurable))&&(m={enumerable:!0,get:function(){return _[v]}}),Object.defineProperty(g,y,m)}:function(g,_,v,y){y===void 0&&(y=v),g[y]=_[v]}),d=commonjsGlobal&&commonjsGlobal.__exportStar||function(g,_){for(var v in g)v!=="default"&&!Object.prototype.hasOwnProperty.call(_,v)&&r(_,g,v)};Object.defineProperty(f,"__esModule",{value:!0}),d(utils$1,f)})(packages);var OKXUniversalProvider$1={},eip155={},constants={},values={};(function(f){Object.defineProperty(f,"__esModule",{value:!0}),f.GENERIC_SUBPROVIDER_NAME=f.RPC_URL=f.STORAGE=f.CONTEXT=f.WC_VERSION=f.PROTOCOL=f.RELAY_URL=f.LOGGER=void 0,f.LOGGER="error",f.RELAY_URL="wss://relay.walletconnect.com",f.PROTOCOL="wc",f.WC_VERSION=2,f.CONTEXT="universal_provider",f.STORAGE=`${f.PROTOCOL}@${f.WC_VERSION}:${f.CONTEXT}:`,f.RPC_URL="https://rpc.walletconnect.com/v1/",f.GENERIC_SUBPROVIDER_NAME="generic"})(values);var events={};Object.defineProperty(events,"__esModule",{value:!0});events.PROVIDER_EVENTS=void 0;events.PROVIDER_EVENTS={DEFAULT_CHAIN_CHANGED:"default_chain_changed",UPDATE_NAMESPACES:"update_name_spaces",SESSION_CONNECTING:"session_connecting"};(function(f){var r=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(g,_,v,y){y===void 0&&(y=v);var m=Object.getOwnPropertyDescriptor(_,v);(!m||("get"in m?!_.__esModule:m.writable||m.configurable))&&(m={enumerable:!0,get:function(){return _[v]}}),Object.defineProperty(g,y,m)}:function(g,_,v,y){y===void 0&&(y=v),g[y]=_[v]}),d=commonjsGlobal&&commonjsGlobal.__exportStar||function(g,_){for(var v in g)v!=="default"&&!Object.prototype.hasOwnProperty.call(_,v)&&r(_,g,v)};Object.defineProperty(f,"__esModule",{value:!0}),d(values,f),d(events,f)})(constants);var JsonRpcProvider$1={},__awaiter$f=commonjsGlobal&&commonjsGlobal.__awaiter||function(f,r,d,g){function _(v){return v instanceof d?v:new d(function(y){y(v)})}return new(d||(d=Promise))(function(v,y){function m(b){try{C(g.next(b))}catch(E){y(E)}}function w(b){try{C(g.throw(b))}catch(E){y(E)}}function C(b){b.done?v(b.value):_(b.value).then(m,w)}C((g=g.apply(f,r||[])).next())})};Object.defineProperty(JsonRpcProvider$1,"__esModule",{value:!0});JsonRpcProvider$1.JsonRpcProvider=void 0;const eventemitter3_1$2=require$$3,types_1=types,core_1$g=src$6,core_2$1=src$6;class JsonRpcProvider extends types_1.IJSONRpcProvider{constructor(r){super(r),this.events=new eventemitter3_1$2.EventEmitter,this.connected=!1,this.connecting=!1,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(r),this.connection.connected&&this.registerEventListeners()}connect(){return __awaiter$f(this,arguments,void 0,function*(r=this.connection){yield this.open(r)})}disconnect(){return __awaiter$f(this,void 0,void 0,function*(){yield this.close()})}on(r,d){this.events.on(r,d)}once(r,d){this.events.once(r,d)}off(r,d){this.events.off(r,d)}removeListener(r,d){this.events.removeListener(r,d)}request(r,d){return __awaiter$f(this,void 0,void 0,function*(){return this.requestStrict((0,core_1$g.formatJsonRpcRequest)(r.method,r.params||[],(0,core_1$g.getBigIntRpcId)().toString()),d)})}requestStrict(r,d){return __awaiter$f(this,void 0,void 0,function*(){return new Promise((g,_)=>__awaiter$f(this,void 0,void 0,function*(){if(!this.connection.connected)try{yield this.open()}catch(v){_(v)}this.events.on(`${r.id}`,v=>{(0,core_1$g.isJsonRpcError)(v)?_(v.error):g(v.result)});try{(0,core_2$1.logDebug)("[RPC] >>> send request",r,d),yield this.connection.send(r,d)}catch(v){_(v)}}))})}setConnection(r=this.connection){return r}onPayload(r){this.events.emit("payload",r),(0,core_1$g.isJsonRpcResponse)(r)?this.events.emit(`${r.id}`,r):this.events.emit("message",{type:r.method,data:r.params})}onClose(r){r&&r.code===3e3&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${r.code} ${r.reason?`(${r.reason})`:""}`)),this.events.emit("disconnect")}open(){return __awaiter$f(this,arguments,void 0,function*(r=this.connection){this.connection===r&&this.connection.connected||(this.connection.connected&&this.close(),typeof r=="string"&&(yield this.connection.open(r),r=this.connection),this.connection=this.setConnection(r),yield this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))})}close(){return __awaiter$f(this,void 0,void 0,function*(){yield this.connection.close()})}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",r=>this.onPayload(r)),this.connection.on("close",r=>this.onClose(r)),this.connection.on("error",r=>this.events.emit("error",r)),this.connection.on("register_error",r=>this.onClose()),this.hasRegisteredEventListeners=!0)}}JsonRpcProvider$1.JsonRpcProvider=JsonRpcProvider;var JsonRpcConnection$1={},browserPonyfill={exports:{}};(function(f,r){var d=typeof self<"u"?self:commonjsGlobal,g=function(){function v(){this.fetch=!1,this.DOMException=d.DOMException}return v.prototype=d,new v}();(function(v){(function(y){var m={searchParams:"URLSearchParams"in v,iterable:"Symbol"in v&&"iterator"in Symbol,blob:"FileReader"in v&&"Blob"in v&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in v,arrayBuffer:"ArrayBuffer"in v};function w(x){return x&&DataView.prototype.isPrototypeOf(x)}if(m.arrayBuffer)var C=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],b=ArrayBuffer.isView||function(x){return x&&C.indexOf(Object.prototype.toString.call(x))>-1};function E(x){if(typeof x!="string"&&(x=String(x)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(x))throw new TypeError("Invalid character in header field name");return x.toLowerCase()}function S(x){return typeof x!="string"&&(x=String(x)),x}function R(x){var A={next:function(){var B=x.shift();return{done:B===void 0,value:B}}};return m.iterable&&(A[Symbol.iterator]=function(){return A}),A}function O(x){this.map={},x instanceof O?x.forEach(function(A,B){this.append(B,A)},this):Array.isArray(x)?x.forEach(function(A){this.append(A[0],A[1])},this):x&&Object.getOwnPropertyNames(x).forEach(function(A){this.append(A,x[A])},this)}O.prototype.append=function(x,A){x=E(x),A=S(A);var B=this.map[x];this.map[x]=B?B+", "+A:A},O.prototype.delete=function(x){delete this.map[E(x)]},O.prototype.get=function(x){return x=E(x),this.has(x)?this.map[x]:null},O.prototype.has=function(x){return this.map.hasOwnProperty(E(x))},O.prototype.set=function(x,A){this.map[E(x)]=S(A)},O.prototype.forEach=function(x,A){for(var B in this.map)this.map.hasOwnProperty(B)&&x.call(A,this.map[B],B,this)},O.prototype.keys=function(){var x=[];return this.forEach(function(A,B){x.push(B)}),R(x)},O.prototype.values=function(){var x=[];return this.forEach(function(A){x.push(A)}),R(x)},O.prototype.entries=function(){var x=[];return this.forEach(function(A,B){x.push([B,A])}),R(x)},m.iterable&&(O.prototype[Symbol.iterator]=O.prototype.entries);function $(x){if(x.bodyUsed)return Promise.reject(new TypeError("Already read"));x.bodyUsed=!0}function I(x){return new Promise(function(A,B){x.onload=function(){A(x.result)},x.onerror=function(){B(x.error)}})}function U(x){var A=new FileReader,B=I(A);return A.readAsArrayBuffer(x),B}function L(x){var A=new FileReader,B=I(A);return A.readAsText(x),B}function j(x){for(var A=new Uint8Array(x),B=new Array(A.length),N=0;N<A.length;N++)B[N]=String.fromCharCode(A[N]);return B.join("")}function F(x){if(x.slice)return x.slice(0);var A=new Uint8Array(x.byteLength);return A.set(new Uint8Array(x)),A.buffer}function X(){return this.bodyUsed=!1,this._initBody=function(x){this._bodyInit=x,x?typeof x=="string"?this._bodyText=x:m.blob&&Blob.prototype.isPrototypeOf(x)?this._bodyBlob=x:m.formData&&FormData.prototype.isPrototypeOf(x)?this._bodyFormData=x:m.searchParams&&URLSearchParams.prototype.isPrototypeOf(x)?this._bodyText=x.toString():m.arrayBuffer&&m.blob&&w(x)?(this._bodyArrayBuffer=F(x.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):m.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(x)||b(x))?this._bodyArrayBuffer=F(x):this._bodyText=x=Object.prototype.toString.call(x):this._bodyText="",this.headers.get("content-type")||(typeof x=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):m.searchParams&&URLSearchParams.prototype.isPrototypeOf(x)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},m.blob&&(this.blob=function(){var x=$(this);if(x)return x;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?$(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(U)}),this.text=function(){var x=$(this);if(x)return x;if(this._bodyBlob)return L(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(j(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},m.formData&&(this.formData=function(){return this.text().then(re)}),this.json=function(){return this.text().then(JSON.parse)},this}var z=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function Y(x){var A=x.toUpperCase();return z.indexOf(A)>-1?A:x}function ne(x,A){A=A||{};var B=A.body;if(x instanceof ne){if(x.bodyUsed)throw new TypeError("Already read");this.url=x.url,this.credentials=x.credentials,A.headers||(this.headers=new O(x.headers)),this.method=x.method,this.mode=x.mode,this.signal=x.signal,!B&&x._bodyInit!=null&&(B=x._bodyInit,x.bodyUsed=!0)}else this.url=String(x);if(this.credentials=A.credentials||this.credentials||"same-origin",(A.headers||!this.headers)&&(this.headers=new O(A.headers)),this.method=Y(A.method||this.method||"GET"),this.mode=A.mode||this.mode||null,this.signal=A.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&B)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(B)}ne.prototype.clone=function(){return new ne(this,{body:this._bodyInit})};function re(x){var A=new FormData;return x.trim().split("&").forEach(function(B){if(B){var N=B.split("="),q=N.shift().replace(/\+/g," "),K=N.join("=").replace(/\+/g," ");A.append(decodeURIComponent(q),decodeURIComponent(K))}}),A}function se(x){var A=new O,B=x.replace(/\r?\n[\t ]+/g," ");return B.split(/\r?\n/).forEach(function(N){var q=N.split(":"),K=q.shift().trim();if(K){var P=q.join(":").trim();A.append(K,P)}}),A}X.call(ne.prototype);function G(x,A){A||(A={}),this.type="default",this.status=A.status===void 0?200:A.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in A?A.statusText:"OK",this.headers=new O(A.headers),this.url=A.url||"",this._initBody(x)}X.call(G.prototype),G.prototype.clone=function(){return new G(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new O(this.headers),url:this.url})},G.error=function(){var x=new G(null,{status:0,statusText:""});return x.type="error",x};var T=[301,302,303,307,308];G.redirect=function(x,A){if(T.indexOf(A)===-1)throw new RangeError("Invalid status code");return new G(null,{status:A,headers:{location:x}})},y.DOMException=v.DOMException;try{new y.DOMException}catch{y.DOMException=function(A,B){this.message=A,this.name=B;var N=Error(A);this.stack=N.stack},y.DOMException.prototype=Object.create(Error.prototype),y.DOMException.prototype.constructor=y.DOMException}function D(x,A){return new Promise(function(B,N){var q=new ne(x,A);if(q.signal&&q.signal.aborted)return N(new y.DOMException("Aborted","AbortError"));var K=new XMLHttpRequest;function P(){K.abort()}K.onload=function(){var k={status:K.status,statusText:K.statusText,headers:se(K.getAllResponseHeaders()||"")};k.url="responseURL"in K?K.responseURL:k.headers.get("X-Request-URL");var M="response"in K?K.response:K.responseText;B(new G(M,k))},K.onerror=function(){N(new TypeError("Network request failed"))},K.ontimeout=function(){N(new TypeError("Network request failed"))},K.onabort=function(){N(new y.DOMException("Aborted","AbortError"))},K.open(q.method,q.url,!0),q.credentials==="include"?K.withCredentials=!0:q.credentials==="omit"&&(K.withCredentials=!1),"responseType"in K&&m.blob&&(K.responseType="blob"),q.headers.forEach(function(k,M){K.setRequestHeader(M,k)}),q.signal&&(q.signal.addEventListener("abort",P),K.onreadystatechange=function(){K.readyState===4&&q.signal.removeEventListener("abort",P)}),K.send(typeof q._bodyInit>"u"?null:q._bodyInit)})}return D.polyfill=!0,v.fetch||(v.fetch=D,v.Headers=O,v.Request=ne,v.Response=G),y.Headers=O,y.Request=ne,y.Response=G,y.fetch=D,Object.defineProperty(y,"__esModule",{value:!0}),y})({})})(g),g.fetch.ponyfill=!0,delete g.fetch.polyfill;var _=g;r=_.fetch,r.default=_.fetch,r.fetch=_.fetch,r.Headers=_.Headers,r.Request=_.Request,r.Response=_.Response,f.exports=r})(browserPonyfill,browserPonyfill.exports);var browserPonyfillExports=browserPonyfill.exports,__awaiter$e=commonjsGlobal&&commonjsGlobal.__awaiter||function(f,r,d,g){function _(v){return v instanceof d?v:new d(function(y){y(v)})}return new(d||(d=Promise))(function(v,y){function m(b){try{C(g.next(b))}catch(E){y(E)}}function w(b){try{C(g.throw(b))}catch(E){y(E)}}function C(b){b.done?v(b.value):_(b.value).then(m,w)}C((g=g.apply(f,r||[])).next())})},__importDefault$1=commonjsGlobal&&commonjsGlobal.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(JsonRpcConnection$1,"__esModule",{value:!0});JsonRpcConnection$1.JsonRpcConnection=void 0;const eventemitter3_1$1=require$$3,cross_fetch_1=__importDefault$1(browserPonyfillExports),core_1$f=src$6,core_2=src$6,DEFAULT_HTTP_HEADERS={Accept:"application/json","Content-Type":"application/json"},DEFAULT_HTTP_METHOD="POST",DEFAULT_FETCH_OPTS={headers:DEFAULT_HTTP_HEADERS,method:DEFAULT_HTTP_METHOD};class JsonRpcConnection{constructor(r,d=!1){if(this.url=r,this.disableProviderPing=d,this.events=new eventemitter3_1$1.EventEmitter,this.isAvailable=!1,this.registering=!1,!(0,core_2.isHttpUrl)(r))throw new Error(`Provided URL is not compatible with HTTP connection: ${r}`);this.url=r,this.disableProviderPing=d}get connected(){return this.isAvailable}get connecting(){return this.registering}on(r,d){this.events.on(r,d)}once(r,d){this.events.once(r,d)}off(r,d){this.events.off(r,d)}removeListener(r,d){this.events.removeListener(r,d)}open(){return __awaiter$e(this,arguments,void 0,function*(r=this.url){yield this.register(r)})}close(){return __awaiter$e(this,void 0,void 0,function*(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()})}send(r){return __awaiter$e(this,void 0,void 0,function*(){this.isAvailable||(yield this.register());try{const d=(0,core_1$f.safeJsonStringify)(r),_=yield(yield(0,cross_fetch_1.default)(this.url,Object.assign(Object.assign({},DEFAULT_FETCH_OPTS),{body:d}))).json();this.onPayload({data:_})}catch(d){this.onError(r.id,d)}})}register(){return __awaiter$e(this,arguments,void 0,function*(r=this.url){if(!(0,core_2.isHttpUrl)(r))throw new Error(`Provided URL is not compatible with HTTP connection: ${r}`);if(this.registering)return new Promise((d,g)=>{this.events.once("register_error",_=>{g(_)}),this.events.once("open",()=>{if(typeof this.isAvailable>"u")return g(new Error("HTTP connection is missing or invalid"));d()})});this.url=r,this.registering=!0;try{if(!this.disableProviderPing){const d=(0,core_1$f.safeJsonStringify)({id:1,jsonrpc:"2.0",method:"test",params:[]});yield(0,cross_fetch_1.default)(r,Object.assign(Object.assign({},DEFAULT_FETCH_OPTS),{body:d}))}this.onOpen()}catch(d){const g=this.parseError(d);throw this.events.emit("register_error",g),this.onClose(),g}})}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(r){if(typeof r.data>"u")return;const d=typeof r.data=="string"?(0,core_1$f.safeJsonParse)(r.data):r.data;this.events.emit("payload",d)}onError(r,d){const g=this.parseError(d),_=g.message||g.toString(),v=(0,core_2.formatJsonRpcError)(r,_);this.events.emit("payload",v)}parseError(r,d=this.url){return(0,core_2.parseConnectionError)(r,d,"HTTP")}}JsonRpcConnection$1.JsonRpcConnection=JsonRpcConnection;var __awaiter$d=commonjsGlobal&&commonjsGlobal.__awaiter||function(f,r,d,g){function _(v){return v instanceof d?v:new d(function(y){y(v)})}return new(d||(d=Promise))(function(v,y){function m(b){try{C(g.next(b))}catch(E){y(E)}}function w(b){try{C(g.throw(b))}catch(E){y(E)}}function C(b){b.done?v(b.value):_(b.value).then(m,w)}C((g=g.apply(f,r||[])).next())})};Object.defineProperty(eip155,"__esModule",{value:!0});eip155.Eip155Provider=void 0;const utils_1$9=utils,constants_1$a=constants,core_1$e=src$6,JsonRpcProvider_1$8=JsonRpcProvider$1,JsonRpcConnection_1$8=JsonRpcConnection$1;class Eip155Provider{constructor(r,d,g){this.name="eip155",this.namespace=r.namespace,this.events=g,this.client=d,this.chainId=parseInt(this.getDefaultChain()),this.httpProviders=this.createHttpProviders(),(0,core_1$e.logDebug)("eip155 constructor --opts.namespace-->",r.namespace)}isRecord(r){return typeof r=="object"&&r!==null&&!Array.isArray(r)}isArray(r){return typeof r=="object"&&r!==null&&Array.isArray(r)}updateRequestParams(r){let d=r.params&&typeof r.params=="object"&&!Array.isArray(r.params);if(r.method==="wallet_switchEthereumChain"){const g=r.chainId.split(":")[1],_=parseInt(g,10);if(isNaN(_))throw new core_1$e.OKXConnectError(core_1$e.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR,`Invalid decimal number,  chainId: '${g}' `);if(!r.params)r.params={chainId:"0x"+_.toString(16)};else if(d){let v=r.params;"chainId"in v||(v.chainId="0x"+_.toString(16),r.params=v)}else throw new core_1$e.OKXConnectError(core_1$e.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR,`Request params error ,  method: '${r.method}' `)}else if(r.method==="personal_sign"||r.method==="eth_signTypedData_v4"||r.method==="eth_sendTransaction"||r.method==="wallet_watchAsset"){if(!r.params)throw new core_1$e.OKXConnectError(core_1$e.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR,`Request params is nil, method: '${r.method}'`);if(this.isRecord(r.params)){let g=r.params;if((0,core_1$e.logDebug)("eip155 updateRequestParams params>",JSON.stringify(g)),"chainId"in g){const _=r.chainId.split(":")[1],v=parseInt(_,10);let y=String(g.chainId),m;if(y.startsWith(this.name)&&r.chainId===y)m=v;else if(y.startsWith("0x"))m=parseInt(y,16);else if(!isNaN(Number(y)))m=parseInt(y,10);else throw new core_1$e.OKXConnectError(core_1$e.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR,`Invalid params.chainId format, method: '${r.method}'`);if(v!==m)throw new core_1$e.OKXConnectError(core_1$e.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR,`Request params.chainId not equal chain,  method: '${r.method}' `)}}else throw new core_1$e.OKXConnectError(core_1$e.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR,`Invalid request params type, method: '${r.method}'`)}}adaptArray(r){if(r.method==="wallet_switchEthereumChain"||r.method==="wallet_addEthereumChain"||r.method==="wallet_watchAsset"||r.method==="eth_sendTransaction"){if(this.isArray(r.params)){let d=r.params;if(d)if(d.length===1){let g=r.params[0];this.isRecord(g)&&(r.params=g)}else throw d.length>1?new core_1$e.OKXConnectError(core_1$e.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Request params only Support one data,  method: '${r.method}' `):new core_1$e.OKXConnectError(core_1$e.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Request params is nil,  method: '${r.method}' `)}}else if(r.method==="eth_signTypedData_v4"){if(this.isArray(r.params)){let d=r.params;if(d&&d.length>2)throw new core_1$e.OKXConnectError(core_1$e.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Request params only Support one data,  method: '${r.method}' `);if(d&&d.length===0)throw new core_1$e.OKXConnectError(core_1$e.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Request params is nil,  method: '${r.method}' `);let g={};if(d&&d.length===2){let _=r.params[0];if(_&&typeof _=="string"){let v=!1;if(this.namespace.accounts.forEach(y=>{(0,utils_1$9.fromAccountToAddress)(y).toLowerCase()===_.toLowerCase()&&(v=!0)}),(0,core_1$e.logDebug)("eip155 adaptArray eth_signTypedData_v4 >>>isEqual: ",v),!v)throw new core_1$e.OKXConnectError(core_1$e.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Request params address error, not equal,  method: '${r.method}' `);if(this.isRecord(r.params[1]))g=r.params[1];else throw new core_1$e.OKXConnectError(core_1$e.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Request params message data error,  method: '${r.method}' `)}else throw new core_1$e.OKXConnectError(core_1$e.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Request params address error , not string,  method: '${r.method}' `)}else if(d&&d.length===1)if(this.isRecord(r.params[0]))g=r.params[0];else throw new core_1$e.OKXConnectError(core_1$e.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Request params message data error,  method: '${r.method}' `);try{let _=JSON.stringify(g);r.params={typedDataJson:_}}catch{throw new core_1$e.OKXConnectError(core_1$e.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Request params call JSON.stringify() failed,  method: '${r.method}' `)}}}else if(r.method==="personal_sign"&&this.isArray(r.params)){if(r.params&&r.params.length>2)throw new core_1$e.OKXConnectError(core_1$e.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Request params error,  method: '${r.method}' `);if(r.params&&r.params.length===0)throw new core_1$e.OKXConnectError(core_1$e.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Request params is nil,  method: '${r.method}' `);let d=r.params[0],g=r.params[1];if(g&&typeof g=="string"){let _=!1;if(this.namespace.accounts.forEach(v=>{(0,utils_1$9.fromAccountToAddress)(v).toLowerCase()===g.toLowerCase()&&(_=!0)}),(0,core_1$e.logDebug)("eip155 adaptArray personal_sign >>>isEqual: ",_),!_)throw new core_1$e.OKXConnectError(core_1$e.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Request params address error,  method: '${r.method}' `)}if(d&&typeof d=="string")r.params={message:d};else throw new core_1$e.OKXConnectError(core_1$e.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Request params is error,  method: '${r.method}' `)}}showRequestModal(r){switch(r.method){case"eth_requestAccounts":case"eth_accounts":case"eth_chainId":return!1;case"eth_sendTransaction":case"eth_signTransaction":case"eth_sign":case"personal_sign":case"eth_signTypedData":case"wallet_addEthereumChain":case"wallet_watchAsset":case"eth_signTypedData_v4":return!0;case"wallet_switchEthereumChain":{this.adaptArray(r),this.updateRequestParams(r);const{parsedChainId:d,hexChainId:g}=this.getHexChainIdFromRequest(r);return!this.isChainApproved(d)}default:return!1}return!1}configAddressAdaptInjectWallet(r){this.namespace.accounts.forEach(d=>{d.includes(r.chainId)&&(r.address=(0,utils_1$9.fromAccountToAddress)(d))})}request(r){return __awaiter$d(this,void 0,void 0,function*(){switch(this.adaptArray(r),(0,core_1$e.logDebug)("eip155 request --args--string>",JSON.stringify(r)),this.updateRequestParams(r),(0,core_1$e.logDebug)("eip155 request --params--string>",JSON.stringify(r)),this.configAddressAdaptInjectWallet(r),r.method){case"eth_requestAccounts":return this.getAccounts();case"eth_accounts":return this.getAccounts();case"eth_chainId":return parseInt(this.getDefaultChain());case"wallet_switchEthereumChain":return yield this.handleSwitchChain(r);case"wallet_addEthereumChain":return this.addEthereumChain(r)}if(this.namespace.methods.includes(r.method))try{const d=yield this.client.request(r);if((0,core_1$e.logDebug)("eip155 request --response----string>",JSON.stringify(d)),this.isRecord(d)&&"result"in d){let g=d.result;return g&&typeof g=="string"&&(g==="true"||g==="false")?((0,core_1$e.logDebug)("eip155 request --wallet_watchAsset>>>>",g==="true"),g==="true"):d.result}return d}catch(d){throw(0,core_1$e.logDebug)(`eip155 request --response --error--string> e instanceof OKXConnectError ${d instanceof core_1$e.OKXConnectError}`,JSON.stringify(d)),d}else return(0,core_1$e.logDebug)("[RPC] request begin"),yield this.getHttpProvider().request(r)})}addEthereumChain(r){return __awaiter$d(this,void 0,void 0,function*(){let d=yield this.client.request(r);try{if("result"in d){let g=d,_=d.result;if(_){const v=_.split(":")[0],y=_.split(":")[1],m=v+":"+y;let w=this.namespace;if(this.namespace.accounts.push(_),this.namespace.chains.push(m),this.isRecord(r.params)&&"rpcUrls"in r.params){let C=r.params.rpcUrls,b=C?C[0]:void 0;b&&(this.namespace.rpcMap?this.namespace.rpcMap[y]=b:this.namespace.rpcMap={[y]:b},this.setHttpProvider(y,b))}this.events.emit(constants_1$a.PROVIDER_EVENTS.UPDATE_NAMESPACES,{eip155:this.namespace})}}else new core_1$e.OKXConnectError(core_1$e.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`the method ${r.method} request error`)}catch{throw new core_1$e.OKXConnectError(core_1$e.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`the method ${r.method} request  error`)}return null})}updateNamespace(r){this.namespace=Object.assign(this.namespace,r)}setDefaultChain(r,d){if(this.chainId=parseInt(r),!this.httpProviders[r]){const g=d||(0,utils_1$9.getRpcUrl)(`${this.name}:${r}`,this.namespace);g?this.setHttpProvider(r,g):(0,core_1$e.logError)(`No RPC url provided for chainId: ${r}`)}this.events.emit(constants_1$a.PROVIDER_EVENTS.DEFAULT_CHAIN_CHANGED,`${this.name}:${r}`)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const r=this.namespace.chains[0];if(!r)throw new Error("ChainId not found");return r.split(":")[1]}getAccounts(){const r=this.namespace.accounts;return(0,core_1$e.logDebug)("eip155 getAccounts ",r,this.chainId),r?[...new Set(r.filter(d=>d.split(":")[1]===this.chainId.toString()).map(d=>(0,utils_1$9.fromAccountToAddress)(d)))]:[]}getHexChainIdFromRequest(r){let d=r.params,g="0x0";d&&"chainId"in d&&(g=d.chainId),g=g.startsWith("0x")?g:`0x${g}`,(0,core_1$e.logDebug)("handleSwitchChain -->args ",r),(0,core_1$e.logDebug)("handleSwitchChain -->hexChainId ",g);const _=parseInt(g,16);return(0,core_1$e.logDebug)("handleSwitchChain -->parsedChainId ",_),{parsedChainId:_,hexChainId:g}}handleSwitchChain(r){return __awaiter$d(this,void 0,void 0,function*(){const{parsedChainId:d,hexChainId:g}=this.getHexChainIdFromRequest(r);if(this.isChainApproved(d))this.setDefaultChain(`${d}`);else throw new core_1$e.OKXConnectError(core_1$e.OKX_CONNECT_ERROR_CODES.CHAIN_NOT_SUPPORTED,`the method ${r.method} request  error`)})}isChainApproved(r){return this.namespace.chains.includes(`${this.name}:${r}`)}createHttpProvider(r,d){const g=d;if(!g)(0,core_1$e.logError)(`No RPC url provided for chainId: ${r}`);else return new JsonRpcProvider_1$8.JsonRpcProvider(new JsonRpcConnection_1$8.JsonRpcConnection(g,(0,utils_1$9.getGlobal)("disableProviderPing")))}createHttpProviders(){const r={};return this.namespace.chains.forEach(d=>{const g=(0,utils_1$9.getChainId)(d),_=(0,utils_1$9.getRpcUrl)(d,this.namespace);(0,core_1$e.logDebug)("get parsed chain and rpc:",g,_);let v=this.createHttpProvider(g,_);v&&(r[g]=v)}),(0,core_1$e.logDebug)("get http providermap:",r),r}setHttpProvider(r,d){const g=this.createHttpProvider(r,d);g&&(this.httpProviders[r]=g)}getHttpProvider(){const r=`${this.chainId}`,d=this.httpProviders[r];if((0,core_1$e.logDebug)("[RPC] get http provider:",r,d),typeof d>"u")throw new Error(`JSON-RPC provider for ${r} not found`);return d}}eip155.Eip155Provider=Eip155Provider;eip155.default=Eip155Provider;var sui={},__awaiter$c=commonjsGlobal&&commonjsGlobal.__awaiter||function(f,r,d,g){function _(v){return v instanceof d?v:new d(function(y){y(v)})}return new(d||(d=Promise))(function(v,y){function m(b){try{C(g.next(b))}catch(E){y(E)}}function w(b){try{C(g.throw(b))}catch(E){y(E)}}function C(b){b.done?v(b.value):_(b.value).then(m,w)}C((g=g.apply(f,r||[])).next())})};Object.defineProperty(sui,"__esModule",{value:!0});sui.SuiProvider=void 0;const constants_1$9=constants,core_1$d=src$6,utils_1$8=utils,JsonRpcConnection_1$7=JsonRpcConnection$1,JsonRpcProvider_1$7=JsonRpcProvider$1;class SuiProvider{constructor(r,d,g){this.name=core_1$d.NameSpaceKeySui,this.namespace=r.namespace,this.events=g,this.client=d,this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(r){this.namespace=Object.assign(this.namespace,r)}request(r){return __awaiter$c(this,void 0,void 0,function*(){return(0,core_1$d.logDebug)("sui request --args--string>",JSON.stringify(r)),(0,core_1$d.logDebug)("sui provider namespace: ",this.namespace),this.namespace.methods.includes(r.method)?this.client.request(r):this.getHttpProvider().request(r)})}requestAccounts(){return this.getAccounts()}setDefaultChain(r,d){this.httpProviders[r]||this.setHttpProvider(r,d),this.chainId=r,this.events.emit(constants_1$9.PROVIDER_EVENTS.DEFAULT_CHAIN_CHANGED,`${this.name}:${r}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const r=this.namespace.chains[0];if(!r)throw new Error("ChainId not found");return r.split(":")[1]}getAccounts(){const r=this.namespace.accounts;return r?[...new Set(r.filter(d=>d.split(":")[1]===this.chainId.toString()).map(d=>d.split(":")[2]))]:[]}createHttpProviders(){const r={};return this.namespace.chains.forEach(d=>{const g=(0,utils_1$8.getChainId)(d),_=(0,utils_1$8.getRpcUrl)(d,this.namespace);let v=this.createHttpProvider(g,_);v&&(r[g]=v)}),r}getHttpProvider(){const r=`${this.chainId}`,d=this.httpProviders[r];if((0,core_1$d.logDebug)("[RPC] get http provider:",r,d),typeof d>"u")throw new Error(`JSON-RPC provider for ${r} not found`);return d}setHttpProvider(r,d){const g=this.createHttpProvider(r,d);g&&((0,core_1$d.logDebug)("setHttpProvider",r,d),this.httpProviders[r]=g)}createHttpProvider(r,d){const g=d;if(!g)(0,core_1$d.logError)(`No RPC url provided for chainId: ${r}`);else return new JsonRpcProvider_1$7.JsonRpcProvider(new JsonRpcConnection_1$7.JsonRpcConnection(g,(0,utils_1$8.getGlobal)("disableProviderPing")))}getPubkey(r){return this.getWalletAddress(r)}getWalletAddress(r){return r||(r=this.namespace.defaultChain,r!=null&&r.startsWith("sui")||(r=`sui:${r}`)),this.namespace.accounts.filter(function(d){return d.split(":").length>2&&d.startsWith(r)}).map(function(d){return d.split(":")[2]})[0]}showRequestModal(r){switch(r.method){case"sui_signMessage":case"sui_signPersonalMessage":case"sui_signTransactionBlock":case"sui_signAndExecuteTransactionBlock":return!0;default:return!1}return!1}}sui.SuiProvider=SuiProvider;sui.default=SuiProvider;var client={},namespaces={};Object.defineProperty(namespaces,"__esModule",{value:!0});namespaces.getAccountsChains=getAccountsChains;namespaces.nameSpaceToConnectWalletNameSpace=nameSpaceToConnectWalletNameSpace;namespaces.fillParamsToSession=fillParamsToSession;namespaces.isCaipNamespace=isCaipNamespace;namespaces.parseNamespaceKey=parseNamespaceKey;const core_1$c=src$6;function getAccountsChains(f){const r=[];return f.forEach(d=>{const[g,_]=d.split(":");r.push(`${g}:${_}`)}),r}function nameSpaceToConnectWalletNameSpace(f){var r=[];return f&&Object.keys(f).forEach(d=>{(d===core_1$c.NameSpaceKeyEip155||d===core_1$c.NameSpaceKeySOL||d===core_1$c.NameSpaceKeySui||d===core_1$c.NameSpaceKeyAptos||d==core_1$c.NameSpaceKeyBtc||d===core_1$c.NameSpaceKeyTON||d===core_1$c.NameSpaceKeyCosmos||d===core_1$c.NameSpaceKeyTron||d===core_1$c.NameSpaceKeyStarknet)&&f[d].chains&&r.push({namespace:d,chains:f[d].chains,params:f[d].params})}),r}function fillParamsToSession(f,r,d,g){const _=(y,m)=>{Object.assign(y,m)},v=(y,m)=>{for(const w in m)m.hasOwnProperty(w)&&m[w].rpcMap&&(m[w].rpcMap&&(y[w].rpcMap||(y[w].rpcMap={}),_(y[w].rpcMap,m[w].rpcMap)),m[w].defaultChain&&y[w].defaultChain===void 0&&y[w].chains.some(C=>C.split(":")[1]===m[w].defaultChain)&&(y[w].defaultChain=m[w].defaultChain))};r&&v(f.namespaces,r),d&&v(f.namespaces,d);for(const y in f.namespaces){const m=f.namespaces[y];(!(m!=null&&m.accounts)||m.accounts.length===0)&&delete f.namespaces[y]}f.namespaces[core_1$c.NameSpaceKeyBtc]&&f.wallet.appName===core_1$c.OKXWalletName&&fixMobileBtcSession(f.namespaces[core_1$c.NameSpaceKeyBtc]),f.sessionConfig=g}function fixMobileBtcSession(f){try{if(f&&f.extra){var r=f.extra;Object.keys(r).forEach(d=>{const g=r[d];Number(g.addressType)===6?g.publicKey=g.compressedPublicKey.slice(2):g.publicKey=g.compressedPublicKey})}}catch{(0,core_1$c.logDebug)("namespaces fixMobileBtcSession error")}}function isCaipNamespace(f){return f.includes(":")}function parseNamespaceKey(f){return isCaipNamespace(f)?f.split(":")[0]:f}var __awaiter$b=commonjsGlobal&&commonjsGlobal.__awaiter||function(f,r,d,g){function _(v){return v instanceof d?v:new d(function(y){y(v)})}return new(d||(d=Promise))(function(v,y){function m(b){try{C(g.next(b))}catch(E){y(E)}}function w(b){try{C(g.throw(b))}catch(E){y(E)}}function C(b){b.done?v(b.value):_(b.value).then(m,w)}C((g=g.apply(f,r||[])).next())})};Object.defineProperty(client,"__esModule",{value:!0});client.SignClient=void 0;const core_1$b=src$6,namespaces_1$1=namespaces,ConnectMethodUtils_1=ConnectMethodUtils,constants_1$8=constants;class SignClient extends core_1$b.ISignClient{constructor(r,d){super(r),this.connect=g=>__awaiter$b(this,void 0,void 0,function*(){return new Promise((_,v)=>__awaiter$b(this,void 0,void 0,function*(){try{var y=[];(0,core_1$b.logDebug)("client connect params >>>",JSON.stringify(g));var m={name:"requestAccounts",requiredNamespaces:(0,namespaces_1$1.nameSpaceToConnectWalletNameSpace)(g.namespaces),optionalNamespaces:(0,namespaces_1$1.nameSpaceToConnectWalletNameSpace)(g.optionalNamespaces)};this.engine.setSessionConnectingListener(()=>{(0,core_1$b.logDebug)("sessionConnectingListener >>>"),this.events.emit(constants_1$8.PROVIDER_EVENTS.SESSION_CONNECTING)}),g.signRequest&&(m.connectRequestMethods=yield(0,ConnectMethodUtils_1.connectMethodsToConnectWalletMethods)(g.signRequest,m.requiredNamespaces)),y.push(m),(0,core_1$b.logDebug)("client connect connectRequest >>>",JSON.stringify(y)),this.engine.universalConnect(y,Object.assign({dappInfo:this.metadata},g.sessionConfig),w=>{w&&w.connectRequest&&((0,core_1$b.logDebug)("universalConect info.connectRequest :",w.connectRequest),(0,core_1$b.logDebug)("universalConect url:",(0,core_1$b.getOKXLink)(w.connectRequest,this.sessionConfig.useMini)),this.events.emit("display_uri",(0,core_1$b.getOKXLink)(w.connectRequest,this.sessionConfig.useMini)),this.events.emit("short_display_uri",(0,core_1$b.getAppWalletShortDeepLink)(w.connectRequest.topic,w.connectRequest.clientId)),(0,core_1$b.logDebug)(`universalConect EngineConnectInfo  ${JSON.stringify(w)}`),this.events.emit("okx_engine_connect_params",w))}).then(w=>__awaiter$b(this,void 0,void 0,function*(){(0,namespaces_1$1.fillParamsToSession)(w,g.namespaces,g.optionalNamespaces,this.sessionConfig),(0,core_1$b.logDebug)(`signClient: connect: session ${JSON.stringify(w)}`),g.signRequest&&(yield(0,ConnectMethodUtils_1.connectMethodsResponseUpdate)(w,g.signRequest)),_(w)})).catch(w=>{(0,core_1$b.logDebug)(`signClient: connect: catch ${JSON.stringify(w)}`),this.events.emit("connect_error",w),v(w)})}catch(w){(0,core_1$b.logDebug)(`signClient: connect:  ${JSON.stringify(w)}`),v(w)}}))}),this.restoreconnect=g=>__awaiter$b(this,void 0,void 0,function*(){return new Promise((_,v)=>{this.engine.restoreconnect(g,y=>{y?_(y):v()})})}),this.reject=g=>__awaiter$b(this,void 0,void 0,function*(){}),this.request=g=>__awaiter$b(this,void 0,void 0,function*(){return new Promise((_,v)=>__awaiter$b(this,void 0,void 0,function*(){var y,m;(0,core_1$b.logDebug)("clint request --params>>>> >",(y=this.sessionConfig)===null||y===void 0?void 0:y.openUniversalUrl,(0,core_1$b.safeJsonStringify)(g));try{!((m=this.sessionConfig)===null||m===void 0)&&m.openUniversalUrl&&(0,core_1$b.isIos)()&&this.openOKXWallet(),yield this.engine.send(g,{resolve:w=>{if(delete w.requestId,(0,core_1$b.logDebug)("clint request --response >",(0,core_1$b.safeJsonStringify)(w)),"error"in w&&w.error){let C=w.error;v(new core_1$b.OKXConnectError(w.error.code,w.method+":"+C.message))}else _(w)},onAck:()=>{var w;!(0,core_1$b.isIos)()&&(!((w=this.sessionConfig)===null||w===void 0)&&w.openUniversalUrl)&&this.openOKXWallet()}})}catch(w){(0,core_1$b.logDebug)("clint request --error:",w),v(w)}}))}),this.disconnect=()=>__awaiter$b(this,void 0,void 0,function*(){return new Promise((g,_)=>{this.engine.send({method:"disconnect"},{onAck:()=>{g()}},864e5).catch(v=>{console.log(`disconnect : ${JSON.stringify(v)}`),_(v)})})}),this.engine=new core_1$b.Engine(r.name),this.events=d,this.metadata=r}setAccountChangeListener(r){this.engine.setAccountChangeListener(r)}openOKXWallet(){(0,core_1$b.logDebug)("bridge-provider ==>> connect_5"),this.engine.openWallet({tmaReturnUrl:this.sessionConfig.tmaReturnUrl})}syncAllAddress(){return __awaiter$b(this,void 0,void 0,function*(){return new Promise((r,d)=>{this.engine.send({method:"sync_all_addresses"},{resolve:g=>{if(delete g.requestId,(0,core_1$b.logDebug)("clint syncAllAddress --response >",JSON.stringify(g)),"error"in g&&g.error){let _=g.error;d(new core_1$b.OKXConnectError(g.error.code,g.method+":"+_.message))}else{let _=g.result;r((0,ConnectMethodUtils_1.syncResoonseToRequire)(_))}}}).catch(g=>{console.log(`disconnect : ${JSON.stringify(g)}`),d(g)})})})}registerConnector(r){this.engine.registerConnector(r)}openWallet(r,d){this.engine.openWallet(r,d)}setConnectConnector(r){this.engine.setConnectConnector(r)}}client.SignClient=SignClient;var solana={},__awaiter$a=commonjsGlobal&&commonjsGlobal.__awaiter||function(f,r,d,g){function _(v){return v instanceof d?v:new d(function(y){y(v)})}return new(d||(d=Promise))(function(v,y){function m(b){try{C(g.next(b))}catch(E){y(E)}}function w(b){try{C(g.throw(b))}catch(E){y(E)}}function C(b){b.done?v(b.value):_(b.value).then(m,w)}C((g=g.apply(f,r||[])).next())})};Object.defineProperty(solana,"__esModule",{value:!0});solana.SolanaProvider=void 0;const constants_1$7=constants,core_1$a=src$6,utils_1$7=utils,JsonRpcConnection_1$6=JsonRpcConnection$1,JsonRpcProvider_1$6=JsonRpcProvider$1;class SolanaProvider{constructor(r,d,g,_){this.name="solana",this.namespace=r.namespace,this.events=_,this.client=g,this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders(),this.name=d}updateNamespace(r){this.namespace=Object.assign(this.namespace,r)}requestAccounts(){return this.getAccounts()}request(r){return __awaiter$a(this,void 0,void 0,function*(){if((0,core_1$a.logDebug)("solana request --args--string>",JSON.stringify(r)),(0,core_1$a.logDebug)("solana provider namespace: ",this.namespace),this.namespace.methods.includes(r.method))return this.client.request(r);throw new core_1$a.OKXConnectError(core_1$a.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED,"Please upgrade OKX APP")})}setDefaultChain(r,d){this.httpProviders[r]||this.setHttpProvider(r,d),this.chainId=r,this.events.emit(constants_1$7.PROVIDER_EVENTS.DEFAULT_CHAIN_CHANGED,`${this.name}:${r}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const r=this.namespace.chains[0];if(!r)throw new Error("ChainId not found");return r.split(":")[1]}getAccounts(){const r=this.namespace.accounts;return r?[...new Set(r.filter(d=>d.split(":")[1]===this.chainId.toString()).map(d=>d.split(":")[2]))]:[]}createHttpProviders(){const r={};return this.namespace.chains.forEach(d=>{const g=(0,utils_1$7.getChainId)(d),_=(0,utils_1$7.getRpcUrl)(d,this.namespace);let v=this.createHttpProvider(g,_);v&&(r[g]=v)}),r}getHttpProvider(){const r=`${this.chainId}`,d=this.httpProviders[r];if(typeof d>"u")throw new Error(`JSON-RPC provider for ${r} not found`);return d}setHttpProvider(r,d){const g=this.createHttpProvider(r,d);g&&(this.httpProviders[r]=g)}createHttpProvider(r,d){const g=d;if(g)return new JsonRpcProvider_1$6.JsonRpcProvider(new JsonRpcConnection_1$6.JsonRpcConnection(g,(0,utils_1$7.getGlobal)("disableProviderPing")))}getPubkey(r){return this.getWalletAddress(r)}getWalletAddress(r){return r||(r=this.namespace.defaultChain,r!=null&&r.startsWith("solana")||(r=`solana:${r}`)),this.namespace.accounts.filter(function(d){return d.split(":").length>2&&d.startsWith(r)}).map(function(d){return d.split(":")[2]})[0]}showRequestModal(r){return!0}}solana.SolanaProvider=SolanaProvider;solana.default=SolanaProvider;var btc={},__awaiter$9=commonjsGlobal&&commonjsGlobal.__awaiter||function(f,r,d,g){function _(v){return v instanceof d?v:new d(function(y){y(v)})}return new(d||(d=Promise))(function(v,y){function m(b){try{C(g.next(b))}catch(E){y(E)}}function w(b){try{C(g.throw(b))}catch(E){y(E)}}function C(b){b.done?v(b.value):_(b.value).then(m,w)}C((g=g.apply(f,r||[])).next())})};Object.defineProperty(btc,"__esModule",{value:!0});const constants_1$6=constants,core_1$9=src$6,utils_1$6=utils,JsonRpcConnection_1$5=JsonRpcConnection$1,JsonRpcProvider_1$5=JsonRpcProvider$1;class BtcProvider{constructor(r,d,g,_){this.name=core_1$9.NameSpaceKeyBtc,this.namespace=r.namespace,this.events=_,this.client=g,this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders(),this.name=d}updateNamespace(r){this.namespace=Object.assign(this.namespace,r)}requestAccounts(){return this.getAccounts()}request(r){return __awaiter$9(this,void 0,void 0,function*(){return(0,core_1$9.logDebug)("btc request --args--string>",JSON.stringify(r)),(0,core_1$9.logDebug)("btc provider namespace: ",JSON.stringify(this.namespace)),this.namespace.methods.includes(r.method)?this.client.request(r):this.getHttpProvider().request(r)})}setDefaultChain(r,d){this.httpProviders[r]||this.setHttpProvider(r,d),this.chainId=r,this.events.emit(constants_1$6.PROVIDER_EVENTS.DEFAULT_CHAIN_CHANGED,`${this.name}:${r}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const r=this.namespace.chains[0];if(!r)throw new Error("ChainId not found");return r.split(":")[1]}getAccounts(){const r=this.namespace.accounts;return r?[...new Set(r.filter(d=>d.split(":")[1]===this.chainId.toString()).map(d=>d.split(":")[2]))]:[]}createHttpProviders(){const r={};return this.namespace.chains.forEach(d=>{const g=(0,utils_1$6.getChainId)(d),_=(0,utils_1$6.getRpcUrl)(d,this.namespace);let v=this.createHttpProvider(g,_);v&&(r[g]=v)}),r}getHttpProvider(){const r=`${this.chainId}`,d=this.httpProviders[r];if(typeof d>"u")throw new Error(`JSON-RPC provider for ${r} not found`);return d}setHttpProvider(r,d){const g=this.createHttpProvider(r,d);g&&(this.httpProviders[r]=g)}createHttpProvider(r,d){const g=d;if(!g)(0,core_1$9.logError)(`No RPC url provided for chainId: ${r}`);else return new JsonRpcProvider_1$5.JsonRpcProvider(new JsonRpcConnection_1$5.JsonRpcConnection(g,(0,utils_1$6.getGlobal)("disableProviderPing")))}showRequestModal(r){return!0}}btc.default=BtcProvider;var aptos={},__awaiter$8=commonjsGlobal&&commonjsGlobal.__awaiter||function(f,r,d,g){function _(v){return v instanceof d?v:new d(function(y){y(v)})}return new(d||(d=Promise))(function(v,y){function m(b){try{C(g.next(b))}catch(E){y(E)}}function w(b){try{C(g.throw(b))}catch(E){y(E)}}function C(b){b.done?v(b.value):_(b.value).then(m,w)}C((g=g.apply(f,r||[])).next())})};Object.defineProperty(aptos,"__esModule",{value:!0});const constants_1$5=constants,core_1$8=src$6,utils_1$5=utils,JsonRpcConnection_1$4=JsonRpcConnection$1,JsonRpcProvider_1$4=JsonRpcProvider$1;class AptosProvider{constructor(r,d,g,_){this.name="aptos",this.namespace=r.namespace,this.events=_,this.client=g,this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders(),this.name=d}updateNamespace(r){this.namespace=Object.assign(this.namespace,r)}requestAccounts(){return this.getAccounts()}request(r){return __awaiter$8(this,void 0,void 0,function*(){if((0,core_1$8.logDebug)("aptos request --args--string>",(0,core_1$8.safeJsonStringify)(r)),(0,core_1$8.logDebug)("aptos provider namespace: ",this.namespace),this.namespace.methods.includes(r.method))return this.client.request(r);throw new core_1$8.OKXConnectError(core_1$8.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED,"Please upgrade OKX APP")})}setDefaultChain(r,d){this.httpProviders[r]||this.setHttpProvider(r,d),this.chainId=r,this.events.emit(constants_1$5.PROVIDER_EVENTS.DEFAULT_CHAIN_CHANGED,`${this.name}:${r}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const r=this.namespace.chains[0];if(!r)throw new Error("ChainId not found");return r.split(":")[1]}getAccounts(){const r=this.namespace.accounts;return r?[...new Set(r.filter(d=>d.split(":")[1]===this.chainId.toString()).map(d=>d.split(":")[2]))]:[]}createHttpProviders(){const r={};return this.namespace.chains.forEach(d=>{const g=(0,utils_1$5.getChainId)(d),_=(0,utils_1$5.getRpcUrl)(d,this.namespace);let v=this.createHttpProvider(g,_);v&&(r[g]=v)}),r}getHttpProvider(){const r=`${this.chainId}`,d=this.httpProviders[r];if(typeof d>"u")throw new Error(`JSON-RPC provider for ${r} not found`);return d}setHttpProvider(r,d){const g=this.createHttpProvider(r,d);g&&(this.httpProviders[r]=g)}createHttpProvider(r,d){const g=d;if(g)return new JsonRpcProvider_1$4.JsonRpcProvider(new JsonRpcConnection_1$4.JsonRpcConnection(g,(0,utils_1$5.getGlobal)("disableProviderPing")))}showRequestModal(r){return!0}}aptos.default=AptosProvider;var ton={},__awaiter$7=commonjsGlobal&&commonjsGlobal.__awaiter||function(f,r,d,g){function _(v){return v instanceof d?v:new d(function(y){y(v)})}return new(d||(d=Promise))(function(v,y){function m(b){try{C(g.next(b))}catch(E){y(E)}}function w(b){try{C(g.throw(b))}catch(E){y(E)}}function C(b){b.done?v(b.value):_(b.value).then(m,w)}C((g=g.apply(f,r||[])).next())})},__rest=commonjsGlobal&&commonjsGlobal.__rest||function(f,r){var d={};for(var g in f)Object.prototype.hasOwnProperty.call(f,g)&&r.indexOf(g)<0&&(d[g]=f[g]);if(f!=null&&typeof Object.getOwnPropertySymbols=="function")for(var _=0,g=Object.getOwnPropertySymbols(f);_<g.length;_++)r.indexOf(g[_])<0&&Object.prototype.propertyIsEnumerable.call(f,g[_])&&(d[g[_]]=f[g[_]]);return d};Object.defineProperty(ton,"__esModule",{value:!0});const constants_1$4=constants,core_1$7=src$6,utils_1$4=utils,JsonRpcConnection_1$3=JsonRpcConnection$1,JsonRpcProvider_1$3=JsonRpcProvider$1;class TONProvider{constructor(r,d,g){this.name=core_1$7.NameSpaceKeyTON,this.namespace=r.namespace,this.events=g,this.client=d,this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(r){this.namespace=Object.assign(this.namespace,r)}isRecord(r){return typeof r=="object"&&r!==null&&!Array.isArray(r)}request(r){return __awaiter$7(this,void 0,void 0,function*(){var d,g,_,v;if((0,core_1$7.logDebug)("TONProvider request --args--string>",JSON.stringify(r)),(0,core_1$7.logDebug)("TONProvider request provider namespace: ",this.namespace),this.namespace.methods.includes(r.method)){if(!r.params)throw new core_1$7.OKXConnectError(core_1$7.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"ton request params is nil");if(this.isRecord(r.params)){const y=r.params,{validUntil:m}=y,w=__rest(y,["validUntil"]);let C=(g=(d=this.namespace.payload)===null||d===void 0?void 0:d.ton_addr)===null||g===void 0?void 0:g.address;"from"in w&&(C=w.from||((v=(_=this.namespace.payload)===null||_===void 0?void 0:_.ton_addr)===null||v===void 0?void 0:v.address)),r.params.from=C,r.params.network=this.getDefaultChain(),r.params.valid_until=m;let b=yield this.client.request(r);if(this.isRecord(b)&&"result"in b){const E={boc:b.result.toString()};return(0,core_1$7.logDebug)("TONProvider request provider response: ",JSON.stringify(b)),(0,core_1$7.logDebug)("TONProvider request provider result: ",JSON.stringify(E)),E}throw new core_1$7.OKXConnectError(core_1$7.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"ton_send request response is nil")}else throw new core_1$7.OKXConnectError(core_1$7.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"ton request params type add nil")}return this.getHttpProvider().request(r)})}requestAccounts(){return this.getAccounts()}setDefaultChain(r,d){this.httpProviders[r]||this.setHttpProvider(r,d),this.chainId=r,this.events.emit(constants_1$4.PROVIDER_EVENTS.DEFAULT_CHAIN_CHANGED,`${this.name}:${r}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const r=this.namespace.chains[0];if(!r)throw new Error("ChainId not found");return r.split(":")[1]}getAccounts(){var r,d;const g=this.namespace.accounts;if((0,core_1$7.logDebug)("ton getAccounts accounts :",g),(0,core_1$7.logDebug)("ton getAccounts .namespace :",JSON.stringify(this.namespace)),!g)return[];let _=(d=(r=this.namespace.payload)===null||r===void 0?void 0:r.ton_addr)===null||d===void 0?void 0:d.address;return(0,core_1$7.logDebug)("ton getAccounts address :",_),_?[_]:[]}createHttpProviders(){const r={};return this.namespace.chains.forEach(d=>{const g=(0,utils_1$4.getChainId)(d),_=(0,utils_1$4.getRpcUrl)(d,this.namespace);let v=this.createHttpProvider(g,_);v&&(r[g]=v)}),r}getHttpProvider(){const r=`${this.chainId}`,d=this.httpProviders[r];if((0,core_1$7.logDebug)("[RPC] get http provider:",r,d),typeof d>"u")throw new Error(`JSON-RPC provider for ${r} not found`);return d}setHttpProvider(r,d){const g=this.createHttpProvider(r,d);g&&((0,core_1$7.logDebug)("setHttpProvider",r,d),this.httpProviders[r]=g)}createHttpProvider(r,d){const g=d;if(!g)(0,core_1$7.logError)(`No RPC url provided for chainId: ${r}`);else return new JsonRpcProvider_1$3.JsonRpcProvider(new JsonRpcConnection_1$3.JsonRpcConnection(g,(0,utils_1$4.getGlobal)("disableProviderPing")))}showRequestModal(r){switch(r.method){case"ton_sendTransaction":return!0;default:return!1}}}ton.default=TONProvider;var cosmos={},__awaiter$6=commonjsGlobal&&commonjsGlobal.__awaiter||function(f,r,d,g){function _(v){return v instanceof d?v:new d(function(y){y(v)})}return new(d||(d=Promise))(function(v,y){function m(b){try{C(g.next(b))}catch(E){y(E)}}function w(b){try{C(g.throw(b))}catch(E){y(E)}}function C(b){b.done?v(b.value):_(b.value).then(m,w)}C((g=g.apply(f,r||[])).next())})};Object.defineProperty(cosmos,"__esModule",{value:!0});const constants_1$3=constants,core_1$6=src$6,utils_1$3=utils,JsonRpcConnection_1$2=JsonRpcConnection$1,JsonRpcProvider_1$2=JsonRpcProvider$1;class CosmosProvider{constructor(r,d,g){this.name=core_1$6.NameSpaceKeyCosmos,this.namespace=r.namespace,this.events=g,this.client=d,this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(r){this.namespace=Object.assign(this.namespace,r)}requestAccounts(){return this.getAccounts()}request(r){return __awaiter$6(this,void 0,void 0,function*(){if((0,core_1$6.logDebug)("cosmos request --args--string>",JSON.stringify(r)),(0,core_1$6.logDebug)("cosmos provider namespace: ",JSON.stringify(this.namespace)),this.namespace.methods.includes(r.method))return this.client.request(r);throw new core_1$6.OKXConnectError(core_1$6.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED,"Please upgrade OKX APP")})}setDefaultChain(r,d){this.httpProviders[r]||this.setHttpProvider(r,d),this.chainId=r,this.events.emit(constants_1$3.PROVIDER_EVENTS.DEFAULT_CHAIN_CHANGED,`${this.name}:${r}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const r=this.namespace.chains[0];if(!r)throw new Error("ChainId not found");return r.split(":")[1]}getAccounts(){const r=this.namespace.accounts;return r?[...new Set(r.filter(d=>d.split(":")[1]===this.chainId.toString()).map(d=>d.split(":")[2]))]:[]}createHttpProviders(){const r={};return this.namespace.chains.forEach(d=>{const g=(0,utils_1$3.getChainId)(d),_=(0,utils_1$3.getRpcUrl)(d,this.namespace);let v=this.createHttpProvider(g,_);v&&(r[g]=v)}),r}getHttpProvider(){const r=`${this.chainId}`,d=this.httpProviders[r];if(typeof d>"u")throw new Error(`JSON-RPC provider for ${r} not found`);return d}setHttpProvider(r,d){const g=this.createHttpProvider(r,d);g&&(this.httpProviders[r]=g)}createHttpProvider(r,d){const g=d;if(g)return new JsonRpcProvider_1$2.JsonRpcProvider(new JsonRpcConnection_1$2.JsonRpcConnection(g,(0,utils_1$3.getGlobal)("disableProviderPing")))}showRequestModal(r){return!0}}cosmos.default=CosmosProvider;var tron={},__awaiter$5=commonjsGlobal&&commonjsGlobal.__awaiter||function(f,r,d,g){function _(v){return v instanceof d?v:new d(function(y){y(v)})}return new(d||(d=Promise))(function(v,y){function m(b){try{C(g.next(b))}catch(E){y(E)}}function w(b){try{C(g.throw(b))}catch(E){y(E)}}function C(b){b.done?v(b.value):_(b.value).then(m,w)}C((g=g.apply(f,r||[])).next())})};Object.defineProperty(tron,"__esModule",{value:!0});const constants_1$2=constants,core_1$5=src$6,utils_1$2=utils,JsonRpcConnection_1$1=JsonRpcConnection$1,JsonRpcProvider_1$1=JsonRpcProvider$1;class TronProvider{constructor(r,d,g){this.name=core_1$5.NameSpaceKeyTron,this.namespace=r.namespace,this.events=g,this.client=d,this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(r){this.namespace=Object.assign(this.namespace,r)}requestAccounts(){return this.getAccounts()}request(r){return __awaiter$5(this,void 0,void 0,function*(){if((0,core_1$5.logDebug)("tron request --args--string>",JSON.stringify(r)),(0,core_1$5.logDebug)("tron provider namespace: ",JSON.stringify(this.namespace)),this.namespace.methods.includes(r.method))return this.client.request(r);throw new core_1$5.OKXConnectError(core_1$5.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED,"Please upgrade OKX APP")})}setDefaultChain(r,d){this.httpProviders[r]||this.setHttpProvider(r,d),this.chainId=r,this.events.emit(constants_1$2.PROVIDER_EVENTS.DEFAULT_CHAIN_CHANGED,`${this.name}:${r}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const r=this.namespace.chains[0];if(!r)throw new Error("ChainId not found");return r.split(":")[1]}getAccounts(){const r=this.namespace.accounts;return r?[...new Set(r.filter(d=>d.split(":")[1]===this.chainId.toString()).map(d=>d.split(":")[2]))]:[]}createHttpProviders(){const r={};return this.namespace.chains.forEach(d=>{const g=(0,utils_1$2.getChainId)(d),_=(0,utils_1$2.getRpcUrl)(d,this.namespace);let v=this.createHttpProvider(g,_);v&&(r[g]=v)}),r}getHttpProvider(){const r=`${this.chainId}`,d=this.httpProviders[r];if(typeof d>"u")throw new Error(`JSON-RPC provider for ${r} not found`);return d}setHttpProvider(r,d){const g=this.createHttpProvider(r,d);g&&(this.httpProviders[r]=g)}createHttpProvider(r,d){const g=d;if(g)return new JsonRpcProvider_1$1.JsonRpcProvider(new JsonRpcConnection_1$1.JsonRpcConnection(g,(0,utils_1$2.getGlobal)("disableProviderPing")))}showRequestModal(r){return!0}}tron.default=TronProvider;var starknet={},__awaiter$4=commonjsGlobal&&commonjsGlobal.__awaiter||function(f,r,d,g){function _(v){return v instanceof d?v:new d(function(y){y(v)})}return new(d||(d=Promise))(function(v,y){function m(b){try{C(g.next(b))}catch(E){y(E)}}function w(b){try{C(g.throw(b))}catch(E){y(E)}}function C(b){b.done?v(b.value):_(b.value).then(m,w)}C((g=g.apply(f,r||[])).next())})};Object.defineProperty(starknet,"__esModule",{value:!0});const constants_1$1=constants,core_1$4=src$6,utils_1$1=utils,JsonRpcConnection_1=JsonRpcConnection$1,JsonRpcProvider_1=JsonRpcProvider$1;class StarknetProvider{constructor(r,d,g,_){this.name="starknet",this.namespace=r.namespace,this.events=_,this.client=g,this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders(),this.name=d}updateNamespace(r){this.namespace=Object.assign(this.namespace,r)}requestAccounts(){return this.getAccounts()}request(r){return __awaiter$4(this,void 0,void 0,function*(){if((0,core_1$4.logDebug)("starknet request --args--string>",JSON.stringify(r)),(0,core_1$4.logDebug)("starknet provider namespace: ",this.namespace),this.namespace.methods.includes(r.method))return this.client.request(r);throw new core_1$4.OKXConnectError(core_1$4.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED,"Wallet doesn't support"+r.method)})}setDefaultChain(r,d){this.httpProviders[r]||this.setHttpProvider(r,d),this.chainId=r,this.events.emit(constants_1$1.PROVIDER_EVENTS.DEFAULT_CHAIN_CHANGED,`${this.name}:${r}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const r=this.namespace.chains[0];if(!r)throw new Error("ChainId not found");return r.split(":")[1]}getAccounts(){const r=this.namespace.accounts;return r?[...new Set(r.filter(d=>d.split(":")[1]===this.chainId.toString()).map(d=>d.split(":")[2]))]:[]}createHttpProviders(){const r={};return this.namespace.chains.forEach(d=>{const g=(0,utils_1$1.getChainId)(d),_=(0,utils_1$1.getRpcUrl)(d,this.namespace);let v=this.createHttpProvider(g,_);v&&(r[g]=v)}),r}getHttpProvider(){const r=`${this.chainId}`,d=this.httpProviders[r];if(typeof d>"u")throw new Error(`JSON-RPC provider for ${r} not found`);return d}setHttpProvider(r,d){const g=this.createHttpProvider(r,d);g&&(this.httpProviders[r]=g)}createHttpProvider(r,d){const g=d;if(g)return new JsonRpcProvider_1.JsonRpcProvider(new JsonRpcConnection_1.JsonRpcConnection(g,(0,utils_1$1.getGlobal)("disableProviderPing")))}showRequestModal(r){return!0}}starknet.default=StarknetProvider;var __awaiter$3=commonjsGlobal&&commonjsGlobal.__awaiter||function(f,r,d,g){function _(v){return v instanceof d?v:new d(function(y){y(v)})}return new(d||(d=Promise))(function(v,y){function m(b){try{C(g.next(b))}catch(E){y(E)}}function w(b){try{C(g.throw(b))}catch(E){y(E)}}function C(b){b.done?v(b.value):_(b.value).then(m,w)}C((g=g.apply(f,r||[])).next())})},__importDefault=commonjsGlobal&&commonjsGlobal.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(OKXUniversalProvider$1,"__esModule",{value:!0});OKXUniversalProvider$1.OKXUniversalProvider=void 0;const eip155_1=eip155,sui_1=sui,constants_1=constants,eventemitter3_1=__importDefault(require$$3),client_1=client,core_1$3=src$6,namespaces_1=namespaces,solana_1=__importDefault(solana),btc_1=__importDefault(btc),aptos_1=__importDefault(aptos),ton_1=__importDefault(ton),cosmos_1=__importDefault(cosmos),tron_1=__importDefault(tron),utils_1=utils,packages_1=packages,provider_1=provider,starknet_1=__importDefault(starknet);class OKXUniversalProvider{static init(r){return __awaiter$3(this,void 0,void 0,function*(){(0,core_1$3.logDebug)("OKXUniversalProvider init() called"),(0,core_1$3.checkMetaData)(r.dappMetaData),(0,utils_1.setGlobal)("disableProviderPing",!0);let d;return window&&window.okxConnectUniversalinwindow&&window.okxConnectUniversalinwindow instanceof OKXUniversalProvider?((0,core_1$3.logDebug)("OKXUniversalConnect init() old called"),d=window.okxConnectUniversalinwindow):((0,core_1$3.logDebug)("OKXUniversalConnect init() new called"),d=new OKXUniversalProvider(r),window&&(window.okxConnectUniversalinwindow=d),yield d.initialize()),(0,core_1$3.getDefaultReporter)().configVersionAndSide("universalprovider-1.5.2","dapp",d.providerOpts.dappMetaData.name),d})}constructor(r){this.rpcProviders={},this.events=new eventemitter3_1.default,(!r.connector||r.connector.length==0)&&(r.connector=[core_1$3.AppwalletConnector.getConnector(),core_1$3.TgwalletConnector.getConnector()]),this.providerOpts=r}request(r,d){return __awaiter$3(this,void 0,void 0,function*(){if((0,core_1$3.logDebug)("OKXUniversalProvider request() called"),(0,core_1$3.reportLog)("OKXUniversalProvider request() called"),!this.connected())throw new core_1$3.OKXConnectError(core_1$3.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR);(0,core_1$3.logDebug)("OKXUniversalProvider request()  connected ");const{namespace:g,requestParam:_}=this.buildRequestParamFromRequest(r,d);return yield this.getProvider(g).request(_)})}buildRequestParamFromRequest(r,d){var g;(0,core_1$3.logDebug)("UniversalProvider request args >>>>>>>: ",d,(0,core_1$3.safeJsonStringify)(r));let[_,v]=this.validateChain(d);if(!this.session)throw new core_1$3.OKXConnectError(core_1$3.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"Please call connect() before request()");let y=Object.keys(this.session.namespaces);if(!d&&y&&y.length>1)throw new core_1$3.OKXConnectError(core_1$3.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR,"Multiple chains have been linked, the request method requires chain");_=="aptos"&&v=="mainnet"&&(_="aptos",v="637"),_=="movement"&&v=="testnet"&&(_="aptos",v="70000060");const m=Object.assign(Object.assign({},r),{chainId:`${_}:${v}`,redirect:(g=r.redirect)!==null&&g!==void 0?g:this.sessionConfig.redirect});return{namespace:_,requestParam:m}}enable(){return __awaiter$3(this,void 0,void 0,function*(){if(!this.client)throw new core_1$3.OKXConnectError(core_1$3.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"Sign Client not initialized");if(!this.session)if(this.connectOpts)yield this.connect(this.connectOpts);else throw new core_1$3.OKXConnectError(core_1$3.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"Sign Client not initialized");return yield this.requestAccounts()})}disconnect(){return __awaiter$3(this,void 0,void 0,function*(){if((0,core_1$3.logDebug)("OKXUniversalProvider disconnect() called"),(0,core_1$3.reportLog)("provider disconnect called"),!this.session)throw new core_1$3.OKXConnectError(core_1$3.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR);return new Promise(r=>__awaiter$3(this,void 0,void 0,function*(){let d=!1;const g=()=>__awaiter$3(this,void 0,void 0,function*(){d||(d=!0,yield this.disconnectAndEmit(),yield this.cleanup(),r(),(0,core_1$3.logDebug)("UniversalProvider disconnect Disconnected"),(0,core_1$3.reportLog)("provider disconnect disconnected"))});try{yield this.client.disconnect(),yield g()}catch{yield g()}}))})}disconnectAndEmit(){var r,d;this.client.engine.connectManagerDisconnect(),this.events.emit("disconnect",{topic:(r=this.session)===null||r===void 0?void 0:r.topic}),this.events.emit("session_delete",{topic:(d=this.session)===null||d===void 0?void 0:d.topic})}aptosChainNameToGeneralId(r){return r=="aptos:mainnet"?"aptos:637":r=="movement:testnet"?"aptos:70000060":r}replaceAptos(r){var d,g;let _=(d=r.namespaces)===null||d===void 0?void 0:d.aptos;if(_!=null){let y=this.replaceAptosInner(_);r.namespaces!=null&&"aptos"in r.namespaces&&y!=null&&(r.namespaces.aptos=y)}let v=(g=r.optionalNamespaces)===null||g===void 0?void 0:g.aptos;if(v!=null){let y=this.replaceAptosInner(v);r.optionalNamespaces!=null&&"aptos"in r.optionalNamespaces&&y!=null&&(r.optionalNamespaces.aptos=y)}return r}replaceAptosInner(r){var d;return r!=null&&(r.chains=(d=r.chains)===null||d===void 0?void 0:d.map(g=>this.aptosChainNameToGeneralId(g)),r.defaultChain!=null&&(r.defaultChain=this.aptosChainNameToGeneralId(r.defaultChain))),r}replaceAptosGeneralIdWithNetName(r){return r.includes("aptos:637")?r=r.replace("aptos:637","aptos:mainnet"):r.includes("aptos:70000060")&&(r=r.replace("aptos:70000060","movement:testnet")),r}replaceSessionAptos(r){var d;let g=(d=r==null?void 0:r.namespaces)===null||d===void 0?void 0:d.aptos;if(g!=null&&g.chains!=null){g.chains=g.chains.map(v=>this.replaceAptosGeneralIdWithNetName(v)),g.accounts=g.accounts.map(v=>this.replaceAptosGeneralIdWithNetName(v));let _={};Object.keys(g.extra||{}).forEach((v,y)=>{this.replaceAptosGeneralIdWithNetName(v),_[this.replaceAptosGeneralIdWithNetName(v)]=Object.values((r==null?void 0:r.namespaces.aptos.extra)||{})[y]}),g.extra=_}(0,core_1$3.logDebug)("replaceSessionAptos",r)}connected(){(0,core_1$3.logDebug)("OKXUniversalProvider connected() called"),(0,core_1$3.reportLog)("provider connected called");let r=()=>{try{this.cleanup(),this.client.engine.connectManagerDisconnect()}catch(d){(0,core_1$3.logDebug)("Error during disconnect:",d)}};try{return this.session?this.client.engine.getCurrentConnectionReady(Object.keys(this.session.namespaces))?!0:(r(),!1):!1}catch{return r(),!1}}connectAndSign(r,d){return __awaiter$3(this,void 0,void 0,function*(){(0,core_1$3.logDebug)("OKXUniversalProvider connectAndSign() called");const g=Object.assign(Object.assign({},r),{signRequest:d});return(0,core_1$3.logDebug)("OKXUniversalProvider connectAndSign() opts:",JSON.stringify(r)),(0,core_1$3.logDebug)("OKXUniversalProvider connectAndSign() signRequest:",JSON.stringify(d)),yield this.connect(g)})}connect(r){return __awaiter$3(this,void 0,void 0,function*(){if((0,core_1$3.logDebug)("OKXUniversalProvider connect() called"),(0,core_1$3.reportLog)("provider connect called"),!this.client)throw new core_1$3.OKXConnectError(core_1$3.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"Sign Client not initialized");if(this.connected())return this.session;r=this.replaceAptos(r),(0,core_1$3.logDebug)("OKXUniversalProvider connect >>>>",JSON.stringify(r)),r.sessionConfig===void 0&&(r.sessionConfig={}),r.sessionConfig.openUniversalUrl===void 0&&(r.sessionConfig.openUniversalUrl=(0,core_1$3.isMobileUserAgent)()),this.setNamespaces(r);try{(0,core_1$3.logDebug)(`UniversalProvider connect opts.stringify ====> ${JSON.stringify(r)}`);let d=yield this.client.connect(r);if((0,core_1$3.logDebug)(`UniversalProvider connect success ====> ${JSON.stringify(d)}`),d){if(this.replaceSessionAptos(d),this.session=d,this.client.session=d,this.setConnectConnector(),(0,core_1$3.logDebug)("OKXUniversalProvider connect success opts>>>>",JSON.stringify(r)),this.onConnect(),r.signRequest&&r.signRequest.length>0){let g=r.signRequest[0],_=[];typeof window<"u"&&window&&window.okxConnectUniversalUIinwindow?((0,core_1$3.logDebug)("OKXUniversalProvider connect success, us UI SDK>>>>"),this.session.signResponse&&this.session.signResponse.length>0&&(_=this.session.signResponse)):((0,core_1$3.logDebug)("OKXUniversalProvider connect success, us Universal SDK>>>>"),this.session.signResponse&&this.session.signResponse.length>0?_=this.session.signResponse:_.push((0,packages_1.creatNotSupportMethodItemReplay)(g))),(0,core_1$3.logDebug)(`UniversalProvider connect success connectRequestReply ====> ${JSON.stringify(_)}`),setTimeout(()=>{this.events.emit("connect_signResponse",_)},100)}return d}return}catch(d){throw(0,core_1$3.logDebug)("UniversalProvider connect error ====> ",JSON.stringify(d)),d}})}syncAllAddresses(){return __awaiter$3(this,void 0,void 0,function*(){if((0,provider_1.syncAddressAvailable)(this.session.wallet))return this.client.syncAllAddress();throw new core_1$3.OKXConnectError(core_1$3.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED)})}setConnectConnector(){var r;this.client.setConnectConnector((r=this.session)===null||r===void 0?void 0:r.wallet)}on(r,d){this.events.on(r,d)}once(r,d){this.events.once(r,d)}removeListener(r,d){this.events.removeListener(r,d)}off(r,d){this.events.off(r,d)}setDefaultChain(r,d){(0,core_1$3.logDebug)("OKXUniversalProvider setDefaultChain() called");try{if(!this.connected())return;const[g,_]=this.validateChain(r);this.getProvider(g).setDefaultChain(_,d)}catch(g){if(!/Please call connect/.test(g.message))throw g}}checkStorage(){return __awaiter$3(this,void 0,void 0,function*(){let r=yield this.getFromStore("connectSession");if((0,core_1$3.logDebug)(r),r){(0,core_1$3.logDebug)("checkStorage error start");try{let d=r;this.session=d,this.client.session=this.session,this.setConnectConnector(),yield this.client.restoreconnect(d),this.sessionConfig=d.sessionConfig,this.client.sessionConfig=this.sessionConfig,(0,core_1$3.logDebug)("[evm u-provider] do reconnection",this.session),this.createProviders(),this.registerEventListeners(),setTimeout(()=>{this.events.emit("reconnect",{session:this.session})},100)}catch(d){yield this.cleanup(),(0,core_1$3.logDebug)(`checkStorage error ${JSON.stringify(d)}`)}}})}initialize(){return __awaiter$3(this,void 0,void 0,function*(){(0,core_1$3.logDebug)("OKXUniversalProvider initialize() called"),(0,core_1$3.reportLog)("provider initialize called");const r=Object.assign({url:window.location.hostname,origin:window.location.origin},this.providerOpts.dappMetaData);this.client=new client_1.SignClient(r,this.events),this.registerConnector(this.providerOpts.connector),yield this.checkStorage()})}createProviders(){if(!this.client)throw new core_1$3.OKXConnectError(core_1$3.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"Sign Client not initialized");if(!this.connected())throw new core_1$3.OKXConnectError(core_1$3.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"Session not initialized. Please call connect() before enable()");const r=[...new Set(Object.keys(this.session.namespaces).filter(d=>{var g,_;return((_=(g=this.session.namespaces[d])===null||g===void 0?void 0:g.accounts)===null||_===void 0?void 0:_.length)>0}).map(d=>(0,namespaces_1.parseNamespaceKey)(d)))];this.rpcProviders={},r.forEach(d=>{if(!this.session)return;const _=this.session.namespaces[d];switch((0,core_1$3.logDebug)("init eip155 >> ",_),d){case"eip155":const v={namespace:_};this.rpcProviders[d]=new eip155_1.Eip155Provider(v,this.client,this.events);break;case"solana":const y={namespace:_};let m=new solana_1.default(y,"solana",this.client,this.events);this.rpcProviders[d]=m;let w=new solana_1.default(y,"sonic",this.client,this.events);this.rpcProviders.sonic=w;let C=new solana_1.default(y,"svm",this.client,this.events);this.rpcProviders.svm=C;break;case"ton":const b={namespace:_};let E=new ton_1.default(b,this.client,this.events);this.rpcProviders[d]=E;break;case"sui":const S={namespace:_};let R=new sui_1.SuiProvider(S,this.client,this.events);R.name="sui",this.rpcProviders[d]=R;break;case"btc":const O={namespace:_};let $=new btc_1.default(O,"btc",this.client,this.events);this.rpcProviders.btc=$;let I=new btc_1.default(O,"fractal",this.client,this.events);this.rpcProviders.fractal=I;break;case"aptos":let U=new aptos_1.default({namespace:_},"aptos",this.client,this.events);this.rpcProviders[d]=U;let L=new aptos_1.default({namespace:_},"movement",this.client,this.events);this.rpcProviders.movement=L;break;case"cosmos":let j=new cosmos_1.default({namespace:_},this.client,this.events);this.rpcProviders[d]=j;break;case"tron":let F=new tron_1.default({namespace:_},this.client,this.events);this.rpcProviders[d]=F;break;case"starknet":let X=new starknet_1.default({namespace:_},"starknet",this.client,this.events);this.rpcProviders[d]=X;break}})}registerEventListeners(){if(typeof this.client>"u")throw new core_1$3.OKXConnectError(core_1$3.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"Sign Client is not initialized");this.client.engine.addDisconnectListener(()=>{this.disconnectAndEmit(),this.cleanup()}),this.on(constants_1.PROVIDER_EVENTS.DEFAULT_CHAIN_CHANGED,r=>{this.onChainChanged(r)}),this.on(constants_1.PROVIDER_EVENTS.UPDATE_NAMESPACES,r=>{if(r){const d=Object.keys(r)[0];this.session&&(this.session.namespaces[d]=r[d],this.session&&(this.persist("connectSession",this.session),this.events.emit("session_update",this.session)),(0,core_1$3.logDebug)("PROVIDER_EVENTS.UPDATE_NAMESPACES this.session... ->>>",JSON.stringify(this.session)))}})}getProvider(r){return(0,core_1$3.logDebug)("current get providers",this.rpcProviders),(0,core_1$3.logDebug)("query namespace: ",r),this.rpcProviders[r]}setNamespaces(r){this.connectOpts=r;const{namespaces:d,sessionConfig:g}=r,_={origin:window.location.origin,url:window.location.hostname,name:this.providerOpts.dappMetaData.name,icon:this.providerOpts.dappMetaData.icon,manifestUrl:this.providerOpts.dappMetaData.manifestUrl};this.sessionConfig=Object.assign({dappInfo:_},g),(0,core_1$3.logDebug)("setNamespaces sessionConfig>>>",this.sessionConfig),this.client.sessionConfig=this.sessionConfig,this.persist("sessionConfig",g)}validateChain(r){var d;let[g,_]=(r==null?void 0:r.split(":"))||["",""];if(!this.session||!this.session.namespaces||!Object.keys(this.session.namespaces).length)return(0,core_1$3.logDebug)("get name & chain",g,_),[g,_];if(g){if(!this.isChainNamespaceInSession(g))throw new core_1$3.OKXConnectError(core_1$3.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR,`Namespace '${g}' is not configured. Please call connect() first with namespace config.`);if(_&&r){(0,core_1$3.logDebug)("this.session.namespaces -->> ",g,JSON.stringify(this.session.namespaces));const m=(d=this.session.namespaces[g])===null||d===void 0?void 0:d.chains;if((0,core_1$3.logDebug)("get chainsArr & chain",JSON.stringify(m),r),m&&!m.includes(r))throw new core_1$3.OKXConnectError(core_1$3.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR,`Namespace not include the chain '${r}'`)}}if(g&&_)return(0,core_1$3.logDebug)("get name & chain",g,_),[g,_];let v=(0,namespaces_1.parseNamespaceKey)(Object.keys(this.session.namespaces)[0]);const y=this.rpcProviders[v].getDefaultChain();return(0,core_1$3.logDebug)("get default chain:",y),[v,y]}isChainNamespaceInSession(r){var d,g;if(Object.keys(((d=this.session)===null||d===void 0?void 0:d.namespaces)||{}).map(v=>(0,namespaces_1.parseNamespaceKey)(v)).includes(r))return!0;let _=!1;return Object.values(((g=this.session)===null||g===void 0?void 0:g.namespaces)||{}).forEach(v=>{v.chains.forEach(y=>{y.split(":")[0]==r&&(_=!0)})}),_}requestAccountsWithNamespace(r){return this.getProvider(r).requestAccounts()}requestDefaultChainWithNamespace(r){return this.getProvider(r).getDefaultChain()}requestAccounts(){return __awaiter$3(this,void 0,void 0,function*(){const[r]=this.validateChain();return yield this.getProvider(r).requestAccounts()})}onChainChanged(r){var d;if(!(!((d=this.session)===null||d===void 0)&&d.namespaces))return;const[g,_]=this.validateChain(r);_&&(this.session.namespaces[g]&&(this.session.namespaces[g].defaultChain=_,this.persist("connectSession",this.session)),this.events.emit("chainChanged",_))}onConnect(){this.createProviders(),this.session&&(this.persist("connectSession",this.session),console.log("window.okxwallet save session:",Date.now())),this.events.emit("connect",{session:this.session}),this.registerEventListeners()}cleanup(){return __awaiter$3(this,void 0,void 0,function*(){this.session=void 0,this.client.session=void 0,this.setConnectConnector(),this.sessionProperties=void 0,this.persist("optionalNamespaces",void 0),this.persist("sessionProperties",void 0),this.persist("connectSession",void 0)})}persist(r,d){return(0,core_1$3.logDebug)("[evm u-provider] persisit data",r,d),this.client.engine.saveSessionContent(r,d)}getFromStore(r){return __awaiter$3(this,void 0,void 0,function*(){return this.client.engine.getSessionContent(r)})}showRequestModal(r,d){try{const{namespace:g,requestParam:_}=this.buildRequestParamFromRequest(r,d);return this.getProvider(g).showRequestModal(_)}catch{return!1}}openWallet(r,d){this.client.openWallet(r,d)}registerConnector(r){this.client.registerConnector(r),this.client.setAccountChangeListener(d=>{(0,core_1$3.logDebug)("accountChangeListener session：",this.events.listenerCount("accountChanged"),JSON.stringify(d));try{d&&this.events.listenerCount("accountChanged")&&(this.replaceSessionAptos(d),this.session=d,this.client.session=d,this.session&&(this.persist("connectSession",this.session),console.log("window.okxwallet save session:",Date.now())),this.setConnectConnector(),this.createProviders(),this.events.emit("accountChanged",this.session))}catch(g){(0,core_1$3.logDebug)("setAccountChangeListener error:",JSON.stringify(g))}})}}OKXUniversalProvider$1.OKXUniversalProvider=OKXUniversalProvider;OKXUniversalProvider$1.default=OKXUniversalProvider;var OKXBtcProvider={},hasRequiredOKXBtcProvider;function requireOKXBtcProvider(){if(hasRequiredOKXBtcProvider)return OKXBtcProvider;hasRequiredOKXBtcProvider=1;var f=commonjsGlobal&&commonjsGlobal.__awaiter||function(_,v,y,m){function w(C){return C instanceof y?C:new y(function(b){b(C)})}return new(y||(y=Promise))(function(C,b){function E(O){try{R(m.next(O))}catch($){b($)}}function S(O){try{R(m.throw(O))}catch($){b($)}}function R(O){O.done?C(O.value):w(O.value).then(E,S)}R((m=m.apply(_,v||[])).next())})};Object.defineProperty(OKXBtcProvider,"__esModule",{value:!0}),OKXBtcProvider.OKXBtcProvider=void 0;const r=requireSrc(),d=src$6;let g=class{constructor(v){this.caip=["btc:mainnet","fractal:mainnet"],this.provider=v}getAddressForChainId(v){var y,m;if(this.checkChainId(v)==null)throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"invalid chainId");let C=(m=(y=this.provider.session)===null||y===void 0?void 0:y.namespaces.btc)===null||m===void 0?void 0:m.accounts.filter(function(S){return S.startsWith(v)});if(C==null||C.length<0)throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"no connected account");return C[0].split(":")[2]}getAccount(v){var y,m,w;if(this.checkChainId(v)==null)throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"invalid chainId");let b=(w=(m=(y=this.provider.session)===null||y===void 0?void 0:y.namespaces.btc)===null||m===void 0?void 0:m.extra)===null||w===void 0?void 0:w[v],E="";return b!=null&&(E=b.compressedPublicKey),{address:this.getAddressForChainId(v),publicKey:E}}signMessage(v,y,m){return f(this,void 0,void 0,function*(){if(this.checkChainId(v)==null)throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"invalid chainId");if(y==="undefined")throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"the method signMessage parmas error");let C={signStr:y,from:this.getAddressForChainId(v)};m&&(C.type=m);try{const b=yield this.provider.request({method:"btc_signMessage",params:C},v);return"result"in b?b.result:b.error}catch(b){throw b instanceof r.OKXConnectError?b:new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"the method signTransaction request error")}})}sendBitcoin(v,y,m,w){return f(this,void 0,void 0,function*(){if(this.checkChainId(v)==null)throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"invalid chainId");let b={from:this.getAddressForChainId(v),to:y,value:(m/1e8).toString()};w!=null&&w.feeRate&&(b.satBytes=w.feeRate.toString());let E=yield this.send(v,b);return E!==void 0&&"txhash"in E?E.txhash:E})}send(v,y){return f(this,void 0,void 0,function*(){if(this.checkChainId(v)==null)throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"invalid chainId");if(!this.checkParameters(y,"to","value"))throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"the method send parmas  error");y.from=this.getAddressForChainId(v);try{const w=yield this.provider.request({method:"btc_send",params:y},v);return"result"in w?{txhash:w.result}:w.error}catch(w){throw w instanceof r.OKXConnectError?w:new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`the method send request error: ${w}`)}})}signPsbt(v,y,m){return f(this,void 0,void 0,function*(){return new Promise((w,C)=>{this.signPsbts(v,[y],[m]).then(b=>{let E=JSON.parse(b);w(E[0])}).catch(b=>{C(b)})})})}signPsbts(v,y,m){return f(this,void 0,void 0,function*(){if(this.checkChainId(v)==null)throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"invalid chainId");if(y===void 0)throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"the method signPsbts params error");let C={psbtHexs:y,options:m};C.from=this.getAddressForChainId(v);try{const b=yield this.provider.request({method:"btc_signPsbts",params:C},v);if("result"in b)return b.result}catch(b){throw b instanceof r.OKXConnectError?b:new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`the method send request error: ${b}`)}})}signAndPushPsbt(v,y,m){return f(this,void 0,void 0,function*(){if(this.checkChainId(v)==null)throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"invalid chainId");if(y===void 0)throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"the method signPsbts params error");let C={psbtHex:y,options:m};C.from=this.getAddressForChainId(v);try{const b=yield this.provider.request({method:"btc_signAndPushPsbt",params:C},v);return"result"in b?JSON.parse(b.result):b.error}catch(b){throw b instanceof r.OKXConnectError?b:new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`the method send request error: ${b}`)}})}sendInscription(v,y,m,w){return f(this,void 0,void 0,function*(){let C={address:y,inscriptionId:m,options:w};if(this.checkChainId(v)==null)throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"invalid chainId");if(y==="undefined")throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"the method sendInscription params error");var E=0;w&&"feeRate"in w&&(E=w.feeRate);let S="",R=this.getAddressForChainId(v);var O=7;if(m!=="undefined"){let I="-Atomicals",U="-Ordinals";m!=null&&m.toLowerCase().endsWith(I.toLowerCase())?(O=8,m=this.removeSuffix(m,I)):m!=null&&m.toLowerCase().endsWith(U.toLowerCase())&&(m=this.removeSuffix(m,U))}let $={scenario:5,feeRate:E,txType:"20",to:y,batchBean:[{coinAmount:"1",nftId:m,protocolId:O,coinId:S,inscriptionId:"",from:R}],extension:C};try{const I=yield this.provider.request({method:"btc_sendInscription",params:$},v);return"result"in I?I.result:I.error}catch(I){throw I instanceof r.OKXConnectError?I:new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"the method signTransaction request error")}})}sendRunes(v,y,m,w,C){return f(this,void 0,void 0,function*(){try{if(!v||!y||!m||!w)throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"The parameter is empty. Please check");let b=this.checkChainId(v),E;if(b!=null&&(b.startsWith("btc")?E=13:b.startsWith("fractal")&&(E=16)),b==null||E==null)throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"invalid chainId");let R={fromAddress:this.getAddressForChainId(v),protocolId:E,address:y,runeid:m,amount:w,options:C};return(0,d.logDebug)("OKXBtcProvider sendRunes -->",JSON.stringify(R)),(yield this.provider.request({method:"btc_sendRunes",params:R},v)).result}catch(b){throw b}})}inscribeTransfer(v,y,m){return f(this,void 0,void 0,function*(){try{if(!v||!y||!m)throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"The parameter is empty. Please check");let w=this.checkChainId(v),C;if(w!=null&&(w.startsWith("btc")?C=1:w.startsWith("fractal")&&(C=14)),w==null||C==null)throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"invalid chainId");let E={fromAddress:this.getAddressForChainId(v),protocolId:C,ticker:y,amount:m};(0,d.logDebug)("OKXBtcProvider inscribeTransfer -->",JSON.stringify(E));const S=yield this.provider.request({method:"btc_inscribeTransfer",params:E},v)}catch(w){throw w}})}removeSuffix(v,y){return v.endsWith(y)?v.slice(0,v.length-y.length):v}checkParameters(v,...y){var m=[];return y.forEach(w=>{`${w}`in v||m.push(w)}),m.length>0?(console.log("not find key: ",m.join(",")),!1):!0}checkChainId(v){if(this.caip.includes(v)){let[y,m]=v.split(":");return y}}};return OKXBtcProvider.OKXBtcProvider=g,OKXBtcProvider.default=g,OKXBtcProvider}var OKXCosmosProvider$1={},__awaiter$2=commonjsGlobal&&commonjsGlobal.__awaiter||function(f,r,d,g){function _(v){return v instanceof d?v:new d(function(y){y(v)})}return new(d||(d=Promise))(function(v,y){function m(b){try{C(g.next(b))}catch(E){y(E)}}function w(b){try{C(g.throw(b))}catch(E){y(E)}}function C(b){b.done?v(b.value):_(b.value).then(m,w)}C((g=g.apply(f,r||[])).next())})};Object.defineProperty(OKXCosmosProvider$1,"__esModule",{value:!0});OKXCosmosProvider$1.OKXCosmosProvider=void 0;const core_1$2=src$6;class OKXCosmosProvider{constructor(r){this.provider=r}getAccount(r){var d,g,_,v,y,m;(0,core_1$2.logDebug)("OKXCosmosProvider getAccount chainId:",r),(0,core_1$2.logDebug)("OKXCosmosProvider getAccount namespaces:",JSON.stringify((d=this.provider.session)===null||d===void 0?void 0:d.namespaces));let w=(_=(g=this.provider.session)===null||g===void 0?void 0:g.namespaces[core_1$2.NameSpaceKeyCosmos])===null||_===void 0?void 0:_.accounts.filter(function(R){return R.startsWith(r)})[0];if((0,core_1$2.logDebug)("OKXCosmosProvider getAccount account:",JSON.stringify(w)),!w)return;const C=w.split(":"),b=w.split(":")[2];(0,core_1$2.logDebug)("OKXCosmosProvider getAccount address:",b);let E=(m=(y=(v=this.provider.session)===null||v===void 0?void 0:v.namespaces[core_1$2.NameSpaceKeyCosmos])===null||y===void 0?void 0:y.extra)===null||m===void 0?void 0:m[`${C[0]}:${C[1]}`],S="";if(E!=null&&(S=E.publicKey,console.log("aptos_publicKey",S)),!!b)return{algo:"secp256k1",address:b,bech32Address:b,pubKey:this.hexToUint8Array(S)}}signArbitrary(r,d,g){return __awaiter$2(this,void 0,void 0,function*(){const _=window.btoa(g),v={chain_id:"",account_number:"0",sequence:"0",fee:{gas:"0",amount:[]},msgs:[{type:"sign/MsgSignData",value:{signer:d,data:_}}],memo:""};let y={chainId:r,method:"cosmos_signArbitrary",params:{signer:d,chain_id:r.split(":")[1],data:v}};try{const m=yield this.provider.request(y,r);return"result"in m?typeof m.result=="string"?JSON.parse(m.result):m.result:m.error}catch(m){return m}})}signAmino(r,d,g,_){return __awaiter$2(this,void 0,void 0,function*(){if(g.msgs[0].type=="sign/MsgSignData"){let v={chainId:r,method:"cosmos_signArbitrary",params:{signer:d,chain_id:r.split(":")[1],data:g}};try{const y=yield this.provider.request(v,r);return"result"in y?y.result:y.error}catch(y){return y}}else{let v={chainId:r,method:"cosmos_signAmino",params:{signer:d,chainId:r.split(":")[1],sign_doc:g,signOptions:_}};try{const y=yield this.provider.request(v,r);if("result"in y){const m=JSON.parse(y.result);return console.log("signdoc",g,m.signDoc),g.fee=m.signDoc.fee,{signed:g,signature:m.signature}}else return y.error}catch(y){return y}}})}signDirect(r,d,g,_){return __awaiter$2(this,void 0,void 0,function*(){const v={bodyBytes:this.bufferToHex(g.bodyBytes),authInfoBytes:this.bufferToHex(g.authInfoBytes),chainId:g.chainId,accountNumber:g.accountNumber?g.accountNumber.toString():null,signOptions:_||null};let y={chainId:r,method:"cosmos_signDirect",params:{signer:d,chainId:r.split(":")[1],sign_doc:v}};try{const m=yield this.provider.request(y,r);if("result"in m){const w=JSON.parse(m.result);return console.log("signdirect result",w),g.authInfoBytes=this.messageToBuffer(w.signDoc.authInfoBytes),{signed:g,signature:w.signature}}}catch(m){return m}})}messageToBuffer(r){var d=Uint8Array.from([]);try{typeof r=="string"?d=this.hexToUint8Array(r.replace("0x","")):d=Uint8Array.from(r)}catch(g){console.log(`messageToBuffer error: ${g}`)}return d}bufferToHex(r){return"0x"+[...new Uint8Array(r)].map(g=>g.toString(16).padStart(2,"0")).join("")}hexToUint8Array(r){if(r.length%2!==0)throw"Invalid hexString";for(var d=new Uint8Array(r.length/2),g=0;g<r.length;g+=2){var _=parseInt(r.substr(g,2),16);if(isNaN(_))throw"Invalid hexString";d[g/2]=_}return d}}OKXCosmosProvider$1.OKXCosmosProvider=OKXCosmosProvider;var OKXTonProvider={},hasRequiredOKXTonProvider;function requireOKXTonProvider(){if(hasRequiredOKXTonProvider)return OKXTonProvider;hasRequiredOKXTonProvider=1;var f=commonjsGlobal&&commonjsGlobal.__awaiter||function(_,v,y,m){function w(C){return C instanceof y?C:new y(function(b){b(C)})}return new(y||(y=Promise))(function(C,b){function E(O){try{R(m.next(O))}catch($){b($)}}function S(O){try{R(m.throw(O))}catch($){b($)}}function R(O){O.done?C(O.value):w(O.value).then(E,S)}R((m=m.apply(_,v||[])).next())})};Object.defineProperty(OKXTonProvider,"__esModule",{value:!0}),OKXTonProvider.OKXTonProvider=void 0;const r=requireSrc(),d=src$6;let g=class{constructor(v){this.statusChangeSubscriptions=[],this.statusChangeErrorSubscriptions=[],this.provider=v,this.provider.on("connect",()=>{let y=this.wallet();(0,d.logDebug)("OKXTONProvider event connect:",JSON.stringify(y)),this.statusChangeSubscriptions.forEach(m=>m(y))}),this.provider.on("reconnect",()=>{let y=this.wallet();(0,d.logDebug)("OKXTONProvider event reconnect:",JSON.stringify(y)),this.statusChangeSubscriptions.forEach(m=>m(y))}),this.provider.on("disconnect",()=>{(0,d.logDebug)("OKXTONProvider event disconnect:"),this.statusChangeSubscriptions.forEach(y=>y(null))}),this.provider.on("connect_error",y=>{(0,d.logDebug)("OKXTONProvider event connect_error:",JSON.stringify(y)),this.statusChangeErrorSubscriptions.forEach(m=>m(y))})}connected(){return this.provider.connected()?!!this.provider.session.namespaces.ton:!1}account(){try{if(!this.provider.session)return null;let v=this.provider.session.namespaces.ton;if(!v||!v.payload||!v.payload.ton_addr)return null;let y=v.payload.ton_addr;return{address:y.address,chain:y.network,walletStateInit:y.walletStateInit,publicKey:y.publicKey}}catch(v){return(0,d.logDebug)("OKXTONProvider account  error:",JSON.stringify(v)),null}}wallet(){if(this.connected())try{let v=this.provider.session.wallet;const m={device:{platform:v.platform,appName:v.appName,appVersion:v.appVersion,maxProtocolVersion:v.maxProtocolVersion,features:["ton_sendTransaction"]},provider:"http",account:this.account()};let w=this.provider.session.namespaces.ton;return w&&w.payload&&w.payload.ton_proof&&(m.connectItems={tonProof:w.payload.ton_proof}),(0,d.logDebug)("OKXTONProvider wallet :",JSON.stringify(m)),m}catch(v){return(0,d.logDebug)("OKXTONProvider wallet  error:",JSON.stringify(v)),null}return null}onStatusChange(v,y){return this.statusChangeSubscriptions.push(v),y&&this.statusChangeErrorSubscriptions.push(y),()=>{this.statusChangeSubscriptions=this.statusChangeSubscriptions.filter(m=>m!==v),y&&(this.statusChangeErrorSubscriptions=this.statusChangeErrorSubscriptions.filter(m=>m!==y))}}sendTransaction(v){return f(this,void 0,void 0,function*(){if(v.network&&v.network!==d.TONCHAIN.MAINNET)throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"OKXTONProvider sendTransaction network error");if(v.network||(v.network=d.TONCHAIN.MAINNET),this.provider.session&&!v.from){const w=this.provider.requestAccountsWithNamespace("ton");v.from=w[0]}const y={method:"ton_sendTransaction",params:v};let m="ton:"+d.TONCHAIN.MAINNET;return(0,d.logDebug)("OKXTONProvider sendTransaction transaction----:",m,JSON.stringify(y)),this.provider.request(y,m)})}};return OKXTonProvider.OKXTonProvider=g,OKXTonProvider.default=g,OKXTonProvider}var OKXTronProvider$1={},__awaiter$1=commonjsGlobal&&commonjsGlobal.__awaiter||function(f,r,d,g){function _(v){return v instanceof d?v:new d(function(y){y(v)})}return new(d||(d=Promise))(function(v,y){function m(b){try{C(g.next(b))}catch(E){y(E)}}function w(b){try{C(g.throw(b))}catch(E){y(E)}}function C(b){b.done?v(b.value):_(b.value).then(m,w)}C((g=g.apply(f,r||[])).next())})};Object.defineProperty(OKXTronProvider$1,"__esModule",{value:!0});OKXTronProvider$1.OKXTronProvider=void 0;const core_1$1=src$6;class OKXTronProvider{constructor(r){this.TRON_CHAIN_ID="tron:mainnet",this.provider=r}getChain(r){if(r==null&&(r=this.TRON_CHAIN_ID),r!=this.TRON_CHAIN_ID)throw new core_1$1.OKXConnectError(core_1$1.OKX_CONNECT_ERROR_CODES.CHAIN_NOT_SUPPORTED,"The chainId:"+r+"is wrong for OKXTronProvider");return r}getAccount(r){var d,g,_,v,y;r=this.getChain(r);let m=(g=(d=this.provider.session)===null||d===void 0?void 0:d.namespaces[core_1$1.NameSpaceKeyTron])===null||g===void 0?void 0:g.accounts.filter(function(E){return E.startsWith(r)})[0];if(!m)return;const w=m.split(":"),C=m.split(":")[2];let b=(y=(v=(_=this.provider.session)===null||_===void 0?void 0:_.namespaces[core_1$1.NameSpaceKeyTron])===null||v===void 0?void 0:v.extra)===null||y===void 0?void 0:y[`${w[0]}:${w[1]}`];if(b!=null&&b.publicKey,!!C)return{address:C}}stringToHex(r){let d="";for(let g=0;g<r.length;g++)d+=r.charCodeAt(g).toString(16).padStart(2,"0");return d}signMessage(r,d){return __awaiter$1(this,void 0,void 0,function*(){d=this.getChain(d);let g={chainId:d,method:"tron_signMessage",params:{message:this.stringToHex(r)}};try{const _=yield this.provider.request(g,d);return"result"in _?_.result:_.error}catch(_){return _}})}signMessageV2(r,d){return __awaiter$1(this,void 0,void 0,function*(){d=this.getChain(d);let g={chainId:d,method:"tron_signMessageV2",params:{message:r}};try{const _=yield this.provider.request(g,d);return"result"in _?_.result:_.error}catch(_){return _}})}signTransaction(r,d){return __awaiter$1(this,void 0,void 0,function*(){d=this.getChain(d);let g={method:"tron_signTransaction",params:r};try{const _=yield this.provider.request(g,d);if("result"in _){let v;typeof _.result=="string"?v=JSON.parse(_.result):v=_.result;let y={};y.visible=v.visible,y.txID=v.txID;let m={};return m.contract=v.raw_data.contract,m.expiration=v.raw_data.expiration,m.ref_block_bytes=v.raw_data.ref_block_bytes,m.fee_limit=v.raw_data.fee_limit,m.ref_block_hash=v.raw_data.ref_block_hash,m.timestamp=v.raw_data.timestamp,y.raw_data=m,y.raw_data_hex=v.raw_data_hex,y.signature=v.signature,y}}catch(_){return _}})}signAndSendTransaction(r,d){return __awaiter$1(this,void 0,void 0,function*(){d=this.getChain(d);let g={method:"tron_signAndSendTransaction",params:r};try{const _=yield this.provider.request(g,d);if("result"in _)return _.result}catch(_){return _}})}}OKXTronProvider$1.OKXTronProvider=OKXTronProvider;var OKXStarknetProvider$1={},__awaiter=commonjsGlobal&&commonjsGlobal.__awaiter||function(f,r,d,g){function _(v){return v instanceof d?v:new d(function(y){y(v)})}return new(d||(d=Promise))(function(v,y){function m(b){try{C(g.next(b))}catch(E){y(E)}}function w(b){try{C(g.throw(b))}catch(E){y(E)}}function C(b){b.done?v(b.value):_(b.value).then(m,w)}C((g=g.apply(f,r||[])).next())})};Object.defineProperty(OKXStarknetProvider$1,"__esModule",{value:!0});OKXStarknetProvider$1.OKXStarknetProvider=void 0;const core_1=src$6;class OKXStarknetProvider{constructor(r){this.STARKNET_CHAIN_ID="starknet:mainnet",this.provider=r}getChain(r){if(r==null&&(r=this.STARKNET_CHAIN_ID),r!=this.STARKNET_CHAIN_ID)throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.CHAIN_NOT_SUPPORTED,"The chainId:"+r+"is wrong for OKXStarknetProvider");return r}getAccount(r){var d,g,_,v,y;let m=(g=(d=this.provider.session)===null||d===void 0?void 0:d.namespaces[core_1.NameSpaceKeyStarknet])===null||g===void 0?void 0:g.accounts.filter(function(S){return S.startsWith(r)})[0];if(!m)return;const w=m.split(":"),C=m.split(":")[2];let b=(y=(v=(_=this.provider.session)===null||_===void 0?void 0:_.namespaces[core_1.NameSpaceKeyStarknet])===null||v===void 0?void 0:v.extra)===null||y===void 0?void 0:y[`${w[0]}:${w[1]}`],E="";if(b!=null&&(E=b.publicKey),!!C)return{address:C,pubKey:E}}signMessage(r,d,g){return __awaiter(this,void 0,void 0,function*(){g=this.getChain(g),r.length==0&&(r=this.getAccount(g).address);let _={chainId:g,method:"starknet_signMessage",params:{accountAddress:r,typedData:d}};try{const v=yield this.provider.request(_,g);if("result"in v){let y=v.result;return typeof y=="string"&&(y=JSON.parse(y)),[y.signedDataR,y.signedDataS]}else return v.error}catch(v){return v}})}sendTransaction(r,d,g){return __awaiter(this,void 0,void 0,function*(){g=this.getChain(g);let v={method:"starknet_sendTransaction",params:{data:JSON.stringify({accountAddress:r,executionRequest:d}),from:r}};try{const y=yield this.provider.request(v,g);return"result"in y?{transaction_hash:y.result}:y.error}catch(y){return y}})}signMessageDeclareContractPayload(r,d){return __awaiter(this,void 0,void 0,function*(){d=this.getChain(d);try{let g={method:"starknet_signMessage",params:r};const _=yield this.provider.request(g,d);return"result"in _?{transaction_hash:_.result.txHash,class_hash:_.result.classHash}:_.error}catch(g){return g}})}sendMessageExecuteTransactionDetail(r,d,g,_,v){return __awaiter(this,void 0,void 0,function*(){v=this.getChain(v);const m={calls:Array.isArray(d)?d:[d],abis:g,transactionsDetail:{nonce:_==null?void 0:_.nonce,maxFee:_==null?void 0:_.nonce,version:_==null?void 0:_.version}};return this.sendTransaction(r,m,v)})}}OKXStarknetProvider$1.OKXStarknetProvider=OKXStarknetProvider;var hasRequiredSrc;function requireSrc(){return hasRequiredSrc||(hasRequiredSrc=1,function(f){var r=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(C,b,E,S){S===void 0&&(S=E);var R=Object.getOwnPropertyDescriptor(b,E);(!R||("get"in R?!b.__esModule:R.writable||R.configurable))&&(R={enumerable:!0,get:function(){return b[E]}}),Object.defineProperty(C,S,R)}:function(C,b,E,S){S===void 0&&(S=E),C[S]=b[E]}),d=commonjsGlobal&&commonjsGlobal.__exportStar||function(C,b){for(var E in C)E!=="default"&&!Object.prototype.hasOwnProperty.call(b,E)&&r(b,C,E)};Object.defineProperty(f,"__esModule",{value:!0}),f.OKXStarknetProvider=f.OKXTronProvider=f.OKXTonProvider=f.OKXCosmosProvider=f.OKXBtcProvider=f.OKXUniversalProvider=void 0,d(types,f),d(packages,f);var g=OKXUniversalProvider$1;Object.defineProperty(f,"OKXUniversalProvider",{enumerable:!0,get:function(){return g.OKXUniversalProvider}});var _=requireOKXBtcProvider();Object.defineProperty(f,"OKXBtcProvider",{enumerable:!0,get:function(){return _.OKXBtcProvider}});var v=OKXCosmosProvider$1;Object.defineProperty(f,"OKXCosmosProvider",{enumerable:!0,get:function(){return v.OKXCosmosProvider}});var y=requireOKXTonProvider();Object.defineProperty(f,"OKXTonProvider",{enumerable:!0,get:function(){return y.OKXTonProvider}});var m=OKXTronProvider$1;Object.defineProperty(f,"OKXTronProvider",{enumerable:!0,get:function(){return m.OKXTronProvider}});var w=OKXStarknetProvider$1;Object.defineProperty(f,"OKXStarknetProvider",{enumerable:!0,get:function(){return w.OKXStarknetProvider}}),d(src$6,f)}(src$1)),src$1}var srcExports=requireSrc(),__defProp=Object.defineProperty,__defProps=Object.defineProperties,__getOwnPropDescs=Object.getOwnPropertyDescriptors,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp=(f,r,d)=>r in f?__defProp(f,r,{enumerable:!0,configurable:!0,writable:!0,value:d}):f[r]=d,__spreadValues=(f,r)=>{for(var d in r||(r={}))__hasOwnProp.call(r,d)&&__defNormalProp(f,d,r[d]);if(__getOwnPropSymbols)for(var d of __getOwnPropSymbols(r))__propIsEnum.call(r,d)&&__defNormalProp(f,d,r[d]);return f},__spreadProps=(f,r)=>__defProps(f,__getOwnPropDescs(r)),__publicField=(f,r,d)=>(__defNormalProp(f,typeof r!="symbol"?r+"":r,d),d),__async=(f,r,d)=>new Promise((g,_)=>{var v=w=>{try{m(d.next(w))}catch(C){_(C)}},y=w=>{try{m(d.throw(w))}catch(C){_(C)}},m=w=>w.done?g(w.value):Promise.resolve(w.value).then(v,y);m((d=d.apply(f,r)).next())}),_a,_b,_c,_d,_e,_f,_g,THEME=(f=>(f.DARK="DARK",f.LIGHT="LIGHT",f))(THEME||{});class OKXConnectUiError extends src$6.OKXConnectError{constructor(r){super(1,r)}}const equalFn=(f,r)=>f===r,$PROXY=Symbol("solid-proxy"),SUPPORTS_PROXY=typeof Proxy=="function",$TRACK=Symbol("solid-track"),signalOptions={equals:equalFn};let runEffects=runQueue;const STALE=1,PENDING=2,UNOWNED={owned:null,cleanups:null,context:null,owner:null};var Owner=null;let Transition$1=null,ExternalSourceConfig=null,Listener=null,Updates=null,Effects=null,ExecCount=0;function createRoot(f,r){const d=Listener,g=Owner,_=f.length===0,v=r===void 0?g:r,y=_?UNOWNED:{owned:null,cleanups:null,context:v?v.context:null,owner:v},m=_?f:()=>f(()=>untrack(()=>cleanNode(y)));Owner=y,Listener=null;try{return runUpdates(m,!0)}finally{Listener=d,Owner=g}}function createSignal(f,r){r=r?Object.assign({},signalOptions,r):signalOptions;const d={value:f,observers:null,observerSlots:null,comparator:r.equals||void 0},g=_=>(typeof _=="function"&&(_=_(d.value)),writeSignal(d,_));return[readSignal.bind(d),g]}function createComputed(f,r,d){const g=createComputation(f,r,!0,STALE);updateComputation(g)}function createRenderEffect(f,r,d){const g=createComputation(f,r,!1,STALE);updateComputation(g)}function createEffect(f,r,d){runEffects=runUserEffects;const g=createComputation(f,r,!1,STALE);(!d||!d.render)&&(g.user=!0),Effects?Effects.push(g):updateComputation(g)}function createMemo(f,r,d){d=d?Object.assign({},signalOptions,d):signalOptions;const g=createComputation(f,r,!0,0);return g.observers=null,g.observerSlots=null,g.comparator=d.equals||void 0,updateComputation(g),readSignal.bind(g)}function batch(f){return runUpdates(f,!1)}function untrack(f){if(Listener===null)return f();const r=Listener;Listener=null;try{return f()}finally{Listener=r}}function onMount(f){createEffect(()=>untrack(f))}function onCleanup(f){return Owner===null||(Owner.cleanups===null?Owner.cleanups=[f]:Owner.cleanups.push(f)),f}function getListener(){return Listener}function createContext(f,r){const d=Symbol("context");return{id:d,Provider:createProvider(d),defaultValue:f}}function useContext(f){let r;return Owner&&Owner.context&&(r=Owner.context[f.id])!==void 0?r:f.defaultValue}function children(f){const r=createMemo(f),d=createMemo(()=>resolveChildren(r()));return d.toArray=()=>{const g=d();return Array.isArray(g)?g:g!=null?[g]:[]},d}function readSignal(){if(this.sources&&this.state)if(this.state===STALE)updateComputation(this);else{const f=Updates;Updates=null,runUpdates(()=>lookUpstream(this),!1),Updates=f}if(Listener){const f=this.observers?this.observers.length:0;Listener.sources?(Listener.sources.push(this),Listener.sourceSlots.push(f)):(Listener.sources=[this],Listener.sourceSlots=[f]),this.observers?(this.observers.push(Listener),this.observerSlots.push(Listener.sources.length-1)):(this.observers=[Listener],this.observerSlots=[Listener.sources.length-1])}return this.value}function writeSignal(f,r,d){let g=f.value;return(!f.comparator||!f.comparator(g,r))&&(f.value=r,f.observers&&f.observers.length&&runUpdates(()=>{for(let _=0;_<f.observers.length;_+=1){const v=f.observers[_],y=Transition$1&&Transition$1.running;y&&Transition$1.disposed.has(v),(y?!v.tState:!v.state)&&(v.pure?Updates.push(v):Effects.push(v),v.observers&&markDownstream(v)),y||(v.state=STALE)}if(Updates.length>1e6)throw Updates=[],new Error},!1)),r}function updateComputation(f){if(!f.fn)return;cleanNode(f);const r=ExecCount;runComputation(f,f.value,r)}function runComputation(f,r,d){let g;const _=Owner,v=Listener;Listener=Owner=f;try{g=f.fn(r)}catch(y){return f.pure&&(f.state=STALE,f.owned&&f.owned.forEach(cleanNode),f.owned=null),f.updatedAt=d+1,handleError(y)}finally{Listener=v,Owner=_}(!f.updatedAt||f.updatedAt<=d)&&(f.updatedAt!=null&&"observers"in f?writeSignal(f,g):f.value=g,f.updatedAt=d)}function createComputation(f,r,d,g=STALE,_){const v={fn:f,state:g,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:r,owner:Owner,context:Owner?Owner.context:null,pure:d};return Owner===null||Owner!==UNOWNED&&(Owner.owned?Owner.owned.push(v):Owner.owned=[v]),v}function runTop(f){if(f.state===0)return;if(f.state===PENDING)return lookUpstream(f);if(f.suspense&&untrack(f.suspense.inFallback))return f.suspense.effects.push(f);const r=[f];for(;(f=f.owner)&&(!f.updatedAt||f.updatedAt<ExecCount);)f.state&&r.push(f);for(let d=r.length-1;d>=0;d--)if(f=r[d],f.state===STALE)updateComputation(f);else if(f.state===PENDING){const g=Updates;Updates=null,runUpdates(()=>lookUpstream(f,r[0]),!1),Updates=g}}function runUpdates(f,r){if(Updates)return f();let d=!1;r||(Updates=[]),Effects?d=!0:Effects=[],ExecCount++;try{const g=f();return completeUpdates(d),g}catch(g){d||(Effects=null),Updates=null,handleError(g)}}function completeUpdates(f){if(Updates&&(runQueue(Updates),Updates=null),f)return;const r=Effects;Effects=null,r.length&&runUpdates(()=>runEffects(r),!1)}function runQueue(f){for(let r=0;r<f.length;r++)runTop(f[r])}function runUserEffects(f){let r,d=0;for(r=0;r<f.length;r++){const g=f[r];g.user?f[d++]=g:runTop(g)}for(r=0;r<d;r++)runTop(f[r])}function lookUpstream(f,r){f.state=0;for(let d=0;d<f.sources.length;d+=1){const g=f.sources[d];if(g.sources){const _=g.state;_===STALE?g!==r&&(!g.updatedAt||g.updatedAt<ExecCount)&&runTop(g):_===PENDING&&lookUpstream(g,r)}}}function markDownstream(f){for(let r=0;r<f.observers.length;r+=1){const d=f.observers[r];d.state||(d.state=PENDING,d.pure?Updates.push(d):Effects.push(d),d.observers&&markDownstream(d))}}function cleanNode(f){let r;if(f.sources)for(;f.sources.length;){const d=f.sources.pop(),g=f.sourceSlots.pop(),_=d.observers;if(_&&_.length){const v=_.pop(),y=d.observerSlots.pop();g<_.length&&(v.sourceSlots[y]=g,_[g]=v,d.observerSlots[g]=y)}}if(f.tOwned){for(r=f.tOwned.length-1;r>=0;r--)cleanNode(f.tOwned[r]);delete f.tOwned}if(f.owned){for(r=f.owned.length-1;r>=0;r--)cleanNode(f.owned[r]);f.owned=null}if(f.cleanups){for(r=f.cleanups.length-1;r>=0;r--)f.cleanups[r]();f.cleanups=null}f.state=0}function castError(f){return f instanceof Error?f:new Error(typeof f=="string"?f:"Unknown error",{cause:f})}function handleError(f,r=Owner){throw castError(f)}function resolveChildren(f){if(typeof f=="function"&&!f.length)return resolveChildren(f());if(Array.isArray(f)){const r=[];for(let d=0;d<f.length;d++){const g=resolveChildren(f[d]);Array.isArray(g)?r.push.apply(r,g):r.push(g)}return r}return f}function createProvider(f,r){return function(g){let _;return createRenderEffect(()=>_=untrack(()=>(Owner.context=__spreadProps(__spreadValues({},Owner.context),{[f]:g.value}),children(()=>g.children))),void 0),_}}const FALLBACK=Symbol("fallback");function dispose(f){for(let r=0;r<f.length;r++)f[r]()}function mapArray(f,r,d={}){let g=[],_=[],v=[],y=0,m=r.length>1?[]:null;return onCleanup(()=>dispose(v)),()=>{let w=f()||[],C=w.length,b,E;return w[$TRACK],untrack(()=>{let R,O,$,I,U,L,j,F,X;if(C===0)y!==0&&(dispose(v),v=[],g=[],_=[],y=0,m&&(m=[])),d.fallback&&(g=[FALLBACK],_[0]=createRoot(z=>(v[0]=z,d.fallback())),y=1);else if(y===0){for(_=new Array(C),E=0;E<C;E++)g[E]=w[E],_[E]=createRoot(S);y=C}else{for($=new Array(C),I=new Array(C),m&&(U=new Array(C)),L=0,j=Math.min(y,C);L<j&&g[L]===w[L];L++);for(j=y-1,F=C-1;j>=L&&F>=L&&g[j]===w[F];j--,F--)$[F]=_[j],I[F]=v[j],m&&(U[F]=m[j]);for(R=new Map,O=new Array(F+1),E=F;E>=L;E--)X=w[E],b=R.get(X),O[E]=b===void 0?-1:b,R.set(X,E);for(b=L;b<=j;b++)X=g[b],E=R.get(X),E!==void 0&&E!==-1?($[E]=_[b],I[E]=v[b],m&&(U[E]=m[b]),E=O[E],R.set(X,E)):v[b]();for(E=L;E<C;E++)E in $?(_[E]=$[E],v[E]=I[E],m&&(m[E]=U[E],m[E](E))):_[E]=createRoot(S);_=_.slice(0,y=C),g=w.slice(0)}return _});function S(R){if(v[E]=R,m){const[O,$]=createSignal(E);return m[E]=$,r(w[E],O)}return r(w[E])}}}function createComponent(f,r){return untrack(()=>f(r||{}))}function trueFn(){return!0}const propTraps={get(f,r,d){return r===$PROXY?d:f.get(r)},has(f,r){return r===$PROXY?!0:f.has(r)},set:trueFn,deleteProperty:trueFn,getOwnPropertyDescriptor(f,r){return{configurable:!0,enumerable:!0,get(){return f.get(r)},set:trueFn,deleteProperty:trueFn}},ownKeys(f){return f.keys()}};function resolveSource(f){return(f=typeof f=="function"?f():f)?f:{}}function resolveSources(){for(let f=0,r=this.length;f<r;++f){const d=this[f]();if(d!==void 0)return d}}function mergeProps(...f){let r=!1;for(let y=0;y<f.length;y++){const m=f[y];r=r||!!m&&$PROXY in m,f[y]=typeof m=="function"?(r=!0,createMemo(m)):m}if(SUPPORTS_PROXY&&r)return new Proxy({get(y){for(let m=f.length-1;m>=0;m--){const w=resolveSource(f[m])[y];if(w!==void 0)return w}},has(y){for(let m=f.length-1;m>=0;m--)if(y in resolveSource(f[m]))return!0;return!1},keys(){const y=[];for(let m=0;m<f.length;m++)y.push(...Object.keys(resolveSource(f[m])));return[...new Set(y)]}},propTraps);const d={},g=Object.create(null);for(let y=f.length-1;y>=0;y--){const m=f[y];if(!m)continue;const w=Object.getOwnPropertyNames(m);for(let C=w.length-1;C>=0;C--){const b=w[C];if(b==="__proto__"||b==="constructor")continue;const E=Object.getOwnPropertyDescriptor(m,b);if(!g[b])g[b]=E.get?{enumerable:!0,configurable:!0,get:resolveSources.bind(d[b]=[E.get.bind(m)])}:E.value!==void 0?E:void 0;else{const S=d[b];S&&(E.get?S.push(E.get.bind(m)):E.value!==void 0&&S.push(()=>E.value))}}}const _={},v=Object.keys(g);for(let y=v.length-1;y>=0;y--){const m=v[y],w=g[m];w&&w.get?Object.defineProperty(_,m,w):_[m]=w?w.value:void 0}return _}function splitProps(f,...r){if(SUPPORTS_PROXY&&$PROXY in f){const _=new Set(r.length>1?r.flat():r[0]),v=r.map(y=>new Proxy({get(m){return y.includes(m)?f[m]:void 0},has(m){return y.includes(m)&&m in f},keys(){return y.filter(m=>m in f)}},propTraps));return v.push(new Proxy({get(y){return _.has(y)?void 0:f[y]},has(y){return _.has(y)?!1:y in f},keys(){return Object.keys(f).filter(y=>!_.has(y))}},propTraps)),v}const d={},g=r.map(()=>({}));for(const _ of Object.getOwnPropertyNames(f)){const v=Object.getOwnPropertyDescriptor(f,_),y=!v.get&&!v.set&&v.enumerable&&v.writable&&v.configurable;let m=!1,w=0;for(const C of r)C.includes(_)&&(m=!0,y?g[w][_]=v.value:Object.defineProperty(g[w],_,v)),++w;m||(y?d[_]=v.value:Object.defineProperty(d,_,v))}return[...g,d]}const narrowedError=f=>`Stale read from <${f}>.`;function For(f){const r="fallback"in f&&{fallback:()=>f.fallback};return createMemo(mapArray(()=>f.each,f.children,r||void 0))}function Show(f){const r=f.keyed,d=createMemo(()=>f.when,void 0,{equals:(g,_)=>r?g===_:!g==!_});return createMemo(()=>{const g=d();if(g){const _=f.children;return typeof _=="function"&&_.length>0?untrack(()=>_(r?g:()=>{if(!untrack(d))throw narrowedError("Show");return f.when})):_}return f.fallback},void 0,void 0)}function Switch(f){let r=!1;const d=(v,y)=>(r?v[1]===y[1]:!v[1]==!y[1])&&v[2]===y[2],g=children(()=>f.children),_=createMemo(()=>{let v=g();Array.isArray(v)||(v=[v]);for(let y=0;y<v.length;y++){const m=v[y].when;if(m)return r=!!v[y].keyed,[y,m,v[y]]}return[-1]},void 0,{equals:d});return createMemo(()=>{const[v,y,m]=_();if(v<0)return f.fallback;const w=m.children;return typeof w=="function"&&w.length>0?untrack(()=>w(r?y:()=>{if(untrack(_)[0]!==v)throw narrowedError("Match");return m.when})):w},void 0,void 0)}function Match(f){return f}const booleans=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected"],Properties=new Set(["className","value","readOnly","formNoValidate","isMap","noModule","playsInline",...booleans]),ChildProperties=new Set(["innerHTML","textContent","innerText","children"]),Aliases=Object.assign(Object.create(null),{className:"class",htmlFor:"for"}),PropAliases=Object.assign(Object.create(null),{class:"className",formnovalidate:{$:"formNoValidate",BUTTON:1,INPUT:1},ismap:{$:"isMap",IMG:1},nomodule:{$:"noModule",SCRIPT:1},playsinline:{$:"playsInline",VIDEO:1},readonly:{$:"readOnly",INPUT:1,TEXTAREA:1}});function getPropAlias(f,r){const d=PropAliases[f];return typeof d=="object"?d[r]?d.$:void 0:d}const DelegatedEvents=new Set(["beforeinput","click","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]),SVGElements=new Set(["altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignObject","g","glyph","glyphRef","hkern","image","line","linearGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","set","stop","svg","switch","symbol","text","textPath","tref","tspan","use","view","vkern"]),SVGNamespace={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"};function reconcileArrays(f,r,d){let g=d.length,_=r.length,v=g,y=0,m=0,w=r[_-1].nextSibling,C=null;for(;y<_||m<v;){if(r[y]===d[m]){y++,m++;continue}for(;r[_-1]===d[v-1];)_--,v--;if(_===y){const b=v<g?m?d[m-1].nextSibling:d[v-m]:w;for(;m<v;)f.insertBefore(d[m++],b)}else if(v===m)for(;y<_;)(!C||!C.has(r[y]))&&r[y].remove(),y++;else if(r[y]===d[v-1]&&d[m]===r[_-1]){const b=r[--_].nextSibling;f.insertBefore(d[m++],r[y++].nextSibling),f.insertBefore(d[--v],b),r[_]=d[v]}else{if(!C){C=new Map;let E=m;for(;E<v;)C.set(d[E],E++)}const b=C.get(r[y]);if(b!=null)if(m<b&&b<v){let E=y,S=1,R;for(;++E<_&&E<v&&!((R=C.get(r[E]))==null||R!==b+S);)S++;if(S>b-m){const O=r[y];for(;m<b;)f.insertBefore(d[m++],O)}else f.replaceChild(d[m++],r[y++])}else y++;else r[y++].remove()}}}const $$EVENTS="_$DX_DELEGATE";function render(f,r,d,g={}){let _;return createRoot(v=>{_=v,r===document?f():insert(r,f(),r.firstChild?null:void 0,d)},g.owner),()=>{_(),r.textContent=""}}function template$1(f,r,d){let g;const _=()=>{const y=document.createElement("template");return y.innerHTML=f,d?y.content.firstChild.firstChild:y.content.firstChild},v=r?()=>untrack(()=>document.importNode(g||(g=_()),!0)):()=>(g||(g=_())).cloneNode(!0);return v.cloneNode=v,v}function delegateEvents(f,r=window.document){const d=r[$$EVENTS]||(r[$$EVENTS]=new Set);for(let g=0,_=f.length;g<_;g++){const v=f[g];d.has(v)||(d.add(v),r.addEventListener(v,eventHandler))}}function setAttribute(f,r,d){d==null?f.removeAttribute(r):f.setAttribute(r,d)}function setAttributeNS(f,r,d,g){g==null?f.removeAttributeNS(r,d):f.setAttributeNS(r,d,g)}function setBoolAttribute(f,r,d){d?f.setAttribute(r,""):f.removeAttribute(r)}function className(f,r){r==null?f.removeAttribute("class"):f.className=r}function addEventListener(f,r,d,g){if(g)Array.isArray(d)?(f[`$$${r}`]=d[0],f[`$$${r}Data`]=d[1]):f[`$$${r}`]=d;else if(Array.isArray(d)){const _=d[0];f.addEventListener(r,d[0]=v=>_.call(f,d[1],v))}else f.addEventListener(r,d,typeof d!="function"&&d)}function classList(f,r,d={}){const g=Object.keys(r||{}),_=Object.keys(d);let v,y;for(v=0,y=_.length;v<y;v++){const m=_[v];!m||m==="undefined"||r[m]||(toggleClassKey(f,m,!1),delete d[m])}for(v=0,y=g.length;v<y;v++){const m=g[v],w=!!r[m];!m||m==="undefined"||d[m]===w||!w||(toggleClassKey(f,m,!0),d[m]=w)}return d}function style(f,r,d){if(!r)return d?setAttribute(f,"style"):r;const g=f.style;if(typeof r=="string")return g.cssText=r;typeof d=="string"&&(g.cssText=d=void 0),d||(d={}),r||(r={});let _,v;for(v in d)r[v]==null&&g.removeProperty(v),delete d[v];for(v in r)_=r[v],_!==d[v]&&(g.setProperty(v,_),d[v]=_);return d}function spread(f,r={},d,g){const _={};return createRenderEffect(()=>_.children=insertExpression(f,r.children,_.children)),createRenderEffect(()=>typeof r.ref=="function"&&use(r.ref,f)),createRenderEffect(()=>assign(f,r,d,!0,_,!0)),_}function use(f,r,d){return untrack(()=>f(r,d))}function insert(f,r,d,g){if(d!==void 0&&!g&&(g=[]),typeof r!="function")return insertExpression(f,r,g,d);createRenderEffect(_=>insertExpression(f,r(),_,d),g)}function assign(f,r,d,g,_={},v=!1){r||(r={});for(const y in _)if(!(y in r)){if(y==="children")continue;_[y]=assignProp(f,y,null,_[y],d,v,r)}for(const y in r){if(y==="children")continue;const m=r[y];_[y]=assignProp(f,y,m,_[y],d,v,r)}}function toPropertyName(f){return f.toLowerCase().replace(/-([a-z])/g,(r,d)=>d.toUpperCase())}function toggleClassKey(f,r,d){const g=r.trim().split(/\s+/);for(let _=0,v=g.length;_<v;_++)f.classList.toggle(g[_],d)}function assignProp(f,r,d,g,_,v,y){let m,w,C,b,E;if(r==="style")return style(f,d,g);if(r==="classList")return classList(f,d,g);if(d===g)return g;if(r==="ref")v||d(f);else if(r.slice(0,3)==="on:"){const S=r.slice(3);g&&f.removeEventListener(S,g,typeof g!="function"&&g),d&&f.addEventListener(S,d,typeof d!="function"&&d)}else if(r.slice(0,10)==="oncapture:"){const S=r.slice(10);g&&f.removeEventListener(S,g,!0),d&&f.addEventListener(S,d,!0)}else if(r.slice(0,2)==="on"){const S=r.slice(2).toLowerCase(),R=DelegatedEvents.has(S);if(!R&&g){const O=Array.isArray(g)?g[0]:g;f.removeEventListener(S,O)}(R||d)&&(addEventListener(f,S,d,R),R&&delegateEvents([S]))}else if(r.slice(0,5)==="attr:")setAttribute(f,r.slice(5),d);else if(r.slice(0,5)==="bool:")setBoolAttribute(f,r.slice(5),d);else if((E=r.slice(0,5)==="prop:")||(C=ChildProperties.has(r))||!_&&((b=getPropAlias(r,f.tagName))||(w=Properties.has(r)))||(m=f.nodeName.includes("-")||"is"in y))E&&(r=r.slice(5),w=!0),r==="class"||r==="className"?className(f,d):m&&!w&&!C?f[toPropertyName(r)]=d:f[b||r]=d;else{const S=_&&r.indexOf(":")>-1&&SVGNamespace[r.split(":")[0]];S?setAttributeNS(f,S,r,d):setAttribute(f,Aliases[r]||r,d)}return d}function eventHandler(f){let r=f.target;const d=`$$${f.type}`,g=f.target,_=f.currentTarget,v=w=>Object.defineProperty(f,"target",{configurable:!0,value:w}),y=()=>{const w=r[d];if(w&&!r.disabled){const C=r[`${d}Data`];if(C!==void 0?w.call(r,C,f):w.call(r,f),f.cancelBubble)return}return r.host&&typeof r.host!="string"&&!r.host._$host&&r.contains(f.target)&&v(r.host),!0},m=()=>{for(;y()&&(r=r._$host||r.parentNode||r.host););};if(Object.defineProperty(f,"currentTarget",{configurable:!0,get(){return r||document}}),f.composedPath){const w=f.composedPath();v(w[0]);for(let C=0;C<w.length-2&&(r=w[C],!!y());C++){if(r._$host){r=r._$host,m();break}if(r.parentNode===_)break}}else m();v(g)}function insertExpression(f,r,d,g,_){for(;typeof d=="function";)d=d();if(r===d)return d;const v=typeof r,y=g!==void 0;if(f=y&&d[0]&&d[0].parentNode||f,v==="string"||v==="number"){if(v==="number"&&(r=r.toString(),r===d))return d;if(y){let m=d[0];m&&m.nodeType===3?m.data!==r&&(m.data=r):m=document.createTextNode(r),d=cleanChildren(f,d,g,m)}else d!==""&&typeof d=="string"?d=f.firstChild.data=r:d=f.textContent=r}else if(r==null||v==="boolean")d=cleanChildren(f,d,g);else{if(v==="function")return createRenderEffect(()=>{let m=r();for(;typeof m=="function";)m=m();d=insertExpression(f,m,d,g)}),()=>d;if(Array.isArray(r)){const m=[],w=d&&Array.isArray(d);if(normalizeIncomingArray(m,r,d,_))return createRenderEffect(()=>d=insertExpression(f,m,d,g,!0)),()=>d;if(m.length===0){if(d=cleanChildren(f,d,g),y)return d}else w?d.length===0?appendNodes(f,m,g):reconcileArrays(f,d,m):(d&&cleanChildren(f),appendNodes(f,m));d=m}else if(r.nodeType){if(Array.isArray(d)){if(y)return d=cleanChildren(f,d,g,r);cleanChildren(f,d,null,r)}else d==null||d===""||!f.firstChild?f.appendChild(r):f.replaceChild(r,f.firstChild);d=r}}return d}function normalizeIncomingArray(f,r,d,g){let _=!1;for(let v=0,y=r.length;v<y;v++){let m=r[v],w=d&&d[f.length],C;if(!(m==null||m===!0||m===!1))if((C=typeof m)=="object"&&m.nodeType)f.push(m);else if(Array.isArray(m))_=normalizeIncomingArray(f,m,w)||_;else if(C==="function")if(g){for(;typeof m=="function";)m=m();_=normalizeIncomingArray(f,Array.isArray(m)?m:[m],Array.isArray(w)?w:[w])||_}else f.push(m),_=!0;else{const b=String(m);w&&w.nodeType===3&&w.data===b?f.push(w):f.push(document.createTextNode(b))}}return _}function appendNodes(f,r,d=null){for(let g=0,_=r.length;g<_;g++)f.insertBefore(r[g],d)}function cleanChildren(f,r,d,g){if(d===void 0)return f.textContent="";const _=g||document.createTextNode("");if(r.length){let v=!1;for(let y=r.length-1;y>=0;y--){const m=r[y];if(_!==m){const w=m.parentNode===f;!v&&!y?w?f.replaceChild(_,m):f.insertBefore(_,d):w&&m.remove()}else v=!0}}else f.insertBefore(_,d);return[_]}const SVG_NAMESPACE="http://www.w3.org/2000/svg";function createElement(f,r=!1){return r?document.createElementNS(SVG_NAMESPACE,f):document.createElement(f)}function Dynamic(f){const[r,d]=splitProps(f,["component"]),g=createMemo(()=>r.component);return createMemo(()=>{const _=g();switch(typeof _){case"function":return untrack(()=>_(d));case"string":const v=SVGElements.has(_),y=createElement(_,v);return spread(y,d,v),y}})}let e={data:""},t=f=>typeof window=="object"?((f?f.querySelector("#_goober"):window._goober)||Object.assign((f||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:f||e,l=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,a=/\/\*[^]*?\*\/|  +/g,n=/\n+/g,o=(f,r)=>{let d="",g="",_="";for(let v in f){let y=f[v];v[0]=="@"?v[1]=="i"?d=v+" "+y+";":g+=v[1]=="f"?o(y,v):v+"{"+o(y,v[1]=="k"?"":r)+"}":typeof y=="object"?g+=o(y,r?r.replace(/([^,])+/g,m=>v.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,w=>/&/.test(w)?w.replace(/&/g,m):m?m+" "+w:w)):v):y!=null&&(v=/^--/.test(v)?v:v.replace(/[A-Z]/g,"-$&").toLowerCase(),_+=o.p?o.p(v,y):v+":"+y+";")}return d+(r&&_?r+"{"+_+"}":_)+g},c={},s=f=>{if(typeof f=="object"){let r="";for(let d in f)r+=d+s(f[d]);return r}return f},i=(f,r,d,g,_)=>{let v=s(f),y=c[v]||(c[v]=(w=>{let C=0,b=11;for(;C<w.length;)b=101*b+w.charCodeAt(C++)>>>0;return"go"+b})(v));if(!c[y]){let w=v!==f?f:(C=>{let b,E,S=[{}];for(;b=l.exec(C.replace(a,""));)b[4]?S.shift():b[3]?(E=b[3].replace(n," ").trim(),S.unshift(S[0][E]=S[0][E]||{})):S[0][b[1]]=b[2].replace(n," ").trim();return S[0]})(f);c[y]=o(_?{["@keyframes "+y]:w}:w,d?"":"."+y)}let m=d&&c.g?c.g:null;return d&&(c.g=c[y]),((w,C,b,E)=>{E?C.data=C.data.replace(E,w):C.data.indexOf(w)===-1&&(C.data=b?w+C.data:C.data+w)})(c[y],r,g,m),y},p=(f,r,d)=>f.reduce((g,_,v)=>{let y=r[v];if(y&&y.call){let m=y(d),w=m&&m.props&&m.props.className||/^go/.test(m)&&m;y=w?"."+w:m&&typeof m=="object"?m.props?"":o(m,""):m===!1?"":m}return g+_+(y??"")},"");function u(f){let r=this||{},d=f.call?f(r.p):f;return i(d.unshift?d.raw?p(d,[].slice.call(arguments,1),r.p):d.reduce((g,_)=>Object.assign(g,_&&_.call?_(r.p):_),{}):d,t(r.target),r.g,r.o,r.k)}u.bind({g:1});let h=u.bind({k:1});const ThemeContext=createContext();function ThemeProvider(f){return createComponent(ThemeContext.Provider,{value:f.theme,get children(){return f.children}})}function useTheme(){return useContext(ThemeContext)}function makeStyled(f){let r=this||{};return(...d)=>{const g=_=>{const v=useContext(ThemeContext),y=mergeProps(_,{theme:v}),m=mergeProps(y,{get class(){const R=y.class,O="class"in y&&/^go[0-9]+/.test(R);let $=u.apply({target:r.target,o:O,p:y,g:r.g},d);return[R,$].filter(Boolean).join(" ")}}),[w,C]=splitProps(m,["as","theme"]),b=C,E=w.as||f;let S;return typeof E=="function"?S=E(b):r.g==1?(S=document.createElement(E),spread(S,b)):S=Dynamic(mergeProps({component:E},b)),S};return g.class=_=>untrack(()=>u.apply({target:r.target,p:_,g:r.g},d)),g}}const styled=new Proxy(makeStyled,{get(f,r){return f(r)}});function createGlobalStyles(){const f=makeStyled.call({g:1},"div").apply(null,arguments);return function(d){return f(d),null}}const globalStylesTag="okxc-root",disableScrollClass="okxc-disable-scroll",usingMouseClass="okxc-using-mouse",GlobalStyles=()=>{document.body.addEventListener("mousedown",()=>document.body.classList.add(usingMouseClass)),document.body.addEventListener("keydown",r=>{r.key==="Tab"&&document.body.classList.remove(usingMouseClass)});const f=createGlobalStyles`
    ${globalStylesTag} * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        
        font-family: -apple-system, BlinkMacSystemFont, 'Roboto', 'Helvetica Neue', Arial, Tahoma, Verdana, sans-serif;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;        
        -webkit-tap-highlight-color: transparent;
    }
    
    ${globalStylesTag} img {
      -webkit-user-select: none;
      -webkit-touch-callout: none;
    }   
 
    ${globalStylesTag} *:focus {
        outline: #08f auto 2px;
    }
    
    ${globalStylesTag} li {
        list-style: none;
    }
    
    ${globalStylesTag} button {
        outline: none;
    }
    
    body.${disableScrollClass} {
        position: fixed; 
        overflow-y: scroll;
        right: 0;
        left: 0;
    }
    
    body.${usingMouseClass} ${globalStylesTag} *:focus {
        outline: none;
    }
`;return createComponent(f,{})};function hexToRgb(f){f[0]==="#"&&(f=f.slice(1));const r=parseInt(f,16),d=r>>16&255,g=r>>8&255,_=r&255;return[d,g,_].join(",")}function rgba(f,r){return f[0]==="#"&&(f=hexToRgb(f)),`rgba(${f}, ${r})`}function toPx(f){return f.toString()+"px"}const _InMemoryStorage=class{constructor(){__publicField(this,"storage",{})}static getInstance(){return _InMemoryStorage.instance||(_InMemoryStorage.instance=new _InMemoryStorage),_InMemoryStorage.instance}get length(){return Object.keys(this.storage).length}clear(){this.storage={}}getItem(f){var r;return(r=this.storage[f])!=null?r:null}key(f){var r;const d=Object.keys(this.storage);return f<0||f>=d.length?null:(r=d[f])!=null?r:null}removeItem(f){delete this.storage[f]}setItem(f,r){this.storage[f]=r}};let InMemoryStorage=_InMemoryStorage;__publicField(InMemoryStorage,"instance");function logDebug(...f){src$6.logDebug(f)}function logError(...f){src$6.logError(f)}function logWarning(...f){src$6.logWarning(f)}let initParams={};try{let f=location.hash.toString();initParams=urlParseHashParams(f)}catch(f){}let tmaPlatform="unknown";initParams!=null&&initParams.tgWebAppPlatform&&(tmaPlatform=(_a=initParams.tgWebAppPlatform)!=null?_a:"unknown");if(tmaPlatform==="unknown"){const f=getWindow$1();tmaPlatform=(_d=(_c=(_b=f==null?void 0:f.Telegram)==null?void 0:_b.WebApp)==null?void 0:_c.platform)!=null?_d:"unknown"}let webAppVersion="6.0";initParams!=null&&initParams.tgWebAppVersion&&(webAppVersion=initParams.tgWebAppVersion);if(!webAppVersion){const f=getWindow$1();webAppVersion=(_g=(_f=(_e=f==null?void 0:f.Telegram)==null?void 0:_e.WebApp)==null?void 0:_f.version)!=null?_g:"6.0"}function isTmaPlatform(...f){return f.includes(tmaPlatform)}function isInTMA(){var f;return tmaPlatform!=="unknown"||!!((f=getWindow$1())!=null&&f.TelegramWebviewProxy)}function isInTelegramBrowser(){var f;const r=!!((f=getWindow$1())!=null&&f.TelegramWebview);return(isInTMA()||r)&&tmaPlatform==="unknown"}function sendExpand(){postEvent("web_app_expand",{})}function isIframe(){try{const f=getWindow$1();return f?f.parent!=null&&f!==f.parent:!1}catch{return!1}}function postEvent(f,r){try{const d=getWindow$1();if(!d)throw new OKXConnectUiError("Can't post event to parent window: window is not defined");if(d.TelegramWebviewProxy!==void 0)logDebug("postEvent",f,r),d.TelegramWebviewProxy.postEvent(f,JSON.stringify(r));else if(d.external&&"notify"in d.external)logDebug("postEvent",f,r),d.external.notify(JSON.stringify({eventType:f,eventData:r}));else if(isIframe()){const g="*",_=JSON.stringify({eventType:f,eventData:r});logDebug("postEvent",f,r),d.parent.postMessage(_,g)}else throw new OKXConnectUiError("Can't post event to TMA")}catch(d){logError(`Can't post event to parent window: ${d}`)}}function urlParseHashParams(f){f=f.replace(/^#/,"");let r={};if(!f.length)return r;if(f.indexOf("=")<0&&f.indexOf("?")<0)return r._path=urlSafeDecode(f),r;let d=f.indexOf("?");if(d>=0){let _=f.substr(0,d);r._path=urlSafeDecode(_),f=f.substr(d+1)}let g=urlParseQueryString(f);for(let _ in g)r[_]=g[_];return r}function urlSafeDecode(f){try{return f=f.replace(/\+/g,"%20"),decodeURIComponent(f)}catch{return f}}function urlParseQueryString(f){let r={};if(!f.length)return r;let d=f.split("&"),g,_,v,y;for(g=0;g<d.length;g++)_=d[g].split("="),v=urlSafeDecode(_[0]),y=_[1]==null?null:urlSafeDecode(_[1]),r[v]=y;return r}const maxWidth={mobile:440,tablet:1020};function isDevice(f){var r;const d=getWindow$1();if(!d)return f==="desktop";if(isTmaPlatform("weba"))return!0;const g=d.innerWidth;switch(f){case"desktop":return g>maxWidth.tablet;case"tablet":return g>maxWidth.mobile;default:case"mobile":let _=g<=maxWidth.mobile||isOS("ios","android","ipad");if(_){const v=!!((r=getWindow$1())!=null&&r.TelegramWebviewProxy),y=navigator.maxTouchPoints||0;v&&y===0&&(_=!1),src$6.logDebug("isDevice mobile isTelegram and maxTouchPoints:",_,v,y)}return _}}function media(f){switch(f){case"mobile":return`@media (max-width: ${maxWidth.mobile}px)`;case"tablet":return`@media (max-width: ${maxWidth.tablet}px) (min-width: ${maxWidth.mobile}px)`;default:case"desktop":return`@media (min-width: ${maxWidth.tablet}px)`}}const mediaTouch="@media (hover: none)",mediaNotTouch="@media not all and (hover: none)",[isMobile,setIsMobile]=createSignal(isDevice("mobile")),updateIsMobile=()=>setIsMobile(isDevice("mobile"));getWindow$1()&&(window.addEventListener("resize",()=>updateIsMobile()),window.addEventListener("load",()=>updateIsMobile(),{once:!0}));const $RAW=Symbol("store-raw"),$NODE=Symbol("store-node"),$HAS=Symbol("store-has"),$SELF=Symbol("store-self");function wrap$1(f){let r=f[$PROXY];if(!r&&(Object.defineProperty(f,$PROXY,{value:r=new Proxy(f,proxyTraps$1)}),!Array.isArray(f))){const d=Object.keys(f),g=Object.getOwnPropertyDescriptors(f);for(let _=0,v=d.length;_<v;_++){const y=d[_];g[y].get&&Object.defineProperty(f,y,{enumerable:g[y].enumerable,get:g[y].get.bind(r)})}}return r}function isWrappable(f){let r;return f!=null&&typeof f=="object"&&(f[$PROXY]||!(r=Object.getPrototypeOf(f))||r===Object.prototype||Array.isArray(f))}function unwrap(f,r=new Set){let d,g,_,v;if(d=f!=null&&f[$RAW])return d;if(!isWrappable(f)||r.has(f))return f;if(Array.isArray(f)){Object.isFrozen(f)?f=f.slice(0):r.add(f);for(let y=0,m=f.length;y<m;y++)_=f[y],(g=unwrap(_,r))!==_&&(f[y]=g)}else{Object.isFrozen(f)?f=Object.assign({},f):r.add(f);const y=Object.keys(f),m=Object.getOwnPropertyDescriptors(f);for(let w=0,C=y.length;w<C;w++)v=y[w],!m[v].get&&(_=f[v],(g=unwrap(_,r))!==_&&(f[v]=g))}return f}function getNodes(f,r){let d=f[r];return d||Object.defineProperty(f,r,{value:d=Object.create(null)}),d}function getNode(f,r,d){if(f[r])return f[r];const[g,_]=createSignal(d,{equals:!1,internal:!0});return g.$=_,f[r]=g}function proxyDescriptor$1(f,r){const d=Reflect.getOwnPropertyDescriptor(f,r);return!d||d.get||!d.configurable||r===$PROXY||r===$NODE||(delete d.value,delete d.writable,d.get=()=>f[$PROXY][r]),d}function trackSelf(f){getListener()&&getNode(getNodes(f,$NODE),$SELF)()}function ownKeys(f){return trackSelf(f),Reflect.ownKeys(f)}const proxyTraps$1={get(f,r,d){if(r===$RAW)return f;if(r===$PROXY)return d;if(r===$TRACK)return trackSelf(f),d;const g=getNodes(f,$NODE),_=g[r];let v=_?_():f[r];if(r===$NODE||r===$HAS||r==="__proto__")return v;if(!_){const y=Object.getOwnPropertyDescriptor(f,r);getListener()&&(typeof v!="function"||f.hasOwnProperty(r))&&!(y&&y.get)&&(v=getNode(g,r,v)())}return isWrappable(v)?wrap$1(v):v},has(f,r){return r===$RAW||r===$PROXY||r===$TRACK||r===$NODE||r===$HAS||r==="__proto__"?!0:(getListener()&&getNode(getNodes(f,$HAS),r)(),r in f)},set(){return!0},deleteProperty(){return!0},ownKeys,getOwnPropertyDescriptor:proxyDescriptor$1};function setProperty(f,r,d,g=!1){if(!g&&f[r]===d)return;const _=f[r],v=f.length;d===void 0?(delete f[r],f[$HAS]&&f[$HAS][r]&&_!==void 0&&f[$HAS][r].$()):(f[r]=d,f[$HAS]&&f[$HAS][r]&&_===void 0&&f[$HAS][r].$());let y=getNodes(f,$NODE),m;if((m=getNode(y,r,_))&&m.$(()=>d),Array.isArray(f)&&f.length!==v){for(let w=f.length;w<v;w++)(m=y[w])&&m.$();(m=getNode(y,"length",v))&&m.$(f.length)}(m=y[$SELF])&&m.$()}function mergeStoreNode(f,r){const d=Object.keys(r);for(let g=0;g<d.length;g+=1){const _=d[g];setProperty(f,_,r[_])}}function updateArray(f,r){if(typeof r=="function"&&(r=r(f)),r=unwrap(r),Array.isArray(r)){if(f===r)return;let d=0,g=r.length;for(;d<g;d++){const _=r[d];f[d]!==_&&setProperty(f,d,_)}setProperty(f,"length",g)}else mergeStoreNode(f,r)}function updatePath(f,r,d=[]){let g,_=f;if(r.length>1){g=r.shift();const y=typeof g,m=Array.isArray(f);if(Array.isArray(g)){for(let w=0;w<g.length;w++)updatePath(f,[g[w]].concat(r),d);return}else if(m&&y==="function"){for(let w=0;w<f.length;w++)g(f[w],w)&&updatePath(f,[w].concat(r),d);return}else if(m&&y==="object"){const{from:w=0,to:C=f.length-1,by:b=1}=g;for(let E=w;E<=C;E+=b)updatePath(f,[E].concat(r),d);return}else if(r.length>1){updatePath(f[g],r,[g].concat(d));return}_=f[g],d=[g].concat(d)}let v=r[0];typeof v=="function"&&(v=v(_,d),v===_)||g===void 0&&v==null||(v=unwrap(v),g===void 0||isWrappable(_)&&isWrappable(v)&&!Array.isArray(v)?mergeStoreNode(_,v):setProperty(f,g,v))}function createStore(...[f,r]){const d=unwrap(f||{}),g=Array.isArray(d),_=wrap$1(d);function v(...y){batch(()=>{g&&y.length===1?updateArray(d,y[0]):updatePath(d,y)})}return[_,v]}const[universalAppState,setUniversalAppState]=createStore({language:"en_US"}),[tonAppState,setTonAppState]=createStore({buttonRootId:null,language:"en_US"});function eqWalletName(f,r){return r?f.name.toLowerCase()===r.toLowerCase()||f.appName.toLowerCase()===r.toLowerCase():!1}function inTg(){return isInTelegramBrowser()||isInTMA()}const showTgNameSpace=[src$6.NameSpaceKeySui,src$6.NameSpaceKeySOL,src$6.NameSpaceKeyEip155,src$6.NameSpaceKeyTON,src$6.NameSpaceKeyBtc,src$6.NameSpaceKeyAptos,src$6.NameSpaceKeyTron,src$6.NameSpaceKeyStarknet,src$6.NameSpaceKeyCosmos],showInjectedNameSpace=[src$6.NameSpaceKeyEip155,src$6.NameSpaceKeySOL,src$6.NameSpaceKeyTON,src$6.NameSpaceKeySui],limitInjectedNameSpace=[src$6.NameSpaceKeySOL],showInjectChain=[src$6.SOLANA_CHAINS.MAINNET];function showUniversalTgWalletByRequestNameSpaces(f,r){return showUniversalTgWallet()?EqnameSpace(f)&&EqnameSpace(r):!1}function injectWalletEnable(f,r){if(!f)return!0;for(const[d,g]of Object.entries(f)){if(limitInjectedNameSpace.includes(d)){if(g.chains.some(y=>!showInjectChain.includes(y)))return!1}else if(!showInjectedNameSpace.includes(d))return!1;if(!checkNameSpaceEnable(d,r))return!1}return!0}function checkNameSpaceEnable(f,r){switch(f){case src$6.NameSpaceKeySui:return isMobile()?appVersionAtLeast("6.103.0"):!0;case src$6.NameSpaceKeyTON:return!r||!r.manifestUrl?!1:isMobile()?appVersionAtLeast("6.103.0"):!0}return!0}function checkIconnectorEnable(f=!0){var r,d,g,_;const v=f?universalAppState.walletConnector:tonAppState.walletConnector;if(!v){src$6.logWarning("not find connector yet");return}for(let w of v)switch(w.getTag()){case src$6.OKX_TG_WALLET:if(f){var y=(r=universalAppState.connectRequestParameters)==null?void 0:r.namespaces,m=(d=universalAppState.connectRequestParameters)==null?void 0:d.optionalNamespaces;w.enable=showUniversalTgWalletByRequestNameSpaces(y,m)}else w.enable=!0;break;case src$6.OKX_APP_WALLET:w.enable=!0;break;case src$6.OKX_INJECT_WALLET:if(f){var y=(g=universalAppState.connectRequestParameters)==null?void 0:g.namespaces,m=(_=universalAppState.connectRequestParameters)==null?void 0:_.optionalNamespaces;w.enable=injectWalletEnable(y,universalAppState.dappMetaData)&&injectWalletEnable(m,universalAppState.dappMetaData)}else w.enable=!0;break}}function showUniversalTgWalletBySessionNameSpaces(f){return showUniversalTgWallet()?EqnameSpace(f):!1}function EqnameSpace(f){try{return f?Object.keys(f).every(d=>showTgNameSpace.includes(d)):!0}catch{return!1}}function defaultOpenUniversalLink(f,r){return showInjectWallet()||showUniversalTgWalletByRequestNameSpaces(f,r)?!1:isMobile()}function isAppWallet(f){return f?f.name===src$6.creatOKXWalletInfo().name:!1}function openUniversalWallet(f,r,d){src$6.logDebug("wallets openUniversalWallet"),showUniversalTgWalletBySessionNameSpaces(d)&&openWallet(f,r)}function openWallet(f,r){src$6.logDebug("wallets openWallet"),f&&(isAppWallet(f)?(src$6.logDebug("wallets openWallet openOKXDeeplinkWithFallback"),src$6.openOKXDeeplink(src$6.standardDeeplink)):(src$6.logDebug("wallets openWallet openOKXTMAWalletlinkWithFallback"),src$6.openOKXTMAWalletlinkWithFallback(src$6.getTelegramWalletTWAUrl(void 0,r))))}function openWalletForUIRequest(f,r){return!(r==="qrcode"||isInjectWallet(f))}function isInjectWallet(f){return f?f.name===src$6.creatOKXInjectWalletInfo().name:!1}function showInjectWallet(){try{return isMobile()?appVersionAtLeast("6.102.0"):!!window.okxwallet}catch{return!1}}function appVersionAtLeast(f){let r=window.okxwallet;if(r){let d=r.appVersion;return src$6.versionCompare(d,f)>=0}else return!1}function isMobileDiscover(){return isMobile()&&!!window.okxwallet}function getDefaultConnector(){let f=[];return isMobileDiscover()||f.push(src$6.AppwalletConnector.getConnector()),showUniversalTgWallet()&&f.push(src$6.TgwalletConnector.getConnector()),showInjectWallet()&&f.push(src$6.OkxwalletInjectConnector.getConnector()),f}function showUniversalTgWallet(){return!!inTg()}function getSystemTheme(){return window.matchMedia&&window.matchMedia("(prefers-color-scheme: light)").matches?THEME.LIGHT:THEME.DARK}function subscribeToThemeChange(f){const r=d=>f(d.matches?THEME.DARK:THEME.LIGHT);return window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",r),()=>window.matchMedia("(prefers-color-scheme: dark)").removeEventListener("change",r)}function disableScroll(){document.documentElement.scrollHeight!==document.documentElement.clientHeight&&(document.body.style.top=toPx(-document.documentElement.scrollTop),document.body.classList.add(disableScrollClass))}function enableScroll(){document.body.classList.remove(disableScrollClass),document.documentElement.scrollTo({top:-parseFloat(getComputedStyle(document.body).top)}),document.body.style.top="auto"}function fixMobileSafariActiveTransition(){document.body.hasAttribute("ontouchstart")||document.body.setAttribute("ontouchstart","")}function defineStylesRoot(){document.body.getElementsByTagName(globalStylesTag)||customElements.define(globalStylesTag,class extends HTMLElement{})}function createMacrotask(f){return __async(this,null,function*(){yield new Promise(r=>requestAnimationFrame(r)),f()})}function getWindow$1(){if(typeof window<"u")return window}function tryGetLocalStorage(){if(isLocalStorageAvailable())return localStorage;if(isNodeJs())throw new OKXConnectUiError("`localStorage` is unavailable, but it is required for TonConnect");return InMemoryStorage.getInstance()}function isLocalStorageAvailable(){try{return typeof localStorage<"u"}catch{return!1}}function isNodeJs(){return typeof process$1<"u"&&process$1.versions!=null&&process$1.versions.node!=null}function getUserAgent(){var f,r,d;const g=new UAParser().getResult(),_=(f=g.os.name)==null?void 0:f.toLowerCase(),v=(r=g.device.model)==null?void 0:r.toLowerCase();let y;switch(!0){case v==="ipad":y="ipad";break;case _==="ios":y="ios";break;case _==="android":y="android";break;case _==="mac os":y="macos";break;case _==="linux":y="linux";break;case(_==null?void 0:_.includes("windows")):y="windows";break}const m=(d=g.browser.name)==null?void 0:d.toLowerCase();let w;switch(!0){case m==="chrome":w="chrome";break;case m==="firefox":w="firefox";break;case(m==null?void 0:m.includes("safari")):w="safari";break;case(m==null?void 0:m.includes("opera")):w="opera";break}return{os:y,browser:w}}function isOS(...f){return f.includes(getUserAgent().os)}class LastSelectedWalletInfoStorage{constructor(){__publicField(this,"localStorage"),__publicField(this,"storageKey","okx_wallet_connect_ui_last-selected-wallet-info"),this.localStorage=tryGetLocalStorage()}setLastSelectedWalletInfo(r){this.localStorage.setItem(this.storageKey,JSON.stringify(r))}getLastSelectedWalletInfo(){const r=this.localStorage.getItem(this.storageKey);return r?JSON.parse(r):null}removeLastSelectedWalletInfo(){this.localStorage.removeItem(this.storageKey)}}const[tonWalletsModalState,setTonWalletsModalState]=createSignal({status:"closed",closeReason:null});createMemo(()=>tonWalletsModalState().status==="opened");const[tonSingleWalletModalState,setTonSingleWalletModalState]=createSignal({status:"closed",closeReason:null});createMemo(()=>tonSingleWalletModalState().status==="opened");createMemo(()=>{const f=tonSingleWalletModalState();return f.status==="opened"?f.walletInfo:null});let lastSelectedWalletInfoStorage$1=typeof window<"u"?new LastSelectedWalletInfoStorage:void 0;createSignal((lastSelectedWalletInfoStorage$1==null?void 0:lastSelectedWalletInfoStorage$1.getLastSelectedWalletInfo())||null);createSignal(null);const ImagePlaceholder=styled.div`
    background-color: ${f=>f.theme.colors.background.secondary};
`,Image=f=>{let r;const[d,g]=createSignal(null);return createEffect(()=>{const _=new window.Image;return _.src=f.src,_.alt=f.alt||"",_.setAttribute("draggable","false"),f.class&&_.classList.add(f.class),_.complete?g(_):(_.addEventListener("load",()=>g(_)),()=>_.removeEventListener("load",()=>g(_)))}),[createComponent(Show,{get when(){return d()},get children(){return d()}}),createComponent(Show,{get when(){return!d()},get children(){return createComponent(ImagePlaceholder,{get class(){return f.class},ref(_){var v=r;typeof v=="function"?v(_):r=_}})}})]},borders$2={m:"100vh",s:"8px",none:"0"},scaleValues={s:.02,m:.04},ButtonStyled$1=styled.button`
    display: ${f=>f.leftIcon||f.rightIcon?"flex":"inline-block"};
    gap: ${f=>f.leftIcon||f.rightIcon?"4px":"unset"};
    align-items: ${f=>f.leftIcon||f.rightIcon?"center":"unset"};
    justify-content: ${f=>f.leftIcon||f.rightIcon?"space-between":"unset"};
    background-color: ${f=>f.appearance==="flat"?"transparent":f.appearance==="secondary"?f.theme.colors.background.tint:rgba(f.theme.colors.accent,.12)};
    color: ${f=>f.appearance==="secondary"?f.theme.colors.text.primary:f.theme.colors.accent};

    padding: ${f=>f.appearance==="flat"?"0":"9px 16px"};
    padding-left: ${f=>f.leftIcon&&f.appearance!=="flat"?"12px":"16px"};
    padding-right: ${f=>f.rightIcon&&f.appearance!=="flat"?"12px":"16px"};
    border: none;
    border-radius: ${f=>borders$2[f.theme.borderRadius]};
    cursor: ${f=>f.disabled?"not-allowed":"pointer"};

    font-size: 14px;
    font-weight: 510;
    line-height: 18px;

    transition: transform 0.125s ease-in-out;

    ${mediaNotTouch} {
        &:hover {
            transform: ${f=>f.disabled?"unset":`scale(${1+scaleValues[f.scale]})`};
        }
    }

    &:active {
        transform: ${f=>f.disabled?"unset":`scale(${1-scaleValues[f.scale]})`};
    }

    ${mediaTouch} {
        &:active {
            transform: ${f=>f.disabled?"unset":`scale(${1-scaleValues[f.scale]*2})`};
        }
    }
`;function useDataAttributes(f){const r=untrack(()=>Object.keys(f).filter(g=>g.startsWith("data-"))),[d]=splitProps(f,r);return d}const Button=f=>{const r=useDataAttributes(f);return createComponent(ButtonStyled$1,mergeProps({get appearance(){return f.appearance||"primary"},get class(){return f.class},onClick:d=>{var g;return(g=f.onClick)==null?void 0:g.call(f,d)},onMouseEnter:d=>{var g;return(g=f.onMouseEnter)==null?void 0:g.call(f,d)},onMouseLeave:d=>{var g;return(g=f.onMouseLeave)==null?void 0:g.call(f,d)},ref(d){var g=f.ref;typeof g=="function"?g(d):f.ref=d},get disabled(){return f.disabled},get scale(){return f.scale||"m"},get leftIcon(){return!!f.leftIcon},get rightIcon(){return!!f.rightIcon},"data-tc-button":"true"},r,{get children(){return[createMemo(()=>f.leftIcon),createMemo(()=>f.children),createMemo(()=>f.rightIcon)]}}))};function nextFrame(f){requestAnimationFrame(()=>{requestAnimationFrame(f)})}const Transition=f=>{let r,d=!0;const[g,_]=createSignal(),[v,y]=createSignal(),m=children(()=>f.children),{onBeforeEnter:w,onEnter:C,onAfterEnter:b,onBeforeExit:E,onExit:S,onAfterExit:R}=f,O=createMemo(()=>{const U=f.name||"s";return{enterActiveClass:f.enterActiveClass||U+"-enter-active",enterClass:f.enterClass||U+"-enter",enterToClass:f.enterToClass||U+"-enter-to",exitActiveClass:f.exitActiveClass||U+"-exit-active",exitClass:f.exitClass||U+"-exit",exitToClass:f.exitToClass||U+"-exit-to"}});function $(U,L){if(!d||f.appear){let j=function(Y){U&&(!Y||Y.target===U)&&(U.removeEventListener("transitionend",j),U.removeEventListener("animationend",j),U.classList.remove(...X),U.classList.remove(...z),batch(()=>{g()!==U&&_(U),v()===U&&y(void 0)}),b&&b(U),f.mode==="inout"&&I(U,L))};const F=O().enterClass.split(" "),X=O().enterActiveClass.split(" "),z=O().enterToClass.split(" ");w&&w(U),U.classList.add(...F),U.classList.add(...X),nextFrame(()=>{U.classList.remove(...F),U.classList.add(...z),C&&C(U,()=>j()),(!C||C.length<2)&&(U.addEventListener("transitionend",j),U.addEventListener("animationend",j))})}L&&!f.mode?y(U):_(U)}function I(U,L){const j=O().exitClass.split(" "),F=O().exitActiveClass.split(" "),X=O().exitToClass.split(" ");if(!L.parentNode)return z();E&&E(L),L.classList.add(...j),L.classList.add(...F),nextFrame(()=>{L.classList.remove(...j),L.classList.add(...X)}),S&&S(L,()=>z()),(!S||S.length<2)&&(L.addEventListener("transitionend",z),L.addEventListener("animationend",z));function z(Y){(!Y||Y.target===L)&&(L.removeEventListener("transitionend",z),L.removeEventListener("animationend",z),L.classList.remove(...F),L.classList.remove(...X),g()===L&&_(void 0),R&&R(L),f.mode==="outin"&&$(U,L))}}return createComputed(U=>{for(r=m();typeof r=="function";)r=r();return untrack(()=>(r&&r!==U&&(f.mode!=="outin"?$(r,U):d&&_(r)),U&&U!==r&&f.mode!=="inout"&&I(r,U),d=!1,r))}),[g,v]};function escPressed(f,r){const d=g=>{var _,v;g.key==="Escape"&&((_=document.activeElement)==null||_.blur(),(v=r())==null||v())};document.body.addEventListener("keydown",d),onCleanup(()=>document.body.removeEventListener("keydown",d))}function androidBackHandler$1(f,r){const{isEnabled:d,onClose:g}=r();if(!d||!(getUserAgent().os==="android"))return;window.history.pushState(ROUTE_STATE,"");const v=y=>{y.preventDefault(),g()};window.addEventListener("popstate",v,{once:!0}),onCleanup(()=>{window.removeEventListener("popstate",v),createMacrotask(()=>{var y;((y=window.history.state)==null?void 0:y[ROUTE_STATE_KEY])===!0&&window.history.back()})})}const ROUTE_STATE_KEY="androidBackHandler",ROUTE_STATE={[ROUTE_STATE_KEY]:!0};var _tmpl$$g=template$1('<svg><path fill-rule=evenodd clip-rule=evenodd d="M10.2122 14.3407C10.5384 14.0854 10.5959 13.614 10.3406 13.2878L6.20237 8.00003L10.3406 2.71227C10.5959 2.38607 10.5384 1.91469 10.2122 1.6594C9.88604 1.40412 9.41465 1.46161 9.15937 1.7878L4.65937 7.5378C4.44688 7.80932 4.44688 8.19074 4.65937 8.46226L9.15937 14.2123C9.41465 14.5385 9.88604 14.5959 10.2122 14.3407Z"></svg>',!1,!0);const rotationDegrees={left:0,top:90,right:180,bottom:270},ArrowIcon=f=>{const r=useTheme(),d=()=>f.fill||r.colors.icon.secondary,g=()=>f.direction||"left",_=styled("svg")`
        transform: rotate(${v=>rotationDegrees[v.svgDirection]}deg);
        transition: transform 0.1s ease-in-out;
    `;return createComponent(_,{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",get svgDirection(){return g()},get children(){var v=_tmpl$$g();return createRenderEffect(()=>setAttribute(v,"fill",d())),v}})};var _tmpl$$f=template$1('<svg xmlns=http://www.w3.org/2000/svg width=24 height=24 viewBox="0 0 24 24"fill=none><path fill-rule=evenodd clip-rule=evenodd d="M18.5303 6.53033C18.8232 6.23744 18.8232 5.76256 18.5303 5.46967C18.2374 5.17678 17.7626 5.17678 17.4697 5.46967L12 10.9393L6.53033 5.46967C6.23744 5.17678 5.76256 5.17678 5.46967 5.46967C5.17678 5.76256 5.17678 6.23744 5.46967 6.53033L10.9393 12L5.46967 17.4697C5.17678 17.7626 5.17678 18.2374 5.46967 18.5303C5.76256 18.8232 6.23744 18.8232 6.53033 18.5303L12 13.0607L17.4697 18.5303C17.7626 18.8232 18.2374 18.8232 18.5303 18.5303C18.8232 18.2374 18.8232 17.7626 18.5303 17.4697L13.0607 12L18.5303 6.53033Z">');const CloseIcon=f=>{const r=useTheme();logDebug(`CloseIcon  ${r}`);const d=()=>f.fill||r.colors.icon.secondary;return(()=>{var g=_tmpl$$f(),_=g.firstChild;return createRenderEffect(()=>setAttribute(_,"fill",d())),g})()};var _tmpl$$d=template$1('<svg xmlns=http://www.w3.org/2000/svg width=16 height=16 viewBox="0 0 16 16"fill=none><g clip-path=url(#clip0_3783_2045)><circle cx=8 cy=8.00098 r=8></circle><path d="M4.75 8.50098L7 10.751L11.75 6.00098"stroke-width=1.5 stroke-linecap=round stroke-linejoin=round></path></g><defs><clipPath id=clip0_3783_2045><rect width=16 height=16 fill=white transform="translate(0 0.000976562)">'),_tmpl$2$3=template$1('<svg width=24 height=24 viewBox="0 0 24 24"fill=none xmlns=http://www.w3.org/2000/svg><circle cx=12 cy=12 r=11></circle><path d="M17.1364 9.6364C17.4879 9.28493 17.4879 8.71508 17.1364 8.36361C16.7849 8.01214 16.2151 8.01214 15.8636 8.36361L10 14.2272L8.1364 12.3636C7.78493 12.0121 7.21508 12.0121 6.86361 12.3636C6.51214 12.7151 6.51214 13.2849 6.86361 13.6364L9.36361 16.1364C9.71508 16.4879 10.2849 16.4879 10.6364 16.1364L17.1364 9.6364Z">'),_tmpl$3$2=template$1('<svg width=72 height=72 viewBox="0 0 72 72"fill=none xmlns=http://www.w3.org/2000/svg><circle cx=36 cy=36 r=33></circle><path d="M50.9142 28.4142C51.6953 27.6332 51.6953 26.3668 50.9142 25.5858C50.1332 24.8047 48.8668 24.8047 48.0858 25.5858L30 43.6716L23.9142 37.5858C23.1332 36.8047 21.8668 36.8047 21.0858 37.5858C20.3047 38.3668 20.3047 39.6332 21.0858 40.4142L28.5858 47.9142C29.3668 48.6953 30.6332 48.6953 31.4142 47.9142L50.9142 28.4142Z">');const SuccessIcon=f=>{const r=useTheme(),d=()=>f.size||"s",g=()=>f.fill||r.colors.icon.success;return createMemo(()=>createMemo(()=>d()==="xs")()?(()=>{var _=_tmpl$$d(),v=_.firstChild,y=v.firstChild,m=y.nextSibling;return createRenderEffect(w=>{var C=f.class,b=g(),E=r.colors.constant.white;return C!==w.e&&setAttribute(_,"class",w.e=C),b!==w.t&&setAttribute(y,"fill",w.t=b),E!==w.a&&setAttribute(m,"stroke",w.a=E),w},{e:void 0,t:void 0,a:void 0}),_})():createMemo(()=>d()==="s")()?(()=>{var _=_tmpl$2$3(),v=_.firstChild,y=v.nextSibling;return createRenderEffect(m=>{var w=f.class,C=g(),b=r.colors.constant.white;return w!==m.e&&setAttribute(_,"class",m.e=w),C!==m.t&&setAttribute(v,"fill",m.t=C),b!==m.a&&setAttribute(y,"fill",m.a=b),m},{e:void 0,t:void 0,a:void 0}),_})():(()=>{var _=_tmpl$3$2(),v=_.firstChild,y=v.nextSibling;return createRenderEffect(m=>{var w=f.class,C=g(),b=r.colors.constant.white;return w!==m.e&&setAttribute(_,"class",m.e=w),C!==m.t&&setAttribute(v,"fill",m.t=C),b!==m.a&&setAttribute(y,"fill",m.a=b),m},{e:void 0,t:void 0,a:void 0}),_})())};var _tmpl$$c=template$1('<svg xmlns=http://www.w3.org/2000/svg width=103 height=102 viewBox="0 0 103 102"fill=none><path fill-rule=evenodd clip-rule=evenodd d="M51.5 14.8747C31.5487 14.8747 15.375 31.0485 15.375 50.9997C15.375 70.951 31.5487 87.1247 51.5 87.1247C71.4513 87.1247 87.625 70.951 87.625 50.9997C87.625 31.0485 71.4513 14.8747 51.5 14.8747ZM9 50.9997C9 27.5276 28.0279 8.49974 51.5 8.49974C74.9721 8.49974 94 27.5276 94 50.9997C94 74.4718 74.9721 93.4997 51.5 93.4997C28.0279 93.4997 9 74.4718 9 50.9997ZM65.0234 37.4765C66.2682 38.7213 66.2682 40.7395 65.0234 41.9843L56.0078 50.9999L65.0234 60.0155C66.2682 61.2603 66.2682 63.2785 65.0234 64.5233C63.7786 65.7681 61.7604 65.7681 60.5156 64.5233L51.5 55.5077L42.4844 64.5233C41.2396 65.7681 39.2214 65.7681 37.9766 64.5233C36.7318 63.2785 36.7318 61.2603 37.9766 60.0155L46.9922 50.9999L37.9766 41.9843C36.7318 40.7395 36.7318 38.7213 37.9766 37.4765C39.2214 36.2317 41.2396 36.2317 42.4844 37.4765L51.5 46.4921L60.5156 37.4765C61.7604 36.2317 63.7787 36.2317 65.0234 37.4765Z"fill=#909090>'),_tmpl$2$2=template$1('<svg xmlns=http://www.w3.org/2000/svg width=72 height=72 viewBox="0 0 103 102"fill=none><path fill-rule=evenodd clip-rule=evenodd d="M51.5 14.8747C31.5487 14.8747 15.375 31.0485 15.375 50.9997C15.375 70.951 31.5487 87.1247 51.5 87.1247C71.4513 87.1247 87.625 70.951 87.625 50.9997C87.625 31.0485 71.4513 14.8747 51.5 14.8747ZM9 50.9997C9 27.5276 28.0279 8.49974 51.5 8.49974C74.9721 8.49974 94 27.5276 94 50.9997C94 74.4718 74.9721 93.4997 51.5 93.4997C28.0279 93.4997 9 74.4718 9 50.9997ZM65.0234 37.4765C66.2682 38.7213 66.2682 40.7395 65.0234 41.9843L56.0078 50.9999L65.0234 60.0155C66.2682 61.2603 66.2682 63.2785 65.0234 64.5233C63.7786 65.7681 61.7604 65.7681 60.5156 64.5233L51.5 55.5077L42.4844 64.5233C41.2396 65.7681 39.2214 65.7681 37.9766 64.5233C36.7318 63.2785 36.7318 61.2603 37.9766 60.0155L46.9922 50.9999L37.9766 41.9843C36.7318 40.7395 36.7318 38.7213 37.9766 37.4765C39.2214 36.2317 41.2396 36.2317 42.4844 37.4765L51.5 46.4921L60.5156 37.4765C61.7604 36.2317 63.7787 36.2317 65.0234 37.4765Z"fill=#909090>'),_tmpl$3$1=template$1('<svg xmlns=http://www.w3.org/2000/svg width=24 height=24 viewBox="0 0 103 102"fill=none><path fill-rule=evenodd clip-rule=evenodd d="M51.5 14.8747C31.5487 14.8747 15.375 31.0485 15.375 50.9997C15.375 70.951 31.5487 87.1247 51.5 87.1247C71.4513 87.1247 87.625 70.951 87.625 50.9997C87.625 31.0485 71.4513 14.8747 51.5 14.8747ZM9 50.9997C9 27.5276 28.0279 8.49974 51.5 8.49974C74.9721 8.49974 94 27.5276 94 50.9997C94 74.4718 74.9721 93.4997 51.5 93.4997C28.0279 93.4997 9 74.4718 9 50.9997ZM65.0234 37.4765C66.2682 38.7213 66.2682 40.7395 65.0234 41.9843L56.0078 50.9999L65.0234 60.0155C66.2682 61.2603 66.2682 63.2785 65.0234 64.5233C63.7786 65.7681 61.7604 65.7681 60.5156 64.5233L51.5 55.5077L42.4844 64.5233C41.2396 65.7681 39.2214 65.7681 37.9766 64.5233C36.7318 63.2785 36.7318 61.2603 37.9766 60.0155L46.9922 50.9999L37.9766 41.9843C36.7318 40.7395 36.7318 38.7213 37.9766 37.4765C39.2214 36.2317 41.2396 36.2317 42.4844 37.4765L51.5 46.4921L60.5156 37.4765C61.7604 36.2317 63.7787 36.2317 65.0234 37.4765Z"fill=#909090>');const ErrorIcon=f=>{useTheme();const r=()=>f.size||"m";return createMemo(()=>createMemo(()=>r()==="m")()?_tmpl$$c():createMemo(()=>r()==="s")()?_tmpl$2$2():_tmpl$3$1())};var _tmpl$$b=template$1('<svg width=24 height=24 viewBox="0 0 24 24"fill=none xmlns=http://www.w3.org/2000/svg><path d="M15.55 5.85123C18.9459 7.81184 20.1094 12.1541 18.1488 15.55C16.1882 18.9459 11.8459 20.1094 8.44998 18.1488C8.01952 17.9003 7.46909 18.0478 7.22056 18.4782C6.97203 18.9087 7.11952 19.4591 7.54998 19.7076C11.8068 22.1653 17.2499 20.7068 19.7076 16.45C22.1653 12.1932 20.7068 6.75005 16.45 4.29239C12.1932 1.83472 6.75003 3.29321 4.29236 7.55001C4.04383 7.98047 4.19132 8.53091 4.62178 8.77943C5.05224 9.02796 5.60268 8.88048 5.8512 8.45001C7.81181 5.05413 12.1541 3.89062 15.55 5.85123Z">'),_tmpl$2$1=template$1('<svg xmlns=http://www.w3.org/2000/svg width=44 height=44 viewBox="0 0 44 44"fill=none><path fill-rule=evenodd clip-rule=evenodd d="M22 2.99951C11.5066 2.99951 3 11.5061 3 21.9995C3 32.4929 11.5066 40.9995 22 40.9995C22.8284 40.9995 23.5 41.6711 23.5 42.4995C23.5 43.3279 22.8284 43.9995 22 43.9995C9.84974 43.9995 0 34.1498 0 21.9995C0 9.84925 9.84974 -0.000488281 22 -0.000488281C34.1503 -0.000488281 44 9.84925 44 21.9995C44 22.8279 43.3284 23.4995 42.5 23.4995C41.6716 23.4995 41 22.8279 41 21.9995C41 11.5061 32.4934 2.99951 22 2.99951Z">'),_tmpl$3=template$1('<svg width=72 height=72 viewBox="0 0 72 72"fill=none xmlns=http://www.w3.org/2000/svg><path d="M24 56.7846C35.479 63.412 50.1572 59.479 56.7846 47.9999C63.412 36.5209 59.479 21.8427 48 15.2153C36.521 8.58791 21.8428 12.5209 15.2154 23.9999"stroke-width=4 stroke-linecap=round stroke-linejoin=round>');const LoaderIcon=f=>{const r=useTheme(),d=()=>f.size||"xs",g=()=>f.fill||r.colors.icon.tertiary,_=h`
        0% {
          transform: rotate(0deg);
        }
        100% {
          transform: rotate(360deg);
        }
    `,v=u`
        animation: ${_} 1s linear infinite;
    `;return createMemo(()=>createMemo(()=>d()==="xs")()?(()=>{var y=_tmpl$$b(),m=y.firstChild;return createRenderEffect(w=>{var C=cn(v,f.class),b=g();return C!==w.e&&setAttribute(y,"class",w.e=C),b!==w.t&&setAttribute(m,"fill",w.t=b),w},{e:void 0,t:void 0}),y})():createMemo(()=>d()==="s")()?(()=>{var y=_tmpl$2$1(),m=y.firstChild;return createRenderEffect(w=>{var C=cn(v,f.class),b=g();return C!==w.e&&setAttribute(y,"class",w.e=C),b!==w.t&&setAttribute(m,"fill",w.t=b),w},{e:void 0,t:void 0}),y})():(()=>{var y=_tmpl$3(),m=y.firstChild;return createRenderEffect(w=>{var C=cn(v,f.class),b=g();return C!==w.e&&setAttribute(y,"class",w.e=C),b!==w.t&&setAttribute(m,"stroke",w.t=b),w},{e:void 0,t:void 0}),y})())};var _tmpl$$a=template$1('<svg xmlns=http://www.w3.org/2000/svg width=16 height=16 viewBox="0 0 16 16"fill=none><path fill-rule=evenodd clip-rule=evenodd d="M5.56608 4.42584C5.82527 3.32158 6.8176 2.5 8.00001 2.5C9.38072 2.5 10.5 3.61929 10.5 5C10.5 5.63026 10.3391 6.0386 10.1264 6.34455C9.90018 6.66993 9.58561 6.92478 9.18864 7.20877C9.12579 7.25372 9.05873 7.30025 8.9887 7.34883C8.27392 7.84472 7.25001 8.55507 7.25001 10V10.25C7.25001 10.6642 7.5858 11 8.00001 11C8.41422 11 8.75001 10.6642 8.75001 10.25V10C8.75001 9.36502 9.10777 9.1096 9.94554 8.51149L10.0614 8.42873C10.4769 8.13147 10.9748 7.75194 11.358 7.20076C11.7547 6.63015 12 5.91973 12 5C12 2.79086 10.2091 1 8.00001 1C6.10564 1 4.5205 2.31615 4.10577 4.08308C4.01112 4.48634 4.26129 4.88997 4.66454 4.98462C5.0678 5.07927 5.47143 4.8291 5.56608 4.42584ZM8.00001 15C8.60752 15 9.10001 14.5075 9.10001 13.9C9.10001 13.2925 8.60752 12.8 8.00001 12.8C7.39249 12.8 6.90001 13.2925 6.90001 13.9C6.90001 14.5075 7.39249 15 8.00001 15Z">');const QuestionIcon=f=>{const r=useTheme(),d=()=>f.fill||r.colors.icon.secondary;return(()=>{var g=_tmpl$$a(),_=g.firstChild;return createRenderEffect(()=>setAttribute(_,"fill",d())),g})()};var _tmpl$$9=template$1('<svg xmlns=http://www.w3.org/2000/svg width=16 height=16 viewBox="0 0 16 16"fill=none><path fill-rule=evenodd clip-rule=evenodd d="M3.56176 1.87482C3.8379 1.87482 4.06176 2.09867 4.06176 2.37482V3.69674C5.09916 2.7469 6.48174 2.16666 7.99996 2.16666C11.2216 2.16666 13.8333 4.77834 13.8333 8C13.8333 11.2217 11.2216 13.8333 7.99996 13.8333C4.7783 13.8333 2.16663 11.2217 2.16663 8C2.16663 7.72385 2.39048 7.5 2.66663 7.5C2.94277 7.5 3.16663 7.72385 3.16663 8C3.16663 10.6694 5.33058 12.8333 7.99996 12.8333C10.6693 12.8333 12.8333 10.6694 12.8333 8C12.8333 5.33062 10.6693 3.16666 7.99996 3.16666C6.68645 3.16666 5.49513 3.69037 4.62354 4.54148H6.22843C6.50457 4.54148 6.72843 4.76534 6.72843 5.04148C6.72843 5.31763 6.50457 5.54148 6.22843 5.54148H3.56176C3.28562 5.54148 3.06176 5.31763 3.06176 5.04148V2.37482C3.06176 2.09867 3.28562 1.87482 3.56176 1.87482Z">');const RetryIcon=f=>{const r=useTheme();return(()=>{var d=_tmpl$$9(),g=d.firstChild;return createRenderEffect(()=>setAttribute(g,"fill",r.colors.text.primary)),d})()};var _tmpl$$8=template$1('<svg xmlns=http://www.w3.org/2000/svg width=16 height=17 viewBox="0 0 16 17"fill=none><path fill-rule=evenodd clip-rule=evenodd d="M1 4.12695C1 3.07754 1 2.55284 1.19202 2.14684C1.38986 1.72856 1.7266 1.39181 2.14489 1.19397C2.55088 1.00195 3.07559 1.00195 4.125 1.00195C5.17441 1.00195 5.69912 1.00195 6.10511 1.19397C6.5234 1.39181 6.86014 1.72856 7.05798 2.14684C7.25 2.55284 7.25 3.07754 7.25 4.12695C7.25 5.17636 7.25 5.70107 7.05798 6.10706C6.86014 6.52535 6.5234 6.8621 6.10511 7.05993C5.69912 7.25195 5.17441 7.25195 4.125 7.25195C3.07559 7.25195 2.55088 7.25195 2.14489 7.05993C1.7266 6.8621 1.38986 6.52535 1.19202 6.10706C1 5.70107 1 5.17636 1 4.12695ZM2.5 3.30195C2.5 3.02193 2.5 2.88191 2.5545 2.77496C2.60243 2.68088 2.67892 2.60439 2.773 2.55645C2.87996 2.50195 3.01997 2.50195 3.3 2.50195H4.95C5.23003 2.50195 5.37004 2.50195 5.477 2.55645C5.57108 2.60439 5.64757 2.68088 5.6955 2.77496C5.75 2.88191 5.75 3.02193 5.75 3.30195V4.95195C5.75 5.23198 5.75 5.37199 5.6955 5.47895C5.64757 5.57303 5.57108 5.64952 5.477 5.69746C5.37004 5.75195 5.23003 5.75195 4.95 5.75195H3.3C3.01997 5.75195 2.87996 5.75195 2.773 5.69746C2.67892 5.64952 2.60243 5.57303 2.5545 5.47895C2.5 5.37199 2.5 5.23198 2.5 4.95195V3.30195ZM1 11.877C1 10.8275 1 10.3028 1.19202 9.89684C1.38986 9.47856 1.7266 9.14181 2.14489 8.94397C2.55088 8.75195 3.07559 8.75195 4.125 8.75195C5.17441 8.75195 5.69912 8.75195 6.10511 8.94397C6.5234 9.14181 6.86014 9.47856 7.05798 9.89684C7.25 10.3028 7.25 10.8275 7.25 11.877C7.25 12.9264 7.25 13.4511 7.05798 13.8571C6.86014 14.2753 6.5234 14.6121 6.10511 14.8099C5.69912 15.002 5.17441 15.002 4.125 15.002C3.07559 15.002 2.55088 15.002 2.14489 14.8099C1.7266 14.6121 1.38986 14.2753 1.19202 13.8571C1 13.4511 1 12.9264 1 11.877ZM2.5 11.052C2.5 10.7719 2.5 10.6319 2.5545 10.525C2.60243 10.4309 2.67892 10.3544 2.773 10.3064C2.87996 10.252 3.01997 10.252 3.3 10.252H4.95C5.23003 10.252 5.37004 10.252 5.477 10.3064C5.57108 10.3544 5.64757 10.4309 5.6955 10.525C5.75 10.6319 5.75 10.7719 5.75 11.052V12.702C5.75 12.982 5.75 13.122 5.6955 13.2289C5.64757 13.323 5.57108 13.3995 5.477 13.4475C5.37004 13.502 5.23003 13.502 4.95 13.502H3.3C3.01997 13.502 2.87996 13.502 2.773 13.4475C2.67892 13.3995 2.60243 13.323 2.5545 13.2289C2.5 13.122 2.5 12.982 2.5 12.702V11.052ZM8.94202 2.14684C8.75 2.55284 8.75 3.07754 8.75 4.12695C8.75 5.17636 8.75 5.70107 8.94202 6.10706C9.13986 6.52535 9.4766 6.8621 9.89489 7.05993C10.3009 7.25195 10.8256 7.25195 11.875 7.25195C12.9244 7.25195 13.4491 7.25195 13.8551 7.05993C14.2734 6.8621 14.6101 6.52535 14.808 6.10706C15 5.70107 15 5.17636 15 4.12695C15 3.07754 15 2.55284 14.808 2.14684C14.6101 1.72856 14.2734 1.39181 13.8551 1.19397C13.4491 1.00195 12.9244 1.00195 11.875 1.00195C10.8256 1.00195 10.3009 1.00195 9.89489 1.19397C9.4766 1.39181 9.13986 1.72856 8.94202 2.14684ZM10.3045 2.77496C10.25 2.88191 10.25 3.02193 10.25 3.30195V4.95195C10.25 5.23198 10.25 5.37199 10.3045 5.47895C10.3524 5.57303 10.4289 5.64952 10.523 5.69746C10.63 5.75195 10.77 5.75195 11.05 5.75195H12.7C12.98 5.75195 13.12 5.75195 13.227 5.69746C13.3211 5.64952 13.3976 5.57303 13.4455 5.47895C13.5 5.37199 13.5 5.23198 13.5 4.95195V3.30195C13.5 3.02193 13.5 2.88191 13.4455 2.77496C13.3976 2.68088 13.3211 2.60439 13.227 2.55645C13.12 2.50195 12.98 2.50195 12.7 2.50195H11.05C10.77 2.50195 10.63 2.50195 10.523 2.55645C10.4289 2.60439 10.3524 2.68088 10.3045 2.77496ZM8.80727 9.13518C8.75 9.26242 8.75 9.4256 8.75 9.75195C8.75 10.0783 8.75 10.2415 8.80727 10.3687C8.87245 10.5136 8.9884 10.6295 9.13323 10.6947C9.26047 10.752 9.42365 10.752 9.75 10.752C10.0764 10.752 10.2395 10.752 10.3668 10.6947C10.5116 10.6295 10.6276 10.5136 10.6927 10.3687C10.75 10.2415 10.75 10.0783 10.75 9.75195C10.75 9.4256 10.75 9.26242 10.6927 9.13518C10.6276 8.99035 10.5116 8.8744 10.3668 8.80922C10.2395 8.75195 10.0764 8.75195 9.75 8.75195C9.42365 8.75195 9.26047 8.75195 9.13323 8.80922C8.9884 8.8744 8.87245 8.99035 8.80727 9.13518ZM10.87 11.8771C10.87 11.546 10.87 11.3805 10.9289 11.2517C10.9938 11.1098 11.1077 10.9959 11.2497 10.931C11.3784 10.8721 11.5439 10.8721 11.875 10.8721C12.2061 10.8721 12.3716 10.8721 12.5003 10.931C12.6423 10.9959 12.7562 11.1098 12.8211 11.2517C12.88 11.3805 12.88 11.546 12.88 11.8771C12.88 12.2081 12.88 12.3737 12.8211 12.5024C12.7562 12.6444 12.6423 12.7583 12.5003 12.8232C12.3716 12.8821 12.2061 12.8821 11.875 12.8821C11.5439 12.8821 11.3784 12.8821 11.2497 12.8232C11.1077 12.7583 10.9938 12.6444 10.9289 12.5024C10.87 12.3737 10.87 12.2081 10.87 11.8771ZM8.80727 13.3852C8.75 13.5124 8.75 13.6756 8.75 14.002C8.75 14.3283 8.75 14.4915 8.80727 14.6187C8.87245 14.7636 8.9884 14.8795 9.13323 14.9447C9.26047 15.002 9.42365 15.002 9.75 15.002C10.0764 15.002 10.2395 15.002 10.3668 14.9447C10.5116 14.8795 10.6276 14.7636 10.6927 14.6187C10.75 14.4915 10.75 14.3283 10.75 14.002C10.75 13.6756 10.75 13.5124 10.6927 13.3852C10.6276 13.2404 10.5116 13.1244 10.3668 13.0592C10.2395 13.002 10.0764 13.002 9.75 13.002C9.42365 13.002 9.26047 13.002 9.13323 13.0592C8.9884 13.1244 8.87245 13.2404 8.80727 13.3852ZM13 9.75195C13 9.4256 13 9.26242 13.0573 9.13518C13.1224 8.99035 13.2384 8.8744 13.3832 8.80922C13.5105 8.75195 13.6736 8.75195 14 8.75195C14.3264 8.75195 14.4895 8.75195 14.6168 8.80922C14.7616 8.8744 14.8776 8.99035 14.9427 9.13518C15 9.26242 15 9.4256 15 9.75195C15 10.0783 15 10.2415 14.9427 10.3687C14.8776 10.5136 14.7616 10.6295 14.6168 10.6947C14.4895 10.752 14.3264 10.752 14 10.752C13.6736 10.752 13.5105 10.752 13.3832 10.6947C13.2384 10.6295 13.1224 10.5136 13.0573 10.3687C13 10.2415 13 10.0783 13 9.75195ZM13.0573 13.3852C13 13.5124 13 13.6756 13 14.002C13 14.3283 13 14.4915 13.0573 14.6187C13.1224 14.7636 13.2384 14.8795 13.3832 14.9447C13.5105 15.002 13.6736 15.002 14 15.002C14.3264 15.002 14.4895 15.002 14.6168 14.9447C14.7616 14.8795 14.8776 14.7636 14.9427 14.6187C15 14.4915 15 14.3283 15 14.002C15 13.6756 15 13.5124 14.9427 13.3852C14.8776 13.2404 14.7616 13.1244 14.6168 13.0592C14.4895 13.002 14.3264 13.002 14 13.002C13.6736 13.002 13.5105 13.002 13.3832 13.0592C13.2384 13.1244 13.1224 13.2404 13.0573 13.3852Z">');const QRIcon=f=>{const r=useTheme(),d=()=>f.fill||r.colors.icon.secondary;return(()=>{var g=_tmpl$$8(),_=g.firstChild;return createRenderEffect(()=>setAttribute(_,"fill",d())),g})()},IconButtonStyled=styled.button`
    padding: 0;
    display: flex;
    justify-content: center;
    align-items: center;
    width: 32px;
    height: 32px;
    border-radius: 50%;
    background-color: transparent;
    border: none;
    cursor: pointer;

    transition: transform 0.125s ease-in-out;

    ${mediaNotTouch} {
        &:hover {
            transform: scale(1.04);
        }
    }

    &:active {
        transform: scale(0.96);
    }

    ${mediaTouch} {
        &:active {
            transform: scale(0.92);
        }
    }
`,IconButton=f=>{const r=useDataAttributes(f),d=()=>f.icon||"close";return createComponent(IconButtonStyled,mergeProps({get class(){return f.class},onClick:()=>f.onClick(),"data-tc-icon-button":"true"},r,{get children(){return[createComponent(Show,{get when(){return!!f.children},get children(){return f.children}}),createComponent(Show,{get when(){return!f.children},get children(){return createComponent(Switch,{get children(){return[createComponent(Match,{get when(){return d()==="close"},get children(){return createComponent(CloseIcon,{get fill(){return f.fill}})}}),createComponent(Match,{get when(){return d()==="arrow"},get children(){return createComponent(ArrowIcon,{get fill(){return f.fill}})}}),createComponent(Match,{get when(){return d()==="question"},get children(){return createComponent(QuestionIcon,{get fill(){return f.fill}})}}),createComponent(Match,{get when(){return typeof d()!="string"},get children(){return d()}})]}})}})]}}))},borders$1={m:"24px",s:"16px",none:"0"},ModalBackgroundStyled=styled.div`
  display: flex;
  position: fixed;
  z-index: 1000;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0, 0, 0, 0.4);
  padding: 20px 0;
  overflow-y: auto;

  ${media("mobile")} {
    padding-bottom: 0;
  }
`,ModalWrapperClass=u`
  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.08), 0 16px 64px rgba(0, 0, 0, 0.16);
  width: fit-content;
  margin: auto;

  ${media("mobile")} {
    width: 100%;
    height: fit-content;
    margin: auto 0 0 0;
  }
`,ModalBodyStyled=styled.div`
  position: relative;
  min-height: 100px;
  width: 416px;
  padding: 44px 56px 24px;

  box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.04);

  background-color: ${f=>f.theme.colors.background.primary};
  border-radius: ${f=>borders$1[f.theme.borderRadius]};

  ${media("mobile")} {
    width: 100%;
    border-radius: 24px 24px 0px 0px;
  }
`,CloseButtonStyled=styled(IconButton)`
  position: absolute;
  right: 16px;
  top: 12px;
`;styled.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 16px 16px 16px 18px;
  border-radius: 0 0 ${f=>borders$1[f.theme.borderRadius]}
    ${f=>borders$1[f.theme.borderRadius]};
`;styled(IconButton)`
  background-color: ${f=>rgba(f.theme.colors.icon.secondary,.12)};
`;class AnimationTimelineNoop{constructor(){__publicField(this,"currentTime",0)}}const _AnimationNoop=class{constructor(){__publicField(this,"currentTime",0),__publicField(this,"playbackRate",1),__publicField(this,"startTime",null),__publicField(this,"timeline",new AnimationTimelineNoop),__publicField(this,"finished",Promise.resolve(this)),__publicField(this,"effect",null),__publicField(this,"id",""),__publicField(this,"pending",!1),__publicField(this,"playState","finished"),__publicField(this,"replaceState","active"),__publicField(this,"ready",Promise.resolve(this)),__publicField(this,"oncancel",null),__publicField(this,"onfinish",null),__publicField(this,"onremove",null)}static create(){return _AnimationNoop._instance||(logWarning("Animation is not supported in this environment: please consider using the `web-animations-js` polyfill to provide a fallback implementation of the Web Animations API."),_AnimationNoop._instance=new _AnimationNoop),_AnimationNoop._instance}cancel(){}finish(){}pause(){}play(){}reverse(){}addEventListener(f,r,d){}dispatchEvent(f){return!1}removeEventListener(f,r,d){}updatePlaybackRate(f){}commitStyles(){}persist(){}};let AnimationNoop=_AnimationNoop;__publicField(AnimationNoop,"_instance",null);function animate(f,r,d){return"animate"in f?f.animate(r,d):AnimationNoop.create()}var _tmpl$$7=template$1("<div>");const keyPressed=escPressed,androidBackHandler=androidBackHandler$1,Modal=f=>{const r=useTheme(),d=useDataAttributes(f);return createEffect(()=>{f.opened?disableScroll():enableScroll()}),createComponent(Transition,{onBeforeEnter:g=>{const _=isDevice("mobile")?200:100;animate(g,[{opacity:0},{opacity:1}],{duration:_}),isDevice("mobile")&&animate(g.firstElementChild,[{transform:"translateY(390px)"},{transform:"translateY(0)"}],{duration:_})},onExit:(g,_)=>{const v=isDevice("mobile")?200:100,y=animate(g,[{opacity:1},{opacity:0}],{duration:v});if(isDevice("mobile")){const m=animate(g.firstElementChild,[{transform:"translateY(0)"},{transform:"translateY(390px)"}],{duration:v});Promise.all([y.finished,m.finished]).then(_)}else y.finished.then(_)},get children(){return createComponent(Show,{get when(){return f.opened},get children(){return createComponent(ModalBackgroundStyled,mergeProps({"data-tc-modal":"true"},d,{get children(){var g=_tmpl$$7();return use(androidBackHandler,g,()=>({isEnabled:!0,onClose:()=>f.onClose()})),use(keyPressed,g,()=>()=>f.onClose()),insert(g,createComponent(ModalBodyStyled,{get class(){return f.class},get children(){return[createComponent(CloseButtonStyled,{icon:"close",onClick:()=>f.onClose()}),createMemo(()=>f.children)]}})),createRenderEffect(()=>className(g,cn(ModalWrapperClass,u`
                                border-radius: ${borders$1[r.borderRadius]};
                                background-color: ${r.colors.background.tint};

                                ${media("mobile")} {
                                    border-radius: ${borders$1[r.borderRadius]}
                                        ${borders$1[r.borderRadius]} 0 0;
                                }
                            `))),g}}))}})}})},qrNormalSize=270,imgSizeDefault=56,picSizeDefault=54,qrPaddingTop=0,CopyIconButton=styled.div`
    width: 52px;
    height: 52px;
    background: transparent;
    position: absolute;
    right: 0;
    bottom: 0;

    display: flex;
    align-items: center;
    justify-content: center;
    transition: transform 0.125s ease-in-out;
`,QrCodeBackground=styled.button`
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
    background-color: ${f=>f.theme.colors.background.qr};
    border-radius: 0;
    padding: ${toPx(qrPaddingTop)} 0;
    height: ${toPx(qrNormalSize+qrPaddingTop*2)};
    width: ${toPx(qrNormalSize+qrPaddingTop*2)};

    overflow: hidden;
    cursor: pointer;
    border: none;

    ${mediaNotTouch} {
        &:hover {
            ${CopyIconButton.class} {
                transform: scale(1.04);
            }
        }
    }

    &:active {
        ${CopyIconButton.class} {
            transform: scale(0.96);
        }
    }

    ${mediaTouch} {
        &:active {
            ${CopyIconButton.class} {
                transform: scale(0.92);
            }
        }
    }
`,QrCodeWrapper$2=styled.div`
    position: relative;
  
    width: fit-content;
    margin: 0 auto;

    > div:first-child {
        display: flex;
        align-items: center;
        justify-content: center;
    }
`,ImageBackground=styled.div`
    position: absolute;
    width: ${toPx(imgSizeDefault)};
    height: ${toPx(imgSizeDefault)};
    background: lightgray;

    display: flex;
    align-items: center;
    justify-content: center;
`,ImageStyled$3=styled(Image)`
    width: ${f=>toPx(f.size)};
    height: ${f=>toPx(f.size)};
    border-radius: 100000px;
    background-color: transparent;
`;styled.div`
    position: absolute;
    bottom: 14px;
    left: 50%;
    transform: translate(-50%, 0);

    display: flex;
    gap: 6px;
    align-items: center;
    border-radius: 18px;
    min-width: 126px;
    padding: 9px 16px 9px 10px;

    filter: drop-shadow(0px 2px 8px rgba(0, 0, 0, 0.08));
    background-color: ${f=>f.theme.colors.background.segment};
`;var qrcode$1={exports:{}};(function(f,r){var d=function(){var g=function(X,z){var Y=236,ne=17,re=X,se=v[z],G=null,T=0,D=null,x=[],A={},B=function(J,oe){T=re*4+17,G=function(H){for(var Q=new Array(H),ie=0;ie<H;ie+=1){Q[ie]=new Array(H);for(var we=0;we<H;we+=1)Q[ie][we]=null}return Q}(T),N(0,0),N(T-7,0),N(0,T-7),P(),K(),M(J,oe),re>=7&&k(J),D==null&&(D=be(re,se,x)),W(D,oe)},N=function(J,oe){for(var H=-1;H<=7;H+=1)if(!(J+H<=-1||T<=J+H))for(var Q=-1;Q<=7;Q+=1)oe+Q<=-1||T<=oe+Q||(0<=H&&H<=6&&(Q==0||Q==6)||0<=Q&&Q<=6&&(H==0||H==6)||2<=H&&H<=4&&2<=Q&&Q<=4?G[J+H][oe+Q]=!0:G[J+H][oe+Q]=!1)},q=function(){for(var J=0,oe=0,H=0;H<8;H+=1){B(!0,H);var Q=m.getLostPoint(A);(H==0||J>Q)&&(J=Q,oe=H)}return oe},K=function(){for(var J=8;J<T-8;J+=1)G[J][6]==null&&(G[J][6]=J%2==0);for(var oe=8;oe<T-8;oe+=1)G[6][oe]==null&&(G[6][oe]=oe%2==0)},P=function(){for(var J=m.getPatternPosition(re),oe=0;oe<J.length;oe+=1)for(var H=0;H<J.length;H+=1){var Q=J[oe],ie=J[H];if(G[Q][ie]==null)for(var we=-2;we<=2;we+=1)for(var Se=-2;Se<=2;Se+=1)we==-2||we==2||Se==-2||Se==2||we==0&&Se==0?G[Q+we][ie+Se]=!0:G[Q+we][ie+Se]=!1}},k=function(J){for(var oe=m.getBCHTypeNumber(re),H=0;H<18;H+=1){var Q=!J&&(oe>>H&1)==1;G[Math.floor(H/3)][H%3+T-8-3]=Q}for(var H=0;H<18;H+=1){var Q=!J&&(oe>>H&1)==1;G[H%3+T-8-3][Math.floor(H/3)]=Q}},M=function(J,oe){for(var H=se<<3|oe,Q=m.getBCHTypeInfo(H),ie=0;ie<15;ie+=1){var we=!J&&(Q>>ie&1)==1;ie<6?G[ie][8]=we:ie<8?G[ie+1][8]=we:G[T-15+ie][8]=we}for(var ie=0;ie<15;ie+=1){var we=!J&&(Q>>ie&1)==1;ie<8?G[8][T-ie-1]=we:ie<9?G[8][15-ie-1+1]=we:G[8][15-ie-1]=we}G[T-8][8]=!J},W=function(J,oe){for(var H=-1,Q=T-1,ie=7,we=0,Se=m.getMaskFunction(oe),De=T-1;De>0;De-=2)for(De==6&&(De-=1);;){for(var Ie=0;Ie<2;Ie+=1)if(G[Q][De-Ie]==null){var qe=!1;we<J.length&&(qe=(J[we]>>>ie&1)==1);var Ne=Se(Q,De-Ie);Ne&&(qe=!qe),G[Q][De-Ie]=qe,ie-=1,ie==-1&&(we+=1,ie=7)}if(Q+=H,Q<0||T<=Q){Q-=H,H=-H;break}}},ce=function(J,oe){for(var H=0,Q=0,ie=0,we=new Array(oe.length),Se=new Array(oe.length),De=0;De<oe.length;De+=1){var Ie=oe[De].dataCount,qe=oe[De].totalCount-Ie;Q=Math.max(Q,Ie),ie=Math.max(ie,qe),we[De]=new Array(Ie);for(var Ne=0;Ne<we[De].length;Ne+=1)we[De][Ne]=255&J.getBuffer()[Ne+H];H+=Ie;var Me=m.getErrorCorrectPolynomial(qe),Ve=C(we[De],Me.getLength()-1),Ke=Ve.mod(Me);Se[De]=new Array(Me.getLength()-1);for(var Ne=0;Ne<Se[De].length;Ne+=1){var ot=Ne+Ke.getLength()-Se[De].length;Se[De][Ne]=ot>=0?Ke.getAt(ot):0}}for(var Je=0,Ne=0;Ne<oe.length;Ne+=1)Je+=oe[Ne].totalCount;for(var We=new Array(Je),it=0,Ne=0;Ne<Q;Ne+=1)for(var De=0;De<oe.length;De+=1)Ne<we[De].length&&(We[it]=we[De][Ne],it+=1);for(var Ne=0;Ne<ie;Ne+=1)for(var De=0;De<oe.length;De+=1)Ne<Se[De].length&&(We[it]=Se[De][Ne],it+=1);return We},be=function(J,oe,H){for(var Q=b.getRSBlocks(J,oe),ie=E(),we=0;we<H.length;we+=1){var Se=H[we];ie.put(Se.getMode(),4),ie.put(Se.getLength(),m.getLengthInBits(Se.getMode(),J)),Se.write(ie)}for(var De=0,we=0;we<Q.length;we+=1)De+=Q[we].dataCount;if(ie.getLengthInBits()>De*8)throw"code length overflow. ("+ie.getLengthInBits()+">"+De*8+")";for(ie.getLengthInBits()+4<=De*8&&ie.put(0,4);ie.getLengthInBits()%8!=0;)ie.putBit(!1);for(;!(ie.getLengthInBits()>=De*8||(ie.put(Y,8),ie.getLengthInBits()>=De*8));)ie.put(ne,8);return ce(ie,Q)};A.addData=function(J,oe){oe=oe||"Byte";var H=null;switch(oe){case"Numeric":H=S(J);break;case"Alphanumeric":H=R(J);break;case"Byte":H=O(J);break;case"Kanji":H=$(J);break;default:throw"mode:"+oe}x.push(H),D=null},A.isDark=function(J,oe){if(J<0||T<=J||oe<0||T<=oe)throw J+","+oe;return G[J][oe]},A.getModuleCount=function(){return T},A.make=function(){if(re<1){for(var J=1;J<40;J++){for(var oe=b.getRSBlocks(J,se),H=E(),Q=0;Q<x.length;Q++){var ie=x[Q];H.put(ie.getMode(),4),H.put(ie.getLength(),m.getLengthInBits(ie.getMode(),J)),ie.write(H)}for(var we=0,Q=0;Q<oe.length;Q++)we+=oe[Q].dataCount;if(H.getLengthInBits()<=we*8)break}re=J}B(!1,q())},A.createTableTag=function(J,oe){J=J||2,oe=typeof oe>"u"?J*4:oe;var H="";H+='<table style="',H+=" border-width: 0px; border-style: none;",H+=" border-collapse: collapse;",H+=" padding: 0px; margin: "+oe+"px;",H+='">',H+="<tbody>";for(var Q=0;Q<A.getModuleCount();Q+=1){H+="<tr>";for(var ie=0;ie<A.getModuleCount();ie+=1)H+='<td style="',H+=" border-width: 0px; border-style: none;",H+=" border-collapse: collapse;",H+=" padding: 0px; margin: 0px;",H+=" width: "+J+"px;",H+=" height: "+J+"px;",H+=" background-color: ",H+=A.isDark(Q,ie)?"#000000":"#ffffff",H+=";",H+='"/>';H+="</tr>"}return H+="</tbody>",H+="</table>",H},A.createSvgTag=function(J,oe,H,Q){var ie={};typeof arguments[0]=="object"&&(ie=arguments[0],J=ie.cellSize,oe=ie.margin,H=ie.alt,Q=ie.title),J=J||2,oe=typeof oe>"u"?J*4:oe,H=typeof H=="string"?{text:H}:H||{},H.text=H.text||null,H.id=H.text?H.id||"qrcode-description":null,Q=typeof Q=="string"?{text:Q}:Q||{},Q.text=Q.text||null,Q.id=Q.text?Q.id||"qrcode-title":null;var we=A.getModuleCount()*J+oe*2,Se,De,Ie,qe,Ne="",Me;for(Me="l"+J+",0 0,"+J+" -"+J+",0 0,-"+J+"z ",Ne+='<svg version="1.1" xmlns="http://www.w3.org/2000/svg"',Ne+=ie.scalable?"":' width="'+we+'px" height="'+we+'px"',Ne+=' viewBox="0 0 '+we+" "+we+'" ',Ne+=' preserveAspectRatio="xMinYMin meet"',Ne+=Q.text||H.text?' role="img" aria-labelledby="'+ve([Q.id,H.id].join(" ").trim())+'"':"",Ne+=">",Ne+=Q.text?'<title id="'+ve(Q.id)+'">'+ve(Q.text)+"</title>":"",Ne+=H.text?'<description id="'+ve(H.id)+'">'+ve(H.text)+"</description>":"",Ne+='<rect width="100%" height="100%" fill="white" cx="0" cy="0"/>',Ne+='<path d="',Ie=0;Ie<A.getModuleCount();Ie+=1)for(qe=Ie*J+oe,Se=0;Se<A.getModuleCount();Se+=1)A.isDark(Ie,Se)&&(De=Se*J+oe,Ne+="M"+De+","+qe+Me);return Ne+='" stroke="transparent" fill="black"/>',Ne+="</svg>",Ne},A.createDataURL=function(J,oe){J=J||2,oe=typeof oe>"u"?J*4:oe;var H=A.getModuleCount()*J+oe*2,Q=oe,ie=H-oe;return F(H,H,function(we,Se){if(Q<=we&&we<ie&&Q<=Se&&Se<ie){var De=Math.floor((we-Q)/J),Ie=Math.floor((Se-Q)/J);return A.isDark(Ie,De)?0:1}else return 1})},A.createImgTag=function(J,oe,H){J=J||2,oe=typeof oe>"u"?J*4:oe;var Q=A.getModuleCount()*J+oe*2,ie="";return ie+="<img",ie+=' src="',ie+=A.createDataURL(J,oe),ie+='"',ie+=' width="',ie+=Q,ie+='"',ie+=' height="',ie+=Q,ie+='"',H&&(ie+=' alt="',ie+=ve(H),ie+='"'),ie+="/>",ie};var ve=function(J){for(var oe="",H=0;H<J.length;H+=1){var Q=J.charAt(H);switch(Q){case"<":oe+="&lt;";break;case">":oe+="&gt;";break;case"&":oe+="&amp;";break;case'"':oe+="&quot;";break;default:oe+=Q;break}}return oe},Z=function(J){var oe=1;J=typeof J>"u"?oe*2:J;var H=A.getModuleCount()*oe+J*2,Q=J,ie=H-J,we,Se,De,Ie,qe,Ne={"██":"█","█ ":"▀"," █":"▄","  ":" "},Me={"██":"▀","█ ":"▀"," █":" ","  ":" "},Ve="";for(we=0;we<H;we+=2){for(De=Math.floor((we-Q)/oe),Ie=Math.floor((we+1-Q)/oe),Se=0;Se<H;Se+=1)qe="█",Q<=Se&&Se<ie&&Q<=we&&we<ie&&A.isDark(De,Math.floor((Se-Q)/oe))&&(qe=" "),Q<=Se&&Se<ie&&Q<=we+1&&we+1<ie&&A.isDark(Ie,Math.floor((Se-Q)/oe))?qe+=" ":qe+="█",Ve+=J<1&&we+1>=ie?Me[qe]:Ne[qe];Ve+=`
`}return H%2&&J>0?Ve.substring(0,Ve.length-H-1)+Array(H+1).join("▀"):Ve.substring(0,Ve.length-1)};return A.createASCII=function(J,oe){if(J=J||1,J<2)return Z(oe);J-=1,oe=typeof oe>"u"?J*2:oe;var H=A.getModuleCount()*J+oe*2,Q=oe,ie=H-oe,we,Se,De,Ie,qe=Array(J+1).join("██"),Ne=Array(J+1).join("  "),Me="",Ve="";for(we=0;we<H;we+=1){for(De=Math.floor((we-Q)/J),Ve="",Se=0;Se<H;Se+=1)Ie=1,Q<=Se&&Se<ie&&Q<=we&&we<ie&&A.isDark(De,Math.floor((Se-Q)/J))&&(Ie=0),Ve+=Ie?qe:Ne;for(De=0;De<J;De+=1)Me+=Ve+`
`}return Me.substring(0,Me.length-1)},A.renderTo2dContext=function(J,oe){oe=oe||2;for(var H=A.getModuleCount(),Q=0;Q<H;Q++)for(var ie=0;ie<H;ie++)J.fillStyle=A.isDark(Q,ie)?"black":"white",J.fillRect(Q*oe,ie*oe,oe,oe)},A};g.stringToBytesFuncs={default:function(X){for(var z=[],Y=0;Y<X.length;Y+=1){var ne=X.charCodeAt(Y);z.push(ne&255)}return z}},g.stringToBytes=g.stringToBytesFuncs.default,g.createStringToBytes=function(X,z){var Y=function(){for(var re=L(X),se=function(){var K=re.read();if(K==-1)throw"eof";return K},G=0,T={};;){var D=re.read();if(D==-1)break;var x=se(),A=se(),B=se(),N=String.fromCharCode(D<<8|x),q=A<<8|B;T[N]=q,G+=1}if(G!=z)throw G+" != "+z;return T}(),ne=63;return function(re){for(var se=[],G=0;G<re.length;G+=1){var T=re.charCodeAt(G);if(T<128)se.push(T);else{var D=Y[re.charAt(G)];typeof D=="number"?(D&255)==D?se.push(D):(se.push(D>>>8),se.push(D&255)):se.push(ne)}}return se}};var _={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},v={L:1,M:0,Q:3,H:2},y={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},m=function(){var X=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],z=1335,Y=7973,ne=21522,re={},se=function(G){for(var T=0;G!=0;)T+=1,G>>>=1;return T};return re.getBCHTypeInfo=function(G){for(var T=G<<10;se(T)-se(z)>=0;)T^=z<<se(T)-se(z);return(G<<10|T)^ne},re.getBCHTypeNumber=function(G){for(var T=G<<12;se(T)-se(Y)>=0;)T^=Y<<se(T)-se(Y);return G<<12|T},re.getPatternPosition=function(G){return X[G-1]},re.getMaskFunction=function(G){switch(G){case y.PATTERN000:return function(T,D){return(T+D)%2==0};case y.PATTERN001:return function(T,D){return T%2==0};case y.PATTERN010:return function(T,D){return D%3==0};case y.PATTERN011:return function(T,D){return(T+D)%3==0};case y.PATTERN100:return function(T,D){return(Math.floor(T/2)+Math.floor(D/3))%2==0};case y.PATTERN101:return function(T,D){return T*D%2+T*D%3==0};case y.PATTERN110:return function(T,D){return(T*D%2+T*D%3)%2==0};case y.PATTERN111:return function(T,D){return(T*D%3+(T+D)%2)%2==0};default:throw"bad maskPattern:"+G}},re.getErrorCorrectPolynomial=function(G){for(var T=C([1],0),D=0;D<G;D+=1)T=T.multiply(C([1,w.gexp(D)],0));return T},re.getLengthInBits=function(G,T){if(1<=T&&T<10)switch(G){case _.MODE_NUMBER:return 10;case _.MODE_ALPHA_NUM:return 9;case _.MODE_8BIT_BYTE:return 8;case _.MODE_KANJI:return 8;default:throw"mode:"+G}else if(T<27)switch(G){case _.MODE_NUMBER:return 12;case _.MODE_ALPHA_NUM:return 11;case _.MODE_8BIT_BYTE:return 16;case _.MODE_KANJI:return 10;default:throw"mode:"+G}else if(T<41)switch(G){case _.MODE_NUMBER:return 14;case _.MODE_ALPHA_NUM:return 13;case _.MODE_8BIT_BYTE:return 16;case _.MODE_KANJI:return 12;default:throw"mode:"+G}else throw"type:"+T},re.getLostPoint=function(G){for(var T=G.getModuleCount(),D=0,x=0;x<T;x+=1)for(var A=0;A<T;A+=1){for(var B=0,N=G.isDark(x,A),q=-1;q<=1;q+=1)if(!(x+q<0||T<=x+q))for(var K=-1;K<=1;K+=1)A+K<0||T<=A+K||q==0&&K==0||N==G.isDark(x+q,A+K)&&(B+=1);B>5&&(D+=3+B-5)}for(var x=0;x<T-1;x+=1)for(var A=0;A<T-1;A+=1){var P=0;G.isDark(x,A)&&(P+=1),G.isDark(x+1,A)&&(P+=1),G.isDark(x,A+1)&&(P+=1),G.isDark(x+1,A+1)&&(P+=1),(P==0||P==4)&&(D+=3)}for(var x=0;x<T;x+=1)for(var A=0;A<T-6;A+=1)G.isDark(x,A)&&!G.isDark(x,A+1)&&G.isDark(x,A+2)&&G.isDark(x,A+3)&&G.isDark(x,A+4)&&!G.isDark(x,A+5)&&G.isDark(x,A+6)&&(D+=40);for(var A=0;A<T;A+=1)for(var x=0;x<T-6;x+=1)G.isDark(x,A)&&!G.isDark(x+1,A)&&G.isDark(x+2,A)&&G.isDark(x+3,A)&&G.isDark(x+4,A)&&!G.isDark(x+5,A)&&G.isDark(x+6,A)&&(D+=40);for(var k=0,A=0;A<T;A+=1)for(var x=0;x<T;x+=1)G.isDark(x,A)&&(k+=1);var M=Math.abs(100*k/T/T-50)/5;return D+=M*10,D},re}(),w=function(){for(var X=new Array(256),z=new Array(256),Y=0;Y<8;Y+=1)X[Y]=1<<Y;for(var Y=8;Y<256;Y+=1)X[Y]=X[Y-4]^X[Y-5]^X[Y-6]^X[Y-8];for(var Y=0;Y<255;Y+=1)z[X[Y]]=Y;var ne={};return ne.glog=function(re){if(re<1)throw"glog("+re+")";return z[re]},ne.gexp=function(re){for(;re<0;)re+=255;for(;re>=256;)re-=255;return X[re]},ne}();function C(X,z){if(typeof X.length>"u")throw X.length+"/"+z;var Y=function(){for(var re=0;re<X.length&&X[re]==0;)re+=1;for(var se=new Array(X.length-re+z),G=0;G<X.length-re;G+=1)se[G]=X[G+re];return se}(),ne={};return ne.getAt=function(re){return Y[re]},ne.getLength=function(){return Y.length},ne.multiply=function(re){for(var se=new Array(ne.getLength()+re.getLength()-1),G=0;G<ne.getLength();G+=1)for(var T=0;T<re.getLength();T+=1)se[G+T]^=w.gexp(w.glog(ne.getAt(G))+w.glog(re.getAt(T)));return C(se,0)},ne.mod=function(re){if(ne.getLength()-re.getLength()<0)return ne;for(var se=w.glog(ne.getAt(0))-w.glog(re.getAt(0)),G=new Array(ne.getLength()),T=0;T<ne.getLength();T+=1)G[T]=ne.getAt(T);for(var T=0;T<re.getLength();T+=1)G[T]^=w.gexp(w.glog(re.getAt(T))+se);return C(G,0).mod(re)},ne}var b=function(){var X=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12,7,37,13],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],z=function(re,se){var G={};return G.totalCount=re,G.dataCount=se,G},Y={},ne=function(re,se){switch(se){case v.L:return X[(re-1)*4+0];case v.M:return X[(re-1)*4+1];case v.Q:return X[(re-1)*4+2];case v.H:return X[(re-1)*4+3];default:return}};return Y.getRSBlocks=function(re,se){var G=ne(re,se);if(typeof G>"u")throw"bad rs block @ typeNumber:"+re+"/errorCorrectionLevel:"+se;for(var T=G.length/3,D=[],x=0;x<T;x+=1)for(var A=G[x*3+0],B=G[x*3+1],N=G[x*3+2],q=0;q<A;q+=1)D.push(z(B,N));return D},Y}(),E=function(){var X=[],z=0,Y={};return Y.getBuffer=function(){return X},Y.getAt=function(ne){var re=Math.floor(ne/8);return(X[re]>>>7-ne%8&1)==1},Y.put=function(ne,re){for(var se=0;se<re;se+=1)Y.putBit((ne>>>re-se-1&1)==1)},Y.getLengthInBits=function(){return z},Y.putBit=function(ne){var re=Math.floor(z/8);X.length<=re&&X.push(0),ne&&(X[re]|=128>>>z%8),z+=1},Y},S=function(X){var z=_.MODE_NUMBER,Y=X,ne={};ne.getMode=function(){return z},ne.getLength=function(G){return Y.length},ne.write=function(G){for(var T=Y,D=0;D+2<T.length;)G.put(re(T.substring(D,D+3)),10),D+=3;D<T.length&&(T.length-D==1?G.put(re(T.substring(D,D+1)),4):T.length-D==2&&G.put(re(T.substring(D,D+2)),7))};var re=function(G){for(var T=0,D=0;D<G.length;D+=1)T=T*10+se(G.charAt(D));return T},se=function(G){if("0"<=G&&G<="9")return G.charCodeAt(0)-48;throw"illegal char :"+G};return ne},R=function(X){var z=_.MODE_ALPHA_NUM,Y=X,ne={};ne.getMode=function(){return z},ne.getLength=function(se){return Y.length},ne.write=function(se){for(var G=Y,T=0;T+1<G.length;)se.put(re(G.charAt(T))*45+re(G.charAt(T+1)),11),T+=2;T<G.length&&se.put(re(G.charAt(T)),6)};var re=function(se){if("0"<=se&&se<="9")return se.charCodeAt(0)-48;if("A"<=se&&se<="Z")return se.charCodeAt(0)-65+10;switch(se){case" ":return 36;case"$":return 37;case"%":return 38;case"*":return 39;case"+":return 40;case"-":return 41;case".":return 42;case"/":return 43;case":":return 44;default:throw"illegal char :"+se}};return ne},O=function(X){var z=_.MODE_8BIT_BYTE,Y=g.stringToBytes(X),ne={};return ne.getMode=function(){return z},ne.getLength=function(re){return Y.length},ne.write=function(re){for(var se=0;se<Y.length;se+=1)re.put(Y[se],8)},ne},$=function(X){var z=_.MODE_KANJI,Y=g.stringToBytesFuncs.SJIS;if(!Y)throw"sjis not supported.";(function(se,G){var T=Y(se);if(T.length!=2||(T[0]<<8|T[1])!=G)throw"sjis not supported."})("友",38726);var ne=Y(X),re={};return re.getMode=function(){return z},re.getLength=function(se){return~~(ne.length/2)},re.write=function(se){for(var G=ne,T=0;T+1<G.length;){var D=(255&G[T])<<8|255&G[T+1];if(33088<=D&&D<=40956)D-=33088;else if(57408<=D&&D<=60351)D-=49472;else throw"illegal char at "+(T+1)+"/"+D;D=(D>>>8&255)*192+(D&255),se.put(D,13),T+=2}if(T<G.length)throw"illegal char at "+(T+1)},re},I=function(){var X=[],z={};return z.writeByte=function(Y){X.push(Y&255)},z.writeShort=function(Y){z.writeByte(Y),z.writeByte(Y>>>8)},z.writeBytes=function(Y,ne,re){ne=ne||0,re=re||Y.length;for(var se=0;se<re;se+=1)z.writeByte(Y[se+ne])},z.writeString=function(Y){for(var ne=0;ne<Y.length;ne+=1)z.writeByte(Y.charCodeAt(ne))},z.toByteArray=function(){return X},z.toString=function(){var Y="";Y+="[";for(var ne=0;ne<X.length;ne+=1)ne>0&&(Y+=","),Y+=X[ne];return Y+="]",Y},z},U=function(){var X=0,z=0,Y=0,ne="",re={},se=function(T){ne+=String.fromCharCode(G(T&63))},G=function(T){if(!(T<0)){if(T<26)return 65+T;if(T<52)return 97+(T-26);if(T<62)return 48+(T-52);if(T==62)return 43;if(T==63)return 47}throw"n:"+T};return re.writeByte=function(T){for(X=X<<8|T&255,z+=8,Y+=1;z>=6;)se(X>>>z-6),z-=6},re.flush=function(){if(z>0&&(se(X<<6-z),X=0,z=0),Y%3!=0)for(var T=3-Y%3,D=0;D<T;D+=1)ne+="="},re.toString=function(){return ne},re},L=function(X){var z=X,Y=0,ne=0,re=0,se={};se.read=function(){for(;re<8;){if(Y>=z.length){if(re==0)return-1;throw"unexpected end of file./"+re}var T=z.charAt(Y);if(Y+=1,T=="=")return re=0,-1;if(T.match(/^\s$/))continue;ne=ne<<6|G(T.charCodeAt(0)),re+=6}var D=ne>>>re-8&255;return re-=8,D};var G=function(T){if(65<=T&&T<=90)return T-65;if(97<=T&&T<=122)return T-97+26;if(48<=T&&T<=57)return T-48+52;if(T==43)return 62;if(T==47)return 63;throw"c:"+T};return se},j=function(X,z){var Y=X,ne=z,re=new Array(X*z),se={};se.setPixel=function(x,A,B){re[A*Y+x]=B},se.write=function(x){x.writeString("GIF87a"),x.writeShort(Y),x.writeShort(ne),x.writeByte(128),x.writeByte(0),x.writeByte(0),x.writeByte(0),x.writeByte(0),x.writeByte(0),x.writeByte(255),x.writeByte(255),x.writeByte(255),x.writeString(","),x.writeShort(0),x.writeShort(0),x.writeShort(Y),x.writeShort(ne),x.writeByte(0);var A=2,B=T(A);x.writeByte(A);for(var N=0;B.length-N>255;)x.writeByte(255),x.writeBytes(B,N,255),N+=255;x.writeByte(B.length-N),x.writeBytes(B,N,B.length-N),x.writeByte(0),x.writeString(";")};var G=function(x){var A=x,B=0,N=0,q={};return q.write=function(K,P){if(K>>>P)throw"length over";for(;B+P>=8;)A.writeByte(255&(K<<B|N)),P-=8-B,K>>>=8-B,N=0,B=0;N=K<<B|N,B=B+P},q.flush=function(){B>0&&A.writeByte(N)},q},T=function(x){for(var A=1<<x,B=(1<<x)+1,N=x+1,q=D(),K=0;K<A;K+=1)q.add(String.fromCharCode(K));q.add(String.fromCharCode(A)),q.add(String.fromCharCode(B));var P=I(),k=G(P);k.write(A,N);var M=0,W=String.fromCharCode(re[M]);for(M+=1;M<re.length;){var ce=String.fromCharCode(re[M]);M+=1,q.contains(W+ce)?W=W+ce:(k.write(q.indexOf(W),N),q.size()<4095&&(q.size()==1<<N&&(N+=1),q.add(W+ce)),W=ce)}return k.write(q.indexOf(W),N),k.write(B,N),k.flush(),P.toByteArray()},D=function(){var x={},A=0,B={};return B.add=function(N){if(B.contains(N))throw"dup key:"+N;x[N]=A,A+=1},B.size=function(){return A},B.indexOf=function(N){return x[N]},B.contains=function(N){return typeof x[N]<"u"},B};return se},F=function(X,z,Y){for(var ne=j(X,z),re=0;re<z;re+=1)for(var se=0;se<X;se+=1)ne.setPixel(se,re,Y(se,re));var G=I();ne.write(G);for(var T=U(),D=G.toByteArray(),x=0;x<D.length;x+=1)T.writeByte(D[x]);return T.flush(),"data:image/gif;base64,"+T};return g}();(function(){d.stringToBytesFuncs["UTF-8"]=function(g){function _(v){for(var y=[],m=0;m<v.length;m++){var w=v.charCodeAt(m);w<128?y.push(w):w<2048?y.push(192|w>>6,128|w&63):w<55296||w>=57344?y.push(224|w>>12,128|w>>6&63,128|w&63):(m++,w=65536+((w&1023)<<10|v.charCodeAt(m)&1023),y.push(240|w>>18,128|w>>12&63,128|w>>6&63,128|w&63))}return y}return _(g)}})(),function(g){f.exports=g()}(function(){return d})})(qrcode$1);const qrcode=qrcode$1.exports;var _tmpl$$6=template$1("<div>");const QRCode=f=>{let r,d,g;createSignal(!1);const[_,v]=createSignal(picSizeDefault);return createEffect(()=>{const w=qrcode(0,"M");if(w.addData(f.sourceUrl),w.make(),r){const C=w.getModuleCount(),b=C*5,S=useTheme().theme==THEME.DARK?"white":"black",R=(X,z)=>X<7&&z<7||X<7&&z>=C-7||X>=C-7&&z<7,O=C*5,$=Math.round(qrNormalSize/O*1e5)/1e5,I=X=>{const z=Math.ceil(imgSizeDefault/(X*5)),Y=Math.ceil((C-z)/2);return{sizeCells:z,offsetCells:Y}},U=(X,z)=>{const{sizeCells:Y}=I($),ne=Math.floor(C/2),se=(Y+3)/2;return Math.sqrt(Math.pow(X-ne,2)+Math.pow(z-ne,2))<=se};let L=`<svg width="${b}" height="${b}" viewBox="0 0 ${b} ${b}" fill="none" xmlns="http://www.w3.org/2000/svg">`;const j=(X,z)=>{L+=`<rect 
            x="${z*5}" 
            y="${X*5}" 
            width="35" 
            height="5" 
            fill="${S}"
            rx="4"
        />`,L+=`<rect 
            x="${z*5}" 
            y="${(X+6)*5}" 
            width="35" 
            height="5" 
            fill="${S}"
            rx="4"
        />`,L+=`<rect 
            x="${z*5}" 
            y="${X*5}" 
            width="5" 
            height="35" 
            fill="${S}"
            rx="4"
        />`,L+=`<rect 
            x="${(z+6)*5}" 
            y="${X*5}" 
            width="5" 
            height="35" 
            fill="${S}"
            rx="4"
        />`,L+=`<rect 
            x="${(z+2)*5}" 
            y="${(X+2)*5}" 
            width="${5*3}" 
            height="${5*3}" 
            rx="4"
            fill="${S}"
        />`};j(0,0),j(0,C-7),j(C-7,0);const F=(X,z)=>`<rect 
        x="${X+.375}" 
        y="${z+.375}" 
        width="${4.25}" 
        height="${4.25}" 
        rx="${1.4166666666666667}"
        fill="${S}"
    />`;for(let X=0;X<C;X++)for(let z=0;z<C;z++)w.isDark(X,z)&&!R(X,z)&&!U(X,z)&&(L+=F(z*5,X*5));if(L+="</svg>",r.innerHTML=L,g){const{sizeCells:X,offsetCells:z}=I($),Y=X*5,ne=z*5;g.style.top=toPx(ne),g.style.left=toPx(ne),g.style.height=toPx(Y),g.style.width=toPx(Y),g.style.borderRadius=toPx(1e6),v(Math.round(picSizeDefault/$))}d&&(d.style.transform=`scale(${$})`)}}),createComponent(QrCodeBackground,{get class(){return f.class},get children(){return[createComponent(QrCodeWrapper$2,{ref(y){var m=d;typeof m=="function"?m(y):d=y},get children(){return[(()=>{var y=_tmpl$$6(),m=r;return typeof m=="function"?use(m,y):r=y,y})(),createComponent(Show,{get when(){return f.imageUrl},get children(){return createComponent(ImageBackground,{ref(y){var m=g;typeof m=="function"?m(y):g=y},get children(){return createComponent(ImageStyled$3,{get src(){return f.imageUrl},alt:"",get size(){return _()}})}})}})]}}),createComponent(Transition,{onBeforeEnter:y=>{animate(y,[{opacity:0,transform:"translate(-50%, 44px)"},{opacity:1,transform:"translate(-50%, 0)"}],{duration:150,easing:"ease-out"})},onExit:(y,m)=>{animate(y,[{opacity:1,transform:"translate(-50%, 0)"},{opacity:0,transform:"translate(-50%, 44px)"}],{duration:150,easing:"ease-out"}).finished.then(()=>{m()})}})]}})};function deepReadObject(f,r,d){const g=f[r]||r.trim().split(".").reduce((_,v)=>_?_[v]:void 0,f);return g!==void 0?g:d}var template=(f,r,d=/{{([^{}]+)}}/g)=>f.replace(d,(g,_)=>deepReadObject(r,_,"")),createI18nContext=(f={},r=typeof navigator<"u"&&navigator.language in f?navigator.language:(d=>(d=Object.keys(f)[0])!=null?d:"")())=>{const[d,g]=createSignal(r),[_,v]=createStore(f);return[(w,C,b)=>{const E=deepReadObject(_[d()],w,b||"");return typeof E=="function"?E(C):typeof E=="string"?template(E,C||{}):E},{add(w,C){v(w,b=>Object.assign(b||{},C))},locale:w=>w?g(w):d(),dict:w=>deepReadObject(_,w)}]},I18nContext=createContext({}),useI18n=()=>useContext(I18nContext);const TextStyled$2=styled.div`
    font-style: normal;
    font-weight: ${f=>f.fontWeight};
    font-size: ${f=>f.fontSize};
    line-height: ${f=>f.lineHeight};

    color: ${f=>f.color};
`,Text=f=>{const r=useTheme(),[d]=useI18n();let g;const _=()=>f.color||r.colors.text.primary,v=mergeProps({fontSize:"14px",fontWeight:"510",lineHeight:"130%"},f);return createEffect(()=>{g&&v.cursor!=="unset"&&getComputedStyle(g).cursor!=="pointer"&&(g.style.cursor="default")}),createComponent(TextStyled$2,{get fontSize(){return v.fontSize},get fontWeight(){return v.fontWeight},get lineHeight(){return v.lineHeight},get color(){return _()},get class(){return v.class},ref(y){var m=g;typeof m=="function"?m(y):g=y},"data-tc-text":"true",get children(){var y;return createMemo(()=>!!v.translationKey)()?d(v.translationKey,v.translationValues,(y=v.children)==null?void 0:y.toString()):v.children}})},ImageContainer=styled.div`
    position: relative;

    &::after {
        content: '';
        display: block;
        position: absolute;
        top: 0;
        bottom: 0;
        left: 0;
        right: 0;
        border: 0.5px solid rgba(0, 0, 0, 0.08);

        border-radius: inherit;
    }
`,ImageStyled$2=styled(Image)`
    width: 100%;
    height: 100%;
    border-radius: inherit;
`,WalletImage=f=>createComponent(ImageContainer,{get class(){return f.class},get children(){return createComponent(ImageStyled$2,{get src(){return f.src}})}}),borders={m:"16px",s:"12px",none:"0"},badgeBorders={m:"6px",s:"6px",none:"0"};styled.button`
    position: relative;
    cursor: pointer;
    border: none;
    background-color: unset;
    padding: 8px 4px;
    width: 92px;
    display: flex;
    flex-direction: column;
    align-items: center;

    transition: transform 0.125s ease-in-out;

    ${mediaNotTouch} {
        &:hover {
            transform: scale(1.04);
        }
    }

    &:active {
        transform: scale(0.96);
    }

    ${media("mobile")} {
        padding: 8px 4px;
        width: 82px;
    }

    ${mediaTouch} {
        &:active {
            transform: scale(0.92);
        }
    }
`;styled(WalletImage)`
    width: 60px;
    height: 60px;
    border-radius: ${f=>borders[f.theme.borderRadius]};

    margin-bottom: 8px;
`;styled(Image)`
    position: absolute;
    right: 10px;
    top: 50px;
    width: 24px;
    height: 24px;
    border-radius: ${f=>badgeBorders[f.theme.borderRadius]};
    box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.08);
`;styled(Text)`
    max-width: 90px;
    font-weight: 510;
    white-space: nowrap;
    text-overflow: ellipsis;
    overflow: hidden;

    ${media("mobile")} {
        max-width: 80px;
    }
`;styled(Text)`
    font-weight: ${f=>f.colorPrimary?"510":"400"};
    max-width: 90px;
    white-space: nowrap;
    text-overflow: ellipsis;
    overflow: hidden;
    color: ${f=>f.colorPrimary?f.theme.colors.text.primary:f.theme.colors.text.secondary};

    ${media("mobile")} {
        max-width: 80px;
    }
`;const H1Styled$2=styled.h1`
    font-style: normal;
    font-weight: 590;
    font-size: 20px;
    line-height: 28px;

    text-align: center;

    color: ${f=>f.theme.colors.text.primary};

    margin-top: 0;
    margin-bottom: 0;

    cursor: default;
`,H1=f=>{const[r]=useI18n();return createComponent(H1Styled$2,{get class(){return f.class},"data-tc-h1":"true",get children(){var d;return createMemo(()=>!!f.translationKey)()?r(f.translationKey,f.translationValues,(d=f.children)==null?void 0:d.toString()):f.children}})},H2Styled$2=styled.h2`
    font-style: normal;
    font-weight: 400;
    font-size: 16px;
    line-height: 22px;

    text-align: center;

    color: ${f=>f.theme.colors.text.secondary};

    margin-top: 0;
    margin-bottom: 32px;

    cursor: default;
`,H2=f=>{const[r]=useI18n();return createComponent(H2Styled$2,{get class(){return f.class},"data-tc-h2":"true",get children(){var d;return createMemo(()=>!!f.translationKey)()?r(f.translationKey,f.translationValues,(d=f.children)==null?void 0:d.toString()):f.children}})},H3Styled=styled.h3`
    font-style: normal;
    font-weight: 510;
    font-size: 16px;
    line-height: 20px;

    color: ${f=>f.theme.colors.text.primary};

    margin-top: 0;
    margin-bottom: 0;

    cursor: default;
`,H3=f=>{const[r]=useI18n();return createComponent(H3Styled,{"data-tc-h3":"true",get class(){return f.class},get children(){var d;return createMemo(()=>!!f.translationKey)()?r(f.translationKey,f.translationValues,(d=f.children)==null?void 0:d.toString()):f.children}})},containerBorders={m:"16px",s:"12px",none:"0"},walletBorders={m:"6px",s:"6px",none:"0"};styled.div`
    width: 60px;
    height: 60px;
    padding: 8px;
    margin-bottom: 8px;
    border-radius: ${f=>containerBorders[f.theme.borderRadius]};
    background-color: ${f=>f.theme.colors.background.tint};
    display: grid;
    grid-template: 1fr 1fr / 1fr 1fr;
    gap: 4px;
`;styled(WalletImage)`
    width: 20px;
    height: 20px;
    border-radius: ${f=>walletBorders[f.theme.borderRadius]};
`;const AStyled=styled.a`
    display: block;
    text-decoration: unset;
`,Link=f=>createComponent(AStyled,mergeProps({get href(){return f.href},get target(){return f.blank?"_blank":"_self"},get class(){return f.class},get onClick(){return f.onClick}},()=>f.blank?{rel:"noreferrer noopener"}:{},{get children(){return f.children}}));var _tmpl$$5=template$1('<svg width=24 height=24 viewBox="0 0 24 24"fill=none xmlns=http://www.w3.org/2000/svg><path fill-rule=evenodd clip-rule=evenodd d="M7.76228 2.09998H10.2378C11.0458 2.09997 11.7067 2.09996 12.2438 2.14384C12.7997 2.18926 13.3017 2.28614 13.7706 2.52505C14.5045 2.89896 15.1011 3.49558 15.475 4.22941C15.7139 4.6983 15.8108 5.20038 15.8562 5.75629C15.9001 6.29337 15.9001 6.95422 15.9001 7.76227V8.1H16.2377C17.0457 8.09999 17.7066 8.09998 18.2437 8.14386C18.7996 8.18928 19.3017 8.28616 19.7705 8.52507C20.5044 8.89898 21.101 9.4956 21.4749 10.2294C21.7138 10.6983 21.8107 11.2004 21.8561 11.7563C21.9 12.2934 21.9 12.9542 21.9 13.7623V16.2377C21.9 17.0458 21.9 17.7066 21.8561 18.2437C21.8107 18.7996 21.7138 19.3017 21.4749 19.7706C21.101 20.5044 20.5044 21.101 19.7705 21.4749C19.3017 21.7138 18.7996 21.8107 18.2437 21.8561C17.7066 21.9 17.0458 21.9 16.2378 21.9H13.7623C12.9543 21.9 12.2934 21.9 11.7563 21.8561C11.2004 21.8107 10.6983 21.7138 10.2294 21.4749C9.49561 21.101 8.89898 20.5044 8.52508 19.7706C8.28616 19.3017 8.18928 18.7996 8.14386 18.2437C8.09998 17.7066 8.09999 17.0458 8.1 16.2377V15.9H7.76227C6.95426 15.9 6.29335 15.9 5.75629 15.8561C5.20038 15.8107 4.6983 15.7138 4.22941 15.4749C3.49558 15.101 2.89896 14.5044 2.52505 13.7705C2.28614 13.3017 2.18926 12.7996 2.14384 12.2437C2.09996 11.7066 2.09997 11.0458 2.09998 10.2377V7.76228C2.09997 6.95424 2.09996 6.29336 2.14384 5.75629C2.18926 5.20038 2.28614 4.6983 2.52505 4.22941C2.89896 3.49558 3.49558 2.89896 4.22941 2.52505C4.6983 2.28614 5.20038 2.18926 5.75629 2.14384C6.29336 2.09996 6.95425 2.09997 7.76228 2.09998ZM8.1 14.1V13.7623C8.09999 12.9542 8.09998 12.2934 8.14386 11.7563C8.18928 11.2004 8.28616 10.6983 8.52508 10.2294C8.89898 9.4956 9.49561 8.89898 10.2294 8.52507C10.6983 8.28616 11.2004 8.18928 11.7563 8.14386C12.2934 8.09998 12.9542 8.09999 13.7623 8.1H14.1001V7.79998C14.1001 6.94505 14.0994 6.35798 14.0622 5.90287C14.0259 5.45827 13.9593 5.21944 13.8712 5.0466C13.6699 4.65146 13.3486 4.3302 12.9535 4.12886C12.7806 4.04079 12.5418 3.97419 12.0972 3.93786C11.6421 3.90068 11.055 3.89998 10.2001 3.89998H7.79998C6.94505 3.89998 6.35798 3.90068 5.90287 3.93786C5.45827 3.97419 5.21944 4.04079 5.0466 4.12886C4.65146 4.3302 4.3302 4.65146 4.12886 5.0466C4.04079 5.21944 3.97419 5.45827 3.93786 5.90287C3.90068 6.35798 3.89998 6.94505 3.89998 7.79998V10.2C3.89998 11.0549 3.90068 11.642 3.93786 12.0971C3.97419 12.5417 4.04079 12.7805 4.12886 12.9534C4.3302 13.3485 4.65146 13.6698 5.0466 13.8711C5.21944 13.9592 5.45827 14.0258 5.90287 14.0621C6.35798 14.0993 6.94505 14.1 7.79998 14.1H8.1ZM11.0466 10.1289C11.2195 10.0408 11.4583 9.97421 11.9029 9.93788C12.358 9.9007 12.9451 9.9 13.8 9.9H16.2C17.0549 9.9 17.642 9.9007 18.0971 9.93788C18.5417 9.97421 18.7805 10.0408 18.9534 10.1289C19.3485 10.3302 19.6698 10.6515 19.8711 11.0466C19.9592 11.2195 20.0258 11.4583 20.0621 11.9029C20.0993 12.358 20.1 12.9451 20.1 13.8V16.2C20.1 17.0549 20.0993 17.642 20.0621 18.0971C20.0258 18.5417 19.9592 18.7805 19.8711 18.9534C19.6698 19.3485 19.3485 19.6698 18.9534 19.8711C18.7805 19.9592 18.5417 20.0258 18.0971 20.0621C17.642 20.0993 17.0549 20.1 16.2 20.1H13.8C12.9451 20.1 12.358 20.0993 11.9029 20.0621C11.4583 20.0258 11.2195 19.9592 11.0466 19.8711C10.6515 19.6698 10.3302 19.3485 10.1289 18.9534C10.0408 18.7805 9.97421 18.5417 9.93788 18.0971C9.9007 17.642 9.9 17.0549 9.9 16.2V13.8C9.9 12.9451 9.9007 12.358 9.93788 11.9029C9.97421 11.4583 10.0408 11.2195 10.1289 11.0466C10.3302 10.6515 10.6515 10.3302 11.0466 10.1289Z">');const CopyIcon=f=>{const r=useTheme(),d=()=>f.fill||r.colors.icon.primary;return(()=>{var g=_tmpl$$5(),_=g.firstChild;return createRenderEffect(v=>{var y=f.class,m=d();return y!==v.e&&setAttribute(g,"class",v.e=y),m!==v.t&&setAttribute(_,"fill",v.t=m),v},{e:void 0,t:void 0}),g})()};var _tmpl$$4=template$1('<svg width=24 height=24 viewBox="0 0 24 24"fill=none xmlns=http://www.w3.org/2000/svg><path d="M8.7624 3.10001C7.95435 3.1 7.29349 3.09999 6.75642 3.14387C6.2005 3.18929 5.69842 3.28617 5.22954 3.52508C4.4957 3.89899 3.89908 4.49561 3.52517 5.22944C3.28626 5.69833 3.18938 6.20041 3.14396 6.75632C3.10008 7.2934 3.10009 7.95424 3.1001 8.76229V15.2377C3.10009 16.0458 3.10008 16.7066 3.14396 17.2437C3.18938 17.7996 3.28626 18.3017 3.52517 18.7706C3.89908 19.5044 4.4957 20.101 5.22954 20.4749C5.69842 20.7138 6.2005 20.8107 6.75642 20.8561C7.29349 20.9 7.95434 20.9 8.76239 20.9H12.0001C12.4972 20.9 12.9001 20.4971 12.9001 20C12.9001 19.503 12.4972 19.1 12.0001 19.1H8.8001C7.94517 19.1 7.3581 19.0993 6.90299 19.0621C6.45839 19.0258 6.21956 18.9592 6.04672 18.8711C5.65158 18.6698 5.33032 18.3485 5.12898 17.9534C5.04092 17.7805 4.97431 17.5417 4.93798 17.0971C4.9008 16.642 4.9001 16.0549 4.9001 15.2V8.80001C4.9001 7.94508 4.9008 7.35801 4.93798 6.9029C4.97431 6.4583 5.04092 6.21947 5.12898 6.04663C5.33032 5.65149 5.65158 5.33023 6.04672 5.12889C6.21956 5.04082 6.45839 4.97422 6.90299 4.93789C7.3581 4.90071 7.94517 4.90001 8.8001 4.90001H12.0001C12.4972 4.90001 12.9001 4.49706 12.9001 4.00001C12.9001 3.50295 12.4972 3.10001 12.0001 3.10001H8.7624Z"></path><path d="M17.6364 7.3636C17.2849 7.01212 16.7151 7.01212 16.3636 7.3636C16.0121 7.71507 16.0121 8.28492 16.3636 8.63639L18.8272 11.1H9.00001C8.50295 11.1 8.10001 11.5029 8.10001 12C8.10001 12.497 8.50295 12.9 9.00001 12.9H18.8272L16.3636 15.3636C16.0121 15.7151 16.0121 16.2849 16.3636 16.6364C16.7151 16.9879 17.2849 16.9879 17.6364 16.6364L21.6364 12.6364C21.9879 12.2849 21.9879 11.7151 21.6364 11.3636L17.6364 7.3636Z">');const DisconnectIcon=f=>{const r=useTheme(),d=()=>f.fill||r.colors.icon.primary;return(()=>{var g=_tmpl$$4(),_=g.firstChild,v=_.nextSibling;return createRenderEffect(y=>{var m=d(),w=d();return m!==y.e&&setAttribute(_,"fill",y.e=m),w!==y.t&&setAttribute(v,"fill",y.t=w),y},{e:void 0,t:void 0}),g})()};function copyToClipboard(f){return __async(this,null,function*(){try{if(!(navigator!=null&&navigator.clipboard))throw new OKXConnectUiError("Clipboard API not available");return yield navigator.clipboard.writeText(f)}catch{}fallbackCopyTextToClipboard(f)})}function fallbackCopyTextToClipboard(f){const r=document.createElement("textarea");r.value=f,r.style.top="0",r.style.left="0",r.style.position="fixed",document.body.appendChild(r),r.focus(),r.select();try{document.execCommand("copy")}finally{document.body.removeChild(r)}}const hoverBorders={m:"8px",s:"4px",none:"0"},dropdownBorders={m:"16px",s:"8px",none:"0"},AccountButtonDropdownStyled=styled.div`
    width: 256px;
    box-shadow: 0 4px 24px rgba(0, 0, 0, 0.16);
    border-radius: ${f=>dropdownBorders[f.theme.borderRadius]};

    background-color: ${f=>f.theme.colors.background.primary}
           
    color: ${f=>f.theme.colors.text.primary}
`,UlStyled=styled.ul`
    background-color: ${f=>f.theme.colors.background.primary};
    padding: 8px;
`,MenuButtonStyled=styled.button`
    display: flex;
    align-items: center;
    gap: 8px;
    height: 40px;
    padding-left: 8px;
    width: 100%;

    background-color: ${f=>f.theme.colors.background.primary};
    border: none;
    border-radius: ${f=>hoverBorders[f.theme.borderRadius]};
    cursor: pointer;

    transition: background-color, transform 0.1s ease-in-out;

    &:hover {
        background-color: ${f=>f.theme.colors.background.secondary};
    }

    &:active {
        transform: scale(0.96);
    }
`,OKXConnectUiContext=createContext();var _tmpl$$3=template$1("<li>");const MenuItemText=f=>createComponent(Text,{get translationKey(){return f.translationKey},fontSize:"15px",fontWeight:"590",get children(){return f.children}}),AccountButtonDropdown=f=>{const r=useContext(OKXConnectUiContext),[d,g]=createSignal(!1),_=()=>__async(void 0,null,function*(){const y=src$2.toUserFriendlyAddress(r.account.address);yield copyToClipboard(y),g(!0),setTimeout(()=>g(!1),1e3)}),v=()=>{r.disconnect(),f.onClose()};return createComponent(AccountButtonDropdownStyled,{ref(y){var m=f.ref;typeof m=="function"?m(y):f.ref=y},get class(){return f.class},"data-tc-dropdown":"true",get children(){return createComponent(UlStyled,{get children(){return[(()=>{var y=_tmpl$$3();return insert(y,createComponent(MenuButtonStyled,{onClick:()=>_(),get children(){return[createComponent(CopyIcon,{}),createComponent(Show,{get when(){return!d()},get children(){return createComponent(MenuItemText,{translationKey:"button.dropdown.copy",children:"Copy address"})}}),createComponent(Show,{get when(){return d()},get children(){return createComponent(MenuItemText,{translationKey:"button.dropdown.copied",children:"Address copied!"})}})]}})),y})(),(()=>{var y=_tmpl$$3();return insert(y,createComponent(MenuButtonStyled,{onClick:()=>v(),get children(){return[createComponent(DisconnectIcon,{}),createComponent(MenuItemText,{translationKey:"button.dropdown.disconnect",children:"Disconnect"})]}})),y})()]}})}})},AccountButtonStyled=styled(Button)`
    background-color: ${f=>f.theme.colors.connectButton.background};
    color: ${f=>f.theme.colors.connectButton.foreground};
    box-shadow: ${f=>`0 4px 24px ${rgba(f.theme.colors.constant.black,.16)}`};
    padding: 8px 16px 8px 12px;

    display: flex;
    align-items: center;
    gap: 4px;
    height: 40px;
`;styled(AccountButtonStyled)`
    padding: 12px 16px;
    min-width: 148px;
    justify-content: center;
    background-color: ${f=>f.theme.colors.background.primary};
`;styled(Button)`
    min-width: 148px;
    height: 40px;

    background-color: ${f=>f.theme.colors.background.primary};
    color: ${f=>f.theme.colors.connectButton.foreground};
    box-shadow: ${f=>`0 4px 24px ${rgba(f.theme.colors.constant.black,.16)}`};

    display: flex;
    align-items: center;
    justify-content: center;
`;styled(LoaderIcon)`
    height: 18px;
    width: 18px;
`;styled.div`
    width: fit-content;
    display: flex;
    flex-direction: column;
    align-items: flex-end;
`;styled(AccountButtonDropdown)`
    box-sizing: border-box;
    overflow: hidden;
    margin-top: 12px;
`;const UniversalConnectorContext=createContext(),StyledModal=styled(Modal)`
  padding-left: 0;
  padding-right: 0;
  padding-top: 0;

  ${media("mobile")} {
    padding-left: 0;
    padding-right: 0;
    min-height: 364px;
  }
`,H1Styled$1=styled(H1)`
  padding: 12px 24px;
  text-align: left;
`,MobileConnectionModalStyled$1=styled.div``,BodyStyled$1=styled.div`
  flex: 1;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  min-height: ${f=>f.isDeclined?"200px":"325px"};;
  gap: 24px;
`,StyledIconButton=styled(IconButton)`
  position: absolute;
  top: 12px;
  left: 16px;
`,H2Styled$1=styled(H2)`
  margin-bottom: 0;
  padding: 16px 24px 24px 24px;
  min-height: 44px;
  font-color: ${f=>f.theme.colors.text.contrast};
`,QrCodeWrapper$1=styled.div`
  margin-top: 24px;
  margin-left: 24px;
  margin-right: 24px;
  display: flex;
  justify-content: center;
`,LoaderWrapper$1=styled.div`
  display: flex;
  justify-content: center;
  align-items: center;
`;function addReturnStrategy(f,r){let d;d=r;const g=addQueryParameter(f,"ret",d);if(!src$6.isTelegramUrl(f))return g;const _=g.slice(g.lastIndexOf("&")+1);return g.slice(0,g.lastIndexOf("&"))+"-"+src$6.encodeTelegramUrlParameters(_)}function addQueryParameter(f,r,d){const g=new URL(f);return g.searchParams.append(r,d),g.toString()}const imageUrl$1="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAACXBIWXMAACE4AAAhOAFFljFgAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAleSURBVHgB7V27chNJFG3LPGweLhkDZV7l2S9Yk5FhZ2TY4UaGbDPwFxhHSwZkZLa/wHZGJpGx0Wq/YIcqMK7iJYN5G7TnNH1Fe/TW9IzGUp+qUc+MJXl0T/e5/bw9pDKKIAjye3t705VKZRqXU0gD3saRHxoayuM6b78f98q4V0YaSorbT5GWDh06VArDsKwyiCGVEdDg3759m8PpVRhwRv00tkuUSAbSx4cPHy6CkFBlAD0lwBj9Bk6vG6NXgWv1/ft3hb/r48ePHzrlfZ7zsJHL5fQxPDxcTXnA2OrIkSM1/xtkFJGs9ZqMnhBw8eLFGRhyyTY6DUsDf/78WX358kWfu8TRo0c1GSMjI/UI2cCxtrW1taFSRmoESG6HoW8pIy9i9A8fPmijR3N1UmAJISGjo6OaEAshSsby8+fPV1VKSIUA5PhbMPYdcZyUlo8fP2rDp2X0RqBMkYyTJ0/qc4PUiEiUAEoNDLyiTI7/+vWrev/+vc7tWcSxY8dSJyIRAiA3AYx9D6es1egcXy6XM2v4KKJEgIRV+I/lJJz1sHKMCxcuLCDX05mxDq92d3fVmzdvNAkHBeKX+PzGYU/j+efGxsZ2UIJLyiGcEUAne/z48b/w0HdxOUK5ef36ta7VHFTwN3z69Ek7bZQA+i+SkJ+YmPgbJdrJD3MiQUZyCjxlrnn37p3OQf2EEydOaFmCHPEyRMmYdSFJsQmA5LCroMAaDmXm1atXB0puOgF9wunTp8U30EHPw0HHkqRYEkS9h+Ef4XSEUkOt73W1MkmwdFOS0LfEg5L0JyQphF/4V3WJrgkwdfuHPGfVcmdnRz9gv0NIINh+AOYgTzuobDxRXaArAmh85PT7PKfxeQwa6KAJkgAputYtCR0TYGSnmvMH0fiCKAndyFFHTpgOF8b/h+eDbnwbrB3xIEDE5U4cc67dN7KqCeOv89wbfz9se8BGBdqq3c+2RQAbWVLPZ23HG78WtIlpdGpb0WbtfK4tAtA0X0ISSJ+OR33QNqYNFBibtURLJwzdZx/+XVa/Xr582df1/LigjVgK0CXDyyvtOOWmJcDovmaS3QvttnDX19f1w8Q5+B2ukObz0EaWP7jfyh80rQUh96/gS25w8KQT6XHVIDP9LrHRi+dhl4XpSd3AUOd8o/c1LAFGenh4p9sF3r59K8TPcWCq0fsaEtCN9Hj8Am3GsRDCjArWRV0CmPuVqfX0W7dymqBySK3o3Llzt+u9py4Bkvu99MSH+E74j6V6bYMaAuzcT+frEQ8cBzd9Rnmc34j+vYYAn/vdQ2yJUnAr+rd9BFy6dImzGHzudwyWAvEF0RrRPgKQ+xeY+tzvHpKhRWEEVQLYYkN1Sc/jOSjzdw4SZJoL58PazrhKADqPZpiyL8PX+91DZncTtjO2JUjLj9f+5CBtqlwud13uaQJMp9sMz2WYzcM9KO1RGdIEiPzQ+L67OTnYMmRWA1Ul6CpfZLqFR3KQqZooBdrmQgBnt6m9vT3lkSwsiZ/hS45aZFYiOqt+bmzEX+nj4jtcfper5yEBpps60H6ALbPz589XMIDAu5k6VlY4HhQPhUIhc7/r7NmzFdqcth9C59ttPOc9VpE4vTBLyNrImivk83m9CAS/b5E+IOBNr//pQWyN9kCQQ+6Y4oVv/aYHqeqjBAS5ilm56Kq4e7SGpTZTJCCI3PRIGJba5ClBvgSkDMvW+aoE+S6I9GDZOt/27GiPZOAJ6DE8AT0GnbCeuMLFyB7pwLJ1mU5YE5C15no/w7J12ZeAHoDrjAnGtcuZ4HY6mpRHOpDMDvXZoQQ95YWXoPRghcEJSUXIC18C0oMQgAaZliC9pjWLBKytram4KBaLKmsQW4OIkl6CytGZyclJZyM+6+vrlbjgd/Tr89DePGh7Lfy4+A9JwFWQLsJFVvwasYZgWIOJiQmelra2ti5L3fMxX+oFOPVwC0vqtfRrAkwUWR1H0yNZSJxS2Fxnek0AWNFzLthA8A2y5EDbispgUKao7/GFkcVZCuw3eLiHCfCkFWd7ezvkuZ3dN/nC4HQeyYBTUQyq9esqAZChVaZehpIB7SolQOSHqFraliETbMLDISxp3xT5IfZldcZJZmoVFQ9HkIhawKp9fx8Bz549KyIJJaK4hxswQ0us0egeBTVij1LwgKnFmEdMWPHklqN/qyGAzpiDNNQsXwriw8799cLg1xBgdhvSTHEWr0c8NMv9+n6jD0oHXTcREn1n3E+wTTU2NsZTav9v9d7TsMKP6uhNpqySyhimR/ugzVrlfqIhAaZGtMF2gZeizmGFul9ttgVK0yYvhswWxSF30jgb9DVilB7TsxzChsvN3ttS1EzsuBVOKOXeAH4ae3NQes6cOaNzP46brTYAahk3lHumwJGM48uusC+ba4krfip7XVCuGS2RKdtTMP7dlp9RbQBtgzvKtJC9P2gM2kbq/MZmLdEWAWwbQIJm6Q9YCnwruRa0iRntou7Ptrt7a9v9zqYHb1b+mSfhFyLh6+ft3s5W6GgDB/iDbfgDzqSbk26KQY+uEjE+ne6jTj7f8Q4axilzRfe1QSfBNj4qJoto7T5UHaKrPWRAwpNBJyFq/BcvXtxXXaDrXZQMCVU54nwXCUjUz2AVc3x8vNowpex0k/MFTjZyq/zc2kSHu+T2hf3aWGMji7PaWNU06ypm427k5qS7cXJyMkDOKOCUkRd172m/b2XIqmYntZ1GcLKZ5+7ubhk5Yw0PNSotZuYWloSDvv6Yv+PUqVN6YMV0LzxA39gf6KzcVg7gfFWG6TtaUn1QGpjjmfON4Sk5i643d3a+nzCrqXBQm3hg9h9NszSY2DhOZl6nAVYq2KfDZzeSs4HMNI+aTlE5RqLrkuzSwGvZXyWrsUllb3lrDk/IgSkzNpIIUlkY1ogIth16XWOSiWjW4LmWG/bjd1u37wSprsyLEkEwjCNLRJoxS2USMvWd7RdrrJd7BD/gzJB2O9PioidLIxkmH6VgAadz9n2SQELoK1wHEKehKTHU9YjR9WxljtsmKTWN0NO1qWw/oNjP4HShYkIn2yAhJIOSRamiI+c5S0q0tDBXm4EQbWCzD7xsvlwzo8EsStlMM7fXQ2YWBwsZJALG+b1iYpk6RGiM/pgLUnppdBuZXZ3NFYTI9dOGCAYXn2J0L6SBSfcNzdFx4l7ZpDQ2+6mYllACSlkxeBT/A6Mt6rTZ7SrDAAAAAElFTkSuQmCC";var _tmpl$$1=template$1('<svg><path fill-rule=evenodd clip-rule=evenodd d="M96 51C96 75.8528 75.8528 96 51 96C26.1472 96 6 75.8528 6 51C6 26.1472 26.1472 6 51 6C75.8528 6 96 26.1472 96 51ZM102 51C102 79.1665 79.1665 102 51 102C22.8335 102 0 79.1665 0 51C0 22.8335 22.8335 0 51 0C79.1665 0 102 22.8335 102 51Z"fill-opacity=0.2></svg>',!1,!0),_tmpl$2=template$1('<svg><path fill-rule=evenodd clip-rule=evenodd d="M6 51H0C0 79.1665 22.8335 102 51 102V96C26.1472 96 6 75.8528 6 51Z"></svg>',!1,!0);const OKXLoaderIconWithLogo=f=>createComponent(LoaderContainerStyled$1,{get children(){return[createComponent(LoaderStyled,{}),createComponent(OKIconStyle,{src:imageUrl$1})]}}),OKXIconWithLogo=f=>createComponent(LoaderContainerStyled$1,{get children(){return createComponent(OKIconStyle,{src:imageUrl$1})}}),OKXLoaderIcon=f=>{const r=useTheme(),d=h`
      0% {
        transform: rotate(0deg);
      }
      100% {
        transform: rotate(360deg);
      }
    `,g=styled.svg`
    animation: ${d} 2s linear infinite;
    transform-origin: center;
  `;return createComponent(g,{xmlns:"http://www.w3.org/2000/svg",width:"102",height:"102",viewBox:"0 0 102 102",fill:"none",get children(){return[(()=>{var _=_tmpl$$1();return createRenderEffect(()=>setAttribute(_,"fill",r.colors.text.primary)),_})(),(()=>{var _=_tmpl$2();return createRenderEffect(()=>setAttribute(_,"fill",r.colors.text.primary)),_})()]}})},LoaderContainerStyled$1=styled.div`
  position: relative;
  height: 102px;
  width: 102px;
`,LoaderStyled=styled(OKXLoaderIcon)`
  height: 102px;
  width: 102px;
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
`,OKIconStyle=styled(Image)`
  position: absolute;
  width: 86px;
  height: 86px;
  border-radius: 44px;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
`,MobileConnectionQR=f=>[createComponent(H1Styled$1,{translationKey:"walletModal.mobileConnectionModal.OKXConnect"}),createComponent(QrCodeWrapper$1,{get children(){return[createComponent(Show,{get when(){return f.sessionConnecting()},get children(){return createComponent(LoaderWrapper$1,{get children(){return createComponent(OKXLoaderIconWithLogo,{})}})}}),createComponent(Show,{get when(){return createMemo(()=>f.universalLink!==null)()&&!f.sessionConnecting()},get children(){return createComponent(QRCode,{imageUrl:imageUrl$1,get sourceUrl(){return addReturnStrategy(f.universalLink,"none")},disableCopy:!0})}})]}}),createComponent(H2Styled$1,{translationKey:"walletModal.mobileConnectionModal.scanQR",get translationValues(){return{name:f.walletInfo.name}},get children(){return["Scan the QR code below with your phone’s or ",createMemo(()=>f.walletInfo.name),"’s camera"]}})];styled(H1)`
  padding: 12px 64px;
`;const H1StyledMaxWidth=styled(H1)`
  max-width: 262px;
`,H1StyledRetry$1=styled(H1StyledMaxWidth)`
  font-size: 14px;
  color: ${f=>f.theme.colors.text.primary};
`,RetryButtonStyle=styled(Button)`
  background-color: transparent;
  color: ${f=>f.theme.colors.text.primary};
  padding: 0px;
`,LoaderContainerStyled=styled.div`
  margin: 30px 0;
  width: 100%;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  gap: 16px;

  ${media("mobile")} {
    height: 160px;
    align-items: center;
  }
`,ErrorIconStyled=styled(ErrorIcon)`
  margin-bottom: 16px;
`,ButtonsContainerStyled$1=styled.div`
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  gap: 12px;
  width: 100%;
`,ButtonsQRContainerStyled=styled.div`
  background-color: ${f=>f.theme.colors.text.primary};
  height: 48px;
  width: calc(100% - 48px);
  justify-content: center;
  border-radius: 24px;
  display: flex;
  align-items: center;
  gap: 8px;
`;styled(Text)`
  max-width: 262px;
  font-weight: 400;
  font-size: 16px;
  line-height: 20px;
  text-align: center;
  margin-top: 10px;
  color: ${f=>f.theme.colors.text.contrast};
`;const ContainedButton=styled(Button)`
  height: 48px;
  width: 262px;
  border-radius: 999px;
  display: flex;
  justify-content: center;
  align-items: center;
  padding: 12px 24px;
`;styled(ContainedButton)`
  background-color: ${f=>f.theme.colors.text.primary};
`;styled(ContainedButton)`
  background-color: transparent;
  border-color: ${f=>f.theme.colors.border.secondary};
  border-width: 0.5px;
  border-style: solid;
`;const ContainedPrimaryButtonText$1=styled(H1StyledMaxWidth)`
  font-size: 14px;
  color: ${f=>f.theme.colors.background.primary};
`;styled(H1StyledMaxWidth)`
  font-size: 14px;
  color: ${f=>f.theme.colors.text.primary};
`;const FooterStyled=styled.div`
  padding-top: 16px;
  padding-left: 16px;
  padding-right: 16px;
  display: flex;
  align-items: center;
  gap: 12px;
  border-top: 0.5px solid
    ${f=>rgba(f.theme.colors.icon.secondary,.2)};
  margin-top: 24px;
`,ImageStyled$1=styled(Image)`
  width: 32px;
  height: 32px;
  border-radius: 16px;
`,FooterButton=styled(Link)`
  margin-left: auto;
  display: flex;
`,FooterButtonCenter=styled.div`
  display: flex;
  margin-top: 24px;
  gap: 8px;
  align-items: center;
  justify-content: center;
`,ImageOKX=styled(Image)`
  width: 27px;
  height: 21px;
  object-fit: contain;
`,LoadingModalPage=f=>createComponent(LoaderContainerStyled,{get children(){return[createComponent(OKXLoaderIconWithLogo,{}),createComponent(Show,{get when(){return f.loadingTextTranslationKey||f.loadingTextTranslationKey},get children(){return createComponent(H1StyledMaxWidth,{get translationKey(){return f.loadingTextTranslationKey},get children(){return f.loadingText}})}})]}}),Translation=f=>{const[r]=useI18n();return createMemo(()=>{var d;return r(f.translationKey,f.translationValues,(d=f.children)==null?void 0:d.toString())})};var _tmpl$=template$1('<svg width=40 height=12 viewBox="0 0 40 12"fill=none xmlns=http://www.w3.org/2000/svg><g clip-path=url(#clip0_4356_43883)><path d="M11.7336 0H0.269322C0.198282 0 0.130151 0.0282212 0.0799182 0.0784542C0.0296852 0.128687 0.00146484 0.196817 0.00146484 0.267857V11.7321C0.00146484 11.8032 0.0296852 11.8713 0.0799182 11.9215C0.130151 11.9718 0.198282 12 0.269322 12H11.7336C11.8046 12 11.8728 11.9718 11.923 11.9215C11.9732 11.8713 12.0015 11.8032 12.0015 11.7321V0.267857C12.0015 0.196817 11.9732 0.128687 11.923 0.0784542C11.8728 0.0282212 11.8046 0 11.7336 0ZM8.00129 7.73303C8.00129 7.80407 7.97307 7.87221 7.92283 7.92244C7.8726 7.97267 7.80447 8.00089 7.73343 8.00089H4.26736C4.19632 8.00089 4.12819 7.97267 4.07795 7.92244C4.02772 7.87221 3.9995 7.80407 3.9995 7.73303V4.26643C3.9995 4.19539 4.02772 4.12726 4.07795 4.07702C4.12819 4.02679 4.19632 3.99857 4.26736 3.99857H7.73343C7.80447 3.99857 7.8726 4.02679 7.92283 4.07702C7.97307 4.12726 8.00129 4.19539 8.00129 4.26643V7.73303Z"></path><path d="M35.7391 4.00018H32.2725C32.2015 4.00018 32.1333 4.0284 32.0831 4.07864C32.0329 4.12887 32.0046 4.197 32.0046 4.26804V7.73465C32.0046 7.80569 32.0329 7.87382 32.0831 7.92405C32.1333 7.97428 32.2015 8.0025 32.2725 8.0025H35.7391C35.8101 8.0025 35.8783 7.97428 35.9285 7.92405C35.9787 7.87382 36.007 7.80569 36.007 7.73465V4.26697C36.0067 4.19611 35.9783 4.12826 35.9281 4.07826C35.8779 4.02825 35.81 4.00018 35.7391 4.00018Z"></path><path d="M31.7379 0H28.2713C28.2002 0 28.1321 0.0282212 28.0819 0.0784542C28.0316 0.128687 28.0034 0.196817 28.0034 0.267857V3.73446C28.0034 3.8055 28.0316 3.87364 28.0819 3.92387C28.1321 3.9741 28.2002 4.00232 28.2713 4.00232H31.7379C31.8089 4.00232 31.8771 3.9741 31.9273 3.92387C31.9775 3.87364 32.0057 3.8055 32.0057 3.73446V0.267857C32.0057 0.196817 31.9775 0.128687 31.9273 0.0784542C31.8771 0.0282212 31.8089 0 31.7379 0Z"></path><path d="M39.7376 0H36.271C36.2 0 36.1319 0.0282212 36.0816 0.0784542C36.0314 0.128687 36.0032 0.196817 36.0032 0.267857V3.73446C36.0032 3.8055 36.0314 3.87364 36.0816 3.92387C36.1319 3.9741 36.2 4.00232 36.271 4.00232H39.7376C39.8087 4.00232 39.8768 3.9741 39.927 3.92387C39.9773 3.87364 40.0055 3.8055 40.0055 3.73446V0.267857C40.0055 0.232682 39.9986 0.19785 39.9851 0.165352C39.9716 0.132854 39.9519 0.103327 39.927 0.0784542C39.9022 0.0535813 39.8726 0.0338512 39.8401 0.0203901C39.8076 0.00692902 39.7728 0 39.7376 0Z"></path><path d="M31.7379 7.99982H28.2713C28.2002 7.99982 28.1321 8.02804 28.0819 8.07827C28.0316 8.1285 28.0034 8.19663 28.0034 8.26767V11.7321C28.0034 11.8032 28.0316 11.8713 28.0819 11.9215C28.1321 11.9718 28.2002 12 28.2713 12H31.7379C31.8089 12 31.8771 11.9718 31.9273 11.9215C31.9775 11.8713 32.0057 11.8032 32.0057 11.7321V8.2666C32.0055 8.19575 31.9771 8.12789 31.9269 8.07789C31.8767 8.02789 31.8087 7.99982 31.7379 7.99982Z"></path><path d="M39.7376 7.99982H36.271C36.2 7.99982 36.1319 8.02804 36.0816 8.07827C36.0314 8.1285 36.0032 8.19663 36.0032 8.26767V11.7321C36.0032 11.8032 36.0314 11.8713 36.0816 11.9215C36.1319 11.9718 36.2 12 36.271 12H39.7376C39.8087 12 39.8768 11.9718 39.927 11.9215C39.9773 11.8713 40.0055 11.8032 40.0055 11.7321V8.2666C40.0052 8.19575 39.9769 8.12789 39.9267 8.07789C39.8765 8.02789 39.8085 7.99982 39.7376 7.99982Z"></path><path d="M25.733 0H22.2664C22.1954 0 22.1272 0.0282212 22.077 0.0784542C22.0268 0.128687 21.9985 0.196817 21.9985 0.267857V3.73446C21.9985 3.8055 22.0268 3.87364 22.077 3.92387C22.1272 3.9741 22.1954 4.00232 22.2664 4.00232H25.733C25.804 4.00232 25.8722 3.9741 25.9224 3.92387C25.9726 3.87364 26.0009 3.8055 26.0009 3.73446V0.267857C26.0009 0.196817 25.9726 0.128687 25.9224 0.0784542C25.8722 0.0282212 25.804 0 25.733 0Z"></path><path d="M25.733 7.99982H22.2664C22.1954 7.99982 22.1272 8.02804 22.077 8.07827C22.0268 8.1285 21.9985 8.19663 21.9985 8.26767V11.7321C21.9985 11.8032 22.0268 11.8713 22.077 11.9215C22.1272 11.9718 22.1954 12 22.2664 12H25.733C25.804 12 25.8722 11.9718 25.9224 11.9215C25.9726 11.8713 26.0009 11.8032 26.0009 11.7321V8.2666C26.0006 8.19575 25.9722 8.12789 25.922 8.07789C25.8718 8.02789 25.8039 7.99982 25.733 7.99982Z"></path><path d="M21.9996 4.26375C21.9996 4.19271 21.9714 4.12458 21.9212 4.07435C21.8709 4.02411 21.8028 3.99589 21.7317 3.99589H17.9994V0.267857C17.9994 0.196817 17.9712 0.128687 17.921 0.0784542C17.8707 0.0282212 17.8026 0 17.7316 0H14.2687C14.1977 0 14.1295 0.0282212 14.0793 0.0784542C14.0291 0.128687 14.0009 0.196817 14.0009 0.267857V11.7273C14.0009 11.7984 14.0291 11.8665 14.0793 11.9167C14.1295 11.967 14.1977 11.9952 14.2687 11.9952H17.7353C17.8064 11.9952 17.8745 11.967 17.9247 11.9167C17.975 11.8665 18.0032 11.7984 18.0032 11.7273V7.99661H21.7366C21.8076 7.99661 21.8757 7.96839 21.926 7.91815C21.9762 7.86792 22.0044 7.79979 22.0044 7.72875L21.9996 4.26375Z"></path></g><defs><clipPath id=clip0_4356_43883><rect width=40.0039 height=12 fill=white>');const OKXLogo=f=>{const r=useTheme(),d=()=>f.fill||r.colors.disable;return(()=>{var g=_tmpl$(),_=g.firstChild,v=_.firstChild,y=v.nextSibling,m=y.nextSibling,w=m.nextSibling,C=w.nextSibling,b=C.nextSibling,E=b.nextSibling,S=E.nextSibling,R=S.nextSibling;return createRenderEffect(O=>{var $=d(),I=d(),U=d(),L=d(),j=d(),F=d(),X=d(),z=d(),Y=d();return $!==O.e&&setAttribute(v,"fill",O.e=$),I!==O.t&&setAttribute(y,"fill",O.t=I),U!==O.a&&setAttribute(m,"fill",O.a=U),L!==O.o&&setAttribute(w,"fill",O.o=L),j!==O.i&&setAttribute(C,"fill",O.i=j),F!==O.n&&setAttribute(b,"fill",O.n=F),X!==O.s&&setAttribute(E,"fill",O.s=X),z!==O.h&&setAttribute(S,"fill",O.h=z),Y!==O.r&&setAttribute(R,"fill",O.r=Y),O},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0}),g})()},ModalFooter=f=>{const r=useTheme(),d=()=>{src$6.reportEvent(src$6.OKXReportType.CLICK,src$6.Report_ChooseType_Download_Click,"")};return[createComponent(Show,{get when(){return!showInjectWallet()},get children(){return createComponent(FooterStyled,{get children(){return[createComponent(ImageStyled$1,{src:imageUrl$1}),createComponent(H3,{get children(){return f.wallet.name}}),createComponent(FooterButton,{href:src$6.downloadUrl,onClick:d,blank:!0,get children(){return[createComponent(Text,{get color(){return r.colors.text.contrast},get children(){return createComponent(Translation,{translationKey:"common.get",children:"GET"})}}),createComponent(ArrowIcon,{direction:"right"})]}})]}})}}),createComponent(FooterButtonCenter,{get children(){return[createComponent(Text,{get color(){return r.colors.disable},get children(){return createComponent(Translation,{translationKey:"walletModal.mobileConnectionModal.PoweredBy",children:"PoweredBy"})}}),createComponent(OKXLogo,{})]}})]},ModalRetryButton=f=>createComponent(RetryButtonStyle,{get leftIcon(){return createComponent(RetryIcon,{})},get onClick(){return f.onRetry},get children(){return createComponent(H1StyledRetry$1,{translationKey:"common.retry",children:"Retry"})}}),ConnectionDeclinedModalPage=f=>[createComponent(ErrorIconStyled,{size:"s"}),createComponent(H1StyledMaxWidth,{translationKey:"walletModal.mobileConnectionModal.connectionDeclined",children:"Connection declined"}),createComponent(Show,{get when(){return f.showRetry},get children(){return createComponent(ButtonsContainerStyled$1,{get children(){return createComponent(ModalRetryButton,{get onRetry(){return f.onRetry}})}})}})],ContinueInWalletModalPage=f=>{const r=useTheme();return[createComponent(ButtonsContainerStyled$1,{get children(){return[createComponent(OKXLoaderIconWithLogo,{}),createComponent(H1StyledMaxWidth,{translationKey:"walletModal.mobileConnectionModal.continueIn",children:"Continue the transaction in OKX Wallet"})]}}),createComponent(ButtonsContainerStyled$1,{get children(){return[createComponent(ButtonsQRContainerStyled,{get onClick(){return f.onOpenQR},get children(){return[createComponent(QRIcon,{get fill(){return r.colors.background.primary}}),createComponent(ContainedPrimaryButtonText$1,{translationKey:"walletModal.mobileConnectionModal.showQR",children:"Show QR Codes"})]}}),createComponent(ModalRetryButton,{get onRetry(){return f.onRetry}})]}})]},ButtonsContainerStyled=styled.div`
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  width: 100%;
  gap: 12px;
`,TextStyled$1=styled(Text)`
  max-width: 262px;
  font-weight: 400;
  font-size: 16px;
  line-height: 20px;
  text-align: center;
  margin-top: 10px;
  color: ${f=>f.theme.colors.text.contrast};
`,ContainedPrimaryButton=styled(ContainedButton)`
  background-color: ${f=>f.theme.colors.text.primary};
  margin-left: 24px;
  width: calc(100% - 48px);
  margin-right: 24px;
`,ContainedPrimaryButtonText=styled(H1StyledMaxWidth)`
  font-size: 14px;
  color: ${f=>f.theme.colors.background.primary};
`,imageUrl="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAKuSURBVHgB7d3RcdpAFIXhYyfvUIKowHQQUkFEBQwVABXIVAAd4BJIBXIqEOlAHSAqUPYCiZmMsfHo4rNozjdzkzxkPGt+Wxit177D2wZhfhz/TsJ0IZeowmyO8zPMMz5oECYPU2tcpsDhA/giGUBfcFsnwztWESyy7bPCGVlkC23zZP899vvr060svi0zOA1QRL7YNk5uD/wdXr7ikc/3/T78kUJYUgvwAGH5ZpegLfQKl6WyADWE5h5CpQBkCkCmAGQKQKYAZApApgBkX+Gs3+8jyzJ0u81eXM9mM2w2G3hI0xSj0ajRmqqq2q+pLEt4c73Nmud57WG9XrutqSiK2sNqtXK/LR3tJajT6cBL08/Ga9JzAJkCkCkAmQKQKQCZApApAJkCkCkAmQKQKQCZApApAJkCkLkHsI2LttrtdvDm/q2JtiO2WCzQhEWcz+f7fze9l287WLamyWSCJm5mR8xrkiSpPWy32zpEjPJ9RMw7YiEAPNhnkHbE5CwFIFMAMgUgUwAyBSBTADIFIFMAMgUgUwAyBSBTADIFIFMAsmgD2Pkwj+1N28GKeZvU/ZCeHYjz2JJcLpfo9XqNN1PsbdkBvel0iibs7YzHY7eDg6dct9h0SK8lW5I6pCefQgHIFIBMAcgUgEwByBSATAHIFIBMAcgUgEwByBSATAHIdEjvA65xSM99R8wOsnlE+HtIz8NwOGx8SM/YLp03/QIHMj0HkCkAmQKQKQCZApApAJkCkCkAmQVo772D+FUWoISwbCzALwjLbwuwhrD8e+xzXPGnQmleneK0xCDihbZ1EnvgvxwDlHj5/fJyfbbZ8eql/wm39VF0i/OEdzyCv8i2ziMulODwJHFL71zMk+PM5f0ObxuEScM8hOmHifewVVzs7kKJw2ssu9Y/n/uPfwA3U3U3Q3Ht+AAAAABJRU5ErkJggg==",OKXWalletExtension="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADUAAAAoCAYAAABerrI1AAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAZOSURBVHgB7VlrbFNVHP/dR2/XPVv26tYyOwmogGE8RMg06xJjIDzcEKOEKOOLiR/c+GIiH8zYF1ATw5QYjY8wEyJiEDcfkcSEbfrFYLKNx4cJCW0GOMbG7LDr+rr3+D+37Vbm2nU41mL4Jb/d2557zs7v/F/n3AIzw0k8THQR2QKxl3iU6MA8wxwVw9LMw9G5zIugXgAsQ9iLeRCWCRaayWJ3DQcAlqF0Yo4Qo9dmZC7qcJfIpFiaThfmCCF6ZchsCHN5WE7loaqqKtTVzewFbrcbbW1tCfs6HA40NDQkbOd9+Rj3AkldgP4xSwaaeMK+TqczaV8SnIoLzgki/od4IOp+wQNR9wvmRZTH40EmIaXiy2sN50zggpqamhK2d3d3o6urC4nQ19d3x6LkyxL2lizCkxVWVIxP4KFF+YCqQcjP8Ughrc/HQh3lI952U1+/G/9F1GxwuVwJRXFBtbW1mA12iwXvlhej2myCGgrrM5NEPj0RgsCIdE/kV0kVEDQIbfljvhbLDOIyIqZetlvxXUUJ1mfLCIeCsz6vSQyKxhq8RXm917Y9s296e9pFNVaU460yC/KUuU2FkeHkkGoWx4YPD9Y91RzfllZRr9isaCyKxsxdBoAoyhA94wdcW5yTFkubKLssorG4ACrTIvGSCBq1a2QZJuqRz+gzv6FtI/8LjfHPInK8480Thw45eJeUdun3AtZdK1FwMUBudKcgSgWQ8nKRvXUr8ra/BBSVQDSSNt8lCENfQbzRRpb1kyj+dPx+VzWr0uWjdFObkiiz2axzJvB0nOzowNumZ8ZxKQi2ZSnac25g+9mRqcMSzVQpK0PhkU8wnGPDsZ4wLvzih9cno/qRR1G/qhk2+6sIX6yHODEwNaCuUIQsMifrNJtTSumtra16LUoEC6XjRAWYjh7o7Oy847uTl0/j4O+fIscfxoefXYEpGIIoUOpWDCg//i16/GXYd9KP66PhuKkx2CwyPtiVjXXFV4HzNUDQO9kWEaYhCKUlpZhKZKVU26fjzOBZPSbGFQltzqJJF8yt24mbWVa8fsKH63/FC+IQ6DsVrx334UbIDsG6h2cJ+ppLiF6JRsVWk5ZEcfXWoC5KI/68ogBXi7N0F8zetA0dF0MYvK1GV/7fGCax3/TQTemeSF7ngsRIYebCtfCAIz2ifEOR7MUnrjF8UV0ETQ3D8PBS/PpHMGl6p70FLgxMUPKwQdNnL0TE6bsNcmGY0iPKSKsbS8kCiTpnM+HMCqpXgQCyjdKs/f8OcOtQfWJGEiIRDSRGJm3UV2TpqVMFxmgMamzSDY+tL8SY34NVdpG8KUndorpU85iEsK8/aiRBtx6XQsUATLJ40iJqZWGlXkR191NJGO0oRk0yjvf/iB1rslCal9j/ShcZsG2FAuHmCUT2DuJkPHGSD/SlVKfa29sjE0iAZHWKHy2mv0Ib8FCNyWdTcQXo12PXOrFjbT1adxej8esJDN0KIHaQYGQhq0XCRy9mozhnEOFLp2CIitHHECLuHBLVjrS8zJSyDXj8yGYEtVCkxGBKWFluKT7fehBCYBF+OB9A9yUVuSYJq+0Snl8jIyiO4lrPbmxUXHo86gMIalQEgzzuqYyJcuEe/NiVDEvffBrKklw9nqa8ILLqCpNRv/xZvLBsE5ZY7JhgQdzy38aXPacwcrMT7y0+R/mAXC1acFk0qsJU9ozV1/fGRLUSm7CAyC01w7Z/HYSsSNFk+qoL+gRjIrngEFQ97iipUX4TcGblMMqMPsR2ESK0iJ+JWZ5gSFhtqu13xxJFOxYY3iEPxr53Q99za7GtaVQQi7giX3FZo2RNolXizhIvbFl+vR7psUZXjS8IxZYqyy1cEB87VhT4BwtxAxYQXtcoFFmBcZlFL7jcWjFhOrWp+0KDhvcrPciRo64aTfuMLKkppS3GDX1vx8aNr3S/ETcRrVhAePtHYAgIyKqks5UQZ6k4NwSdpd5YHMRGc4DERzKeIOqW9KiyaX9WnCCOeFF+Ik/+Jiy0xa6MwnP2T9r8iTAtLpi0WMQnGZaIfryzzAeJm1O3kBFhg9ZlMNZuNjzx0+np4yUq3Q7iAeIqYhUWBm5ih7K2pOvRvWsdQUV6zhhiVd7ghPnj5T7U5I+7BbnArYVHuhW/v1WodSd82fgPHg20OjkMhvcAAAAASUVORK5CYII=",OKXWalletTg="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADQAAAAoCAYAAACxbNkLAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAnUSURBVHgBrVlrbFxHFT5z967tddx4/Urc4LrrVirETogJBCFBGic/UqAVsSXUCNFAgtQKCQmFfwUJjIVUIfGjEVRFqIi2ilBDEbFDS6GAlKSlaoJ4mMY0CaHOJrZSnMTxOvF7d+cwrzMz17vr9RpOctf3zp3HeX7nzFwGy+iVbG8PD/L7AFgvIKYYY4gIDAoJGQPx0jWIZ9VXDZFvbbt+UZIYDDNkw/kYG+hjQ2n4H8guOoi9yYDn+8W6h2WzZAo8QdB1tgKyQDTrbqyoxKiEBH8OmojRM2hFyEnkc8DgSD6IScEysFaBpDCM506KGbeh1rNdSGmacWSekazFDCPebGh/I21uTrcqg4I2tNYcxjDcvRahAvUjLcOxmwvutcZBcYpKa1wtJN/pS7aZf+KZ7lUn+Q7tWyW67KNG2zZtYkSu72k11O2mZzfksv2wBmKD870piC1dVg+BWsdonxn3cM4mFwyMrjHiZwysg1F31MyqTmQJ5uax7dZaZEdkbr5gT1/81VNQAQVCmH6jX+BGGK19TlYyAc0VV9JKih9wca76qnbJleihxnIjHkeaX1sGTXxGrKjulYfoFZXCOEhwqowCZV7nZGpax6vHinInboapfvovchvrxAhhn3NbrRBEci/0lKXdFJzrMbs2sooFCsVk3VKTXEc/WCeQmiYXMrEq/6Jp1cCgejNtPe1PhjcN3TyCksxEH4IBGuO04kk7p3U7iUFqVeyACikEbRMPkZ17y2XS79yBP//6umyQWG7BSPbeeG8Cdh3YpJam8DYhoQS+fmUeTh69RlODGU9RyXoOfAA2pKpB5yzyX2A2yhAqphAVp8b0BpuNRyir/OaHackUKzXB5p1JaBGCWQuqCXQ2lgK9/L1/l1y8ub0GdrdvUpYjbaCHEmuQR1gIVTQwFkkVyLQbAis7A9POrmPHWJBiDcuzhBoOrXNrmNcTM4YVyxQimKD107jydAtkKwqFOufqBKvQjXmsluPHvdfAQImA8tUqFFogkNKm4IVx63p2Ura6GaVQpE1fw+UspIAe0cQsGjAicQgZKhTITK2zvJrR5AoV2QS5KxBzVQOzRRq6eFqJ1DIcNQAZUSw2wFrkUaAQbeFoq0Wj4hUn5px7KGLgCahKKDNejuMmb5mecnlZjRikXYvL+YWorXGorWxc1yXjNlZssjTQz8t4DWq3NouhXV9lKFv+VEbs2FwP+rUY7WV0lDO4IaD3xtUFW1Vrt9Q3UpjXnhmT74nDiD06BaR3PthgRWVUCRrvSn24DmqTMdt/IbcOzow+DJnbW+DKdDPML26EnOhXG0JGjB/O59iJ0VwwlPlCQ7qkQC8JgQiwfb+l2LR7H+aerTXFm69vPiuEXig6eeeDSfj277rNIC+1+glCvFpY2giDw1+Dq5NbYJGvbBRVmDF4IYjHBi70FQoWyC60NSB/Ibchl6CaTPUxrmFRfiWyKkDU8+u6xG49xN1f0g/D0yd/AJeud8JingMVeKUuuaeMIR6MZ3N/7/rljcOFAvmFofp1RSfayhpRwztaANA5h5cHMjkHp3KGqnKtkLff289eGzkI2WwtVErCFZMCj57+2OBkf0QgTpsyKxg4AVFnfW4YkM8cXVlSHoVMla0E0eFP6/xVWOb3734eaLO31mtmMffdzcecpYLl2dpdumIG5liBZdsA2uusJI6LQXJkwFuzTfjGvx6F/xflgPcf/O1UigSiXQolSFt4SNhVDKGNKBNbKjRXlSci23WTQU9f3M/uLCTKxstqLxFTybOZhefleiGdC/hk8pxys7lMDuan8/aswey71U+iPgYt7dUlhWm5txpupOfBP/pZiLfC8FiPAPCy4Reh2jiDR9oT0LOpGt76zyL8/NJc5H0YsJ7U4OVkSPmH9Ol+Nd/HnxrD1599v6QlfjL+caitD/1RNhudf/M2fGPL3yL9Wz77BDQ+huUR0lBXQxV87r4a6E0loL5KnenApelsQc7N5sXzTNXhEE3Bod2HSnZmt8Vz07kV3Wo2k4XE+hiYaswANaP9a0H/+h0PQTlpQjF4W0scDm9dDzs2VKk2H09Hp3NF52hNBLtC9LfP6siKMVdWllejCXZmY0pnG62gIsPX39cFsyWmXScssP/+WvjSB9dBa62uIMZmcvDc+Rl4orMO2tbpWvrynVxR1iYWeSpEs4/xj5gsRaC8OPkwbrp6x4iFtdxcvA7cYYum9roQHu+8C/aKGEkat5L04sUZOD46B099osEKI+nmXM7kyyglGEuFlmHKoKy4ZksTRhl34VHUVePi5aLHy862BPy0pynS5+Z8Hp58+xZcyOThpYea4R5PmJwYOz6bK7o3yYvG0PgGoTMrZBfKCeRZ1cQOmhOjIprJXL8CieY2+/zm+Cwc+EMePnl3DWxtroZ/Ti3B0fN3oDrG4NjelohlJP1jchEY8qKc1MaDTGiczEK3fwa6qjxjtghIZRGaA4qIoI7WT1+DJU8gSWcnFtTl03N7NkBbXVgwflQgXCkdZzkMh27LbBiEqDAfeaTeBH1xahK5RgGLOSRBk+zk7T1bE/CpLzZF3DF/1ztwE3dAOfrOmUl4dlcLdDVVRdpHJpdKuk02z0+wn2W2o90sGF3TSbM9PDFh7rYZXnYFf+vBXCzaGLJneep3MbsOf/T6UbZUvq5VYf+VzevhWx9ttJny4B8n4K335wv7iumu8ZqOQGg0Dbb85OacOXqW4BevSPKqolX3peMufaYNrsxRGGO3C+qqCmdZW+M5tVy5KyauF9+9DTuPj8HIrSUYFxA+cnOxaF/BwwsLh+5OB0GAQ8QAWsZ84UxsqT2NruPM4ZacxvgmFazaCvbO7KGWV/L7tj8DYTijoHc118RsFvpeHYddv7oK00u5gveCt4zY0g7I2QMBgyec0fRBvUqx3JWjagvBiTFtITov8C3qFEDjyF+NLc1VUz0Buz/0i4rrUAKs5VcuwIHMoY60EujxhuFT4u8Rt1GgzyKIVJCSZrX2kXDRMknHyWCRzh2XIOQR3XiyOm7veAX2dL2M4Am6lisRg4HRx+4/Qlyq+qLvydazwnifFret9IJ552rMiyV6RnM+YET2cg612TzEwB0gMX/KtsYRVlM1ixNTD7BsPg6VkAAM8bky/82LX37g+367hdTnp7qTwrH6ufxoTFsFD598ScD7Tqeblh940UE5o70Ii3yWsF/LtRNNz22ANy48ys5d3SPPhVakULwXwH1q28bw0NBntJsVFYjox1PdqZj45ioLXvntyO8T/TxvRCGgtuBRmJDdOF3No39ypP+nxfPQmff2nv7Tua+mauKxfaK1ezaXT8rKbkkgcWN1mJ6cz56GoOpI+lBHyY/J/wUwVKGzeWclZQAAAABJRU5ErkJggg==",MobileConnectAppTgModalPage=f=>{const r=d=>{switch(d.getTag()){case src$6.OKX_APP_WALLET:return createComponent(ImageOKX,{src:imageUrl});case src$6.OKX_INJECT_WALLET:return createComponent(ImageOKX,{src:OKXWalletExtension});case src$6.OKX_TG_WALLET:return createComponent(ImageOKX,{src:OKXWalletTg});default:return createComponent(ImageOKX,{src:imageUrl})}};return[createComponent(ButtonsContainerStyled,{get children(){return[createComponent(OKXIconWithLogo,{}),createComponent(TextStyled$1,{translationKey:"walletModal.mobileConnectionModal.appAndTelegram.text",children:"OKX Wallet supports OKX app and Telegram Mini Apps"})]}}),createComponent(ButtonsContainerStyled,{get children(){return createComponent(For,{get each(){return f.connector},children:d=>createComponent(ContainedPrimaryButton,{get leftIcon(){return r(d)},onClick:()=>f.walletConnectClick(d),get children(){return createComponent(ContainedPrimaryButtonText,{get translationKey(){return d.walletNameKey},get children(){return d.walletName}})}})})}})]},MobileConnectionModal=f=>{useTheme();const[r,d]=createSignal(!1),[g,_]=createSignal(!1),v=createMemo(()=>(f.walletConnector.length>1||f.walletConnector.length==1&&f.walletConnector[0].getTag()!==src$6.OKX_APP_WALLET)&&!g()),[y,m]=createSignal(null),[w,C]=createSignal(null),[b,E]=createSignal(null),S=useContext(OKXConnectUiContext);var R,O;let $=()=>f.universalLinkParams()===null&&!f.connectError();var I;createEffect(()=>{var z,Y,ne=f.universalLinkParams();const re=v(),se=r(),G=$();if(re!=R&&!se&&!G&&(re?(src$6.reportEvent(src$6.OKXReportType.PAGE_IN,src$6.Report_Proceed_Proceed_View,""),src$6.reportEvent(src$6.OKXReportType.PAGE_OUT,src$6.Report_ChooseType_ConnectWallet_View,"")):(src$6.reportEvent(src$6.OKXReportType.PAGE_OUT,src$6.Report_Proceed_Proceed_View,""),src$6.reportEvent(src$6.OKXReportType.PAGE_IN,src$6.Report_ChooseType_ConnectWallet_View,"")),R=re),se!=O&&!G&&(se?src$6.reportEvent(src$6.OKXReportType.PAGE_IN,src$6.Report_Proceed_QRCode_View,""):src$6.reportEvent(src$6.OKXReportType.PAGE_OUT,src$6.Report_Proceed_QRCode_View,""),O=se),G!=I&&(G?src$6.reportEvent(src$6.OKXReportType.PAGE_IN,src$6.Report_Loading_ConnectWallet_View,""):src$6.reportEvent(src$6.OKXReportType.PAGE_OUT,src$6.Report_Loading_ConnectWallet_View,""),I=G),ne){f.setLastSelectedWalletInfo(__spreadProps(__spreadValues({},f.wallet),{openMethod:"universal-link"})),src$6.logDebug(`createEffect  ${JSON.stringify(ne)}`);var T=ne.connectRequest,D="",x="";if(T){if(src$6.useShortLink()){var A=src$6.getOKXLink(T);E(A),m(A)}else{var B=src$6.encodeConnectParams(__spreadProps(__spreadValues({},T),{redirect:"none"}));D=src$6.getUniversalLink(src$6.getAppWalletDeepLink(B),!0),E(D);var N=src$6.encodeConnectParams(__spreadProps(__spreadValues({},T),{redirect:(z=ne.redirect)!=null?z:"none"}));x=src$6.getAppWalletDeepLink(N),m(x)}var q=src$6.encodeTWAConnectURLParams(__spreadProps(__spreadValues({},T),{redirect:"none"})),K=src$6.getTelegramWalletTWAUrl(q,(Y=ne.tmaReturnUrl)!=null?Y:"back");C(K),src$6.logDebug(`setUniversalLink  ${x}   tgUrl  ${K}    qrLink ${D}`)}}f.connectError()&&d(!1)}),onMount(()=>__async(void 0,null,function*(){try{yield f.connect().catch(z=>src$6.logDebug(`MobileConnectionModal onMount error ${JSON.stringify(z)}`))}catch(z){console.error("Error while connecting:",z)}}));const U=()=>{_(!1),src$6.reportEvent(src$6.OKXReportType.CLICK,src$6.Report_Proceed_Retry_Click,"");try{f.connect()}catch(z){console.error("Error while connecting:",z)}},L=()=>{src$6.reportEvent(src$6.OKXReportType.CLICK,src$6.Report_Proceed_QRCode_Click,""),d(!0),f.setLastSelectedWalletInfo(__spreadProps(__spreadValues({},f.wallet),{openMethod:"qrcode"}))},j=()=>{d(!1),f.setLastSelectedWalletInfo(__spreadProps(__spreadValues({},f.wallet),{openMethod:"universal-link"}))},F=()=>{r()?j():f.onBackClick()},X=z=>{var Y=f.universalLinkParams();switch(z.getTag()){case src$6.OKX_APP_WALLET:{src$6.reportEvent(src$6.OKXReportType.CLICK,src$6.Report_ChooseType_ConnectWallet_Click,JSON.stringify({Report_WalletType_Key:"app"})),isMobile()?(_(!0),Y&&z.openWallet(Y)):L();return}case src$6.OKX_TG_WALLET:{src$6.reportEvent(src$6.OKXReportType.CLICK,src$6.Report_ChooseType_ConnectWallet_Click,JSON.stringify({Report_WalletType_Key:"tgminiwallet"})),S==null||S.closeModal(),Y&&z.openWallet(Y);break}case src$6.OKX_INJECT_WALLET:{S==null||S.closeModal(),Y&&z.openWallet(Y);break}}};return createSignal(!1),createEffect(()=>{}),createComponent(MobileConnectionModalStyled$1,{"data-tc-wallets-modal-connection-mobile":"true",get children(){return[createComponent(Show,{get when(){return!f.backDisabled},get children(){return createComponent(StyledIconButton,{icon:"arrow",onClick:F})}}),createComponent(Show,{get when(){return createMemo(()=>f.universalLinkParams()===null)()&&!f.connectError()},get children(){return[createComponent(H1Styled$1,{children:"OKX Connect"}),createComponent(LoadingModalPage,{}),createComponent(ModalFooter,{get wallet(){return f.wallet}})]}}),createComponent(Show,{get when(){return f.universalLinkParams()!==null||f.connectError()},get children(){return[createComponent(Show,{get when(){return createMemo(()=>!!r())()&&!f.connectError()},get children(){return createComponent(MobileConnectionQR,{get universalLink(){return b()},get walletInfo(){return f.wallet},get sessionConnecting(){return f.sessionConnecting}})}}),createComponent(Show,{get when(){return!r()},get children(){return[createComponent(H1Styled$1,{children:"OKX Connect"}),createComponent(BodyStyled$1,{get isDeclined(){return f.connectError()},get children(){return[createComponent(Show,{get when(){return f.connectError()},get children(){return createComponent(ConnectionDeclinedModalPage,{onRetry:U,get showRetry(){return f.showRetry}})}}),createComponent(Show,{get when(){return!f.connectError()},get children(){return[createComponent(Show,{get when(){return v()},get children(){return createComponent(MobileConnectAppTgModalPage,{get connector(){return f.walletConnector},walletConnectClick:X})}}),createComponent(Show,{get when(){return!v()},get children(){return createComponent(ContinueInWalletModalPage,{onOpenQR:L,onRetry:U})}})]}})]}}),createComponent(ModalFooter,{get wallet(){return f.wallet}})]}})]}})]}})},MobileConnectionModalStyled=styled.div``,BodyStyled=styled.div`
  flex: 1;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  min-height: 200px;
  margin-bottom: 16px;
`,H2Styled=styled(H2)`
  margin-bottom: 0;
  padding: 10px 24px 0px 24px;
  font-size: 14px;
  font-color: ${f=>f.theme.colors.text.contrast};
`,QrCodeWrapper=styled.div`
  margin-top: 24px;
  margin-left: 24px;
  margin-right: 24px;
  margin-bottom: 10px;
`,LoaderWrapper=styled.div`
  display: flex;
  justify-content: center;
  align-items: center;
`,DesktopConnectionQR=f=>[createComponent(QrCodeWrapper,{get children(){return[createComponent(Show,{get when(){return f.sessionConnecting()},get children(){return createComponent(LoaderWrapper,{get children(){return createComponent(OKXLoaderIconWithLogo,{})}})}}),createComponent(Show,{get when(){return createMemo(()=>f.universalLink!==null)()&&!f.sessionConnecting()},get children(){return createComponent(QRCode,{imageUrl:imageUrl$1,get sourceUrl(){return addReturnStrategy(f.universalLink,"none")},disableCopy:!0})}})]}}),createComponent(H2Styled,{translationKey:"walletModal.mobileConnectionModal.scanQR",get translationValues(){return{name:f.walletInfo.name}},get children(){return["Scan the QR code below with your phone’s or ",createMemo(()=>f.walletInfo.name),"’s camera"]}})],Container=styled.div`
  display: flex;
  flex-direction: row;
  justify-content: center;
  align-items: center;
  padding-bottom: 20px;
  margin-top: 10px;
  border-bottom: 0.5px solid ${f=>rgba(f.theme.colors.icon.secondary,.2)};
  width: 100%;
`,TextContainer=styled.div`
  flex: 1;
  margin-left: 16px;
  display: flex;
  flex-direction: column;
`,TextMainStyled=styled(H1)`
  font-weight: 500;
  font-size: 18px;
  text-align: left;
`,TextSecondStyled=styled(Text)`
  font-weight: 500;
  font-size: 14px;
  margin-top: 5px;
  color: ${f=>f.theme.colors.text.contrast};
`,ImageStyled=styled(Image)`
  width: 48px;
  height: 48px;
  margin-left: 24px;
`,Retry=styled(Button)`
  border-radius: 20px;
  padding: 6px 14px;
  margin-right: 24px;
  display: inline-flex;
  background-color: transparent;
  border: 0.5px solid ${f=>f.theme.colors.text.secondary};;
  white-space: nowrap;
  cursor: pointer;
`,H1StyledRetry=styled(Text)`
  font-size: 12px;
  font-weight: 400;
  color: ${f=>f.theme.colors.text.primary};
`,DesktopOpenInjectedModal=f=>createComponent(Container,{get children(){return[createComponent(ImageStyled,{src:imageUrl}),createComponent(TextContainer,{get children(){return[createComponent(TextMainStyled,{translationKey:"walletModal.mobileConnectionModal.connectInjectedOpening",children:"Opening OKX Wallet..."}),createComponent(TextSecondStyled,{translationKey:"walletModal.mobileConnectionModal.connectInjectedConfirm",children:"Confirm in OKX Wallet extension"})]}}),createComponent(Retry,{get onClick(){return f.injectedRetry},get children(){return createComponent(H1StyledRetry,{translationKey:"common.retry",children:"Retry"})}})]}}),DesktopConnectAppTgModalPage=f=>{const r=f.connector.some(d=>d.getTag()===src$6.OKX_APP_WALLET);return[createComponent(Show,{get when(){return f.injectedOpen()},get children(){return createComponent(DesktopOpenInjectedModal,{get injectedRetry(){return f.injectedRetry}})}}),createComponent(Show,{when:r,get children(){return createComponent(DesktopConnectionQR,{get universalLink(){return f.qrLink()},get walletInfo(){return f.wallet},get sessionConnecting(){return f.sessionConnecting}})}})]},DesktopConnectionModal=f=>{useTheme(),useContext(OKXConnectUiContext);const[r,d]=createSignal(null),g=createMemo(()=>r()===null),[_,v]=createSignal(!1);var y;let m=()=>f.universalLinkParams()===null&&!f.connectError();var w;f.setLastSelectedWalletInfo(__spreadProps(__spreadValues({},f.wallet),{openMethod:"qrcode"}));const C=createMemo(()=>f.universalLinkParams()===null&&!f.connectError()),b=createMemo(()=>f.universalLinkParams()!==null||f.connectError()),E=createMemo(()=>b()&&f.connectError()),S=createMemo(()=>b()&&!f.connectError());createEffect(()=>{src$6.logDebug("TON customEvent.detail  :::",createEffect);var L=f.universalLinkParams();src$6.logDebug("TON customEvent.detail  :::",JSON.stringify(L));const j=g(),F=m();if(j!=y&&!F&&(j?(src$6.reportEvent(src$6.OKXReportType.PAGE_IN,src$6.Report_ChooseType_ConnectWallet_View,""),src$6.reportEvent(src$6.OKXReportType.PAGE_OUT,src$6.Report_Proceed_QRCode_View,"")):(src$6.reportEvent(src$6.OKXReportType.PAGE_OUT,src$6.Report_ChooseType_ConnectWallet_View,""),src$6.reportEvent(src$6.OKXReportType.PAGE_IN,src$6.Report_Proceed_QRCode_View,"")),y=j),F!=w&&(F?src$6.reportEvent(src$6.OKXReportType.PAGE_IN,src$6.Report_Loading_ConnectWallet_View,""):src$6.reportEvent(src$6.OKXReportType.PAGE_OUT,src$6.Report_Loading_ConnectWallet_View,""),w=F),L){f.setLastSelectedWalletInfo(__spreadProps(__spreadValues({},f.wallet),{openMethod:"universal-link"}));var X=L.connectRequest;if(X){var z="";if(src$6.useShortLink())z=src$6.getOKXLink(X);else{var Y=src$6.encodeConnectParams(__spreadProps(__spreadValues({},X),{redirect:"none"}));z=src$6.getUniversalLink(src$6.getAppWalletDeepLink(Y),!0)}O(z)}var ne=f.walletConnector.find(re=>re.getTag()===src$6.OKX_INJECT_WALLET);ne&&(ne.openWallet(L),v(!0),f.setLastSelectedWalletInfo(__spreadProps(__spreadValues({},f.wallet),{openMethod:"inject"})))}});const[R,O]=createSignal(null);onMount(()=>__async(void 0,null,function*(){try{yield f.connect().catch(L=>src$6.logDebug("DesktopConnectionModal connect catch error ",JSON.stringify(L)))}catch(L){src$6.logDebug("DesktopConnectionModal connect  error ",JSON.stringify(L))}}));const $=()=>{d(null),src$6.reportEvent(src$6.OKXReportType.CLICK,src$6.Report_Proceed_Retry_Click,"");try{f.connect()}catch(L){console.error("Error while connecting:",L)}},I=()=>{var L=f.walletConnector.find(j=>j.getTag()===src$6.OKX_INJECT_WALLET);L&&U(L)},U=L=>{var j=f.universalLinkParams();j&&(L.openWallet(j),f.setLastSelectedWalletInfo(__spreadProps(__spreadValues({},f.wallet),{openMethod:"inject"})))};return createComponent(MobileConnectionModalStyled,{"data-tc-wallets-modal-connection-mobile":"true",get children(){return[createComponent(H1Styled$1,{children:"OKX Connect"}),createComponent(Show,{get when(){return C()},get children(){return[createComponent(LoadingModalPage,{}),createComponent(ModalFooter,{get wallet(){return f.wallet}})]}}),createComponent(Show,{get when(){return b()},get children(){return[createComponent(Show,{get when(){return E()},get children(){return createComponent(BodyStyled,{get children(){return createComponent(ConnectionDeclinedModalPage,{onRetry:$,get showRetry(){return f.showRetry}})}})}}),createComponent(Show,{get when(){return S()},get children(){return createComponent(BodyStyled,{get children(){return createComponent(DesktopConnectAppTgModalPage,{get connector(){return f.walletConnector},get wallet(){return f.wallet},get sessionConnecting(){return f.sessionConnecting},qrLink:()=>R(),injectedRetry:I,injectedOpen:_})}})}}),createComponent(ModalFooter,{get wallet(){return f.wallet}})]}})]}})},SingleWalletModal=f=>{const{locale:r}=useI18n()[1];createEffect(()=>r(f.language));const d=createMemo(()=>isMobile()||inTg());return createEffect(()=>{f.opened&&updateIsMobile()}),createComponent(StyledModal,{get opened(){return f.opened},onClose:()=>f.onClose("action-cancelled"),"data-tc-wallets-modal-container":"true",get children(){return[createComponent(Show,{get when(){return f.loadingBeforeConnect()},get children(){return[createComponent(H1Styled$1,{get children(){var g;return(g=f.walletInfo)==null?void 0:g.name}}),createComponent(LoadingModalPage,{})]}}),createComponent(Show,{get when(){return!f.loadingBeforeConnect()},get children(){return createComponent(Dynamic,{get component(){return d()?MobileConnectionModal:DesktopConnectionModal},get wallet(){return f.walletInfo},onBackClick:()=>{},backDisabled:!0,get connect(){return f.connect},get universalLinkParams(){return f.universalLinkParams},get lastSelectedWalletInfo(){return f.lastSelectedWalletInfo},get setLastSelectedWalletInfo(){return f.setLastSelectedWalletInfo},get connectError(){return f.connectError},get showRetry(){return f.showRetry},get sessionConnecting(){return f.sessionConnecting},get walletConnector(){return f.walletConnector()}})}})]}})},common$j={openWallet:"Open wallet",get:"Get",close:"Close",retry:"Retry"},button$j={connectWallet:"Connect wallet",dropdown:{copy:"Copy address",copied:"Address copied",disconnect:"Disconnect"}},notifications$j={confirm:{header:"Open {{ name }} to confirm."},transactionSent:{header:"Sent",text:"This action will be completed in a few seconds."},transactionCanceled:{header:"Canceled",text:"There’ll be no changes to your account."},transactionError:{header:"Error",text:"There’ll be no changes to your account."}},walletModal$j={mobileConnectionModal:{OKXConnect:"OKX Connect",showQR:"Show QR Code",scanQR:"Scan the QR code below with your phone’s or {{ name }}’s camera",continueIn:"Proceed in OKX Wallet",connectionDeclined:"Connection failed",PoweredBy:"Powered by",appAndTelegram:{header:"Connect to OKX Wallet",text:"OKX Wallet is available on OKX App and Telegram"},connectApp:"OKX App",connectMini:"OKX Mini Wallet",connectInjected:"OKX Wallet extension",connectInjectedOpening:"Opening OKX Wallet...",connectInjectedConfirm:"Confirm in OKX Wallet extension"}},actionModal$j={confirmTransaction:{header:"Confirm in {{ name }}",text:"It’ll only take a moment."},transactionSent:"$notifications.transactionSent",transactionCanceled:"$notifications.transactionCanceled"},en={common:common$j,button:button$j,notifications:notifications$j,walletModal:walletModal$j,actionModal:actionModal$j},common$i={openWallet:"Открыть кошелек",get:"ПОЛУЧИТЬ",close:"Закрыть",retry:"Повторить попытку"},button$i={connectWallet:"Подключить кошелек",dropdown:{copy:"Скопировать адрес",copied:"Адрес скопирован.",disconnect:"Отключить"}},notifications$i={confirm:{header:"Откройте {{ name }} для подтверждения транзакции."},transactionSent:{header:"Транзакция отправлена",text:"Транзакция будет обработана через несколько секунд."},transactionCanceled:{header:"Транзакция отменена",text:"Изменений в аккаунте не будет."}},walletModal$i={mobileConnectionModal:{showQR:"Показать QR-код",scanQR:"Отсканируйте QR-код ниже с помощью камеры на телефоне или {{ name }}",continueIn:"Продолжить выполнение транзакции в Кошельке OKX",connectionDeclined:"Подключение отклонено",PoweredBy:"Powered by",appAndTelegram:{header:"Connect to OKX Wallet",text:"Кошелек OKX доступен в приложении OKX и в Telegram"},connectApp:"Подключиться к приложению OKX",connectMini:"Подключиться к мини-Кошельку OKX"}},actionModal$i={confirmTransaction:{header:"Подтвердите транзакцию в {{ name }}",text:"Это займет всего несколько секунд."},transactionSent:"$notifications.transactionSent",transactionCanceled:"$notifications.transactionCanceled"},ru={common:common$i,button:button$i,notifications:notifications$i,walletModal:walletModal$i,actionModal:actionModal$i},common$h={openWallet:"打开钱包",get:"获取",close:"关闭",retry:"再试一次"},button$h={connectWallet:"连接钱包",dropdown:{copy:"复制地址",copied:"地址已复制",disconnect:"断开连接"}},notifications$h={confirm:{header:"打开 {{ name }} 进行确认"},transactionSent:{header:"已发送",text:"即将完成，请稍候"},transactionCanceled:{header:"已取消",text:"账户未发生任何更改"}},walletModal$h={mobileConnectionModal:{OKXConnect:"OKX Connect",showQR:"展示二维码",scanQR:"使用手机或欧易钱包的相机扫描下方二维码",continueIn:"在欧易钱包中继续完成",connectionDeclined:"连接失败",PoweredBy:"Powered by",appAndTelegram:{header:"连接欧易钱包",text:"欧易钱包可在欧易 App 和 Telegram 使用"},connectApp:"欧易 App",connectMini:"欧易 Mini Wallet",connectInjected:"欧易钱包插件",connectInjectedOpening:"正在打开欧易钱包...",connectInjectedConfirm:"请在钱包插件确认连接"}},actionModal$h={confirmTransaction:{header:"在 {{ name }} 中确认",text:"请稍候"},transactionSent:"$notifications.transactionSent",transactionCanceled:"$notifications.transactionCanceled"},zh_CN={common:common$h,button:button$h,notifications:notifications$h,walletModal:walletModal$h,actionModal:actionModal$h},common$g={openWallet:"فتح محفظة",get:"حصول",close:"إغلاق",retry:"إعادة المحاولة"},button$g={connectWallet:"ربط المحفظة",dropdown:{copy:"نسخ العنوان",copied:"تم نسخ العنوان",disconnect:"إلغاء الربط"}},notifications$g={confirm:{header:"افتح {{ name }} لتأكيد المعاملة."},transactionSent:{header:"أُرسلت المعاملة",text:"ستتم معالجة معاملتك في غضون ثوانٍ قليلة."},transactionCanceled:{header:"أُلغيت المعاملة",text:"لن تطرأ أية تغييرات على حسابك."}},walletModal$g={mobileConnectionModal:{showQR:"عرض رمز QR",scanQR:"امسح رمز QR أدناه باستخدام كاميرا هاتفك أو كاميرا هاتف {{ name }}",continueIn:"متابعة المعاملة في محفظة OKX",connectionDeclined:"فشل الاتصال",PoweredBy:"Powered by",appAndTelegram:{header:"Connect to OKX Wallet",text:"محفظة OKX متاحة على تطبيق OKX وTelegram"},connectApp:"الربط بتطبيق OKX",connectMini:"الربط بمحفظة OKX المصغرة"}},actionModal$g={confirmTransaction:{header:"تأكيد المعاملة في {{ name }}",text:"لن يستغرق الأمر سوى لحظات."}},ar_AE={common:common$g,button:button$g,notifications:notifications$g,walletModal:walletModal$g,actionModal:actionModal$g},common$f={openWallet:"Otevřít peněženku",get:"Získat",close:"Zavřít",retry:"Zkusit znovu"},button$f={connectWallet:"Připojit peněženku",dropdown:{copy:"Kopírovat adresu",copied:"Adresa zkopírována",disconnect:"Odpojit"}},notifications$f={confirm:{header:"Otevřete {{ name }} a potvrďte transakci."},transactionSent:{header:"Transakce odeslána",text:"Vaše transakce bude zrušena během několika sekund."},transactionCanceled:{header:"Transakce zrušena",text:"Na vašem účtu nedojde k žádným změnám."}},walletModal$f={mobileConnectionModal:{showQR:"Zobrazit QR kód",scanQR:"Naskenujte níže uvedený QR kód pomocí kamery telefonu nebo {{ name }}",continueIn:"Potvrďte transakci v OKX Peněžence.",connectionDeclined:"Připojení selhalo",PoweredBy:"Powered by",appAndTelegram:{header:"Connect to OKX Wallet",text:"OKX Peněženka je k dispozici v aplikaci OKX a na síti Telegram."},connectApp:"Připojit k aplikaci OKX",connectMini:"Připojit k minipeněžence OKX"}},actionModal$f={confirmTransaction:{header:"Potvrďte transakci na {{ name }}.",text:"Zabere to jen chvilku."}},cs_CZ={common:common$f,button:button$f,notifications:notifications$f,walletModal:walletModal$f,actionModal:actionModal$f},common$e={openWallet:"Wallet öffnen",get:"Erhalten",close:"Schließen",retry:"Wiederholen"},button$e={connectWallet:"Wallet verknüpfen",dropdown:{copy:"Adresse kopieren",copied:"Adresse kopiert",disconnect:"Trennen"}},notifications$e={confirm:{header:"{{ name }} öffnen und Transaktion bestätigen."},transactionSent:{header:"Transaktion gesendet",text:"Ihre Transaktion wird in wenigen Sekunden bearbeitet."},transactionCanceled:{header:"Transaktion storniert",text:"Es werden keine Änderungen an Ihrem Konto vorgenommen."}},walletModal$e={mobileConnectionModal:{showQR:"QR-Code anzeigen",scanQR:"Scannen Sie den QR-Code unten mit der Kamera Ihres Telefons oder {{ name }}",continueIn:"Setzen Sie die Transaktion in der OKX Wallet fort",connectionDeclined:"Verbindung fehlgeschlagen",PoweredBy:"Powered by",appAndTelegram:{header:"Connect to OKX Wallet",text:"OKX Wallet ist in der OKX App und auf Telegram verfügbar"},connectApp:"Mit der OKX-App verbinden",connectMini:"Mit der OKX-Mini-Wallet verbinden"}},actionModal$e={confirmTransaction:{header:"Transaktion in {{ name }} bestätigen",text:"Es dauert nur einen Augenblick."}},de_DE={common:common$e,button:button$e,notifications:notifications$e,walletModal:walletModal$e,actionModal:actionModal$e},common$d={openWallet:"Abrir wallet",get:"Consigue",close:"Cerrar",retry:"Volver a intentar"},button$d={connectWallet:"Conectar billetera",dropdown:{copy:"Copiar dirección",copied:"Dirección copiada",disconnect:"Desconectar"}},notifications$d={confirm:{header:"Abre {{ name }} para confirmar la transacción."},transactionSent:{header:"Transacción enviada",text:"Tu transacción se procesará en unos segundos."},transactionCanceled:{header:"Transacción cancelada",text:"No se realizarán cambios en tu cuenta."}},walletModal$d={mobileConnectionModal:{showQR:"Mostrar código QR",scanQR:"Escanea el siguiente código QR con la cámara de tu teléfono o de tu {{ name }}",continueIn:"Continuar con la transacción en OKX Wallet",connectionDeclined:"Error de conexión",PoweredBy:"Powered by",appAndTelegram:{header:"Connect to OKX Wallet",text:"OKX Wallet está disponible en la OKX app y en Telegram"},connectApp:"Conectarse a la OKX app",connectMini:"Conectarse a la OKX Mini Wallet"}},actionModal$d={confirmTransaction:{header:"Confirma la transacción de {{ name }}",text:"Solo te llevará un momento."}},es_ES={common:common$d,button:button$d,notifications:notifications$d,walletModal:walletModal$d,actionModal:actionModal$d},common$c={openWallet:"Abrir billetera",get:"Obtener",close:"Cerrar",retry:"Reintentar"},button$c={connectWallet:"Conectar billetera",dropdown:{copy:"Copiar dirección",copied:"Dirección copiada",disconnect:"Desconectar"}},notifications$c={confirm:{header:"Abre {{ name }} para confirmar la transacción."},transactionSent:{header:"Transacción enviada",text:"Tu transacción se procesará en unos segundos."},transactionCanceled:{header:"Transacción cancelada",text:"No habrá cambios en tu cuenta."}},walletModal$c={mobileConnectionModal:{showQR:"Mostrar código QR",scanQR:"Escanea el siguiente código QR con la cámara de tu teléfono o {{ name }}",continueIn:"Continúa la transacción en OKX Wallet",connectionDeclined:"Error de conexión",PoweredBy:"Powered by",appAndTelegram:{header:"Connect to OKX Wallet",text:"OKX Wallet está disponible en la aplicación de OKX y Telegram"},connectApp:"Conéctate a la aplicación de OKX",connectMini:"Conéctate a la OKX Mini Wallet"}},actionModal$c={confirmTransaction:{header:"Confirmar la transacción en {{ name }}",text:"Solo tomará un momento."}},es_LAT={common:common$c,button:button$c,notifications:notifications$c,walletModal:walletModal$c,actionModal:actionModal$c},common$b={openWallet:"Portefeuille ouvert",get:"Obtenir",close:"Fermer",retry:"Réessayer"},button$b={connectWallet:"Connecter le portefeuille",dropdown:{copy:"Copier l’adresse",copied:"Adresse copiée",disconnect:"Déconnecter"}},notifications$b={confirm:{header:"Ouvrir {{ name }} pour confirmer la transaction."},transactionSent:{header:"Transaction envoyée",text:"Votre transaction sera traitée en quelques secondes."},transactionCanceled:{header:"Transaction annulée",text:"Aucun changement ne sera apporté à votre compte."}},walletModal$b={mobileConnectionModal:{showQR:"Afficher le code QR",scanQR:"Scannez le code QR ci-dessous avec la caméra de votre téléphone ou de votre {{ name }}.",continueIn:"Poursuivre la transaction dans OKX Wallet",connectionDeclined:"Échec de la connexion",PoweredBy:"Powered by",appAndTelegram:{header:"Connect to OKX Wallet",text:"OKX Wallet est disponible sur OKX App et Telegram"},connectApp:"Se connecter à l’appli OKX",connectMini:"Se connecter à OKX Mini Wallet"}},actionModal$b={confirmTransaction:{header:"Confirmer la transaction dans {{ name }}",text:"Cela ne prendra qu'un instant."}},fr_FR={common:common$b,button:button$b,notifications:notifications$b,walletModal:walletModal$b,actionModal:actionModal$b},common$a={openWallet:"Buka wallet",get:"Dapatkan",close:"Tutup",retry:"Coba lagi"},button$a={connectWallet:"Hubungkan wallet",dropdown:{copy:"Salin alamat",copied:"Alamat disalin",disconnect:"Putuskan sambungan"}},notifications$a={confirm:{header:"Buka {{ name }} untuk mengonfirmasi transaksi."},transactionSent:{header:"Transaksi terkirim",text:"Transaksi Anda akan diproses dalam beberapa detik."},transactionCanceled:{header:"Transaksi dibatalkan",text:"Tidak akan ada perubahan pada akun Anda."}},walletModal$a={mobileConnectionModal:{showQR:"Tampilkan Kode QR",scanQR:"Pindai kode QR di bawah dengan kamera ponsel atau {{ name }} Anda",continueIn:"Lanjutkan transaksi di OKX Wallet",connectionDeclined:"Koneksi gagal",PoweredBy:"Powered by",appAndTelegram:{header:"Connect to OKX Wallet",text:"OKX Wallet tersedia di OKX App dan Telegram"},connectApp:"Hubungkan ke OKX App",connectMini:"Hubungkan ke OKX Mini Wallet"}},actionModal$a={confirmTransaction:{header:"Konfirmasi transaksi pada {{ name }}",text:"Hanya perlu beberapa saat."}},id_ID={common:common$a,button:button$a,notifications:notifications$a,walletModal:walletModal$a,actionModal:actionModal$a},common$9={openWallet:"Apri portafoglio",get:"Ottieni",close:"Chiudi",retry:"Riprova"},button$9={connectWallet:"Connetti il portafoglio",dropdown:{copy:"Copia indirizzo",copied:"Indirizzo copiato",disconnect:"Disconnetti"}},notifications$9={confirm:{header:"Apri {{ name }} per confermare la transazione."},transactionSent:{header:"Transazione inviata",text:"La transazione verrà elaborata in pochi secondi."},transactionCanceled:{header:"Transazione annullata",text:"Il tuo conto non subirà modifiche."}},walletModal$9={mobileConnectionModal:{showQR:"Mostra il codice QR",scanQR:"Scansiona il codice QR di seguito con la fotocamera del tuo smartphone o {{ name }}",continueIn:"Continua la transazione in OKX Wallet",connectionDeclined:"Collegamento non riuscito",PoweredBy:"Powered by",appAndTelegram:{header:"Connect to OKX Wallet",text:"OKX Wallet è disponibile sull'app OKX e Telegram"},connectApp:"Connettiti all'app OKX",connectMini:"Connettiti a OKX Mini Wallet"}},actionModal$9={confirmTransaction:{header:"Conferma la transazione in {{ name }}",text:"Ci vorrà solo un secondo."}},it_IT={common:common$9,button:button$9,notifications:notifications$9,walletModal:walletModal$9,actionModal:actionModal$9},common$8={openWallet:"Wallet openen",get:"Krijgen",close:"Sluiten",retry:"Opnieuw proberen"},button$8={connectWallet:"Wallet koppelen",dropdown:{copy:"Adres kopiëren",copied:"Adres gekopieerd",disconnect:"Verbinding verbreken"}},notifications$8={confirm:{header:"Open {{ name }} om de transactie te bevestigen."},transactionSent:{header:"Transactie verstuurd",text:"Je transactie wordt binnen een paar seconden verwerkt."},transactionCanceled:{header:"Transactie geannuleerd",text:"Er verandert niets aan je account."}},walletModal$8={mobileConnectionModal:{showQR:"QR-code weergeven",scanQR:"Scan de QR-code hieronder met de camera van je telefoon of de camera van{{ name }}",continueIn:"Ga verder met de transactie in OKX Wallet",connectionDeclined:"Koppelen mislukt",PoweredBy:"Powered by",appAndTelegram:{header:"Connect to OKX Wallet",text:"OKX Wallet is beschikbaar op OKX App en Telegram"},connectApp:"Koppelen met de OKX-app",connectMini:"Koppelen met OKX Mini Wallet"}},actionModal$8={confirmTransaction:{header:"De transactie in {{ name }} bevestigen",text:"Het is zo gebeurd."}},nl_NL={common:common$8,button:button$8,notifications:notifications$8,walletModal:walletModal$8,actionModal:actionModal$8},common$7={openWallet:"Otwórz portfel",get:"Otrzymaj",close:"Zamknij",retry:"Spróbuj ponownie"},button$7={connectWallet:"Połącz portfel",dropdown:{copy:"Kopiuj adres",copied:"Adres skopiowany",disconnect:"Rozłącz"}},notifications$7={confirm:{header:"Otwórz {{ name }}, aby potwierdzić transakcję."},transactionSent:{header:"Wysłano transakcję",text:"Transakcja zostanie przetworzona w ciągu kilku sekund."},transactionCanceled:{header:"Anulowano transakcję",text:"Na koncie nie zostaną wprowadzone żadne zmiany."}},walletModal$7={mobileConnectionModal:{showQR:"Pokaż kod QR",scanQR:"Zeskanuj poniższy kod QR za pomocą aparatu w telefonie lub {{ name }}",continueIn:"Kontynuuj transakcję w OKX Wallet",connectionDeclined:"Połączenie nieudane",PoweredBy:"Powered by",appAndTelegram:{header:"Connect to OKX Wallet",text:"OKX Wallet jest dostępny w aplikacji OKX i Telegramie"},connectApp:"Połącz z aplikacją OKX",connectMini:"Połącz z OKX Mini Wallet"}},actionModal$7={confirmTransaction:{header:"Potwierdź transakcję w {{ name }}",text:"To zajmie tylko chwilę."}},pl_PL={common:common$7,button:button$7,notifications:notifications$7,walletModal:walletModal$7,actionModal:actionModal$7},common$6={openWallet:"Abrir carteira",get:"Receber",close:"Fechar",retry:"Tentar novamente"},button$6={connectWallet:"Conectar carteira",dropdown:{copy:"Copiar endereço",copied:"Endereço copiado",disconnect:"Desconectar"}},notifications$6={confirm:{header:"Abrir {{ name }} para confirmar a transação."},transactionSent:{header:"Transação enviada",text:"Sua transação será processada em alguns segundos."},transactionCanceled:{header:"Transação cancelada",text:"Não haverá alterações em sua conta."}},walletModal$6={mobileConnectionModal:{showQR:"Mostrar Código QR",scanQR:"Digitalize o código QR abaixo com a câmera do seu telefone ou do {{ name }}",continueIn:"Continuar a transação na OKX Wallet",connectionDeclined:"Falha na conexão",PoweredBy:"Powered by",appAndTelegram:{header:"Connect to OKX Wallet",text:"A OKX Wallet está disponível na OKX App e no Telegram"},connectApp:"Conecte-se à OKX App",connectMini:"Conecte-se à OKX Mini Wallet"}},actionModal$6={confirmTransaction:{header:"Confirmar a transação em {{ name }}",text:"Isso levará apenas um momento."}},pt_BR={common:common$6,button:button$6,notifications:notifications$6,walletModal:walletModal$6,actionModal:actionModal$6},common$5={openWallet:"Abrir carteira",get:"Receber",close:"Fechar",retry:"Tentar novamente"},button$5={connectWallet:"Associar carteira",dropdown:{copy:"Copiar endereço",copied:"Endereço copiado",disconnect:"Desassociar"}},notifications$5={confirm:{header:"Abra {{ name }} para confirmar a transação."},transactionSent:{header:"Transação efetuada",text:"A sua transação será processada dentro de poucos segundos."},transactionCanceled:{header:"Transação cancelada",text:"Não serão feitas alterações à sua conta."}},walletModal$5={mobileConnectionModal:{showQR:"Mostrar código QR",scanQR:"Leia o código QR abaixo com a câmara do seu telemóvel ou {{ name }}",continueIn:"Continuar a transação na OKX Wallet",connectionDeclined:"Falha na ligação",PoweredBy:"Powered by",appAndTelegram:{header:"Connect to OKX Wallet",text:"A OKX Wallet está disponível na Aplicação da OKX e no Telegram"},connectApp:"Associar à Aplicação da OKX",connectMini:"Associar à OKX Mini Wallet"}},actionModal$5={confirmTransaction:{header:"Confirmar a transação na {{ name }}",text:"Demora apenas um momento."}},pt_PT={common:common$5,button:button$5,notifications:notifications$5,walletModal:walletModal$5,actionModal:actionModal$5},common$4={openWallet:"Deschideți portofelul",get:"Primiți",close:"Închideți",retry:"Reîncercați"},button$4={connectWallet:"Conectați portofelul",dropdown:{copy:"Copiați adresa",copied:"Adresă copiată",disconnect:"Deconectați"}},notifications$4={confirm:{header:"Deschideți {{ name }} pentru a confirma tranzacția."},transactionSent:{header:"Tranzacție trimisă",text:"Tranzacția dvs. va fi procesată în câteva secunde."},transactionCanceled:{header:"Tranzacție anulată",text:"Nu va exista nicio modificare în cont."}},walletModal$4={mobileConnectionModal:{showQR:"Scanați codul QR",scanQR:"Scanați codul QR mai jos cu camera telefonului sau a {{ name }}",continueIn:"Continuați tranzacția în OKX Wallet",connectionDeclined:"Conexiunea a eșuat",PoweredBy:"Powered by",appAndTelegram:{header:"Connect to OKX Wallet",text:"OKX Wallet este disponibil din aplicația OKX și Telegram"},connectApp:"Conectați-vă la aplicația OKX",connectMini:"Conectați-vă la OKX Mini Wallet"}},actionModal$4={confirmTransaction:{header:"Confirmați tranzacția în {{ name }}",text:"Va dura doar un moment."}},ro_RO={common:common$4,button:button$4,notifications:notifications$4,walletModal:walletModal$4,actionModal:actionModal$4},common$3={openWallet:"Cüzdanı aç",get:"Al",close:"Kapat",retry:"Tekrar Dene"},button$3={connectWallet:"Cüzdanı bağla",dropdown:{copy:"Adresi kopyala",copied:"Adres kopyalandı!",disconnect:"Bağlantıyı kes"}},notifications$3={confirm:{header:"İşlemi onaylamak için {{ name }} ögesini açın."},transactionSent:{header:"İşlem gönderildi.",text:"İşleminiz birkaç saniye içinde gerçekleştirilecek."},transactionCanceled:{header:"İşlem iptal edildi!",text:"Hesabınızda değişiklik olmayacak."}},walletModal$3={mobileConnectionModal:{showQR:"QR Kodunu Göster",scanQR:"Aşağıdaki QR kodunu telefonunuzun veya {{ name }} cihazınızın kamerasıyla tarayın.",continueIn:"İşleme OKX Web3 Cüzdan’da devam edin.",connectionDeclined:"Bağlantı başarısız.",PoweredBy:"Powered by",appAndTelegram:{header:"Connect to OKX Wallet",text:"OKX Web3 Cüzdan, OKX Uygulamasında ve Telegram’da kullanıma sunuldu"},connectApp:"OKX Uygulamasına Bağlan",connectMini:"OKX Mini Cüzdanına Bağlan"}},actionModal$3={confirmTransaction:{header:"{{ name }} Konumunda İşlemi Onaylayın",text:"Bu yalnızca bir dakikanızı alacak."}},tr_TR={common:common$3,button:button$3,notifications:notifications$3,walletModal:walletModal$3,actionModal:actionModal$3},common$2={openWallet:"Відкритий гаманець",get:"Отримати",close:"Закрити",retry:"Повторити спробу"},button$2={connectWallet:"Підключити гаманець",dropdown:{copy:"Копіювати адресу",copied:"Адресу скопійовано",disconnect:"Відключити"}},notifications$2={confirm:{header:"Відкрийте {{ name }}, щоб підтвердити транзакцію."},transactionSent:{header:"Транзакцію надіслано",text:"Вашу транзакцію буде оброблено через кілька секунд."},transactionCanceled:{header:"Транзакцію скасовано",text:"У вашому акаунті не буде змін."}},walletModal$2={mobileConnectionModal:{showQR:"Показати QR-код",scanQR:"Відскануйте наведений нижче QR-код за допомогою камери свого телефона або {{ name }}",continueIn:"Продовжте транзакцію в OKX Wallet",connectionDeclined:"Помилка підключення",PoweredBy:"Powered by",appAndTelegram:{header:"Connect to OKX Wallet",text:"OKX Гаманець доступний у застосунку OKX і Telegram"},connectApp:"Підключитися до застосунка OKX",connectMini:"Підключитися до мінігаманця OKX"}},actionModal$2={confirmTransaction:{header:"Підтвердьте транзакцію в {{ name }}",text:"Це займе лише мить."}},uk_UA={common:common$2,button:button$2,notifications:notifications$2,walletModal:walletModal$2,actionModal:actionModal$2},common$1={openWallet:"Mở ví",get:"Nhận",close:"Đóng",retry:"Thử lại"},button$1={connectWallet:"Kết nối ví",dropdown:{copy:"Sao chép địa chỉ",copied:"Đã sao chép địa chỉ",disconnect:"Ngắt kết nối"}},notifications$1={confirm:{header:"Mở {{ name }} để xác nhận giao dịch."},transactionSent:{header:"Đã gửi giao dịch",text:"Giao dịch của bạn sẽ được xử lý trong vài giây."},transactionCanceled:{header:"Đã hủy giao dịch",text:"Không có thay đổi nào với tài khoản của bạn."}},walletModal$1={mobileConnectionModal:{showQR:"Hiển thị mã QR",scanQR:"Quét mã QR bên dưới bằng máy ảnh điện thoại hoặc {{ name }} của bạn",continueIn:"Tiếp tục giao dịch trên Ví Web3 OKX",connectionDeclined:"Kết nối không thành công",PoweredBy:"Powered by",appAndTelegram:{header:"Connect to OKX Wallet",text:"Ví Web3 OKX hiện có trên cả Ứng dụng OKX và Telegram"},connectApp:"Kết nối Ứng dụng OKX",connectMini:"Kết nối Ví Web3 OKX Mini"}},actionModal$1={confirmTransaction:{header:"Xác nhận giao dịch trong {{ name }}",text:"Nó chỉ mất chút thời gian."}},vi_VN={common:common$1,button:button$1,notifications:notifications$1,walletModal:walletModal$1,actionModal:actionModal$1},common={openWallet:"打開錢包",get:"獲取",close:"關閉",retry:"重試"},button={connectWallet:"連接錢包",dropdown:{copy:"複製地址",copied:"地址已複製",disconnect:"斷開連接"}},notifications={confirm:{header:"打開 {{ name }} 以確認交易"},transactionSent:{header:"交易已發送",text:"交易即將完成，請稍候"},transactionCanceled:{header:"交易已取消",text:"賬戶未發生任何更改"}},walletModal={mobileConnectionModal:{OKXConnect:"OKX Connect",showQR:"展示二維碼",scanQR:"使用手機或 OKX 錢包的相機掃描下方二維碼",continueIn:"在 OKX 錢包中繼續完成",connectionDeclined:"連接失敗",PoweredBy:"Powered by",appAndTelegram:{header:"連接 OKX 錢包",text:" OKX 錢包可在 OKX App 和 Telegram 使用"},connectApp:"連接 OKX App",connectMini:"連接 OKX Mini Wallet"}},actionModal={confirmTransaction:{header:"在 {{ name }} 中確認交易",text:"請稍候"}},zh_TW={common,button,notifications,walletModal,actionModal},i18nDictionary={en_US:parseDictionary(en),ru_RU:parseDictionary(ru),zh_CN:parseDictionary(zh_CN),zh:parseDictionary(zh_CN),ar_AE:parseDictionary(ar_AE),cs_CZ:parseDictionary(cs_CZ),de_DE:parseDictionary(de_DE),es_ES:parseDictionary(es_ES),es_LAT:parseDictionary(es_LAT),fr_FR:parseDictionary(fr_FR),id_ID:parseDictionary(id_ID),it_IT:parseDictionary(it_IT),nl_NL:parseDictionary(nl_NL),pl_PL:parseDictionary(pl_PL),pt_BR:parseDictionary(pt_BR),pt_PT:parseDictionary(pt_PT),ro_RO:parseDictionary(ro_RO),tr_TR:parseDictionary(tr_TR),uk_UA:parseDictionary(uk_UA),vi_VN:parseDictionary(vi_VN),zh_TW:parseDictionary(zh_TW)};function parseDictionary(f){const r="$",d=g=>{Object.entries(g).forEach(([_,v])=>{if(typeof v=="object"&&v)return d(v);if(typeof v=="string"){if(v[0]===r){const y=v.slice(1).split(".");let m=f;y.forEach(w=>{if(w in m)m=m[w];else throw new Error(`Cannot parse translations: there is no property ${w} in translation`)}),g[_]=m}v.slice(0,2)===`\\${r}`&&(g[_]=v.slice(1))}})};return d(f),f}const ActionModalStyled=styled.div`
    display: flex;
    flex-direction: column;
    align-items: center;
    padding-bottom: 8px;
`,H1Styled=styled(H1)`
    margin-top: 16px;
`,TextStyled=styled(Text)`
    font-weight: 400;
    font-size: 16px;
    line-height: 20px;
    text-align: center;
    max-width: 250px;
    margin-top: 10px;
    color: ${f=>f.theme.colors.text.contrast};
`;styled(Button)`
    min-width: 112px;
    margin-top: 32px;
`;styled(LoaderIcon)`
    height: 16px;
    width: 16px;
`;const ButtonStyled=styled.div`
    margin-top: 24px;
  background-color: ${f=>f.theme.colors.text.primary};
  height: 48px;
  width: 262px;
  justify-content: center;
  border-radius: 24px;
  display: flex;
  align-items: center;
  gap: 8px;
`,ActionModal=f=>{const r=useDataAttributes(f),d=useContext(OKXConnectUiContext);createSignal(!0);const[g,_]=createSignal(!1),v=useTheme(),{action:y}=useContext(ActionsModalContext);createEffect(()=>{const w=y;_(!!w&&"sent"in w&&w.sent)});const m=()=>{src$6.logDebug("ActionModal ====> onOpenWallet "),d==null||d.openWallet()};return createComponent(ActionModalStyled,mergeProps(r,{get children(){return[createMemo(()=>f.icon),createComponent(H1Styled,{get translationKey(){return f.headerTranslationKey},get translationValues(){return f.headerTranslationValues},get children(){return f.headDefaultString}}),createComponent(TextStyled,{get translationKey(){return f.textTranslationKey},get translationValues(){return f.textTranslationValues}}),createComponent(Show,{get when(){return d==null?void 0:d.showActionButton()},get children(){return[createComponent(Show,{get when(){return f.showButton==="close"},get children(){return createComponent(ButtonStyled,{onClick:()=>f.onClose(),get children(){return createComponent(Text,{fontWeight:700,fontSize:"16px",get color(){return v.colors.background.primary},get children(){return createComponent(Translation,{translationKey:"common.close",children:"Close"})}})}})}}),createComponent(Show,{get when(){return f.showButton==="open-wallet"},get children(){return createComponent(ButtonStyled,{onClick:m,get children(){return createComponent(Text,{fontWeight:700,fontSize:"16px",get color(){return v.colors.background.primary},get children(){return createComponent(Translation,{translationKey:"common.openWallet",children:"Open wallet"})}})}})}})]}})]}}))},ConfirmTransactionModal=f=>{const r=useContext(OKXConnectUiContext),[d]=useI18n(),g=()=>r.walletName?r.walletName:d("common.yourWallet",{},"Your wallet");return createComponent(ActionModal,{headerTranslationKey:"actionModal.confirmTransaction.header",get headerTranslationValues(){return{name:g()}},textTranslationKey:"actionModal.confirmTransaction.text",get icon(){return createComponent(OKXLoaderIconWithLogo,{})},onClose:()=>f.onClose(),get showButton(){return isMobile()?"open-wallet":void 0},"data-tc-confirm-modal":"true"})},TransactionCanceledModal=f=>createComponent(ActionModal,{headerTranslationKey:"actionModal.transactionCanceled.header",textTranslationKey:"actionModal.transactionCanceled.text",get icon(){return createComponent(ErrorIcon,{size:"m"})},onClose:()=>f.onClose(),get showButton(){return isMobile()?"close":void 0},"data-tc-transaction-canceled-modal":"true"}),TransactionSentModal=f=>createComponent(ActionModal,{headerTranslationKey:"actionModal.transactionSent.header",textTranslationKey:"actionModal.transactionSent.text",get icon(){return createComponent(SuccessIcon,{size:"m"})},onClose:()=>f.onClose(),get showButton(){return isMobile()?"close":void 0},"data-tc-transaction-sent-modal":"true"}),TransactionErrorModal=f=>createComponent(ActionModal,{headerTranslationKey:"actionModal.transactionError.header",textTranslationKey:"actionModal.transactionCanceled.text",headDefaultString:"Error",get icon(){return createComponent(ErrorIcon,{size:"m"})},onClose:()=>f.onClose(),get showButton(){return isMobile()?"close":void 0},"data-tc-transaction-error-modal":"true"}),ActionsModalContext=createContext({action:null}),ActionsModal=f=>(createEffect(()=>{console.log("ActionsModal",f.action)}),createComponent(ActionsModalContext.Provider,{get value(){return{action:f.action}},get children(){return createComponent(Modal,{get opened(){var r;return f.action!==null&&((r=f.action)==null?void 0:r.openModal)===!0},onClose:()=>f.setAction(null),"data-tc-actions-modal-container":"true",get children(){return createComponent(Switch,{get children(){return[createComponent(Match,{get when(){return f.action.name==="transaction-sent"},get children(){return createComponent(TransactionSentModal,{onClose:()=>f.setAction(null)})}}),createComponent(Match,{get when(){return f.action.name==="transaction-canceled"},get children(){return createComponent(TransactionCanceledModal,{onClose:()=>f.setAction(null)})}}),createComponent(Match,{get when(){return f.action.name==="confirm-transaction"},get children(){return createComponent(ConfirmTransactionModal,{onClose:()=>f.setAction(null)})}}),createComponent(Match,{get when(){return f.action.name==="transaction-error"},get children(){return createComponent(TransactionErrorModal,{onClose:()=>f.setAction(null)})}})]}})}})}})),defaultLightColorsSet={constant:{black:"#000000",white:"#FFFFFF"},connectButton:{background:"#0098EA",foreground:"#FFFFFF"},accent:"#0098EA",telegramButton:"#0098EA",qrFill:"#000000",icon:{primary:"#0F0F0F",secondary:"#7A8999",tertiary:"#C1CAD2",success:"#29CC6A",error:"#F5A73B"},background:{primary:"#FFFFFF",secondary:"#F1F3F5",segment:"#FFFFFF",tint:"#F1F3F5",qr:"#FFFFFF"},text:{primary:"#000000",secondary:"#6A7785",contrast:"#909090"},border:{primary:"#00000014",secondary:"#00000024"},disable:"#B3B3B3"},defaultDarkColorsSet={constant:{black:"#000000",white:"#FFFFFF"},connectButton:{background:"#0098EA",foreground:"#FFFFFF"},accent:"#E5E5EA",telegramButton:"#31A6F5",qrFill:"#FFFFFF",icon:{primary:"#E5E5EA",secondary:"#909099",tertiary:"#434347",success:"#29CC6A",error:"#F5A73B"},background:{primary:"#121214",secondary:"#18181A",segment:"#262629",tint:"#222224",qr:"#121214"},text:{primary:"#FFFFFF",secondary:"#7D7D85",contrast:"#909090"},border:{primary:"#FFFFFF1F",secondary:"#FFFFFF30"},disable:"#5B5B5B"};createStore({theme:THEME.LIGHT,colors:defaultLightColorsSet,borderRadius:"m"});THEME.LIGHT+"",THEME.DARK+"";THEME.LIGHT+"",THEME.DARK+"";/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */function isObject(f){return Object.prototype.toString.call(f)==="[object Object]"}function isPlainObject(f){var r,d;return isObject(f)===!1?!1:(r=f.constructor,r===void 0?!0:(d=r.prototype,!(isObject(d)===!1||d.hasOwnProperty("isPrototypeOf")===!1)))}function mergeOptions(f,r){return f?deepmerge$1(r,f,{arrayMerge:(g,_,v)=>_,isMergeableObject:isPlainObject}):r}const validLocales=["en_US","ru_RU","zh_CN","zh","ar_AE","cs_CZ","de_DE","es_ES","es_LAT","fr_FR","id_ID","it_IT","nl_NL","pl_PL","pt_BR","pt_PT","ro_RO","tr_TR","uk_UA","vi_VN","zh_TW"];function isValidLocale(f){return validLocales.includes(f)}const[universalWalletsModalState,setUniversalWalletsModalState]=createSignal({status:"closed",closeReason:null});createMemo(()=>universalWalletsModalState().status==="opened");const[universalSingleWalletModalState,setUniversalSingleWalletModalState]=createSignal({status:"closed",closeReason:null}),getUniversalSingleWalletModalIsOpened=createMemo(()=>universalSingleWalletModalState().status==="opened"),getUniversalSingleWalletModalWalletInfo=createMemo(()=>{const f=universalSingleWalletModalState();return f.status==="opened"?f.walletInfo:null});let lastSelectedWalletInfoStorage=typeof window<"u"?new LastSelectedWalletInfoStorage:void 0;const[lastUniversalSelectedWalletInfo,_setLastUniversalSelectedWalletInfo]=createSignal((lastSelectedWalletInfoStorage==null?void 0:lastSelectedWalletInfoStorage.getLastSelectedWalletInfo())||null),setLastUniversalSelectedWalletInfo=f=>{lastSelectedWalletInfoStorage||(lastSelectedWalletInfoStorage=new LastSelectedWalletInfoStorage),f?(logDebug(`modals-state.ts: setLastSelectedWalletInfo ${JSON.stringify(f)}`),lastSelectedWalletInfoStorage.setLastSelectedWalletInfo(f)):(logDebug("modals-state.ts: setLastSelectedWalletInfo    removeLastSelectedWalletInfo"),lastSelectedWalletInfoStorage.removeLastSelectedWalletInfo()),_setLastUniversalSelectedWalletInfo(f)},[universalAction,setUniversalAction]=createSignal(null),UniversalSingleWalletModal=()=>{const f=useContext(OKXConnectUiContext),r=useContext(UniversalConnectorContext),[d,g]=createSignal(null),[_,v]=createSignal(!1),[y,m]=createSignal(!1),w=C=>{f.closeModal(C)};return r==null||r.on("okx_engine_connect_params",C=>{src$6.logDebug(`UniversalSigneWalletModal  okx_engine_connect_params  ${JSON.stringify(C)}`),g(C)}),r==null||r.on("session_connecting",()=>{src$6.logDebug("UniversalSigneWalletModal  session_connecting  }"),m(!0)}),createEffect(()=>{getUniversalSingleWalletModalIsOpened()||(v(!1),g(null),m(!1))}),createComponent(SingleWalletModal,{get opened(){return getUniversalSingleWalletModalIsOpened()},get walletInfo(){return getUniversalSingleWalletModalWalletInfo()},loadingBeforeConnect:()=>!1,connect:()=>new Promise((C,b)=>{var E,S;universalAppState.connectRequestParameters&&new OKXConnectUiError("connect params is nil");let R=__spreadValues({},JSON.parse(JSON.stringify(universalAppState.connectRequestParameters)));R.sessionConfig={},R.sessionConfig.openUniversalUrl=defaultOpenUniversalLink((E=universalAppState.connectRequestParameters)==null?void 0:E.namespaces,(S=universalAppState.connectRequestParameters)==null?void 0:S.optionalNamespaces),v(!1),g(null),m(!1),f.handleConnect(O=>(R.sessionConfig.tmaReturnUrl=O==null?void 0:O.tmaReturnUrl,R.sessionConfig.redirect=O==null?void 0:O.returnStrategy,r.connect(R))).then(O=>{O?(w("wallet-selected"),C(O)):(v(!0),w("action-cancelled"))}).catch(O=>{v(!0),src$6.logDebug("UniversalSingleWalletModal connect  error",JSON.stringify(O)),b(O)})}),onClose:w,universalLinkParams:d,get lastSelectedWalletInfo(){return lastUniversalSelectedWalletInfo()},setLastSelectedWalletInfo:setLastUniversalSelectedWalletInfo,connectError:_,showRetry:!1,walletConnector:()=>(checkIconnectorEnable(),universalAppState.walletConnector.filter(C=>C.enable)),get language(){return universalAppState.language},sessionConnecting:y})},[universalThemeState,setUniversalThemeState]=createStore({theme:THEME.LIGHT,colors:defaultLightColorsSet,borderRadius:"m"}),themeColorsMappingDefault={[THEME.LIGHT]:defaultLightColorsSet,[THEME.DARK]:defaultDarkColorsSet};THEME.LIGHT+"",THEME.DARK+"";function setUniversalTheme(f){setUniversalThemeState({theme:f,colors:themeColorsMappingDefault[f]})}const UniversalApp=f=>{const r=createI18nContext(i18nDictionary,universalAppState.language);return defineStylesRoot(),fixMobileSafariActiveTransition(),createComponent(I18nContext.Provider,{value:r,get children(){return createComponent(OKXConnectUiContext.Provider,{get value(){return f.connectUI},get children(){return createComponent(UniversalConnectorContext.Provider,{get value(){return universalAppState.connector},get children(){return[createComponent(GlobalStyles,{}),createComponent(ThemeProvider,{theme:universalThemeState,get children(){return createComponent(Dynamic,{component:globalStylesTag,style:{position:"relative","z-index":3001},get children(){return[createComponent(UniversalSingleWalletModal,{}),createComponent(ActionsModal,{get action(){return universalAction()},setAction:setUniversalAction})]}})}})]}})}})}})},universalWidgetController={openSingleWalletModal:f=>{src$6.logDebug(`universalWidgetController : openSingleWalletModal : ${JSON.stringify(f)}`),setTimeout(()=>setUniversalSingleWalletModalState({status:"opened",closeReason:null,walletInfo:f}))},closeSingleWalletModal:f=>void setTimeout(()=>setUniversalSingleWalletModalState({status:"closed",closeReason:f})),setAction:f=>void setTimeout(()=>setUniversalAction(f)),clearAction:()=>void setTimeout(()=>{console.log("clearAction"),setUniversalAction(null)}),getSelectedWalletInfo:()=>lastUniversalSelectedWalletInfo(),removeSelectedWalletInfo:()=>setLastUniversalSelectedWalletInfo(null),renderUniversalApp:(f,r)=>render(()=>createComponent(UniversalApp,{connectUI:r}),document.getElementById(f))};class Signal{constructor(){__publicField(this,"listeners",[])}listen(r){this.listeners.push(r)}trigger(r){this.listeners.forEach(d=>d(r))}}class UniversalSingleWalletModalManager{constructor(r){__publicField(this,"consumers",[]),__publicField(this,"getWalltsInfo"),__publicField(this,"connectSignal",new Signal),__publicField(this,"state",universalSingleWalletModalState()),this.getWalltsInfo=r.getWalltsInfo,createEffect(()=>{const d=universalSingleWalletModalState();this.state=d,this.consumers.forEach(g=>g(d))})}open(r,d){return __async(this,null,function*(){src$6.logDebug(`UniversalSingleWalletModalManager : open : ${JSON.stringify(d)}`);const _=this.getWalltsInfo().find(y=>eqWalletName(y,r));if(_)return this.openSingleWalletModal(_,d);const v=`Trying to open modal window with unknown wallet "${r}".`;throw new OKXConnectUiError(v)})}close(r="action-cancelled"){universalWidgetController.closeSingleWalletModal(r)}onStateChange(r){return this.consumers.push(r),()=>{this.consumers=this.consumers.filter(d=>d!==r)}}handleConnect(r,d){return __async(this,null,function*(){return new Promise((g,_)=>{try{r(d).then(v=>{g(v),src$6.logDebug("UniversalSingleWalletModalManager  result >>>",JSON.stringify(v)),this.connectSignal.trigger(v)}).catch(v=>{_(v),src$6.logDebug("UniversalSingleWalletModalManager  error >>>",JSON.stringify(v)),this.connectSignal.trigger(v)})}catch(v){_(v),src$6.logDebug("UniversalSingleWalletModalManager  catch error >>>",JSON.stringify(v)),this.connectSignal.trigger(v)}})})}openSingleWalletModal(r,d){return __async(this,null,function*(){var g;if(src$6.logDebug(`UniversalSingleWalletModalManager : openSingleWalletModal : ${JSON.stringify(d)}`),isInTMA()&&sendExpand(),setUniversalAppState({connectRequestParameters:d}),checkIconnectorEnable(),!universalAppState.walletConnector.some(v=>v.enable))throw new src$6.OKXConnectError(src$6.OKX_CONNECT_ERROR_CODES.CHAIN_NOT_SUPPORTED);const _=new Promise((v,y)=>{this.connectSignal.listen(m=>{m instanceof Error?y(m):v(m)})});if(universalAppState.walletConnector.length==1&&((g=universalAppState.walletConnector[0])==null?void 0:g.getTag())===src$6.OKX_INJECT_WALLET){let v=universalAppState.walletConnector[0];d.sessionConfig={};const y=universalAppState.connector;if(y)return y==null||y.once("okx_engine_connect_params",m=>{v.openWallet(m)}),y==null?void 0:y.connect(d)}else return universalWidgetController.openSingleWalletModal(r),_})}}function base(f){if(f.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),d=0;d<r.length;d++)r[d]=255;for(var g=0;g<f.length;g++){var _=f.charAt(g),v=_.charCodeAt(0);if(r[v]!==255)throw new TypeError(_+" is ambiguous");r[v]=g}var y=f.length,m=f.charAt(0),w=Math.log(y)/Math.log(256),C=Math.log(256)/Math.log(y);function b(R){if(R instanceof Uint8Array||(ArrayBuffer.isView(R)?R=new Uint8Array(R.buffer,R.byteOffset,R.byteLength):Array.isArray(R)&&(R=Uint8Array.from(R))),!(R instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(R.length===0)return"";for(var O=0,$=0,I=0,U=R.length;I!==U&&R[I]===0;)I++,O++;for(var L=(U-I)*C+1>>>0,j=new Uint8Array(L);I!==U;){for(var F=R[I],X=0,z=L-1;(F!==0||X<$)&&z!==-1;z--,X++)F+=256*j[z]>>>0,j[z]=F%y>>>0,F=F/y>>>0;if(F!==0)throw new Error("Non-zero carry");$=X,I++}for(var Y=L-$;Y!==L&&j[Y]===0;)Y++;for(var ne=m.repeat(O);Y<L;++Y)ne+=f.charAt(j[Y]);return ne}function E(R){if(typeof R!="string")throw new TypeError("Expected String");if(R.length===0)return new Uint8Array;for(var O=0,$=0,I=0;R[O]===m;)$++,O++;for(var U=(R.length-O)*w+1>>>0,L=new Uint8Array(U);R[O];){var j=r[R.charCodeAt(O)];if(j===255)return;for(var F=0,X=U-1;(j!==0||F<I)&&X!==-1;X--,F++)j+=y*L[X]>>>0,L[X]=j%256>>>0,j=j/256>>>0;if(j!==0)throw new Error("Non-zero carry");I=F,O++}for(var z=U-I;z!==U&&L[z]===0;)z++;for(var Y=new Uint8Array($+(U-z)),ne=$;z!==U;)Y[ne++]=L[z++];return Y}function S(R){var O=E(R);if(O)return O;throw new Error("Non-base"+y+" character")}return{encode:b,decodeUnsafe:E,decode:S}}var src=base;const basex=src,ALPHABET="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";var bs58=basex(ALPHABET),walletInfo={};(function(f){Object.defineProperty(f,"__esModule",{value:!0}),f.OKXInjectWalletName=f.OKXMiniWalletName=f.OKXWalletName=void 0,f.creatOKXWalletInfo=r,f.creatOKXMiniAppWalletInfo=d,f.creatOKXInjectWalletInfo=g,f.OKXWalletName="OKX Wallet",f.OKXMiniWalletName="OKX Mini Wallet",f.OKXInjectWalletName="OKX Inject Wallet";function r(){return{appName:"okxAppWallet",name:f.OKXWalletName,imageUrl:"https://static.okx.com/cdn/assets/imgs/247/58E63FEA47A2B7D7.png"}}function d(){return{appName:"okxMiniApp",name:f.OKXMiniWalletName,imageUrl:"https://static.okx.com/cdn/assets/imgs/247/58E63FEA47A2B7D7.png"}}function g(){return{appName:"okxInjectWallet",name:f.OKXInjectWalletName,imageUrl:""}}})(walletInfo);const _OKXUniversalConnectUI=class{constructor(f,r){__publicField(this,"singleWalletModal"),__publicField(this,"actionsConfiguration"),__publicField(this,"systemThemeChangeUnsubscribe",null),__publicField(this,"universalProvider"),src$6.logDebug("OKXUniversalConnectUI constructor options:",JSON.stringify(f)),this.singleWalletModal=new UniversalSingleWalletModalManager({getWalltsInfo:()=>_OKXUniversalConnectUI.getWallets()});const d=this.normalizeWidgetRoot(void 0);this.universalProvider=r,this.uiOptions=mergeOptions(f,{uiPreferences:{theme:"SYSTEM"},dappMetaData:f.dappMetaData}),setUniversalAppState({connector:r,walletConnector:f.connector,dappMetaData:f.dappMetaData}),universalWidgetController.renderUniversalApp(d,this)}static getWallets(){return[src$6.creatOKXWalletInfo(),src$6.creatOKXMiniAppWalletInfo(),walletInfo.creatOKXInjectWalletInfo()]}set uiOptions(f){var r,d,g;src$6.logDebug("OKXUniversalConnectUI uiOptions() called"),this.actionsConfiguration=f.actionsConfiguration,(r=f.uiPreferences)!=null&&r.theme&&(((d=f.uiPreferences)==null?void 0:d.theme)!=="SYSTEM"?((g=this.systemThemeChangeUnsubscribe)==null||g.call(this),setUniversalTheme(f.uiPreferences.theme)):(setUniversalTheme(getSystemTheme()),this.systemThemeChangeUnsubscribe||(this.systemThemeChangeUnsubscribe=subscribeToThemeChange(setUniversalTheme)))),f.language&&!isValidLocale(f.language.toString())&&(f.language="en_US"),setUniversalAppState(_=>{var v;return mergeOptions(__spreadValues(__spreadValues({},f.language&&{language:f.language}),!!((v=f.actionsConfiguration)!=null&&v.returnStrategy)&&{returnStrategy:f.actionsConfiguration.returnStrategy}),unwrap(_))})}request(f,r,d){return __async(this,null,function*(){var g,_,v,y,m;if(src$6.logDebug("OKXUniversalConnectUI request() called"),!this.session)throw new OKXConnectUiError("Connect wallet to send a transaction.");const w={returnStrategy:isDevice("mobile")&&((g=lastUniversalSelectedWalletInfo())==null?void 0:g.openMethod)!=="qrcode"?d==null?void 0:d.returnStrategy:"none",modals:d==null?void 0:d.modals,tmaReturnUrl:(_=d==null?void 0:d.tmaReturnUrl)!=null?_:"back"},{modals:C,returnStrategy:b,tmaReturnUrl:E}=this.getModalsAndNotificationsConfiguration(w),S=__spreadProps(__spreadValues({},f),{redirect:b}),R=this.universalProvider.showRequestModal(S,r);isInjectWallet(this.getConnectWallet())||universalWidgetController.setAction({name:"confirm-transaction",openModal:C.includes("before")&&R,sent:!1}),!((v=this.session.sessionConfig)!=null&&v.openUniversalUrl)&&R&&openWalletForUIRequest(this.getConnectWallet(),(y=lastUniversalSelectedWalletInfo())==null?void 0:y.openMethod)&&openUniversalWallet(this.getConnectWallet(),E,this.session.namespaces),this.session.sessionConfig&&(this.session.sessionConfig.openUniversalUrl=this.session.sessionConfig.openUniversalUrl&&isMobile()&&((m=lastUniversalSelectedWalletInfo())==null?void 0:m.openMethod)!=="qrcode");try{const O=yield this.universalProvider.request(S,r);return universalWidgetController.setAction({name:"transaction-sent",openModal:C.includes("success")&&R}),O}catch(O){throw src$6.logDebug(`OKXUniversalConnectUI  request  ==>  ${typeof O} ==> is core OKXConnectError: ${O instanceof src$6.OKXConnectError} ==> is universal-provider OKXConnectError: ${O instanceof srcExports.OKXConnectError} ==>  ${JSON.stringify(O)}`),O instanceof src$6.OKXConnectError||O instanceof srcExports.OKXConnectError?(src$6.logDebug(`OKXUniversalConnectUI  request  ==> ${JSON.stringify(O)}`),O.code===src$6.OKX_CONNECT_ERROR_CODES.USER_REJECTS_ERROR?universalWidgetController.setAction({name:"transaction-canceled",openModal:C.includes("error")&&R}):universalWidgetController.setAction({name:"transaction-error",openModal:C.includes("error")&&R}),O):(universalWidgetController.setAction({name:"transaction-error",openModal:C.includes("error")&&R}),new OKXConnectUiError("Unhandled error:"+O))}})}getModalsAndNotificationsConfiguration(f){var r,d,g;const _=["before","success","error"];let v=["before"];(r=this.actionsConfiguration)!=null&&r.modals&&(this.actionsConfiguration.modals==="all"?v=_:v=this.actionsConfiguration.modals),f!=null&&f.modals&&(f.modals==="all"?v=_:v=f.modals);const y=(f==null?void 0:f.returnStrategy)||((d=this.actionsConfiguration)==null?void 0:d.returnStrategy)||"back",m=(f==null?void 0:f.tmaReturnUrl)||((g=this.actionsConfiguration)==null?void 0:g.tmaReturnUrl)||"back";return{modals:v,tmaReturnUrl:m,returnStrategy:y}}static init(f){return __async(this,null,function*(){if(src$6.logDebug("OKXUniversalConnectUI init() called"),window&&window.okxConnectUniversalUIinwindow instanceof _OKXUniversalConnectUI)return src$6.logDebug("OKXUniversalConnectUI init() old called"),window.okxConnectUniversalUIinwindow;if(this.initPromise)return src$6.logDebug("OKXUniversalConnectUI init() is waiting for ongoing initialization"),this.initPromise;this.initPromise=__async(this,null,function*(){if(!f||!f.dappMetaData)throw new OKXConnectUiError("You have to specify a `dappMetaData` in the options.");src$6.logDebug("OKXUniversalConnectUI init() new called"),(!f.connector||f.connector.length===0)&&(f.connector=getDefaultConnector());const r=yield srcExports.OKXUniversalProvider.init({dappMetaData:f.dappMetaData,connector:f.connector}),d=new _OKXUniversalConnectUI(f,r);return window&&(window.okxConnectUniversalUIinwindow=d),d});try{return yield this.initPromise}finally{this.initPromise=null}})}normalizeWidgetRoot(f){if(!f||!document.getElementById(f)){f="universal-widget-root";const r=document.createElement("div");r.id=f,document.body.appendChild(r)}return f}getWallets(){return _OKXUniversalConnectUI.getWallets()}handleConnect(f){return __async(this,null,function*(){return this.singleWalletModal.handleConnect(f,this.actionsConfiguration)})}checkConnectMethods(f,r){return __async(this,null,function*(){if(src$6.logDebug("checkConnectMethods connectParams>>>>",JSON.stringify(f)),src$6.logDebug("checkConnectMethods responseItems>>>>",JSON.stringify(r)),this.universalProvider.session&&f&&f.length>0&&(!r||r.length===0)){var d=f[0];if(d){if(d.method==="sync_all_addresses")return;let g=[];try{let _=yield srcExports.connectMethodsAdaptOldVersion(d,this.universalProvider.session);src$6.logDebug("checkConnectMethods callBackParams111>>>>",JSON.stringify(_));let v={};isInTMA()&&(v.returnStrategy="tg://resolve"),src$6.logDebug("checkConnectMethods requestItem>>>>",JSON.stringify(d)),src$6.logDebug("checkConnectMethods callBackParams222>>>>",JSON.stringify(_)),this.request(d,d.chainId,v).then(y=>{let m=y;if(src$6.logDebug(`checkConnectMethods then resultItem ====> ${JSON.stringify(m)}`),d.method==="wallet_addEthereumChain")m={method:d.method,chainId:d.chainId,result:""};else if(d.method==="personal_sign")m={method:d.method,chainId:d.chainId,result:m};else if(d.method==="btc_signMessage")m.chainId=d.chainId;else if(d.method==="solana_signMessage"){let w=m.result;m.chainId=d.chainId,m.result=__spreadProps(__spreadValues({},_),{signature:bs58.decode(w)})}else if(d.method==="sui_signMessage"||d.method==="sui_signPersonalMessage"){const w=m.result;m.chainId=d.chainId,m.result=__spreadProps(__spreadValues({},_),{signature:w})}else if(d.method==="aptos_signMessage"){let w=m.result;w.startsWith("0x")&&(w=w.slice(2,w.length)),m.chainId=d.chainId,m.result=__spreadProps(__spreadValues({},_),{signature:w})}else d.method==="cosmos_signArbitrary"&&typeof m.result=="string"&&(m.chainId=d.chainId,m.result=JSON.parse(m.result));g.push(m),src$6.logDebug(`OKXUniversalConnectUI checkConnectMethods success result ====> ${JSON.stringify(g)}`),this.universalProvider.events.emit("connect_signResponse",g)}).catch(y=>{let m=srcExports.creatNotSupportMethodItemReplay(d);g.push(m),src$6.logDebug(`OKXUniversalConnectUI checkConnectMethods error ====> ${JSON.stringify(y)}`),this.universalProvider.events.emit("connect_signResponse",g)})}catch(_){let v=srcExports.creatNotSupportMethodItemReplay(d);g.push(v),src$6.logDebug(`OKXUniversalConnectUI checkConnectMethods error ====> ${JSON.stringify(_)}`),this.universalProvider.events.emit("connect_signResponse",g)}}else console.log("checkConnectMethods requestItem is nil",JSON.stringify(f))}})}openModalAndSign(f,r){return __async(this,null,function*(){src$6.logDebug("OKXUniversalConnectUI openModalAndSign() called");const d=__spreadProps(__spreadValues({},f),{signRequest:r});return src$6.logDebug("OKXUniversalConnectUI openModalAndSign() opts:",JSON.stringify(f)),src$6.logDebug("OKXUniversalConnectUI openModalAndSign() signRequest:",JSON.stringify(r)),yield this.openModal(d)})}openModal(f){return __async(this,null,function*(){src$6.logDebug("OKXUniversalConnectUI openModal() called");try{if(this.connected())return this.session;var r=yield this.singleWalletModal.open("okxAppWallet",f);return this.checkConnectMethods(f.signRequest,r==null?void 0:r.signResponse),r}catch(d){throw d}})}closeModal(f){this.singleWalletModal.close(f)}openWallet(f,r){this.universalProvider.openWallet(f,r)}onSingleWalletModalStateChange(f){return console.log("ui - onSingleWalletModalStateChange",f),this.singleWalletModal.onStateChange(f)}onModalStateChange(f){return console.log("ui - onModalStateChange",f),this.onSingleWalletModalStateChange(f)}showActionButton(){return isAppWallet(this.getConnectWallet())&&isMobile()}getUniversalProvider(){return this.universalProvider}getConnectWallet(){var f,r;return src$6.logDebug(`this.session?.wallet?.appName ${(r=(f=this.universalProvider.session)==null?void 0:f.wallet)==null?void 0:r.appName}`),this.getWallets().find(d=>{var g,_;return eqWalletName(d,(_=(g=this.universalProvider.session)==null?void 0:g.wallet)==null?void 0:_.appName)})}get session(){return this.universalProvider.session}setDefaultChain(f,r){this.universalProvider.setDefaultChain(f,r)}on(f,r){this.universalProvider.on(f,r)}once(f,r){this.universalProvider.once(f,r)}removeListener(f,r){this.universalProvider.removeListener(f,r)}off(f,r){this.universalProvider.off(f,r)}get walletName(){var f,r;return src$6.logDebug(`this.getConnectWallet()?.walletName ${(f=this.getConnectWallet())==null?void 0:f.name}`),(r=this.getConnectWallet())==null?void 0:r.name}disconnect(){return this.universalProvider.disconnect()}connected(){return this.universalProvider.connected()}requestAccountsWithNamespace(f){return this.universalProvider.requestAccountsWithNamespace(f)}requestDefaultChainWithNamespace(f){return this.universalProvider.requestDefaultChainWithNamespace(f)}};let OKXUniversalConnectUI=_OKXUniversalConnectUI;__publicField(OKXUniversalConnectUI,"initPromise",null);const providerStore=reactive({});/*!
 * qrcode.vue v3.6.0
 * A Vue.js component to generate QRCode. Both support Vue 2 and Vue 3
 * © 2017-PRESENT @scopewu(https://github.com/scopewu)
 * MIT License.
 */var __assign=function(){return __assign=Object.assign||function(r){for(var d,g=1,_=arguments.length;g<_;g++){d=arguments[g];for(var v in d)Object.prototype.hasOwnProperty.call(d,v)&&(r[v]=d[v])}return r},__assign.apply(this,arguments)};typeof SuppressedError=="function"&&SuppressedError;var qrcodegen;(function(f){var r=function(){function y(m,w,C,b){if(this.version=m,this.errorCorrectionLevel=w,this.modules=[],this.isFunction=[],m<y.MIN_VERSION||m>y.MAX_VERSION)throw new RangeError("Version value out of range");if(b<-1||b>7)throw new RangeError("Mask value out of range");this.size=m*4+17;for(var E=[],S=0;S<this.size;S++)E.push(!1);for(var S=0;S<this.size;S++)this.modules.push(E.slice()),this.isFunction.push(E.slice());this.drawFunctionPatterns();var R=this.addEccAndInterleave(C);if(this.drawCodewords(R),b==-1)for(var O=1e9,S=0;S<8;S++){this.applyMask(S),this.drawFormatBits(S);var $=this.getPenaltyScore();$<O&&(b=S,O=$),this.applyMask(S)}_(0<=b&&b<=7),this.mask=b,this.applyMask(b),this.drawFormatBits(b),this.isFunction=[]}return y.encodeText=function(m,w){var C=f.QrSegment.makeSegments(m);return y.encodeSegments(C,w)},y.encodeBinary=function(m,w){var C=f.QrSegment.makeBytes(m);return y.encodeSegments([C],w)},y.encodeSegments=function(m,w,C,b,E,S){if(C===void 0&&(C=1),b===void 0&&(b=40),E===void 0&&(E=-1),S===void 0&&(S=!0),!(y.MIN_VERSION<=C&&C<=b&&b<=y.MAX_VERSION)||E<-1||E>7)throw new RangeError("Invalid value");var R,O;for(R=C;;R++){var $=y.getNumDataCodewords(R,w)*8,I=v.getTotalBits(m,R);if(I<=$){O=I;break}if(R>=b)throw new RangeError("Data too long")}for(var U=0,L=[y.Ecc.MEDIUM,y.Ecc.QUARTILE,y.Ecc.HIGH];U<L.length;U++){var j=L[U];S&&O<=y.getNumDataCodewords(R,j)*8&&(w=j)}for(var F=[],X=0,z=m;X<z.length;X++){var Y=z[X];d(Y.mode.modeBits,4,F),d(Y.numChars,Y.mode.numCharCountBits(R),F);for(var ne=0,re=Y.getData();ne<re.length;ne++){var se=re[ne];F.push(se)}}_(F.length==O);var G=y.getNumDataCodewords(R,w)*8;_(F.length<=G),d(0,Math.min(4,G-F.length),F),d(0,(8-F.length%8)%8,F),_(F.length%8==0);for(var T=236;F.length<G;T^=253)d(T,8,F);for(var D=[];D.length*8<F.length;)D.push(0);return F.forEach(function(x,A){return D[A>>>3]|=x<<7-(A&7)}),new y(R,w,D,E)},y.prototype.getModule=function(m,w){return 0<=m&&m<this.size&&0<=w&&w<this.size&&this.modules[w][m]},y.prototype.getModules=function(){return this.modules},y.prototype.drawFunctionPatterns=function(){for(var m=0;m<this.size;m++)this.setFunctionModule(6,m,m%2==0),this.setFunctionModule(m,6,m%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);for(var w=this.getAlignmentPatternPositions(),C=w.length,m=0;m<C;m++)for(var b=0;b<C;b++)m==0&&b==0||m==0&&b==C-1||m==C-1&&b==0||this.drawAlignmentPattern(w[m],w[b]);this.drawFormatBits(0),this.drawVersion()},y.prototype.drawFormatBits=function(m){for(var w=this.errorCorrectionLevel.formatBits<<3|m,C=w,b=0;b<10;b++)C=C<<1^(C>>>9)*1335;var E=(w<<10|C)^21522;_(E>>>15==0);for(var b=0;b<=5;b++)this.setFunctionModule(8,b,g(E,b));this.setFunctionModule(8,7,g(E,6)),this.setFunctionModule(8,8,g(E,7)),this.setFunctionModule(7,8,g(E,8));for(var b=9;b<15;b++)this.setFunctionModule(14-b,8,g(E,b));for(var b=0;b<8;b++)this.setFunctionModule(this.size-1-b,8,g(E,b));for(var b=8;b<15;b++)this.setFunctionModule(8,this.size-15+b,g(E,b));this.setFunctionModule(8,this.size-8,!0)},y.prototype.drawVersion=function(){if(!(this.version<7)){for(var m=this.version,w=0;w<12;w++)m=m<<1^(m>>>11)*7973;var C=this.version<<12|m;_(C>>>18==0);for(var w=0;w<18;w++){var b=g(C,w),E=this.size-11+w%3,S=Math.floor(w/3);this.setFunctionModule(E,S,b),this.setFunctionModule(S,E,b)}}},y.prototype.drawFinderPattern=function(m,w){for(var C=-4;C<=4;C++)for(var b=-4;b<=4;b++){var E=Math.max(Math.abs(b),Math.abs(C)),S=m+b,R=w+C;0<=S&&S<this.size&&0<=R&&R<this.size&&this.setFunctionModule(S,R,E!=2&&E!=4)}},y.prototype.drawAlignmentPattern=function(m,w){for(var C=-2;C<=2;C++)for(var b=-2;b<=2;b++)this.setFunctionModule(m+b,w+C,Math.max(Math.abs(b),Math.abs(C))!=1)},y.prototype.setFunctionModule=function(m,w,C){this.modules[w][m]=C,this.isFunction[w][m]=!0},y.prototype.addEccAndInterleave=function(m){var w=this.version,C=this.errorCorrectionLevel;if(m.length!=y.getNumDataCodewords(w,C))throw new RangeError("Invalid argument");for(var b=y.NUM_ERROR_CORRECTION_BLOCKS[C.ordinal][w],E=y.ECC_CODEWORDS_PER_BLOCK[C.ordinal][w],S=Math.floor(y.getNumRawDataModules(w)/8),R=b-S%b,O=Math.floor(S/b),$=[],I=y.reedSolomonComputeDivisor(E),U=0,L=0;U<b;U++){var j=m.slice(L,L+O-E+(U<R?0:1));L+=j.length;var F=y.reedSolomonComputeRemainder(j,I);U<R&&j.push(0),$.push(j.concat(F))}for(var X=[],z=function(Y){$.forEach(function(ne,re){(Y!=O-E||re>=R)&&X.push(ne[Y])})},U=0;U<$[0].length;U++)z(U);return _(X.length==S),X},y.prototype.drawCodewords=function(m){if(m.length!=Math.floor(y.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");for(var w=0,C=this.size-1;C>=1;C-=2){C==6&&(C=5);for(var b=0;b<this.size;b++)for(var E=0;E<2;E++){var S=C-E,R=(C+1&2)==0,O=R?this.size-1-b:b;!this.isFunction[O][S]&&w<m.length*8&&(this.modules[O][S]=g(m[w>>>3],7-(w&7)),w++)}}_(w==m.length*8)},y.prototype.applyMask=function(m){if(m<0||m>7)throw new RangeError("Mask value out of range");for(var w=0;w<this.size;w++)for(var C=0;C<this.size;C++){var b=void 0;switch(m){case 0:b=(C+w)%2==0;break;case 1:b=w%2==0;break;case 2:b=C%3==0;break;case 3:b=(C+w)%3==0;break;case 4:b=(Math.floor(C/3)+Math.floor(w/2))%2==0;break;case 5:b=C*w%2+C*w%3==0;break;case 6:b=(C*w%2+C*w%3)%2==0;break;case 7:b=((C+w)%2+C*w%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[w][C]&&b&&(this.modules[w][C]=!this.modules[w][C])}},y.prototype.getPenaltyScore=function(){for(var m=0,w=0;w<this.size;w++){for(var C=!1,b=0,E=[0,0,0,0,0,0,0],S=0;S<this.size;S++)this.modules[w][S]==C?(b++,b==5?m+=y.PENALTY_N1:b>5&&m++):(this.finderPenaltyAddHistory(b,E),C||(m+=this.finderPenaltyCountPatterns(E)*y.PENALTY_N3),C=this.modules[w][S],b=1);m+=this.finderPenaltyTerminateAndCount(C,b,E)*y.PENALTY_N3}for(var S=0;S<this.size;S++){for(var C=!1,R=0,E=[0,0,0,0,0,0,0],w=0;w<this.size;w++)this.modules[w][S]==C?(R++,R==5?m+=y.PENALTY_N1:R>5&&m++):(this.finderPenaltyAddHistory(R,E),C||(m+=this.finderPenaltyCountPatterns(E)*y.PENALTY_N3),C=this.modules[w][S],R=1);m+=this.finderPenaltyTerminateAndCount(C,R,E)*y.PENALTY_N3}for(var w=0;w<this.size-1;w++)for(var S=0;S<this.size-1;S++){var O=this.modules[w][S];O==this.modules[w][S+1]&&O==this.modules[w+1][S]&&O==this.modules[w+1][S+1]&&(m+=y.PENALTY_N2)}for(var $=0,I=0,U=this.modules;I<U.length;I++){var L=U[I];$=L.reduce(function(X,z){return X+(z?1:0)},$)}var j=this.size*this.size,F=Math.ceil(Math.abs($*20-j*10)/j)-1;return _(0<=F&&F<=9),m+=F*y.PENALTY_N4,_(0<=m&&m<=2568888),m},y.prototype.getAlignmentPatternPositions=function(){if(this.version==1)return[];for(var m=Math.floor(this.version/7)+2,w=Math.floor((this.version*8+m*3+5)/(m*4-4))*2,C=[6],b=this.size-7;C.length<m;b-=w)C.splice(1,0,b);return C},y.getNumRawDataModules=function(m){if(m<y.MIN_VERSION||m>y.MAX_VERSION)throw new RangeError("Version number out of range");var w=(16*m+128)*m+64;if(m>=2){var C=Math.floor(m/7)+2;w-=(25*C-10)*C-55,m>=7&&(w-=36)}return _(208<=w&&w<=29648),w},y.getNumDataCodewords=function(m,w){return Math.floor(y.getNumRawDataModules(m)/8)-y.ECC_CODEWORDS_PER_BLOCK[w.ordinal][m]*y.NUM_ERROR_CORRECTION_BLOCKS[w.ordinal][m]},y.reedSolomonComputeDivisor=function(m){if(m<1||m>255)throw new RangeError("Degree out of range");for(var w=[],C=0;C<m-1;C++)w.push(0);w.push(1);for(var b=1,C=0;C<m;C++){for(var E=0;E<w.length;E++)w[E]=y.reedSolomonMultiply(w[E],b),E+1<w.length&&(w[E]^=w[E+1]);b=y.reedSolomonMultiply(b,2)}return w},y.reedSolomonComputeRemainder=function(m,w){for(var C=w.map(function(O){return 0}),b=function(O){var $=O^C.shift();C.push(0),w.forEach(function(I,U){return C[U]^=y.reedSolomonMultiply(I,$)})},E=0,S=m;E<S.length;E++){var R=S[E];b(R)}return C},y.reedSolomonMultiply=function(m,w){if(m>>>8||w>>>8)throw new RangeError("Byte out of range");for(var C=0,b=7;b>=0;b--)C=C<<1^(C>>>7)*285,C^=(w>>>b&1)*m;return _(C>>>8==0),C},y.prototype.finderPenaltyCountPatterns=function(m){var w=m[1];_(w<=this.size*3);var C=w>0&&m[2]==w&&m[3]==w*3&&m[4]==w&&m[5]==w;return(C&&m[0]>=w*4&&m[6]>=w?1:0)+(C&&m[6]>=w*4&&m[0]>=w?1:0)},y.prototype.finderPenaltyTerminateAndCount=function(m,w,C){return m&&(this.finderPenaltyAddHistory(w,C),w=0),w+=this.size,this.finderPenaltyAddHistory(w,C),this.finderPenaltyCountPatterns(C)},y.prototype.finderPenaltyAddHistory=function(m,w){w[0]==0&&(m+=this.size),w.pop(),w.unshift(m)},y.MIN_VERSION=1,y.MAX_VERSION=40,y.PENALTY_N1=3,y.PENALTY_N2=3,y.PENALTY_N3=40,y.PENALTY_N4=10,y.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],y.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],y}();f.QrCode=r;function d(y,m,w){if(m<0||m>31||y>>>m)throw new RangeError("Value out of range");for(var C=m-1;C>=0;C--)w.push(y>>>C&1)}function g(y,m){return(y>>>m&1)!=0}function _(y){if(!y)throw new Error("Assertion error")}var v=function(){function y(m,w,C){if(this.mode=m,this.numChars=w,this.bitData=C,w<0)throw new RangeError("Invalid argument");this.bitData=C.slice()}return y.makeBytes=function(m){for(var w=[],C=0,b=m;C<b.length;C++){var E=b[C];d(E,8,w)}return new y(y.Mode.BYTE,m.length,w)},y.makeNumeric=function(m){if(!y.isNumeric(m))throw new RangeError("String contains non-numeric characters");for(var w=[],C=0;C<m.length;){var b=Math.min(m.length-C,3);d(parseInt(m.substring(C,C+b),10),b*3+1,w),C+=b}return new y(y.Mode.NUMERIC,m.length,w)},y.makeAlphanumeric=function(m){if(!y.isAlphanumeric(m))throw new RangeError("String contains unencodable characters in alphanumeric mode");var w=[],C;for(C=0;C+2<=m.length;C+=2){var b=y.ALPHANUMERIC_CHARSET.indexOf(m.charAt(C))*45;b+=y.ALPHANUMERIC_CHARSET.indexOf(m.charAt(C+1)),d(b,11,w)}return C<m.length&&d(y.ALPHANUMERIC_CHARSET.indexOf(m.charAt(C)),6,w),new y(y.Mode.ALPHANUMERIC,m.length,w)},y.makeSegments=function(m){return m==""?[]:y.isNumeric(m)?[y.makeNumeric(m)]:y.isAlphanumeric(m)?[y.makeAlphanumeric(m)]:[y.makeBytes(y.toUtf8ByteArray(m))]},y.makeEci=function(m){var w=[];if(m<0)throw new RangeError("ECI assignment value out of range");if(m<128)d(m,8,w);else if(m<16384)d(2,2,w),d(m,14,w);else if(m<1e6)d(6,3,w),d(m,21,w);else throw new RangeError("ECI assignment value out of range");return new y(y.Mode.ECI,0,w)},y.isNumeric=function(m){return y.NUMERIC_REGEX.test(m)},y.isAlphanumeric=function(m){return y.ALPHANUMERIC_REGEX.test(m)},y.prototype.getData=function(){return this.bitData.slice()},y.getTotalBits=function(m,w){for(var C=0,b=0,E=m;b<E.length;b++){var S=E[b],R=S.mode.numCharCountBits(w);if(S.numChars>=1<<R)return 1/0;C+=4+R+S.bitData.length}return C},y.toUtf8ByteArray=function(m){m=encodeURI(m);for(var w=[],C=0;C<m.length;C++)m.charAt(C)!="%"?w.push(m.charCodeAt(C)):(w.push(parseInt(m.substring(C+1,C+3),16)),C+=2);return w},y.NUMERIC_REGEX=/^[0-9]*$/,y.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,y.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",y}();f.QrSegment=v})(qrcodegen||(qrcodegen={}));(function(f){(function(r){var d=function(){function g(_,v){this.ordinal=_,this.formatBits=v}return g.LOW=new g(0,1),g.MEDIUM=new g(1,0),g.QUARTILE=new g(2,3),g.HIGH=new g(3,2),g}();r.Ecc=d})(f.QrCode||(f.QrCode={}))})(qrcodegen||(qrcodegen={}));(function(f){(function(r){var d=function(){function g(_,v){this.modeBits=_,this.numBitsCharCount=v}return g.prototype.numCharCountBits=function(_){return this.numBitsCharCount[Math.floor((_+7)/17)]},g.NUMERIC=new g(1,[10,12,14]),g.ALPHANUMERIC=new g(2,[9,11,13]),g.BYTE=new g(4,[8,16,16]),g.KANJI=new g(8,[8,10,12]),g.ECI=new g(7,[0,0,0]),g}();r.Mode=d})(f.QrSegment||(f.QrSegment={}))})(qrcodegen||(qrcodegen={}));var QR=qrcodegen,defaultErrorCorrectLevel="L",ErrorCorrectLevelMap={L:QR.QrCode.Ecc.LOW,M:QR.QrCode.Ecc.MEDIUM,Q:QR.QrCode.Ecc.QUARTILE,H:QR.QrCode.Ecc.HIGH},SUPPORTS_PATH2D=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}();function validErrorCorrectLevel(f){return f in ErrorCorrectLevelMap}function generatePath(f,r){r===void 0&&(r=0);var d=[];return f.forEach(function(g,_){var v=null;g.forEach(function(y,m){if(!y&&v!==null){d.push("M".concat(v+r," ").concat(_+r,"h").concat(m-v,"v1H").concat(v+r,"z")),v=null;return}if(m===g.length-1){if(!y)return;v===null?d.push("M".concat(m+r,",").concat(_+r," h1v1H").concat(m+r,"z")):d.push("M".concat(v+r,",").concat(_+r," h").concat(m+1-v,"v1H").concat(v+r,"z"));return}y&&v===null&&(v=m)})}),d.join("")}function getImageSettings(f,r,d,g){var _=g.width,v=g.height,y=g.x,m=g.y,w=f.length+d*2,C=Math.floor(r*.1),b=w/r,E=(_||C)*b,S=(v||C)*b,R=y==null?f.length/2-E/2:y*b,O=m==null?f.length/2-S/2:m*b,$=null;if(g.excavate){var I=Math.floor(R),U=Math.floor(O),L=Math.ceil(E+R-I),j=Math.ceil(S+O-U);$={x:I,y:U,w:L,h:j}}return{x:R,y:O,h:S,w:E,excavation:$}}function excavateModules(f,r){return f.slice().map(function(d,g){return g<r.y||g>=r.y+r.h?d:d.map(function(_,v){return v<r.x||v>=r.x+r.w?_:!1})})}var QRCodeProps={value:{type:String,required:!0,default:""},size:{type:Number,default:100},level:{type:String,default:defaultErrorCorrectLevel,validator:function(f){return validErrorCorrectLevel(f)}},background:{type:String,default:"#fff"},foreground:{type:String,default:"#000"},margin:{type:Number,required:!1,default:0},imageSettings:{type:Object,required:!1,default:function(){return{}}},gradient:{type:Boolean,required:!1,default:!1},gradientType:{type:String,required:!1,default:"linear",validator:function(f){return["linear","radial"].indexOf(f)>-1}},gradientStartColor:{type:String,required:!1,default:"#000"},gradientEndColor:{type:String,required:!1,default:"#fff"}},QRCodeVueProps=__assign(__assign({},QRCodeProps),{renderAs:{type:String,required:!1,default:"canvas",validator:function(f){return["canvas","svg"].indexOf(f)>-1}}}),QrcodeSvg=defineComponent({name:"QRCodeSvg",props:QRCodeProps,setup:function(f){var r=ref$1(0),d=ref$1(""),g,_=function(){var y=f.value,m=f.level,w=f.margin,C=w>>>0,b=validErrorCorrectLevel(m)?m:defaultErrorCorrectLevel,E=QR.QrCode.encodeText(y,ErrorCorrectLevelMap[b]).getModules();if(r.value=E.length+C*2,f.imageSettings.src){var S=getImageSettings(E,f.size,C,f.imageSettings);g={x:S.x+C,y:S.y+C,width:S.w,height:S.h},S.excavation&&(E=excavateModules(E,S.excavation))}d.value=generatePath(E,C)},v=function(){if(!f.gradient)return null;var y=f.gradientType==="linear"?{x1:"0%",y1:"0%",x2:"100%",y2:"100%"}:{cx:"50%",cy:"50%",r:"50%",fx:"50%",fy:"50%"};return h$1(f.gradientType==="linear"?"linearGradient":"radialGradient",__assign({id:"qr-gradient"},y),[h$1("stop",{offset:"0%",style:{stopColor:f.gradientStartColor}}),h$1("stop",{offset:"100%",style:{stopColor:f.gradientEndColor}})])};return _(),onUpdated(_),function(){return h$1("svg",{width:f.size,height:f.size,"shape-rendering":"crispEdges",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(r.value," ").concat(r.value)},[h$1("defs",{},[v()]),h$1("rect",{width:"100%",height:"100%",fill:f.background}),h$1("path",{fill:f.gradient?"url(#qr-gradient)":f.foreground,d:d.value}),f.imageSettings.src&&h$1("image",__assign({href:f.imageSettings.src},g))])}}}),QrcodeCanvas=defineComponent({name:"QRCodeCanvas",props:QRCodeProps,setup:function(f,r){var d=ref$1(null),g=ref$1(null),_=function(){var y=f.value,m=f.level,w=f.size,C=f.margin,b=f.background,E=f.foreground,S=f.gradient,R=f.gradientType,O=f.gradientStartColor,$=f.gradientEndColor,I=C>>>0,U=validErrorCorrectLevel(m)?m:defaultErrorCorrectLevel,L=d.value;if(L){var j=L.getContext("2d");if(j){var F=QR.QrCode.encodeText(y,ErrorCorrectLevelMap[U]).getModules(),X=F.length+I*2,z=g.value,Y={x:0,y:0,width:0,height:0},ne=f.imageSettings.src&&z!=null&&z.naturalWidth!==0&&z.naturalHeight!==0;if(ne){var re=getImageSettings(F,f.size,I,f.imageSettings);Y={x:re.x+I,y:re.y+I,width:re.w,height:re.h},re.excavation&&(F=excavateModules(F,re.excavation))}var se=window.devicePixelRatio||1,G=w/X*se;if(L.height=L.width=w*se,j.scale(G,G),j.fillStyle=b,j.fillRect(0,0,X,X),S){var T=void 0;R==="linear"?T=j.createLinearGradient(0,0,X,X):T=j.createRadialGradient(X/2,X/2,0,X/2,X/2,X/2),T.addColorStop(0,O),T.addColorStop(1,$),j.fillStyle=T}else j.fillStyle=E;SUPPORTS_PATH2D?j.fill(new Path2D(generatePath(F,I))):F.forEach(function(D,x){D.forEach(function(A,B){A&&j.fillRect(B+I,x+I,1,1)})}),ne&&j.drawImage(z,Y.x,Y.y,Y.width,Y.height)}}};onMounted(_),onUpdated(_);var v=r.attrs.style;return function(){return h$1(Fragment,[h$1("canvas",__assign(__assign({},r.attrs),{ref:d,style:__assign(__assign({},v),{width:"".concat(f.size,"px"),height:"".concat(f.size,"px")})})),f.imageSettings.src&&h$1("img",{ref:g,src:f.imageSettings.src,style:{display:"none"},onLoad:_})])}}}),QrcodeVue=defineComponent({name:"Qrcode",render:function(){var f=this.$props,r=f.renderAs,d=f.value,g=f.size,_=f.margin,v=f.level,y=f.background,m=f.foreground,w=f.imageSettings,C=f.gradient,b=f.gradientType,E=f.gradientStartColor,S=f.gradientEndColor;return h$1(r==="svg"?QrcodeSvg:QrcodeCanvas,{value:d,size:g,margin:_,level:v,background:y,foreground:m,imageSettings:w,gradient:C,gradientType:b,gradientStartColor:E,gradientEndColor:S})},props:QRCodeVueProps});const _sfc_main$1=defineComponent({components:{QrcodeVue},props:{onClickUiCheckbox:Function,showModal:Boolean,setShowModal:Function,qrValue:String},setup(f){const r=ref$1(["before","success","error"]),d=ref$1("none"),g=ref$1("tg://resolve"),_=ref$1("en_US"),v=ref$1(THEME.LIGHT),y=ref$1("none"),m=ref$1("tg://resolve"),w=ref$1(localStorage.getItem("autoRefresh")!="false"),C=toRef(()=>f.qrValue),b=computed({get:()=>f.showModal,set:E=>{var S;return(S=f.setShowModal)==null?void 0:S.call(f,E)}});return{selectedModals:r,selectedReturnStrategyOption:d,selectedDeepLink:g,selectedLanguage:_,selectedTheme:v,selectedRedirectParam:y,selectedRedirectDeepLink:m,THEME,locales:["en_US","ru_RU","zh_CN","ar_AE","cs_CZ","de_DE","es_ES","es_LAT","fr_FR","id_ID","it_IT","nl_NL","pl_PL","pt_BR","pt_PT","ro_RO","tr_TR","uk_UA","vi_VN","zh_TW"],returnStrategies:["none","back","deeplink"],withUI:w,onClickUiCheckbox:f.onClickUiCheckbox,showModal:b,qrValue:C}},computed:{selectedReturnStrategy(){return this.selectedReturnStrategyOption==="deeplink"?this.selectedDeepLink:this.selectedReturnStrategyOption}},methods:{closeModal(){this.showModal=!1},handleModalsSelect(f){if(!providerStore.provider){alert("Please connect a wallet first");return}this.withUI&&(providerStore.provider.uiOptions={actionsConfiguration:{returnStrategy:this.selectedReturnStrategy,modals:f.length===3?"all":f},language:this.selectedLanguage,uiPreferences:{theme:this.selectedTheme}})},handleReturnStrategySelect(f){if(!providerStore.provider){alert("Please connect a wallet first");return}f==="deeplink"&&(this.selectedReturnStrategy=this.selectedDeepLink),this.withUI&&(providerStore.provider.uiOptions={actionsConfiguration:{returnStrategy:this.selectedReturnStrategy,modals:this.selectedModals.length===3?"all":this.selectedModals},language:this.selectedLanguage,uiPreferences:{theme:this.selectedTheme}})},handleReturnStrategyDeeplink(f){if(!providerStore.provider){alert("Please connect a wallet first");return}this.withUI&&(providerStore.provider.uiOptions={actionsConfiguration:{returnStrategy:f,modals:this.selectedModals.length===3?"all":this.selectedModals},language:this.selectedLanguage,uiPreferences:{theme:this.selectedTheme}})},handleLanguageSelect(f){if(!providerStore.provider){alert("Please connect a wallet first");return}this.withUI&&(providerStore.provider.uiOptions={actionsConfiguration:{returnStrategy:this.selectedReturnStrategy,modals:this.selectedModals.length===3?"all":this.selectedModals},language:f,uiPreferences:{theme:this.selectedTheme}})},handleThemeSelect(f){this.withUI&&(providerStore.provider.uiOptions={actionsConfiguration:{returnStrategy:this.selectedReturnStrategy,modals:this.selectedModals.length===3?"all":this.selectedModals},language:this.selectedLanguage,uiPreferences:{theme:f}})}}});function _sfc_render$1(f,r,d,g,_,v){const y=resolveComponent("el-checkbox"),m=resolveComponent("el-row"),w=resolveComponent("qrcode-vue"),C=resolveComponent("el-col"),b=resolveComponent("el-option"),E=resolveComponent("el-select"),S=resolveComponent("el-input"),R=resolveComponent("el-card");return openBlock(),createBlock(R,null,{header:withCtx(()=>r[9]||(r[9]=[createBaseVNode("div",null,"Configuration",-1)])),default:withCtx(()=>[createVNode(m,{class:"info-row",span:24,style:{"justify-content":"center"}},{default:withCtx(()=>[createVNode(y,{modelValue:f.withUI,"onUpdate:modelValue":r[0]||(r[0]=O=>f.withUI=O),onChange:f.onClickUiCheckbox},{default:withCtx(()=>r[10]||(r[10]=[createTextVNode("Use UI")])),_:1},8,["modelValue","onChange"])]),_:1}),(openBlock(),createBlock(Teleport,{to:"body"},[f.showModal?(openBlock(),createElementBlock("div",{key:0,class:"modal-overlay",onClick:r[3]||(r[3]=(...O)=>f.closeModal&&f.closeModal(...O))},[createBaseVNode("div",{class:"modal-content",onClick:r[2]||(r[2]=withModifiers(()=>{},["stop"]))},[createBaseVNode("button",{class:"close-button",onClick:r[1]||(r[1]=(...O)=>f.closeModal&&f.closeModal(...O))}," × "),r[11]||(r[11]=createBaseVNode("h2",null,"Scan to connect",-1)),createVNode(w,{value:f.qrValue,size:350,level:"L"},null,8,["value"])])])):createCommentVNode("",!0)])),createVNode(m,{style:{"align-items":"center"}},{default:withCtx(()=>[createVNode(C,{span:4},{default:withCtx(()=>r[12]||(r[12]=[createBaseVNode("p",{style:{"font-size":"11pt"}},"Modals",-1)])),_:1}),createVNode(C,{span:20},{default:withCtx(()=>[createVNode(E,{modelValue:f.selectedModals,"onUpdate:modelValue":r[4]||(r[4]=O=>f.selectedModals=O),placeholder:"Modals",onChange:f.handleModalsSelect,multiple:""},{default:withCtx(()=>[createVNode(b,{label:"Before",value:"before"}),createVNode(b,{label:"Success",value:"success"}),createVNode(b,{label:"Error",value:"error"})]),_:1},8,["modelValue","onChange"])]),_:1})]),_:1}),createVNode(m,{style:{"align-items":"center","justify-content":"space-between"}},{default:withCtx(()=>[createVNode(C,{span:4,style:{gap:"2px"}},{default:withCtx(()=>r[13]||(r[13]=[createBaseVNode("p",{style:{"font-size":"11pt",margin:"0px"}},"Return Strategy",-1),createBaseVNode("p",{style:{"font-size":"9pt",margin:"0px"}},"(Mobile only)",-1)])),_:1}),createVNode(C,{span:10},{default:withCtx(()=>[createVNode(E,{modelValue:f.selectedReturnStrategyOption,"onUpdate:modelValue":r[5]||(r[5]=O=>f.selectedReturnStrategyOption=O),onChange:f.handleReturnStrategySelect,placeholder:"Return Strategy"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(f.returnStrategies,O=>(openBlock(),createBlock(b,{key:`return-strategy-select-option-${O}`,label:O,value:O},null,8,["label","value"]))),128))]),_:1},8,["modelValue","onChange"])]),_:1}),createVNode(C,{span:10},{default:withCtx(()=>[f.selectedReturnStrategyOption==="deeplink"?(openBlock(),createBlock(S,{key:0,modelValue:f.selectedDeepLink,"onUpdate:modelValue":r[6]||(r[6]=O=>f.selectedDeepLink=O),onChange:f.handleReturnStrategyDeeplink,placeholder:"Deeplink",disabled:f.selectedReturnStrategyOption!=="deeplink",style:{margin:"0px"}},null,8,["modelValue","onChange","disabled"])):createCommentVNode("",!0)]),_:1})]),_:1}),createVNode(m,{style:{"align-items":"center"}},{default:withCtx(()=>[createVNode(C,{span:4},{default:withCtx(()=>r[14]||(r[14]=[createBaseVNode("p",{style:{"font-size":"11pt"}},"Language",-1)])),_:1}),createVNode(C,{span:20},{default:withCtx(()=>[createVNode(E,{modelValue:f.selectedLanguage,"onUpdate:modelValue":r[7]||(r[7]=O=>f.selectedLanguage=O),onChange:f.handleLanguageSelect,placeholder:"Language"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(f.locales,O=>(openBlock(),createBlock(b,{key:`language-select-option-${O}`,label:O,value:O},null,8,["label","value"]))),128))]),_:1},8,["modelValue","onChange"])]),_:1})]),_:1}),createVNode(m,{style:{"align-items":"center"}},{default:withCtx(()=>[createVNode(C,{span:4},{default:withCtx(()=>r[15]||(r[15]=[createBaseVNode("p",{style:{"font-size":"11pt"}},"Theme",-1)])),_:1}),createVNode(C,{span:20},{default:withCtx(()=>[createVNode(E,{modelValue:f.selectedTheme,"onUpdate:modelValue":r[8]||(r[8]=O=>f.selectedTheme=O),onChange:f.handleThemeSelect,placeholder:"Theme"},{default:withCtx(()=>[createVNode(b,{label:"LIGHT",value:f.THEME.LIGHT},null,8,["value"]),createVNode(b,{label:"DARK",value:f.THEME.DARK},null,8,["value"])]),_:1},8,["modelValue","onChange"])]),_:1})]),_:1})]),_:1})}const ConfigurationCard=_export_sfc(_sfc_main$1,[["render",_sfc_render$1]]),_sfc_main=defineComponent({components:{ConfigurationCard},props:{chainId:{type:String,required:!0},chainNamespaces:{type:Object,required:!0},method:String,transaction:Object,transactionResult:String,sendTransaction:Function,onEditMethod:Function,onEditTransaction:Function,tonProofValue:String,onEditTonProof:Function},setup(f){const r=ref$1(!1),d=ref$1(!0),g=toRef(()=>f.chainNamespaces),_=computed({get:()=>f.method,set:E=>{var S;return(S=f.onEditMethod)==null?void 0:S.call(f,E)}}),v=computed({get:()=>JSON.stringify(f.transaction),set:E=>{var S;return(S=f.onEditTransaction)==null?void 0:S.call(f,E)}}),y=computed(()=>f.transactionResult),m=computed({get:()=>JSON.stringify(f.tonProofValue),set:E=>{var S;return(S=f.onEditTonProof)==null?void 0:S.call(f,E)}}),w=ref$1(!1),C=E=>{w.value=E},b=ref$1("");return{chainId:f.chainId,chainNamespaces:g,computedMethod:_,computedTransaction:v,transactionResult:y,sendTransaction:f.sendTransaction,onEditMethod:f.onEditMethod,onEditTransaction:f.onEditTransaction,computedTonProof:m,connectReady:!1,isConnected:r,isCorrectChain:d,connectStr:"Connect",disconnectStr:"Disconnect",connectStatusStr:"Connected",disconnectStatusStr:"Disconnected",sendTransactionStr:"Send",showModal:w,setShowModal:C,qrValue:b}},computed:{isUseUi(){return localStorage.getItem("autoRefresh")!="false"}},mounted(){console.log("connect mounted",providerStore);var f=document.createElement("script");if(f.src="https://telegram.org/js/telegram-web-app.js",f.id="tgsdk",document.getElementsByTagName("head")[0].appendChild(f),this.connectReady=!0,document.title="OKX Connect",providerStore.provider){this.addProviderListeners(providerStore.provider),providerStore.provider.session?this.connectCallback(providerStore.provider.session):this.checkIsCorrectChain();return}let r;this.isUseUi?r=OKXUniversalConnectUI.init({dappMetaData:{icon:"https://static.okx.com/cdn/assets/imgs/247/58E63FEA47A2B7D7.png",name:"OKX Connect UI Example"},actionsConfiguration:{returnStrategy:"none",modals:"all"},language:"en_US",uiPreferences:{theme:THEME.LIGHT}}):r=srcExports.OKXUniversalProvider.init({dappMetaData:{icon:"https://static.okx.com/cdn/assets/imgs/247/58E63FEA47A2B7D7.png",name:"OKX Connect Example"}}),r.then(d=>{console.log("init finished:",d),console.log("init finished session:",JSON.stringify(d.session)),this.addProviderListeners(d),providerStore.provider=d})},methods:{changeChain:()=>router.push("/"),onClickUiCheckbox:f=>{localStorage.setItem("autoRefresh",`${f}`),location.reload()},checkIsCorrectChain(){const f=providerStore.connectedChain&&providerStore.connectedChain!==this.chainId;console.log("check correct chain",f,providerStore.connectedChain,this.chainId),this.isCorrectChain&&f?this.isCorrectChain=!1:!this.isCorrectChain&&!f&&(this.isCorrectChain=!0)},isPC(){const f=navigator.userAgent;console.log("current device ua is ===>",f);const r=["Android","iPhone","SymbianOS","Windows Phone","iPad","iPod"];let d=!0;for(let g=0;g<r.length;g++)if(f.indexOf(r[g])>0){d=!1;break}return d},async onConnectClick(){providerStore.provider?this.connectUiConnect():console.log("connectBtnClicked provider not finish init")},async onDisconnectClick(){var f;try{console.log("get disconnect wallet btn clicked"),await((f=providerStore.provider)==null?void 0:f.disconnect())}catch(r){console.error("Disconnect error: ",r)}this.isCorrectChain||location.reload()},async connectUiConnect(){console.log("ConnectLayout.connectUiConnect: chainId:",this.chainId,"chainNamespaces:",this.chainNamespaces);let f;providerStore.provider instanceof OKXUniversalConnectUI?f=providerStore.provider.openModal({namespaces:this.chainNamespaces}):f=providerStore.provider.connect({namespaces:this.chainNamespaces}),f.then(()=>{this.isPC()&&(this.showModal=!1)}).catch(r=>console.error("发生了错误：",r))},async onSendTransaction(){var f;if(console.log("sendTransaction",providerStore.provider,this.sendTransaction),!providerStore.provider){console.error("钱包 未初始化完成");return}(f=this.sendTransaction)==null||f.call(this)},connectCallback(f){if(console.log("connectcallback session",f,f.namespaces),f.namespaces){const r=Object.values(f.namespaces)[0].chains[0];providerStore.connectedChain=r,console.log("setting chain"),localStorage.setItem("connectedChain",r)}else providerStore.connectedChain=void 0,localStorage.removeItem("connectedChain");this.isConnected=!0,this.checkIsCorrectChain()},disconnectCallback(){providerStore.connectedChain=void 0,localStorage.removeItem("connectedChain")},addProviderListeners(f){f.on("display_uri",r=>{src$6.useShortLink()||this.isPC()&&r&&!this.isUseUi&&(this.qrValue=r,this.showModal=!0),console.log("通知>>>display_uri  ==> ",r)}),f.on("connect",r=>{const d="session"in r?r.session:r;console.log("通知>>>get connect session",d),this.connectCallback(d)}),f.on("reconnect",r=>{const d="session"in r?r.session:r;console.log("通知>>>get reconnect session",d),this.connectCallback(d)}),f.on("disconnect",({topic:r})=>{console.log(`通知>>>get disconnect  ${r}`),providerStore.connectedChain=void 0,this.isConnected=!1,this.disconnectCallback()}),f.on("session_delete",({topic:r})=>{console.log(`通知>>>get session_delete  ${r}`)}),f.on("session_update",r=>{console.log("通知>>>get session_update ",JSON.stringify(r))})}}}),_hoisted_1={key:0},_hoisted_2={key:1};function _sfc_render(f,r,d,g,_,v){const y=resolveComponent("el-button"),m=resolveComponent("el-col"),w=resolveComponent("el-card"),C=resolveComponent("ConfigurationCard"),b=resolveComponent("el-input"),E=resolveComponent("el-row"),S=resolveComponent("el-main"),R=resolveComponent("el-container");return openBlock(),createBlock(R,null,{default:withCtx(()=>[createVNode(S,null,{default:withCtx(()=>[createVNode(m,{class:"change-chain-col"},{default:withCtx(()=>[createVNode(y,{class:"change-chain-btn",text:"",onClick:r[0]||(r[0]=O=>f.changeChain()),disabled:f.isCorrectChain&&f.isConnected},{default:withCtx(()=>[createTextVNode(toDisplayString(f.isCorrectChain?"Change chain":"Switch to connected chain"),1)]),_:1},8,["disabled"]),f.isCorrectChain&&f.isConnected?(openBlock(),createElementBlock("p",_hoisted_1,"To change chains, please disconnect first.")):createCommentVNode("",!0),!f.isCorrectChain&&f.isConnected?(openBlock(),createElementBlock("p",_hoisted_2,"You are not connected to this chain. Please switch to the connected chain or disconnect.")):createCommentVNode("",!0)]),_:1}),createVNode(w,{class:"wallet-info"},{header:withCtx(()=>r[6]||(r[6]=[createBaseVNode("div",null,"Wallet Info",-1)])),default:withCtx(()=>[createVNode(m,{span:24},{default:withCtx(()=>[createBaseVNode("p",null,[r[7]||(r[7]=createBaseVNode("strong",null,"Status :",-1)),createTextVNode(" "+toDisplayString(f.isConnected?f.connectStatusStr:f.disconnectStatusStr),1)])]),_:1})]),_:1}),f.isCorrectChain?(openBlock(),createBlock(C,{key:0,onClickUiCheckbox:f.onClickUiCheckbox,showModal:f.showModal,setShowModal:f.setShowModal,qrValue:f.qrValue},null,8,["onClickUiCheckbox","showModal","setShowModal","qrValue"])):createCommentVNode("",!0),createVNode(w,{class:"wallet-actions"},{header:withCtx(()=>r[8]||(r[8]=[createBaseVNode("div",null,"Connect actions",-1)])),default:withCtx(()=>[f.tonProofValue!==void 0?(openBlock(),createBlock(E,{key:0},{default:withCtx(()=>[r[9]||(r[9]=createBaseVNode("div",{class:"input-label"},"Ton proof:",-1)),createVNode(b,{modelValue:f.computedTonProof,"onUpdate:modelValue":r[1]||(r[1]=O=>f.computedTonProof=O),type:"textarea",rows:1,placeholder:"ton proof",disabled:!f.onEditTonProof},null,8,["modelValue","disabled"])]),_:1})):createCommentVNode("",!0),createVNode(m,{span:24},{default:withCtx(()=>[createVNode(y,{type:"primary",onClick:f.onConnectClick,disabled:f.isConnected},{default:withCtx(()=>[createTextVNode(toDisplayString(f.connectStr),1)]),_:1},8,["onClick","disabled"]),createVNode(y,{type:"danger",onClick:f.onDisconnectClick,disabled:!f.isConnected},{default:withCtx(()=>[createTextVNode(toDisplayString(f.disconnectStr),1)]),_:1},8,["onClick","disabled"])]),_:1})]),_:1}),f.isCorrectChain?renderSlot(f.$slots,"default",{key:1}):createCommentVNode("",!0),f.isCorrectChain?(openBlock(),createBlock(w,{key:2,class:"transaction-actions"},{header:withCtx(()=>r[10]||(r[10]=[createBaseVNode("div",null,"Transaction actions",-1)])),default:withCtx(()=>[f.computedMethod!==void 0?(openBlock(),createBlock(E,{key:0,xs:24,sm:12},{default:withCtx(()=>[r[11]||(r[11]=createBaseVNode("div",{class:"input-label"},"Method:",-1)),createVNode(b,{modelValue:f.computedMethod,"onUpdate:modelValue":r[2]||(r[2]=O=>f.computedMethod=O),type:"textarea",rows:1,placeholder:"method",disabled:!f.onEditMethod},null,8,["modelValue","disabled"])]),_:1})):createCommentVNode("",!0),f.computedTransaction!==void 0?(openBlock(),createBlock(E,{key:1,xs:24,sm:12},{default:withCtx(()=>[r[12]||(r[12]=createBaseVNode("div",{class:"input-label"},"Data:",-1)),createVNode(b,{modelValue:f.computedTransaction,"onUpdate:modelValue":r[3]||(r[3]=O=>f.computedTransaction=O),type:"textarea",rows:5,placeholder:"data",disabled:!f.onEditTransaction},null,8,["modelValue","disabled"])]),_:1})):createCommentVNode("",!0),f.transactionResult!==void 0?(openBlock(),createBlock(E,{key:2,xs:24,sm:12},{default:withCtx(()=>[r[13]||(r[13]=createBaseVNode("div",{class:"input-label"},"Result:",-1)),createVNode(b,{modelValue:f.transactionResult,"onUpdate:modelValue":r[4]||(r[4]=O=>f.transactionResult=O),type:"textarea",rows:5,placeholder:"result",disabled:!0},null,8,["modelValue"])]),_:1})):createCommentVNode("",!0),f.sendTransaction?(openBlock(),createBlock(m,{key:3,span:24},{default:withCtx(()=>[createVNode(y,{type:"primary",onClick:r[5]||(r[5]=O=>f.onSendTransaction())},{default:withCtx(()=>[createTextVNode(toDisplayString(f.sendTransactionStr),1)]),_:1})]),_:1})):createCommentVNode("",!0)]),_:1})):createCommentVNode("",!0)]),_:3})]),_:3})}const ConnectLayout=_export_sfc(_sfc_main,[["render",_sfc_render]]);export{Buffer as B,ConnectLayout as C,EventEmitter as E,src$6 as a,requireBrowser$9 as b,requireBrowser$8 as c,safeBufferExports as d,requireBn$2 as e,requireElliptic as f,requireUtil$1 as g,Buffer$1 as h,bs58$1 as i,requireSrc as j,nacl as n,providerStore as p,require$$0$2 as r,srcExports as s};
