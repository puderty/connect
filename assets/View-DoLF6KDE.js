import{C as g,p as i,s as f,a as A}from"./ConnectLayout-DoQGgMzj.js";import{d as m,a as u,_ as T,r as c,o as _,c as N,w as s,b as p,e as V,t as v,f as h}from"./index-B_XLZHpA.js";const B=m({props:{chainId:{type:String,required:!0},chainName:String},setup(n){const t=n.chainId,o=u({}),d=u(""),r=u(""),l=e=>{o.value=JSON.parse(e)},a=e=>{r.value=e};return{chainId:t,chainName:n.chainName,transaction:o,transactionResult:d,setTransaction:l,tonProofValue:r,setTonProofValue:a}},components:{ConnectLayout:g},computed:{chainNamespaces(){let n={ton_addr:{name:"ton_addr"}};return this.tonProofValue&&(n=Object.assign(n,{ton_proof:{name:"ton_proof",payload:this.tonProofValue}})),{ton:{chains:[this.chainId],defaultChain:this.chainId,params:n}}}},methods:{ton_getAccount(){if(!i.provider){alert("Please connect a wallet first");return}let t=new f.OKXTonProvider(i.provider).account();t?this.transactionResult=JSON.stringify(t):this.transactionResult="null"},async ton_sendTransaction(){if(!i.provider){alert("Please connect a wallet first");return}const n={messages:[{address:"EQARULUYsmJq1RiZ-YiH-IJLcAZUVkVff-KBPwEmmaQGH6aC",amount:"205000000",payload:"te6cckEBAgEAhwABbQ+KfqUAAADNgG7tIEATEtAIAO87mQKicbKgHIk4pSPP4k5xhHqutqYgAB7USnesDnCcECwbgQMBAJUlk4VhgBD3JEg1TUr75iTijBghOKm/sxNDXUBl7CD6WMut0Q85x4RafwA/Es89DBXoTxuqxVFxyBbzt9Rav2HBUKl7hmkvLuKHLBCW57aK"}],validUntil:1792481054,network:A.TONCHAIN.MAINNET};this.transaction=n,new f.OKXTonProvider(i.provider).sendTransaction(n).then(o=>{this.transactionResult=JSON.stringify(o)}).catch(o=>{console.error("Error:",o),this.transactionResult=JSON.stringify(o)})}}});function C(n,t,o,d,r,l){const a=c("el-button"),e=c("el-card"),P=c("ConnectLayout");return _(),N(P,{chainId:n.chainId,chainNamespaces:n.chainNamespaces,transaction:n.transaction,onEditTransaction:n.setTransaction,transactionResult:n.transactionResult,tonProofValue:n.tonProofValue,onEditTonProof:n.setTonProofValue},{default:s(()=>[p(e,null,{header:s(()=>[V("div",null,v(n.chainName||"TON")+" methods",1)]),default:s(()=>[p(a,{type:"primary",onClick:n.ton_getAccount},{default:s(()=>t[0]||(t[0]=[h("ton_getAccount")])),_:1},8,["onClick"]),p(a,{type:"primary",onClick:n.ton_sendTransaction},{default:s(()=>t[1]||(t[1]=[h("ton_sendTransaction")])),_:1},8,["onClick"])]),_:1})]),_:1},8,["chainId","chainNamespaces","transaction","onEditTransaction","transactionResult","tonProofValue","onEditTonProof"])}const I=T(B,[["render",C]]),y=m({components:{TonBaseView:I},setup(){return{chainId:"ton:-239"}}});function E(n,t,o,d,r,l){const a=c("TonBaseView");return _(),N(a,{chainId:n.chainId},null,8,["chainId"])}const R=T(y,[["render",E]]);export{R as default};
