webpackJsonp([1],{0:function(e,t){},Jrsq:function(e,t){},NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});n("tvR6");var a=n("qBF2"),r=n.n(a),o=n("7+uW"),i=n("xJD8"),s={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[e._m(0),e._v(" "),n("TGSDK",{ref:"tg"}),e._v(" "),n("el-container",{directives:[{name:"loading",rawName:"v-loading",value:!e.loaded,expression:"!!!loaded"}]},[n("el-header",{directives:[{name:"show",rawName:"v-show",value:e.address&&e.address.length,expression:"address && address.length"}]},[n("el-button",{attrs:{type:"text"},on:{click:e.pasteFromClick}},[e._v(e._s(e.address))])],1),e._v(" "),n("el-main",{directives:[{name:"show",rawName:"v-show",value:e.path&&e.path.length,expression:"path && path.length"}]},[n("div",{staticStyle:{position:"relative",top:"20px"}},[e._v("\n        "+e._s(e.path)+"\n      ")]),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.mnemonicList&&e.mnemonicList.length,expression:"mnemonicList && mnemonicList.length"}],staticStyle:{position:"relative",top:"20px"}},e._l(e.mnemonicList,function(t){return n("el-tag",{key:t},[e._v(e._s(t))])}),1)]),e._v(" "),n("el-footer",[n("el-button",{directives:[{name:"show",rawName:"v-show",value:e.loaded,expression:"loaded"}],attrs:{type:"primary",icon:"el-icon-refresh"},on:{click:e.generateProxy}},[e._v("生成钱包")]),e._v(" "),n("el-button",{directives:[{name:"show",rawName:"v-show",value:e.loaded,expression:"loaded"}],attrs:{type:"primary",icon:"el-icon-download"},on:{click:e.importWallet}},[e._v("导入钱包")]),e._v(" "),n("el-button",{directives:[{name:"show",rawName:"v-show",value:e.loaded,expression:"loaded"}],attrs:{type:"primary",icon:"el-icon-download"},on:{click:e.cleanStage}},[e._v("重置状态")]),e._v(" "),n("el-button",{directives:[{name:"show",rawName:"v-show",value:e.loaded,expression:"loaded"}],attrs:{type:"primary",icon:"el-icon-edit"},on:{click:e.sendSignRequest}},[e._v("请求签名")]),e._v(" "),n("el-input",{attrs:{type:"textarea",rows:5,placeholder:"signResult"},model:{value:e.signResult,callback:function(t){e.signResult=t},expression:"signResult"}})],1)],1)],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticStyle:{"background-color":"black"}},[t("img",{attrs:{width:"82",height:"36",src:"data:image/png;base64,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"}})])}]};var l=function(e){n("Jrsq")},c=n("VU/8")(i.a,s,!1,l,null,null).exports;o.default.use(r.a,{size:"small"}),new o.default({el:"#app",render:function(e){return e(c)}})},YoKA:function(e,t,n){"use strict";var a={name:"TGSDK",props:{uid:String},methods:{hideLinkButton:function(e){e?Telegram.WebApp.MainButton.hide():Telegram.WebApp.MainButton.show()},saveGeneratedWallet:function(e,t,n){var a=Telegram.WebApp.initDataUnsafe.user.id;console.log("with current login tg user:"+a+" phrase:"+e),Telegram.WebApp.CloudStorage.removeItem(a.toString(),function(r,o){Telegram.WebApp.CloudStorage.setItem(a.toString(),e+"&"+t+"&"+n)})},resumeWalletInfo:function(e){if(!Telegram.WebApp.initDataUnsafe.user)return e(!1,"");var t=Telegram.WebApp.initDataUnsafe.user.id;console.log("with current login tg user:"+t),Telegram.WebApp.CloudStorage.getItem(t.toString(),function(n,a){return n?(console.log("no cached wallet"),e(!0,[t])):(console.log("get cached wallet:"+a),e(!1,a.split("&")))})},cleanStorage:function(e){var t=Telegram.WebApp.initDataUnsafe.user.id;Telegram.WebApp.CloudStorage.removeItem(t.toString(),function(t,n){console.log("clean storage finished"),e(t,n)})}},mounted:function(){var e=Telegram.WebApp;Telegram.WebApp.ready(),Telegram.WebApp.onEvent("themeChanged",function(){document.documentElement.className=Telegram.WebApp.colorScheme}),Telegram.WebApp.MainButton.setParams({text:"Link OKX"}),Telegram.WebApp.MainButton.onClick(function(){if(currentWallet.mnemonic){e.initDataUnsafe.user.id;var t=currentWallet.mnemonic.phrase.replaceAll(" ","_");console.log("try open:"+t),window.open("file://")}else Telegram.WebApp.showPopup("Notice","create a wallet first plz")}),Telegram.WebApp.onEvent("themeChanged",function(){document.body.setAttribute("style","--bg-color:"+Telegram.WebApp.backgroundColor)})}},r={render:function(){var e=this.$createElement;return(this._self._c||e)("div")},staticRenderFns:[]},o=n("VU/8")(a,r,!1,null,null,null);t.a=o.exports},cVh2:function(e,t,n){"use strict";var a=n("QjMU");e.exports={generateEVM:function(e,t){var n=(Number(t)%Math.pow(2,32)).toString();console.log(t+"->"+n);var r="m/44'/"+e+"'/0'/0/"+n,o=a.Wallet.createRandom({path:r});return{mnemonic:o.mnemonic,path:r,address:o.address}},importEVM:function(e,t,n){var r=(Number(t)%Math.pow(2,32)).toString();console.log(t+"->"+r);var o="m/44'/"+e+"'/0'/0/"+r,i=a.Wallet.fromMnemonic(n,o);return{mnemonic:n=i.mnemonic,path:o,address:i.address}}}},tvR6:function(e,t){},xJD8:function(e,t,n){"use strict";(function(e){var a=n("YoKA"),r=n("cVh2");n.n(r);t.a={name:"App",data:function(){return{signResult:"",waitingResult:!1,connected:!1,loaded:!1,address:"",mnemonic:"",mnemonicList:[],path:""}},created:function(){},mounted:function(){Telegram.WebApp.initDataUnsafe.start_param;var e=Telegram.WebApp.initDataUnsafe.user;e||(e={id:"123"}),console.log(Telegram.WebApp.initDataUnsafe)},methods:{generateProxy:function(){var t=this,n=function(){console.log("wallet generate called");var n=function(n){var a=Object(r.generateEVM)("60",n);return e.currentWallet=a,t.mnemonic=a.mnemonic.phrase,t.address=a.address,t.path=a.mnemonic.path,t.mnemonicList=t.mnemonic.split(" ").map(function(e,t){return(t+1).toString()+"."+e}),t.$refs.tg.saveGeneratedWallet(t.mnemonic,t.address,t.path),console.log(a),a};if(Telegram.WebApp.initDataUnsafe.user){var a=Telegram.WebApp.initDataUnsafe.user.id;n(a)}else t.$alert("!!!!NOT IN TELEGRAM EVN!!!!","WARNING",{confirmButtonText:"CONTINUE",callback:function(e){t.$message({type:"info",message:"action:"+e});n("123456")}});t.$refs.tg.hideLinkButton(!1)};this.address&&this.address.length?this.$alert("!WILL CLEAN CURRENT WALLET IN TG!\n","WARNING",{confirmButtonText:"GET A NEW ONE",callback:function(e){n()}}):n()},importWallet:function(){this.$message({type:"Guide",message:"LCQ Okx测试包中点击账号的发送按钮，通过deeplink会拉回到telegram中,实现钱包导入"})},cleanStage:function(){var e=this;this.$refs.tg.cleanStorage(function(t,n){currentWallet=null,e.path="",e.address="",e.mnemonic="",e.mnemonicList=[],console.log("clean storage")}),this.$refs.tg.hideLinkButton(!0)},pasteFromClick:function(){this.$message({type:"success",message:"钱包信息已复制到剪贴板"})},sendSignRequest:function(){var e=Telegram.WebApp.initDataUnsafe.user;e||(e={uid:"123"});var t=e.id;this.signResult="",window.open("okx://wallet/nft/featured?jumpType=testTGLink&uid="+t),this.waitingResult=!0}},components:{TGSDK:a.a}}}).call(t,n("DuR2"))}},["NHnr"]);
//# sourceMappingURL=app.4b7a38c1a8c53bbcc081.js.map