(function(){var e={6885:function(e,n,t){"use strict";var o=t(3067),i=t(3306),s=(t(4188),t(2757)),c=t(6357);const a={id:"app"};function r(e,n,t,o,i,r){const l=(0,s.g2)("el-header"),d=(0,s.g2)("el-button"),u=(0,s.g2)("el-col"),f=(0,s.g2)("el-row"),h=(0,s.g2)("el-card"),g=(0,s.g2)("el-main"),p=(0,s.g2)("el-container");return(0,s.uX)(),(0,s.CE)("div",a,[(0,s.bF)(p,null,{default:(0,s.k6)((()=>[(0,s.bF)(l,null,{default:(0,s.k6)((()=>n[0]||(n[0]=[(0,s.eW)("OKX Connect")]))),_:1}),(0,s.bF)(g,null,{default:(0,s.k6)((()=>[(0,s.bF)(h,{class:"wallet-actions"},{default:(0,s.k6)((()=>[(0,s.bF)(f,{gutter:12,class:"button-row"},{default:(0,s.k6)((()=>[(0,s.bF)(u,{span:24},{default:(0,s.k6)((()=>[(0,s.bF)(d,{type:"primary",onClick:r.connectBtnClicked,icon:"el-icon-connection",disabled:0!=e.walletAddress.length},{default:(0,s.k6)((()=>[(0,s.eW)((0,c.v_)(e.connectStatusStr),1)])),_:1},8,["onClick","disabled"])])),_:1})])),_:1}),(0,s.bF)(f,{gutter:12,class:"button-row"},{default:(0,s.k6)((()=>[(0,s.bF)(u,{span:24},{default:(0,s.k6)((()=>[(0,s.bF)(d,{type:"danger",onClick:r.disconnectAction,icon:"el-icon-switch-button",disabled:0==e.walletAddress.length},{default:(0,s.k6)((()=>[(0,s.eW)((0,c.v_)(e.disconnectStatusStr),1)])),_:1},8,["onClick","disabled"])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])}var l=t(571),d=t(9900),u=t.n(d);new(u());var f={name:"App",data:()=>({activeTab:"eip155:1",testTopic:"",testPublicKey:"",testProofPayload:"",tonProofValue:"",pendingDeepLink:"-",logList:[],connectReady:!1,connectStatusStr:"Connect",disconnectStatusStr:"Disconnect",localPubKey:"",localSecKey:"",testTransaction:"",selectedChain:"eip155:1",testTransactionStr:"Send",walletAddress:"",testboc:"",ProofPayloadVerify:"",showModal:!1,showVerifyRow:!1,currentStatus:""}),computed:{getWalletAddress:function(){return this.walletAddress}},methods:{isChecked(e){return this.selectedChains.has(e)},initChains(e){if(e.length>0){const n=Object.assign({},this.availableChains);for(const t of e)n[t]&&(n[t].checked=!n[t].checked);this.availableChains=n}this.areChainsInit=!0},async clickActiveTab(e){const n=e.props?e.props.name:e.name;this.selectedChain=n,console.log("已切换到链 :",n),window.provider||console.error("钱包 未初始化完成"),window.provider.setDefaultChain(this.selectedChain)},async connectBtnClicked(){window.provider?this.testTonSdk():console.log("connectBtnClicked provider not finish init")},async disconnectAction(){try{console.log("get disconnect wallet btn clicked");var e=window.provider;await e.disconnect(),this.walletAddress="disconnected"}catch(n){console.log("Disconnect  error ==>> ",n.message),this.currentStatus=n.message}},async testTonSdk(){let e=["eip155:1"];console.log(`namespaceChains  ===> ${JSON.stringify(e)}`);var n={namespaces:{eip155:{chains:e.filter((e=>e.startsWith("eip155"))),defaultChain:e.filter((e=>e.startsWith("eip155")))[0]}}};await window.provider.openModal(n).then((()=>{this.walletAddress="connected",this.isPC()&&(this.showModal=!1)})).catch((e=>{console.error("发生了错误：",e)}))},closeModal(){this.showModal=!1},isPC(){const e=navigator.userAgent;console.log("current device ua is ===>",e);const n=["Android","iPhone","SymbianOS","Windows Phone","iPad","iPod"];let t=!0;for(let o=0;o<n.length;o++)if(e.indexOf(n[o])>0){t=!1;break}return t},isSafariOrChrome(){const e=navigator.userAgent,n=["Safari","Chrome"];let t=!1;for(let o=0;o<n.length;o++)if(e.indexOf(n[o])>0){t=!0;break}return t}},mounted(){var e=document.createElement("script");e.src="https://telegram.org/js/telegram-web-app.js",e.id="tgsdk",document.getElementsByTagName("head")[0].appendChild(e),this.connectReady=!0,document.title="OKX Connect",l.OKXUniversalConnectUI.init({dappMetaData:{icon:"https://static.okx.com/cdn/assets/imgs/247/58E63FEA47A2B7D7.png",name:"OKX Connect UI Test"},actionsConfiguration:{returnStrategy:"back",modals:"all"},language:"en_US"}).then((e=>{window.provider=e,console.log("init finished:",e),console.log("init finished session:",JSON.stringify(e.session)),e.on("display_uri",(e=>{this.isPC()&&e&&!this.withUI&&(this.qrValue=e,this.showModal=!0),console.log("通知>>>display_uri  ==> ",e)})),e.on("connect",(e=>{console.log("通知>>>get connect session",e)})),e.on("reconnect",(e=>{console.log("通知>>>get reconnect session",e),this.walletAddress="connected"})),e.on("disconnect",(({topic:e})=>{console.log(`通知>>>get disconnect  ${e}`),this.walletAddress="disconnecteddddd"})),e.on("session_delete",(({topic:e})=>{console.log(`通知>>>get session_delete  ${e}`)})),e.on("session_update",(e=>{console.log("通知>>>get session_update ",JSON.stringify(e))}))}))}},h=t(5690);const g=(0,h.A)(f,[["render",r],["__scopeId","data-v-0a40fdf1"]]);var p=g;const b=(0,o.Ef)(p);b.use(i.A),b.mount("#app")},8055:function(){},1564:function(){},2472:function(){},3216:function(){}},n={};function t(o){var i=n[o];if(void 0!==i)return i.exports;var s=n[o]={exports:{}};return e[o].call(s.exports,s,s.exports,t),s.exports}t.m=e,function(){t.amdO={}}(),function(){var e=[];t.O=function(n,o,i,s){if(!o){var c=1/0;for(d=0;d<e.length;d++){o=e[d][0],i=e[d][1],s=e[d][2];for(var a=!0,r=0;r<o.length;r++)(!1&s||c>=s)&&Object.keys(t.O).every((function(e){return t.O[e](o[r])}))?o.splice(r--,1):(a=!1,s<c&&(c=s));if(a){e.splice(d--,1);var l=i();void 0!==l&&(n=l)}}return n}s=s||0;for(var d=e.length;d>0&&e[d-1][2]>s;d--)e[d]=e[d-1];e[d]=[o,i,s]}}(),function(){t.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(n,{a:n}),n}}(),function(){t.d=function(e,n){for(var o in n)t.o(n,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:n[o]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)}}(),function(){t.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};t.O.j=function(n){return 0===e[n]};var n=function(n,o){var i,s,c=o[0],a=o[1],r=o[2],l=0;if(c.some((function(n){return 0!==e[n]}))){for(i in a)t.o(a,i)&&(t.m[i]=a[i]);if(r)var d=r(t)}for(n&&n(o);l<c.length;l++)s=c[l],t.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return t.O(d)},o=self["webpackChunkokxconnectdemo"]=self["webpackChunkokxconnectdemo"]||[];o.forEach(n.bind(null,0)),o.push=n.bind(null,o.push.bind(o))}();var o=t.O(void 0,[504],(function(){return t(6885)}));o=t.O(o)})();
//# sourceMappingURL=app.b0997eb6.js.map