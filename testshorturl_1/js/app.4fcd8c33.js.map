{"version":3,"file":"js/app.4fcd8c33.js","mappings":"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AAG,IAAK,KACtB,CAAC,EAAG,GAAI,GAAI,GAAI,GAAI,IACpB,CAAC,GAAI,GAAI,GAAI,EAAG,GAAI,IACpB,CAAC,EAAG,GAAI,GAAI,GAAI,GAAI,IACpB,CAAC,EAAG,IAAK,IAAK,EAAG,IAAK,KACtB,CAAC,EAAG,GAAI,GAAI,GAAI,GAAI,IACpB,CAAC,GAAI,GAAI,GAAI,EAAG,GAAI,IACpB,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,IACrB,CAAC,EAAG,IAAK,IAAK,EAAG,IAAK,KACtB,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,GAAI,EAAG,GAAI,IACpB,CAAC,GAAI,GAAI,GAAI,EAAG,GAAI,IACpB,CAAC,EAAG,IAAK,IAAK,EAAG,IAAK,KACtB,CAAC,GAAI,GAAI,IACT,CAAC,EAAG,GAAI,GAAI,GAAI,GAAI,IACpB,CAAC,GAAI,GAAI,IACT,CAAC,EAAG,IAAK,IAAK,EAAG,IAAK,KACtB,CAAC,EAAG,GAAI,GAAI,GAAI,GAAI,IACpB,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,IACrB,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,IACrB,CAAC,EAAG,IAAK,IAAK,EAAG,IAAK,KACtB,CAAC,EAAG,GAAI,GAAI,GAAI,GAAI,IACpB,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,IACrB,CAAC,GAAI,GAAI,GAAI,EAAG,GAAI,IACpB,CAAC,EAAG,IAAK,IAAK,EAAG,IAAK,KACtB,CAAC,EAAG,GAAI,GAAI,GAAI,GAAI,IACpB,CAAC,EAAG,GAAI,GAAI,GAAI,GAAI,IACpB,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,IACrB,CAAC,GAAI,IAAK,IAAK,EAAG,IAAK,KACvB,CAAC,GAAI,GAAI,GAAI,EAAG,GAAI,IACpB,CAAC,GAAI,GAAI,GAAI,EAAG,GAAI,IACpB,CAAC,GAAI,GAAI,GAAI,EAAG,GAAI,IACpB,CAAC,EAAG,IAAK,IAAK,EAAG,IAAK,KACtB,CAAC,GAAI,GAAI,GAAI,EAAG,GAAI,IACpB,CAAC,EAAG,GAAI,GAAI,GAAI,GAAI,IACpB,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,IACrB,CAAC,EAAG,IAAK,IAAK,GAAI,IAAK,KACvB,CAAC,EAAG,GAAI,GAAI,GAAI,GAAI,IACpB,CAAC,EAAG,GAAI,GAAI,GAAI,GAAI,IACpB,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,IACrB,CAAC,EAAG,IAAK,IAAK,EAAG,IAAK,KACtB,CAAC,GAAI,GAAI,GAAI,EAAG,GAAI,IACpB,CAAC,EAAG,GAAI,GAAI,GAAI,GAAI,IACpB,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,IACrB,CAAC,EAAG,IAAK,IAAK,GAAI,IAAK,KACvB,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,IACrB,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,IACrB,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,IACrB,CAAC,GAAI,IAAK,IAAK,EAAG,IAAK,KACvB,CAAC,EAAG,GAAI,GAAI,GAAI,GAAI,IACpB,CAAC,GAAI,GAAI,GAAI,EAAG,GAAI,IACpB,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,IACrB,CAAC,GAAI,IAAK,KACV,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,IACrB,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,IACrB,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,IACrB,CAAC,GAAI,IAAK,IAAK,EAAG,IAAK,KACvB,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,IACrB,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,IACrB,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,IACrB,CAAC,GAAI,IAAK,IAAK,EAAG,IAAK,KACvB,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,IACrB,CAAC,GAAI,GAAI,GAAI,EAAG,GAAI,IACpB,CAAC,GAAI,GAAI,GAAI,EAAG,GAAI,IACpB,CAAC,GAAI,IAAK,IAAK,EAAG,IAAK,KACvB,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,IACrB,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,IACrB,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,IACrB,CAAC,EAAG,IAAK,IAAK,GAAI,IAAK,KACvB,C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","sources":["webpack://okxconnectdemo/../packages/aptos-provider/src/AptosUtils.js","webpack://okxconnectdemo/../packages/aptos-provider/src/OKXAptosProvider.js","webpack://okxconnectdemo/../packages/aptos-provider/src/index.js","webpack://okxconnectdemo/../packages/core/src/connect/commands.js","webpack://okxconnectdemo/../packages/core/src/connect/connect.js","webpack://okxconnectdemo/../packages/core/src/connect/connectionManager.js","webpack://okxconnectdemo/../packages/core/src/connect/constants.js","webpack://okxconnectdemo/../packages/core/src/connect/engine.js","webpack://okxconnectdemo/../packages/core/src/connect/index.js","webpack://okxconnectdemo/../packages/core/src/connect/jwt.js","webpack://okxconnectdemo/../packages/core/src/connect/jwtconstants.js","webpack://okxconnectdemo/../packages/core/src/connect/sessionUtils.js","webpack://okxconnectdemo/../packages/core/src/connect/storage.js","webpack://okxconnectdemo/../packages/core/src/connect/storageconstants.js","webpack://okxconnectdemo/../packages/core/src/connect/walletConnectionConstants.js","webpack://okxconnectdemo/../packages/core/src/connect/walletConnectionManager.js","webpack://okxconnectdemo/../packages/core/src/crypto/crypto.js","webpack://okxconnectdemo/../packages/core/src/index.js","webpack://okxconnectdemo/../packages/core/src/protocol/connect/engine.js","webpack://okxconnectdemo/../packages/core/src/protocol/connect/index.js","webpack://okxconnectdemo/../packages/core/src/protocol/connect/json-rpc.js","webpack://okxconnectdemo/../packages/core/src/protocol/connect/ton/connect-event.js","webpack://okxconnectdemo/../packages/core/src/protocol/connect/ton/connect-wallet.js","webpack://okxconnectdemo/../packages/core/src/protocol/connect/ton/index.js","webpack://okxconnectdemo/../packages/core/src/protocol/connect/wallet-info.js","webpack://okxconnectdemo/../packages/core/src/protocol/constants.js","webpack://okxconnectdemo/../packages/core/src/protocol/error/index.js","webpack://okxconnectdemo/../packages/core/src/protocol/error/okx-connect.error.js","webpack://okxconnectdemo/../packages/core/src/protocol/index.js","webpack://okxconnectdemo/../packages/core/src/protocol/misc.js","webpack://okxconnectdemo/../packages/core/src/utils/call-for-success.js","webpack://okxconnectdemo/../packages/core/src/utils/index.js","webpack://okxconnectdemo/../packages/core/src/utils/log.js","webpack://okxconnectdemo/../packages/core/src/utils/safejson.js","webpack://okxconnectdemo/../packages/core/src/utils/stringUtils.js","webpack://okxconnectdemo/../packages/core/src/utils/tma-api.js","webpack://okxconnectdemo/../packages/core/src/utils/url.js","webpack://okxconnectdemo/../packages/core/src/utils/utils.js","webpack://okxconnectdemo/../packages/core/src/utils/web-api.js","webpack://okxconnectdemo/../packages/tonsdk/src/index.js","webpack://okxconnectdemo/../packages/tonsdk/src/okx-connect-ton-inner.js","webpack://okxconnectdemo/../packages/tonsdk/src/okx-connect-ton.js","webpack://okxconnectdemo/../packages/tonsdk/src/parsers/rpc-parser.js","webpack://okxconnectdemo/../packages/tonsdk/src/parsers/send-transaction-parser.js","webpack://okxconnectdemo/../packages/tonsdk/src/provider/bridge-connection-storage.js","webpack://okxconnectdemo/../packages/tonsdk/src/provider/bridge/bridge-provider.js","webpack://okxconnectdemo/../packages/tonsdk/src/provider/bridge/models/bridge-connection.js","webpack://okxconnectdemo/../packages/tonsdk/src/tracker/browser-event-dispatcher.js","webpack://okxconnectdemo/../packages/tonsdk/src/tracker/index.js","webpack://okxconnectdemo/../packages/tonsdk/src/tracker/ton-connect-tracker.js","webpack://okxconnectdemo/../packages/tonsdk/src/tracker/tracker-constants.js","webpack://okxconnectdemo/../packages/tonsdk/src/tracker/types.js","webpack://okxconnectdemo/../packages/tonsdk/src/utils/address.js","webpack://okxconnectdemo/../packages/tonsdk/src/utils/constants.js","webpack://okxconnectdemo/../packages/tonsdk/src/utils/feature-support.js","webpack://okxconnectdemo/../packages/tonsdk/src/utils/index.js","webpack://okxconnectdemo/../packages/tonsdk/src/utils/url.js","webpack://okxconnectdemo/../packages/universal-provider/src/OKXBtcProvider.js","webpack://okxconnectdemo/../packages/universal-provider/src/OKXCosmosProvider.js","webpack://okxconnectdemo/../packages/universal-provider/src/OKXTonProvider.js","webpack://okxconnectdemo/../packages/universal-provider/src/OKXUniversalProvider.js","webpack://okxconnectdemo/../packages/universal-provider/src/index.js","webpack://okxconnectdemo/../packages/universal-provider/src/packages/sign-client/client.js","webpack://okxconnectdemo/../packages/universal-provider/src/packages/utils/ConnectMethodUtils.js","webpack://okxconnectdemo/../packages/universal-provider/src/packages/utils/namespaces.js","webpack://okxconnectdemo/../packages/universal-provider/src/provider/constants/events.js","webpack://okxconnectdemo/../packages/universal-provider/src/provider/constants/index.js","webpack://okxconnectdemo/../packages/universal-provider/src/provider/constants/values.js","webpack://okxconnectdemo/../packages/universal-provider/src/provider/providers/aptos.js","webpack://okxconnectdemo/../packages/universal-provider/src/provider/providers/btc.js","webpack://okxconnectdemo/../packages/universal-provider/src/provider/providers/cosmos.js","webpack://okxconnectdemo/../packages/universal-provider/src/provider/providers/eip155.js","webpack://okxconnectdemo/../packages/universal-provider/src/provider/providers/rpc/JsonRpcConnection.js","webpack://okxconnectdemo/../packages/universal-provider/src/provider/providers/rpc/JsonRpcProvider.js","webpack://okxconnectdemo/../packages/universal-provider/src/provider/providers/solana.js","webpack://okxconnectdemo/../packages/universal-provider/src/provider/providers/sui.js","webpack://okxconnectdemo/../packages/universal-provider/src/provider/providers/ton.js","webpack://okxconnectdemo/../packages/universal-provider/src/provider/types/index.js","webpack://okxconnectdemo/../packages/universal-provider/src/provider/types/misc.js","webpack://okxconnectdemo/../packages/universal-provider/src/provider/types/providers.js","webpack://okxconnectdemo/../packages/universal-provider/src/provider/utils/globals.js","webpack://okxconnectdemo/../packages/universal-provider/src/provider/utils/index.js","webpack://okxconnectdemo/../packages/universal-provider/src/provider/utils/misc.js","webpack://okxconnectdemo/./src/App.vue","webpack://okxconnectdemo/./src/components/BtcTransactionPanel.vue","webpack://okxconnectdemo/./src/components/BtcTransactionPanel.vue?1b44","webpack://okxconnectdemo/./src/components/FractalTransactionPanel.vue","webpack://okxconnectdemo/./src/components/FractalTransactionPanel.vue?e4fb","webpack://okxconnectdemo/./src/components/SuiTransactionPanel.vue","webpack://okxconnectdemo/./src/components/SuiTransactionPanel.vue?aa83","webpack://okxconnectdemo/./src/App.vue?7ccd","webpack://okxconnectdemo/./src/main.js","webpack://okxconnectdemo/../packages/ui/lib/index.cjs","webpack://okxconnectdemo/webpack/bootstrap","webpack://okxconnectdemo/webpack/runtime/amd options","webpack://okxconnectdemo/webpack/runtime/chunk loaded","webpack://okxconnectdemo/webpack/runtime/compat get default export","webpack://okxconnectdemo/webpack/runtime/define property getters","webpack://okxconnectdemo/webpack/runtime/global","webpack://okxconnectdemo/webpack/runtime/hasOwnProperty shorthand","webpack://okxconnectdemo/webpack/runtime/make namespace object","webpack://okxconnectdemo/webpack/runtime/node module decorator","webpack://okxconnectdemo/webpack/runtime/jsonp chunk loading","webpack://okxconnectdemo/webpack/startup"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AptosUtils = void 0;\nclass AptosUtils {\n    static getTransaction(o) {\n        if (\"rawTransaction\" in o) {\n            let transaction = o;\n            if (\"entryFunction\" in transaction.rawTransaction.payload) {\n                let entryFunction = transaction.rawTransaction.payload.entryFunction;\n                let typeArgs = entryFunction.type_args;\n                let typeArguments = new Array();\n                typeArgs.forEach(typeTag => {\n                    typeArguments.push(typeTag.toString());\n                });\n                let realArguments = new Array();\n                this.getTypeArguments(entryFunction.args, realArguments);\n                let i = {\n                    arguments: realArguments,\n                    function: `${entryFunction.module_name.address.data ? entryFunction.module_name.address.toString() : entryFunction.module_name.address}::${entryFunction.module_name.name.identifier ? entryFunction.module_name.name.identifier : entryFunction.module_name.name}::${entryFunction.function_name.identifier ? entryFunction.function_name.identifier : entryFunction.function_name}`,\n                    type: \"entry_function_payload\",\n                    type_arguments: typeArguments\n                };\n                return this.getArguments(i);\n            }\n        }\n        return o;\n    }\n    static getTypeArguments(args, array) {\n        for (let j = 0; j < args.length; j++) {\n            let y = args[j];\n            if (\"values\" in y && y.values != null && y.values instanceof Array) {\n                let subArray = new Array();\n                array.push(subArray);\n                this.getTypeArguments(y.values, subArray);\n            }\n            else {\n                this.dealArrayElements(y, array);\n            }\n        }\n    }\n    static dealArrayElements(e, array) {\n        if (\"value\" in e && e.value != null) {\n            array.push(e.value.toString());\n        }\n        else if (\"data\" in e && e.data != null && e.data instanceof Uint8Array) {\n            return array.push(e.toString());\n        }\n        else {\n            return array.push(e.toString());\n        }\n    }\n    static getArguments(e) {\n        if (\"arguments\" in e) {\n            let t = e.arguments;\n            if (Array.isArray(t)) {\n                let r = new Array();\n                t.forEach(n => {\n                    if (n instanceof Uint8Array) {\n                        let o = new Array();\n                        n.forEach(i => {\n                            o.push(i);\n                        });\n                        r.push(o);\n                    }\n                    else\n                        r.push(n);\n                });\n                e = Object.assign(Object.assign({}, e), { arguments: r });\n            }\n        }\n        return e;\n    }\n}\nexports.AptosUtils = AptosUtils;\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.OKXAptosProvider = void 0;\nconst buffer_1 = require(\"buffer\");\nconst AptosUtils_1 = require(\"./AptosUtils\");\nconst core_1 = require(\"@okxconnect/core\");\nconst tweetnacl_1 = __importDefault(require(\"tweetnacl\"));\nclass OKXAptosProvider {\n    constructor(provider) {\n        this.chainsSet = new Set();\n        this.provider = provider.getUniversalProvider();\n        this.getConnectedNamespace();\n    }\n    get defaultNetwork() {\n        let network = this.provider.requestDefaultChainWithNamespace(core_1.NameSpaceKeyAptos);\n        return network;\n    }\n    get currentChainId() {\n        return `aptos:${this.defaultNetwork}`;\n    }\n    getRealChainId(chainId) {\n        // if (chainId == \"aptos:mainnet\") {\n        //     return \"aptos:637\"\n        // } else if (chainId == \"movement:testnet\") {\n        //     return \"aptos:70000060\"\n        // }\n        if (chainId == null) {\n            if (this.chainsSet.size == 1) {\n                return this.currentChainId;\n            }\n            else {\n                throw new Error(\"connected to multiple aptos chains,chainId can not be null\");\n            }\n        }\n        else {\n            return chainId;\n        }\n    }\n    getConnectedNamespace() {\n        var _a, _b, _c;\n        (_c = (_b = (_a = this.provider.session) === null || _a === void 0 ? void 0 : _a.namespaces) === null || _b === void 0 ? void 0 : _b['aptos']) === null || _c === void 0 ? void 0 : _c.chains.forEach(chain => {\n            this.chainsSet.add(chain);\n        });\n    }\n    getAccount(chainId) {\n        var _a, _b, _c, _d, _e, _f, _g, _h, _j;\n        chainId = this.getRealChainId(chainId);\n        let account = (_b = (_a = this.provider.session) === null || _a === void 0 ? void 0 : _a.namespaces['aptos']) === null || _b === void 0 ? void 0 : _b.accounts[0];\n        if (chainId != null) {\n            account = (_d = (_c = this.provider.session) === null || _c === void 0 ? void 0 : _c.namespaces['aptos']) === null || _d === void 0 ? void 0 : _d.accounts.filter(function (account) {\n                return account.startsWith(chainId);\n            })[0];\n        }\n        (0, core_1.logDebug)(\"getAccount\", account);\n        if (!account) {\n            // if (required) {\n            //      throw new Error('Account not found')\n            // }\n            return undefined;\n        }\n        const accountArray = account.split(':');\n        const address = account.split(':')[2];\n        console.log(\"aptos_publicKey\", (_f = (_e = this.provider.session) === null || _e === void 0 ? void 0 : _e.namespaces['aptos']) === null || _f === void 0 ? void 0 : _f.extra);\n        let extra = (_j = (_h = (_g = this.provider.session) === null || _g === void 0 ? void 0 : _g.namespaces['aptos']) === null || _h === void 0 ? void 0 : _h.extra) === null || _j === void 0 ? void 0 : _j[(`${accountArray[0]}:${accountArray[1]}`)];\n        let publicKey = \"\";\n        if (extra != undefined) {\n            publicKey = extra[\"publicKey\"];\n            console.log(\"aptos_publicKey\", publicKey);\n        }\n        if (!address) {\n            // if (required) {\n            //     throw new Error('Address not found')\n            // }\n            return undefined;\n        }\n        return {\n            address: address,\n            publicKey: publicKey\n        };\n    }\n    signMessage(payload, chainId) {\n        return __awaiter(this, void 0, void 0, function* () {\n            var _a, _b;\n            let realChain = this.getRealChainId(chainId);\n            try {\n                let prefix = \"APTOS\";\n                let address = (_a = this.getAccount(realChain)) === null || _a === void 0 ? void 0 : _a.address;\n                let message = \"\", nonce = \"\";\n                var fullMessage = prefix;\n                let application = window.location.protocol + \"//\" + window.location.hostname;\n                if (\"address\" in payload && payload.address) {\n                    fullMessage += \"\\naddress: \" + address;\n                }\n                if (\"application\" in payload && payload.application) {\n                    fullMessage += \"\\napplication: \" + application;\n                }\n                if (\"chainId\" in payload && payload.chainId) {\n                    let chainId = 1;\n                    if (realChain == \"aptos:mainnet\") {\n                        chainId = 1;\n                    }\n                    else if (realChain == \"movement:testnet\") {\n                        chainId = 2;\n                    }\n                    fullMessage += \"\\nchainId: \" + chainId;\n                }\n                if (\"message\" in payload) {\n                    fullMessage += \"\\nmessage: \" + payload.message;\n                    message = payload.message;\n                }\n                if (\"nonce\" in payload) {\n                    fullMessage += \"\\nnonce: \" + payload.nonce;\n                    nonce = payload.nonce;\n                }\n                console.log(\"signMessage\", fullMessage);\n                const buffer = buffer_1.Buffer.from(fullMessage);\n                const hex = this.bufferToHex(buffer);\n                let data = {\n                    \"chainId\": realChain,\n                    \"method\": \"aptos_signMessage\",\n                    \"params\": {\n                        \"message\": hex,\n                    }\n                };\n                let signedMessage = yield this.provider.request(data, realChain);\n                if ('result' in signedMessage) {\n                    let successData = signedMessage.result;\n                    let signStr = successData;\n                    if (successData.startsWith(\"0x\")) {\n                        signStr = successData.slice(2, successData.length);\n                    }\n                    try {\n                        let publicKey = (_b = this.getAccount(realChain)) === null || _b === void 0 ? void 0 : _b.publicKey;\n                        if (publicKey != undefined) {\n                            console.log(\"apt_signMessage\", buffer_1.Buffer.from(successData, 'hex'));\n                            console.log(\"apt_signMessage\", successData);\n                            const verified = tweetnacl_1.default.sign.detached.verify(buffer_1.Buffer.from(fullMessage), buffer_1.Buffer.from(signStr, 'hex'), buffer_1.Buffer.from(publicKey, 'hex'));\n                            console.log(\"signMessage\", verified);\n                        }\n                    }\n                    catch (_) {\n                    }\n                    return new Promise((resolve, reject) => {\n                        resolve({\n                            address: address,\n                            application: application,\n                            chainId: realChain,\n                            fullMessage: fullMessage,\n                            message: message,\n                            nonce: nonce,\n                            prefix: prefix,\n                            signature: signStr,\n                            // verified:verified\n                        });\n                    });\n                }\n                else {\n                    return new Promise((resolve, reject) => {\n                        if (\"error\" in signedMessage) {\n                            resolve(signedMessage.error);\n                        }\n                    });\n                }\n            }\n            catch (error) {\n                console.error('方法数据回调失败 --Error--', error);\n                return new Promise((resolve, reject) => {\n                    resolve(error);\n                });\n            }\n        });\n    }\n    signTransaction(transaction, chainId) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let tx = AptosUtils_1.AptosUtils.getTransaction(transaction);\n            console.log(\"signTransaction\", tx);\n            let realChain = this.getRealChainId(chainId);\n            try {\n                let signature = yield this.provider.request({\n                    \"method\": \"aptos_signTransaction\",\n                    \"params\": tx\n                }, realChain);\n                if ('result' in signature) {\n                    let successData = signature.result;\n                    return new Promise((resolve, reject) => {\n                        resolve(buffer_1.Buffer.from(successData));\n                    });\n                }\n                else {\n                    return new Promise((resolve, reject) => {\n                        reject(signature);\n                    });\n                }\n            }\n            catch (error) {\n                (0, core_1.logDebug)(\"getSignedTransaction\", error);\n                return new Promise((resolve, reject) => {\n                    resolve(error);\n                });\n            }\n        });\n    }\n    signAndSubmitTransaction(transaction, chainId) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let tx = AptosUtils_1.AptosUtils.getTransaction(transaction);\n            console.log(\"signAndSubmitTransaction\", tx);\n            let realChain = this.getRealChainId(chainId);\n            try {\n                let signature = yield this.provider.request({\n                    \"method\": \"aptos_signAndSubmitTransaction\",\n                    \"params\": tx\n                }, realChain);\n                if ('result' in signature) {\n                    let successData = signature.result;\n                    return new Promise((resolve, reject) => {\n                        resolve(successData);\n                    });\n                }\n                else {\n                    return new Promise((resolve, reject) => {\n                        reject(signature);\n                    });\n                }\n            }\n            catch (error) {\n                (0, core_1.logDebug)(\"getSignedTransaction\", error);\n                return new Promise((resolve, reject) => {\n                    resolve(error);\n                });\n            }\n        });\n    }\n    bufferToHex(buf) {\n        return \"0x\" + buffer_1.Buffer.from(buf).toString(\"hex\");\n    }\n}\nexports.OKXAptosProvider = OKXAptosProvider;\nexports.default = OKXAptosProvider;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.OKXAptosProvider = void 0;\nvar OKXAptosProvider_1 = require(\"./OKXAptosProvider\");\nObject.defineProperty(exports, \"OKXAptosProvider\", { enumerable: true, get: function () { return OKXAptosProvider_1.OKXAptosProvider; } });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CONNECT_METHOD_BATCH_FETCHMSG = exports.CONNECT_METHOD_FETCHMSG = exports.CONNECT_METHOD_RECEIVE = exports.CONNECT_METHOD_UNSUB = exports.CONNECT_METHOD_SUB = exports.CONNECT_METHOD_PUBLISH = exports.CONNECT_METHOD_LOGIN = exports.CONNECT_METHOD_PUSH = void 0;\n// --------------- ws methods -------------\nexports.CONNECT_METHOD_PUSH = \"push\";\nexports.CONNECT_METHOD_LOGIN = \"login\";\nexports.CONNECT_METHOD_PUBLISH = \"publish\";\nexports.CONNECT_METHOD_SUB = \"subscribe\";\nexports.CONNECT_METHOD_UNSUB = \"unsubscribe\";\nexports.CONNECT_METHOD_RECEIVE = \"receive\";\nexports.CONNECT_METHOD_FETCHMSG = \"fetchMessages\";\nexports.CONNECT_METHOD_BATCH_FETCHMSG = \"batchFetchMessages\";\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.OKXWalletConnector = void 0;\nconst constants_1 = require(\"./constants\");\nconst storageconstants_1 = require(\"./storageconstants\");\nconst storage_1 = require(\"./storage\");\nconst utils_1 = require(\"../utils\");\nconst utils_2 = require(\"../utils/utils\");\nconst eventemitter3_1 = require(\"eventemitter3\");\nconst log = __importStar(require(\"../utils/log\"));\nconst protocol_1 = require(\"../protocol\");\nconst WS = (0, utils_2.resolveWebSocketImplementation)();\nclass OKXWalletConnector {\n    constructor(url) {\n        this.events = new eventemitter3_1.EventEmitter();\n        this.state = constants_1.ConnectorState.InitState;\n        this.selectedUrlIndex = 0;\n        // reconnect\n        this.retryCount = 0;\n        // default timeout limit: 8 sec\n        this.timeOutLimit = 8000;\n        if (!(0, utils_2.checkWSUrl)(url)) {\n            throw new Error(`CONNECTOR: invalid url ${url}`);\n        }\n        this.url = url;\n        this.heartbeatTimer = null;\n        this.connectionTimeoutTimer = null;\n        this.connectURLStorage = new storage_1.Storage(storageconstants_1.OKXCONNECTOR_CACHE_KEY + storageconstants_1.OKXCONNECTOR_CACHE_KEY);\n    }\n    get connecting() {\n        return this.state == constants_1.ConnectorState.Connecting;\n    }\n    // ------------------------------------------------------\n    onPayload(e) {\n        if (typeof e.data === \"undefined\")\n            return;\n        log.logDebug('get received data');\n        log.logDebug(e);\n        if (typeof e.data === \"string\") {\n            let rsp = e.data;\n            if (rsp === \"pong\") {\n                log.logDebug(`CONNECT: receive pong ${Date.now().toString()}`);\n                return;\n            }\n        }\n        this.events.emit(\"payload\", e.data);\n    }\n    onClose(event) {\n        var _a;\n        log.logDebug('socket get closed: ', (_a = this.socket) === null || _a === void 0 ? void 0 : _a.url, event.code);\n        this.socket = undefined;\n        this.events.emit(\"close\", event);\n    }\n    onError(id, e) {\n        const payload = { id: id, msg: e.toString() };\n        this.events.emit(\"payload\", payload);\n    }\n    onopen(socket) {\n        socket.onmessage = (event) => this.onPayload(event);\n        socket.onclose = (event) => this.onClose(event);\n        this.socket = socket;\n        this.state = constants_1.ConnectorState.Connected;\n        this.events.emit(\"open\");\n    }\n    // ------------------------------------------------------\n    emitError(errorEvent) {\n        this.events.emit(\"fail\", errorEvent);\n    }\n    // ------------------------------------------------------\n    heartbeat() {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (this.heartbeatTimer) {\n                clearTimeout(this.heartbeatTimer);\n            }\n            if (this.state != constants_1.ConnectorState.Connected && this.state != constants_1.ConnectorState.OnError) {\n                log.logDebug('heart beat close');\n                return;\n            }\n            if (!this.socket) {\n                log.logDebug('socket not exist');\n                if (this.state == constants_1.ConnectorState.Connected || this.state == constants_1.ConnectorState.OnError) {\n                    log.logDebug('socket reconnect by heartbeat');\n                    try {\n                        yield this.tryRegistOpen();\n                    }\n                    catch (e) {\n                        log.logError('regist open failed');\n                        this.heartbeatTimer = setTimeout(this.heartbeat.bind(this), 5000);\n                    }\n                }\n                return;\n            }\n            if (this.socket.readyState !== WebSocket.OPEN) {\n                log.logDebug('socket not ready');\n                if (this.state == constants_1.ConnectorState.Connected || this.state == constants_1.ConnectorState.OnError) {\n                    log.logDebug('socket reconnect by heartbeat with state', this.state, this.socket.readyState);\n                    try {\n                        yield this.tryRegistOpen();\n                    }\n                    catch (e) {\n                        log.logError('regist open failed');\n                        this.heartbeatTimer = setTimeout(this.heartbeat.bind(this), 5000);\n                    }\n                }\n                return;\n            }\n            log.logDebug(`send ping heart beat: ${Date.now().toString()}, ${this.socket}`);\n            this.socket.send(\"ping\");\n            this.heartbeatTimer = setTimeout(this.heartbeat.bind(this), 5000);\n        });\n    }\n    registOpen(url = this.url, inRetry = false) {\n        if (!(0, utils_2.checkWSUrl)(url)) {\n            throw new Error(`CONNECTOR: invalid url ${url}`);\n        }\n        this.url = url;\n        if (!inRetry) {\n            log.logDebug('Connection connect:', this.url, new Date().toUTCString());\n        }\n        this.state = constants_1.ConnectorState.Connecting;\n        const origin = new URLSearchParams(url).get(\"origin\");\n        return new Promise((resolve, reject) => {\n            const socket = new WS(url, []);\n            log.logDebug('Connection connect Begin:', this.url, new Date().toUTCString());\n            this.startTimeOutTimer(socket);\n            if ((0, utils_2.hasBuiltInWebSocket)()) {\n                log.logDebug('Add socket error handler');\n                socket.onerror = () => {\n                    reject(new Error('socket error'));\n                    socket.close();\n                };\n            }\n            else {\n                log.logDebug('Add socket error handler');\n                socket.on(\"error\", () => {\n                    reject(new Error('socket error'));\n                    socket.close();\n                });\n            }\n            socket.onopen = () => {\n                log.logDebug('socket opened');\n                this.resetTimeOutTimer(constants_1.OKXCONNECTOR_WS_URL_PENDING_CLOSE_CODE.FINISHED);\n                this.onopen(socket);\n                this.heartbeat();\n                resolve(socket);\n            };\n        });\n    }\n    checkMaxRetry() {\n        log.logDebug('current retry count:', this.retryCount, 'of', constants_1.OKXCONNECTOR_WS_URL_LIST.length);\n        return this.retryCount > constants_1.OKXCONNECTOR_WS_URL_LIST.length;\n    }\n    connectionTryNext() {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (!this.checkMaxRetry()) {\n                //TODO: mark descent\n                this.retryCount += 1;\n                let nextUrl = this.getNextSelectUrl();\n                log.logDebug('Connection retry:', nextUrl, new Date().toUTCString());\n                return this.registOpen(nextUrl, true);\n            }\n            else {\n                log.logDebug('Max Connection retry ', this.retryCount, new Date().toUTCString());\n            }\n        });\n    }\n    startTimeOutTimer(socket) {\n        if (this.connectionTimeoutTimer) {\n            this.resetTimeOutTimer(constants_1.OKXCONNECTOR_WS_URL_PENDING_CLOSE_CODE.CANCELED);\n        }\n        this.pendingSocket = socket;\n        this.connectionTimeoutTimer = setTimeout(() => {\n            if (this.pendingSocket) {\n                this.resetTimeOutTimer(constants_1.OKXCONNECTOR_WS_URL_PENDING_CLOSE_CODE.TIME_OUT);\n            }\n        }, this.timeOutLimit);\n    }\n    resetTimeOutTimer(code) {\n        var _a;\n        // 1. cancel connecting pending sockets\n        if (code != constants_1.OKXCONNECTOR_WS_URL_PENDING_CLOSE_CODE.FINISHED) {\n            (_a = this.pendingSocket) === null || _a === void 0 ? void 0 : _a.close(code);\n        }\n        this.pendingSocket = undefined;\n        // 2. remove timer\n        clearTimeout(this.connectionTimeoutTimer);\n    }\n    cacheSuccessUrlSelect() {\n        this.connectURLStorage.saveContent(this.selectedUrlIndex.toString(), storageconstants_1.OKXCONNECTOR_CACHE_KEY);\n    }\n    getSuccessUrlSelect() {\n        var _a;\n        let selectIndex = (_a = this.connectURLStorage.getItem(storageconstants_1.OKXCONNECTOR_CACHE_KEY)) === null || _a === void 0 ? void 0 : _a.content;\n        let index = 0;\n        if (selectIndex) {\n            index = Number(selectIndex);\n        }\n        this.selectedUrlIndex = index;\n        return constants_1.OKXCONNECTOR_WS_URL_LIST[index];\n    }\n    getNextSelectUrl() {\n        this.selectedUrlIndex += 1;\n        this.selectedUrlIndex = this.selectedUrlIndex % constants_1.OKXCONNECTOR_WS_URL_LIST.length;\n        return constants_1.OKXCONNECTOR_WS_URL_LIST[this.selectedUrlIndex];\n    }\n    // ------------------------------------------------------\n    onVisibleChanged() {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (document.visibilityState === 'visible') {\n                // check and restore\n                log.logDebug(`get changed ${this.state}, ${this.socket}`);\n                if (this.state == constants_1.ConnectorState.Connected && typeof this.socket === \"undefined\") {\n                    log.logDebug('CONNECTION need reopen');\n                    try {\n                        yield this.tryRegistOpen();\n                    }\n                    catch (e) {\n                        log.logError('regist open failed');\n                    }\n                    return;\n                }\n            }\n        });\n    }\n    tryRegistOpen() {\n        return __awaiter(this, arguments, void 0, function* (url = this.url) {\n            if (this.connecting) {\n                log.logDebug('tryRegistOpen => connecting state');\n                return new Promise((resolve, reject) => {\n                    this.events.once('fail', (e) => {\n                        log.logDebug('tryRegistOpen => connecting fail listener', e);\n                        return reject(e);\n                    });\n                    this.events.once(\"open\", () => {\n                        if (typeof this.socket == \"undefined\") {\n                            return reject(new Error(\"Connect lost\"));\n                        }\n                        return resolve(this.socket);\n                    });\n                });\n            }\n            log.logDebug('tryRegistOpen => try registOpen until retry limit is hit');\n            let inRetry = false;\n            while (!this.checkMaxRetry() && !this.socket) {\n                try {\n                    log.logDebug('tryRegistOpen => call registOpen, try count:', this.retryCount, inRetry);\n                    yield this.registOpen(url, inRetry);\n                }\n                catch (err) {\n                    log.logDebug('tryRegistOpen => registOpen failed', err);\n                    this.retryCount += 1;\n                    url = this.getNextSelectUrl();\n                    inRetry = true;\n                }\n            }\n            log.logDebug('tryRegistOpen => exit while loop', this.retryCount, this.socket);\n            if (!this.socket && this.checkMaxRetry()) {\n                log.logDebug('tryRegistOpen => failed to open a socket', this.retryCount, this.socket);\n                this.retryCount = 0;\n                this.state = constants_1.ConnectorState.OnError;\n                this.emitError(new Error('tryRegistOpen failed'));\n                throw new protocol_1.OKXConnectError(protocol_1.OKX_CONNECT_ERROR_CODES.CONNECTION_ERROR, \"Failed to connect\");\n            }\n        });\n    }\n    connect() {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                yield this.tryRegistOpen();\n                // listener for reconnect\n                document.removeEventListener('visibilitychange', this.onVisibleChanged.bind(this));\n                document.addEventListener('visibilitychange', this.onVisibleChanged.bind(this));\n            }\n            catch (e) {\n                log.logDebug('connect => failed to connect', e);\n                throw e;\n            }\n        });\n    }\n    disconnect() {\n        return __awaiter(this, void 0, void 0, function* () {\n            this.state = constants_1.ConnectorState.Disconnected;\n            return new Promise((resolve, reject) => {\n                if (typeof this.socket === \"undefined\") {\n                    // reject(new Error(\"CONNECTION closed\"))\n                    resolve();\n                    return;\n                }\n                this.socket.onclose = (event) => {\n                    this.onClose(event);\n                    resolve();\n                };\n                this.socket.close();\n                if (this.heartbeatTimer) {\n                    clearTimeout(this.heartbeatTimer);\n                }\n            });\n        });\n    }\n    currentStatus() {\n        return {\n            state: this.state,\n            url: this.url\n        };\n    }\n    // event will be jsonstr\n    /// @params Promise\n    /// @params success/failed callback\n    addListener(event, decrypt, success, failed) {\n        if (this.listenPayloadHandler) {\n            this.events.removeListener(\"payload\", this.listenPayloadHandler);\n        }\n        this.listenPayloadHandler = (e) => {\n            var _a;\n            log.logDebug(`<<< get payload ${e}`);\n            let parsedEvent = (0, utils_1.safeJsonParse)(e);\n            // parse the data to chose success or failed\n            if (parsedEvent.params && parsedEvent.params.data) {\n                let rawMsg = (_a = parsedEvent.params.data) === null || _a === void 0 ? void 0 : _a.message;\n                if (rawMsg) {\n                    try {\n                        let msg = decrypt(rawMsg);\n                        if (msg === undefined) {\n                            log.logDebug(`CONNECT: decrypt undefined`);\n                            failed(event, 'Decrypt undefined');\n                        }\n                        else {\n                            success(event, msg);\n                        }\n                    }\n                    catch (e) {\n                        log.logDebug(`CONNECT: decrypt failed: ${e}`);\n                        failed(event, e.message);\n                    }\n                }\n            }\n        };\n        this.events.on(\"payload\", this.listenPayloadHandler);\n        if (this.failHandler) {\n            this.events.removeListener(\"fail\", this.failHandler);\n        }\n        this.failHandler = (e) => {\n            if (e) {\n                log.logDebug(`CONNECT failed: ${e}`);\n                failed(event, e.message);\n            }\n            else {\n                failed(event, \"Unkonow error\");\n            }\n        };\n        this.events.on(\"fail\", this.failHandler);\n    }\n    addPackageParse(callback) {\n        if (this.payloadHandler) {\n            this.events.removeListener(\"payload\", this.payloadHandler);\n        }\n        this.payloadHandler = (e) => __awaiter(this, void 0, void 0, function* () {\n            // parse the data to chose success or failed\n            log.logDebug(`CONNECTION @[${new Date().toUTCString()}] <<<< received e:${e}`);\n            let param = (0, utils_1.safeJsonParse)(e);\n            yield callback(param);\n        });\n        this.events.on(\"payload\", this.payloadHandler);\n    }\n    once(event, listener) {\n        this.events.once(event, listener);\n    }\n    off(event, listener) {\n        this.events.off(event, listener);\n    }\n    removeListener(event, listener) {\n        this.events.removeListener(event, listener);\n    }\n    send(doLogin, payload) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                if (typeof this.socket === \"undefined\") {\n                    log.logDebug(`>>> send payload undefined ${payload}`);\n                    // this.socket = await this.registOpen();\n                    yield doLogin();\n                }\n                log.logDebug(`CONNECTION @[${new Date().toUTCString()}]>>> send payload ${(0, utils_1.safeJsonStringify)(payload)}`);\n                if (this.socket) {\n                    this.socket.send((0, utils_1.safeJsonStringify)(payload));\n                }\n            }\n            catch (e) {\n                this.onError(payload.id, e);\n            }\n        });\n    }\n    getMsgPayloadFromHistory(msg) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (typeof msg === \"undefined\")\n                return;\n            let tmpMsg = {\n                params: {\n                    data: msg\n                }\n            };\n            let jsonstr = (0, utils_1.safeJsonStringify)(msg);\n            log.logDebug('get received data from history');\n            log.logDebug(jsonstr);\n            jsonstr = (0, utils_1.safeJsonStringify)(tmpMsg);\n            this.events.emit(\"payload\", jsonstr);\n        });\n    }\n    onOpen(callback) {\n        if (this.openHandler) {\n            this.events.removeListener(\"open\", this.openHandler);\n        }\n        this.openHandler = () => __awaiter(this, void 0, void 0, function* () {\n            log.logDebug(`CONNECTION @[${new Date().toUTCString()}] >>> ws opened: `);\n            yield callback();\n        });\n        this.events.on(\"open\", this.openHandler);\n        this.cacheSuccessUrlSelect();\n    }\n}\nexports.OKXWalletConnector = OKXWalletConnector;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ConnectionManager = void 0;\nconst connect_1 = require(\"./connect\");\nconst commands_1 = require(\"./commands\");\nconst storageconstants_1 = require(\"./storageconstants\");\nconst jwtconstants_1 = require(\"./jwtconstants\");\nconst constants_1 = require(\"./constants\");\nconst eventemitter3_1 = require(\"eventemitter3\");\nconst storage_1 = require(\"./storage\");\nconst utils_1 = require(\"../utils/utils\");\nconst crypto_1 = require(\"../crypto/crypto\");\nconst jwt_1 = require(\"./jwt\");\nconst safejson_1 = require(\"../utils/safejson\");\nconst log = __importStar(require(\"../utils/log\"));\nconst log_1 = require(\"../utils/log\");\nconst url_1 = require(\"../utils/url\");\nclass ConnectionManager {\n    constructor() {\n        this.events = new eventemitter3_1.EventEmitter();\n        // local storage\n        this.connectStorage = new storage_1.Storage(storageconstants_1.OKXCONNECTOR_CACHE_KEY_DAPP);\n        this.crypto = new crypto_1.SessionCrypto();\n        let inTMA = (0, url_1.isInTMA)();\n        (0, log_1.logDebug)('do init:', inTMA);\n        if (inTMA) {\n            // recovery from cache\n            const keyPairInfo = this.getCachedCryptoKeyPair();\n            (0, log_1.logDebug)('use same pk:', keyPairInfo);\n            this.crypto = new crypto_1.SessionCrypto(keyPairInfo);\n        }\n        this.jwtKeyPair = this.getCachedJWTKeyPair();\n        this.saveJWTKeyPair(this.jwtKeyPair);\n        // wss connection\n        this.connector = new connect_1.OKXWalletConnector(constants_1.OKXCONNECTOR_WS_URL_1);\n        this.packageId = Date.now();\n        // connection state\n        this.connectedWalletPK = '';\n        this.currentTopic = '';\n        log.logDebug(`this.connectedWalletPK  constructor   ${this.connectedWalletPK}`);\n    }\n    refreshPackageId() {\n        this.packageId = Date.now();\n    }\n    saveCryptoKeyPair(keyPair) {\n        let cacheInfo = (0, safejson_1.safeJsonStringify)(keyPair);\n        // encrypt kp\n        this.connectStorage.encryptStoreMsg(cacheInfo, storageconstants_1.OKXCONNECTOR_CRYPTO_KEY);\n    }\n    getCachedCryptoKeyPair() {\n        // decrypt kp\n        const kp = this.connectStorage.getAndDecrypt(storageconstants_1.OKXCONNECTOR_CRYPTO_KEY);\n        const content = kp;\n        if (typeof content == 'string') {\n            log.logDebug('get cached crypto key:');\n            log.logDebug(content);\n            let keyPairInfo = (0, safejson_1.safeJsonParse)(content);\n            return keyPairInfo;\n        }\n        else {\n            this.connectStorage.clearCache();\n        }\n        return null;\n    }\n    saveJWTKeyPair(keyPair) {\n        var strkeyPair = {\n            publicKey: (0, utils_1.toHexString)(keyPair.publicKey),\n            secretKey: (0, utils_1.toHexString)(keyPair.secretKey)\n        };\n        log.logDebug('save jwt kp');\n        let cacheInfo = (0, safejson_1.safeJsonStringify)(strkeyPair);\n        log.logDebug(cacheInfo);\n        // encrypt jwt kp\n        this.connectStorage.encryptStoreMsg(cacheInfo, storageconstants_1.OKXCONNECTOR_JWT_KEY);\n    }\n    getCachedJWTKeyPair() {\n        const kp = this.connectStorage.getAndDecrypt(storageconstants_1.OKXCONNECTOR_JWT_KEY);\n        const content = kp;\n        if (typeof content == 'string') {\n            // TODO: decrypt jwt kp\n            log.logDebug('get cached jwt kp:');\n            log.logDebug(content);\n            let strKeyPairInfo = (0, safejson_1.safeJsonParse)(content);\n            log.logDebug('save jwt kp');\n            log.logDebug(strKeyPairInfo);\n            var keyPair = {\n                publicKey: (0, utils_1.hexToByteArray)(strKeyPairInfo.publicKey),\n                secretKey: (0, utils_1.hexToByteArray)(strKeyPairInfo.secretKey)\n            };\n            return keyPair;\n        }\n        else {\n            return (0, jwt_1.generateKeyPair)();\n        }\n    }\n    isWalletPKReady() {\n        log.logDebug(`isWalletPKReady  ===> ${this.connectedWalletPK}`);\n        return this.connectedWalletPK.length > 0;\n    }\n    makeJWT(topic) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return yield (0, jwt_1.signJWT)(topic, jwtconstants_1.OKXCONNECTOR_JWT_SIDE, jwtconstants_1.OKXCONNECTOR_JWT_TTL, // 24h\n            this.jwtKeyPair);\n        });\n    }\n    parsePackage(input_1) {\n        return __awaiter(this, arguments, void 0, function* (input, ignoreACK = false) {\n            var _a, _b, _c, _d, _e;\n            this.events.emit(input.id, input);\n            // send back ACK\n            if (!ignoreACK) {\n                yield this.sendACK(input.id, true);\n                let topic = (_a = this.connectStorage.getItem(storageconstants_1.OKXCONNECTOR_TOKEN_CACHE)) === null || _a === void 0 ? void 0 : _a.content;\n                if (topic) {\n                    let inputObj = input;\n                    if ((_c = (_b = inputObj.params) === null || _b === void 0 ? void 0 : _b.data) === null || _c === void 0 ? void 0 : _c.messageId) {\n                        this.refreshPackageId();\n                        yield this.sendReceive(this.packageId.toString(), (_e = (_d = inputObj.params) === null || _d === void 0 ? void 0 : _d.data) === null || _e === void 0 ? void 0 : _e.messageId, topic);\n                    }\n                }\n            }\n        });\n    }\n    restoreConnect(topic) {\n        return __awaiter(this, void 0, void 0, function* () {\n            log.logDebug(`connectionManager  restoreConenct   ${topic}`);\n            if ((typeof topic !== 'string') || topic.length === 0) {\n                throw new Error('CONNECTION: invalid topic');\n            }\n            log.logDebug(`connectionManager  restoreConenct   disconnect`);\n            yield this.disconnect(true);\n            this.connectStorage.saveContent(topic, storageconstants_1.OKXCONNECTOR_TOKEN_CACHE);\n            log.logDebug(`connectionManager  restoreConenct   conect`);\n            yield this.connect(true);\n        });\n    }\n    getConnectInfo() {\n        var topic = (0, utils_1.generateTopic)();\n        log.logDebug(`generate topic token: ${topic}`);\n        this.currentTopic = topic;\n        const info = {\n            channelId: topic,\n            clientId: this.crypto.stringifyKeypair().publicKey,\n        };\n        return info;\n    }\n    connect() {\n        return __awaiter(this, arguments, void 0, function* (fromRestore = false) {\n            this.timeLog = new Date().getTime();\n            (0, log_1.logDebug)(\"ConnectTime---enter->\", this.timeLog);\n            let lastConnectId = this.connectStorage.getItem(storageconstants_1.OKXCONNECTOR_TOKEN_CACHE);\n            //1. generate topic & jwt\n            var topic = this.currentTopic;\n            log.logDebug(`generate topic token: ${topic}`);\n            // crypto keypair\n            if (fromRestore) {\n                if (typeof lastConnectId !== 'undefined' && lastConnectId !== null) {\n                    log.logDebug(`read last connect id: ${lastConnectId}`);\n                    topic = lastConnectId.content;\n                }\n                var cachedSenderPublicKey = this.connectStorage.getItem(storageconstants_1.OKXCONNECTOR_CRYPTO_SENDER_PK_CACHE);\n                if (cachedSenderPublicKey) {\n                    this.connectedWalletPK = cachedSenderPublicKey.content;\n                    (0, log_1.logDebug)(`connectionManager connect() this.connectedWalletPK : ${this.connectedWalletPK}`);\n                }\n            }\n            if (fromRestore) {\n                // recovery from cache\n                const keyPairInfo = this.getCachedCryptoKeyPair();\n                if (keyPairInfo) {\n                    this.crypto = new crypto_1.SessionCrypto(keyPairInfo);\n                }\n            }\n            log.logDebug(`use crypto client id: ${this.crypto.stringifyKeypair().publicKey}`);\n            // cache topic\n            this.connectStorage.saveContent(topic, storageconstants_1.OKXCONNECTOR_TOKEN_CACHE);\n            var jwtToken = yield this.makeJWT(topic);\n            log.logDebug(`generate jwt token: ${jwtToken}`);\n            this.connectStorage.saveContent(jwtToken, 'jwt');\n            return new Promise((resolve, reject) => {\n                // 1. when websocket opened\n                this.connector.onOpen(() => __awaiter(this, void 0, void 0, function* () {\n                    log.logDebug(`1. connector on open`);\n                    const timeOne = new Date().getTime();\n                    (0, log_1.logDebug)(\"ConnectTime---open->\", timeOne - this.timeLog);\n                    //2. send jwt to login\n                    this.events.once(this.packageId.toString(), (rsp) => __awaiter(this, void 0, void 0, function* () {\n                        // ack\n                        if (rsp && rsp.error) {\n                            log.logError('failed when login');\n                            yield this.connector.disconnect();\n                            var error = new Error();\n                            error.message = rsp.error.message;\n                            error.name = rsp.error.code.toString();\n                            // throw error\n                            reject(error);\n                        }\n                        //3. send subscribe\n                        this.refreshPackageId();\n                        this.events.once(this.packageId.toString(), (rsp) => __awaiter(this, void 0, void 0, function* () {\n                            // ack\n                            if (rsp && rsp.error) {\n                                log.logError('failed when subscribe');\n                                yield this.connector.disconnect();\n                                var error = new Error();\n                                error.message = rsp.error.message;\n                                error.name = rsp.error.code.toString();\n                                // throw error\n                                reject(error);\n                            }\n                            this.refreshPackageId();\n                            log.logDebug(`4. subscribe callback then send fetch: ${this.packageId}`);\n                            const timeF = new Date().getTime();\n                            (0, log_1.logDebug)(\"ConnectTime--subscribe callback->\", timeF - this.timeLog);\n                            // 4. fetch messages\n                            yield this.sendFetchAndConsumeMessages(this.packageId.toString(), topic);\n                            resolve();\n                        }));\n                        log.logDebug(`3. login callback then send subscribe: ${this.packageId}`);\n                        const timeTh = new Date().getTime();\n                        (0, log_1.logDebug)(\"ConnectTime---login callback->\", timeTh - this.timeLog);\n                        yield this.connector.send(() => __awaiter(this, void 0, void 0, function* () {\n                            log.logDebug('CONNECT: reconnect before send');\n                            yield this.connector.connect()\n                                .catch((err) => {\n                                (0, log_1.logDebug)('ConnectionManager connect error', err);\n                                reject(err);\n                            });\n                        }), {\n                            id: this.packageId.toString(),\n                            jsonrpc: constants_1.CONNECT_JSONRPC_VER,\n                            method: commands_1.CONNECT_METHOD_SUB,\n                            params: {\n                                topic: topic\n                            }\n                        });\n                    }));\n                    log.logDebug(`2. login called`);\n                    yield this.connector.send(() => __awaiter(this, void 0, void 0, function* () {\n                        log.logDebug('CONNECT: reconnect before send');\n                        yield this.connector.connect()\n                            .catch((err) => {\n                            (0, log_1.logDebug)('ConnectionManager connect error', err);\n                            reject(err);\n                        });\n                    }), {\n                        id: this.packageId.toString(),\n                        jsonrpc: constants_1.CONNECT_JSONRPC_VER,\n                        method: commands_1.CONNECT_METHOD_LOGIN,\n                        params: {\n                            token: jwtToken\n                        }\n                    });\n                    // 4. listen when dapp back to front, receive wallet public key\n                    this.connector.addPackageParse((event) => {\n                        var _a;\n                        log.logDebug(`connect: parse package`);\n                        log.logDebug(event);\n                        if (!(\"params\" in event) || !(\"data\" in event[\"params\"])) {\n                            this.parsePackage(event, true);\n                            return;\n                        }\n                        let rawMsg = (_a = event.params.data) === null || _a === void 0 ? void 0 : _a.message;\n                        if (typeof rawMsg !== 'undefined') {\n                            rawMsg = rawMsg.replace(/'/g, '\"');\n                            let parsedMessage = (0, safejson_1.safeJsonParse)(rawMsg);\n                            if (typeof parsedMessage !== 'string' && \"clientId\" in parsedMessage && parsedMessage.clientId && parsedMessage.clientId.length > 0) {\n                                this.connectedWalletPK = parsedMessage.clientId;\n                                log.logDebug(`this.connectedWalletPK  addPackageParse   ${this.connectedWalletPK}`);\n                                // exchange sender public key\n                                // cache wallet public key\n                                this.connectStorage.saveContent(this.connectedWalletPK, storageconstants_1.OKXCONNECTOR_CRYPTO_SENDER_PK_CACHE);\n                                // cache crypto keypair\n                                this.saveCryptoKeyPair(this.crypto.stringifyKeypair());\n                            }\n                        }\n                        // ignore receive echo\n                        this.parsePackage(event, event.method === commands_1.CONNECT_METHOD_RECEIVE);\n                    });\n                }));\n                this.connector.connect().catch((err) => {\n                    (0, log_1.logDebug)('ConnectionManager connect error', err);\n                    reject(err);\n                });\n            });\n        });\n    }\n    disconnect() {\n        return __awaiter(this, arguments, void 0, function* (fromRestore = false) {\n            yield this.connector.disconnect();\n            //clean cached topic\n            //如果是恢复连接，就不清理解密public key\n            this.connectStorage.clearCache(storageconstants_1.OKXCONNECTOR_TOKEN_CACHE);\n            if (!fromRestore) {\n                this.connectStorage.clearCache(storageconstants_1.OKXCONNECTOR_CRYPTO_SENDER_PK_CACHE);\n                this.connectedWalletPK = '';\n                (0, log_1.logDebug)(`connectionManager disconnect() this.connectedWalletPK : ${this.connectedWalletPK}`);\n            }\n        });\n    }\n    addListener(event, success, fail) {\n        this.connector.addListener((0, safejson_1.safeJsonStringify)(event), (rawMsg) => {\n            rawMsg = rawMsg.replace(/'/g, '\"');\n            log.logDebug(`addListener ===> ${rawMsg}`);\n            if (typeof rawMsg !== 'undefined') {\n                var msgObj = (0, safejson_1.safeJsonParse)(rawMsg);\n                var msg = msgObj.message;\n                let result;\n                if (msg.trimStart().startsWith('{')) {\n                    result = msg;\n                }\n                else {\n                    if (msgObj.clientId && msgObj.clientId.length > 0) {\n                        this.connectedWalletPK = msgObj.clientId;\n                        this.connectStorage.saveContent(this.connectedWalletPK, storageconstants_1.OKXCONNECTOR_CRYPTO_SENDER_PK_CACHE);\n                        log.logDebug(`this.connectedWalletPK  addListener   ${this.connectedWalletPK}`);\n                        log.logDebug(`this.cryptoKey  addListener   ${(0, utils_1.toHexString)(this.crypto.keyPair.publicKey)}`);\n                        // cache crypto keypair\n                        this.saveCryptoKeyPair(this.crypto.stringifyKeypair());\n                    }\n                    result = this.crypto.decrypt(msg, this.connectedWalletPK);\n                }\n                log.logDebug(`addListener ===> ${result}`);\n                return result;\n            }\n            return undefined;\n        }, success, fail);\n    }\n    sendRaw(msg) {\n        return __awaiter(this, void 0, void 0, function* () {\n            log.logDebug(`message send =====> ${msg}`);\n            let message = msg;\n            log.logDebug(`message send =====encrypt message.length>>>> ${message.length}`);\n            // only one topic\n            let topic = this.connectStorage.getItem(storageconstants_1.OKXCONNECTOR_TOKEN_CACHE);\n            log.logDebug(`message send =====topic>>>> ${topic === null || topic === void 0 ? void 0 : topic.content}`);\n            this.refreshPackageId();\n            const payload = {\n                id: this.packageId.toString(),\n                method: commands_1.CONNECT_METHOD_PUBLISH,\n                jsonrpc: constants_1.CONNECT_JSONRPC_VER,\n                params: {\n                    message: {\n                        topic: topic === null || topic === void 0 ? void 0 : topic.content,\n                        message: message,\n                        ttl: constants_1.OKXCONNECTOR_MESSAGE_TTL\n                    }\n                } // crypted\n            };\n            this.events.once(this.packageId.toString(), (rsp) => __awaiter(this, void 0, void 0, function* () {\n                // ack\n                if (rsp && rsp.error) {\n                    log.logError(`@${new Date().toUTCString()} >>> failed when send msg`);\n                }\n                else if (rsp && !rsp.error) {\n                    log.logDebug(`CONNECTION @[${new Date().toUTCString()}] >>> send msg with id ${this.packageId} successed`);\n                }\n            }));\n            yield this.connector.send(() => __awaiter(this, void 0, void 0, function* () {\n                log.logDebug('CONNECT: reconnect before send');\n                return yield this.connector.connect();\n            }), payload);\n            return this.packageId;\n        });\n    }\n    send(msg_1) {\n        return __awaiter(this, arguments, void 0, function* (msg, ttl = constants_1.OKXCONNECTOR_MESSAGE_TTL) {\n            // make send msg payload\n            log.logDebug(`message send =====> ${msg}`);\n            if (!this.isWalletPKReady()) {\n                // channel not ready\n                throw new Error('connection not finish');\n            }\n            let message = this.crypto.encrypt(msg, this.connectedWalletPK);\n            log.logDebug(`message send =====encrypt message.length>>>> ${message.length}`);\n            // only one topic\n            let topic = this.connectStorage.getItem(storageconstants_1.OKXCONNECTOR_TOKEN_CACHE);\n            log.logDebug(`message send =====topic>>>> ${topic === null || topic === void 0 ? void 0 : topic.content}`);\n            this.refreshPackageId();\n            const payload = {\n                id: this.packageId.toString(),\n                method: commands_1.CONNECT_METHOD_PUBLISH,\n                jsonrpc: constants_1.CONNECT_JSONRPC_VER,\n                params: {\n                    message: {\n                        topic: topic === null || topic === void 0 ? void 0 : topic.content,\n                        message: message,\n                        ttl: ttl\n                    }\n                } // crypted\n            };\n            this.events.once(this.packageId.toString(), (rsp) => __awaiter(this, void 0, void 0, function* () {\n                // ack\n                if (rsp && rsp.error) {\n                    log.logError(`@${new Date().toUTCString()} >>> failed when send msg`);\n                }\n                else if (rsp && !rsp.error) {\n                    log.logDebug(`CONNECTION @[${new Date().toUTCString()}] >>> send msg with id ${this.packageId} successed`);\n                }\n            }));\n            yield this.connector.send(() => __awaiter(this, void 0, void 0, function* () {\n                log.logDebug('CONNECT: reconnect before send');\n                return yield this.connector.connect();\n            }), payload);\n            return this.packageId;\n        });\n    }\n    sendACK(msgId_1, success_1) {\n        return __awaiter(this, arguments, void 0, function* (msgId, success, reason = undefined) {\n            if (success === true) {\n                const payload = {\n                    id: msgId,\n                    jsonrpc: constants_1.CONNECT_JSONRPC_VER,\n                    result: true\n                };\n                yield this.connector.send(() => __awaiter(this, void 0, void 0, function* () {\n                    log.logDebug('CONNECT: reconnect before send');\n                    return yield this.connector.connect();\n                }), payload);\n            }\n            else if (reason) {\n                const payload = {\n                    id: msgId,\n                    jsonrpc: constants_1.CONNECT_JSONRPC_VER,\n                    error: {\n                        code: reason.code, //int\n                        message: reason.message\n                    }\n                };\n                yield this.connector.send(() => __awaiter(this, void 0, void 0, function* () {\n                    log.logDebug('CONNECT: reconnect before send');\n                    return yield this.connector.connect();\n                }), payload);\n            }\n        });\n    }\n    // send receive\n    sendReceive(msgId, messageId, topic) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const payload = {\n                id: msgId,\n                jsonrpc: constants_1.CONNECT_JSONRPC_VER,\n                method: commands_1.CONNECT_METHOD_RECEIVE,\n                params: {\n                    data: {\n                        messageId: messageId,\n                        topic: topic\n                    }\n                }\n            };\n            yield this.connector.send(() => __awaiter(this, void 0, void 0, function* () {\n                log.logDebug('CONNECT: reconnect before send');\n                return yield this.connector.connect();\n            }), payload);\n        });\n    }\n    sendConnectSessionInfo(msgId, messageId, topic, params) {\n        return __awaiter(this, void 0, void 0, function* () {\n        });\n    }\n    // send receive\n    // 1. fetch all \n    // 2. send back receive\n    // 3. check has more, if so, repeat from 1st step\n    sendFetchAndConsumeMessages(msgId, topic) {\n        return __awaiter(this, void 0, void 0, function* () {\n            //1. send fetch\n            this.events.once(msgId, (fetchedMessages) => __awaiter(this, void 0, void 0, function* () {\n                var _a, _b;\n                //2. consume received messages\n                if (fetchedMessages.result) {\n                    var hasMore = fetchedMessages.result.hasMore;\n                    var receivedMsgs = fetchedMessages.result.data;\n                    if (receivedMsgs) {\n                        for (let i = 0; i < receivedMsgs.length; i++) {\n                            let msg = receivedMsgs[i];\n                            if (msg && msg.topic == topic) {\n                                let messageId = msg.messageId;\n                                yield this.connector.getMsgPayloadFromHistory(msg);\n                                // send receive command to relay server\n                                this.refreshPackageId();\n                                yield this.sendReceive(this.packageId.toString(), messageId, topic);\n                            }\n                        }\n                    }\n                    // 3. check hasmore\n                    if (hasMore) {\n                        this.refreshPackageId();\n                        yield this.sendFetchAndConsumeMessages(this.packageId.toString(), topic);\n                    }\n                }\n                else {\n                    log.logDebug(`CONNECT: get error rsp ${(_a = fetchedMessages.error) === null || _a === void 0 ? void 0 : _a.code} : ${(_b = fetchedMessages.error) === null || _b === void 0 ? void 0 : _b.message}`);\n                }\n            }));\n            log.logDebug('5. send fetch more');\n            const timeFive = new Date().getTime();\n            (0, log_1.logDebug)(\"ConnectTime---5->\", timeFive - this.timeLog);\n            const payload = {\n                id: msgId,\n                jsonrpc: constants_1.CONNECT_JSONRPC_VER,\n                method: commands_1.CONNECT_METHOD_FETCHMSG,\n                params: {\n                    data: {\n                        topic: topic\n                    }\n                }\n            };\n            yield this.connector.send(() => __awaiter(this, void 0, void 0, function* () {\n                log.logDebug('CONNECT: reconnect before send');\n                return yield this.connector.connect();\n            }), payload);\n        });\n    }\n    cleanCache() {\n        return __awaiter(this, void 0, void 0, function* () {\n            this.connectStorage.clearCache();\n        });\n    }\n    saveSessionContent(key, data) {\n        if (!data) {\n            this.connectStorage.clearCache(storageconstants_1.OKXCONNECTOR_SESSION_PREFIX_KEY + key);\n        }\n        let jsonData = (0, safejson_1.safeJsonStringify)(data);\n        this.connectStorage.encryptStoreMsg(jsonData, storageconstants_1.OKXCONNECTOR_SESSION_PREFIX_KEY + key);\n    }\n    getSessionContent(key) {\n        let jsonStr = this.connectStorage.getAndDecrypt(storageconstants_1.OKXCONNECTOR_SESSION_PREFIX_KEY + key);\n        if (jsonStr) {\n            let object = (0, safejson_1.safeJsonParse)(jsonStr);\n            return object;\n        }\n        return undefined;\n    }\n    getCurrentConnectionReady() {\n        return this.isWalletPKReady();\n    }\n}\nexports.ConnectionManager = ConnectionManager;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ConnectorState = exports.CONNECT_JSONRPC_VER = exports.OKXCONNECTOR_MESSAGE_TTL = exports.OKXCONNECTOR_WS_URL_PENDING_CLOSE_CODE = exports.OKXCONNECTOR_WS_URL_LIST = exports.OKXCONNECTOR_WS_URL_IDX_KEY = exports.OKXCONNECTOR_WS_URL_2 = exports.OKXCONNECTOR_WS_URL_1 = exports.EVENT_EMITTER_MAX_LISTENERS = void 0;\nexports.EVENT_EMITTER_MAX_LISTENERS = 10;\nexports.OKXCONNECTOR_WS_URL_1 = \"wss://wsdexpri.okx.com/ws/v1/wallet-connect-relay\";\nexports.OKXCONNECTOR_WS_URL_2 = \"wss://wsdexpri.coinall.ltd/ws/v1/wallet-connect-relay\";\nexports.OKXCONNECTOR_WS_URL_IDX_KEY = \"wuik\";\nexports.OKXCONNECTOR_WS_URL_LIST = [\n    exports.OKXCONNECTOR_WS_URL_1,\n    exports.OKXCONNECTOR_WS_URL_2,\n];\nexports.OKXCONNECTOR_WS_URL_PENDING_CLOSE_CODE = {\n    TIME_OUT: 3990,\n    CANCELED: 3991,\n    FINISHED: 3992,\n};\nexports.OKXCONNECTOR_MESSAGE_TTL = 300000;\n// --------------- JSON RPC ---------------\nexports.CONNECT_JSONRPC_VER = \"2.0\";\nexports.ConnectorState = {\n    InitState: 0,\n    Connecting: 1,\n    Connected: 2,\n    Disconnected: 3,\n    OnError: 4,\n};\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Engine = void 0;\nconst safejson_1 = require(\"../utils/safejson\");\nconst log_1 = require(\"../utils/log\");\nconst protocol_1 = require(\"../protocol\");\n// import {standardDeeplink, tonConnectSdkVersion} from \"../../ton/tonsdk/constants/version\";\nconst utils_1 = require(\"../utils\");\nconst utils_2 = require(\"../utils\");\nconst sessionUtils_1 = require(\"./sessionUtils\");\nconst url_1 = require(\"../utils/url\");\nclass Engine {\n    constructor(connectionManager) {\n        this.pendingRequests = new Map();\n        this.disconnectListener = [];\n        this.connectionManager = connectionManager;\n        this.connectionManager.addListener(\"sdk_response\", (event, msg) => {\n            var jsonResponse = (0, safejson_1.safeJsonParse)(msg);\n            (0, log_1.logDebug)(`Engine ==>> addListener ==> success ==> ${jsonResponse}`);\n            this.handleResponse(event, jsonResponse);\n        }, function () {\n        });\n    }\n    addDisconnectListener(disconnecter) {\n        this.disconnectListener.push(disconnecter);\n    }\n    setSessionConnectingListener(sessionConnectingListener) {\n        this.sessionConnectingListener = sessionConnectingListener;\n    }\n    disconnect() {\n        (0, log_1.logDebug)('Engine ==>> disconnect');\n        this.pendingRequests.clear();\n    }\n    getRequestId() {\n        const requestId = Date.now().toString();\n        (0, log_1.logDebug)('Engine ==>> getRequestId ==>', requestId);\n        return requestId;\n    }\n    bindRequestForPromise(requestId, resolve) {\n        this.pendingRequests.set(requestId, resolve);\n    }\n    send(request, requestAnswer, option, ttl) {\n        return __awaiter(this, void 0, void 0, function* () {\n            (0, log_1.logDebug)('Engine ==>> send  request==>', JSON.stringify(request));\n            const requestId = this.getRequestId();\n            try {\n                let packageId = yield this.connectionManager.send(JSON.stringify(Object.assign(Object.assign({}, request), { requestId: requestId })), ttl);\n                this.connectionManager.events.once(packageId.toString(), (event) => {\n                    var _a;\n                    (0, log_1.logDebug)(`Engine ==> send => onAck => ${(0, safejson_1.safeJsonStringify)(event)}`);\n                    if (event && event.result) {\n                        (_a = requestAnswer.onAck) === null || _a === void 0 ? void 0 : _a.call(requestAnswer);\n                    }\n                });\n                if (requestAnswer.resolve) {\n                    this.bindRequestForPromise(requestId, requestAnswer.resolve);\n                }\n            }\n            catch (e) {\n                return Promise.reject(e);\n            }\n        });\n    }\n    sendSession(sessionInfo) {\n        return __awaiter(this, void 0, void 0, function* () {\n            (0, log_1.logDebug)('[Connect] sendSession called:', sessionInfo);\n            const requestId = this.getRequestId();\n            let request = {\n                method: 'session_info',\n                params: { sessionInfo: sessionInfo }\n            };\n            yield this.connectionManager.sendRaw(JSON.stringify(Object.assign(Object.assign({}, request), { requestId: requestId })));\n            // try {\n            //     let packageId = await callForSuccess(() =>\n            //         , option)\n            //     this.connectionManager.events.once(packageId.toString(),(event)=>{\n            //         logDebug(`Engine ==> send => onAck => ${safeJsonStringify(event)}`)\n            //         if (event && event.result){\n            //             requestAnswer.onAck?.()\n            //         }\n            //     })\n            //     if (requestAnswer.resolve){\n            //         this.bindRequestForPromise(requestId, requestAnswer.resolve)\n            //     }\n            // }catch (e) {\n            //     return Promise.reject(e)\n            // }\n        });\n    }\n    handleResponse(event, response) {\n        (0, log_1.logDebug)(`Engine ==>> handleResponse_1  ======>response: ${(0, safejson_1.safeJsonStringify)(response)}`, event);\n        if (\"requestId\" in response) {\n            (0, log_1.logDebug)(\"Engine ==>> handleResponse_2  ===> in response\");\n            let requestId = response.requestId;\n            const resolve = this.pendingRequests.get(requestId);\n            if (resolve) {\n                (0, log_1.logDebug)(\"Engine ==>> handleResponse_3  ===> find resolve:\", resolve);\n                resolve(response);\n                // 从pendingRequests中删除这个Promise\n                this.pendingRequests.delete(requestId);\n            }\n            else {\n                (0, log_1.logDebug)(\"Engine ==>> handleResponse_3  ===> not find resolve:\");\n                if (response.method === \"disconnect\") {\n                    this.disconnectListener.forEach(listener => listener());\n                    this.disconnectListener = [];\n                    this.disconnect();\n                }\n                else if (response.method === \"session_connecting\") {\n                    (0, log_1.logDebug)(\"Engine ==>> handleResponse_4  ===> sessionConnectingListener\");\n                    if (this.sessionConnectingListener) {\n                        (0, log_1.logDebug)(\"Engine ==>> handleResponse_4  ===> sessionConnectingListener not null\");\n                        this.sessionConnectingListener();\n                        this.sessionConnectingListener = undefined;\n                    }\n                }\n            }\n        }\n    }\n    restoreconnect(sessionInfo, onConnectResult) {\n        return __awaiter(this, void 0, void 0, function* () {\n            var _a;\n            yield ((_a = this.connectionManager) === null || _a === void 0 ? void 0 : _a.restoreConnect(sessionInfo.topic));\n            onConnectResult(sessionInfo);\n        });\n    }\n    conect(request, sessionConfig, onConnectResult) {\n        return __awaiter(this, void 0, void 0, function* () {\n            var _a, _b;\n            const connectInfo = this.connectionManager.getConnectInfo();\n            const requestId = this.getRequestId();\n            let openUniversalLink = (_a = sessionConfig.openUniversalUrl) !== null && _a !== void 0 ? _a : false;\n            const connectRequest = {\n                protocolVer: Number(protocol_1.tonConnectSdkVersion),\n                topic: connectInfo.channelId,\n                clientId: connectInfo.clientId,\n                requestId: requestId,\n                dAppInfo: sessionConfig.dappInfo,\n                requests: request,\n            };\n            const connectRequestStr = JSON.stringify(connectRequest);\n            const utf8Array = new TextEncoder().encode(connectRequestStr);\n            const base64Encoded = btoa(String.fromCharCode(...utf8Array));\n            const deeplinkUrl = `${protocol_1.standardDeeplink}?param=${base64Encoded}`;\n            (0, log_1.logDebug)('engine ==>> connect ==>>deeplinkUrl:', deeplinkUrl);\n            const isIOS = (0, utils_2.isIos)();\n            (0, log_1.logDebug)(`engine ==>> connect ==>>isIOS: ${isIOS}   openUniversalLink: ${openUniversalLink}`);\n            if (isIOS && openUniversalLink) {\n                (0, log_1.logDebug)('bridge-provider ==>> connect_3');\n                (0, utils_1.openOKXDeeplinkWithFallback)(deeplinkUrl);\n            }\n            yield ((_b = this.connectionManager) === null || _b === void 0 ? void 0 : _b.disconnect(false));\n            this.bindRequestForPromise(requestId, (response) => {\n                let session = this.onConnect(response, sessionConfig, connectInfo.channelId);\n                onConnectResult(session, response);\n            });\n            try {\n                yield this.connectionManager.connect();\n            }\n            catch (e) {\n                (0, log_1.logDebug)('Engine conect error', e);\n                throw e;\n            }\n            if (!isIOS && openUniversalLink) {\n                (0, log_1.logDebug)('bridge-provider ==>> connect_4');\n                (0, utils_1.openOKXDeeplinkWithFallback)(deeplinkUrl);\n            }\n            return {\n                connectInfo: connectInfo,\n                deeplinkUrl: (0, utils_1.getUniversalLink)(deeplinkUrl)\n            };\n        });\n    }\n    onConnect(connectResponse, sessionConfig, topic) {\n        if (connectResponse.method == \"connect\") {\n            let namespaces = (0, sessionUtils_1.buildNameSpacesByConnectResponse)(connectResponse);\n            if (namespaces) {\n                let session = {\n                    topic: topic,\n                    sessionConfig: sessionConfig,\n                    namespaces: namespaces\n                };\n                return session;\n            }\n        }\n        return null;\n    }\n    universalConnect(request, sessionConfig, connectInfoAndUrl) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return new Promise((resolve, reject) => __awaiter(this, void 0, void 0, function* () {\n                var _a, _b, _c, _d, _e;\n                try {\n                    (0, log_1.logDebug)(\"engine universalConnect request :\", JSON.stringify(request));\n                    (0, log_1.logDebug)(\"engine universalConnect sessionConfig :\", JSON.stringify(sessionConfig));\n                    let tonRequest = [];\n                    let universalRequest = [];\n                    request.forEach((item) => {\n                        let name = item.name;\n                        if (name.startsWith(\"requestAccounts\")) {\n                            universalRequest.push(item);\n                        }\n                        else if (name.startsWith(\"ton\")) {\n                            tonRequest.push(item);\n                        }\n                    });\n                    (0, log_1.logDebug)(\"engine universalConnect tonRequest :\", JSON.stringify(tonRequest));\n                    (0, log_1.logDebug)(\"engine universalConnect universalRequest :\", JSON.stringify(universalRequest));\n                    const connectInfo = this.connectionManager.getConnectInfo();\n                    const requestId = this.getRequestId();\n                    let openUniversalLink = (_a = sessionConfig.openUniversalUrl) !== null && _a !== void 0 ? _a : false;\n                    const universalConnectRequest = {\n                        protocolVer: Number(protocol_1.tonConnectSdkVersion),\n                        topic: connectInfo.channelId,\n                        clientId: connectInfo.clientId,\n                        requestId: requestId,\n                        dAppInfo: sessionConfig.dappInfo,\n                        requests: universalRequest,\n                        redirect: (_b = sessionConfig === null || sessionConfig === void 0 ? void 0 : sessionConfig.redirect) !== null && _b !== void 0 ? _b : \"none\"\n                    };\n                    const base64Encoded = (0, url_1.encodeConnectParams)(universalConnectRequest);\n                    universalConnectRequest.redirect = (_c = sessionConfig === null || sessionConfig === void 0 ? void 0 : sessionConfig.redirect) !== null && _c !== void 0 ? _c : \"none\";\n                    const tonConnectRequest = {\n                        protocolVer: Number(protocol_1.tonConnectSdkVersion),\n                        topic: connectInfo.channelId,\n                        clientId: connectInfo.clientId,\n                        requestId: requestId,\n                        dAppInfo: sessionConfig.dappInfo,\n                        requests: tonRequest,\n                        redirect: (_d = sessionConfig === null || sessionConfig === void 0 ? void 0 : sessionConfig.redirect) !== null && _d !== void 0 ? _d : \"none\"\n                    };\n                    let isFromTonSDK = false;\n                    if (tonRequest.length > 0) { //from tonsdk\n                        isFromTonSDK = true;\n                    }\n                    let defaultConnectRequest = isFromTonSDK ? tonConnectRequest : universalConnectRequest;\n                    (0, log_1.logDebug)('engine universalConnect ==>>defaultConnectRequest:', isFromTonSDK, JSON.stringify(defaultConnectRequest));\n                    var deeplinkUrl = \"\";\n                    // open app wallet\n                    if (openUniversalLink) {\n                        const base64Encoded = (0, url_1.encodeConnectParams)(defaultConnectRequest);\n                        deeplinkUrl = sessionConfig.useMini\n                            ? (0, url_1.getTelegramWalletTWAUrl)(base64Encoded, sessionConfig.tmaReturnUrl)\n                            : `${protocol_1.standardDeeplink}?param=${base64Encoded}`;\n                        (0, log_1.logDebug)('engine universalConnect ==>>deeplinkUrl:', deeplinkUrl);\n                    }\n                    const openMethod = () => sessionConfig.useMini ? (0, url_1.openOKXTMAWalletlinkWithFallback)(deeplinkUrl) : (0, utils_1.openOKXDeeplinkWithFallback)(deeplinkUrl);\n                    (0, log_1.logDebug)('engine universalConnect ==>>deeplinkUrl:', deeplinkUrl);\n                    const isIOS = (0, utils_2.isIos)();\n                    if (isIOS && openUniversalLink) {\n                        (0, log_1.logDebug)(`engine universalConnect ==>>isIOS: ${isIOS}   openUniversalLink: ${openUniversalLink}`);\n                        openMethod();\n                    }\n                    yield ((_e = this.connectionManager) === null || _e === void 0 ? void 0 : _e.disconnect(false));\n                    this.bindRequestForPromise(requestId, (response) => {\n                        var _a, _b;\n                        try {\n                            let connectResponse = response;\n                            if (connectResponse.method == \"connect\") {\n                                (0, log_1.logDebug)(\"engin  universalConnect success connectResponse:>>>\", JSON.stringify(connectResponse));\n                                let namespaces = (0, sessionUtils_1.buildNameSpacesByConnectResponse)(connectResponse);\n                                if (namespaces) {\n                                    let session = {\n                                        topic: connectInfo.channelId,\n                                        sessionConfig: sessionConfig,\n                                        namespaces: namespaces,\n                                        wallet: Object.assign({}, (_a = connectResponse.payload) === null || _a === void 0 ? void 0 : _a.wallet),\n                                    };\n                                    let methodsResponse = connectResponse.payload.responses.find(item => item.name === 'requestAccounts');\n                                    if (methodsResponse && methodsResponse.connectRequestMethods) {\n                                        session.connectMethodsReply = methodsResponse.connectRequestMethods;\n                                    }\n                                    (0, log_1.logDebug)(\"engin  universalConnect success session:>>>\", JSON.stringify(session));\n                                    resolve(session);\n                                }\n                                else {\n                                    throw new protocol_1.OKXConnectError(protocol_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR);\n                                }\n                            }\n                            else if (connectResponse.method == \"connect_error\" && ((_b = connectResponse.payload) === null || _b === void 0 ? void 0 : _b.code)) {\n                                throw new protocol_1.OKXConnectError(connectResponse.payload.code);\n                            }\n                        }\n                        catch (e) {\n                            reject(e);\n                        }\n                    });\n                    try {\n                        yield this.connectionManager.connect();\n                    }\n                    catch (e) {\n                        (0, log_1.logDebug)('Engine universalConnect error', e);\n                        throw e;\n                    }\n                    if (!isIOS && openUniversalLink) {\n                        openMethod();\n                    }\n                    (0, log_1.logDebug)('engin  universalConnect ==>> connectInfoAndUrl:', connectInfoAndUrl);\n                    this.sendSession(base64Encoded);\n                    if (connectInfoAndUrl) {\n                        const info = {\n                            connectRequest: universalConnectRequest,\n                            redirect: sessionConfig.redirect,\n                            tmaReturnUrl: sessionConfig.tmaReturnUrl,\n                        };\n                        if (isFromTonSDK) {\n                            info.tonConnectRequest = tonConnectRequest;\n                        }\n                        (0, log_1.logDebug)(\"universalConnect connectInfoAndUrl info :\", JSON.stringify(info));\n                        connectInfoAndUrl(info);\n                    }\n                }\n                catch (error) {\n                    (0, log_1.logDebug)(\"Engine universalConnect catch error\", error);\n                    reject(error);\n                }\n            }));\n        });\n    }\n}\nexports.Engine = Engine;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Storage = exports.Engine = exports.WalletConnectionManager = exports.ConnectionManager = exports.OKXWalletConnector = void 0;\nvar connect_1 = require(\"./connect\");\nObject.defineProperty(exports, \"OKXWalletConnector\", { enumerable: true, get: function () { return connect_1.OKXWalletConnector; } });\nvar connectionManager_1 = require(\"./connectionManager\");\nObject.defineProperty(exports, \"ConnectionManager\", { enumerable: true, get: function () { return connectionManager_1.ConnectionManager; } });\nvar walletConnectionManager_1 = require(\"./walletConnectionManager\");\nObject.defineProperty(exports, \"WalletConnectionManager\", { enumerable: true, get: function () { return walletConnectionManager_1.WalletConnectionManager; } });\nvar engine_1 = require(\"./engine\");\nObject.defineProperty(exports, \"Engine\", { enumerable: true, get: function () { return engine_1.Engine; } });\nvar storage_1 = require(\"./storage\");\nObject.defineProperty(exports, \"Storage\", { enumerable: true, get: function () { return storage_1.Storage; } });\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MULTICODEC_ED25519_LENGTH = exports.MULTICODEC_ED25519_HEADER = exports.MULTICODEC_ED25519_BASE = exports.MULTICODEC_ED25519_ENCODING = exports.DID_METHOD = exports.DID_PREFIX = exports.DID_DELIMITER = exports.KEY_PAIR_SEED_LENGTH = exports.DATA_ENCODING = exports.JSON_ENCODING = exports.JWT_ENCODING = exports.JWT_DELIMITER = exports.JWT_IRIDIUM_TYP = exports.JWT_IRIDIUM_ALG = exports.JWTHeaderType = void 0;\nexports.generateKeyPair = generateKeyPair;\nexports.decodeJSON = decodeJSON;\nexports.encodeJSON = encodeJSON;\nexports.encodeIss = encodeIss;\nexports.decodeIss = decodeIss;\nexports.encodeSig = encodeSig;\nexports.decodeSig = decodeSig;\nexports.encodeData = encodeData;\nexports.decodeData = decodeData;\nexports.encodeJWT = encodeJWT;\nexports.decodeJWT = decodeJWT;\nexports.signJWT = signJWT;\nexports.verifyJWT = verifyJWT;\nconst ed25519 = __importStar(require(\"@stablelib/ed25519\"));\nconst safejson_1 = require(\"../utils/safejson\");\nconst utils_1 = require(\"../utils/utils\");\nconst tweetnacl_1 = __importDefault(require(\"tweetnacl\"));\nconst log = __importStar(require(\"../utils/log\"));\nconst stringUtils_1 = require(\"../utils/stringUtils\");\nexports.JWTHeaderType = \"dapp\";\nexports.JWT_IRIDIUM_ALG = \"EdDSA\";\nexports.JWT_IRIDIUM_TYP = \"JWT\";\nexports.JWT_DELIMITER = \".\";\nexports.JWT_ENCODING = \"base64url\";\nexports.JSON_ENCODING = \"utf8\";\nexports.DATA_ENCODING = \"utf8\";\nexports.KEY_PAIR_SEED_LENGTH = 32;\nexports.DID_DELIMITER = \":\";\nexports.DID_PREFIX = \"did\";\nexports.DID_METHOD = \"key\";\nexports.MULTICODEC_ED25519_ENCODING = \"base58btc\";\nexports.MULTICODEC_ED25519_BASE = \"z\";\nexports.MULTICODEC_ED25519_HEADER = \"K36\";\nexports.MULTICODEC_ED25519_LENGTH = 32;\nfunction generateKeyPair() {\n    // let local_seed = randomBytes(KEY_PAIR_SEED_LENGTH)\n    // return ed25519.generateKeyPairFromSeed(local_seed);\n    return tweetnacl_1.default.sign.keyPair();\n}\nfunction decodeJSON(str) {\n    return (0, safejson_1.safeJsonParse)((0, stringUtils_1.okxtoString)((0, stringUtils_1.okxfromString)(str, exports.JWT_ENCODING), exports.JSON_ENCODING));\n}\nfunction encodeJSON(val) {\n    return (0, stringUtils_1.okxtoString)((0, stringUtils_1.okxfromString)((0, safejson_1.safeJsonStringify)(val), exports.JSON_ENCODING), exports.JWT_ENCODING);\n}\nfunction encodeIss(publicKey) {\n    log.logDebug(`publicKey: ${(0, utils_1.toHexString)(publicKey)}`);\n    var publicKeyStr = (0, stringUtils_1.okxtoString)(publicKey, exports.MULTICODEC_ED25519_ENCODING);\n    return [exports.DID_PREFIX, exports.DID_METHOD, publicKeyStr].join(exports.DID_DELIMITER);\n}\nfunction decodeIss(issuer) {\n    const [prefix, method, multicodec] = issuer.split(exports.DID_DELIMITER);\n    if (prefix !== exports.DID_PREFIX || method !== exports.DID_METHOD) {\n        throw new Error(`Issuer must be a DID with method \"key\"`);\n    }\n    if (multicodec === undefined) {\n        throw new Error('multicodec is undefined');\n    }\n    const publicKey = (0, stringUtils_1.okxfromString)(multicodec, exports.MULTICODEC_ED25519_ENCODING);\n    if (publicKey === undefined || publicKey.length !== exports.MULTICODEC_ED25519_LENGTH) {\n        throw new Error(`Issuer must be a public key with length 32 bytes`);\n    }\n    return publicKey;\n}\n// ---------- Signature ----------------------------------------------- //\nfunction encodeSig(bytes) {\n    return (0, stringUtils_1.okxtoString)(bytes, exports.JWT_ENCODING);\n}\nfunction decodeSig(encoded) {\n    return (0, stringUtils_1.okxfromString)(encoded, exports.JWT_ENCODING);\n}\n// ---------- Data ----------------------------------------------- //\nfunction encodeData(params) {\n    return (0, stringUtils_1.okxfromString)([encodeJSON(params.header), encodeJSON(params.payload)].join(exports.JWT_DELIMITER), exports.DATA_ENCODING);\n}\nfunction decodeData(data) {\n    var _a, _b;\n    const params = (0, stringUtils_1.okxtoString)(data, exports.DATA_ENCODING).split(exports.JWT_DELIMITER);\n    const header = decodeJSON((_a = params[0]) !== null && _a !== void 0 ? _a : '{}');\n    const payload = decodeJSON((_b = params[1]) !== null && _b !== void 0 ? _b : '{}');\n    return { header, payload };\n}\n// ---------- JWT ----------------------------------------------- //\nfunction encodeJWT(params) {\n    return [encodeJSON(params.header), encodeJSON(params.payload), encodeSig(params.signature)].join(exports.JWT_DELIMITER);\n}\nfunction decodeJWT(jwt) {\n    var _a, _b, _c;\n    const params = jwt.split(exports.JWT_DELIMITER);\n    const header = decodeJSON((_a = params[0]) !== null && _a !== void 0 ? _a : '{}');\n    const payload = decodeJSON((_b = params[1]) !== null && _b !== void 0 ? _b : '{}');\n    const signature = decodeSig((_c = params[2]) !== null && _c !== void 0 ? _c : '{}');\n    const data = (0, stringUtils_1.okxfromString)(params.slice(0, 2).join(exports.JWT_DELIMITER), exports.DATA_ENCODING);\n    return { header, payload, signature, data };\n}\nfunction signJWT(sub_1, aud_1, ttl_1, keyPair_1) {\n    return __awaiter(this, arguments, void 0, function* (sub, aud, ttl, keyPair, iat = Math.floor(Date.now())) {\n        const header = { alg: exports.JWT_IRIDIUM_ALG, typ: exports.JWT_IRIDIUM_TYP };\n        const iss = encodeIss(keyPair.publicKey);\n        const exp = iat + ttl;\n        const act = \"authenticate user\";\n        const payload = { iss, sub, aud, act, iat, exp };\n        const data = encodeData({ header, payload });\n        // const signature = ed25519.sign(keyPair.secretKey, data);\n        log.logDebug(`get sec kp: ${keyPair.secretKey} {${keyPair.secretKey.length}}`);\n        const signature = tweetnacl_1.default.sign.detached(data, keyPair.secretKey);\n        return encodeJWT({ header, payload, signature });\n    });\n}\nfunction verifyJWT(jwt) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const { header, payload, data, signature } = decodeJWT(jwt);\n        if (header.alg !== exports.JWT_IRIDIUM_ALG || header.typ !== exports.JWT_IRIDIUM_TYP) {\n            throw new Error(\"JWT must use EdDSA algorithm\");\n        }\n        const publicKey = decodeIss(payload.iss);\n        return ed25519.verify(publicKey, data, signature);\n    });\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.OKXCONNECTOR_JWT_TTL = exports.OKXCONNECTOR_JWT_WALLET_SIDE = exports.OKXCONNECTOR_JWT_SIDE = void 0;\nexports.OKXCONNECTOR_JWT_SIDE = \"wallet\";\nexports.OKXCONNECTOR_JWT_WALLET_SIDE = \"dapp\";\nexports.OKXCONNECTOR_JWT_TTL = 86400000;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.buildNameSpacesByConnectResponse = buildNameSpacesByConnectResponse;\nexports.buildRequestAccountNameSpacesByConnectResponse = buildRequestAccountNameSpacesByConnectResponse;\nconst log_1 = require(\"../utils/log\");\nfunction buildNameSpacesByConnectResponse(connectResponse) {\n    let requestAccountNameSpaces = buildRequestAccountNameSpacesByConnectResponse(connectResponse);\n    return requestAccountNameSpaces;\n}\nfunction buildRequestAccountNameSpacesByConnectResponse(connectResponse) {\n    let result = {};\n    (0, log_1.logDebug)('buildRequestAccountNameSpacesByConnectResponse start connectResponse>>', JSON.stringify(connectResponse));\n    let universalResponse = connectResponse.payload.responses.find(item => item.name === 'requestAccounts');\n    const tonAddress = connectResponse.payload.responses.find(item => item.name === 'ton_addr');\n    const tonProof = connectResponse.payload.responses.find(item => item.name === 'ton_proof');\n    if (tonAddress && !universalResponse) { //adapt tonsdk\n        (0, log_1.logDebug)('buildRequestAccountNameSpacesByConnectResponse adapt ton data >>');\n        let address = tonAddress.address;\n        address = 'ton:' + tonAddress.network + \":\" + address;\n        let data = {\n            ton_addr: tonAddress\n        };\n        if (tonProof) {\n            data.ton_proof = tonProof;\n        }\n        universalResponse = {\n            name: \"requestAccounts\",\n            accounts: [{\n                    namespace: 'ton',\n                    addresses: [address],\n                    methods: ['ton_sendTransaction'],\n                    extra: {},\n                    data: data,\n                }]\n        };\n    }\n    (0, log_1.logDebug)('buildRequestAccountNameSpacesByConnectResponse end universalResponse>>>', JSON.stringify(universalResponse));\n    universalResponse.accounts.forEach(item => {\n        var chains = [];\n        var accounts = [];\n        item.addresses.forEach(addressItem => {\n            var addressArr = addressItem.split(\":\");\n            (0, log_1.logDebug)('buildRequestAccountNameSpacesByConnectResponse addressArr>>', addressArr.length);\n            if (addressArr.length >= 3) {\n                let chain = addressArr.slice(0, 2).join(\":\");\n                chains.push(chain);\n                accounts.push(addressItem);\n                (0, log_1.logDebug)('buildRequestAccountNameSpacesByConnectResponse chain:>>', chain, \"addressItem:\", addressItem);\n            }\n        });\n        if (item.data && item.data.ton_addr) {\n            item.data.ton_addr.name = 'ton_addr';\n        }\n        if (item.data && item.data.ton_proof) {\n            item.data.ton_proof.name = 'ton_proof';\n        }\n        result[item.namespace] = {\n            chains: chains,\n            accounts: accounts,\n            methods: item.methods,\n            extra: item.extra,\n            payload: item.data\n        };\n        (0, log_1.logDebug)('buildRequestAccountNameSpacesByConnectResponse result>>', JSON.stringify(result));\n    });\n    return result;\n}\n/*export function buildTonNameSpaceByConnectResponse(connectResponse: ConnectResponseSuccess): Namespaces | undefined {\n    const tonAddrItem: TonAddressItemReply = connectResponse.payload.responses.find(\n        item => item.name === 'ton_addr'\n    ) as TonAddressItemReply;\n\n    const tonProfItem: TonProofItemReply = connectResponse.payload.responses.find(\n        item => item.name === 'ton_proof'\n    ) as TonProofItemReply;\n\n    if (!tonAddrItem) {\n        return undefined\n    }\n\n    return {\n        NameSpaceKeyTON: {\n            chains: [tonAddrItem.network],\n            accounts: [],\n            methods: connectResponse.payload.wallet.features?.ton,\n            payload: {\n                tonAccount: {\n                    address: tonAddrItem.address,\n                    chain: tonAddrItem.network,\n                    walletStateInit: tonAddrItem.walletStateInit,\n                    publicKey: tonAddrItem.publicKey\n                },\n                tonProof: tonProfItem\n            }\n        }\n    }\n}*/\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Storage = void 0;\nconst storageconstants_1 = require(\"./storageconstants\");\nconst tweetnacl_1 = __importDefault(require(\"tweetnacl\"));\nconst utils_1 = require(\"../utils/utils\");\nconst utils_2 = require(\"../utils\");\nconst log = __importStar(require(\"../utils/log\"));\nconst utils_3 = require(\"../utils\");\nconst crypto_js_1 = require(\"crypto-js\");\nclass Storage {\n    constructor(subKey) {\n        // 1. load data from local storage\n        const localStorage = (0, utils_1.resolveLocalStorage)();\n        this.storeKey = '';\n        this.cipherIV = '';\n        this.subKey = subKey;\n        log.logDebug('--------get current local storage --------');\n        log.logDebug(localStorage);\n        const cacheStr = localStorage.getItem(Storage.cacheKey + subKey);\n        if (typeof cacheStr === \"undefined\" || cacheStr === null) {\n            log.logDebug(\"with no cache\");\n            this.cache = {};\n            return;\n        }\n        log.logDebug(cacheStr);\n        if ((cacheStr === null || cacheStr === void 0 ? void 0 : cacheStr.length) > 0) {\n            var cacheObj = (0, utils_2.safeJsonParse)(cacheStr);\n            this.cache = cacheObj;\n        }\n        log.logDebug(`get cache obj: ${this.cache}`);\n        if (typeof this.cache === 'undefined' || this.cache == null) {\n            this.cache = {};\n        }\n    }\n    saveContent(content, key, id = '-') {\n        let item = {\n            id: id,\n            timestamp: Date.now().toString(),\n            content: content\n        };\n        this.saveItem(item, key);\n    }\n    saveItem(item, key) {\n        let localKey = Storage.cacheKey + this.subKey;\n        const localStorage = (0, utils_1.resolveLocalStorage)();\n        log.logDebug(this.cache);\n        log.logDebug(`get cache obj: ${this.cache}, ${key}, ${item}`);\n        this.cache[key] = item;\n        let totalCacheStr = (0, utils_2.safeJsonStringify)(this.cache);\n        log.logDebug(`STORAGE: ${key} @ ${this.cache}`);\n        localStorage.setItem(localKey, totalCacheStr);\n    }\n    getItem(key) {\n        log.logDebug(`STORAGE >> getItem: ${key} @ ${this.cache}`);\n        return this.cache[key];\n    }\n    getCachedPBKDF2InfoKey() {\n        var _a, _b, _c, _d;\n        const pwLen = 32;\n        const saltLen = 24;\n        if (this.storeKey.length > 0 && ((_a = this.cipherIV) === null || _a === void 0 ? void 0 : _a.length) > 0) {\n            return {\n                pw: this.storeKey,\n                iv: this.cipherIV\n            };\n        }\n        let salt = (_b = this.getItem(storageconstants_1.OKXCONNECTOR_STORAGER_CRYPTO_SALT)) === null || _b === void 0 ? void 0 : _b.content;\n        if (!salt) {\n            salt = (0, utils_1.toHexString)(tweetnacl_1.default.randomBytes(saltLen));\n            this.saveContent(salt, storageconstants_1.OKXCONNECTOR_STORAGER_CRYPTO_SALT);\n        }\n        let pw = (_c = this.getItem(storageconstants_1.OKXCONNECTOR_STORAGE_CRYPTO_PASSWORD)) === null || _c === void 0 ? void 0 : _c.content;\n        if (!pw) {\n            pw = (0, utils_1.toHexString)(tweetnacl_1.default.randomBytes(pwLen));\n            this.saveContent(pw, storageconstants_1.OKXCONNECTOR_STORAGE_CRYPTO_PASSWORD);\n        }\n        let cipherIV = (_d = this.getItem(storageconstants_1.OKXCONNECTOR_STORAGE_CRYPTO_CIPHERIV)) === null || _d === void 0 ? void 0 : _d.content;\n        if (!cipherIV) {\n            // let ivBuffer = Buffer.from(nacl.randomBytes(16))\n            let ivBuffer = tweetnacl_1.default.randomBytes(16);\n            cipherIV = (0, utils_1.toHexString)(ivBuffer);\n            this.saveContent(cipherIV, storageconstants_1.OKXCONNECTOR_STORAGE_CRYPTO_CIPHERIV);\n        }\n        this.cipherIV = cipherIV;\n        this.storeKey = (0, crypto_js_1.PBKDF2)(pw, salt, { iterations: 10 }).toString();\n        return {\n            pw: this.storeKey,\n            iv: this.cipherIV\n        };\n    }\n    encryptStoreMsg(msg, key) {\n        (0, utils_3.logDebug)(`encryptStoreMsg  encryptStoreMsg start ${Date.now()}`);\n        let storeInfo = this.getCachedPBKDF2InfoKey();\n        (0, utils_3.logDebug)(`encryptStoreMsg  encryptStoreMsg mid ${Date.now()}`);\n        var result = crypto_js_1.AES.encrypt(msg, storeInfo.pw).toString();\n        this.saveContent(result, key);\n        (0, utils_3.logDebug)(`encryptStoreMsg  encryptStoreMsg end ${Date.now()}`);\n    }\n    getAndDecrypt(key) {\n        (0, utils_3.logDebug)(`encryptStoreMsg  getAndDecrypt start ${Date.now()}`);\n        let item = this.getItem(key);\n        if (item && item.content) {\n            let storeInfo = this.getCachedPBKDF2InfoKey();\n            (0, utils_3.logDebug)(`encryptStoreMsg  getAndDecrypt mid ${Date.now()}`);\n            let result = crypto_js_1.AES.decrypt(item.content, storeInfo.pw).toString(crypto_js_1.enc.Utf8);\n            (0, utils_3.logDebug)(`encryptStoreMsg  getAndDecrypt end ${Date.now()}`);\n            return result;\n        }\n        return null;\n    }\n    clearCache(key = undefined) {\n        if (key === undefined) {\n            // clean all\n            this.cache = {};\n            let localKey = Storage.cacheKey + this.subKey;\n            localStorage.setItem(localKey, '');\n        }\n        else {\n            let localKey = Storage.cacheKey + this.subKey;\n            const localStorage = (0, utils_1.resolveLocalStorage)();\n            log.logDebug(this.cache);\n            this.cache[key] = null;\n            let totalCacheStr = (0, utils_2.safeJsonStringify)(this.cache);\n            log.logDebug(`STORAGE: clean key ${key} @ ${this.cache}`);\n            localStorage.setItem(localKey, totalCacheStr);\n        }\n    }\n}\nexports.Storage = Storage;\nStorage.cacheKey = 'OKXStorageKey';\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.OKXCONNECTOR_STORAGE_CIPHER_METHOD = exports.OKXCONNECTOR_STORAGE_CRYPTO_CIPHERIV = exports.OKXCONNECTOR_STORAGER_CRYPTO_SALT = exports.OKXCONNECTOR_STORAGE_CRYPTO_PASSWORD = exports.OKXCONNECTOR_TON_KEY = exports.OKXCONNECTOR_CRYPTO_SENDER_PK_CACHE = exports.OKXCONNECTOR_TOKEN_CACHE = exports.OKXCONNECTOR_JWT_KEY = exports.OKXCONNECTOR_SESSION_PREFIX_KEY = exports.OKXCONNECTOR_CRYPTO_KEY = exports.OKXCONNECTOR_CACHE_KEY_DAPP = exports.OKXCONNECTOR_CACHE_KEY = void 0;\nexports.OKXCONNECTOR_CACHE_KEY = \"ck\";\nexports.OKXCONNECTOR_CACHE_KEY_DAPP = \"ck_dapp\";\nexports.OKXCONNECTOR_CRYPTO_KEY = \"cck_k\";\nexports.OKXCONNECTOR_SESSION_PREFIX_KEY = \"cspk_\";\nexports.OKXCONNECTOR_JWT_KEY = \"cjk_k\";\nexports.OKXCONNECTOR_TOKEN_CACHE = \"ct\";\nexports.OKXCONNECTOR_CRYPTO_SENDER_PK_CACHE = \"csp\";\nexports.OKXCONNECTOR_TON_KEY = \"OKXStorage_ctc\";\nexports.OKXCONNECTOR_STORAGE_CRYPTO_PASSWORD = \"scp\";\nexports.OKXCONNECTOR_STORAGER_CRYPTO_SALT = \"scs\";\nexports.OKXCONNECTOR_STORAGE_CRYPTO_CIPHERIV = \"scpc\";\nexports.OKXCONNECTOR_STORAGE_CIPHER_METHOD = \"aes-256-cbc\";\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WalletConnectionManagerEvent = exports.WalletConnectionManagerTopicInfoCacheKey = void 0;\nexports.WalletConnectionManagerTopicInfoCacheKey = \"wcmtic\";\nexports.WalletConnectionManagerEvent = {\n    RECEIVE_REQUEST: \"payload\"\n};\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WalletConnectionManager = void 0;\nconst connect_1 = require(\"./connect\");\nconst commands_1 = require(\"./commands\");\nconst storageconstants_1 = require(\"./storageconstants\");\nconst jwtconstants_1 = require(\"./jwtconstants\");\nconst constants_1 = require(\"./constants\");\nconst walletConnectionConstants_1 = require(\"./walletConnectionConstants\");\nconst eventemitter3_1 = require(\"eventemitter3\");\nconst storage_1 = require(\"./storage\");\nconst utils_1 = require(\"../utils/utils\");\nconst crypto_1 = require(\"../crypto/crypto\");\nconst jwt_1 = require(\"./jwt\");\nconst safejson_1 = require(\"../utils/safejson\");\nconst log = __importStar(require(\"../utils/log\"));\nconst log_1 = require(\"../utils/log\");\nconst utils_2 = require(\"../utils\");\nclass WalletConnectionManager {\n    constructor() {\n        this.events = new eventemitter3_1.EventEmitter();\n        this.communicateEvents = new eventemitter3_1.EventEmitter();\n        log.logDebug('connect manager construct');\n        // local storage\n        this.connectStorage = new storage_1.Storage(storageconstants_1.OKXCONNECTOR_CACHE_KEY);\n        // this.crypto = new SessionCrypto()\n        this.jwtKeyPair = this.getCachedJWTKeyPair();\n        this.saveJWTKeyPair(this.jwtKeyPair);\n        // wss connection\n        this.connector = new connect_1.OKXWalletConnector(constants_1.OKXCONNECTOR_WS_URL_1);\n        this.packageId = Date.now();\n        // connection state\n        this.sessionCryptoInfoMap = new Map();\n        // log.logDebug(`this.connectedWalletPK  constructor   ${this.connectedWalletPK}`)\n        this.inLogin = false;\n        this.isLogined = false;\n    }\n    refreshPackageId(offset = 0) {\n        this.packageId = Date.now() + offset;\n    }\n    saveCryptoKeyPair(topicId, keyPair) {\n        let cacheInfo = (0, safejson_1.safeJsonStringify)(keyPair);\n        // encrypt kp\n        this.connectStorage.encryptStoreMsg(cacheInfo, storageconstants_1.OKXCONNECTOR_CRYPTO_KEY + topicId);\n    }\n    getCachedCryptoKeyPair(topicId) {\n        // decrypt kp\n        const kp = this.connectStorage.getAndDecrypt(storageconstants_1.OKXCONNECTOR_CRYPTO_KEY + topicId);\n        const content = kp;\n        if (typeof content == 'string') {\n            log.logDebug('get cached crypto key:');\n            log.logDebug(content);\n            let keyPairInfo = (0, safejson_1.safeJsonParse)(content);\n            return keyPairInfo;\n        }\n        else {\n            this.connectStorage.clearCache();\n        }\n        return null;\n    }\n    saveJWTKeyPair(keyPair) {\n        var strkeyPair = {\n            publicKey: (0, utils_1.toHexString)(keyPair.publicKey),\n            secretKey: (0, utils_1.toHexString)(keyPair.secretKey)\n        };\n        log.logDebug('save jwt kp');\n        let cacheInfo = (0, safejson_1.safeJsonStringify)(strkeyPair);\n        log.logDebug(cacheInfo);\n        // encrypt jwt kp\n        this.connectStorage.encryptStoreMsg(cacheInfo, storageconstants_1.OKXCONNECTOR_JWT_KEY);\n        log.logDebug('after save jwt kp');\n    }\n    getCachedJWTKeyPair() {\n        const kp = this.connectStorage.getAndDecrypt(storageconstants_1.OKXCONNECTOR_JWT_KEY);\n        const content = kp;\n        if (typeof content == 'string') {\n            // TODO: decrypt jwt kp\n            log.logDebug('get cached jwt kp:');\n            log.logDebug(content);\n            let strKeyPairInfo = (0, safejson_1.safeJsonParse)(content);\n            log.logDebug('save jwt kp');\n            log.logDebug(strKeyPairInfo);\n            var keyPair = {\n                publicKey: (0, utils_1.hexToByteArray)(strKeyPairInfo.publicKey),\n                secretKey: (0, utils_1.hexToByteArray)(strKeyPairInfo.secretKey)\n            };\n            return keyPair;\n        }\n        else {\n            return (0, jwt_1.generateKeyPair)();\n        }\n    }\n    isTopicPublicKeyExist(topicId) {\n        log.logDebug(`isTopicPublicKeyExist  ===> ${topicId}`);\n        return this.sessionCryptoInfoMap.get(topicId);\n    }\n    makeJWT(timestampStr) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return yield (0, jwt_1.signJWT)(timestampStr, jwtconstants_1.OKXCONNECTOR_JWT_WALLET_SIDE, jwtconstants_1.OKXCONNECTOR_JWT_TTL, // 24h\n            this.jwtKeyPair);\n        });\n    }\n    parseInternalMsg(internalMsg) {\n        try {\n            let internalObj = (0, safejson_1.safeJsonParse)(internalMsg);\n            let origin = internalObj['ivur-igbfft-ptjip'];\n            if (origin && origin.length > 0) {\n                let originContent = (0, utils_2.base64decode)(origin, true);\n                return originContent.toString();\n            }\n        }\n        catch (error) {\n            log.logError('parse internal msg', error);\n        }\n    }\n    updateClientId(topic, clientId) {\n        let sessionInfo = this.sessionCryptoInfoMap.get(topic);\n        (0, log_1.logDebug)('updateClientId', sessionInfo, topic, clientId);\n        if (sessionInfo && clientId && clientId.length > 0) {\n            if (sessionInfo.cid) {\n                // check \n                let lastCheck = clientId.slice(-6);\n                if (sessionInfo.cid == lastCheck) {\n                    sessionInfo.dappPublicKey = clientId;\n                }\n                else {\n                    log.logError('cid check failed', sessionInfo, topic, clientId);\n                }\n            }\n            else {\n                sessionInfo.dappPublicKey = clientId;\n            }\n            // \n            this.syncCacheSessionInfo();\n        }\n        return false;\n    }\n    parsePackage(topic_1, input_1) {\n        return __awaiter(this, arguments, void 0, function* (topic, input, ignoreACK = false) {\n            var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l;\n            this.events.emit(input.id, input);\n            // emit event\n            let sessionInfo = this.sessionCryptoInfoMap.get(topic);\n            log.logDebug('get sessionInfo for decrypt topic:', topic);\n            log.logDebug('get sessionInfo for decrypt:', input.id, topic, sessionInfo, this.sessionCryptoInfoMap);\n            if (sessionInfo && input.params.data) {\n                if ((_a = input.params.data) === null || _a === void 0 ? void 0 : _a.message) {\n                    // try parse internal message\n                    if ((_b = input.params.data) === null || _b === void 0 ? void 0 : _b.isInternalData) {\n                        let inner_message = (_c = input.params.data) === null || _c === void 0 ? void 0 : _c.message;\n                        let inner_topic = (_d = input.params.data) === null || _d === void 0 ? void 0 : _d.topic;\n                        let originContent = this.parseInternalMsg(inner_message);\n                        (0, log_1.logDebug)('parse internal origin: ', originContent);\n                        if (originContent && originContent.length > 0) {\n                            this.communicateEvents.emit(\"origin\", originContent, inner_topic);\n                        }\n                    }\n                    else {\n                        // try parse message base64\n                        try {\n                            let message = (_e = input.params.data) === null || _e === void 0 ? void 0 : _e.message;\n                            if (message.trimStart().startsWith('{')) {\n                                let messageObj = (0, safejson_1.safeJsonParse)(message);\n                                if (messageObj.method) {\n                                    if (messageObj.method == 'session_info') {\n                                        let sessionInfoString = messageObj.params.sessionInfo;\n                                        let base64Content = (0, utils_2.base64decode)(sessionInfoString, false);\n                                        (0, log_1.logDebug)(\"wallet connection manager requset base64Content:\", base64Content);\n                                        (0, log_1.logDebug)(\"base64Content:\" + base64Content);\n                                        let inner_connection = base64Content.toObject();\n                                        this.updateClientId(topic, inner_connection.clientId);\n                                    }\n                                    (0, log_1.logDebug)('<<< parse raw msg:', topic, messageObj);\n                                    this.communicateEvents.emit(topic, message);\n                                }\n                            }\n                            else {\n                                let message = sessionInfo.crypto.decryptWallet((_f = input.params.data) === null || _f === void 0 ? void 0 : _f.message, sessionInfo.dappPublicKey);\n                                (0, log_1.logDebug)('<<< receive msg:', topic, message);\n                                this.communicateEvents.emit(topic, message);\n                            }\n                        }\n                        catch (error) {\n                            let message = sessionInfo.crypto.decryptWallet((_g = input.params.data) === null || _g === void 0 ? void 0 : _g.message, sessionInfo.dappPublicKey);\n                            (0, log_1.logDebug)('<<< receive msg:', topic, message);\n                            this.communicateEvents.emit(topic, message);\n                        }\n                    }\n                }\n                else {\n                }\n            }\n            // send back ACK\n            if (!ignoreACK) {\n                yield this.sendACK(input.id, true);\n                if (topic) {\n                    let inputObj = input;\n                    if ((_j = (_h = inputObj.params) === null || _h === void 0 ? void 0 : _h.data) === null || _j === void 0 ? void 0 : _j.messageId) {\n                        this.refreshPackageId();\n                        yield this.sendReceive(this.packageId.toString(), (_l = (_k = inputObj.params) === null || _k === void 0 ? void 0 : _k.data) === null || _l === void 0 ? void 0 : _l.messageId, topic);\n                    }\n                }\n            }\n        });\n    }\n    recovrySessionInfoFromCache() {\n        // get topic ids and keys from session\n        // WalletConnectionCryptoCacheMap\n        // {[topicId]: {cryptoKeypair: {publicKey:string, secretKey:string}, dappPublicKey:clientId}}\n        let jsonStr = this.connectStorage.getAndDecrypt(walletConnectionConstants_1.WalletConnectionManagerTopicInfoCacheKey);\n        log.logDebug('get cached sessionInfos:', jsonStr);\n        if (jsonStr) {\n            let cacheMap = (0, safejson_1.safeJsonParse)(jsonStr);\n            for (let topicId in cacheMap) {\n                let topicItem = cacheMap[topicId];\n                log.logDebug('make topicItem:', topicItem);\n                let cryptoItem = {\n                    topic: topicId,\n                    crypto: new crypto_1.SessionCrypto({\n                        publicKey: topicItem.cryptoKeyPair.publicKey,\n                        secretKey: topicItem.cryptoKeyPair.secretKey\n                    }),\n                    dappPublicKey: topicItem.dappPublicKey,\n                    cid: topicItem.cid\n                };\n                this.sessionCryptoInfoMap.set(topicId, cryptoItem);\n            }\n        }\n        log.logDebug('get cached sessionInfos map:', this.sessionCryptoInfoMap);\n    }\n    syncCacheSessionInfo() {\n        let cacheMap = {};\n        for (let [topicId, cryptoItem] of this.sessionCryptoInfoMap) {\n            log.logDebug('for each Keys', topicId);\n            if (cryptoItem) {\n                cacheMap[topicId] = {\n                    cryptoKeyPair: cryptoItem.crypto.stringifyKeypair(),\n                    dappPublicKey: cryptoItem.dappPublicKey,\n                    cid: cryptoItem.cid\n                };\n            }\n        }\n        let jsonData = (0, safejson_1.safeJsonStringify)(cacheMap);\n        log.logDebug('sync cache sessionInfos:', jsonData);\n        this.connectStorage.encryptStoreMsg(jsonData, walletConnectionConstants_1.WalletConnectionManagerTopicInfoCacheKey);\n    }\n    cacheSessionInfo(topic, sessionInfo, sync = true) {\n        let dappPublicKey = sessionInfo.dappPublicKey;\n        // 1. search dapp public related topic ids\n        let duplicatedTopics = [];\n        for (let [topicId, cryptoItem] of this.sessionCryptoInfoMap) {\n            log.logDebug('for each Keys', topicId);\n            if (cryptoItem.dappPublicKey == dappPublicKey) {\n                log.logDebug('duplicated dapp public key:', topicId, dappPublicKey);\n                duplicatedTopics.push(topicId);\n            }\n        }\n        for (let [topicId, cryptoItem] of this.sessionCryptoInfoMap) {\n            if (duplicatedTopics.includes(topicId)) {\n                this.sessionCryptoInfoMap.delete(topicId);\n            }\n        }\n        // discard useless topics\n        log.logDebug('cleaned connect session cache:', this.sessionCryptoInfoMap);\n        // 2. remove previous connected topic ids\n        // 3. write in current topic\n        this.sessionCryptoInfoMap.set(topic, sessionInfo);\n        // TODO: search domain info and then delete \n        log.logDebug('cache sessionInfo:', topic, sessionInfo, this.sessionCryptoInfoMap);\n        if (sync) {\n            this.syncCacheSessionInfo();\n        }\n        return duplicatedTopics;\n    }\n    // add and subscribe topic\n    appendTopic(topic, sessionPublicKey, cid) {\n        return __awaiter(this, void 0, void 0, function* () {\n            (0, log_1.logDebug)('4.1. get append Topic:', topic);\n            // 1. check if connected\n            return new Promise((resolve, reject) => __awaiter(this, void 0, void 0, function* () {\n                if (!this.isLogined) {\n                    var error = new Error();\n                    error.message = \"connection is not logined\";\n                    error.name = \"append error\";\n                    // throw error\n                    reject(error);\n                    return;\n                }\n                // 2. subscribe topic and session public key\n                let cryptoItem = {\n                    topic: topic,\n                    crypto: new crypto_1.SessionCrypto(),\n                    dappPublicKey: sessionPublicKey ? sessionPublicKey : \"\",\n                    cid: cid\n                };\n                let duplicatedTopics = this.cacheSessionInfo(topic, cryptoItem, false);\n                // make sure cache session info before subscribe\n                yield this.subscribeTopics(Array.from([topic]));\n                this.refreshPackageId();\n                log.logDebug(`5. subscribe callback then fetch append message: ${this.packageId}, ${topic}`);\n                const timeF = new Date().getTime();\n                (0, log_1.logDebug)(\"Append --subscribe callback->\", timeF - this.timeLog);\n                resolve(duplicatedTopics);\n            }));\n        });\n    }\n    confirmAppendingTopics() {\n        this.syncCacheSessionInfo();\n    }\n    connect() {\n        return __awaiter(this, void 0, void 0, function* () {\n            this.timeLog = new Date().getTime();\n            (0, log_1.logDebug)(\"[Wallet] ConnectTime---enter->\", this.timeLog);\n            // 0. get cached topics and infos\n            let timestampStr = Date.now().toString();\n            var jwtToken = yield this.makeJWT(timestampStr);\n            log.logDebug(`generate jwt token: ${jwtToken}`);\n            this.connectStorage.saveContent(jwtToken, 'jwt');\n            this.recovrySessionInfoFromCache();\n            // 1.\n            return new Promise((resolve, reject) => {\n                // 1. when websocket opened\n                this.inLogin = true;\n                this.connector.onOpen(() => __awaiter(this, void 0, void 0, function* () {\n                    log.logDebug(`1. connector on open`);\n                    const timeOne = new Date().getTime();\n                    (0, log_1.logDebug)(\"ConnectTime---open->\", timeOne - this.timeLog);\n                    //2. send jwt to login\n                    this.events.once(this.packageId.toString(), (rsp) => __awaiter(this, void 0, void 0, function* () {\n                        // ack\n                        if (rsp && rsp.error) {\n                            log.logError('failed when login');\n                            yield this.connector.disconnect();\n                            var error = new Error();\n                            error.message = rsp.error.message;\n                            error.name = rsp.error.code.toString();\n                            // throw error\n                            reject(error);\n                        }\n                        else {\n                            this.isLogined = true;\n                            resolve();\n                            // 3. subscribe cached topics\n                            log.logDebug('3. subscribe cached topics', this.sessionCryptoInfoMap);\n                            if (this.sessionCryptoInfoMap.size > 0) {\n                                yield this.subscribeTopics(Array.from(this.sessionCryptoInfoMap.keys()));\n                            }\n                        }\n                    }));\n                    log.logDebug(`2. login called`);\n                    yield this.connector.send(() => __awaiter(this, void 0, void 0, function* () {\n                        log.logDebug('CONNECT: reconnect before send');\n                        return yield this.connector.connect();\n                    }), {\n                        id: this.packageId.toString(),\n                        jsonrpc: constants_1.CONNECT_JSONRPC_VER,\n                        method: commands_1.CONNECT_METHOD_LOGIN,\n                        params: {\n                            token: jwtToken\n                        }\n                    });\n                }));\n                this.connector.connect().catch((err) => {\n                    (0, log_1.logDebug)('WalletConnectionManager connect error', err);\n                    reject(err);\n                });\n                // add callback\n                this.connector.addPackageParse((event) => {\n                    var _a, _b;\n                    log.logDebug(`connect: parse package`);\n                    log.logDebug(event);\n                    if (!(\"params\" in event) || !(\"data\" in event[\"params\"])) {\n                        this.parsePackage(\"\", event, true);\n                        return;\n                    }\n                    // ignore receive echo\n                    if ((_a = event.params.data) === null || _a === void 0 ? void 0 : _a.topic) {\n                        this.parsePackage((_b = event.params.data) === null || _b === void 0 ? void 0 : _b.topic, event, event.method === commands_1.CONNECT_METHOD_RECEIVE);\n                    }\n                });\n                // this.connector.addListener(safeJsonStringify(event), (rawMsg: string)=> {\n                //    rawMsg = rawMsg.replace(/'/g, '\"')\n                //    log.logDebug(`addListener ===> ${rawMsg}`)\n                //    if (typeof rawMsg !== 'undefined') {\n                //       var msgObj = safeJsonParse(rawMsg)\n                //       var msg = msgObj.message\n                //       let crypto = \n                //       var result = this.crypto.decrypt(msg, this.connectedWalletPK)\n                //       log.logDebug(`addListener ===> ${result}`)\n                //       return result\n                //    }\n                //    return undefined\n                // }, ()=>{\n                //    // emit success\n                // }, ()=>{\n                //    // emit fail\n                // })\n            });\n        });\n    }\n    // 获取对应topic session下的钱包公钥\n    // 在返回approve时需要填充到clientId字段中\n    getSessionPublicKey(topicId) {\n        if (this.isTopicPublicKeyExist(topicId)) {\n            let item = this.sessionCryptoInfoMap.get(topicId);\n            if (item) {\n                return (0, utils_1.toHexString)(item.crypto.keyPair.publicKey);\n            }\n        }\n        return undefined;\n    }\n    getCurrentCachedTopicIdList() {\n        return Array.from(this.sessionCryptoInfoMap.keys());\n    }\n    disconnect() {\n        return __awaiter(this, arguments, void 0, function* (fromRestore = false) {\n            yield this.connector.disconnect();\n            //clean cached topic\n            //如果是恢复连接，就不清理解密public key\n            this.connectStorage.clearCache(storageconstants_1.OKXCONNECTOR_TOKEN_CACHE);\n            if (!fromRestore) {\n                this.connectStorage.clearCache(storageconstants_1.OKXCONNECTOR_CRYPTO_SENDER_PK_CACHE);\n            }\n        });\n    }\n    send(topic_1, msg_1) {\n        return __awaiter(this, arguments, void 0, function* (topic, msg, needPublicKey = false, ttl = constants_1.OKXCONNECTOR_MESSAGE_TTL, useRaw = false) {\n            var _a, _b;\n            // make send msg payload\n            log.logDebug(`message send =====> ${msg}`);\n            if (!this.isTopicPublicKeyExist(topic)) {\n                // channel not ready\n                throw new Error('connection not finish');\n            }\n            let connectedDappPK = (_a = this.sessionCryptoInfoMap.get(topic)) === null || _a === void 0 ? void 0 : _a.dappPublicKey;\n            let cryptoObject = (_b = this.sessionCryptoInfoMap.get(topic)) === null || _b === void 0 ? void 0 : _b.crypto;\n            let messageObj = undefined;\n            if (useRaw) {\n                messageObj = {\n                    message: msg,\n                };\n            }\n            if (cryptoObject && connectedDappPK && !useRaw) {\n                let message = cryptoObject.encryptWallet(msg, connectedDappPK);\n                messageObj = {\n                    message: message,\n                };\n            }\n            if (messageObj) {\n                if (needPublicKey && cryptoObject) {\n                    messageObj.clientId = (0, utils_1.toHexString)(cryptoObject.keyPair.publicKey);\n                    // let privateKey = toHexString(cryptoObject.keyPair.secretKey)\n                    // log.logDebug(`message send use dapp publicKey =====> ${connectedDappPK}`)\n                    // log.logDebug(`message send use publicKey =====> ${messageObj.clientId}`)\n                    // log.logDebug(`message send use secretKey =====> ${privateKey}`)\n                }\n                this.refreshPackageId();\n                const payload = {\n                    id: this.packageId.toString(),\n                    method: commands_1.CONNECT_METHOD_PUBLISH,\n                    jsonrpc: constants_1.CONNECT_JSONRPC_VER,\n                    params: {\n                        message: {\n                            topic: topic,\n                            message: (0, safejson_1.safeJsonStringify)(messageObj),\n                            ttl: ttl\n                        }\n                    } // crypted\n                };\n                this.events.once(this.packageId.toString(), (rsp) => __awaiter(this, void 0, void 0, function* () {\n                    // ack\n                    if (rsp && rsp.error) {\n                        log.logError(`@${new Date().toUTCString()} >>> failed when send msg`);\n                    }\n                    else if (rsp && !rsp.error) {\n                        log.logDebug(`CONNECTION @[${new Date().toUTCString()}] >>> send msg with id ${this.packageId} successed`);\n                    }\n                }));\n                yield this.connector.send(() => __awaiter(this, void 0, void 0, function* () {\n                    log.logDebug('CONNECT: reconnect before send');\n                    return yield this.connector.connect();\n                }), payload);\n                return this.packageId;\n            }\n        });\n    }\n    sendACK(msgId_1, success_1) {\n        return __awaiter(this, arguments, void 0, function* (msgId, success, reason = undefined) {\n            if (success === true) {\n                const payload = {\n                    id: msgId,\n                    jsonrpc: constants_1.CONNECT_JSONRPC_VER,\n                    result: true\n                };\n                yield this.connector.send(() => __awaiter(this, void 0, void 0, function* () {\n                    log.logDebug('CONNECT: reconnect before send');\n                    return yield this.connector.connect();\n                }), payload);\n            }\n            else if (reason) {\n                const payload = {\n                    id: msgId,\n                    jsonrpc: constants_1.CONNECT_JSONRPC_VER,\n                    error: {\n                        code: reason.code, //int\n                        message: reason.message\n                    }\n                };\n                yield this.connector.send(() => __awaiter(this, void 0, void 0, function* () {\n                    log.logDebug('CONNECT: reconnect before send');\n                    return yield this.connector.connect();\n                }), payload);\n            }\n        });\n    }\n    // send receive\n    sendReceive(msgId, messageId, topic) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const payload = {\n                id: msgId,\n                jsonrpc: constants_1.CONNECT_JSONRPC_VER,\n                method: commands_1.CONNECT_METHOD_RECEIVE,\n                params: {\n                    data: {\n                        messageId: messageId,\n                        topic: topic\n                    }\n                }\n            };\n            yield this.connector.send(() => __awaiter(this, void 0, void 0, function* () {\n                log.logDebug('CONNECT: reconnect before send');\n                return yield this.connector.connect();\n            }), payload);\n        });\n    }\n    sendUnsubscribe(topic) {\n        return __awaiter(this, void 0, void 0, function* () {\n            // TODO: make disconnect payload\n            yield this.connector.send(() => __awaiter(this, void 0, void 0, function* () {\n                log.logDebug('CONNECT: reconnect before send');\n                return yield this.connector.connect();\n            }), {\n                id: this.packageId.toString(),\n                jsonrpc: constants_1.CONNECT_JSONRPC_VER,\n                method: commands_1.CONNECT_METHOD_UNSUB,\n                params: {\n                    topic: topic\n                }\n            });\n            // remove topicId\n            this.sessionCryptoInfoMap.delete(topic);\n            this.syncCacheSessionInfo();\n        });\n    }\n    // send receive\n    // 1. fetch all \n    // 2. send back receive\n    // 3. check has more, if so, repeat from 1st step\n    sendFetchAndConsumeMessages(msgId, topic) {\n        return __awaiter(this, void 0, void 0, function* () {\n            //1. send fetch\n            this.events.once(msgId, (fetchedMessages) => __awaiter(this, void 0, void 0, function* () {\n                var _a, _b;\n                //2. consume received messages\n                if (fetchedMessages.result) {\n                    var hasMore = fetchedMessages.result.hasMore;\n                    var receivedMsgs = fetchedMessages.result.data;\n                    if (receivedMsgs) {\n                        for (let i = 0; i < receivedMsgs.length; i++) {\n                            let msg = receivedMsgs[i];\n                            if (msg && msg.topic == topic) {\n                                let messageId = msg.messageId;\n                                yield this.connector.getMsgPayloadFromHistory(msg);\n                                // send receive command to relay server\n                                this.refreshPackageId();\n                                yield this.sendReceive(this.packageId.toString(), messageId, topic);\n                            }\n                        }\n                    }\n                    // 3. check hasmore\n                    if (hasMore) {\n                        this.refreshPackageId();\n                        yield this.sendFetchAndConsumeMessages(this.packageId.toString(), topic);\n                    }\n                }\n                else {\n                    log.logDebug(`CONNECT: get error rsp ${(_a = fetchedMessages.error) === null || _a === void 0 ? void 0 : _a.code} : ${(_b = fetchedMessages.error) === null || _b === void 0 ? void 0 : _b.message}`);\n                }\n            }));\n            log.logDebug('5. send fetch more');\n            const timeFive = new Date().getTime();\n            (0, log_1.logDebug)(\"ConnectTime---5->\", timeFive - this.timeLog);\n            const payload = {\n                id: msgId,\n                jsonrpc: constants_1.CONNECT_JSONRPC_VER,\n                method: commands_1.CONNECT_METHOD_FETCHMSG,\n                params: {\n                    data: {\n                        topic: topic\n                    }\n                }\n            };\n            yield this.connector.send(() => __awaiter(this, void 0, void 0, function* () {\n                log.logDebug('CONNECT: reconnect before send');\n                return yield this.connector.connect();\n            }), payload);\n        });\n    }\n    sendBatchFetchAndConsumeMessages(packageId, topicIdList) {\n        return __awaiter(this, void 0, void 0, function* () {\n            //1. send fetch\n            this.events.once(packageId, (fetchedMessages) => __awaiter(this, void 0, void 0, function* () {\n                var _a, _b;\n                //2. consume received messages\n                if (fetchedMessages.result) {\n                    var hasMore = fetchedMessages.result.hasMore;\n                    var receivedMsgs = fetchedMessages.result.data;\n                    if (receivedMsgs) {\n                        for (let i = 0; i < receivedMsgs.length; i++) {\n                            let msg = receivedMsgs[i];\n                            if (msg && msg.topic) {\n                                let messageId = msg.messageId;\n                                yield this.connector.getMsgPayloadFromHistory(msg);\n                                // send receive command to relay server\n                                this.refreshPackageId(i);\n                                yield this.sendReceive(this.packageId.toString(), messageId, msg.topic);\n                            }\n                        }\n                    }\n                    // 3. check hasmore\n                    if (hasMore) {\n                        this.refreshPackageId();\n                        yield this.sendBatchFetchAndConsumeMessages(this.packageId.toString(), topicIdList);\n                    }\n                }\n                else {\n                    log.logDebug(`CONNECT: get error rsp ${(_a = fetchedMessages.error) === null || _a === void 0 ? void 0 : _a.code} : ${(_b = fetchedMessages.error) === null || _b === void 0 ? void 0 : _b.message}`);\n                }\n            }));\n            log.logDebug('5. send fetch more');\n            const timeFive = new Date().getTime();\n            (0, log_1.logDebug)(\"ConnectTime---5->\", timeFive - this.timeLog);\n            const payload = {\n                id: packageId,\n                jsonrpc: constants_1.CONNECT_JSONRPC_VER,\n                method: commands_1.CONNECT_METHOD_BATCH_FETCHMSG,\n                params: {\n                    topics: topicIdList,\n                    withInternalData: true\n                }\n            };\n            yield this.connector.send(() => __awaiter(this, void 0, void 0, function* () {\n                log.logDebug('CONNECT: reconnect before send');\n                yield this.connector.connect();\n            }), payload);\n        });\n    }\n    cleanCache() {\n        return __awaiter(this, void 0, void 0, function* () {\n            this.connectStorage.clearCache();\n        });\n    }\n    saveSessionContent(key, data) {\n        if (!data) {\n            this.connectStorage.clearCache(storageconstants_1.OKXCONNECTOR_SESSION_PREFIX_KEY + key);\n        }\n        let jsonData = (0, safejson_1.safeJsonStringify)(data);\n        this.connectStorage.encryptStoreMsg(jsonData, storageconstants_1.OKXCONNECTOR_SESSION_PREFIX_KEY + key);\n    }\n    getSessionContent(key) {\n        let jsonStr = this.connectStorage.getAndDecrypt(storageconstants_1.OKXCONNECTOR_SESSION_PREFIX_KEY + key);\n        if (jsonStr) {\n            let object = (0, safejson_1.safeJsonParse)(jsonStr);\n            return object;\n        }\n        return undefined;\n    }\n    // subscribe then fetch messages for each topics\n    subscribeTopics(topicIdList) {\n        return __awaiter(this, void 0, void 0, function* () {\n            (0, log_1.logDebug)(\"4. topicid list\", topicIdList);\n            this.refreshPackageId();\n            const timeF = new Date().getTime();\n            (0, log_1.logDebug)(\"ConnectTime--subscribe callback->\", timeF - this.timeLog);\n            return new Promise((resolve, reject) => __awaiter(this, void 0, void 0, function* () {\n                let finishCount = 0;\n                //3. send subscribe\n                for (let idx = 0; idx < topicIdList.length; ++idx) {\n                    let topicId = topicIdList[idx];\n                    this.refreshPackageId(idx);\n                    this.events.once(this.packageId.toString(), (rsp) => __awaiter(this, void 0, void 0, function* () {\n                        // ack\n                        if (rsp && rsp.error) {\n                            log.logError('failed when subscribe');\n                            yield this.connector.disconnect();\n                            var error = new Error();\n                            error.message = rsp.error.message;\n                            error.name = rsp.error.code.toString();\n                            // reject(error)\n                            finishCount += 1;\n                            if (finishCount == topicIdList.length) {\n                                resolve();\n                            }\n                        }\n                        this.refreshPackageId(idx);\n                        const timeF = new Date().getTime();\n                        (0, log_1.logDebug)(\"ConnectTime--subscribe callback->\", timeF - this.timeLog);\n                        finishCount += 1;\n                        if (finishCount == topicIdList.length) {\n                            // 4. fetch messages\n                            log.logDebug(`5. send fetch msg: ${this.packageId}, ${topicId}`);\n                            yield this.sendBatchFetchAndConsumeMessages(this.packageId.toString(), topicIdList);\n                            resolve();\n                        }\n                    }));\n                    log.logDebug(`3. login callback then send subscribe: ${this.packageId}, ${topicId}`);\n                    const timeTh = new Date().getTime();\n                    (0, log_1.logDebug)(\"ConnectTime---login callback->\", timeTh - this.timeLog);\n                    yield this.connector.send(() => __awaiter(this, void 0, void 0, function* () {\n                        log.logDebug('CONNECT: reconnect before send');\n                        return yield this.connector.connect();\n                    }), {\n                        id: this.packageId.toString(),\n                        jsonrpc: constants_1.CONNECT_JSONRPC_VER,\n                        method: commands_1.CONNECT_METHOD_SUB,\n                        params: {\n                            topic: topicId\n                        }\n                    });\n                }\n            }));\n        });\n    }\n}\nexports.WalletConnectionManager = WalletConnectionManager;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SessionCrypto = void 0;\nconst tweetnacl_1 = __importDefault(require(\"tweetnacl\"));\nconst utils_1 = require(\"../utils/utils\");\nclass SessionCrypto {\n    constructor(keyPair = undefined) {\n        this.nonceLength = 24;\n        this.sessionKeyPair = keyPair ? this.createKeypairFromString(keyPair) : this.createKeypair();\n    }\n    createKeypair() {\n        return tweetnacl_1.default.box.keyPair();\n    }\n    createKeypairFromString(keyPair) {\n        return {\n            publicKey: (0, utils_1.hexToByteArray)(keyPair.publicKey),\n            secretKey: (0, utils_1.hexToByteArray)(keyPair.secretKey),\n        };\n    }\n    createNonce() {\n        return tweetnacl_1.default.randomBytes(this.nonceLength);\n    }\n    get keyPair() {\n        return this.sessionKeyPair;\n    }\n    // dapp 加密:\n    // base64(hex（nonce+加密内容）)\n    encrypt(message, receiverPublicKey) {\n        const encodedMessage = new TextEncoder().encode(message);\n        const nonce = this.createNonce();\n        const encrypted = tweetnacl_1.default.box(encodedMessage, nonce, (0, utils_1.hexToByteArray)(receiverPublicKey), this.keyPair.secretKey);\n        let concatInfo = (0, utils_1.concatUint8Arrays)(nonce, encrypted);\n        var hexResult = (0, utils_1.toHexString)(concatInfo);\n        var encodedResult = new TextEncoder().encode(hexResult);\n        return (0, utils_1.base64encode)(encodedResult, false);\n    }\n    // 钱包加密内容\n    // 注意：没有中间hex的环节\n    // base64（nonce+加密内容)\n    encryptWallet(message, receiverPublicKey) {\n        const encodedMessage = new TextEncoder().encode(message);\n        const nonce = this.createNonce();\n        const encrypted = tweetnacl_1.default.box(encodedMessage, nonce, (0, utils_1.hexToByteArray)(receiverPublicKey), this.keyPair.secretKey);\n        let concatInfo = (0, utils_1.concatUint8Arrays)(nonce, encrypted);\n        return (0, utils_1.base64encode)(concatInfo, false);\n    }\n    // dapp 解密\n    // base64(split(nonce+加密内容))\n    decrypt(message, senderPublicKey) {\n        let base64Content = (0, utils_1.base64decode)(message, true);\n        let messageByteArray = base64Content.toUint8Array();\n        const [nonce, internalMessage] = (0, utils_1.splitToUint8Arrays)(messageByteArray, this.nonceLength);\n        const decrypted = tweetnacl_1.default.box.open(internalMessage, nonce, (0, utils_1.hexToByteArray)(senderPublicKey), this.keyPair.secretKey);\n        if (!decrypted) {\n            throw new Error(`Decryption error: \\n message: ${message.toString()} \\n sender pubkey: ${senderPublicKey.toString()} \\n keypair pubkey: ${(0, utils_1.toHexString)(this.keyPair.publicKey)} \\n keypair secretkey: ${(0, utils_1.toHexString)(this.keyPair.secretKey)}`);\n        }\n        return new TextDecoder().decode(decrypted);\n    }\n    // dapp 解密\n    // base64(hextoByte(split(nonce+加密内容)))\n    decryptWallet(message, senderPublicKey) {\n        let base64Content = (0, utils_1.base64decode)(message, true);\n        let messageByteArray = (0, utils_1.hexToByteArray)(base64Content.toString());\n        const [nonce, internalMessage] = (0, utils_1.splitToUint8Arrays)(messageByteArray, this.nonceLength);\n        const decrypted = tweetnacl_1.default.box.open(internalMessage, nonce, (0, utils_1.hexToByteArray)(senderPublicKey), this.keyPair.secretKey);\n        if (!decrypted) {\n            throw new Error(`Decryption error: \\n message: ${message.toString()} \\n sender pubkey: ${senderPublicKey.toString()} \\n keypair pubkey: ${(0, utils_1.toHexString)(this.keyPair.publicKey)} \\n keypair secretkey: ${(0, utils_1.toHexString)(this.keyPair.secretKey)}`);\n        }\n        return new TextDecoder().decode(decrypted);\n    }\n    stringifyKeypair() {\n        return {\n            publicKey: (0, utils_1.toHexString)(this.keyPair.publicKey),\n            secretKey: (0, utils_1.toHexString)(this.keyPair.secretKey)\n        };\n    }\n}\nexports.SessionCrypto = SessionCrypto;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./connect\"), exports);\n__exportStar(require(\"./protocol\"), exports);\n__exportStar(require(\"./utils\"), exports);\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.IEngine = exports.ISignClient = exports.ISignClientEvents = exports.IEngineEvents = void 0;\nconst eventemitter3_1 = __importDefault(require(\"eventemitter3\"));\nclass IEngineEvents extends eventemitter3_1.default {\n    constructor() {\n        super();\n    }\n}\nexports.IEngineEvents = IEngineEvents;\nclass ISignClientEvents extends eventemitter3_1.default {\n    constructor() {\n        super();\n    }\n}\nexports.ISignClientEvents = ISignClientEvents;\nclass ISignClient {\n    constructor(data) {\n        this.data = data;\n    }\n}\nexports.ISignClient = ISignClient;\nclass IEngine {\n    constructor(client) {\n        this.client = client;\n    }\n}\nexports.IEngine = IEngine;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.creatOKXMiniAppWalletInfo = exports.creatOKXWalletInfo = exports.ISignClientEvents = exports.IEngine = exports.IEngineEvents = exports.ISignClient = exports.getBigIntRpcId = exports.formatJsonRpcRequest = exports.isJsonRpcError = exports.isJsonRpcResponse = exports.parseConnectionError = exports.isHttpUrl = exports.formatJsonRpcError = void 0;\nvar json_rpc_1 = require(\"./json-rpc\");\nObject.defineProperty(exports, \"formatJsonRpcError\", { enumerable: true, get: function () { return json_rpc_1.formatJsonRpcError; } });\nObject.defineProperty(exports, \"isHttpUrl\", { enumerable: true, get: function () { return json_rpc_1.isHttpUrl; } });\nObject.defineProperty(exports, \"parseConnectionError\", { enumerable: true, get: function () { return json_rpc_1.parseConnectionError; } });\nObject.defineProperty(exports, \"isJsonRpcResponse\", { enumerable: true, get: function () { return json_rpc_1.isJsonRpcResponse; } });\nObject.defineProperty(exports, \"isJsonRpcError\", { enumerable: true, get: function () { return json_rpc_1.isJsonRpcError; } });\nObject.defineProperty(exports, \"formatJsonRpcRequest\", { enumerable: true, get: function () { return json_rpc_1.formatJsonRpcRequest; } });\nObject.defineProperty(exports, \"getBigIntRpcId\", { enumerable: true, get: function () { return json_rpc_1.getBigIntRpcId; } });\nvar engine_1 = require(\"./engine\");\nObject.defineProperty(exports, \"ISignClient\", { enumerable: true, get: function () { return engine_1.ISignClient; } });\nObject.defineProperty(exports, \"IEngineEvents\", { enumerable: true, get: function () { return engine_1.IEngineEvents; } });\nObject.defineProperty(exports, \"IEngine\", { enumerable: true, get: function () { return engine_1.IEngine; } });\nObject.defineProperty(exports, \"ISignClientEvents\", { enumerable: true, get: function () { return engine_1.ISignClientEvents; } });\n__exportStar(require(\"./ton\"), exports);\nvar wallet_info_1 = require(\"./wallet-info\");\nObject.defineProperty(exports, \"creatOKXWalletInfo\", { enumerable: true, get: function () { return wallet_info_1.creatOKXWalletInfo; } });\nObject.defineProperty(exports, \"creatOKXMiniAppWalletInfo\", { enumerable: true, get: function () { return wallet_info_1.creatOKXMiniAppWalletInfo; } });\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isJsonRpcPayload = isJsonRpcPayload;\nexports.isJsonRpcRequest = isJsonRpcRequest;\nexports.isJsonRpcResponse = isJsonRpcResponse;\nexports.isJsonRpcResult = isJsonRpcResult;\nexports.isJsonRpcError = isJsonRpcError;\nexports.payloadId = payloadId;\nexports.getBigIntRpcId = getBigIntRpcId;\nexports.formatJsonRpcRequest = formatJsonRpcRequest;\nexports.formatJsonRpcResult = formatJsonRpcResult;\nexports.formatJsonRpcError = formatJsonRpcError;\nexports.isReservedErrorCode = isReservedErrorCode;\nexports.getError = getError;\nexports.getErrorByCode = getErrorByCode;\nexports.formatErrorMessage = formatErrorMessage;\nexports.isHttpUrl = isHttpUrl;\nexports.isWsUrl = isWsUrl;\nexports.parseConnectionError = parseConnectionError;\nfunction isJsonRpcPayload(payload) {\n    return (typeof payload === \"object\" &&\n        \"id\" in payload &&\n        \"jsonrpc\" in payload &&\n        payload.jsonrpc === \"2.0\");\n}\nfunction isJsonRpcRequest(payload) {\n    return isJsonRpcPayload(payload) && \"method\" in payload;\n}\nfunction isJsonRpcResponse(payload) {\n    return isJsonRpcPayload(payload) && (isJsonRpcResult(payload) || isJsonRpcError(payload));\n}\nfunction isJsonRpcResult(payload) {\n    return \"result\" in payload;\n}\nfunction isJsonRpcError(payload) {\n    return \"error\" in payload;\n}\nconst okx_connect_error_1 = require(\"../error/okx-connect.error\");\nconst tweetnacl_1 = __importDefault(require(\"tweetnacl\"));\nclass IncrementalRandomGenerator {\n    constructor(bits) {\n        this.i = 1;\n        const typedArray = bits === 8 ? new Uint8Array(1) : bits === 16 ? new Uint16Array(1) : new Uint32Array(1);\n        this.initialValue = tweetnacl_1.default.randomBytes(bits / 8)[0];\n    }\n    getNextValue() {\n        return this.initialValue + this.i++;\n    }\n}\nconst uint8Generator = new IncrementalRandomGenerator(8);\nconst uint16Generator = new IncrementalRandomGenerator(16);\nfunction payloadId() {\n    const date = Date.now() * 1000;\n    const extra = uint8Generator.getNextValue();\n    return date + extra;\n}\nfunction getBigIntRpcId() {\n    const date = BigInt(Date.now()) * BigInt(1000000);\n    const extra = BigInt(uint16Generator.getNextValue());\n    return date + extra;\n}\nfunction formatJsonRpcRequest(method, params, id) {\n    return {\n        id: id || payloadId(),\n        jsonrpc: \"2.0\",\n        method,\n        params,\n    };\n}\nfunction formatJsonRpcResult(id, result) {\n    return {\n        id,\n        jsonrpc: \"2.0\",\n        result,\n    };\n}\nfunction formatJsonRpcError(id, error, data) {\n    return {\n        id,\n        jsonrpc: \"2.0\",\n        error: formatErrorMessage(error, data),\n    };\n}\nfunction isReservedErrorCode(code) {\n    return okx_connect_error_1.RESERVED_ERROR_CODES.includes(code);\n}\nfunction getError(type) {\n    if (!Object.keys(okx_connect_error_1.STANDARD_ERROR_MAP).includes(type)) {\n        return okx_connect_error_1.STANDARD_ERROR_MAP[okx_connect_error_1.DEFAULT_ERROR];\n    }\n    return okx_connect_error_1.STANDARD_ERROR_MAP[type];\n}\nfunction getErrorByCode(code) {\n    const match = Object.values(okx_connect_error_1.STANDARD_ERROR_MAP).find((e) => e.code === code);\n    if (!match) {\n        return okx_connect_error_1.STANDARD_ERROR_MAP[okx_connect_error_1.DEFAULT_ERROR];\n    }\n    return match;\n}\nfunction formatErrorMessage(error, data) {\n    if (typeof error === \"undefined\") {\n        return getError(okx_connect_error_1.INTERNAL_ERROR);\n    }\n    if (typeof error === \"string\") {\n        error = Object.assign(Object.assign({}, getError(okx_connect_error_1.SERVER_ERROR)), { message: error });\n    }\n    if (typeof data !== \"undefined\") {\n        error.data = data;\n    }\n    if (isReservedErrorCode(error.code)) {\n        error = getErrorByCode(error.code);\n    }\n    return error;\n}\nfunction getUrlProtocol(url) {\n    const matches = url.match(new RegExp(/^\\w+:/, \"gi\"));\n    if (!matches || !matches.length)\n        return;\n    return matches[0];\n}\nfunction matchRegexProtocol(url, regex) {\n    const protocol = getUrlProtocol(url);\n    if (typeof protocol === \"undefined\")\n        return false;\n    return new RegExp(regex).test(protocol);\n}\nfunction isHttpUrl(url) {\n    return matchRegexProtocol(url, \"^https?:\");\n}\nfunction isWsUrl(url) {\n    return matchRegexProtocol(url, \"^wss?:\");\n}\nfunction parseConnectionError(e, url, type) {\n    return e.message.includes(\"getaddrinfo ENOTFOUND\") || e.message.includes(\"connect ECONNREFUSED\")\n        ? new Error(`Unavailable ${type} RPC url at ${url}`)\n        : e;\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CONNECT_ITEM_ERROR_CODES = void 0;\nvar CONNECT_ITEM_ERROR_CODES;\n(function (CONNECT_ITEM_ERROR_CODES) {\n    CONNECT_ITEM_ERROR_CODES[CONNECT_ITEM_ERROR_CODES[\"UNKNOWN_ERROR\"] = 0] = \"UNKNOWN_ERROR\";\n    CONNECT_ITEM_ERROR_CODES[CONNECT_ITEM_ERROR_CODES[\"METHOD_NOT_SUPPORTED\"] = 400] = \"METHOD_NOT_SUPPORTED\";\n})(CONNECT_ITEM_ERROR_CODES || (exports.CONNECT_ITEM_ERROR_CODES = CONNECT_ITEM_ERROR_CODES = {}));\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TONCHAIN = void 0;\nvar TONCHAIN;\n(function (TONCHAIN) {\n    TONCHAIN[\"MAINNET\"] = \"-239\";\n})(TONCHAIN || (exports.TONCHAIN = TONCHAIN = {}));\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CONNECT_ITEM_ERROR_CODES = exports.TONCHAIN = void 0;\nvar connect_wallet_1 = require(\"./connect-wallet\");\nObject.defineProperty(exports, \"TONCHAIN\", { enumerable: true, get: function () { return connect_wallet_1.TONCHAIN; } });\nvar connect_event_1 = require(\"./connect-event\");\nObject.defineProperty(exports, \"CONNECT_ITEM_ERROR_CODES\", { enumerable: true, get: function () { return connect_event_1.CONNECT_ITEM_ERROR_CODES; } });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.creatOKXWalletInfo = creatOKXWalletInfo;\nexports.creatOKXMiniAppWalletInfo = creatOKXMiniAppWalletInfo;\nconst constants_1 = require(\"../constants\");\nfunction creatOKXWalletInfo() {\n    return {\n        \"appName\": \"okxAppWallet\",\n        \"name\": \"OKX Wallet\",\n        \"imageUrl\": \"https://static.okx.com/cdn/assets/imgs/247/58E63FEA47A2B7D7.png\",\n        \"aboutUrl\": \"https://www.okx.com/web3\",\n        \"universalLink\": constants_1.standardUniversalLink,\n        \"deepLink\": constants_1.standardDeeplink,\n        \"platforms\": [\"ios\", \"android\"]\n    };\n}\nfunction creatOKXMiniAppWalletInfo() {\n    return {\n        \"appName\": \"okxMiniApp\",\n        \"name\": \"OKX Mini Wallet\",\n        \"imageUrl\": \"https://static.okx.com/cdn/assets/imgs/247/58E63FEA47A2B7D7.png\",\n        \"aboutUrl\": \"https://www.okx.com/web3\",\n        \"universalLink\": `https://t.me/${constants_1.tgwalletName}/start`,\n        \"deepLink\": \"\",\n        \"platforms\": [\"ios\", \"android\", 'macos', 'windows']\n    };\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.tgwalletName = exports.tonConnectSdkVersion = exports.shortUniversalLink = exports.standardDeeplink = exports.standardUniversalLink = exports.okxDeeplink = void 0;\nexports.okxDeeplink = 'okx://web3';\nexports.standardUniversalLink = 'https://www.okx.com/download';\n// export const standardUniversalLink = 'http://localhost:5173';\nexports.standardDeeplink = `${exports.okxDeeplink}/wallet/connect`;\nexports.shortUniversalLink = `https://www.okx.com/ul/i0nJ4c`;\n// export const standardDeeplink = 'http://localhost:5173';\nexports.tonConnectSdkVersion = '1';\n// export const tgwalletName: string = \"TCTestqdqwdqwdqBot\"\nexports.tgwalletName = \"OKX_WALLET_BOT\";\n// https://t.me/OKX_WALLET_BOT/start\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.OKX_CONNECT_ERROR_CODES = exports.OKXConnectError = void 0;\nvar okx_connect_error_1 = require(\"./okx-connect.error\");\nObject.defineProperty(exports, \"OKXConnectError\", { enumerable: true, get: function () { return okx_connect_error_1.OKXConnectError; } });\nObject.defineProperty(exports, \"OKX_CONNECT_ERROR_CODES\", { enumerable: true, get: function () { return okx_connect_error_1.OKX_CONNECT_ERROR_CODES; } });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DEFAULT_ERROR = exports.STANDARD_ERROR_MAP = exports.SERVER_ERROR_CODE_RANGE = exports.RESERVED_ERROR_CODES = exports.SERVER_ERROR = exports.INTERNAL_ERROR = exports.INVALID_PARAMS = exports.METHOD_NOT_FOUND = exports.INVALID_REQUEST = exports.PARSE_ERROR = exports.OKX_CONNECT_ERROR_CODES = exports.OKXConnectError = void 0;\nclass OKXConnectError extends Error {\n    constructor(code, message) {\n        if (message == undefined) {\n            message = getDefaultMessageByCode(code);\n        }\n        super(message);\n        this.code = code;\n        this.message = `${OKXConnectError.prefix} ${message ? '\\n' + message : ''}`;\n        Object.setPrototypeOf(this, OKXConnectError.prototype);\n    }\n    toJSON() {\n        return {\n            message: this.message,\n            code: this.code\n        };\n    }\n}\nexports.OKXConnectError = OKXConnectError;\nOKXConnectError.prefix = '[OKX_CONNECT_SDK_ERROR]';\nfunction getDefaultMessageByCode(code) {\n    if (code == OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR) {\n        return \"unknown error\";\n    }\n    else if (code == OKX_CONNECT_ERROR_CODES.BAD_REQUEST_ERROR) {\n        return \"bad request error\";\n    }\n    else if (code == OKX_CONNECT_ERROR_CODES.ALREADY_CONNECTED_ERROR) {\n        return \"already connected error\";\n    }\n    else if (code == OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR) {\n        return \"not connected error\";\n    }\n    else if (code == OKX_CONNECT_ERROR_CODES.UNKNOWN_APP_ERROR) {\n        return \"unknown app error\";\n    }\n    else if (code == OKX_CONNECT_ERROR_CODES.USER_REJECTS_ERROR) {\n        return \"user rejects error\";\n    }\n    else if (code == OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED) {\n        return \"method not supported\";\n    }\n    else if (code == OKX_CONNECT_ERROR_CODES.CONNECTION_ERROR) {\n        return \"connect error\";\n    }\n    return \"unknown error\";\n}\nvar OKX_CONNECT_ERROR_CODES;\n(function (OKX_CONNECT_ERROR_CODES) {\n    OKX_CONNECT_ERROR_CODES[OKX_CONNECT_ERROR_CODES[\"UNKNOWN_ERROR\"] = 0] = \"UNKNOWN_ERROR\";\n    OKX_CONNECT_ERROR_CODES[OKX_CONNECT_ERROR_CODES[\"BAD_REQUEST_ERROR\"] = 1] = \"BAD_REQUEST_ERROR\";\n    OKX_CONNECT_ERROR_CODES[OKX_CONNECT_ERROR_CODES[\"ALREADY_CONNECTED_ERROR\"] = 11] = \"ALREADY_CONNECTED_ERROR\";\n    OKX_CONNECT_ERROR_CODES[OKX_CONNECT_ERROR_CODES[\"NOT_CONNECTED_ERROR\"] = 12] = \"NOT_CONNECTED_ERROR\";\n    OKX_CONNECT_ERROR_CODES[OKX_CONNECT_ERROR_CODES[\"UNKNOWN_APP_ERROR\"] = 100] = \"UNKNOWN_APP_ERROR\";\n    OKX_CONNECT_ERROR_CODES[OKX_CONNECT_ERROR_CODES[\"USER_REJECTS_ERROR\"] = 300] = \"USER_REJECTS_ERROR\";\n    OKX_CONNECT_ERROR_CODES[OKX_CONNECT_ERROR_CODES[\"METHOD_NOT_SUPPORTED\"] = 400] = \"METHOD_NOT_SUPPORTED\";\n    OKX_CONNECT_ERROR_CODES[OKX_CONNECT_ERROR_CODES[\"CHAIN_NOT_SUPPORTED\"] = 500] = \"CHAIN_NOT_SUPPORTED\";\n    OKX_CONNECT_ERROR_CODES[OKX_CONNECT_ERROR_CODES[\"WALLET_NOT_SUPPORTED\"] = 600] = \"WALLET_NOT_SUPPORTED\";\n    OKX_CONNECT_ERROR_CODES[OKX_CONNECT_ERROR_CODES[\"CONNECTION_ERROR\"] = 700] = \"CONNECTION_ERROR\";\n})(OKX_CONNECT_ERROR_CODES || (exports.OKX_CONNECT_ERROR_CODES = OKX_CONNECT_ERROR_CODES = {}));\nexports.PARSE_ERROR = \"PARSE_ERROR\";\nexports.INVALID_REQUEST = \"INVALID_REQUEST\";\nexports.METHOD_NOT_FOUND = \"METHOD_NOT_FOUND\";\nexports.INVALID_PARAMS = \"INVALID_PARAMS\";\nexports.INTERNAL_ERROR = \"INTERNAL_ERROR\";\nexports.SERVER_ERROR = \"SERVER_ERROR\";\nexports.RESERVED_ERROR_CODES = [-32700, -32600, -32601, -32602, -32603];\nexports.SERVER_ERROR_CODE_RANGE = [-32000, -32099];\nexports.STANDARD_ERROR_MAP = {\n    [exports.PARSE_ERROR]: { code: -32700, message: \"Parse error\" },\n    [exports.INVALID_REQUEST]: { code: -32600, message: \"Invalid Request\" },\n    [exports.METHOD_NOT_FOUND]: { code: -32601, message: \"Method not found\" },\n    [exports.INVALID_PARAMS]: { code: -32602, message: \"Invalid params\" },\n    [exports.INTERNAL_ERROR]: { code: -32603, message: \"Internal error\" },\n    [exports.SERVER_ERROR]: { code: -32000, message: \"Server error\" },\n};\nexports.DEFAULT_ERROR = exports.SERVER_ERROR;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.okxDeeplink = exports.tonConnectSdkVersion = exports.standardDeeplink = exports.standardUniversalLink = exports.NameSpaceKeyCosmos = exports.NameSpaceKeyAptos = exports.NameSpaceKeyBtc = exports.NameSpaceKeySui = exports.NameSpaceKeyTON = exports.NameSpaceKeySOL = exports.NameSpaceKeyEip155 = void 0;\n__exportStar(require(\"./error\"), exports);\nvar misc_1 = require(\"./misc\");\nObject.defineProperty(exports, \"NameSpaceKeyEip155\", { enumerable: true, get: function () { return misc_1.NameSpaceKeyEip155; } });\nObject.defineProperty(exports, \"NameSpaceKeySOL\", { enumerable: true, get: function () { return misc_1.NameSpaceKeySOL; } });\nObject.defineProperty(exports, \"NameSpaceKeyTON\", { enumerable: true, get: function () { return misc_1.NameSpaceKeyTON; } });\nObject.defineProperty(exports, \"NameSpaceKeySui\", { enumerable: true, get: function () { return misc_1.NameSpaceKeySui; } });\nObject.defineProperty(exports, \"NameSpaceKeyBtc\", { enumerable: true, get: function () { return misc_1.NameSpaceKeyBtc; } });\nObject.defineProperty(exports, \"NameSpaceKeyAptos\", { enumerable: true, get: function () { return misc_1.NameSpaceKeyAptos; } });\nObject.defineProperty(exports, \"NameSpaceKeyCosmos\", { enumerable: true, get: function () { return misc_1.NameSpaceKeyCosmos; } });\nvar constants_1 = require(\"./constants\");\nObject.defineProperty(exports, \"standardUniversalLink\", { enumerable: true, get: function () { return constants_1.standardUniversalLink; } });\nObject.defineProperty(exports, \"standardDeeplink\", { enumerable: true, get: function () { return constants_1.standardDeeplink; } });\nObject.defineProperty(exports, \"tonConnectSdkVersion\", { enumerable: true, get: function () { return constants_1.tonConnectSdkVersion; } });\nObject.defineProperty(exports, \"okxDeeplink\", { enumerable: true, get: function () { return constants_1.okxDeeplink; } });\n__exportStar(require(\"./connect\"), exports);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.NameSpaceKeyCosmos = exports.NameSpaceKeyAptos = exports.NameSpaceKeyBtc = exports.NameSpaceKeySui = exports.NameSpaceKeyTON = exports.NameSpaceKeySOL = exports.NameSpaceKeyEip155 = void 0;\nexports.NameSpaceKeyEip155 = \"eip155\";\nexports.NameSpaceKeySOL = \"solana\";\nexports.NameSpaceKeyTON = \"ton\";\nexports.NameSpaceKeySui = \"sui\";\nexports.NameSpaceKeyBtc = \"btc\";\nexports.NameSpaceKeyAptos = \"aptos\";\nexports.NameSpaceKeyCosmos = \"cosmos\";\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.callForSuccess = callForSuccess;\nexports.delay = delay;\n/**\n * Function to call ton api until we get response.\n * Because ton network is pretty unstable we need to make sure response is final.\n * @param {T} fn - function to call\n * @param {CallForSuccessOptions} [options] - optional configuration options\n */\nfunction callForSuccess(fn, options) {\n    return __awaiter(this, void 0, void 0, function* () {\n        var _a, _b;\n        const attempts = (_a = options === null || options === void 0 ? void 0 : options.attempts) !== null && _a !== void 0 ? _a : 3;\n        const delayMs = (_b = options === null || options === void 0 ? void 0 : options.delayMs) !== null && _b !== void 0 ? _b : 800;\n        if (typeof fn !== 'function') {\n            throw new Error(`Expected a function, got ${typeof fn}`);\n        }\n        let i = 0;\n        let lastError;\n        while (i < attempts) {\n            try {\n                return yield fn();\n            }\n            catch (err) {\n                lastError = err;\n                i++;\n                if (i < attempts) {\n                    yield delay(delayMs);\n                }\n            }\n        }\n        throw lastError;\n    });\n}\n/**\n * Delays the execution of code for a specified number of milliseconds.\n * @param {number} timeout - The number of milliseconds to delay the execution.\n * @param {DelayOptions} [options] - Optional configuration options for the delay.\n * @return {Promise<void>} - A promise that resolves after the specified delay, or rejects if the delay is aborted.\n */\nfunction delay(timeout, options) {\n    return __awaiter(this, void 0, void 0, function* () {\n        return new Promise((resolve, reject) => {\n            var _a, _b;\n            if ((_a = options === null || options === void 0 ? void 0 : options.signal) === null || _a === void 0 ? void 0 : _a.aborted) {\n                reject(new Error('Delay aborted'));\n                return;\n            }\n            const timeoutId = setTimeout(() => resolve(), timeout);\n            (_b = options === null || options === void 0 ? void 0 : options.signal) === null || _b === void 0 ? void 0 : _b.addEventListener('abort', () => {\n                clearTimeout(timeoutId);\n                reject(new Error('Delay aborted'));\n            });\n        });\n    });\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isMobileUserAgent = exports.openLinkBlank = exports.openLink = exports.isValidObject = exports.isIos = exports.base64decode = exports.base64encode = exports.splitToUint8Arrays = exports.concatUint8Arrays = exports.toHexString = exports.hexToByteArray = exports.getAppWalletShortDeepLink = exports.encodeTWAConnectURLParams = exports.encodeConnectParams = exports.openOKXTMAWalletlinkWithFallback = exports.getTelegramWalletTWAUrl = exports.getAppWalletDeepLink = exports.encodeTelegramUrlParameters = exports.isTelegramUrl = exports.openOKXDeeplinkWithFallback = exports.openOKXDeeplink = exports.getUniversalLink = exports.safeJsonStringify = exports.safeJsonParse = exports.logWarning = exports.logError = exports.logDebug = exports.callForSuccess = void 0;\nvar call_for_success_1 = require(\"./call-for-success\");\nObject.defineProperty(exports, \"callForSuccess\", { enumerable: true, get: function () { return call_for_success_1.callForSuccess; } });\nvar log_1 = require(\"./log\");\nObject.defineProperty(exports, \"logDebug\", { enumerable: true, get: function () { return log_1.logDebug; } });\nObject.defineProperty(exports, \"logError\", { enumerable: true, get: function () { return log_1.logError; } });\nObject.defineProperty(exports, \"logWarning\", { enumerable: true, get: function () { return log_1.logWarning; } });\nvar safejson_1 = require(\"./safejson\");\nObject.defineProperty(exports, \"safeJsonParse\", { enumerable: true, get: function () { return safejson_1.safeJsonParse; } });\nObject.defineProperty(exports, \"safeJsonStringify\", { enumerable: true, get: function () { return safejson_1.safeJsonStringify; } });\nvar url_1 = require(\"./url\");\nObject.defineProperty(exports, \"getUniversalLink\", { enumerable: true, get: function () { return url_1.getUniversalLink; } });\nObject.defineProperty(exports, \"openOKXDeeplink\", { enumerable: true, get: function () { return url_1.openOKXDeeplink; } });\nObject.defineProperty(exports, \"openOKXDeeplinkWithFallback\", { enumerable: true, get: function () { return url_1.openOKXDeeplinkWithFallback; } });\nObject.defineProperty(exports, \"isTelegramUrl\", { enumerable: true, get: function () { return url_1.isTelegramUrl; } });\nObject.defineProperty(exports, \"encodeTelegramUrlParameters\", { enumerable: true, get: function () { return url_1.encodeTelegramUrlParameters; } });\nObject.defineProperty(exports, \"getAppWalletDeepLink\", { enumerable: true, get: function () { return url_1.getAppWalletDeepLink; } });\nObject.defineProperty(exports, \"getTelegramWalletTWAUrl\", { enumerable: true, get: function () { return url_1.getTelegramWalletTWAUrl; } });\nObject.defineProperty(exports, \"openOKXTMAWalletlinkWithFallback\", { enumerable: true, get: function () { return url_1.openOKXTMAWalletlinkWithFallback; } });\nObject.defineProperty(exports, \"encodeConnectParams\", { enumerable: true, get: function () { return url_1.encodeConnectParams; } });\nObject.defineProperty(exports, \"encodeTWAConnectURLParams\", { enumerable: true, get: function () { return url_1.encodeTWAConnectURLParams; } });\nObject.defineProperty(exports, \"getAppWalletShortDeepLink\", { enumerable: true, get: function () { return url_1.getAppWalletShortDeepLink; } });\nvar utils_1 = require(\"./utils\");\nObject.defineProperty(exports, \"hexToByteArray\", { enumerable: true, get: function () { return utils_1.hexToByteArray; } });\nObject.defineProperty(exports, \"toHexString\", { enumerable: true, get: function () { return utils_1.toHexString; } });\nObject.defineProperty(exports, \"concatUint8Arrays\", { enumerable: true, get: function () { return utils_1.concatUint8Arrays; } });\nObject.defineProperty(exports, \"splitToUint8Arrays\", { enumerable: true, get: function () { return utils_1.splitToUint8Arrays; } });\nObject.defineProperty(exports, \"base64encode\", { enumerable: true, get: function () { return utils_1.base64encode; } });\nObject.defineProperty(exports, \"base64decode\", { enumerable: true, get: function () { return utils_1.base64decode; } });\nObject.defineProperty(exports, \"isIos\", { enumerable: true, get: function () { return utils_1.isIos; } });\nObject.defineProperty(exports, \"isValidObject\", { enumerable: true, get: function () { return utils_1.isValidObject; } });\nvar web_api_1 = require(\"./web-api\");\nObject.defineProperty(exports, \"openLink\", { enumerable: true, get: function () { return web_api_1.openLink; } });\nObject.defineProperty(exports, \"openLinkBlank\", { enumerable: true, get: function () { return web_api_1.openLinkBlank; } });\nObject.defineProperty(exports, \"isMobileUserAgent\", { enumerable: true, get: function () { return web_api_1.isMobileUserAgent; } });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.logDebug = logDebug;\nexports.logError = logError;\nexports.logWarning = logWarning;\nconst debug = false;\nfunction logDebug(...args) {\n    if (typeof console != 'undefined') {\n        try {\n            if (debug || (window === null || window === void 0 ? void 0 : window.okxLogDebug)) {\n                console.log('[OKX_CONNECT_SDK]', ...args);\n            }\n        }\n        catch (_a) { }\n    }\n}\nfunction logError(...args) {\n    if (typeof console != 'undefined') {\n        try {\n            if (debug || (window === null || window === void 0 ? void 0 : window.okxLogDebug)) {\n                console.error('[OKX_CONNECT_SDK]', ...args);\n            }\n        }\n        catch (_a) { }\n    }\n}\nfunction logWarning(...args) {\n    if (typeof console != 'undefined') {\n        try {\n            if (debug || (window === null || window === void 0 ? void 0 : window.okxLogDebug)) {\n                console.warn('[OKX_CONNECT_SDK]', ...args);\n            }\n        }\n        catch (_a) { }\n    }\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.safeJsonParse = safeJsonParse;\nexports.safeJsonStringify = safeJsonStringify;\nconst log_1 = require(\"./log\");\nconst JSONStringify = (data) => JSON.stringify(data, (_, value) => (typeof value === \"bigint\" ? value.toString() + \"n\" : value));\n/*\n  Function to parse JSON.\n  If JSON has values in our custom format BigInt (strings with \"n\" character at the end), we just parse them to BigInt values.\n  If JSON has big number values, but not in our custom format, we copy it, and in a copy we convert those values to our custom format,\n  then parse them to BigInt values.\n  Other values (not big numbers and not our custom format BigInt values) are not affected and parsed as native JSON.parse() would parse them.\n*/\nconst JSONParse = (json) => {\n    /*\n      Big numbers are found and marked using Regex with this condition:\n      Number's length is bigger than 16 || Number's length is 16 and any numerical digit of the number is greater than that of the Number.MAX_SAFE_INTEGER\n      Additionally, it skips values that are strings (between double quotes).\n      */\n    // prettier-ignore\n    // eslint-disable-next-line no-useless-escape\n    const numbersBiggerThanMaxInt = /:(\\b\\d{17,}|\\b(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))(?=[,\\}\\]]|$)/g;\n    const serializedData = json.replace(numbersBiggerThanMaxInt, (match) => `\"${match}n\"`);\n    return JSON.parse(serializedData, (_, value) => {\n        const isCustomFormatBigInt = typeof value === \"string\" && value.match(/^\\d+n$/);\n        if (isCustomFormatBigInt)\n            return BigInt(value.substring(0, value.length - 1));\n        return value;\n    });\n};\nfunction safeJsonParse(value) {\n    if (typeof value !== \"string\") {\n        (0, log_1.logDebug)(value);\n        throw new Error(`Cannot safe json parse value of type ${typeof value}`);\n    }\n    try {\n        return JSONParse(value);\n    }\n    catch (e) {\n        // eslint-disable-next-line no-console\n        console.error(\"safeJsonParse error:\", e);\n        return value;\n    }\n}\nfunction safeJsonStringify(value) {\n    return typeof value === \"string\" ? value : JSONStringify(value) || \"\";\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.okxfromString = okxfromString;\nexports.okxtoString = okxtoString;\nexports.alloc = alloc;\nexports.allocUnsafe = allocUnsafe;\nconst basics_1 = require(\"multiformats/basics\");\nconst log_1 = require(\"../utils/log\");\nfunction okxfromString(string, encoding = 'utf8') {\n    const base = BASES[encoding];\n    (0, log_1.logDebug)(\"okxfromstring ====> \");\n    if (!base) {\n        throw new Error(`Unsupported encoding \"${encoding}\"`);\n    }\n    return base.decoder.decode(`${base.prefix}${string}`);\n}\nfunction okxtoString(array, encoding = 'utf8') {\n    const base = BASES[encoding];\n    (0, log_1.logDebug)(\"okxtoString ====> \");\n    if (!base) {\n        throw new Error(`Unsupported encoding \"${encoding}\"`);\n    }\n    return base.encoder.encode(array).substring(1);\n}\nfunction alloc(size = 0) {\n    return new Uint8Array(size);\n}\nfunction allocUnsafe(size = 0) {\n    return new Uint8Array(size);\n}\nfunction createCodec(name, prefix, encode, decode) {\n    return {\n        name,\n        prefix,\n        encoder: {\n            name,\n            prefix,\n            encode\n        },\n        decoder: { decode }\n    };\n}\nconst string = createCodec('utf8', 'u', buf => {\n    const decoder = new TextDecoder('utf8');\n    return 'u' + decoder.decode(buf);\n}, str => {\n    const encoder = new TextEncoder();\n    return encoder.encode(str.substring(1));\n});\nconst ascii = createCodec('ascii', 'a', buf => {\n    let result = 'a';\n    for (let i = 0; i < buf.length; i++) {\n        result += String.fromCharCode(buf[i]);\n    }\n    return result;\n}, str => {\n    str = str.substring(1);\n    const buf = allocUnsafe(str.length);\n    for (let i = 0; i < str.length; i++) {\n        buf[i] = str.charCodeAt(i);\n    }\n    return buf;\n});\nconst BASES = Object.assign({ utf8: string, 'utf-8': string, hex: basics_1.bases.base16, latin1: ascii, ascii: ascii, binary: ascii }, basics_1.bases);\n","\"use strict\";\nvar _a, _b, _c, _d, _e, _f, _g;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isTmaPlatform = isTmaPlatform;\nexports.isInTMA = isInTMA;\nexports.isInTelegramBrowser = isInTelegramBrowser;\nexports.sendExpand = sendExpand;\nexports.sendOpenTelegramLink = sendOpenTelegramLink;\nexports.versionCompare = versionCompare;\nconst url_1 = require(\"./url\");\nconst log_1 = require(\"./log\");\nconst protocol_1 = require(\"../protocol\");\nconst web_api_1 = require(\"./web-api\");\nlet initParams = {};\ntry {\n    let locationHash = location.hash.toString();\n    initParams = urlParseHashParams(locationHash);\n}\ncatch (e) { }\nlet tmaPlatform = 'unknown';\nif (initParams === null || initParams === void 0 ? void 0 : initParams.tgWebAppPlatform) {\n    tmaPlatform = (_a = initParams.tgWebAppPlatform) !== null && _a !== void 0 ? _a : 'unknown';\n}\nif (tmaPlatform === 'unknown') {\n    const window = (0, url_1.getWindow)();\n    tmaPlatform = (_d = (_c = (_b = window === null || window === void 0 ? void 0 : window.Telegram) === null || _b === void 0 ? void 0 : _b.WebApp) === null || _c === void 0 ? void 0 : _c.platform) !== null && _d !== void 0 ? _d : 'unknown';\n}\nlet webAppVersion = '6.0';\nif (initParams === null || initParams === void 0 ? void 0 : initParams.tgWebAppVersion) {\n    webAppVersion = initParams.tgWebAppVersion;\n}\nif (!webAppVersion) {\n    const window = (0, url_1.getWindow)();\n    webAppVersion = (_g = (_f = (_e = window === null || window === void 0 ? void 0 : window.Telegram) === null || _e === void 0 ? void 0 : _e.WebApp) === null || _f === void 0 ? void 0 : _f.version) !== null && _g !== void 0 ? _g : '6.0';\n}\n/**\n * Returns true if the app is running in TMA on the specified platform.\n * @param platforms\n */\nfunction isTmaPlatform(...platforms) {\n    return platforms.includes(tmaPlatform);\n}\n/**\n * Returns true if the app is running in TMA.\n */\nfunction isInTMA() {\n    var _a;\n    return tmaPlatform !== 'unknown' || !!((_a = (0, url_1.getWindow)()) === null || _a === void 0 ? void 0 : _a.TelegramWebviewProxy);\n}\n/**\n * Returns true if the app is running in the Telegram browser.\n */\nfunction isInTelegramBrowser() {\n    var _a;\n    const isTelegramWebview = !!((_a = (0, url_1.getWindow)()) === null || _a === void 0 ? void 0 : _a.TelegramWebview);\n    return (isInTMA() || isTelegramWebview) && tmaPlatform === 'unknown';\n}\n/**\n * Expand the app window.\n */\nfunction sendExpand() {\n    postEvent('web_app_expand', {});\n}\n/**\n * Opens link in TMA or in new tab and returns a function that closes the tab.\n * @param link The link to open.\n * @param fallback The function to call if the link can't be opened in TMA.\n */\nfunction sendOpenTelegramLink(link, fallback) {\n    const url = new URL(link);\n    if (url.protocol !== 'http:' && url.protocol !== 'https:') {\n        if (fallback) {\n            return fallback();\n        }\n        throw new protocol_1.OKXConnectError(protocol_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `Url protocol is not supported: ${url}`);\n    }\n    if (url.hostname !== 't.me') {\n        if (fallback) {\n            return fallback();\n        }\n        throw new protocol_1.OKXConnectError(protocol_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `Url host is not supported: ${url}`);\n    }\n    const pathFull = url.pathname + url.search;\n    if (isIframe() || versionAtLeast('6.1')) {\n        postEvent('web_app_open_tg_link', { path_full: pathFull });\n    }\n    else {\n        (0, web_api_1.openLinkBlank)('https://t.me' + pathFull);\n    }\n}\nfunction isIframe() {\n    try {\n        const window = (0, url_1.getWindow)();\n        if (!window) {\n            return false;\n        }\n        return window.parent != null && window !== window.parent;\n    }\n    catch (e) {\n        return false;\n    }\n}\nfunction postEvent(eventType, eventData) {\n    try {\n        const window = (0, url_1.getWindow)();\n        if (!window) {\n            throw new protocol_1.OKXConnectError(protocol_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `Can't post event to parent window: window is not defined`);\n        }\n        if (window.TelegramWebviewProxy !== undefined) {\n            (0, log_1.logDebug)('postEvent', eventType, eventData);\n            window.TelegramWebviewProxy.postEvent(eventType, JSON.stringify(eventData));\n        }\n        else if (window.external && 'notify' in window.external) {\n            (0, log_1.logDebug)('postEvent', eventType, eventData);\n            window.external.notify(JSON.stringify({ eventType: eventType, eventData: eventData }));\n        }\n        else if (isIframe()) {\n            const trustedTarget = '*';\n            const message = JSON.stringify({ eventType: eventType, eventData: eventData });\n            (0, log_1.logDebug)('postEvent', eventType, eventData);\n            window.parent.postMessage(message, trustedTarget);\n        }\n        else {\n            throw new protocol_1.OKXConnectError(protocol_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `Can't post event to TMA`);\n        }\n    }\n    catch (e) {\n        (0, log_1.logError)(`Can't post event to parent window: ${e}`);\n    }\n}\nfunction urlParseHashParams(locationHash) {\n    locationHash = locationHash.replace(/^#/, '');\n    let params = {};\n    if (!locationHash.length) {\n        return params;\n    }\n    if (locationHash.indexOf('=') < 0 && locationHash.indexOf('?') < 0) {\n        params._path = urlSafeDecode(locationHash);\n        return params;\n    }\n    let qIndex = locationHash.indexOf('?');\n    if (qIndex >= 0) {\n        let pathParam = locationHash.substr(0, qIndex);\n        params._path = urlSafeDecode(pathParam);\n        locationHash = locationHash.substr(qIndex + 1);\n    }\n    let query_params = urlParseQueryString(locationHash);\n    for (let k in query_params) {\n        params[k] = query_params[k];\n    }\n    return params;\n}\nfunction urlSafeDecode(urlencoded) {\n    try {\n        urlencoded = urlencoded.replace(/\\+/g, '%20');\n        return decodeURIComponent(urlencoded);\n    }\n    catch (e) {\n        return urlencoded;\n    }\n}\nfunction urlParseQueryString(queryString) {\n    let params = {};\n    if (!queryString.length) {\n        return params;\n    }\n    let queryStringParams = queryString.split('&');\n    let i, param, paramName, paramValue;\n    for (i = 0; i < queryStringParams.length; i++) {\n        param = queryStringParams[i].split('=');\n        paramName = urlSafeDecode(param[0]);\n        paramValue = param[1] == null ? null : urlSafeDecode(param[1]);\n        params[paramName] = paramValue;\n    }\n    return params;\n}\nfunction versionCompare(v1, v2) {\n    if (typeof v1 !== 'string')\n        v1 = '';\n    if (typeof v2 !== 'string')\n        v2 = '';\n    let v1List = v1.replace(/^\\s+|\\s+$/g, '').split('.');\n    let v2List = v2.replace(/^\\s+|\\s+$/g, '').split('.');\n    let a, i, p1, p2;\n    a = Math.max(v1List.length, v2List.length);\n    for (i = 0; i < a; i++) {\n        p1 = parseInt(v1List[i]) || 0;\n        p2 = parseInt(v2List[i]) || 0;\n        if (p1 === p2)\n            continue;\n        if (p1 > p2)\n            return 1;\n        return -1;\n    }\n    return 0;\n}\nfunction versionAtLeast(ver) {\n    return versionCompare(webAppVersion, ver) >= 0;\n}\n","\"use strict\";\nvar _a, _b, _c, _d;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.removeUrlLastSlash = removeUrlLastSlash;\nexports.addPathToUrl = addPathToUrl;\nexports.getUniversalLink = getUniversalLink;\nexports.openOKXDeeplink = openOKXDeeplink;\nexports.openOKXDeeplinkWithFallback = openOKXDeeplinkWithFallback;\nexports.getWindow = getWindow;\nexports.isTelegramUrl = isTelegramUrl;\nexports.encodeTelegramUrlParameters = encodeTelegramUrlParameters;\nexports.encodeConnectParams = encodeConnectParams;\nexports.encodeTWAConnectURLParams = encodeTWAConnectURLParams;\nexports.getAppWalletDeepLink = getAppWalletDeepLink;\nexports.getAppWalletShortDeepLink = getAppWalletShortDeepLink;\nexports.getTelegramWalletTWAUrl = getTelegramWalletTWAUrl;\nexports.openOKXTMAWalletlinkWithFallback = openOKXTMAWalletlinkWithFallback;\nexports.isInTMA = isInTMA;\nexports.isInTelegramBrowser = isInTelegramBrowser;\nconst protocol_1 = require(\"../protocol\");\nconst log_1 = require(\"./log\");\nconst constants_1 = require(\"../protocol/constants\");\nconst utils_1 = require(\"./utils\");\nconst tma_api_1 = require(\"./tma-api\");\nfunction removeUrlLastSlash(url) {\n    if (url.slice(-1) === '/') {\n        return url.slice(0, -1);\n    }\n    return url;\n}\nfunction addPathToUrl(url, path) {\n    return removeUrlLastSlash(url) + '/' + path;\n}\nfunction getUniversalLink(deeplinkUrl) {\n    const deeplinkEncodeUrl = encodeURIComponent(deeplinkUrl);\n    return `${protocol_1.standardUniversalLink}?deeplink=${deeplinkEncodeUrl}`;\n}\nfunction openOKXDeeplink(deeplinkUrl) {\n    var _a;\n    const fullUrl = getUniversalLink(deeplinkUrl);\n    const isTelegram = !!((_a = getWindow()) === null || _a === void 0 ? void 0 : _a.TelegramWebviewProxy);\n    console.log(\"openOKXDeeplink fullUrl:\", fullUrl);\n    if (!(0, utils_1.isIos)()) {\n        let newWindow = null;\n        if (isTelegram) {\n            newWindow = window.open(deeplinkUrl, '_blank');\n        }\n        else {\n            window.location.href = deeplinkUrl;\n        }\n    }\n    else {\n        if (isTelegram) {\n            window.open(fullUrl, '_blank');\n        }\n        else {\n            console.log(\"windowOpen[before]: \", Date.now());\n            if (window === null || window === void 0 ? void 0 : window.okxLogDebug) {\n                window.open(fullUrl, '_blank');\n            }\n            else {\n                window.open(fullUrl, '_self');\n            }\n            console.log(\"windowOpen[after]: \", Date.now());\n        }\n    }\n}\nfunction openOKXDeeplinkWithFallback(deeplinkUrl) {\n    var _a;\n    const fullUrl = getUniversalLink(deeplinkUrl);\n    const isTelegram = !!((_a = getWindow()) === null || _a === void 0 ? void 0 : _a.TelegramWebviewProxy);\n    console.log(\"openOKXDeeplinkWithFallback fullUrl:\", fullUrl);\n    let deepLinkOpened = false;\n    const timeoutDuration = 3000; // 1.5秒的等待时间\n    const downloadUrl = protocol_1.standardUniversalLink;\n    if (!(0, utils_1.isIos)()) {\n        let newWindow = null;\n        var fallbackToDownloadPage = () => {\n            if (!deepLinkOpened) {\n                if (newWindow) {\n                    newWindow.open(downloadUrl, '_self');\n                }\n                else {\n                    window.open(downloadUrl, '_blank');\n                }\n            }\n        };\n        if (isTelegram) {\n            newWindow = window.open(deeplinkUrl, '_blank');\n        }\n        else {\n            window.location.href = deeplinkUrl;\n        }\n        setTimeout(fallbackToDownloadPage, timeoutDuration);\n        window.addEventListener('blur', () => {\n            deepLinkOpened = true;\n        }, { once: true });\n        document.addEventListener('visibilitychange', () => {\n            if (document.visibilityState === 'hidden') {\n                deepLinkOpened = true;\n            }\n        });\n    }\n    else {\n        if (isTelegram) {\n            window.open(fullUrl, '_blank');\n        }\n        else {\n            console.log(\"windowOpen[before]: \", Date.now());\n            if (window === null || window === void 0 ? void 0 : window.okxLogDebug) {\n                window.open(fullUrl, '_blank');\n            }\n            else {\n                window.open(fullUrl, '_self');\n            }\n            console.log(\"windowOpen[after]: \", Date.now());\n        }\n    }\n}\nfunction getWindow() {\n    if (typeof window !== 'undefined') {\n        return window;\n    }\n    return undefined;\n}\nfunction isTelegramUrl(link) {\n    if (!link) {\n        return false;\n    }\n    const url = new URL(link);\n    return url.protocol === 'tg:' || url.hostname === 't.me';\n}\nfunction encodeTelegramUrlParameters(parameters) {\n    let encodedParameters = parameters;\n    encodedParameters = encodedParameters.replace(/\\./g, '%2E');\n    encodedParameters = encodedParameters.replace(/-/g, '%2D');\n    encodedParameters = encodedParameters.replace(/_/g, '%5F');\n    encodedParameters = encodedParameters.replace(/&/g, '-');\n    encodedParameters = encodedParameters.replace(/=/g, '__');\n    encodedParameters = encodedParameters.replace(/%/g, '--');\n    return encodedParameters;\n}\nfunction encodeConnectParams(connectRequest) {\n    const connectRequestStr = JSON.stringify(connectRequest);\n    (0, log_1.logDebug)(\"url encodeConnectParams connectRequestStr \", connectRequestStr);\n    const utf8Array = new TextEncoder().encode(connectRequestStr);\n    const base64Encoded = btoa(String.fromCharCode(...utf8Array));\n    // .replace(/\\+/g, '-')\n    // .replace(/\\//g, '_')\n    // .replace(/=+$/, ''); //Compatible with older versions of iOS. Cannot be added directly  (Base64 URL Safe)\n    (0, log_1.logDebug)(\"url encodeConnectParams base64Encoded \", base64Encoded);\n    return base64Encoded;\n}\nfunction encodeTWAConnectURLParams(connectRequest) {\n    const connectRequestStr = JSON.stringify({ topic: connectRequest.topic, clientId: connectRequest.clientId });\n    (0, log_1.logDebug)(\"url encodeConnectParams connectRequestStr\", connectRequestStr);\n    const utf8Array = new TextEncoder().encode(connectRequestStr);\n    const base64Encoded = btoa(String.fromCharCode(...utf8Array));\n    return base64Encoded;\n}\nfunction getAppWalletDeepLink(connectParam) {\n    return `${protocol_1.standardDeeplink}?param=${connectParam}`;\n}\nfunction getAppWalletShortDeepLink(topic, clientId) {\n    return `${constants_1.shortUniversalLink}?topic=${topic}${(0, utils_1.getLastSixMd5Hash)(clientId)}`;\n}\n//  make telegram okx wallet TWA url\nfunction getTelegramWalletTWAUrl(connectParam, redirectStr, browserDebug = false) {\n    let base64Content = { okxconnect: \"\", redirect: \"\", extraparams: \"\" };\n    if (connectParam) {\n        base64Content.okxconnect = connectParam;\n    }\n    if (redirectStr) {\n        base64Content.redirect = redirectStr;\n    }\n    let base64ContentStr = JSON.stringify(base64Content);\n    const utf8Array = new TextEncoder().encode(base64ContentStr);\n    const base64Encoded = btoa(String.fromCharCode(...utf8Array));\n    (0, log_1.logDebug)('[TWA] open link:', base64Content, base64Encoded);\n    if (connectParam || redirectStr) {\n        if (browserDebug) {\n            return `http://localhost:5173?tgWebAppStartParam=${base64Encoded}`;\n        }\n        else {\n            return `https://t.me/${constants_1.tgwalletName}/start?startapp=${base64Encoded}`;\n        }\n    }\n    if (browserDebug) {\n        return \"http://localhost:5173\";\n    }\n    else {\n        return `https://t.me/${constants_1.tgwalletName}/start`;\n    }\n}\n//  open TWA url in telegram\nfunction openOKXTMAWalletlinkWithFallback(twaDeepLink) {\n    var _a, _b, _c, _d, _e;\n    (0, log_1.logDebug)('[TWA] open link:', twaDeepLink, \"isInTMA ==> \", isInTMA());\n    if (!isInTMA()) {\n        window.open(twaDeepLink, '_blank');\n    }\n    else {\n        if ((_b = (_a = getWindow()) === null || _a === void 0 ? void 0 : _a.Telegram) === null || _b === void 0 ? void 0 : _b.WebApp) {\n            (_e = (_d = (_c = getWindow()) === null || _c === void 0 ? void 0 : _c.Telegram) === null || _d === void 0 ? void 0 : _d.WebApp) === null || _e === void 0 ? void 0 : _e.openTelegramLink(twaDeepLink);\n        }\n        else {\n            (0, tma_api_1.sendOpenTelegramLink)(twaDeepLink);\n        }\n    }\n}\n/**\n * Returns true if the app is running in TMA.\n */\nfunction urlSafeDecode(urlencoded) {\n    try {\n        urlencoded = urlencoded.replace(/\\+/g, '%20');\n        return decodeURIComponent(urlencoded);\n    }\n    catch (e) {\n        return urlencoded;\n    }\n}\nfunction urlParseQueryString(queryString) {\n    let params = {};\n    if (!queryString.length) {\n        return params;\n    }\n    let queryStringParams = queryString.split('&');\n    let i, param, paramName, paramValue;\n    for (i = 0; i < queryStringParams.length; i++) {\n        param = queryStringParams[i].split('=');\n        paramName = urlSafeDecode(param[0]);\n        paramValue = param[1] == null ? null : urlSafeDecode(param[1]);\n        params[paramName] = paramValue;\n    }\n    return params;\n}\nfunction urlParseHashParams(locationHash) {\n    locationHash = locationHash.replace(/^#/, '');\n    let params = {};\n    if (!locationHash.length) {\n        return params;\n    }\n    if (locationHash.indexOf('=') < 0 && locationHash.indexOf('?') < 0) {\n        params._path = urlSafeDecode(locationHash);\n        return params;\n    }\n    let qIndex = locationHash.indexOf('?');\n    if (qIndex >= 0) {\n        let pathParam = locationHash.substr(0, qIndex);\n        params._path = urlSafeDecode(pathParam);\n        locationHash = locationHash.substr(qIndex + 1);\n    }\n    let query_params = urlParseQueryString(locationHash);\n    for (let k in query_params) {\n        params[k] = query_params[k];\n    }\n    return params;\n}\nlet initParams = {};\ntry {\n    let locationHash = location.hash.toString();\n    initParams = urlParseHashParams(locationHash);\n}\ncatch (e) { }\nlet tmaPlatform = 'unknown';\nif (initParams === null || initParams === void 0 ? void 0 : initParams.tgWebAppPlatform) {\n    tmaPlatform = (_a = initParams.tgWebAppPlatform) !== null && _a !== void 0 ? _a : 'unknown';\n}\nif (tmaPlatform === 'unknown') {\n    const window = getWindow();\n    tmaPlatform = (_d = (_c = (_b = window === null || window === void 0 ? void 0 : window.Telegram) === null || _b === void 0 ? void 0 : _b.WebApp) === null || _c === void 0 ? void 0 : _c.platform) !== null && _d !== void 0 ? _d : 'unknown';\n}\nfunction isInTMA() {\n    var _a;\n    return tmaPlatform !== 'unknown' || !!((_a = getWindow()) === null || _a === void 0 ? void 0 : _a.TelegramWebviewProxy);\n}\n/**\n * Returns true if the app is running in the Telegram browser.\n */\nfunction isInTelegramBrowser() {\n    var _a;\n    const isTelegramWebview = !!((_a = getWindow()) === null || _a === void 0 ? void 0 : _a.TelegramWebview);\n    return (isInTMA() || isTelegramWebview) && tmaPlatform === 'unknown';\n}\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isValidObject = exports.RANDOM_LENGTH = exports.isBrowser = exports.resolveLocalStorage = exports.hasLocalStorage = exports.hasBuiltInWebSocket = exports.resolveWebSocketImplementation = void 0;\nexports.hexToByteArray = hexToByteArray;\nexports.toHexString = toHexString;\nexports.concatUint8Arrays = concatUint8Arrays;\nexports.splitToUint8Arrays = splitToUint8Arrays;\nexports.base64encode = base64encode;\nexports.base64decode = base64decode;\nexports.checkWSUrl = checkWSUrl;\nexports.hashKey = hashKey;\nexports.generateRandomBytes32 = generateRandomBytes32;\nexports.generateTopic = generateTopic;\nexports.isIos = isIos;\nexports.getLastSixMd5Hash = getLastSixMd5Hash;\nconst tweetnacl_1 = __importDefault(require(\"tweetnacl\"));\nconst tweetnacl_util_1 = __importDefault(require(\"tweetnacl-util\"));\nconst to_string_1 = require(\"uint8arrays/to-string\");\nconst sha256_1 = require(\"@stablelib/sha256\");\nconst safejson_1 = require(\"./safejson\");\nconst log_1 = require(\"./log\");\nconst stringUtils_1 = require(\"../utils/stringUtils\");\nconst crypto_js_1 = __importDefault(require(\"crypto-js\"));\nconst BASE16 = \"base16\";\nfunction hexToByteArray(hexString) {\n    if (hexString.length % 2 !== 0) {\n        throw new Error(`Cannot convert ${hexString} to bytesArray`);\n    }\n    const result = new Uint8Array(hexString.length / 2);\n    for (let i = 0; i < hexString.length; i += 2) {\n        result[i / 2] = parseInt(hexString.slice(i, i + 2), 16);\n    }\n    return result;\n}\nfunction toHexString(byteArray) {\n    let hexString = '';\n    byteArray.forEach(byte => {\n        hexString += ('0' + (byte & 0xff).toString(16)).slice(-2);\n    });\n    return hexString;\n}\nfunction concatUint8Arrays(buffer1, buffer2) {\n    const mergedArray = new Uint8Array(buffer1.length + buffer2.length);\n    mergedArray.set(buffer1);\n    mergedArray.set(buffer2, buffer1.length);\n    return mergedArray;\n}\nfunction splitToUint8Arrays(array, index) {\n    if (index >= array.length) {\n        throw new Error('Index is out of buffer');\n    }\n    const subArray1 = array.slice(0, index);\n    const subArray2 = array.slice(index);\n    return [subArray1, subArray2];\n}\nfunction encodeUint8Array(value, urlSafe) {\n    const encoded = tweetnacl_util_1.default.encodeBase64(value);\n    if (!urlSafe) {\n        return encoded;\n    }\n    return encodeURIComponent(encoded);\n}\nfunction decodeToUint8Array(value, urlSafe) {\n    if (urlSafe) {\n        value = decodeURIComponent(value);\n    }\n    return tweetnacl_util_1.default.decodeBase64(value);\n}\nfunction base64encode(value, urlSafe) {\n    let uint8Array;\n    if (value instanceof Uint8Array) {\n        uint8Array = value;\n    }\n    else {\n        if (typeof value !== 'string') {\n            value = (0, safejson_1.safeJsonStringify)(value);\n        }\n        uint8Array = tweetnacl_util_1.default.decodeUTF8(value);\n    }\n    return encodeUint8Array(uint8Array, urlSafe);\n}\nfunction base64decode(value, urlSafe) {\n    const decodedUint8Array = decodeToUint8Array(value, urlSafe);\n    return {\n        toString() {\n            return tweetnacl_util_1.default.encodeUTF8(decodedUint8Array);\n        },\n        toObject() {\n            try {\n                return (0, safejson_1.safeJsonParse)(tweetnacl_util_1.default.encodeUTF8(decodedUint8Array));\n            }\n            catch (e) {\n                return null;\n            }\n        },\n        toUint8Array() {\n            return decodedUint8Array;\n        }\n    };\n}\nfunction checkWSUrl(url) {\n    const match = url.match(new RegExp(/^\\w+:/, \"gi\"));\n    if (!match || !match.length) {\n        return false;\n    }\n    let scheme = match[0];\n    if (scheme === undefined) {\n        return false;\n    }\n    return new RegExp(\"^wss?:\").test(scheme);\n}\nconst resolveWebSocketImplementation = () => {\n    if (typeof WebSocket !== \"undefined\") {\n        return WebSocket;\n    }\n    else if (typeof global !== \"undefined\" && typeof global.WebSocket !== \"undefined\") {\n        return global.WebSocket;\n    }\n    else if (typeof window !== \"undefined\" && typeof window.WebSocket !== \"undefined\") {\n        return window.WebSocket;\n    }\n    else if (typeof self !== \"undefined\" && typeof self.WebSocket !== \"undefined\") {\n        return self.WebSocket;\n    }\n    return WebSocket;\n    //\n    // return require(\"ws\");\n};\nexports.resolveWebSocketImplementation = resolveWebSocketImplementation;\nconst hasBuiltInWebSocket = () => typeof WebSocket !== \"undefined\" ||\n    (typeof global !== \"undefined\" && typeof global.WebSocket !== \"undefined\") ||\n    (typeof window !== \"undefined\" && typeof window.WebSocket !== \"undefined\") ||\n    (typeof self !== \"undefined\" && typeof self.WebSocket !== \"undefined\");\nexports.hasBuiltInWebSocket = hasBuiltInWebSocket;\nconst hasLocalStorage = () => (typeof global !== \"undefined\" && (typeof global.localStorage !== \"undefined\")) ||\n    (typeof window !== \"undefined\" && typeof window.localStorage !== \"undefined\");\nexports.hasLocalStorage = hasLocalStorage;\nconst resolveLocalStorage = () => {\n    if (typeof global !== \"undefined\" && typeof global.localStorage !== \"undefined\") {\n        return global.localStorage;\n    }\n    else if (typeof window !== \"undefined\" && typeof window.localStorage !== \"undefined\") {\n        return window.localStorage;\n    }\n    return localStorage;\n};\nexports.resolveLocalStorage = resolveLocalStorage;\nconst isBrowser = () => typeof window !== \"undefined\";\nexports.isBrowser = isBrowser;\nexports.RANDOM_LENGTH = 32;\nfunction hashKey(key, encode = BASE16) {\n    (0, log_1.logDebug)(`hash key called ${key}`);\n    const result = (0, sha256_1.hash)((0, stringUtils_1.okxfromString)(key, encode));\n    return (0, to_string_1.toString)(result, encode);\n}\nfunction generateRandomBytes32() {\n    return tweetnacl_1.default.randomBytes(exports.RANDOM_LENGTH);\n}\nfunction generateTopic() {\n    let randomBytes32 = generateRandomBytes32();\n    (0, log_1.logDebug)(`generate topic called ${randomBytes32}`);\n    return hashKey((0, to_string_1.toString)(randomBytes32, BASE16));\n}\nconst isValidObject = (obj) => Object.getPrototypeOf(obj) === Object.prototype && Object.keys(obj).length;\nexports.isValidObject = isValidObject;\nfunction isIos() {\n    const userAgent = navigator.userAgent;\n    const maxTouchPoints = navigator.maxTouchPoints || 0;\n    // 检测 iPhone、iPod 和传统的 iPad\n    const isIOSDevice = /iPad|iPhone|iPod/.test(userAgent) && !window.MSStream;\n    // 针对 iPadOS 13 及以上的设备进行额外判断\n    const isIPadOS = (userAgent.includes('Mac') && maxTouchPoints > 1);\n    (0, log_1.logDebug)(`utils isIos >>>isIOSDevice: ${isIOSDevice}    >> isIPadOS: ${isIPadOS}`);\n    // 如果是 iOS 设备或者是 iPadOS 设备，返回 true\n    return isIOSDevice || isIPadOS;\n}\nfunction getLastSixMd5Hash(input) {\n    // 生成 MD5 哈希\n    const hash = crypto_js_1.default.MD5(input).toString();\n    // 获取最后六位\n    return hash.slice(-6);\n}\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.openLink = openLink;\nexports.openLinkBlank = openLinkBlank;\nexports.openDeeplinkWithFallback = openDeeplinkWithFallback;\nexports.isMobileUserAgent = isMobileUserAgent;\nexports.getUserAgent = getUserAgent;\nexports.isOS = isOS;\nexports.isBrowser = isBrowser;\nconst ua_parser_js_1 = __importDefault(require(\"ua-parser-js\"));\nconst log_1 = require(\"./log\");\nfunction openLink(href, target = '_self') {\n    (0, log_1.logDebug)('openLink', href, target);\n    window.open(href, target, 'noopener noreferrer');\n}\nfunction openLinkBlank(href) {\n    openLink(href, '_blank');\n}\nfunction openDeeplinkWithFallback(href, fallback) {\n    const doFallback = () => {\n        if (isBrowser('safari') || (isOS('android') && isBrowser('firefox'))) {\n            // Safari does not support fallback to direct link.\n            return;\n        }\n        fallback();\n    };\n    const fallbackTimeout = setTimeout(() => doFallback(), 500);\n    window.addEventListener('blur', () => clearTimeout(fallbackTimeout), { once: true });\n    openLink(href, '_self');\n}\nfunction isMobileUserAgent() {\n    let check = false;\n    (function (a) {\n        if (/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(a) ||\n            /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(a.slice(0, 4)))\n            check = true;\n    })(navigator.userAgent ||\n        navigator.vendor ||\n        window.opera);\n    return check;\n}\nfunction getUserAgent() {\n    var _a, _b, _c;\n    const results = new ua_parser_js_1.default().getResult();\n    const osName = (_a = results.os.name) === null || _a === void 0 ? void 0 : _a.toLowerCase();\n    const deviceModel = (_b = results.device.model) === null || _b === void 0 ? void 0 : _b.toLowerCase();\n    let os;\n    switch (true) {\n        case deviceModel === 'ipad':\n            os = 'ipad';\n            break;\n        case osName === 'ios':\n            os = 'ios';\n            break;\n        case osName === 'android':\n            os = 'android';\n            break;\n        case osName === 'mac os':\n            os = 'macos';\n            break;\n        case osName === 'linux':\n            os = 'linux';\n            break;\n        case osName === null || osName === void 0 ? void 0 : osName.includes('windows'):\n            os = 'windows';\n            break;\n    }\n    const browserName = (_c = results.browser.name) === null || _c === void 0 ? void 0 : _c.toLowerCase();\n    let browser;\n    switch (true) {\n        case browserName === 'chrome':\n            browser = 'chrome';\n            break;\n        case browserName === 'firefox':\n            browser = 'firefox';\n            break;\n        case browserName === null || browserName === void 0 ? void 0 : browserName.includes('safari'):\n            browser = 'safari';\n            break;\n        case browserName === null || browserName === void 0 ? void 0 : browserName.includes('opera'):\n            browser = 'opera';\n            break;\n    }\n    return {\n        os,\n        browser\n    };\n}\nfunction isOS(...os) {\n    return os.includes(getUserAgent().os);\n}\nfunction isBrowser(...browser) {\n    return browser.includes(getUserAgent().browser);\n}\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.toUserFriendlyAddress = exports.removeUrlLastSlash = exports.addPathToUrl = exports.createVersionInfo = exports.BrowserEventDispatcher = exports.createTransactionSigningFailedEvent = exports.createTransactionSignedEvent = exports.createTransactionSentForSignatureEvent = exports.createDisconnectionEvent = exports.createConnectionStartedEvent = exports.createConnectionRestoringStartedEvent = exports.createConnectionRestoringErrorEvent = exports.createConnectionRestoringCompletedEvent = exports.createConnectionErrorEvent = exports.createConnectionCompletedEvent = exports.createResponseVersionEvent = exports.createRequestVersionEvent = exports.OKX_TON_CONNECTION_AND_TRANSACTION_EVENT = exports.OKXTonConnect = void 0;\nvar okx_connect_ton_1 = require(\"./okx-connect-ton\");\nObject.defineProperty(exports, \"OKXTonConnect\", { enumerable: true, get: function () { return okx_connect_ton_1.OKXTonConnect; } });\n__exportStar(require(\"@okxconnect/core\"), exports);\nvar tracker_1 = require(\"./tracker\");\nObject.defineProperty(exports, \"OKX_TON_CONNECTION_AND_TRANSACTION_EVENT\", { enumerable: true, get: function () { return tracker_1.OKX_TON_CONNECTION_AND_TRANSACTION_EVENT; } });\nObject.defineProperty(exports, \"createRequestVersionEvent\", { enumerable: true, get: function () { return tracker_1.createRequestVersionEvent; } });\nObject.defineProperty(exports, \"createResponseVersionEvent\", { enumerable: true, get: function () { return tracker_1.createResponseVersionEvent; } });\nObject.defineProperty(exports, \"createConnectionCompletedEvent\", { enumerable: true, get: function () { return tracker_1.createConnectionCompletedEvent; } });\nObject.defineProperty(exports, \"createConnectionErrorEvent\", { enumerable: true, get: function () { return tracker_1.createConnectionErrorEvent; } });\nObject.defineProperty(exports, \"createConnectionRestoringCompletedEvent\", { enumerable: true, get: function () { return tracker_1.createConnectionRestoringCompletedEvent; } });\nObject.defineProperty(exports, \"createConnectionRestoringErrorEvent\", { enumerable: true, get: function () { return tracker_1.createConnectionRestoringErrorEvent; } });\nObject.defineProperty(exports, \"createConnectionRestoringStartedEvent\", { enumerable: true, get: function () { return tracker_1.createConnectionRestoringStartedEvent; } });\nObject.defineProperty(exports, \"createConnectionStartedEvent\", { enumerable: true, get: function () { return tracker_1.createConnectionStartedEvent; } });\nObject.defineProperty(exports, \"createDisconnectionEvent\", { enumerable: true, get: function () { return tracker_1.createDisconnectionEvent; } });\nObject.defineProperty(exports, \"createTransactionSentForSignatureEvent\", { enumerable: true, get: function () { return tracker_1.createTransactionSentForSignatureEvent; } });\nObject.defineProperty(exports, \"createTransactionSignedEvent\", { enumerable: true, get: function () { return tracker_1.createTransactionSignedEvent; } });\nObject.defineProperty(exports, \"createTransactionSigningFailedEvent\", { enumerable: true, get: function () { return tracker_1.createTransactionSigningFailedEvent; } });\nObject.defineProperty(exports, \"BrowserEventDispatcher\", { enumerable: true, get: function () { return tracker_1.BrowserEventDispatcher; } });\nObject.defineProperty(exports, \"createVersionInfo\", { enumerable: true, get: function () { return tracker_1.createVersionInfo; } });\nvar utils_1 = require(\"./utils\");\nObject.defineProperty(exports, \"addPathToUrl\", { enumerable: true, get: function () { return utils_1.addPathToUrl; } });\nObject.defineProperty(exports, \"removeUrlLastSlash\", { enumerable: true, get: function () { return utils_1.removeUrlLastSlash; } });\nObject.defineProperty(exports, \"toUserFriendlyAddress\", { enumerable: true, get: function () { return utils_1.toUserFriendlyAddress; } });\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.OKXTonConnectInner = void 0;\nconst bridge_provider_1 = require(\"./provider/bridge/bridge-provider\");\nconst core_1 = require(\"@okxconnect/core\");\nconst feature_support_1 = require(\"./utils/feature-support\");\nconst ton_connect_tracker_1 = require(\"./tracker/ton-connect-tracker\");\nconst send_transaction_parser_1 = require(\"./parsers/send-transaction-parser\");\nconst bridge_connection_storage_1 = require(\"./provider/bridge-connection-storage\");\nconst constants_1 = require(\"./utils/constants\");\nclass OKXTonConnectInner {\n    constructor(options) {\n        this._wallet = null;\n        this.provider = null;\n        this.statusChangeSubscriptions = [];\n        this.statusChangeErrorSubscriptions = [];\n        this.storage = new core_1.Storage(constants_1.OKXCONNECTOR_TON_KEY);\n        this.openUniversalLink = this.provider ? this.provider.openUniversalLink : false;\n        if (!options.metaData) {\n            (0, core_1.logDebug)(\"OKXTonConnect constructor error: options.metaData is nil\");\n            throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, 'dapp metaData can not be null');\n        }\n        (0, core_1.logDebug)(\"OKXTonConnect constructor options:\", JSON.stringify(options));\n        this.dappSettings = {\n            metaData: Object.assign(Object.assign({}, options.metaData), { url: window.location.hostname, origin: window.location.origin }),\n        };\n        this.tracker = new ton_connect_tracker_1.TonConnectTracker({\n            OKXtonConnectSdkVersion: constants_1.OKXtonConnectSdkVersion\n        });\n        this.bridgeConnectionStorage = new bridge_connection_storage_1.BridgeConnectionStorage(this.storage);\n    }\n    /**\n     * Shows if the wallet is connected right now.\n     */\n    get connected() {\n        return this._wallet !== null;\n    }\n    /**\n     * Current connected account or null if no account is connected.\n     */\n    get account() {\n        var _a;\n        return ((_a = this._wallet) === null || _a === void 0 ? void 0 : _a.account) || null;\n    }\n    /**\n     * Current connected wallet or null if no account is connected.\n     */\n    get wallet() {\n        return this._wallet;\n    }\n    set wallet(value) {\n        this._wallet = value;\n        this.statusChangeSubscriptions.forEach(callback => callback(this._wallet));\n    }\n    connect(request) {\n        return __awaiter(this, void 0, void 0, function* () {\n            var _a;\n            (0, core_1.logDebug)('ton-Connect ==>> connect_1 >> request:', request);\n            if (this.connected) {\n                (0, core_1.logError)(\"It's already connected to OKX Wallet, please call disconnect() first\");\n            }\n            yield ((_a = this.provider) === null || _a === void 0 ? void 0 : _a.closeConnection(false, true));\n            if (!this.provider) {\n                this.provider = new bridge_provider_1.BridgeProvider(this.storage);\n            }\n            this.provider.listen(this.walletEventsListener.bind(this));\n            this.tracker.trackConnectionStarted();\n            return yield this.provider.connect(this.createConnectRequest(request), request === null || request === void 0 ? void 0 : request.redirect, request === null || request === void 0 ? void 0 : request.openUniversalLink, request === null || request === void 0 ? void 0 : request.tmaReturnUrl);\n        });\n    }\n    walletEventsListener(e) {\n        (0, core_1.logDebug)('ton-Connect ==>> walletEventsListener_1 >> e:', e);\n        switch (e.event) {\n            case 'connect':\n                this.onWalletConnected(e.payload);\n                break;\n            case 'connect_error':\n                this.onWalletConnectError(e.payload);\n                break;\n            case 'disconnect':\n                this.onWalletDisconnected('wallet');\n        }\n    }\n    onWalletConnected(connectEvent) {\n        (0, core_1.logDebug)('ton-Connect ==>> onWalletConnected_1 >> connectEvent:', connectEvent);\n        const tonAccountItem = connectEvent.items.find(item => item.name === 'ton_addr');\n        const tonProofItem = connectEvent.items.find(item => item.name === 'ton_proof');\n        if (!tonAccountItem) {\n            throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, 'ton_addr connection item was not found');\n        }\n        const wallet = {\n            device: connectEvent.device,\n            provider: this.provider.type,\n            account: {\n                address: tonAccountItem.address,\n                chain: tonAccountItem.network,\n                walletStateInit: tonAccountItem.walletStateInit,\n                publicKey: tonAccountItem.publicKey\n            }\n        };\n        if (tonProofItem) {\n            wallet.connectItems = {\n                tonProof: tonProofItem\n            };\n        }\n        this.wallet = wallet;\n        (0, core_1.logDebug)('ton-Connect ==>> onWalletConnected_2 >> wallet:', wallet);\n        this.tracker.trackConnectionCompleted(wallet);\n    }\n    onWalletConnectError(connectEventError) {\n        var _a;\n        (0, core_1.logDebug)('ton-Connect ==>> onWalletConnectError_1 >> connectEventError:', connectEventError);\n        const error = new core_1.OKXConnectError(connectEventError.code, connectEventError.message);\n        (0, core_1.logDebug)('ton-Connect ==>> onWalletConnectError_1 >> error:', error);\n        this.statusChangeErrorSubscriptions.forEach(errorsHandler => errorsHandler(error));\n        this.tracker.trackConnectionError((_a = connectEventError.message) !== null && _a !== void 0 ? _a : \"\", connectEventError.code);\n    }\n    onWalletDisconnected(scope) {\n        this.tracker.trackDisconnection(this.wallet, scope);\n        this.wallet = null;\n    }\n    disconnect() {\n        return __awaiter(this, void 0, void 0, function* () {\n            var _a;\n            (0, core_1.logDebug)('ton-Connect ==>> disconnect_1');\n            if (!this.connected) {\n                throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR, 'wallet is not connected');\n            }\n            (0, core_1.logDebug)('ton-Connect ==>> disconnect_222');\n            this.onWalletDisconnected('dapp');\n            yield ((_a = this.provider) === null || _a === void 0 ? void 0 : _a.disconnect());\n        });\n    }\n    onStatusChange(callback, errorsHandler) {\n        this.statusChangeSubscriptions.push(callback);\n        if (errorsHandler) {\n            this.statusChangeErrorSubscriptions.push(errorsHandler);\n        }\n        return () => {\n            this.statusChangeSubscriptions = this.statusChangeSubscriptions.filter(item => item !== callback);\n            if (errorsHandler) {\n                this.statusChangeErrorSubscriptions = this.statusChangeErrorSubscriptions.filter(item => item !== errorsHandler);\n            }\n        };\n    }\n    restoreConnection() {\n        return __awaiter(this, void 0, void 0, function* () {\n            var _a;\n            (0, core_1.logDebug)('ton-Connect ==>> restoreConnection_1');\n            this.tracker.trackConnectionRestoringStarted();\n            let provider = null;\n            try {\n                provider = yield bridge_provider_1.BridgeProvider.fromStorage(this.storage);\n            }\n            catch (_b) {\n                this.tracker.trackConnectionRestoringError('Provider is not restored');\n                yield this.bridgeConnectionStorage.removeConnection();\n                provider === null || provider === void 0 ? void 0 : provider.closeConnection();\n                provider = null;\n                return;\n            }\n            if (!provider) {\n                (0, core_1.logError)('Provider is not restored');\n                this.tracker.trackConnectionRestoringError('Provider is not restored');\n                return;\n            }\n            (0, core_1.logDebug)('ton-Connect ==>> restoreConnection_2 ==>> Provider is restored ');\n            (_a = this.provider) === null || _a === void 0 ? void 0 : _a.closeConnection(true, false);\n            this.provider = provider;\n            provider.listen(this.walletEventsListener.bind(this));\n            yield this.provider.restoreConnection();\n            if (this.connected) {\n                this.tracker.trackConnectionRestoringCompleted(this.wallet);\n            }\n            else {\n                this.tracker.trackConnectionRestoringError('Connection restoring failed');\n            }\n        });\n    }\n    sendTransaction(transaction, options) {\n        return __awaiter(this, void 0, void 0, function* () {\n            var _a;\n            (0, core_1.logDebug)('ton-Connect ==>> sendTransaction_1', transaction);\n            this.checkConnection();\n            (0, feature_support_1.checkSendTransactionSupport)(this.wallet.device.features, {\n                requiredMessagesNumber: transaction.messages.length\n            });\n            this.tracker.trackTransactionSentForSignature(this.wallet, transaction);\n            (0, core_1.logDebug)('ton-Connect ==>> sendTransaction_2 ==>> check params');\n            const { validUntil } = transaction, tx = __rest(transaction, [\"validUntil\"]);\n            const from = transaction.from || this.account.address;\n            let network = this.account.chain;\n            (0, core_1.logDebug)('ton-Connect ==>> sendTransaction_2 ==>> await sendRequest', network);\n            if ((0, core_1.isIos)() && !(options === null || options === void 0 ? void 0 : options.doNotOpenWallet)) {\n                (_a = this.provider) === null || _a === void 0 ? void 0 : _a.openOKXWallet();\n            }\n            const response = yield this.provider.sendRequest(send_transaction_parser_1.sendTransactionParser.convertToRpcRequest(Object.assign(Object.assign({}, tx), { valid_until: validUntil, from,\n                network })), {\n                onRequestSent: () => {\n                    var _a, _b;\n                    if (!(0, core_1.isIos)() && !(options === null || options === void 0 ? void 0 : options.doNotOpenWallet)) {\n                        (_a = this.provider) === null || _a === void 0 ? void 0 : _a.openOKXWallet();\n                    }\n                    (_b = options === null || options === void 0 ? void 0 : options.onRequestSent) === null || _b === void 0 ? void 0 : _b.call(options);\n                }\n            });\n            (0, core_1.logDebug)('ton-Connect ==>> sendTransaction_3 ==>>sendRequest response:', response);\n            if (send_transaction_parser_1.sendTransactionParser.isError(response)) {\n                this.tracker.trackTransactionSigningFailed(this.wallet, transaction, response.error.message, response.error.code);\n                throw new core_1.OKXConnectError(response.error.code, response.error.message);\n            }\n            const result = send_transaction_parser_1.sendTransactionParser.convertFromRpcResponse(response);\n            this.tracker.trackTransactionSigned(this.wallet, transaction, result);\n            return result;\n        });\n    }\n    checkConnection() {\n        (0, core_1.logDebug)('ton-Connect ==>> checkConnection');\n        if (!this.connected) {\n            throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR, \"Wallet not connected\");\n        }\n    }\n    createConnectRequest(request) {\n        (0, core_1.logDebug)('ton-Connect ==>> createConnectRequest');\n        const params = {\n            ton_addr: {\n                name: 'ton_addr'\n            }\n        };\n        if (request === null || request === void 0 ? void 0 : request.tonProof) {\n            params.ton_proof = {\n                name: 'ton_proof',\n                payload: request.tonProof\n            };\n        }\n        return {\n            dappInfo: this.dappSettings.metaData,\n            params: params\n        };\n    }\n    static getWallets() {\n        return this.walletsList;\n    }\n}\nexports.OKXTonConnectInner = OKXTonConnectInner;\nOKXTonConnectInner.walletsList = [(0, core_1.creatOKXWalletInfo)()];\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.OKXTonConnect = void 0;\nconst core_1 = require(\"@okxconnect/core\");\nconst okx_connect_ton_inner_1 = require(\"./okx-connect-ton-inner\");\nclass OKXTonConnect {\n    constructor(options) {\n        try {\n            (0, core_1.logDebug)('OKXTonConnect constructor called');\n            if (window && window.okxConnectTonsdkinwindow && window.okxConnectTonsdkinwindow instanceof okx_connect_ton_inner_1.OKXTonConnectInner) {\n                this.tonInner = window.okxConnectTonsdkinwindow;\n                (0, core_1.logDebug)('OKXTonConnect constructor old called');\n            }\n            else {\n                this.tonInner = new okx_connect_ton_inner_1.OKXTonConnectInner(options);\n                (0, core_1.logDebug)('OKXTonConnect constructor new called');\n                if (window) {\n                    window.okxConnectTonsdkinwindow = this.tonInner;\n                }\n            }\n        }\n        catch (error) {\n            throw error;\n        }\n    }\n    /**\n     * Shows if the wallet is connected right now.\n     */\n    get connected() {\n        return this.tonInner.connected;\n    }\n    get openUniversalLink() {\n        return this.tonInner.openUniversalLink;\n    }\n    get provider() {\n        return this.tonInner.provider;\n    }\n    /**\n     * Current connected account or null if no account is connected.\n     */\n    get account() {\n        return this.tonInner.account;\n    }\n    /**\n     * Current connected wallet or null if no account is connected.\n     */\n    get wallet() {\n        return this.tonInner.wallet;\n    }\n    set wallet(value) {\n        this.tonInner.wallet = value;\n    }\n    connect(request) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return this.tonInner.connect(request);\n        });\n    }\n    disconnect() {\n        return __awaiter(this, void 0, void 0, function* () {\n            return this.tonInner.disconnect();\n        });\n    }\n    onStatusChange(callback, errorsHandler) {\n        return this.tonInner.onStatusChange(callback, errorsHandler);\n    }\n    restoreConnection() {\n        return __awaiter(this, void 0, void 0, function* () {\n            return this.tonInner.restoreConnection();\n        });\n    }\n    sendTransaction(transaction, options) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return this.tonInner.sendTransaction(transaction, options);\n        });\n    }\n    static getWallets() {\n        return okx_connect_ton_inner_1.OKXTonConnectInner.getWallets();\n    }\n}\nexports.OKXTonConnect = OKXTonConnect;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.RpcParser = void 0;\nclass RpcParser {\n    isError(response) {\n        return 'error' in response;\n    }\n}\nexports.RpcParser = RpcParser;\n","\"use strict\";\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.sendTransactionParser = void 0;\nconst rpc_parser_1 = require(\"./rpc-parser\");\nclass SendTransactionParser extends rpc_parser_1.RpcParser {\n    convertToRpcRequest(request) {\n        const { redirect } = request, params = __rest(request, [\"redirect\"]);\n        return {\n            method: \"ton_sendTransaction\",\n            redirect: redirect,\n            params: params,\n        };\n    }\n    convertFromRpcResponse(rpcResponse) {\n        return {\n            boc: rpcResponse.result.toString()\n        };\n    }\n}\nexports.sendTransactionParser = new SendTransactionParser();\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BridgeConnectionStorage = void 0;\nconst core_1 = require(\"@okxconnect/core\");\nclass BridgeConnectionStorage {\n    constructor(storage) {\n        this.storage = storage;\n        this.storeKey = 'ton_connect_info_adapter_universal';\n    }\n    storeConnection(connection) {\n        return __awaiter(this, void 0, void 0, function* () {\n            (0, core_1.logDebug)(\"BridgeConnectionStorage ==>> storeConnection ==>> connection:\", connection);\n            return this.storage.saveContent(JSON.stringify(connection), this.storeKey);\n        });\n    }\n    removeConnection() {\n        return __awaiter(this, void 0, void 0, function* () {\n            (0, core_1.logDebug)(\"BridgeConnectionStorage ==>> removeConnection\");\n            return this.storage.clearCache(this.storeKey);\n        });\n    }\n    getConnection() {\n        return __awaiter(this, void 0, void 0, function* () {\n            const stored = this.storage.getItem(this.storeKey);\n            (0, core_1.logDebug)(\"BridgeConnectionStorage ==>> getConnection ==>>this.storage: \", this.storage);\n            if (!stored || !(stored === null || stored === void 0 ? void 0 : stored.content)) {\n                return null;\n            }\n            try {\n                const content = stored === null || stored === void 0 ? void 0 : stored.content;\n                if (content) {\n                    let connection;\n                    connection = JSON.parse(content);\n                    (0, core_1.logDebug)(\"BridgeConnectionStorage ==>> getConnection ==>>connection: \", connection);\n                    return connection;\n                }\n                else {\n                    return null;\n                }\n            }\n            catch (error) {\n                return null;\n            }\n        });\n    }\n    getHttpConnection() {\n        return __awaiter(this, void 0, void 0, function* () {\n            const connection = yield this.getConnection();\n            if (!connection) {\n                throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, 'Trying to read HTTP connection source while nothing is stored');\n            }\n            return connection;\n        });\n    }\n    storeLastWalletEventId(id) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const connection = yield this.getConnection();\n            if (connection && ('connectEvent' in connection)) {\n                connection.lastWalletEventId = id;\n                return this.storeConnection(connection);\n            }\n        });\n    }\n    getLastWalletEventId() {\n        return __awaiter(this, void 0, void 0, function* () {\n            const connection = yield this.getConnection();\n            if (connection && 'lastWalletEventId' in connection) {\n                return connection.lastWalletEventId;\n            }\n            return undefined;\n        });\n    }\n}\nexports.BridgeConnectionStorage = BridgeConnectionStorage;\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BridgeProvider = void 0;\nconst bridge_connection_1 = require(\"./models/bridge-connection\");\nconst core_1 = require(\"@okxconnect/core\");\nconst bridge_connection_storage_1 = require(\"../bridge-connection-storage\");\nconst constants_1 = require(\"../../utils/constants\");\nconst ton_connect_tracker_1 = require(\"../../tracker/ton-connect-tracker\");\nclass BridgeProvider {\n    constructor(storage) {\n        this.storage = storage;\n        this.type = 'http';\n        this.listeners = [];\n        this.connectManager = new core_1.ConnectionManager();\n        this.walletConnectionSource = { \"universalLink\": core_1.standardUniversalLink };\n        this.engine = new core_1.Engine(this.connectManager);\n        this.openUniversalLink = false;\n        this.connectionStorage = new bridge_connection_storage_1.BridgeConnectionStorage(storage);\n        this.tracker = new ton_connect_tracker_1.TonConnectTracker({\n            OKXtonConnectSdkVersion: constants_1.OKXtonConnectSdkVersion\n        });\n    }\n    static fromStorage(storage) {\n        return __awaiter(this, void 0, void 0, function* () {\n            (0, core_1.logDebug)('bridge-provider ==>> fromStorage ==>>storage:', storage);\n            const bridgeConnectionStorage = new bridge_connection_storage_1.BridgeConnectionStorage(storage);\n            const connection = yield bridgeConnectionStorage.getHttpConnection();\n            if ((0, bridge_connection_1.isPendingConnectionHttp)(connection)) {\n                return null;\n            }\n            const provider = new BridgeProvider(storage);\n            provider.openUniversalLink = connection.openUniversalLink;\n            return provider;\n        });\n    }\n    connect(message, redirect, openUniversalLink, tmaReturnUrl) {\n        return __awaiter(this, void 0, void 0, function* () {\n            (0, core_1.logDebug)('bridge-provider ==>> connect_1 ==>>message:', message);\n            (0, core_1.logDebug)('bridge-provider ==>> connect_1 ==>>redirect:', redirect);\n            (0, core_1.logDebug)('bridge-provider ==>> connect_1 ==>>openUniversalLink:', openUniversalLink);\n            (0, core_1.logDebug)('bridge-provider ==>> connect_1 ==>>tmaReturnUrl:', tmaReturnUrl);\n            return new Promise((resolve, reject) => {\n                try {\n                    this.openUniversalLink = openUniversalLink;\n                    if (this.openUniversalLink === undefined) {\n                        this.openUniversalLink = (0, core_1.isMobileUserAgent)();\n                    }\n                    let tonNameSpace = {\n                        namespace: \"ton\",\n                        chains: [\"ton:-239\"],\n                        params: message.params,\n                    };\n                    let tonRequest = {\n                        name: \"requestAccounts\",\n                        requiredNamespaces: [tonNameSpace]\n                    };\n                    let engineRequest = [];\n                    // Easy to identify tonsdk\n                    if (message.params.ton_addr) {\n                        engineRequest.push(message.params.ton_addr);\n                    }\n                    if (message.params.ton_proof) {\n                        engineRequest.push(message.params.ton_proof);\n                    }\n                    engineRequest.push(tonRequest); //Universal data\n                    let config = {\n                        dappInfo: message.dappInfo,\n                        openUniversalUrl: this.openUniversalLink,\n                        redirect: redirect,\n                        tmaReturnUrl: tmaReturnUrl,\n                    };\n                    this.engine.universalConnect(engineRequest, config, (info) => {\n                        (0, core_1.logDebug)(`bridge-provider: connect: info>>>> ${JSON.stringify(info)}`);\n                        try {\n                            if (!info.tonConnectRequest) {\n                                throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, 'universalConnect connectInfoAndUrl info.tonConnectRequest is nil');\n                            }\n                            const base64Encoded = (0, core_1.encodeConnectParams)(info.tonConnectRequest);\n                            const deepLink = (0, core_1.getAppWalletDeepLink)(base64Encoded);\n                            const universalUrl = (0, core_1.getUniversalLink)(deepLink);\n                            this.tracker.trackConnectionInfoBeforeJump(info);\n                            resolve(universalUrl);\n                        }\n                        catch (error) {\n                            reject(error);\n                        }\n                    }).then((session) => {\n                        (0, core_1.logDebug)(`bridge-provider: connect: success>>>> ${JSON.stringify(session)}`);\n                        this.connectSuccessHandle(session);\n                    }).catch((e) => {\n                        (0, core_1.logDebug)(`bridge-provider: connect: catch>>>> ${JSON.stringify(e)}`);\n                        const errorMessage = {\n                            event: 'connect_error',\n                            requestId: Number(Date.now()),\n                            payload: {\n                                code: e.code,\n                                message: e.message,\n                            },\n                        };\n                        (0, core_1.logDebug)('bridge-provider ==>> connectListener_4 ==>>connect_error:', errorMessage);\n                        this.listeners.forEach(listener => listener(errorMessage));\n                        reject(e);\n                    });\n                }\n                catch (error) {\n                    console.error('bridge-provider connect try catch error:>>>', JSON.stringify(error));\n                    reject(error);\n                }\n            });\n        });\n    }\n    listen(callback) {\n        this.listeners.push(callback);\n        return () => (this.listeners = this.listeners.filter(listener => listener !== callback));\n    }\n    disconnectListener() {\n        return __awaiter(this, void 0, void 0, function* () {\n            (0, core_1.logDebug)('bridge-provider ==>> disconnectListener');\n            const disconnectMessage = {\n                event: 'disconnect',\n                requestId: Number(1),\n                payload: {},\n            };\n            this.listeners.forEach(listener => listener(disconnectMessage));\n            yield this.closeConnection();\n        });\n    }\n    connectSuccessHandle(response) {\n        return __awaiter(this, void 0, void 0, function* () {\n            var _a, _b;\n            try {\n                const namespaces = (_a = response.namespaces) === null || _a === void 0 ? void 0 : _a[\"ton\"];\n                const payload = namespaces.payload;\n                const wallet = response.wallet;\n                if (!namespaces || !payload || !wallet || !payload.ton_addr) {\n                    throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR);\n                }\n                const ton_addr = payload.ton_addr;\n                const sessionConfig = response.sessionConfig;\n                let itemArr = [];\n                if (payload.ton_addr) {\n                    itemArr.push(payload.ton_addr);\n                }\n                if (payload.ton_proof) {\n                    itemArr.push(payload.ton_proof);\n                }\n                const tonDeviceInfo = {\n                    platform: wallet.platform,\n                    appName: wallet.appName,\n                    appVersion: wallet.appVersion,\n                    maxProtocolVersion: wallet.maxProtocolVersion,\n                    features: ['ton_sendTransaction'],\n                };\n                const tonConnectInfo = {\n                    type: 'http',\n                    lastWalletEventId: Number(Date.now()),\n                    connectEvent: {\n                        event: 'connect',\n                        payload: {\n                            items: itemArr,\n                            device: tonDeviceInfo,\n                        },\n                    },\n                    connectionSource: this.walletConnectionSource,\n                    channelId: response.topic,\n                    openUniversalLink: sessionConfig === null || sessionConfig === void 0 ? void 0 : sessionConfig.openUniversalUrl,\n                };\n                (0, core_1.logDebug)('bridge-provider ==>> connectSuccessHandle_2 ==>>storeConnection:', tonConnectInfo);\n                yield this.connectionStorage.storeConnection(tonConnectInfo);\n                (_b = this.engine) === null || _b === void 0 ? void 0 : _b.addDisconnectListener(this.disconnectListener.bind(this));\n                const successMessage = {\n                    event: 'connect',\n                    requestId: tonConnectInfo.lastWalletEventId,\n                    payload: tonConnectInfo.connectEvent.payload,\n                };\n                (0, core_1.logDebug)('bridge-provider ==>> connectSuccessHandle_3 ==>>listeners.forEach:', successMessage);\n                this.listeners.forEach(listener => listener(successMessage));\n            }\n            catch (error) {\n                (0, core_1.logDebug)('bridge-provider ==>> connectSuccessHandle_4 ==>>error:', error);\n                const errorMessage = {\n                    event: 'connect_error',\n                    requestId: Number(Date.now()),\n                    payload: {\n                        code: core_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,\n                        message: \"Connect success  connectSuccessHandle response error\",\n                    },\n                };\n                (0, core_1.logDebug)('bridge-provider ==>> connectSuccessHandle_4 ==>>connect_error:', errorMessage);\n                this.listeners.forEach(listener => listener(errorMessage));\n            }\n        });\n    }\n    closeConnection() {\n        return __awaiter(this, arguments, void 0, function* (fromRestore = false, needOpenUrl = false) {\n            var _a, _b;\n            (0, core_1.logDebug)('bridge-provider ==>> closeConnection ==>>fromRestore:', fromRestore, ' needOpenUrl:', needOpenUrl);\n            this.listeners = [];\n            if (!needOpenUrl) {\n                yield ((_a = this.connectManager) === null || _a === void 0 ? void 0 : _a.disconnect(fromRestore));\n            }\n            if (!fromRestore) {\n                (_b = this.engine) === null || _b === void 0 ? void 0 : _b.disconnect();\n                yield this.connectionStorage.removeConnection();\n            }\n        });\n    }\n    restoreConnection() {\n        return __awaiter(this, void 0, void 0, function* () {\n            var _a;\n            (0, core_1.logDebug)('bridge-provider ==>> restoreConnection_1');\n            const storedConnection = yield this.connectionStorage.getHttpConnection();\n            if (!storedConnection) {\n                return;\n            }\n            if ((0, bridge_connection_1.isPendingConnectionHttp)(storedConnection)) {\n                return;\n            }\n            (0, core_1.logDebug)('bridge-provider ==>> restoreConnection_2 ==>>storedConnection.channelId:', storedConnection.channelId);\n            if (storedConnection.channelId) {\n                try {\n                    const successMessage = {\n                        event: 'connect',\n                        requestId: Number(0),\n                        payload: storedConnection.connectEvent.payload,\n                    };\n                    this.listeners.forEach(listener => listener(successMessage));\n                    const channelId = storedConnection.channelId;\n                    (0, core_1.logDebug)('bridge-provider ==>> restoreConnection_3 ==>>this.connectManager.restoreConnect:', channelId);\n                    (_a = this.engine) === null || _a === void 0 ? void 0 : _a.addDisconnectListener(this.disconnectListener.bind(this));\n                    yield this.connectManager.restoreConnect(channelId);\n                }\n                catch (e) {\n                    (0, core_1.logDebug)('bridge-provider ==>> restoreConnection_4 ==>>closeConnection_1');\n                    yield this.closeConnection();\n                }\n            }\n            else {\n                (0, core_1.logDebug)('bridge-provider ==>> restoreConnection_4 ==>>closeConnection_2');\n                yield this.closeConnection();\n            }\n        });\n    }\n    openOKXWallet() {\n        (0, core_1.logDebug)('bridge-provider ==>> openOKXWallet', this.openUniversalLink);\n        if (this.openUniversalLink) {\n            (0, core_1.openOKXDeeplink)(core_1.standardDeeplink);\n        }\n    }\n    disconnect() {\n        return __awaiter(this, void 0, void 0, function* () {\n            (0, core_1.logDebug)('bridge-provider ==>> disconnect_1');\n            return new Promise((resolve) => __awaiter(this, void 0, void 0, function* () {\n                let called = false;\n                const onRequestSent = () => {\n                    if (!called) {\n                        called = true;\n                        this.closeConnection().then(resolve);\n                    }\n                };\n                try {\n                    yield this.sendRequest({ method: 'disconnect' }, { onRequestSent: onRequestSent, attempts: 1 }, 86400000);\n                }\n                catch (e) {\n                    if (!called) {\n                        this.closeConnection().then(resolve);\n                    }\n                }\n                finally {\n                    onRequestSent();\n                }\n            }));\n        });\n    }\n    sendRequest(request, options, ttl) {\n        (0, core_1.logDebug)('bridge-provider ==>> sendRequest');\n        return new Promise((resolve, reject) => __awaiter(this, void 0, void 0, function* () {\n            var _a;\n            try {\n                yield ((_a = this.engine) === null || _a === void 0 ? void 0 : _a.send(request, {\n                    resolve: function (response) {\n                        resolve(response);\n                    },\n                    onAck: function () {\n                        var _a;\n                        (_a = options === null || options === void 0 ? void 0 : options.onRequestSent) === null || _a === void 0 ? void 0 : _a.call(options);\n                    }\n                }, { attempts: options === null || options === void 0 ? void 0 : options.attempts }, ttl));\n            }\n            catch (e) {\n                reject(e);\n            }\n        }));\n    }\n}\nexports.BridgeProvider = BridgeProvider;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isPendingConnectionHttp = isPendingConnectionHttp;\nfunction isPendingConnectionHttp(connection) {\n    return !('connectEvent' in connection);\n}\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BrowserEventDispatcher = void 0;\n/**\n * A concrete implementation of EventDispatcher that dispatches events to the browser window.\n */\nclass BrowserEventDispatcher {\n    constructor() {\n        /**\n         * The window object, possibly undefined in a server environment.\n         * @private\n         */\n        this.window = window;\n    }\n    /**\n     * Dispatches an event with the given name and details to the browser window.\n     * @param eventName - The name of the event to dispatch.\n     * @param eventDetails - The details of the event to dispatch.\n     * @returns A promise that resolves when the event has been dispatched.\n     */\n    dispatchEvent(eventName, eventDetails) {\n        return __awaiter(this, void 0, void 0, function* () {\n            var _a;\n            const event = new CustomEvent(eventName, { detail: eventDetails });\n            (_a = this.window) === null || _a === void 0 ? void 0 : _a.dispatchEvent(event);\n        });\n    }\n    /**\n     * Adds an event listener to the browser window.\n     * @param eventName - The name of the event to listen for.\n     * @param listener - The listener to add.\n     * @param options - The options for the listener.\n     * @returns A function that removes the listener.\n     */\n    addEventListener(eventName, listener, options) {\n        return __awaiter(this, void 0, void 0, function* () {\n            var _a;\n            (_a = this.window) === null || _a === void 0 ? void 0 : _a.addEventListener(eventName, listener, options);\n            return () => {\n                var _a;\n                return (_a = this.window) === null || _a === void 0 ? void 0 : _a.removeEventListener(eventName, listener);\n            };\n        });\n    }\n}\nexports.BrowserEventDispatcher = BrowserEventDispatcher;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BrowserEventDispatcher = exports.createVersionInfo = exports.createTransactionSigningFailedEvent = exports.createTransactionSignedEvent = exports.createTransactionSentForSignatureEvent = exports.createDisconnectionEvent = exports.createConnectionStartedEvent = exports.createConnectionRestoringStartedEvent = exports.createConnectionRestoringErrorEvent = exports.createConnectionRestoringCompletedEvent = exports.createConnectionErrorEvent = exports.createConnectionCompletedEvent = exports.createResponseVersionEvent = exports.createRequestVersionEvent = exports.OKX_TON_CONNECTION_AND_TRANSACTION_EVENT = void 0;\nvar tracker_constants_1 = require(\"./tracker-constants\");\nObject.defineProperty(exports, \"OKX_TON_CONNECTION_AND_TRANSACTION_EVENT\", { enumerable: true, get: function () { return tracker_constants_1.OKX_TON_CONNECTION_AND_TRANSACTION_EVENT; } });\nvar types_1 = require(\"./types\");\nObject.defineProperty(exports, \"createRequestVersionEvent\", { enumerable: true, get: function () { return types_1.createRequestVersionEvent; } });\nObject.defineProperty(exports, \"createResponseVersionEvent\", { enumerable: true, get: function () { return types_1.createResponseVersionEvent; } });\nObject.defineProperty(exports, \"createConnectionCompletedEvent\", { enumerable: true, get: function () { return types_1.createConnectionCompletedEvent; } });\nObject.defineProperty(exports, \"createConnectionErrorEvent\", { enumerable: true, get: function () { return types_1.createConnectionErrorEvent; } });\nObject.defineProperty(exports, \"createConnectionRestoringCompletedEvent\", { enumerable: true, get: function () { return types_1.createConnectionRestoringCompletedEvent; } });\nObject.defineProperty(exports, \"createConnectionRestoringErrorEvent\", { enumerable: true, get: function () { return types_1.createConnectionRestoringErrorEvent; } });\nObject.defineProperty(exports, \"createConnectionRestoringStartedEvent\", { enumerable: true, get: function () { return types_1.createConnectionRestoringStartedEvent; } });\nObject.defineProperty(exports, \"createConnectionStartedEvent\", { enumerable: true, get: function () { return types_1.createConnectionStartedEvent; } });\nObject.defineProperty(exports, \"createDisconnectionEvent\", { enumerable: true, get: function () { return types_1.createDisconnectionEvent; } });\nObject.defineProperty(exports, \"createTransactionSentForSignatureEvent\", { enumerable: true, get: function () { return types_1.createTransactionSentForSignatureEvent; } });\nObject.defineProperty(exports, \"createTransactionSignedEvent\", { enumerable: true, get: function () { return types_1.createTransactionSignedEvent; } });\nObject.defineProperty(exports, \"createTransactionSigningFailedEvent\", { enumerable: true, get: function () { return types_1.createTransactionSigningFailedEvent; } });\nObject.defineProperty(exports, \"createVersionInfo\", { enumerable: true, get: function () { return types_1.createVersionInfo; } });\nvar browser_event_dispatcher_1 = require(\"./browser-event-dispatcher\");\nObject.defineProperty(exports, \"BrowserEventDispatcher\", { enumerable: true, get: function () { return browser_event_dispatcher_1.BrowserEventDispatcher; } });\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TonConnectTracker = void 0;\nconst types_1 = require(\"./types\");\nconst browser_event_dispatcher_1 = require(\"./browser-event-dispatcher\");\n/**\n * Tracker for TonConnect user actions, such as transaction signing, connection, etc.\n *\n * List of events:\n *  * `connection-started`: when a user starts connecting a wallet.\n *  * `connection-completed`: when a user successfully connected a wallet.\n *  * `connection-error`: when a user cancels a connection or there is an error during the connection process.\n *  * `connection-restoring-started`: when the dApp starts restoring a connection.\n *  * `connection-restoring-completed`: when the dApp successfully restores a connection.\n *  * `connection-restoring-error`: when the dApp fails to restore a connection.\n *  * `disconnection`: when a user starts disconnecting a wallet.\n *  * `transaction-sent-for-signature`: when a user sends a transaction for signature.\n *  * `transaction-signed`: when a user successfully signs a transaction.\n *  * `transaction-signing-failed`: when a user cancels transaction signing or there is an error during the signing process.\n *\n\n *\n * @internal\n */\nclass TonConnectTracker {\n    /**\n     * Version of the library.\n     */\n    get version() {\n        return (0, types_1.createVersionInfo)({\n            okx_ton_connect_sdk_lib: this.OKXtonConnectSdkVersion,\n            okx_connect_ui_lib: this.OKXConnectUiVersion,\n        });\n    }\n    constructor(options) {\n        /**\n         * Event prefix for user actions.\n         * @private\n         */\n        this.eventPrefix = 'okx-ton-connect-';\n        this.OKXConnectUiVersion = null;\n        this.eventDispatcher = new browser_event_dispatcher_1.BrowserEventDispatcher();\n        this.OKXtonConnectSdkVersion = options.OKXtonConnectSdkVersion;\n        this.init().catch();\n    }\n    init() {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                yield this.setRequestVersionHandler();\n                this.OKXConnectUiVersion = yield this.requestTonConnectUiVersion();\n            }\n            catch (e) { }\n        });\n    }\n    /**\n     * Set request version handler.\n     * @private\n     */\n    setRequestVersionHandler() {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield this.eventDispatcher.addEventListener('okx-ton-connect-request-version', () => __awaiter(this, void 0, void 0, function* () {\n                yield this.eventDispatcher.dispatchEvent('okx-ton-connect-response-version', (0, types_1.createResponseVersionEvent)(this.OKXtonConnectSdkVersion));\n            }));\n        });\n    }\n    /**\n     * Request TonConnect UI version.\n     * @private\n     */\n    requestTonConnectUiVersion() {\n        return __awaiter(this, void 0, void 0, function* () {\n            return new Promise((resolve, reject) => __awaiter(this, void 0, void 0, function* () {\n                try {\n                    yield this.eventDispatcher.addEventListener('okx-connect-ui-response-version', (event) => {\n                        resolve(event.detail.version);\n                    }, { once: true });\n                    yield this.eventDispatcher.dispatchEvent('okx-connect-ui-request-version', (0, types_1.createRequestVersionEvent)());\n                }\n                catch (e) {\n                    reject(e);\n                }\n            }));\n        });\n    }\n    /**\n     * Emit user action event to the window.\n     * @param eventDetails\n     * @private\n     */\n    dispatchUserActionEvent(eventDetails) {\n        try {\n            this.eventDispatcher\n                .dispatchEvent(`${this.eventPrefix}${eventDetails.type}`, eventDetails)\n                .catch();\n        }\n        catch (e) { }\n    }\n    /**\n     * Track connection init event.\n     * @param args\n     */\n    trackConnectionStarted(...args) {\n        try {\n            const event = (0, types_1.createConnectionStartedEvent)(this.version, ...args);\n            this.dispatchUserActionEvent(event);\n        }\n        catch (e) { }\n    }\n    /**\n     * Track connection connecting event.\n     * @param args\n     */\n    trackConnectionDeepLink(...args) {\n        try {\n            const event = (0, types_1.createConnectionDeepLinkEvent)(...args);\n            this.dispatchUserActionEvent(event);\n        }\n        catch (e) { }\n    }\n    /**\n     * Track connection success event.\n     * @param args\n     */\n    trackConnectionCompleted(...args) {\n        try {\n            const event = (0, types_1.createConnectionCompletedEvent)(this.version, ...args);\n            this.dispatchUserActionEvent(event);\n        }\n        catch (e) { }\n    }\n    trackConnectionInfoBeforeJump(args) {\n        try {\n            const event = (0, types_1.createConnectionInfoBeforeJumpEvent)(args);\n            this.dispatchUserActionEvent(event);\n        }\n        catch (e) { }\n    }\n    /**\n     * Track connection error event.\n     * @param args\n     */\n    trackConnectionError(...args) {\n        try {\n            const event = (0, types_1.createConnectionErrorEvent)(this.version, ...args);\n            this.dispatchUserActionEvent(event);\n        }\n        catch (e) { }\n    }\n    /**\n     * Track connection restoring init event.\n     * @param args\n     */\n    trackConnectionRestoringStarted(...args) {\n        try {\n            const event = (0, types_1.createConnectionRestoringStartedEvent)(this.version, ...args);\n            this.dispatchUserActionEvent(event);\n        }\n        catch (e) { }\n    }\n    /**\n     * Track connection restoring success event.\n     * @param args\n     */\n    trackConnectionRestoringCompleted(...args) {\n        try {\n            const event = (0, types_1.createConnectionRestoringCompletedEvent)(this.version, ...args);\n            this.dispatchUserActionEvent(event);\n        }\n        catch (e) { }\n    }\n    /**\n     * Track connection restoring error event.\n     * @param args\n     */\n    trackConnectionRestoringError(...args) {\n        try {\n            const event = (0, types_1.createConnectionRestoringErrorEvent)(this.version, ...args);\n            this.dispatchUserActionEvent(event);\n        }\n        catch (e) { }\n    }\n    /**\n     * Track disconnect event.\n     * @param args\n     */\n    trackDisconnection(...args) {\n        try {\n            const event = (0, types_1.createDisconnectionEvent)(this.version, ...args);\n            this.dispatchUserActionEvent(event);\n        }\n        catch (e) { }\n    }\n    /**\n     * Track transaction init event.\n     * @param args\n     */\n    trackTransactionSentForSignature(...args) {\n        try {\n            const event = (0, types_1.createTransactionSentForSignatureEvent)(this.version, ...args);\n            this.dispatchUserActionEvent(event);\n        }\n        catch (e) { }\n    }\n    /**\n     * Track transaction signed event.\n     * @param args\n     */\n    trackTransactionSigned(...args) {\n        try {\n            const event = (0, types_1.createTransactionSignedEvent)(this.version, ...args);\n            this.dispatchUserActionEvent(event);\n        }\n        catch (e) { }\n    }\n    /**\n     * Track transaction error event.\n     * @param args\n     */\n    trackTransactionSigningFailed(...args) {\n        try {\n            const event = (0, types_1.createTransactionSigningFailedEvent)(this.version, ...args);\n            this.dispatchUserActionEvent(event);\n        }\n        catch (e) { }\n    }\n}\nexports.TonConnectTracker = TonConnectTracker;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.OKX_TON_CONNECTION_AND_TRANSACTION_EVENT = void 0;\nvar OKX_TON_CONNECTION_AND_TRANSACTION_EVENT;\n(function (OKX_TON_CONNECTION_AND_TRANSACTION_EVENT) {\n    OKX_TON_CONNECTION_AND_TRANSACTION_EVENT[\"OKX_TON_CONNECTION_STARTED\"] = \"okx-ton-connect-connection-started\";\n    OKX_TON_CONNECTION_AND_TRANSACTION_EVENT[\"OKX_TON_CONNECTION_COMPLETED\"] = \"okx-ton-connect-connection-completed\";\n    OKX_TON_CONNECTION_AND_TRANSACTION_EVENT[\"OKX_TON_CONNECTION_ERROR\"] = \"okx-ton-connect-connection-error\";\n    OKX_TON_CONNECTION_AND_TRANSACTION_EVENT[\"OKX_TON_CONNECTION_RESTORING_STARTED\"] = \"okx-ton-connect-connection-restoring-started\";\n    OKX_TON_CONNECTION_AND_TRANSACTION_EVENT[\"OKX_TON_CONNECTION_RESTORING_COMPLETED\"] = \"okx-ton-connect-connection-restoring-completed\";\n    OKX_TON_CONNECTION_AND_TRANSACTION_EVENT[\"OKX_TON_CONNECTION_RESTORING_ERROR\"] = \"okx-ton-connect-connection-restoring-error\";\n    OKX_TON_CONNECTION_AND_TRANSACTION_EVENT[\"OKX_TON_DISCONNECTION\"] = \"okx-ton-connect-disconnection\";\n    OKX_TON_CONNECTION_AND_TRANSACTION_EVENT[\"OKX_TON_TRANSACTION_SENT_FOR_SIGNATURE\"] = \"okx-ton-connect-transaction-sent-for-signature\";\n    OKX_TON_CONNECTION_AND_TRANSACTION_EVENT[\"OKX_TON_TRANSACTION_SIGNED\"] = \"okx-ton-connect-transaction-signed\";\n    OKX_TON_CONNECTION_AND_TRANSACTION_EVENT[\"OKX_TON_TRANSACTION_SIGNING_FAILED\"] = \"okx-ton-connect-transaction-signing-failed\";\n})(OKX_TON_CONNECTION_AND_TRANSACTION_EVENT || (exports.OKX_TON_CONNECTION_AND_TRANSACTION_EVENT = OKX_TON_CONNECTION_AND_TRANSACTION_EVENT = {}));\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createRequestVersionEvent = createRequestVersionEvent;\nexports.createResponseVersionEvent = createResponseVersionEvent;\nexports.createVersionInfo = createVersionInfo;\nexports.createConnectionStartedEvent = createConnectionStartedEvent;\nexports.createConnectionDeepLinkEvent = createConnectionDeepLinkEvent;\nexports.createConnectionInfoBeforeJumpEvent = createConnectionInfoBeforeJumpEvent;\nexports.createConnectionCompletedEvent = createConnectionCompletedEvent;\nexports.createConnectionErrorEvent = createConnectionErrorEvent;\nexports.createConnectionRestoringStartedEvent = createConnectionRestoringStartedEvent;\nexports.createConnectionRestoringCompletedEvent = createConnectionRestoringCompletedEvent;\nexports.createConnectionRestoringErrorEvent = createConnectionRestoringErrorEvent;\nexports.createTransactionSentForSignatureEvent = createTransactionSentForSignatureEvent;\nexports.createTransactionSignedEvent = createTransactionSignedEvent;\nexports.createTransactionSigningFailedEvent = createTransactionSigningFailedEvent;\nexports.createDisconnectionEvent = createDisconnectionEvent;\n/**\n * Create a request version event.\n */\nfunction createRequestVersionEvent() {\n    return {\n        type: 'request-version'\n    };\n}\n/**\n * Create a response version event.\n * @param version\n */\nfunction createResponseVersionEvent(version) {\n    return {\n        type: 'response-version',\n        version: version\n    };\n}\n/**\n * Create a version info.\n * @param version\n */\nfunction createVersionInfo(version) {\n    return {\n        okx_ton_connect_sdk_lib: version.okx_ton_connect_sdk_lib,\n        okx_connect_ui_lib: version.okx_connect_ui_lib\n    };\n}\nfunction createConnectionInfo(version, wallet) {\n    var _a, _b, _c, _d, _e, _f, _g, _h;\n    const isTonProof = ((_a = wallet === null || wallet === void 0 ? void 0 : wallet.connectItems) === null || _a === void 0 ? void 0 : _a.tonProof) && 'proof' in wallet.connectItems.tonProof;\n    const authType = isTonProof ? 'ton_proof' : 'ton_addr';\n    return {\n        wallet_address: (_c = (_b = wallet === null || wallet === void 0 ? void 0 : wallet.account) === null || _b === void 0 ? void 0 : _b.address) !== null && _c !== void 0 ? _c : null,\n        wallet_type: (_d = wallet === null || wallet === void 0 ? void 0 : wallet.device.appName) !== null && _d !== void 0 ? _d : null,\n        wallet_version: (_e = wallet === null || wallet === void 0 ? void 0 : wallet.device.appVersion) !== null && _e !== void 0 ? _e : null,\n        auth_type: authType,\n        custom_data: Object.assign({ chain_id: (_g = (_f = wallet === null || wallet === void 0 ? void 0 : wallet.account) === null || _f === void 0 ? void 0 : _f.chain) !== null && _g !== void 0 ? _g : null, provider: (_h = wallet === null || wallet === void 0 ? void 0 : wallet.provider) !== null && _h !== void 0 ? _h : null }, createVersionInfo(version))\n    };\n}\n/**\n * Create a connection init event.\n */\nfunction createConnectionStartedEvent(version) {\n    return {\n        type: 'connection-started',\n        custom_data: createVersionInfo(version)\n    };\n}\n/**\n * Create a connection init event.\n */\nfunction createConnectionDeepLinkEvent(deeplinkUrl) {\n    return {\n        type: 'connection-get-deeplink',\n        deeplinkUrl: deeplinkUrl,\n    };\n}\n// okx-ton-connect-connection-info-before-jump\nfunction createConnectionInfoBeforeJumpEvent(connectInfo) {\n    return {\n        type: 'connection-info-before-jump',\n        connectInfo: connectInfo,\n    };\n}\n/**\n * Create a connection completed event.\n * @param version\n * @param wallet\n */\nfunction createConnectionCompletedEvent(version, wallet) {\n    return Object.assign({ type: 'connection-completed', is_success: true }, createConnectionInfo(version, wallet));\n}\n/**\n * Create a connection error event.\n * @param version\n * @param error_message\n * @param errorCode\n */\nfunction createConnectionErrorEvent(version, error_message, errorCode) {\n    return {\n        type: 'connection-error',\n        is_success: false,\n        error_message: error_message,\n        error_code: errorCode !== null && errorCode !== void 0 ? errorCode : null,\n        custom_data: createVersionInfo(version)\n    };\n}\n/**\n * Create a connection restoring started event.\n */\nfunction createConnectionRestoringStartedEvent(version) {\n    return {\n        type: 'connection-restoring-started',\n        custom_data: createVersionInfo(version)\n    };\n}\n/**\n * Create a connection restoring completed event.\n * @param version\n * @param wallet\n */\nfunction createConnectionRestoringCompletedEvent(version, wallet) {\n    return Object.assign({ type: 'connection-restoring-completed', is_success: true }, createConnectionInfo(version, wallet));\n}\n/**\n * Create a connection restoring error event.\n * @param version\n * @param errorMessage\n */\nfunction createConnectionRestoringErrorEvent(version, errorMessage) {\n    return {\n        type: 'connection-restoring-error',\n        is_success: false,\n        error_message: errorMessage,\n        custom_data: createVersionInfo(version)\n    };\n}\nfunction createTransactionInfo(wallet, transaction) {\n    var _a, _b, _c, _d;\n    return {\n        valid_until: (_a = String(transaction.validUntil)) !== null && _a !== void 0 ? _a : null,\n        from: (_d = (_b = transaction.from) !== null && _b !== void 0 ? _b : (_c = wallet === null || wallet === void 0 ? void 0 : wallet.account) === null || _c === void 0 ? void 0 : _c.address) !== null && _d !== void 0 ? _d : null,\n        messages: transaction.messages.map(message => {\n            var _a, _b;\n            return ({\n                address: (_a = message.address) !== null && _a !== void 0 ? _a : null,\n                amount: (_b = message.amount) !== null && _b !== void 0 ? _b : null\n            });\n        })\n    };\n}\n/**\n * Create a transaction init event.\n * @param version\n * @param wallet\n * @param transaction\n */\nfunction createTransactionSentForSignatureEvent(version, wallet, transaction) {\n    return Object.assign(Object.assign({ type: 'transaction-sent-for-signature' }, createConnectionInfo(version, wallet)), createTransactionInfo(wallet, transaction));\n}\n/**\n * Create a transaction signed event.\n * @param version\n * @param wallet\n * @param transaction\n * @param signedTransaction\n */\nfunction createTransactionSignedEvent(version, wallet, transaction, signedTransaction) {\n    return Object.assign(Object.assign({ type: 'transaction-signed', is_success: true, signed_transaction: signedTransaction.boc }, createConnectionInfo(version, wallet)), createTransactionInfo(wallet, transaction));\n}\n/**\n * Create a transaction error event.\n * @param version\n * @param wallet\n * @param transaction\n * @param errorMessage\n * @param errorCode\n */\nfunction createTransactionSigningFailedEvent(version, wallet, transaction, errorMessage, errorCode) {\n    return Object.assign(Object.assign({ type: 'transaction-signing-failed', is_success: false, error_message: errorMessage, error_code: errorCode !== null && errorCode !== void 0 ? errorCode : null }, createConnectionInfo(version, wallet)), createTransactionInfo(wallet, transaction));\n}\n/**\n * Create a disconnect event.\n * @param version\n * @param wallet\n * @param scope\n * @returns\n */\nfunction createDisconnectionEvent(version, wallet, scope) {\n    return Object.assign({ type: 'disconnection', scope: scope }, createConnectionInfo(version, wallet));\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.toUserFriendlyAddress = toUserFriendlyAddress;\nconst core_1 = require(\"@okxconnect/core\");\nconst noBounceableTag = 0x51;\nconst testOnlyTag = 0x80;\n/**\n * Converts raw TON address to no-bounceable user-friendly format. [See details]{@link https://ton.org/docs/learn/overviews/addresses#user-friendly-address}\n * @param hexAddress raw TON address formatted as \"0:<hex string without 0x>\".\n * @param [testOnly=false] convert address to test-only form. [See details]{@link https://ton.org/docs/learn/overviews/addresses#user-friendly-address}\n */\nfunction toUserFriendlyAddress(hexAddress, testOnly = false) {\n    const { wc, hex } = parseHexAddress(hexAddress);\n    let tag = noBounceableTag;\n    if (testOnly) {\n        tag |= testOnlyTag;\n    }\n    const addr = new Int8Array(34);\n    addr[0] = tag;\n    addr[1] = wc;\n    addr.set(hex, 2);\n    const addressWithChecksum = new Uint8Array(36);\n    addressWithChecksum.set(addr);\n    addressWithChecksum.set(crc16(addr), 34);\n    // let addressBase64 = Base64.encode(addressWithChecksum);\n    let addressBase64 = (0, core_1.base64encode)(addressWithChecksum, false);\n    return addressBase64.replace(/\\+/g, '-').replace(/\\//g, '_');\n}\nfunction parseHexAddress(hexAddress) {\n    if (!hexAddress.includes(':')) {\n        throw new Error(`Wrong address ${hexAddress}. Address must include \":\".`);\n    }\n    const parts = hexAddress.split(':');\n    if (parts.length !== 2) {\n        throw new Error(`Wrong address ${hexAddress}. Address must include \":\" only once.`);\n    }\n    const wc = parseInt(parts[0]);\n    if (wc !== 0 && wc !== -1) {\n        throw new Error(`Wrong address ${hexAddress}. WC must be eq 0 or -1, but ${wc} received.`);\n    }\n    const hex = parts[1];\n    if ((hex === null || hex === void 0 ? void 0 : hex.length) !== 64) {\n        throw new Error(`Wrong address ${hexAddress}. Hex part must be 64bytes length, but ${hex === null || hex === void 0 ? void 0 : hex.length} received.`);\n    }\n    return {\n        wc,\n        hex: hexToBytes(hex)\n    };\n}\nfunction crc16(data) {\n    const poly = 0x1021;\n    let reg = 0;\n    const message = new Uint8Array(data.length + 2);\n    message.set(data);\n    for (let byte of message) {\n        let mask = 0x80;\n        while (mask > 0) {\n            reg <<= 1;\n            if (byte & mask) {\n                reg += 1;\n            }\n            mask >>= 1;\n            if (reg > 0xffff) {\n                reg &= 0xffff;\n                reg ^= poly;\n            }\n        }\n    }\n    return new Uint8Array([Math.floor(reg / 256), reg % 256]);\n}\nconst toByteMap = {};\nfor (let ord = 0; ord <= 0xff; ord++) {\n    let s = ord.toString(16);\n    if (s.length < 2) {\n        s = '0' + s;\n    }\n    toByteMap[s] = ord;\n}\nfunction hexToBytes(hex) {\n    hex = hex.toLowerCase();\n    const length2 = hex.length;\n    if (length2 % 2 !== 0) {\n        throw new Error('Hex string must have length a multiple of 2: ' + hex);\n    }\n    const length = length2 / 2;\n    const result = new Uint8Array(length);\n    for (let i = 0; i < length; i++) {\n        const doubled = i * 2;\n        const hexSubstring = hex.substring(doubled, doubled + 2);\n        if (!toByteMap.hasOwnProperty(hexSubstring)) {\n            throw new Error('Invalid hex character: ' + hexSubstring);\n        }\n        result[i] = toByteMap[hexSubstring];\n    }\n    return result;\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.OKXCONNECTOR_TON_KEY = exports.OKXtonConnectSdkVersion = void 0;\nexports.OKXtonConnectSdkVersion = '1';\nexports.OKXCONNECTOR_TON_KEY = \"OKXStorage_ctc\";\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.checkSendTransactionSupport = checkSendTransactionSupport;\nconst core_1 = require(\"@okxconnect/core\");\nfunction checkSendTransactionSupport(features, options) {\n    const supportsDeprecatedSendTransactionFeature = features.includes('ton_sendTransaction');\n    if (!supportsDeprecatedSendTransactionFeature) {\n        throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED, \"Wallet doesn't support SendTransaction feature.\");\n    }\n    if (4 < options.requiredMessagesNumber) {\n        throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED, `Wallet is not able to handle such SendTransaction request. Max support messages number is ${4}, but ${options.requiredMessagesNumber} is required.`);\n    }\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.toUserFriendlyAddress = exports.removeUrlLastSlash = exports.addPathToUrl = void 0;\nvar url_1 = require(\"./url\");\nObject.defineProperty(exports, \"addPathToUrl\", { enumerable: true, get: function () { return url_1.addPathToUrl; } });\nObject.defineProperty(exports, \"removeUrlLastSlash\", { enumerable: true, get: function () { return url_1.removeUrlLastSlash; } });\nvar address_1 = require(\"./address\");\nObject.defineProperty(exports, \"toUserFriendlyAddress\", { enumerable: true, get: function () { return address_1.toUserFriendlyAddress; } });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.removeUrlLastSlash = removeUrlLastSlash;\nexports.addPathToUrl = addPathToUrl;\nfunction removeUrlLastSlash(url) {\n    if (url.slice(-1) === '/') {\n        return url.slice(0, -1);\n    }\n    return url;\n}\nfunction addPathToUrl(url, path) {\n    return removeUrlLastSlash(url) + '/' + path;\n}\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.OKXBtcProvider = void 0;\nconst _1 = require(\"./\");\nclass OKXBtcProvider {\n    constructor(generator) {\n        this.caip = [\n            \"btc:mainnet\",\n            \"fractal:mainnet\"\n        ];\n        this.provider = generator.getUniversalProvider();\n    }\n    getAddressForChainId(chainId) {\n        var _a, _b;\n        let ns = this.checkChainId(chainId);\n        if (ns == undefined) {\n            throw new _1.OKXConnectError(_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `invalid chainId`);\n        }\n        let accounts = (_b = (_a = this.provider.session) === null || _a === void 0 ? void 0 : _a.namespaces['btc']) === null || _b === void 0 ? void 0 : _b.accounts.filter(function (account) {\n            return account.startsWith(chainId);\n        });\n        if (accounts == undefined || accounts.length < 0) {\n            throw new _1.OKXConnectError(_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `no connected account`);\n        }\n        let account = accounts[0];\n        const address = account.split(':')[2];\n        return address;\n    }\n    getAccount(chainId) {\n        var _a, _b, _c;\n        let ns = this.checkChainId(chainId);\n        if (ns == undefined) {\n            throw new _1.OKXConnectError(_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `invalid chainId`);\n        }\n        let extra = (_c = (_b = (_a = this.provider.session) === null || _a === void 0 ? void 0 : _a.namespaces[ns]) === null || _b === void 0 ? void 0 : _b.extra) === null || _c === void 0 ? void 0 : _c[chainId];\n        let publicKey = \"\";\n        if (extra != undefined) {\n            publicKey = extra[\"publicKey\"];\n        }\n        return {\n            address: this.getAddressForChainId(chainId),\n            publicKey: publicKey\n        };\n    }\n    /**\n     *\n     * @param signStr\n     * @param chainId\n     * @param type\n     * @returns\n     */\n    signMessage(chainId, signStr, type) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let ns = this.checkChainId(chainId);\n            if (ns == undefined) {\n                throw new _1.OKXConnectError(_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `invalid chainId`);\n            }\n            if (signStr === 'undefined') {\n                throw new _1.OKXConnectError(_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `the method signMessage parmas error`);\n            }\n            let params = {\n                signStr: signStr,\n                from: this.getAddressForChainId(chainId)\n            };\n            if (type) {\n                params.type = type;\n            }\n            try {\n                const ret = yield this.provider.request({\n                    method: \"btc_signMessage\",\n                    params: params\n                }, chainId);\n                if ('result' in ret) {\n                    return ret.result;\n                }\n                else {\n                    let errorData = ret;\n                    return errorData.error;\n                }\n            }\n            catch (error) {\n                throw new _1.OKXConnectError(_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `the method signTransaction request error`);\n            }\n        });\n    }\n    /**\n     *\n     * @param chainId\n     * @param toAddress\n     * @param satoshis\n     * @param options { feeRate: 0 }\n     * @returns\n     */\n    sendBitcoin(chainId, toAddress, satoshis, options) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let ns = this.checkChainId(chainId);\n            if (ns == undefined) {\n                throw new _1.OKXConnectError(_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `invalid chainId`);\n            }\n            let params = {\n                from: this.getAddressForChainId(chainId),\n                to: toAddress,\n                value: (satoshis / 100000000).toString(),\n            };\n            if (options === null || options === void 0 ? void 0 : options.feeRate) {\n                params[\"satBytes\"] = options.feeRate.toString();\n            }\n            let result = yield this.send(chainId, params);\n            if (result !== undefined && ('txhash' in result)) {\n                // return txhash directly\n                return result.txhash;\n            }\n            // or return unexpected result\n            return result;\n        });\n    }\n    //  from - string：当前连接的钱包的 BTC 地址\n    //  to - string：接受 BTC 的地址\n    //  value - string：发送 BTC 的数量\n    //  satBytes - string： (可选) 自定义费率\n    //  memo - string： (可选) 指定 outputs OP_RETURN 内容 示例\n    //  memoPos - number： (可选) 指定 outputs OP_RETURN 输出位置，如果传了 memo 则必须传入 memoPos 指定位置，否则 memo 不生效\n    send(chainId, input) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let ns = this.checkChainId(chainId);\n            if (ns == undefined) {\n                throw new _1.OKXConnectError(_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `invalid chainId`);\n            }\n            if (!this.checkParameters(input, 'to', 'value')) {\n                throw new _1.OKXConnectError(_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `the method send parmas  error`);\n            }\n            input[\"from\"] = this.getAddressForChainId(chainId);\n            try {\n                const ret = yield this.provider.request({\n                    method: 'btc_send',\n                    params: input\n                }, chainId);\n                if ('result' in ret) {\n                    return {\n                        txhash: ret.result\n                    };\n                }\n                else {\n                    let errorData = ret;\n                    return errorData.error;\n                }\n            }\n            catch (error) {\n                throw new _1.OKXConnectError(_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `the method send request error: ${error}`);\n            }\n        });\n    }\n    /**\n     *\n     * @param psbtHex string 要签名的 psbt 的十六进制字符串\n     * @param options object { autoFinalized: 0 }\n     */\n    signPsbt(chainId, psbtHex, options) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return new Promise((resolve, reject) => {\n                this.signPsbts(chainId, [psbtHex], [options]).then(psbtResults => {\n                    let results = JSON.parse(psbtResults);\n                    resolve(results[0]);\n                }).catch(error => {\n                    reject(error);\n                });\n            });\n        });\n    }\n    /**\n     *\n     * @param chainId\n     * @param psbtHexs Array\n     * @param options Array [{ autoFinalized: 0 }]\n     * @returns\n     */\n    signPsbts(chainId, psbtHexs, options) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let ns = this.checkChainId(chainId);\n            if (ns == undefined) {\n                throw new _1.OKXConnectError(_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `invalid chainId`);\n            }\n            if (psbtHexs === undefined) {\n                throw new _1.OKXConnectError(_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `the method signPsbts params error`);\n            }\n            let params = {\n                psbtHexs: psbtHexs,\n                options: options\n            };\n            params.from = this.getAddressForChainId(chainId);\n            try {\n                const ret = yield this.provider.request({\n                    method: \"btc_signPsbts\",\n                    params: params\n                }, chainId);\n                if ('result' in ret) {\n                    return ret.result;\n                }\n                else {\n                    let errorData = ret;\n                    return errorData.error;\n                }\n            }\n            catch (error) {\n                throw new _1.OKXConnectError(_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `the method send request error: ${error}`);\n            }\n        });\n    }\n    /**\n     *\n     * @param chainId\n     * @param psbtHex string\n     * @param options object\n     * @returns\n     */\n    signAndPushPsbt(chainId, psbtHex, options) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let ns = this.checkChainId(chainId);\n            if (ns == undefined) {\n                throw new _1.OKXConnectError(_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `invalid chainId`);\n            }\n            if (psbtHex === undefined) {\n                throw new _1.OKXConnectError(_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `the method signPsbts params error`);\n            }\n            let params = {\n                psbtHex: psbtHex,\n                options: options\n            };\n            params.from = this.getAddressForChainId(chainId);\n            try {\n                const ret = yield this.provider.request({\n                    method: \"btc_signAndPushPsbt\",\n                    params: params\n                }, chainId);\n                if ('result' in ret) {\n                    return JSON.parse(ret.result);\n                }\n                else {\n                    let errorData = ret;\n                    return errorData.error;\n                }\n            }\n            catch (error) {\n                throw new _1.OKXConnectError(_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `the method send request error: ${error}`);\n            }\n        });\n    }\n    /**\n     *\n     * @param address string, receiver address\n     * @param inscriptionId string, 铭文 ID + 协议，没有传协议则默认是 Ordinals NFT ，目前仅支持 Ordinals 及 Atomicals 协议\n     * @param options object, { feeRate: number } custom rates\n     */\n    sendInscription(chainId, address, inscriptionId, options) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let extension = {\n                address: address,\n                inscriptionId: inscriptionId,\n                options: options\n            };\n            let ns = this.checkChainId(chainId);\n            if (ns == undefined) {\n                throw new _1.OKXConnectError(_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `invalid chainId`);\n            }\n            if (address === 'undefined') {\n                throw new _1.OKXConnectError(_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `the method sendInscription params error`);\n            }\n            var feeRate = 0;\n            if (options && ('feeRate' in options)) {\n                feeRate = options.feeRate;\n            }\n            let coinId = '';\n            let from = this.getAddressForChainId(chainId);\n            var protocolId = 7; //ProtocolIdBRCNFT\n            if (inscriptionId !== 'undefined') {\n                let atomicSuffix = \"-Atomicals\";\n                let ordinalsSuffix = \"-Ordinals\";\n                if (inscriptionId === null || inscriptionId === void 0 ? void 0 : inscriptionId.toLowerCase().endsWith(atomicSuffix.toLowerCase())) {\n                    protocolId = 8; //WXRCProtocolIdARCNFT\n                    inscriptionId = this.removeSuffix(inscriptionId, atomicSuffix);\n                }\n                else if (inscriptionId === null || inscriptionId === void 0 ? void 0 : inscriptionId.toLowerCase().endsWith(ordinalsSuffix.toLowerCase())) {\n                    inscriptionId = this.removeSuffix(inscriptionId, ordinalsSuffix);\n                }\n            }\n            let params = {\n                scenario: 5,\n                feeRate: feeRate,\n                txType: \"20\",\n                to: address,\n                batchBean: [\n                    {\n                        coinAmount: \"1\",\n                        nftId: inscriptionId,\n                        protocolId: protocolId,\n                        coinId: coinId,\n                        inscriptionId: \"\",\n                        from: from\n                    }\n                ],\n                extension: extension\n            };\n            try {\n                const ret = yield this.provider.request({\n                    method: \"btc_sendInscription\",\n                    params: params\n                }, chainId);\n                if ('result' in ret) {\n                    return ret.result;\n                }\n                else {\n                    let errorData = ret;\n                    return errorData.error;\n                }\n            }\n            catch (error) {\n                throw new _1.OKXConnectError(_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `the method signTransaction request error`);\n            }\n        });\n    }\n    removeSuffix(str, suffix) {\n        if (str.endsWith(suffix)) {\n            return str.slice(0, str.length - suffix.length);\n        }\n        return str;\n    }\n    checkParameters(params, ...keys) {\n        var unexistKeys = [];\n        keys.forEach(key => {\n            if (!(`${key}` in params)) {\n                unexistKeys.push(key);\n            }\n        });\n        if (unexistKeys.length > 0) {\n            console.log('not find key: ', unexistKeys.join(\",\"));\n            return false;\n        }\n        return true;\n    }\n    /**\n     *\n     * @param chainId eg. btc:mainnet\n     * @returns eg. btc\n     */\n    checkChainId(chainId) {\n        if (this.caip.includes(chainId)) {\n            let [namespaceKey, _] = chainId.split(\":\");\n            return namespaceKey;\n        }\n        return undefined;\n    }\n}\nexports.OKXBtcProvider = OKXBtcProvider;\nexports.default = OKXBtcProvider;\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.OKXCosmosProvider = void 0;\nconst core_1 = require(\"@okxconnect/core\");\nclass OKXCosmosProvider {\n    constructor(provider) {\n        this.provider = provider.getUniversalProvider();\n    }\n    getAccount(chainId) {\n        var _a, _b, _c, _d, _e;\n        let account = (_b = (_a = this.provider.session) === null || _a === void 0 ? void 0 : _a.namespaces[core_1.NameSpaceKeyCosmos]) === null || _b === void 0 ? void 0 : _b.accounts.filter(function (account) {\n            return account.startsWith(chainId);\n        })[0];\n        if (!account) {\n            // if (required) {\n            //      throw new Error('Account not found')\n            // }\n            return undefined;\n        }\n        const accountArray = account.split(':');\n        const address = account.split(':')[2];\n        let extra = (_e = (_d = (_c = this.provider.session) === null || _c === void 0 ? void 0 : _c.namespaces[core_1.NameSpaceKeyCosmos]) === null || _d === void 0 ? void 0 : _d.extra) === null || _e === void 0 ? void 0 : _e[(`${accountArray[0]}:${accountArray[1]}`)];\n        let publicKey = \"\";\n        if (extra != undefined) {\n            publicKey = extra[\"publicKey\"];\n            console.log(\"aptos_publicKey\", publicKey);\n        }\n        if (!address) {\n            // if (required) {\n            //     throw new Error('Address not found')\n            // }\n            return undefined;\n        }\n        return {\n            algo: \"secp256k1\",\n            address: address,\n            bech32Address: address,\n            pubKey: this.hexToUint8Array(publicKey),\n        };\n    }\n    signArbitrary(chainId, signerAddress, data) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const base64Encoded = window.btoa(data);\n            const signDoc = {\n                chain_id: \"\",\n                account_number: \"0\",\n                sequence: \"0\",\n                fee: {\n                    gas: \"0\",\n                    amount: []\n                },\n                msgs: [{\n                        \"type\": \"sign/MsgSignData\",\n                        \"value\": {\n                            \"signer\": signerAddress,\n                            \"data\": base64Encoded\n                        }\n                    }],\n                memo: \"\"\n            };\n            let signData = {\n                \"chainId\": chainId,\n                \"method\": \"cosmos_signArbitrary\",\n                \"params\": {\n                    \"signer\": signerAddress,\n                    \"chain_id\": chainId.split(\":\")[1],\n                    \"data\": signDoc\n                }\n            };\n            try {\n                const ret = yield this.provider.request(signData, chainId);\n                if ('result' in ret) {\n                    if (typeof ret.result == \"string\") {\n                        return JSON.parse(ret.result);\n                    }\n                    else {\n                        return ret.result;\n                    }\n                }\n                else {\n                    let errorData = ret;\n                    return errorData.error;\n                }\n            }\n            catch (error) {\n                return error;\n                // throw new OKXConnectError(OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `the method signTransaction request error`);\n            }\n        });\n    }\n    signAmino(chainId, signerAddress, signDoc, signOptions) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (signDoc.msgs[0].type == \"sign/MsgSignData\") {\n                let signData = {\n                    \"chainId\": chainId,\n                    \"method\": \"cosmos_signArbitrary\",\n                    \"params\": {\n                        \"signer\": signerAddress,\n                        \"chain_id\": chainId.split(\":\")[1],\n                        \"data\": signDoc\n                    }\n                };\n                try {\n                    const ret = yield this.provider.request(signData, chainId);\n                    if ('result' in ret) {\n                        return ret.result;\n                    }\n                    else {\n                        let errorData = ret;\n                        return errorData.error;\n                    }\n                }\n                catch (error) {\n                    return error;\n                    // throw new OKXConnectError(OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `the method signAmino request error`);\n                }\n            }\n            else {\n                let signData = {\n                    \"chainId\": chainId,\n                    \"method\": \"cosmos_signAmino\",\n                    \"params\": {\n                        \"signer\": signerAddress,\n                        \"chainId\": chainId.split(\":\")[1],\n                        \"sign_doc\": signDoc,\n                        \"signOptions\": signOptions\n                    }\n                };\n                try {\n                    const ret = yield this.provider.request(signData, chainId);\n                    if ('result' in ret) {\n                        const resData = JSON.parse(ret.result);\n                        console.log(\"signdoc\", signDoc, resData.signDoc);\n                        signDoc.fee = resData.signDoc.fee;\n                        return { signed: signDoc, signature: resData.signature };\n                    }\n                    else {\n                        let errorData = ret;\n                        return errorData.error;\n                    }\n                }\n                catch (error) {\n                    // throw new OKXConnectError(OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `the method signAmino request error`);\n                    return error;\n                }\n            }\n        });\n    }\n    signDirect(chainId, signerAddress, signDoc, signOptions) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const object = {\n                bodyBytes: this.bufferToHex(signDoc.bodyBytes),\n                authInfoBytes: this.bufferToHex(signDoc.authInfoBytes),\n                chainId: signDoc.chainId,\n                accountNumber: signDoc.accountNumber ? signDoc.accountNumber.toString() : null,\n                signOptions: signOptions ? signOptions : null\n            };\n            let data = {\n                \"chainId\": chainId,\n                \"method\": \"cosmos_signDirect\",\n                \"params\": {\n                    \"signer\": signerAddress,\n                    \"chainId\": chainId.split(\":\")[1],\n                    \"sign_doc\": object,\n                }\n            };\n            try {\n                const ret = yield this.provider.request(data, chainId);\n                if ('result' in ret) {\n                    const res = JSON.parse(ret.result);\n                    console.log(\"signdirect result\", res);\n                    signDoc.authInfoBytes = this.messageToBuffer(res.signDoc.authInfoBytes);\n                    return { signed: signDoc, signature: res.signature };\n                }\n            }\n            catch (error) {\n                return error;\n                // throw new OKXConnectError(OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `the method signTransaction request error`);\n            }\n        });\n    }\n    messageToBuffer(message) {\n        var buffer = Uint8Array.from([]);\n        try {\n            if (typeof message === \"string\") {\n                buffer = this.hexToUint8Array(message.replace(\"0x\", \"\"));\n            }\n            else {\n                buffer = Uint8Array.from(message);\n            }\n        }\n        catch (err) {\n            console.log(`messageToBuffer error: ${err}`);\n        }\n        return buffer;\n    }\n    bufferToHex(arr) {\n        let output = [...new Uint8Array(arr)]\n            .map(x => x.toString(16).padStart(2, '0'))\n            .join('');\n        return '0x' + output;\n    }\n    hexToUint8Array(hexString) {\n        if (hexString.length % 2 !== 0) {\n            throw \"Invalid hexString\";\n        }\n        var arrayBuffer = new Uint8Array(hexString.length / 2);\n        for (var i = 0; i < hexString.length; i += 2) {\n            var byteValue = parseInt(hexString.substr(i, 2), 16);\n            if (isNaN(byteValue)) {\n                throw \"Invalid hexString\";\n            }\n            arrayBuffer[i / 2] = byteValue;\n        }\n        return arrayBuffer;\n    }\n}\nexports.OKXCosmosProvider = OKXCosmosProvider;\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.OKXTonProvider = void 0;\nconst _1 = require(\"./\");\nconst core_1 = require(\"@okxconnect/core\");\nclass OKXTonProvider {\n    constructor(generator) {\n        this.statusChangeSubscriptions = [];\n        this.statusChangeErrorSubscriptions = [];\n        this.provider = generator.getUniversalProvider();\n        this.provider.on(\"connect\", () => {\n            let tonWallet = this.wallet();\n            (0, core_1.logDebug)(\"OKXTONProvider event connect:\", JSON.stringify(tonWallet));\n            this.statusChangeSubscriptions.forEach(callback => callback(tonWallet));\n        });\n        this.provider.on(\"reconnect\", () => {\n            let tonWallet = this.wallet();\n            (0, core_1.logDebug)(\"OKXTONProvider event reconnect:\", JSON.stringify(tonWallet));\n            this.statusChangeSubscriptions.forEach(callback => callback(tonWallet));\n        });\n        this.provider.on(\"disconnect\", () => {\n            (0, core_1.logDebug)(\"OKXTONProvider event disconnect:\");\n            this.statusChangeSubscriptions.forEach(callback => callback(null));\n        });\n        this.provider.on(\"connect_error\", (error) => {\n            (0, core_1.logDebug)(\"OKXTONProvider event connect_error:\", JSON.stringify(error));\n            this.statusChangeErrorSubscriptions.forEach(errorsHandler => errorsHandler(error));\n        });\n    }\n    connected() {\n        if (this.provider.connected()) {\n            return !!this.provider.session.namespaces[\"ton\"];\n        }\n        return false;\n    }\n    account() {\n        try {\n            if (!this.provider.session) {\n                return null;\n            }\n            let tonNameSpace = this.provider.session.namespaces['ton'];\n            if (!tonNameSpace || !tonNameSpace.payload || !tonNameSpace.payload.ton_addr) {\n                return null;\n            }\n            let ton_addr = tonNameSpace.payload.ton_addr;\n            return {\n                address: ton_addr.address,\n                chain: ton_addr.network,\n                walletStateInit: ton_addr.walletStateInit,\n                publicKey: ton_addr.publicKey,\n            };\n        }\n        catch (e) {\n            (0, core_1.logDebug)(\"OKXTONProvider account  error:\", JSON.stringify(e));\n            return null;\n        }\n    }\n    wallet() {\n        if (this.connected()) {\n            try {\n                let sessionWallet = this.provider.session.wallet;\n                let tonDeviceInfo = {\n                    platform: sessionWallet.platform,\n                    appName: sessionWallet.appName,\n                    appVersion: sessionWallet.appVersion,\n                    maxProtocolVersion: sessionWallet.maxProtocolVersion,\n                    features: ['ton_sendTransaction'],\n                };\n                const wallet = {\n                    device: tonDeviceInfo,\n                    provider: \"http\",\n                    account: this.account()\n                };\n                let tonNameSpace = this.provider.session.namespaces['ton'];\n                if (tonNameSpace && tonNameSpace.payload && tonNameSpace.payload.ton_proof) {\n                    wallet.connectItems = {\n                        tonProof: tonNameSpace.payload.ton_proof\n                    };\n                }\n                (0, core_1.logDebug)(\"OKXTONProvider wallet :\", JSON.stringify(wallet));\n                return wallet;\n            }\n            catch (e) {\n                (0, core_1.logDebug)(\"OKXTONProvider wallet  error:\", JSON.stringify(e));\n                return null;\n            }\n        }\n        return null;\n    }\n    onStatusChange(callback, errorsHandler) {\n        this.statusChangeSubscriptions.push(callback);\n        if (errorsHandler) {\n            this.statusChangeErrorSubscriptions.push(errorsHandler);\n        }\n        return () => {\n            this.statusChangeSubscriptions = this.statusChangeSubscriptions.filter(item => item !== callback);\n            if (errorsHandler) {\n                this.statusChangeErrorSubscriptions = this.statusChangeErrorSubscriptions.filter(item => item !== errorsHandler);\n            }\n        };\n    }\n    sendTransaction(transaction) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (transaction.network && transaction.network !== core_1.TONCHAIN.MAINNET) {\n                throw new _1.OKXConnectError(_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, 'OKXTONProvider sendTransaction network error');\n            }\n            if (!transaction.network) {\n                transaction.network = core_1.TONCHAIN.MAINNET;\n            }\n            if (this.provider.session) {\n                if (!transaction.from) {\n                    const accounts = this.provider.requestAccountsWithNamespace('ton');\n                    transaction.from = accounts[0];\n                }\n            }\n            const requestParams = {\n                method: \"ton_sendTransaction\",\n                params: transaction,\n            };\n            let chain = 'ton:' + core_1.TONCHAIN.MAINNET;\n            (0, core_1.logDebug)(\"OKXTONProvider sendTransaction transaction----:\", chain, JSON.stringify(requestParams));\n            return this.provider.request(requestParams, chain);\n        });\n    }\n}\nexports.OKXTonProvider = OKXTonProvider;\nexports.default = OKXTonProvider;\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.OKXUniversalProvider = void 0;\nconst eip155_1 = require(\"./provider/providers/eip155\");\nconst sui_1 = require(\"./provider/providers/sui\");\nconst constants_1 = require(\"./provider/constants\");\nconst eventemitter3_1 = __importDefault(require(\"eventemitter3\"));\nconst client_1 = require(\"./packages/sign-client/client\");\nconst core_1 = require(\"@okxconnect/core\");\nconst namespaces_1 = require(\"./packages/utils/namespaces\");\nconst solana_1 = __importDefault(require(\"./provider/providers/solana\"));\nconst btc_1 = __importDefault(require(\"./provider/providers/btc\"));\nconst aptos_1 = __importDefault(require(\"./provider/providers/aptos\"));\nconst ton_1 = __importDefault(require(\"./provider/providers/ton\"));\nconst cosmos_1 = __importDefault(require(\"./provider/providers/cosmos\"));\nclass OKXUniversalProvider {\n    static init(opts) {\n        return __awaiter(this, void 0, void 0, function* () {\n            (0, core_1.logDebug)('OKXUniversalProvider init() called');\n            let provider;\n            if (window && window.okxConnectUniversalinwindow && window.okxConnectUniversalinwindow instanceof OKXUniversalProvider) {\n                (0, core_1.logDebug)('OKXUniversalConnect init() old called');\n                provider = window.okxConnectUniversalinwindow;\n            }\n            else {\n                (0, core_1.logDebug)('OKXUniversalConnect init() new called');\n                provider = new OKXUniversalProvider(opts);\n                yield provider.initialize();\n                if (window) {\n                    window.okxConnectUniversalinwindow = provider;\n                }\n            }\n            return provider;\n        });\n    }\n    getUniversalProvider() {\n        return this;\n    }\n    constructor(opts) {\n        this.rpcProviders = {};\n        this.events = new eventemitter3_1.default();\n        this.providerOpts = opts;\n    }\n    request(args, chain) {\n        return __awaiter(this, void 0, void 0, function* () {\n            (0, core_1.logDebug)('OKXUniversalProvider request() called');\n            if (!this.connected()) {\n                throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR);\n            }\n            const { namespace, requestParam } = this.buildRequestParamFromRequest(args, chain);\n            return yield this.getProvider(namespace).request(requestParam);\n        });\n    }\n    buildRequestParamFromRequest(args, chain) {\n        (0, core_1.logDebug)(\"UniversalProvider request args >>>: \", chain, JSON.stringify(args));\n        let [namespace, chainId] = this.validateChain(chain);\n        if (!this.session) {\n            throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, \"Please call connect() before request()\");\n        }\n        let keyArr = Object.keys(this.session.namespaces);\n        if (!chain && keyArr && keyArr.length > 1) {\n            throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR, `Multiple chains have been linked, the request method requires chain`);\n        }\n        (0, core_1.logDebug)(\"UniversalProvider request >>args>>>: \", args);\n        if (namespace == \"aptos\" && chainId == \"mainnet\") {\n            namespace = \"aptos\";\n            chainId = \"637\";\n        }\n        if (namespace == \"movement\" && chainId == \"testnet\") {\n            namespace = \"aptos\";\n            chainId = \"70000060\";\n        }\n        const requestParam = Object.assign(Object.assign({}, args), { chainId: `${namespace}:${chainId}` });\n        return { namespace, requestParam };\n    }\n    enable() {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (!this.client) {\n                throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, \"Sign Client not initialized\");\n            }\n            if (!this.session) {\n                if (this.connectOpts) {\n                    yield this.connect(this.connectOpts);\n                }\n                else {\n                    throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, \"Sign Client not initialized\");\n                }\n            }\n            const accounts = yield this.requestAccounts();\n            return accounts;\n        });\n    }\n    disconnect() {\n        return __awaiter(this, void 0, void 0, function* () {\n            (0, core_1.logDebug)('OKXUniversalProvider disconnect() called');\n            if (!this.session) {\n                throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR);\n            }\n            return new Promise((resolve) => __awaiter(this, void 0, void 0, function* () {\n                let called = false;\n                const onRequestSent = () => __awaiter(this, void 0, void 0, function* () {\n                    if (!called) {\n                        called = true;\n                        yield this.disconnectAndEmit();\n                        yield this.cleanup();\n                        resolve();\n                        (0, core_1.logDebug)(\"UniversalProvider disconnect Disconnected\");\n                    }\n                });\n                try {\n                    yield this.client.disconnect();\n                    yield onRequestSent();\n                }\n                catch (e) {\n                    yield onRequestSent();\n                }\n            }));\n        });\n    }\n    disconnectAndEmit() {\n        var _a, _b;\n        this.client.engine.connectionManager.disconnect();\n        this.events.emit(\"disconnect\", { topic: (_a = this.session) === null || _a === void 0 ? void 0 : _a.topic });\n        this.events.emit(\"session_delete\", { topic: (_b = this.session) === null || _b === void 0 ? void 0 : _b.topic });\n    }\n    aptosChainNameToGeneralId(chainId) {\n        if (chainId == \"aptos:mainnet\") {\n            return \"aptos:637\";\n        }\n        else if (chainId == \"movement:testnet\") {\n            return \"aptos:70000060\";\n        }\n        else {\n            return chainId;\n        }\n    }\n    replaceAptos(opts) {\n        var _a, _b;\n        let aptosNameSpace = (_a = opts.namespaces) === null || _a === void 0 ? void 0 : _a[\"aptos\"];\n        if (aptosNameSpace != undefined) {\n            let realNS = this.replaceAptosInner(aptosNameSpace);\n            if (opts.namespaces != undefined && \"aptos\" in opts.namespaces && realNS != undefined) {\n                opts.namespaces.aptos = realNS;\n            }\n        }\n        let optionAptosNameSpace = (_b = opts.optionalNamespaces) === null || _b === void 0 ? void 0 : _b[\"aptos\"];\n        if (optionAptosNameSpace != undefined) {\n            let realOptionNS = this.replaceAptosInner(optionAptosNameSpace);\n            if (opts.optionalNamespaces != undefined && \"aptos\" in opts.optionalNamespaces && realOptionNS != undefined) {\n                opts.optionalNamespaces.aptos = realOptionNS;\n            }\n        }\n        return opts;\n    }\n    replaceAptosInner(aptosNameSpace) {\n        var _a;\n        if (aptosNameSpace != undefined) {\n            aptosNameSpace.chains = (_a = aptosNameSpace.chains) === null || _a === void 0 ? void 0 : _a.map(chainId => {\n                return this.aptosChainNameToGeneralId(chainId);\n            });\n            if (aptosNameSpace.defaultChain != undefined) {\n                aptosNameSpace.defaultChain = this.aptosChainNameToGeneralId(aptosNameSpace.defaultChain);\n            }\n        }\n        return aptosNameSpace;\n    }\n    replaceAptosGeneralIdWithNetName(chainId) {\n        if (chainId.includes(\"aptos:637\")) {\n            chainId = chainId.replace(\"aptos:637\", \"aptos:mainnet\");\n        }\n        else if (chainId.includes(\"aptos:70000060\")) {\n            chainId = chainId.replace(\"aptos:70000060\", \"movement:testnet\");\n        }\n        return chainId;\n    }\n    replaceSessionAptos(session) {\n        var _a;\n        let namespaces = (_a = session === null || session === void 0 ? void 0 : session.namespaces) === null || _a === void 0 ? void 0 : _a[\"aptos\"];\n        if (namespaces != undefined && namespaces.chains != undefined) {\n            namespaces.chains = namespaces.chains.map(chain => {\n                return this.replaceAptosGeneralIdWithNetName(chain);\n            });\n            namespaces.accounts = namespaces.accounts.map((account) => {\n                return this.replaceAptosGeneralIdWithNetName(account);\n            });\n            let extra = {};\n            Object.keys(namespaces.extra || {}).forEach((key, index) => {\n                let newKey = this.replaceAptosGeneralIdWithNetName(key);\n                extra[this.replaceAptosGeneralIdWithNetName(key)] = Object.values((session === null || session === void 0 ? void 0 : session.namespaces[\"aptos\"].extra) || {})[index];\n            });\n            namespaces.extra = extra;\n        }\n        (0, core_1.logDebug)(\"replaceSessionAptos\", session);\n    }\n    connected() {\n        (0, core_1.logDebug)('OKXUniversalProvider connected() called');\n        let disconnectInner = () => {\n            try {\n                this.cleanup();\n                this.client.engine.connectionManager.disconnect();\n            }\n            catch (e) {\n                (0, core_1.logDebug)(\"Error during disconnect:\", e);\n            }\n        };\n        try {\n            if (!this.session)\n                return false;\n            if (!this.client.engine.connectionManager.getCurrentConnectionReady()) {\n                disconnectInner();\n                return false;\n            }\n            return true;\n        }\n        catch (e) {\n            disconnectInner();\n            return false;\n        }\n    }\n    connect(opts) {\n        return __awaiter(this, void 0, void 0, function* () {\n            (0, core_1.logDebug)('OKXUniversalProvider connect() called');\n            if (!this.client) {\n                throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, \"Sign Client not initialized\");\n            }\n            if (this.connected()) {\n                return this.session;\n            }\n            opts = this.replaceAptos(opts);\n            (0, core_1.logDebug)(`OKXUniversalProvider connect >>>>`, JSON.stringify(opts));\n            if (opts.sessionConfig === undefined) {\n                opts.sessionConfig = {};\n            }\n            if (opts.sessionConfig.openUniversalUrl === undefined) {\n                opts.sessionConfig.openUniversalUrl = (0, core_1.isMobileUserAgent)();\n            }\n            this.setNamespaces(opts);\n            try {\n                (0, core_1.logDebug)(`UniversalProvider connect opts.stringify ====> ${JSON.stringify(opts)}`);\n                let session = yield this.client.connect(opts);\n                this.replaceSessionAptos(session);\n                (0, core_1.logDebug)(`UniversalProvider connect success ====> ${JSON.stringify(session)}`);\n                if (session) {\n                    this.session = session;\n                    this.onConnect();\n                    return session;\n                }\n                return undefined;\n            }\n            catch (error) {\n                (0, core_1.logDebug)(`UniversalProvider connect error ====> `, JSON.stringify(error));\n                throw error;\n            }\n        });\n    }\n    on(event, listener) {\n        this.events.on(event, listener);\n    }\n    once(event, listener) {\n        this.events.once(event, listener);\n    }\n    removeListener(event, listener) {\n        this.events.removeListener(event, listener);\n    }\n    off(event, listener) {\n        this.events.off(event, listener);\n    }\n    setDefaultChain(chain, rpcUrl) {\n        (0, core_1.logDebug)('OKXUniversalProvider setDefaultChain() called');\n        // chain = this.aptosChainNameToGeneralId(chain)\n        try {\n            // ignore without active session\n            if (!this.connected())\n                return;\n            const [namespace, chainId] = this.validateChain(chain);\n            const provider = this.getProvider(namespace);\n            provider.setDefaultChain(chainId, rpcUrl);\n        }\n        catch (error) {\n            // ignore the error if the fx is used prematurely before namespaces are set\n            if (!/Please call connect/.test(error.message))\n                throw error;\n        }\n    }\n    checkStorage() {\n        return __awaiter(this, void 0, void 0, function* () {\n            let sessionInfoStr = yield this.getFromStore(\"connectSession\");\n            (0, core_1.logDebug)(sessionInfoStr);\n            if (sessionInfoStr) {\n                let sessionInfo = sessionInfoStr;\n                this.session = sessionInfo;\n                this.client.session = this.session;\n                this.sessionConfig = sessionInfo.sessionConfig;\n                this.client.sessionConfig = this.sessionConfig;\n                (0, core_1.logDebug)('[evm u-provider] do reconnection', this.session);\n                yield this.client.restoreconnect(sessionInfo);\n                this.createProviders();\n                this.registerEventListeners();\n                setTimeout(() => {\n                    this.events.emit(\"reconnect\", { session: this.session });\n                }, 100);\n                this.registerEventListeners();\n            }\n        });\n    }\n    initialize() {\n        return __awaiter(this, void 0, void 0, function* () {\n            (0, core_1.logDebug)('OKXUniversalProvider initialize() called');\n            const data = Object.assign({ url: window.location.hostname, origin: window.location.origin }, this.providerOpts.dappMetaData);\n            this.client = new client_1.SignClient(data, this.events);\n            yield this.checkStorage();\n        });\n    }\n    createProviders() {\n        if (!this.client) {\n            throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, \"Sign Client not initialized\");\n        }\n        if (!this.connected()) {\n            throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, \"Session not initialized. Please call connect() before enable()\");\n        }\n        const providersToCreate = [\n            ...new Set(Object.keys(this.session.namespaces).map((namespace) => (0, namespaces_1.parseNamespaceKey)(namespace))),\n        ];\n        providersToCreate.forEach((namespace) => {\n            if (!this.session)\n                return;\n            const namespacesValue = this.session.namespaces;\n            const currentNameSpace = namespacesValue[namespace];\n            (0, core_1.logDebug)(\"init eip155 >> \", currentNameSpace);\n            switch (namespace) {\n                case \"eip155\":\n                    const opts = {\n                        namespace: currentNameSpace\n                    };\n                    this.rpcProviders[namespace] = new eip155_1.Eip155Provider(opts, this.client, this.events);\n                    break;\n                case \"solana\":\n                    const opts1 = {\n                        namespace: currentNameSpace\n                    };\n                    let solanaProvider = new solana_1.default(opts1, \"solana\", this.client, this.events);\n                    this.rpcProviders[namespace] = solanaProvider;\n                    let sonicProvider = new solana_1.default(opts1, \"sonic\", this.client, this.events);\n                    this.rpcProviders['sonic'] = sonicProvider;\n                    let svmProvider = new solana_1.default(opts1, \"svm\", this.client, this.events);\n                    this.rpcProviders['svm'] = svmProvider;\n                    // this.rpcProviders[namespace] = new SolanaProvider(opts1, () => { return this.session; });\n                    break;\n                case \"ton\":\n                    const optsTon = {\n                        namespace: currentNameSpace\n                    };\n                    let tonProvider = new ton_1.default(optsTon, this.client, this.events);\n                    this.rpcProviders[namespace] = tonProvider;\n                    break;\n                case \"sui\":\n                    const optsSui = {\n                        namespace: currentNameSpace\n                    };\n                    let suiProvider = new sui_1.SuiProvider(optsSui, this.client, this.events);\n                    suiProvider.name = \"sui\";\n                    this.rpcProviders[namespace] = suiProvider;\n                    break;\n                case \"btc\":\n                    const optsBtc = {\n                        namespace: currentNameSpace\n                    };\n                    let btcProvider = new btc_1.default(optsBtc, \"btc\", this.client, this.events);\n                    this.rpcProviders[\"btc\"] = btcProvider;\n                    let fbProvider = new btc_1.default(optsBtc, \"fractal\", this.client, this.events);\n                    this.rpcProviders[\"fractal\"] = fbProvider;\n                    break;\n                case \"aptos\":\n                    let aptosProvider = new aptos_1.default({\n                        namespace: currentNameSpace\n                    }, \"aptos\", this.client, this.events);\n                    this.rpcProviders[namespace] = aptosProvider;\n                    let moveProvider = new aptos_1.default({\n                        namespace: currentNameSpace\n                    }, \"movement\", this.client, this.events);\n                    this.rpcProviders[\"movement\"] = moveProvider;\n                    break;\n                case \"cosmos\":\n                    let cosmosProvider = new cosmos_1.default({\n                        namespace: currentNameSpace\n                    }, this.client, this.events);\n                    this.rpcProviders[namespace] = cosmosProvider;\n                    break;\n            }\n        });\n    }\n    registerEventListeners() {\n        if (typeof this.client === \"undefined\") {\n            throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, \"Sign Client is not initialized\");\n        }\n        this.client.engine.addDisconnectListener(() => {\n            this.disconnectAndEmit();\n            this.cleanup();\n        });\n        this.on(constants_1.PROVIDER_EVENTS.DEFAULT_CHAIN_CHANGED, (caip2ChainId) => {\n            this.onChainChanged(caip2ChainId);\n        });\n        this.on(constants_1.PROVIDER_EVENTS.UPDATE_NAMESPACES, (nameSpaces) => {\n            if (nameSpaces) {\n                const nameSpacekey = Object.keys(nameSpaces)[0];\n                if (this.session) {\n                    this.session.namespaces[nameSpacekey] = nameSpaces[nameSpacekey];\n                    if (this.session) {\n                        this.persist(\"connectSession\", this.session);\n                        this.events.emit(\"session_update\", this.session);\n                    }\n                    (0, core_1.logDebug)(\"PROVIDER_EVENTS.UPDATE_NAMESPACES this.session... ->>>\", JSON.stringify(this.session));\n                }\n            }\n        });\n    }\n    getProvider(namespace) {\n        (0, core_1.logDebug)('current get providers', this.rpcProviders);\n        (0, core_1.logDebug)('query namespace: ', namespace);\n        return this.rpcProviders[namespace];\n    }\n    setNamespaces(params) {\n        this.connectOpts = params;\n        const { namespaces, sessionConfig } = params;\n        const data = {\n            origin: window.location.origin,\n            url: window.location.hostname,\n            name: this.providerOpts.dappMetaData.name,\n            icon: this.providerOpts.dappMetaData.icon,\n        };\n        this.sessionConfig = {\n            dappInfo: data,\n            openUniversalUrl: sessionConfig === null || sessionConfig === void 0 ? void 0 : sessionConfig.openUniversalUrl,\n            redirect: sessionConfig === null || sessionConfig === void 0 ? void 0 : sessionConfig.redirect,\n        };\n        (0, core_1.logDebug)(\"setNamespaces sessionConfig>>>\", this.sessionConfig);\n        this.client.sessionConfig = this.sessionConfig;\n        this.persist(\"sessionConfig\", sessionConfig);\n    }\n    validateChain(chain) {\n        var _a;\n        let [namespace, chainId] = (chain === null || chain === void 0 ? void 0 : chain.split(\":\")) || [\"\", \"\"];\n        if (!this.session || !this.session.namespaces || !Object.keys(this.session.namespaces).length) {\n            (0, core_1.logDebug)('get name & chain', namespace, chainId);\n            return [namespace, chainId];\n        }\n        if (namespace) {\n            if (!this.isChainNamespaceInSession(namespace)) {\n                throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR, `Namespace '${namespace}' is not configured. Please call connect() first with namespace config.`);\n            }\n            if (chainId && chain) {\n                (0, core_1.logDebug)('this.session.namespaces -->> ', namespace, JSON.stringify(this.session.namespaces));\n                const chainsArr = (_a = this.session.namespaces[namespace]) === null || _a === void 0 ? void 0 : _a.chains;\n                (0, core_1.logDebug)('get chainsArr & chain', JSON.stringify(chainsArr), chain);\n                if (chainsArr && !chainsArr.includes(chain)) {\n                    throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR, `Namespace not include the chain '${chain}'`);\n                }\n            }\n        }\n        if (namespace && chainId) {\n            (0, core_1.logDebug)('get name & chain', namespace, chainId);\n            return [namespace, chainId];\n        }\n        let defaultNamespace = (0, namespaces_1.parseNamespaceKey)(Object.keys(this.session.namespaces)[0]);\n        const defaultChain = this.rpcProviders[defaultNamespace].getDefaultChain();\n        (0, core_1.logDebug)('get default chain:', defaultChain);\n        return [defaultNamespace, defaultChain];\n    }\n    isChainNamespaceInSession(namespaceStr) {\n        var _a, _b;\n        if (Object.keys(((_a = this.session) === null || _a === void 0 ? void 0 : _a.namespaces) || {})\n            .map((key) => (0, namespaces_1.parseNamespaceKey)(key))\n            .includes(namespaceStr)) {\n            return true;\n        }\n        let isChainNamespaceInSession = false;\n        Object.values(((_b = this.session) === null || _b === void 0 ? void 0 : _b.namespaces) || {})\n            .forEach(namespace => {\n            namespace.chains.forEach(chain => {\n                if (chain.split(\":\")[0] == namespaceStr) {\n                    isChainNamespaceInSession = true;\n                }\n            });\n        });\n        return isChainNamespaceInSession;\n    }\n    requestAccountsWithNamespace(namespace) {\n        return this.getProvider(namespace).requestAccounts();\n    }\n    requestDefaultChainWithNamespace(namespace) {\n        return this.getProvider(namespace).getDefaultChain();\n    }\n    requestAccounts() {\n        return __awaiter(this, void 0, void 0, function* () {\n            const [namespace] = this.validateChain();\n            return yield this.getProvider(namespace).requestAccounts();\n        });\n    }\n    onChainChanged(caip2Chain) {\n        var _a;\n        if (!((_a = this.session) === null || _a === void 0 ? void 0 : _a.namespaces))\n            return;\n        const [namespace, chainId] = this.validateChain(caip2Chain);\n        if (!chainId)\n            return;\n        if (this.session.namespaces[namespace]) {\n            this.session.namespaces[namespace].defaultChain = chainId;\n            this.persist(\"connectSession\", this.session);\n        }\n        this.events.emit(\"chainChanged\", chainId);\n    }\n    onConnect() {\n        this.createProviders();\n        if (this.session) {\n            this.persist(\"connectSession\", this.session);\n        }\n        this.events.emit(\"connect\", { session: this.session });\n        this.registerEventListeners();\n    }\n    cleanup() {\n        return __awaiter(this, void 0, void 0, function* () {\n            this.session = undefined;\n            this.sessionProperties = undefined;\n            this.persist(\"optionalNamespaces\", undefined);\n            this.persist(\"sessionProperties\", undefined);\n            this.persist(\"connectSession\", undefined);\n        });\n    }\n    persist(key, data) {\n        (0, core_1.logDebug)('[evm u-provider] persisit data', key, data);\n        return this.client.engine.connectionManager.saveSessionContent(key, data);\n    }\n    getFromStore(key) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return this.client.engine.connectionManager.getSessionContent(key);\n        });\n    }\n    showRequestModal(args, chain) {\n        try {\n            const { namespace, requestParam } = this.buildRequestParamFromRequest(args, chain);\n            return this.getProvider(namespace).showRequestModal(requestParam);\n        }\n        catch (e) {\n            return false;\n        }\n    }\n}\nexports.OKXUniversalProvider = OKXUniversalProvider;\nexports.default = OKXUniversalProvider;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.OKXTonProvider = exports.OKXCosmosProvider = exports.OKXBtcProvider = exports.OKXUniversalProvider = void 0;\n__exportStar(require(\"./provider/types\"), exports);\nvar OKXUniversalProvider_1 = require(\"./OKXUniversalProvider\");\nObject.defineProperty(exports, \"OKXUniversalProvider\", { enumerable: true, get: function () { return OKXUniversalProvider_1.OKXUniversalProvider; } });\nvar OKXBtcProvider_1 = require(\"./OKXBtcProvider\");\nObject.defineProperty(exports, \"OKXBtcProvider\", { enumerable: true, get: function () { return OKXBtcProvider_1.OKXBtcProvider; } });\nvar OKXCosmosProvider_1 = require(\"./OKXCosmosProvider\");\nObject.defineProperty(exports, \"OKXCosmosProvider\", { enumerable: true, get: function () { return OKXCosmosProvider_1.OKXCosmosProvider; } });\nvar OKXTonProvider_1 = require(\"./OKXTonProvider\");\nObject.defineProperty(exports, \"OKXTonProvider\", { enumerable: true, get: function () { return OKXTonProvider_1.OKXTonProvider; } });\n__exportStar(require(\"@okxconnect/core\"), exports);\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SignClient = void 0;\nconst core_1 = require(\"@okxconnect/core\");\nconst namespaces_1 = require(\"../utils/namespaces\");\nconst ConnectMethodUtils_1 = require(\"../utils/ConnectMethodUtils\");\nconst constants_1 = require(\"../../provider/constants\");\nclass SignClient extends core_1.ISignClient {\n    constructor(metaData, events) {\n        super(metaData);\n        this.engine = new core_1.Engine(new core_1.ConnectionManager());\n        // ---------- Engine ----------------------------------------------- //\n        this.connect = (params) => __awaiter(this, void 0, void 0, function* () {\n            return new Promise((resolve, reject) => __awaiter(this, void 0, void 0, function* () {\n                try {\n                    var connectRequest = [];\n                    (0, core_1.logDebug)(`client connect params >>>`, JSON.stringify(params));\n                    var requestAccountItem = {\n                        name: \"requestAccounts\",\n                        requiredNamespaces: (0, namespaces_1.nameSpaceToConnectWalletNameSpace)(params.namespaces),\n                        optionalNamespaces: (0, namespaces_1.nameSpaceToConnectWalletNameSpace)(params.optionalNamespaces),\n                    };\n                    this.engine.setSessionConnectingListener(() => {\n                        (0, core_1.logDebug)(`sessionConnectingListener >>>`);\n                        this.events.emit(constants_1.PROVIDER_EVENTS.SESSION_CONNECTING);\n                    });\n                    if (params.connectMethods) {\n                        requestAccountItem.connectRequestMethods = yield (0, ConnectMethodUtils_1.connectMethodsToConnectWalletMethods)(params.connectMethods, requestAccountItem.requiredNamespaces);\n                    }\n                    connectRequest.push(requestAccountItem);\n                    (0, core_1.logDebug)(`client connect connectRequest >>>`, JSON.stringify(connectRequest));\n                    this.engine.universalConnect(connectRequest, Object.assign({ dappInfo: this.metadata }, params.sessionConfig), (info) => {\n                        if (info && info.connectRequest) {\n                            var encodeParams = (0, core_1.encodeConnectParams)(info.connectRequest);\n                            (0, core_1.logDebug)(`universalConect encodeParams:`, encodeParams);\n                            (0, core_1.logDebug)(`universalConect url:`, (0, core_1.getUniversalLink)((0, core_1.getAppWalletDeepLink)(encodeParams)));\n                            this.events.emit(\"display_uri\", (0, core_1.getUniversalLink)((0, core_1.getAppWalletDeepLink)(encodeParams)));\n                            (0, core_1.logDebug)(`universalConect EngineConnectInfo  ${JSON.stringify(info)}`);\n                            this.events.emit(\"okx_engine_connect_params\", info);\n                        }\n                    }).then((session) => __awaiter(this, void 0, void 0, function* () {\n                        (0, namespaces_1.fillParamsToSession)(session, params.namespaces, params.optionalNamespaces, this.sessionConfig);\n                        (0, core_1.logDebug)(`signClient: connect: session ${JSON.stringify(session)}`);\n                        if (params.connectMethods) {\n                            yield (0, ConnectMethodUtils_1.connectMethodsResponseUpdate)(session, params.connectMethods);\n                        }\n                        resolve(session);\n                    })).catch((e) => {\n                        (0, core_1.logDebug)(`signClient: connect: catch ${JSON.stringify(e)}`);\n                        this.events.emit(\"connect_error\", e);\n                        reject(e);\n                    });\n                }\n                catch (error) {\n                    (0, core_1.logDebug)(`signClient: connect:  ${JSON.stringify(error)}`);\n                    reject(error);\n                }\n            }));\n        });\n        this.restoreconnect = (sessionConfig) => __awaiter(this, void 0, void 0, function* () {\n            return new Promise((resolve, reject) => {\n                this.engine.restoreconnect(sessionConfig, (session) => {\n                    resolve(session);\n                });\n            });\n        });\n        this.reject = (params) => __awaiter(this, void 0, void 0, function* () {\n            //   try {\n            //     return await this.engine.reject(params);\n            //   } catch (error: any) {\n            //     this.logger.error(error.message);\n            //     throw error;\n            //   }\n        });\n        //\n        // public update: ISignClient[\"update\"] = async (params) => {\n        //   return\n        // //   try {\n        // //     return await this.engine.update(params);\n        // //   } catch (error: any) {\n        // //     this.logger.error(error.message);\n        // //     throw error;\n        // //   }\n        // };\n        this.request = (params) => __awaiter(this, void 0, void 0, function* () {\n            return new Promise((resolve, reject) => __awaiter(this, void 0, void 0, function* () {\n                var _a, _b;\n                (0, core_1.logDebug)(\"clint request --params>>>> >\", this.engine.connectionManager.getCurrentConnectionReady(), (_a = this.sessionConfig) === null || _a === void 0 ? void 0 : _a.openUniversalUrl, JSON.stringify(params));\n                try {\n                    // this.sessionConfig\n                    if (((_b = this.sessionConfig) === null || _b === void 0 ? void 0 : _b.openUniversalUrl) && (0, core_1.isIos)()) {\n                        this.openOKXWallet();\n                    }\n                    yield this.engine.send(params, {\n                        resolve: (response) => {\n                            delete response.requestId;\n                            (0, core_1.logDebug)(\"clint request --response >\", JSON.stringify(response));\n                            if (('error' in response) && response.error) {\n                                let error = response.error;\n                                reject(new core_1.OKXConnectError(response.error.code, response.method + \":\" + error.message));\n                            }\n                            else {\n                                resolve(response);\n                            }\n                        },\n                        onAck: () => {\n                            var _a;\n                            if (!(0, core_1.isIos)() && ((_a = this.sessionConfig) === null || _a === void 0 ? void 0 : _a.openUniversalUrl)) {\n                                this.openOKXWallet();\n                            }\n                        }\n                    });\n                }\n                catch (e) {\n                    reject(e);\n                }\n            }));\n        });\n        // public emit: ISignClient[\"emit\"] = async (params) => {\n        //     try {\n        //         // return await this.engine.emit(params);\n        //     } catch (error: any) {\n        //         throw error;\n        //     }\n        // };\n        this.disconnect = () => __awaiter(this, void 0, void 0, function* () {\n            return new Promise((resolve, reject) => {\n                this.engine.send({\n                    method: \"disconnect\"\n                }, {\n                    onAck: () => {\n                        resolve();\n                    }\n                }).catch((error) => {\n                    console.log(`disconnect : ${JSON.stringify(error)}`);\n                    reject(error);\n                });\n            });\n        });\n        this.events = events;\n        this.metadata = metaData;\n    }\n    openOKXWallet() {\n        var _a, _b;\n        // if (this.openUniversalUrl){\n        (0, core_1.logDebug)('bridge-provider ==>> connect_5');\n        if ((_b = (_a = this.session) === null || _a === void 0 ? void 0 : _a.sessionConfig) === null || _b === void 0 ? void 0 : _b.useMini) {\n            (0, core_1.getTelegramWalletTWAUrl)(undefined, this.session.sessionConfig.tmaReturnUrl, true);\n        }\n        else {\n            (0, core_1.openOKXDeeplink)(core_1.standardDeeplink);\n        }\n        // }\n    }\n}\nexports.SignClient = SignClient;\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.connectSupportMethods = void 0;\nexports.connectMethodsResponseUpdate = connectMethodsResponseUpdate;\nexports.connectMethodsToConnectWalletMethods = connectMethodsToConnectWalletMethods;\nconst core_1 = require(\"@okxconnect/core\");\nconst bs58_1 = __importDefault(require(\"bs58\"));\nconst uint8array_extras_1 = require(\"uint8array-extras\");\nfunction isArray(value) {\n    return typeof value === \"object\" && value !== null && Array.isArray(value);\n}\nfunction isRecord(value) {\n    return typeof value === \"object\" && value !== null && !Array.isArray(value);\n}\nexports.connectSupportMethods = Object.freeze([\n    \"wallet_addEthereumChain\",\n    \"personal_sign\",\n    \"solana_signMessage\",\n    \"sui_signMessage\",\n    \"sui_signPersonalMessage\",\n    \"btc_signMessage\",\n    \"aptos_signMessage\",\n    \"cosmos_signArbitrary\",\n]);\nfunction connectMethodsResponseUpdate(session, requestParams) {\n    return __awaiter(this, void 0, void 0, function* () {\n        var _a;\n        try {\n            if (session.connectMethodsReply) {\n                (0, core_1.logDebug)(\"connectMethodsResponseUpdate connectMethodsReply:\", JSON.stringify(session.connectMethodsReply));\n                (0, core_1.logDebug)(\"connectMethodsResponseUpdate session.namespaces:\", JSON.stringify(session.namespaces));\n                for (const methodItem of session.connectMethodsReply) {\n                    (0, core_1.logDebug)(\"connectMethodsResponseUpdate methodItem:\", JSON.stringify(methodItem));\n                    if (\"result\" in methodItem) {\n                        if (methodItem.method === \"solana_signMessage\") {\n                            let solanaSuccessData = methodItem.result;\n                            (0, core_1.logDebug)(\"solana_signMessage methodItem.chainId:\", methodItem.chainId);\n                            let account = (_a = session.namespaces[\"solana\"]) === null || _a === void 0 ? void 0 : _a.accounts.filter(function (account) {\n                                (0, core_1.logDebug)(\"solana_signMessage account:\", account);\n                                return account.startsWith(methodItem.chainId);\n                            })[0];\n                            (0, core_1.logDebug)(\"solana_signMessage result account:\", solanaSuccessData, account);\n                            if (solanaSuccessData && account) {\n                                methodItem.result = {\n                                    \"signature\": bs58_1.default.decode(solanaSuccessData),\n                                    \"publicKey\": account === null || account === void 0 ? void 0 : account.split(':')[2]\n                                };\n                            }\n                        }\n                        else if (methodItem.method === \"sui_signMessage\" || methodItem.method === \"sui_signPersonalMessage\") {\n                            let suiMethod = requestParams.filter(function (requestMethod) {\n                                return requestMethod.method === methodItem.method;\n                            })[0];\n                            if (suiMethod && suiMethod.params && \"message\" in suiMethod.params) {\n                                let suiMessage = suiMethod.params.message;\n                                let suiMessageb64 = btoa(suiMessage);\n                                console.log(\"sui_signMessag suiMessagee suiMessageb64:>>>>\", suiMessage, suiMessageb64);\n                                if (methodItem.method === \"sui_signMessage\") {\n                                    methodItem.result = {\n                                        \"messageBytes\": suiMessageb64,\n                                        \"signature\": methodItem.result\n                                    };\n                                }\n                                else if (methodItem.method === \"sui_signPersonalMessage\") {\n                                    methodItem.result = {\n                                        \"bytes\": suiMessageb64,\n                                        \"signature\": methodItem.result\n                                    };\n                                }\n                            }\n                        }\n                        else if (methodItem.method === \"aptos_signMessage\") {\n                            if (methodItem.chainId === \"aptos:637\") {\n                                methodItem.chainId = \"aptos:mainnet\";\n                            }\n                            else if (methodItem.chainId === \"aptos:70000060\") {\n                                methodItem.chainId = \"movement:testnet\";\n                            }\n                            methodItem.result = JSON.parse(methodItem.result);\n                            console.log(\"aptos_signMessage result methodItem.result before:>>>>\", JSON.stringify(methodItem.result));\n                            if (methodItem.result && \"signature\" in methodItem.result) {\n                                let aptosSignature = methodItem.result.signature;\n                                if (aptosSignature && aptosSignature.startsWith(\"0x\")) {\n                                    aptosSignature = aptosSignature.slice(2, aptosSignature.length);\n                                    methodItem.result.signature = aptosSignature;\n                                }\n                            }\n                            console.log(\"aptos_signMessage result methodItem.result after:>>>>\", JSON.stringify(methodItem.result));\n                        }\n                        else if (methodItem.method === \"cosmos_signArbitrary\") {\n                            methodItem.result = JSON.parse(methodItem.result);\n                        }\n                    }\n                }\n            }\n            else if (requestParams && requestParams.length > 0) { //adapt old version\n                session.connectMethodsReply = [];\n                let notSupportError = new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED);\n                for (const requestItem of requestParams) {\n                    var errorItem = {\n                        method: requestItem.method,\n                        chainId: requestItem.chainId,\n                        error: {\n                            code: notSupportError.code,\n                            message: notSupportError.message\n                        },\n                    };\n                    session.connectMethodsReply.push(errorItem);\n                }\n            }\n        }\n        catch (error) {\n            (0, core_1.logDebug)(\"connectMethodsResponseUpdate connectMethodsReply Error:\", JSON.stringify(error));\n            throw error;\n        }\n    });\n}\nfunction connectMethodsToConnectWalletMethods(params, requireNameSpace) {\n    return __awaiter(this, void 0, void 0, function* () {\n        try {\n            (0, core_1.logDebug)(\"connectMethodsToConnectWalletMethods requestMethods:\", JSON.stringify(params));\n            const result = [];\n            //TODO  后面需要打开限制\n            // if (params && params.length>1){\n            //     throw new OKXConnectError(\n            //         OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,\n            //         `connect requestMethods only support one data`\n            //     );\n            // }\n            if (!requireNameSpace && params && params.length > 0) {\n                throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `Connect request params error , RequestMethods cannot be added when the NameSpace is empty`);\n            }\n            // check chianId\n            for (const methodItem of params) {\n                if (methodItem.method === \"aptos_signMessage\") { //update chainId\n                    if (methodItem.chainId === \"aptos:mainnet\") {\n                        methodItem.chainId = \"aptos:637\";\n                    }\n                    else if (methodItem.chainId === \"movement:testnet\") {\n                        methodItem.chainId = \"aptos:70000060\";\n                    }\n                }\n                // check chianId\n                if (methodItem.method === \"wallet_addEthereumChain\") {\n                    var includeEip155 = requireNameSpace === null || requireNameSpace === void 0 ? void 0 : requireNameSpace.some(space => space.namespace.includes(\"eip155\"));\n                    if (!includeEip155) {\n                        throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `Connect request params error, When using '${methodItem.method}', the EVM chain needs to be included in the NameSpace`);\n                    }\n                }\n                else {\n                    const includeChain = !!(requireNameSpace === null || requireNameSpace === void 0 ? void 0 : requireNameSpace.some(space => space.chains.some(chain => chain.includes(`${methodItem.chainId}`))));\n                    if (!includeChain) {\n                        throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `Connect request params error, When using '${methodItem.method}', NameSpace must contain '${methodItem.chainId}'`);\n                    }\n                }\n            }\n            for (const item of params) {\n                //TODO  后面需要打开限制\n                // if (!connectSupportMethods.includes(item.method)){\n                //     throw new OKXConnectError(\n                //         OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,\n                //             `connect requestMethods not support method, method: '${item.method}'`\n                //     );\n                // }\n                if (item.method === \"wallet_addEthereumChain\") {\n                    if (Array.isArray(item.params)) {\n                        const paramsArr = item.params;\n                        if (paramsArr && paramsArr.length === 1) {\n                            const firstParam = paramsArr[0];\n                            if (isRecord(firstParam)) {\n                                item.params = firstParam;\n                            }\n                        }\n                        else if (paramsArr && paramsArr.length > 1) {\n                            throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `connect request params only support one data, method: '${item.method}'`);\n                        }\n                        else {\n                            throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `connect request params is nil, method: '${item.method}'`);\n                        }\n                    }\n                }\n                else if (item.method === \"personal_sign\") {\n                    if (isArray(item.params)) {\n                        if (item.params && item.params.length !== 1) {\n                            throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `connect request params error,  method: '${item.method}' `);\n                        }\n                        let firstObj = item.params[0];\n                        if (firstObj && typeof firstObj === 'string') {\n                            item.params = {\n                                message: firstObj\n                            };\n                        }\n                        else {\n                            throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `connect request params is error,  method: '${item.method}' `);\n                        }\n                    }\n                }\n                else if (item.method === \"sui_signMessage\" || item.method === \"sui_signPersonalMessage\") {\n                    if (isRecord(item.params) && 'message' in item.params) {\n                        if (item.params.message) {\n                            (0, core_1.logDebug)(\"sui_signMessage item.params.message :\", item.params.message);\n                            let message = JSON.parse(JSON.stringify(item.params.message));\n                            let convertedArray = Object.values(message);\n                            let uint8Array = new Uint8Array(convertedArray);\n                            let decoder = new TextDecoder(\"utf8\");\n                            let b64encoded = btoa(decoder.decode(uint8Array));\n                            item.params.message = atob(b64encoded);\n                        }\n                        else {\n                            throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `connect request params is error,  method: '${item.method}' `);\n                        }\n                    }\n                    else {\n                        throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `connect request params is error,  method: '${item.method}' `);\n                    }\n                }\n                else if (item.method === \"solana_signMessage\") {\n                    if (isRecord(item.params) && 'message' in item.params) {\n                        if (item.params.message && typeof item.params.message === 'string') {\n                            item.params[\"bs58Message\"] = bs58_1.default.encode((0, uint8array_extras_1.stringToUint8Array)(item.params.message));\n                        }\n                        else {\n                            throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `connect request params is error,  method: '${item.method}' `);\n                        }\n                    }\n                    else {\n                        throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `connect request params is error,  method: '${item.method}' `);\n                    }\n                }\n                else if (item.method === \"aptos_signMessage\") {\n                    if (isRecord(item.params)) {\n                        if (item.chainId && (item.chainId === \"aptos:637\" || item.chainId === \"aptos:70000060\")) {\n                            var aptosParams = item.params;\n                            var currentURL = window.location.protocol + \"//\" + window.location.hostname;\n                            let signChainId = 1;\n                            if (item.chainId === \"aptos:637\") {\n                            }\n                            else if (item.chainId === \"aptos:70000060\") {\n                                signChainId = 2;\n                            }\n                            item.params = {\n                                data: aptosParams,\n                                applicationUrl: currentURL,\n                                prefix: \"APTOS\",\n                                aptosChainId: signChainId\n                            };\n                        }\n                        else {\n                            throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `connect request params chainId is error,  method: '${item.method}' `);\n                        }\n                    }\n                    else {\n                        throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `connect request params is error,  method: '${item.method}' `);\n                    }\n                }\n                else if (item.method === \"cosmos_signArbitrary\") {\n                    if (isRecord(item.params)) {\n                        if (item.params.message && typeof item.params.message === 'string') {\n                            const base64Encoded = (0, uint8array_extras_1.stringToBase64)(item.params.message);\n                            let cosmosChain = item.chainId.split(\":\")[1];\n                            if (cosmosChain) {\n                                item.params = {\n                                    chain_id: cosmosChain,\n                                    data: {\n                                        chain_id: \"\",\n                                        account_number: \"0\",\n                                        sequence: \"0\",\n                                        fee: {\n                                            gas: \"0\",\n                                            amount: []\n                                        },\n                                        msgs: [{\n                                                \"type\": \"sign/MsgSignData\",\n                                                \"value\": {\n                                                    \"signer\": \"\", //address\n                                                    \"data\": base64Encoded\n                                                }\n                                            }],\n                                        memo: \"\"\n                                    }\n                                };\n                            }\n                            else {\n                                throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `connect request params chainId is error,  method: '${item.method}' `);\n                            }\n                        }\n                        else {\n                            throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `connect request params message is error,  method: '${item.method}' `);\n                        }\n                    }\n                    else {\n                        throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `connect request params is error,  method: '${item.method}' `);\n                    }\n                }\n                (0, core_1.logDebug)(\"connectMethodsToConnectWalletMethods item:\", JSON.stringify(item));\n                result.push(item);\n            }\n            return result;\n        }\n        catch (error) {\n            throw error;\n        }\n    });\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getAccountsChains = getAccountsChains;\nexports.nameSpaceToConnectWalletNameSpace = nameSpaceToConnectWalletNameSpace;\nexports.fillParamsToSession = fillParamsToSession;\nexports.isCaipNamespace = isCaipNamespace;\nexports.parseNamespaceKey = parseNamespaceKey;\nconst core_1 = require(\"@okxconnect/core\");\nfunction getAccountsChains(accounts) {\n    const chains = [];\n    accounts.forEach((account) => {\n        const [chain, chainId] = account.split(\":\");\n        chains.push(`${chain}:${chainId}`);\n    });\n    return chains;\n}\nfunction nameSpaceToConnectWalletNameSpace(namespaces) {\n    var result = [];\n    if (!namespaces) {\n        return result;\n    }\n    Object.keys(namespaces).forEach((key) => {\n        if (key === core_1.NameSpaceKeyEip155 || key === core_1.NameSpaceKeySOL || key === core_1.NameSpaceKeySui || key === core_1.NameSpaceKeyAptos\n            || key == core_1.NameSpaceKeyBtc || key === core_1.NameSpaceKeyTON || key === core_1.NameSpaceKeyCosmos) {\n            if (namespaces[key].chains) {\n                result.push({\n                    namespace: key,\n                    chains: namespaces[key].chains,\n                    params: namespaces[key].params\n                });\n            }\n        }\n    });\n    return result;\n}\nfunction fillParamsToSession(session, namespaces, optionalNamespaces, sessionConfig) {\n    // Helper function to merge rpcMaps\n    const mergeRpcMap = (targetRpcMap, sourceRpcMap) => {\n        Object.assign(targetRpcMap, sourceRpcMap);\n    };\n    // Merge function for namespaces\n    const mergeNamespaces = (target, source) => {\n        for (const key in source) {\n            if (source.hasOwnProperty(key) && source[key].rpcMap) {\n                if (source[key].rpcMap) {\n                    if (!target[key].rpcMap) {\n                        target[key].rpcMap = {};\n                    }\n                    // 合并 rpcMap\n                    mergeRpcMap(target[key].rpcMap, source[key].rpcMap);\n                }\n                if (source[key].defaultChain && target[key].defaultChain === undefined) {\n                    //defaultChain need in session nameSpace\n                    if (target[key].chains.some(chain => chain.split(\":\")[1] === source[key].defaultChain)) {\n                        target[key].defaultChain = source[key].defaultChain;\n                    }\n                }\n            }\n        }\n    };\n    // 合并 namespaces\n    if (namespaces) {\n        mergeNamespaces(session.namespaces, namespaces);\n    }\n    // 合并 optionalNamespaces\n    if (optionalNamespaces) {\n        mergeNamespaces(session.namespaces, optionalNamespaces);\n    }\n    session.sessionConfig = sessionConfig;\n}\n/**\n * util designed for Wallets that builds namespaces structure by provided supported chains, methods, events & accounts.\n * It takes required & optional namespaces provided in the session proposal\n * along with the supported chains/methods/events/accounts by the wallet and returns a structured namespaces object\n * @param {BuildApprovedNamespacesParams} params\n * @returns {SessionTypes.Namespaces}\n */\n// export function buildApprovedNamespaces(\n//   params: BuildApprovedNamespacesParams,\n// ): SessionTypes.Namespaces {\n//   const {\n//     proposal: { requiredNamespaces, optionalNamespaces = {} },\n//     supportedNamespaces,\n//   } = params;\n//   const normalizedRequired = normalizeNamespaces(requiredNamespaces);\n//   const normalizedOptional = normalizeNamespaces(optionalNamespaces);\n//\n//   // build approved namespaces\n//   const namespaces = {};\n//   Object.keys(supportedNamespaces).forEach((namespace) => {\n//     const supportedChains = supportedNamespaces[namespace].chains;\n//     const supportedMethods = supportedNamespaces[namespace].methods;\n//     const supportedEvents = supportedNamespaces[namespace].events;\n//     const supportedAccounts = supportedNamespaces[namespace].accounts;\n//\n//     supportedChains.forEach((chain) => {\n//       if (!supportedAccounts.some((account) => account.includes(chain))) {\n//         throw new Error(`No accounts provided for chain ${chain} in namespace ${namespace}`);\n//       }\n//     });\n//\n//     namespaces[namespace] = {\n//       chains: supportedChains,\n//       methods: supportedMethods,\n//       events: supportedEvents,\n//       accounts: supportedAccounts,\n//     };\n//   });\n//\n//   // verify all required namespaces are supported\n//   const err = isConformingNamespaces(requiredNamespaces, namespaces, \"approve()\");\n//   if (err) throw new Error(err.message);\n//\n//   const approvedNamespaces = {};\n//\n//   // if both required & optional namespaces are empty, return all supported namespaces by the wallet\n//   if (!Object.keys(requiredNamespaces).length && !Object.keys(optionalNamespaces).length)\n//     return namespaces;\n//\n//   // assign accounts for the required namespaces\n//   Object.keys(normalizedRequired).forEach((requiredNamespace) => {\n//     const chains = supportedNamespaces[requiredNamespace].chains.filter((chain) =>\n//       normalizedRequired[requiredNamespace]?.chains?.includes(chain),\n//     );\n//     const methods = supportedNamespaces[requiredNamespace].methods.filter((method) =>\n//       normalizedRequired[requiredNamespace]?.methods?.includes(method),\n//     );\n//     const events = supportedNamespaces[requiredNamespace].events.filter((event) =>\n//       normalizedRequired[requiredNamespace]?.events?.includes(event),\n//     );\n//\n//     const accounts = chains\n//       .map((chain: string) =>\n//         supportedNamespaces[requiredNamespace].accounts.filter((account: string) =>\n//           account.includes(`${chain}:`),\n//         ),\n//       )\n//       .flat();\n//\n//     approvedNamespaces[requiredNamespace] = {\n//       chains,\n//       methods,\n//       events,\n//       accounts,\n//     };\n//   });\n//\n//   // add optional namespaces\n//   Object.keys(normalizedOptional).forEach((optionalNamespace) => {\n//     if (!supportedNamespaces[optionalNamespace]) return;\n//\n//     const chainsToAdd = normalizedOptional[optionalNamespace]?.chains?.filter((chain) =>\n//       supportedNamespaces[optionalNamespace].chains.includes(chain),\n//     );\n//     const methodsToAdd = supportedNamespaces[optionalNamespace].methods.filter((method) =>\n//       normalizedOptional[optionalNamespace]?.methods?.includes(method),\n//     );\n//     const eventsToAdd = supportedNamespaces[optionalNamespace].events.filter((event) =>\n//       normalizedOptional[optionalNamespace]?.events?.includes(event),\n//     );\n//\n//     const accountsToAdd = chainsToAdd\n//       ?.map((chain: string) =>\n//         supportedNamespaces[optionalNamespace].accounts.filter((account: string) =>\n//           account.includes(`${chain}:`),\n//         ),\n//       )\n//       .flat();\n//\n//     approvedNamespaces[optionalNamespace] = {\n//       chains: mergeArrays(approvedNamespaces[optionalNamespace]?.chains, chainsToAdd),\n//       methods: mergeArrays(approvedNamespaces[optionalNamespace]?.methods, methodsToAdd),\n//       events: mergeArrays(approvedNamespaces[optionalNamespace]?.events, eventsToAdd),\n//       accounts: mergeArrays(approvedNamespaces[optionalNamespace]?.accounts, accountsToAdd),\n//     };\n//   });\n//\n//   return approvedNamespaces;\n// }\nfunction isCaipNamespace(namespace) {\n    return namespace.includes(\":\");\n}\nfunction parseNamespaceKey(namespace) {\n    return isCaipNamespace(namespace) ? namespace.split(\":\")[0] : namespace;\n}\n/**\n * Converts\n * ```\n * {\n *  \"eip155:1\": {...},\n *  \"eip155:2\": {...},\n * }\n * ```\n * into\n * ```\n * {\n *  \"eip155\": {\n *      chains: [\"eip155:1\", \"eip155:2\"],\n *      ...\n *    }\n * }\n *```\n */\n// export function normalizeNamespaces(\n//   namespaces: ProposalTypes.RequiredNamespaces,\n// ): ProposalTypes.RequiredNamespaces {\n//   const normalizedNamespaces = {} as ProposalTypes.RequiredNamespaces;\n//   if (!isValidObject(namespaces)) return normalizedNamespaces;\n//   for (const [key, values] of Object.entries(namespaces)) {\n//     const chains = isCaipNamespace(key) ? [key] : values.chains;\n//     const methods = values.methods || [];\n//     const events = values.events || [];\n//     const normalizedKey = parseNamespaceKey(key);\n//     normalizedNamespaces[normalizedKey] = {\n//       ...normalizedNamespaces[normalizedKey],\n//       chains: mergeArrays(chains, normalizedNamespaces[normalizedKey]?.chains),\n//       methods: mergeArrays(methods, normalizedNamespaces[normalizedKey]?.methods),\n//       events: mergeArrays(events, normalizedNamespaces[normalizedKey]?.events),\n//     };\n//   }\n//   return normalizedNamespaces;\n// }\n// export function getNamespacesFromAccounts(accounts: string[]) {\n//   const namespaces = {};\n//   accounts?.forEach((account) => {\n//     const [namespace, chainId] = account.split(\":\");\n//     if (!namespaces[namespace]) {\n//       namespaces[namespace] = {\n//         accounts: [],\n//         chains: [],\n//         events: [],\n//       };\n//     }\n//     namespaces[namespace].accounts.push(account);\n//     namespaces[namespace].chains.push(`${namespace}:${chainId}`);\n//   });\n//\n//   return namespaces;\n// }\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.PROVIDER_EVENTS = void 0;\nexports.PROVIDER_EVENTS = {\n    DEFAULT_CHAIN_CHANGED: \"default_chain_changed\",\n    UPDATE_NAMESPACES: \"update_name_spaces\",\n    SESSION_CONNECTING: \"session_connecting\"\n};\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./values\"), exports);\n__exportStar(require(\"./events\"), exports);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.GENERIC_SUBPROVIDER_NAME = exports.RPC_URL = exports.STORAGE = exports.CONTEXT = exports.WC_VERSION = exports.PROTOCOL = exports.RELAY_URL = exports.LOGGER = void 0;\nexports.LOGGER = \"error\";\nexports.RELAY_URL = \"wss://relay.walletconnect.com\";\nexports.PROTOCOL = \"wc\";\nexports.WC_VERSION = 2;\nexports.CONTEXT = \"universal_provider\";\nexports.STORAGE = `${exports.PROTOCOL}@${exports.WC_VERSION}:${exports.CONTEXT}:`;\nexports.RPC_URL = \"https://rpc.walletconnect.com/v1/\";\nexports.GENERIC_SUBPROVIDER_NAME = \"generic\";\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst constants_1 = require(\"../constants\");\nconst core_1 = require(\"@okxconnect/core\");\nconst utils_1 = require(\"../utils\");\nconst JsonRpcConnection_1 = require(\"./rpc/JsonRpcConnection\");\nconst JsonRpcProvider_1 = require(\"./rpc/JsonRpcProvider\");\nclass AptosProvider {\n    constructor(opts, name, client, events) {\n        this.name = \"aptos\";\n        this.namespace = opts.namespace;\n        this.events = events;\n        this.client = client;\n        this.chainId = this.getDefaultChain();\n        this.httpProviders = this.createHttpProviders();\n        this.name = name;\n    }\n    updateNamespace(namespace) {\n        this.namespace = Object.assign(this.namespace, namespace);\n    }\n    requestAccounts() {\n        return this.getAccounts();\n    }\n    request(args) {\n        return __awaiter(this, void 0, void 0, function* () {\n            (0, core_1.logDebug)(\"solana request --args--string>\", JSON.stringify(args));\n            (0, core_1.logDebug)(\"solana provider namespace: \", this.namespace);\n            if (this.namespace.methods.includes(args.method)) {\n                return this.client.request(args);\n            }\n            else {\n                throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED, \"Please upgrade OKX APP\");\n            }\n        });\n    }\n    setDefaultChain(chainId, rpcUrl) {\n        // http provider exists so just set the chainId\n        if (!this.httpProviders[chainId]) {\n            this.setHttpProvider(chainId, rpcUrl);\n        }\n        this.chainId = chainId;\n        this.events.emit(constants_1.PROVIDER_EVENTS.DEFAULT_CHAIN_CHANGED, `${this.name}:${chainId}`);\n    }\n    getDefaultChain() {\n        if (this.chainId)\n            return this.chainId;\n        if (this.namespace.defaultChain)\n            return this.namespace.defaultChain;\n        const chainId = this.namespace.chains[0];\n        if (!chainId)\n            throw new Error(`ChainId not found`);\n        return chainId.split(\":\")[1];\n    }\n    // --------- PRIVATE --------- //\n    getAccounts() {\n        const accounts = this.namespace.accounts;\n        if (!accounts) {\n            return [];\n        }\n        return [\n            ...new Set(accounts\n                // get the accounts from the active chain\n                .filter((account) => account.split(\":\")[1] === this.chainId.toString())\n                // remove namespace & chainId from the string\n                .map((account) => account.split(\":\")[2])),\n        ];\n    }\n    createHttpProviders() {\n        const http = {};\n        this.namespace.chains.forEach((chain) => {\n            const parsedChainId = (0, utils_1.getChainId)(chain);\n            const parsedRpc = (0, utils_1.getRpcUrl)(chain, this.namespace);\n            let httpProvider = this.createHttpProvider(parsedChainId, parsedRpc);\n            if (httpProvider) {\n                http[parsedChainId] = httpProvider;\n            }\n        });\n        return http;\n    }\n    getHttpProvider() {\n        const chain = `${this.chainId}`;\n        const http = this.httpProviders[chain];\n        if (typeof http === \"undefined\") {\n            throw new Error(`JSON-RPC provider for ${chain} not found`);\n        }\n        return http;\n    }\n    setHttpProvider(chainId, rpcUrl) {\n        const http = this.createHttpProvider(chainId, rpcUrl);\n        if (http) {\n            this.httpProviders[chainId] = http;\n        }\n    }\n    createHttpProvider(chainId, rpcUrl) {\n        // 没有备用rpc对外提供\n        const rpc = rpcUrl;\n        if (!rpc) {\n            // logError(`No RPC url provided for chainId: ${chainId}`);\n            // throw new Error(`No RPC url provided for chainId: ${chainId}`);\n        }\n        else {\n            const http = new JsonRpcProvider_1.JsonRpcProvider(new JsonRpcConnection_1.JsonRpcConnection(rpc, (0, utils_1.getGlobal)(\"disableProviderPing\")));\n            return http;\n        }\n    }\n    showRequestModal(args) {\n        return true;\n    }\n}\nexports.default = AptosProvider;\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst constants_1 = require(\"../constants\");\nconst core_1 = require(\"@okxconnect/core\");\nconst utils_1 = require(\"../utils\");\nconst JsonRpcConnection_1 = require(\"./rpc/JsonRpcConnection\");\nconst JsonRpcProvider_1 = require(\"./rpc/JsonRpcProvider\");\nclass BtcProvider {\n    constructor(opts, name, client, events) {\n        this.name = core_1.NameSpaceKeyBtc;\n        this.namespace = opts.namespace;\n        this.events = events;\n        this.client = client;\n        this.chainId = this.getDefaultChain();\n        this.httpProviders = this.createHttpProviders();\n        this.name = name;\n    }\n    updateNamespace(namespace) {\n        this.namespace = Object.assign(this.namespace, namespace);\n    }\n    requestAccounts() {\n        return this.getAccounts();\n    }\n    request(args) {\n        return __awaiter(this, void 0, void 0, function* () {\n            (0, core_1.logDebug)(\"btc request --args--string>\", JSON.stringify(args));\n            (0, core_1.logDebug)(\"btc provider namespace: \", JSON.stringify(this.namespace));\n            if (this.namespace.methods.includes(args.method)) {\n                return this.client.request(args);\n            }\n            return this.getHttpProvider().request(args);\n        });\n    }\n    setDefaultChain(chainId, rpcUrl) {\n        // http provider exists so just set the chainId\n        if (!this.httpProviders[chainId]) {\n            this.setHttpProvider(chainId, rpcUrl);\n        }\n        this.chainId = chainId;\n        this.events.emit(constants_1.PROVIDER_EVENTS.DEFAULT_CHAIN_CHANGED, `${this.name}:${chainId}`);\n    }\n    getDefaultChain() {\n        if (this.chainId)\n            return this.chainId;\n        if (this.namespace.defaultChain)\n            return this.namespace.defaultChain;\n        const chainId = this.namespace.chains[0];\n        if (!chainId)\n            throw new Error(`ChainId not found`);\n        return chainId.split(\":\")[1];\n    }\n    // --------- PRIVATE --------- //\n    getAccounts() {\n        const accounts = this.namespace.accounts;\n        if (!accounts) {\n            return [];\n        }\n        return [\n            ...new Set(accounts\n                // get the accounts from the active chain\n                .filter((account) => account.split(\":\")[1] === this.chainId.toString())\n                // remove namespace & chainId from the string\n                .map((account) => account.split(\":\")[2])),\n        ];\n    }\n    createHttpProviders() {\n        const http = {};\n        this.namespace.chains.forEach((chain) => {\n            const parsedChainId = (0, utils_1.getChainId)(chain);\n            const parsedRpc = (0, utils_1.getRpcUrl)(chain, this.namespace);\n            let httpProvider = this.createHttpProvider(parsedChainId, parsedRpc);\n            if (httpProvider) {\n                http[parsedChainId] = httpProvider;\n            }\n        });\n        return http;\n    }\n    getHttpProvider() {\n        const chain = `${this.chainId}`;\n        const http = this.httpProviders[chain];\n        if (typeof http === \"undefined\") {\n            throw new Error(`JSON-RPC provider for ${chain} not found`);\n        }\n        return http;\n    }\n    setHttpProvider(chainId, rpcUrl) {\n        const http = this.createHttpProvider(chainId, rpcUrl);\n        if (http) {\n            this.httpProviders[chainId] = http;\n        }\n    }\n    createHttpProvider(chainId, rpcUrl) {\n        // 没有备用rpc对外提供\n        const rpc = rpcUrl;\n        if (!rpc) {\n            (0, core_1.logError)(`No RPC url provided for chainId: ${chainId}`);\n            // throw new Error(`No RPC url provided for chainId: ${chainId}`);\n        }\n        else {\n            const http = new JsonRpcProvider_1.JsonRpcProvider(new JsonRpcConnection_1.JsonRpcConnection(rpc, (0, utils_1.getGlobal)(\"disableProviderPing\")));\n            return http;\n        }\n    }\n    showRequestModal(args) {\n        return true;\n    }\n}\nexports.default = BtcProvider;\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst constants_1 = require(\"../constants\");\nconst core_1 = require(\"@okxconnect/core\");\nconst utils_1 = require(\"../utils\");\nconst JsonRpcConnection_1 = require(\"./rpc/JsonRpcConnection\");\nconst JsonRpcProvider_1 = require(\"./rpc/JsonRpcProvider\");\nclass CosmosProvider {\n    constructor(opts, client, events) {\n        this.name = core_1.NameSpaceKeyCosmos;\n        this.namespace = opts.namespace;\n        this.events = events;\n        this.client = client;\n        this.chainId = this.getDefaultChain();\n        this.httpProviders = this.createHttpProviders();\n    }\n    updateNamespace(namespace) {\n        this.namespace = Object.assign(this.namespace, namespace);\n    }\n    requestAccounts() {\n        return this.getAccounts();\n    }\n    request(args) {\n        return __awaiter(this, void 0, void 0, function* () {\n            (0, core_1.logDebug)(\"cosmos request --args--string>\", JSON.stringify(args));\n            (0, core_1.logDebug)(\"cosmos provider namespace: \", JSON.stringify(this.namespace));\n            if (this.namespace.methods.includes(args.method)) {\n                return this.client.request(args);\n            }\n            else {\n                throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED, \"Please upgrade OKX APP\");\n            }\n        });\n    }\n    setDefaultChain(chainId, rpcUrl) {\n        // http provider exists so just set the chainId\n        if (!this.httpProviders[chainId]) {\n            this.setHttpProvider(chainId, rpcUrl);\n        }\n        this.chainId = chainId;\n        this.events.emit(constants_1.PROVIDER_EVENTS.DEFAULT_CHAIN_CHANGED, `${this.name}:${chainId}`);\n    }\n    getDefaultChain() {\n        if (this.chainId)\n            return this.chainId;\n        if (this.namespace.defaultChain)\n            return this.namespace.defaultChain;\n        const chainId = this.namespace.chains[0];\n        if (!chainId)\n            throw new Error(`ChainId not found`);\n        return chainId.split(\":\")[1];\n    }\n    // --------- PRIVATE --------- //\n    getAccounts() {\n        const accounts = this.namespace.accounts;\n        if (!accounts) {\n            return [];\n        }\n        return [\n            ...new Set(accounts\n                // get the accounts from the active chain\n                .filter((account) => account.split(\":\")[1] === this.chainId.toString())\n                // remove namespace & chainId from the string\n                .map((account) => account.split(\":\")[2])),\n        ];\n    }\n    createHttpProviders() {\n        const http = {};\n        this.namespace.chains.forEach((chain) => {\n            const parsedChainId = (0, utils_1.getChainId)(chain);\n            const parsedRpc = (0, utils_1.getRpcUrl)(chain, this.namespace);\n            let httpProvider = this.createHttpProvider(parsedChainId, parsedRpc);\n            if (httpProvider) {\n                http[parsedChainId] = httpProvider;\n            }\n        });\n        return http;\n    }\n    getHttpProvider() {\n        const chain = `${this.chainId}`;\n        const http = this.httpProviders[chain];\n        if (typeof http === \"undefined\") {\n            throw new Error(`JSON-RPC provider for ${chain} not found`);\n        }\n        return http;\n    }\n    setHttpProvider(chainId, rpcUrl) {\n        const http = this.createHttpProvider(chainId, rpcUrl);\n        if (http) {\n            this.httpProviders[chainId] = http;\n        }\n    }\n    createHttpProvider(chainId, rpcUrl) {\n        // 没有备用rpc对外提供\n        const rpc = rpcUrl;\n        if (!rpc) {\n            // logError(`No RPC url provided for chainId: ${chainId}`);\n            // throw new Error(`No RPC url provided for chainId: ${chainId}`);\n        }\n        else {\n            const http = new JsonRpcProvider_1.JsonRpcProvider(new JsonRpcConnection_1.JsonRpcConnection(rpc, (0, utils_1.getGlobal)(\"disableProviderPing\")));\n            return http;\n        }\n    }\n    showRequestModal(args) {\n        return true;\n    }\n}\nexports.default = CosmosProvider;\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Eip155Provider = void 0;\nconst utils_1 = require(\"../utils\");\nconst constants_1 = require(\"../constants\");\nconst core_1 = require(\"@okxconnect/core\");\nconst JsonRpcProvider_1 = require(\"./rpc/JsonRpcProvider\");\nconst JsonRpcConnection_1 = require(\"./rpc/JsonRpcConnection\");\nclass Eip155Provider {\n    constructor(opts, client, events) {\n        this.name = \"eip155\";\n        this.namespace = opts.namespace;\n        this.events = events;\n        this.client = client;\n        this.chainId = parseInt(this.getDefaultChain());\n        // rpc\n        this.httpProviders = this.createHttpProviders();\n        (0, core_1.logDebug)(\"eip155 constructor --opts.namespace-->\", opts.namespace);\n    }\n    isRecord(value) {\n        return typeof value === \"object\" && value !== null && !Array.isArray(value);\n    }\n    isArray(value) {\n        return typeof value === \"object\" && value !== null && Array.isArray(value);\n    }\n    updateRequestParams(args) {\n        let isDic = args.params && typeof args.params === 'object' && !Array.isArray(args.params);\n        if (args.method === 'wallet_switchEthereumChain') {\n            const switchChainId = args.chainId.split(\":\")[1];\n            // const hexChainId = parseInt(switchChainId, 16);\n            const decimalNumber = parseInt(switchChainId, 10);\n            if (isNaN(decimalNumber)) {\n                throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR, `Invalid decimal number,  chainId: '${switchChainId}' `);\n            }\n            if (!args.params) {\n                args.params = { chainId: '0x' + decimalNumber.toString(16) };\n            }\n            else if (isDic) { //为 Record<string, unknown>\n                let params = args.params;\n                if (!('chainId' in params)) {\n                    params['chainId'] = '0x' + decimalNumber.toString(16);\n                    args.params = params;\n                }\n            }\n            else {\n                throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR, `Request params error ,  method: '${args.method}' `);\n            }\n        }\n        else if (args.method === 'personal_sign'\n            || args.method === 'eth_signTypedData_v4'\n            || args.method === 'eth_sendTransaction'\n            || args.method === 'wallet_watchAsset') {\n            if (!args.params) {\n                throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR, `Request params is nil, method: '${args.method}'`);\n            }\n            if (this.isRecord(args.params)) {\n                let params = args.params;\n                (0, core_1.logDebug)(\"eip155 updateRequestParams params>\", JSON.stringify(params));\n                if ('chainId' in params) {\n                    const selectedChainId = args.chainId.split(\":\")[1];\n                    const chainNum = parseInt(selectedChainId, 10);\n                    let paramsChainString = String(params.chainId);\n                    let paramsChainId;\n                    if (paramsChainString.startsWith(this.name) && args.chainId === paramsChainString) { //为\n                        paramsChainId = chainNum;\n                    }\n                    else if (paramsChainString.startsWith(\"0x\")) {\n                        paramsChainId = parseInt(paramsChainString, 16);\n                    }\n                    else if (!isNaN(Number(paramsChainString))) { //数字\n                        paramsChainId = parseInt(paramsChainString, 10);\n                    }\n                    else {\n                        throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR, `Invalid params.chainId format, method: '${args.method}'`);\n                    }\n                    if (chainNum !== paramsChainId) {\n                        throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR, `Request params.chainId not equal chain,  method: '${args.method}' `);\n                    }\n                }\n            }\n            else {\n                throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR, `Invalid request params type, method: '${args.method}'`);\n            }\n        }\n    }\n    //adapt array\n    adaptArray(args) {\n        if (args.method === 'wallet_switchEthereumChain'\n            || args.method === 'wallet_addEthereumChain'\n            || args.method === 'wallet_watchAsset'\n            || args.method === 'eth_sendTransaction') {\n            if (this.isArray(args.params)) {\n                let paramsArr = args.params;\n                if (paramsArr) {\n                    if (paramsArr.length === 1) {\n                        let firstParam = args.params[0];\n                        if (this.isRecord(firstParam)) {\n                            args.params = firstParam;\n                        }\n                    }\n                    else if (paramsArr.length > 1) {\n                        throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `Request params only Support one data,  method: '${args.method}' `);\n                    }\n                    else {\n                        throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `Request params is nil,  method: '${args.method}' `);\n                    }\n                }\n            }\n        }\n        else if (args.method === 'eth_signTypedData_v4') {\n            if (this.isArray(args.params)) {\n                let paramsArr = args.params;\n                if (paramsArr && paramsArr.length > 2) {\n                    throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `Request params only Support one data,  method: '${args.method}' `);\n                }\n                else if (paramsArr && paramsArr.length === 0) {\n                    throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `Request params is nil,  method: '${args.method}' `);\n                }\n                let messageObj = {};\n                if (paramsArr && paramsArr.length === 2) {\n                    let addressObj = args.params[0]; //address\n                    if (addressObj && typeof addressObj === 'string') { //check address\n                        let isEqual = false;\n                        this.namespace.accounts.forEach((chain) => {\n                            let chainAddress = chain.split(':')[2];\n                            if (chainAddress.toLowerCase() === addressObj.toLowerCase()) {\n                                isEqual = true;\n                            }\n                        });\n                        (0, core_1.logDebug)(\"eip155 adaptArray eth_signTypedData_v4 >>>isEqual: \", isEqual);\n                        if (!isEqual) {\n                            throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `Request params address error, not equal,  method: '${args.method}' `);\n                        }\n                        if (this.isRecord(args.params[1])) {\n                            messageObj = args.params[1];\n                        }\n                        else {\n                            throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `Request params message data error,  method: '${args.method}' `);\n                        }\n                    }\n                    else {\n                        throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `Request params address error , not string,  method: '${args.method}' `);\n                    }\n                }\n                else if (paramsArr && paramsArr.length === 1) {\n                    if (this.isRecord(args.params[0])) {\n                        messageObj = args.params[0];\n                    }\n                    else {\n                        throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `Request params message data error,  method: '${args.method}' `);\n                    }\n                }\n                try {\n                    let messages = JSON.stringify(messageObj);\n                    args.params = {\n                        typedDataJson: messages\n                    };\n                }\n                catch (err) {\n                    throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `Request params call JSON.stringify() failed,  method: '${args.method}' `);\n                }\n            }\n        }\n        else if (args.method === 'personal_sign') {\n            if (this.isArray(args.params)) {\n                if (args.params && args.params.length > 2) {\n                    throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `Request params error,  method: '${args.method}' `);\n                }\n                else if (args.params && args.params.length === 0) {\n                    throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `Request params is nil,  method: '${args.method}' `);\n                }\n                let firstObj = args.params[0];\n                let secondObj = args.params[1];\n                if (secondObj && typeof secondObj === 'string') { //check address\n                    let isEqual = false;\n                    this.namespace.accounts.forEach((chain) => {\n                        let chainAddress = chain.split(':')[2];\n                        if (chainAddress.toLowerCase() === secondObj.toLowerCase()) {\n                            isEqual = true;\n                        }\n                    });\n                    (0, core_1.logDebug)(\"eip155 adaptArray personal_sign >>>isEqual: \", isEqual);\n                    if (!isEqual) {\n                        throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `Request params address error,  method: '${args.method}' `);\n                    }\n                }\n                if (firstObj && typeof firstObj === 'string') {\n                    args.params = {\n                        message: firstObj\n                    };\n                }\n                else {\n                    throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `Request params is error,  method: '${args.method}' `);\n                }\n            }\n        }\n    }\n    showRequestModal(args) {\n        switch (args.method) {\n            case \"eth_requestAccounts\":\n            case \"eth_accounts\":\n            case \"eth_chainId\":\n                return false;\n            case \"eth_sendTransaction\":\n            case \"eth_signTransaction\":\n            case \"eth_sign\":\n            case \"personal_sign\":\n            case \"eth_signTypedData\":\n            case \"wallet_addEthereumChain\":\n            case \"wallet_watchAsset\":\n            case \"eth_signTypedData_v4\":\n                return true;\n            case \"wallet_switchEthereumChain\": {\n                this.adaptArray(args);\n                this.updateRequestParams(args);\n                const { parsedChainId, hexChainId } = this.getHexChainIdFromRequest(args);\n                return !this.isChainApproved(parsedChainId);\n            }\n            default:\n                return false;\n        }\n        return false;\n    }\n    request(args) {\n        return __awaiter(this, void 0, void 0, function* () {\n            this.adaptArray(args);\n            (0, core_1.logDebug)(\"eip155 request --args--string>\", JSON.stringify(args));\n            this.updateRequestParams(args);\n            (0, core_1.logDebug)(\"eip155 request --params--string>\", JSON.stringify(args));\n            switch (args.method) {\n                case \"eth_requestAccounts\":\n                    return this.getAccounts();\n                case \"eth_accounts\":\n                    return this.getAccounts();\n                case \"eth_chainId\":\n                    return parseInt(this.getDefaultChain());\n                case \"wallet_switchEthereumChain\": {\n                    return (yield this.handleSwitchChain(args));\n                }\n                case \"wallet_addEthereumChain\":\n                    return this.addEthereumChain(args);\n                default:\n                    break;\n            }\n            if (this.namespace.methods.includes(args.method)) {\n                // personal_sign\n                // eth_signTypedData_v4\n                // eth_sendTransaction\n                // wallet_watchAsset\n                try {\n                    const response = yield this.client.request(args);\n                    (0, core_1.logDebug)(\"eip155 request --response----string>\", JSON.stringify(response));\n                    if (this.isRecord(response)) {\n                        if ('result' in response) {\n                            let result = response.result;\n                            if (result && typeof result === 'string' && (result === \"true\" || result === \"false\")) {\n                                (0, core_1.logDebug)(\"eip155 request --wallet_watchAsset>>>>\", result === \"true\");\n                                return (result === \"true\");\n                            }\n                            return response.result;\n                        }\n                    }\n                    return response;\n                }\n                catch (e) {\n                    (0, core_1.logDebug)(`eip155 request --response --error--string> e instanceof OKXConnectError ${e instanceof core_1.OKXConnectError}`, JSON.stringify(e));\n                    throw e;\n                }\n            }\n            else {\n                (0, core_1.logDebug)('[RPC] request begin');\n                return yield this.getHttpProvider().request(args);\n            }\n        });\n    }\n    addEthereumChain(args) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let resultData = (yield this.client.request(args));\n            try {\n                if ('result' in resultData) {\n                    let successData = resultData;\n                    let account = resultData.result;\n                    if (account) {\n                        const nameSpace = account.split(\":\")[0];\n                        const chainId = account.split(\":\")[1];\n                        const chain = nameSpace + ':' + chainId;\n                        let newNameSpace = this.namespace;\n                        this.namespace.accounts.push(account);\n                        this.namespace.chains.push(chain);\n                        if (this.isRecord(args.params)) {\n                            if (\"rpcUrls\" in args.params) {\n                                let rpcUrls = args.params.rpcUrls;\n                                let rpcUrl = rpcUrls ? rpcUrls[0] : undefined;\n                                if (rpcUrl) {\n                                    if (this.namespace.rpcMap) {\n                                        this.namespace.rpcMap[chainId] = rpcUrl;\n                                    }\n                                    else {\n                                        this.namespace.rpcMap = {\n                                            [chainId]: rpcUrl\n                                        };\n                                    }\n                                    this.setHttpProvider(chainId, rpcUrl);\n                                }\n                            }\n                        }\n                        this.events.emit(constants_1.PROVIDER_EVENTS.UPDATE_NAMESPACES, {\n                            eip155: this.namespace\n                        });\n                    }\n                }\n                else {\n                    new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `the method ${args.method} request error`);\n                }\n            }\n            catch (error) {\n                throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `the method ${args.method} request  error`);\n            }\n            return null;\n        });\n    }\n    updateNamespace(namespace) {\n        this.namespace = Object.assign(this.namespace, namespace);\n    }\n    setDefaultChain(chainId, rpcUrl) {\n        this.chainId = parseInt(chainId);\n        // set rpc\n        if (!this.httpProviders[chainId]) {\n            const rpc = rpcUrl || (0, utils_1.getRpcUrl)(`${this.name}:${chainId}`, this.namespace);\n            if (!rpc) {\n                // throw new Error(`No RPC url provided for chainId: ${chainId}`);\n                (0, core_1.logError)(`No RPC url provided for chainId: ${chainId}`);\n            }\n            else {\n                this.setHttpProvider(chainId, rpc);\n            }\n        }\n        this.events.emit(constants_1.PROVIDER_EVENTS.DEFAULT_CHAIN_CHANGED, `${this.name}:${chainId}`);\n    }\n    requestAccounts() {\n        return this.getAccounts();\n    }\n    getDefaultChain() {\n        if (this.chainId)\n            return this.chainId.toString();\n        if (this.namespace.defaultChain)\n            return this.namespace.defaultChain;\n        const chainId = this.namespace.chains[0];\n        if (!chainId)\n            throw new Error(`ChainId not found`);\n        return chainId.split(\":\")[1];\n    }\n    // ---------- Private ----------------------------------------------- //\n    getAccounts() {\n        const accounts = this.namespace.accounts;\n        (0, core_1.logDebug)(\"eip155 getAccounts \", accounts, this.chainId);\n        if (!accounts) {\n            return [];\n        }\n        return [\n            ...new Set(accounts\n                // get the accounts from the active chain\n                .filter((account) => account.split(\":\")[1] === this.chainId.toString())\n                // remove namespace & chainId from the string\n                .map((account) => account.split(\":\")[2])),\n        ];\n    }\n    getHexChainIdFromRequest(args) {\n        let params = args.params;\n        let hexChainId = \"0x0\";\n        if (params && \"chainId\" in params) {\n            hexChainId = params.chainId;\n        }\n        hexChainId = hexChainId.startsWith(\"0x\") ? hexChainId : `0x${hexChainId}`;\n        (0, core_1.logDebug)(\"handleSwitchChain -->args \", args);\n        (0, core_1.logDebug)(\"handleSwitchChain -->hexChainId \", hexChainId);\n        const parsedChainId = parseInt(hexChainId, 16);\n        (0, core_1.logDebug)(\"handleSwitchChain -->parsedChainId \", parsedChainId);\n        return { parsedChainId, hexChainId };\n    }\n    handleSwitchChain(args) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const { parsedChainId, hexChainId } = this.getHexChainIdFromRequest(args);\n            if (this.isChainApproved(parsedChainId)) {\n                this.setDefaultChain(`${parsedChainId}`);\n            }\n            else {\n                const resultData = (yield this.client.request({\n                    method: \"wallet_switchEthereumChain\",\n                    chainId: args.chainId,\n                    params: {\n                        chainId: hexChainId,\n                    },\n                }));\n                try {\n                    if ('result' in resultData) {\n                        let successData = resultData;\n                        let account = resultData.result;\n                        if (account) {\n                            const nameSpace = account.split(\":\")[0];\n                            const chainId = account.split(\":\")[1];\n                            const chain = nameSpace + ':' + chainId;\n                            let newNameSpace = this.namespace;\n                            this.namespace.accounts.push(account);\n                            this.namespace.chains.push(chain);\n                            (0, core_1.logDebug)(\"handleSwitchChain -->wallet_switchEthereumChain \", resultData);\n                            this.setDefaultChain(`${parsedChainId}`);\n                            this.events.emit(constants_1.PROVIDER_EVENTS.UPDATE_NAMESPACES, {\n                                eip155: this.namespace\n                            });\n                        }\n                    }\n                    else {\n                        new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `the method ${args.method} request error`);\n                    }\n                }\n                catch (error) {\n                    throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `the method ${args.method} request  error`);\n                }\n            }\n            return null;\n        });\n    }\n    isChainApproved(chainId) {\n        return this.namespace.chains.includes(`${this.name}:${chainId}`);\n    }\n    // rpc\n    createHttpProvider(chainId, rpcUrl) {\n        // 没有备用rpc对外提供\n        const rpc = rpcUrl;\n        if (!rpc) {\n            (0, core_1.logError)(`No RPC url provided for chainId: ${chainId}`);\n            //   throw new Error(`No RPC url provided for chainId: ${chainId}`);\n        }\n        else {\n            const http = new JsonRpcProvider_1.JsonRpcProvider(new JsonRpcConnection_1.JsonRpcConnection(rpc, (0, utils_1.getGlobal)(\"disableProviderPing\")));\n            return http;\n        }\n    }\n    createHttpProviders() {\n        const http = {};\n        this.namespace.chains.forEach((chain) => {\n            const parsedChainId = (0, utils_1.getChainId)(chain);\n            const parsedRpc = (0, utils_1.getRpcUrl)(chain, this.namespace);\n            (0, core_1.logDebug)('get parsed chain and rpc:', parsedChainId, parsedRpc);\n            let httpProvider = this.createHttpProvider(parsedChainId, parsedRpc);\n            if (httpProvider) {\n                http[parsedChainId] = httpProvider;\n            }\n        });\n        (0, core_1.logDebug)('get http providermap:', http);\n        return http;\n    }\n    setHttpProvider(chainId, rpcUrl) {\n        const http = this.createHttpProvider(chainId, rpcUrl);\n        if (http) {\n            this.httpProviders[chainId] = http;\n        }\n    }\n    getHttpProvider() {\n        const chain = `${this.chainId}`;\n        const http = this.httpProviders[chain];\n        (0, core_1.logDebug)('[RPC] get http provider:', chain, http);\n        if (typeof http === \"undefined\") {\n            throw new Error(`JSON-RPC provider for ${chain} not found`);\n        }\n        return http;\n    }\n}\nexports.Eip155Provider = Eip155Provider;\nexports.default = Eip155Provider;\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.JsonRpcConnection = void 0;\nconst eventemitter3_1 = require(\"eventemitter3\");\nconst cross_fetch_1 = __importDefault(require(\"cross-fetch\"));\nconst core_1 = require(\"@okxconnect/core\");\nconst core_2 = require(\"@okxconnect/core\");\nconst DEFAULT_HTTP_HEADERS = {\n    Accept: \"application/json\",\n    \"Content-Type\": \"application/json\",\n};\nconst DEFAULT_HTTP_METHOD = \"POST\";\nconst DEFAULT_FETCH_OPTS = {\n    headers: DEFAULT_HTTP_HEADERS,\n    method: DEFAULT_HTTP_METHOD,\n};\n// Source: https://nodejs.org/api/events.html#emittersetmaxlistenersn\nconst EVENT_EMITTER_MAX_LISTENERS_DEFAULT = 10;\nclass JsonRpcConnection {\n    constructor(url, disableProviderPing = false) {\n        this.url = url;\n        this.disableProviderPing = disableProviderPing;\n        this.events = new eventemitter3_1.EventEmitter();\n        this.isAvailable = false;\n        this.registering = false;\n        if (!(0, core_2.isHttpUrl)(url)) {\n            throw new Error(`Provided URL is not compatible with HTTP connection: ${url}`);\n        }\n        this.url = url;\n        this.disableProviderPing = disableProviderPing;\n    }\n    get connected() {\n        return this.isAvailable;\n    }\n    get connecting() {\n        return this.registering;\n    }\n    on(event, listener) {\n        this.events.on(event, listener);\n    }\n    once(event, listener) {\n        this.events.once(event, listener);\n    }\n    off(event, listener) {\n        this.events.off(event, listener);\n    }\n    removeListener(event, listener) {\n        this.events.removeListener(event, listener);\n    }\n    open() {\n        return __awaiter(this, arguments, void 0, function* (url = this.url) {\n            yield this.register(url);\n        });\n    }\n    close() {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (!this.isAvailable) {\n                throw new Error(\"Connection already closed\");\n            }\n            this.onClose();\n        });\n    }\n    send(payload) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (!this.isAvailable) {\n                yield this.register();\n            }\n            try {\n                const body = (0, core_1.safeJsonStringify)(payload);\n                const res = yield (0, cross_fetch_1.default)(this.url, Object.assign(Object.assign({}, DEFAULT_FETCH_OPTS), { body }));\n                const data = yield res.json();\n                this.onPayload({ data });\n            }\n            catch (e) {\n                this.onError(payload.id, e);\n            }\n        });\n    }\n    // ---------- Private ----------------------------------------------- //\n    register() {\n        return __awaiter(this, arguments, void 0, function* (url = this.url) {\n            if (!(0, core_2.isHttpUrl)(url)) {\n                throw new Error(`Provided URL is not compatible with HTTP connection: ${url}`);\n            }\n            if (this.registering) {\n                return new Promise((resolve, reject) => {\n                    this.events.once(\"register_error\", (error) => {\n                        reject(error);\n                    });\n                    this.events.once(\"open\", () => {\n                        if (typeof this.isAvailable === \"undefined\") {\n                            return reject(new Error(\"HTTP connection is missing or invalid\"));\n                        }\n                        resolve();\n                    });\n                });\n            }\n            this.url = url;\n            this.registering = true;\n            try {\n                if (!this.disableProviderPing) {\n                    const body = (0, core_1.safeJsonStringify)({ id: 1, jsonrpc: \"2.0\", method: \"test\", params: [] });\n                    yield (0, cross_fetch_1.default)(url, Object.assign(Object.assign({}, DEFAULT_FETCH_OPTS), { body }));\n                }\n                this.onOpen();\n            }\n            catch (e) {\n                const error = this.parseError(e);\n                this.events.emit(\"register_error\", error);\n                this.onClose();\n                throw error;\n            }\n        });\n    }\n    onOpen() {\n        this.isAvailable = true;\n        this.registering = false;\n        this.events.emit(\"open\");\n    }\n    onClose() {\n        this.isAvailable = false;\n        this.registering = false;\n        this.events.emit(\"close\");\n    }\n    onPayload(e) {\n        if (typeof e.data === \"undefined\")\n            return;\n        const payload = typeof e.data === \"string\" ? (0, core_1.safeJsonParse)(e.data) : e.data;\n        this.events.emit(\"payload\", payload);\n    }\n    onError(id, e) {\n        const error = this.parseError(e);\n        const message = error.message || error.toString();\n        const payload = (0, core_2.formatJsonRpcError)(id, message);\n        this.events.emit(\"payload\", payload);\n    }\n    parseError(e, url = this.url) {\n        return (0, core_2.parseConnectionError)(e, url, \"HTTP\");\n    }\n}\nexports.JsonRpcConnection = JsonRpcConnection;\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.JsonRpcProvider = void 0;\nconst eventemitter3_1 = require(\"eventemitter3\");\nconst types_1 = require(\"../../types\");\nconst core_1 = require(\"@okxconnect/core\");\nconst core_2 = require(\"@okxconnect/core\");\nclass JsonRpcProvider extends types_1.IJSONRpcProvider {\n    constructor(connection) {\n        super(connection);\n        this.events = new eventemitter3_1.EventEmitter();\n        this.connected = false;\n        this.connecting = false;\n        this.hasRegisteredEventListeners = false;\n        this.connection = this.setConnection(connection);\n        if (this.connection.connected) {\n            this.registerEventListeners();\n        }\n    }\n    connect() {\n        return __awaiter(this, arguments, void 0, function* (connection = this.connection) {\n            yield this.open(connection);\n        });\n    }\n    disconnect() {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield this.close();\n        });\n    }\n    on(event, listener) {\n        this.events.on(event, listener);\n    }\n    once(event, listener) {\n        this.events.once(event, listener);\n    }\n    off(event, listener) {\n        this.events.off(event, listener);\n    }\n    removeListener(event, listener) {\n        this.events.removeListener(event, listener);\n    }\n    request(request, context) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return this.requestStrict((0, core_1.formatJsonRpcRequest)(request.method, request.params || [], (0, core_1.getBigIntRpcId)().toString()), // casting to any is required in order to use BigInt as rpcId\n            context);\n        });\n    }\n    // ---------- Protected ----------------------------------------------- //\n    requestStrict(request, context) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return new Promise((resolve, reject) => __awaiter(this, void 0, void 0, function* () {\n                if (!this.connection.connected) {\n                    try {\n                        yield this.open();\n                    }\n                    catch (e) {\n                        reject(e);\n                    }\n                }\n                this.events.on(`${request.id}`, (response) => {\n                    if ((0, core_1.isJsonRpcError)(response)) {\n                        reject(response.error);\n                    }\n                    else {\n                        resolve(response.result);\n                    }\n                });\n                try {\n                    (0, core_2.logDebug)('[RPC] >>> send request', request, context);\n                    yield this.connection.send(request, context);\n                }\n                catch (e) {\n                    reject(e);\n                }\n            }));\n        });\n    }\n    setConnection(connection = this.connection) {\n        return connection;\n    }\n    onPayload(payload) {\n        this.events.emit(\"payload\", payload);\n        if ((0, core_1.isJsonRpcResponse)(payload)) {\n            this.events.emit(`${payload.id}`, payload);\n        }\n        else {\n            this.events.emit(\"message\", {\n                type: payload.method,\n                data: payload.params,\n            });\n        }\n    }\n    onClose(event) {\n        // Code 3000 indicates an abnormal closure signalled by the relay -> emit an error in this case.\n        if (event && event.code === 3000) {\n            this.events.emit(\"error\", new Error(`WebSocket connection closed abnormally with code: ${event.code} ${event.reason ? `(${event.reason})` : \"\"}`));\n        }\n        this.events.emit(\"disconnect\");\n    }\n    open() {\n        return __awaiter(this, arguments, void 0, function* (connection = this.connection) {\n            if (this.connection === connection && this.connection.connected)\n                return;\n            if (this.connection.connected)\n                this.close();\n            if (typeof connection === \"string\") {\n                yield this.connection.open(connection);\n                connection = this.connection;\n            }\n            this.connection = this.setConnection(connection);\n            yield this.connection.open();\n            this.registerEventListeners();\n            this.events.emit(\"connect\");\n        });\n    }\n    close() {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield this.connection.close();\n        });\n    }\n    // ---------- Private ----------------------------------------------- //\n    registerEventListeners() {\n        if (this.hasRegisteredEventListeners)\n            return;\n        this.connection.on(\"payload\", (payload) => this.onPayload(payload));\n        this.connection.on(\"close\", (event) => this.onClose(event));\n        this.connection.on(\"error\", (error) => this.events.emit(\"error\", error));\n        this.connection.on(\"register_error\", (_error) => this.onClose());\n        this.hasRegisteredEventListeners = true;\n    }\n}\nexports.JsonRpcProvider = JsonRpcProvider;\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SolanaProvider = void 0;\nconst constants_1 = require(\"../constants\");\nconst core_1 = require(\"@okxconnect/core\");\nconst utils_1 = require(\"../utils\");\nconst JsonRpcConnection_1 = require(\"./rpc/JsonRpcConnection\");\nconst JsonRpcProvider_1 = require(\"./rpc/JsonRpcProvider\");\nclass SolanaProvider {\n    constructor(opts, name, client, events) {\n        this.name = \"solana\";\n        this.namespace = opts.namespace;\n        this.events = events;\n        this.client = client;\n        this.chainId = this.getDefaultChain();\n        this.httpProviders = this.createHttpProviders();\n        this.name = name;\n    }\n    updateNamespace(namespace) {\n        this.namespace = Object.assign(this.namespace, namespace);\n    }\n    requestAccounts() {\n        return this.getAccounts();\n    }\n    request(args) {\n        return __awaiter(this, void 0, void 0, function* () {\n            (0, core_1.logDebug)(\"solana request --args--string>\", JSON.stringify(args));\n            (0, core_1.logDebug)(\"solana provider namespace: \", this.namespace);\n            if (this.namespace.methods.includes(args.method)) {\n                return this.client.request(args);\n            }\n            else {\n                throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED, \"Please upgrade OKX APP\");\n            }\n        });\n    }\n    setDefaultChain(chainId, rpcUrl) {\n        // http provider exists so just set the chainId\n        if (!this.httpProviders[chainId]) {\n            this.setHttpProvider(chainId, rpcUrl);\n        }\n        this.chainId = chainId;\n        this.events.emit(constants_1.PROVIDER_EVENTS.DEFAULT_CHAIN_CHANGED, `${this.name}:${chainId}`);\n    }\n    getDefaultChain() {\n        if (this.chainId)\n            return this.chainId;\n        if (this.namespace.defaultChain)\n            return this.namespace.defaultChain;\n        const chainId = this.namespace.chains[0];\n        if (!chainId)\n            throw new Error(`ChainId not found`);\n        return chainId.split(\":\")[1];\n    }\n    // --------- PRIVATE --------- //\n    getAccounts() {\n        const accounts = this.namespace.accounts;\n        if (!accounts) {\n            return [];\n        }\n        return [\n            ...new Set(accounts\n                // get the accounts from the active chain\n                .filter((account) => account.split(\":\")[1] === this.chainId.toString())\n                // remove namespace & chainId from the string\n                .map((account) => account.split(\":\")[2])),\n        ];\n    }\n    createHttpProviders() {\n        const http = {};\n        this.namespace.chains.forEach((chain) => {\n            const parsedChainId = (0, utils_1.getChainId)(chain);\n            const parsedRpc = (0, utils_1.getRpcUrl)(chain, this.namespace);\n            let httpProvider = this.createHttpProvider(parsedChainId, parsedRpc);\n            if (httpProvider) {\n                http[parsedChainId] = httpProvider;\n            }\n        });\n        return http;\n    }\n    getHttpProvider() {\n        const chain = `${this.chainId}`;\n        const http = this.httpProviders[chain];\n        if (typeof http === \"undefined\") {\n            throw new Error(`JSON-RPC provider for ${chain} not found`);\n        }\n        return http;\n    }\n    setHttpProvider(chainId, rpcUrl) {\n        const http = this.createHttpProvider(chainId, rpcUrl);\n        if (http) {\n            this.httpProviders[chainId] = http;\n        }\n    }\n    createHttpProvider(chainId, rpcUrl) {\n        // 没有备用rpc对外提供\n        const rpc = rpcUrl;\n        if (!rpc) {\n            // logError(`No RPC url provided for chainId: ${chainId}`);\n            // throw new Error(`No RPC url provided for chainId: ${chainId}`);\n        }\n        else {\n            const http = new JsonRpcProvider_1.JsonRpcProvider(new JsonRpcConnection_1.JsonRpcConnection(rpc, (0, utils_1.getGlobal)(\"disableProviderPing\")));\n            return http;\n        }\n    }\n    getPubkey(chainId) {\n        return this.getWalletAddress(chainId);\n    }\n    //   {\n    //     \"chains\": [\"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp\" ],\n    //     \"accounts\": [\"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp:F7wnJc5wiBGy1k87jv6gyNwE3jMEWd18oTQiYsF1xVG7\"],\n    //     \"methods\": [\n    //         \"solana_signTransaction\",\n    //         \"solana_signMessage\"\n    //     ],\n    //     \"defaultChain\": \"5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp\"\n    // }\n    // TODO:确认上面的defaultChain是否正确（没有solana前缀）\n    getWalletAddress(chainId) {\n        if (!chainId) {\n            chainId = this.namespace.defaultChain;\n            if (!(chainId === null || chainId === void 0 ? void 0 : chainId.startsWith(\"solana\"))) {\n                chainId = `solana:${chainId}`;\n            }\n        }\n        return this.namespace.accounts.filter(function (account) {\n            let components = account.split(\":\");\n            return components.length > 2 && account.startsWith(chainId);\n        }).map(function (account) {\n            let components = account.split(\":\");\n            return components[2];\n        })[0];\n    }\n    showRequestModal(args) {\n        return true;\n    }\n}\nexports.SolanaProvider = SolanaProvider;\nexports.default = SolanaProvider;\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SuiProvider = void 0;\nconst constants_1 = require(\"../constants\");\nconst core_1 = require(\"@okxconnect/core\");\nconst utils_1 = require(\"../utils\");\nconst JsonRpcConnection_1 = require(\"./rpc/JsonRpcConnection\");\nconst JsonRpcProvider_1 = require(\"./rpc/JsonRpcProvider\");\nclass SuiProvider {\n    constructor(opts, client, events) {\n        this.name = core_1.NameSpaceKeySui;\n        this.namespace = opts.namespace;\n        this.events = events;\n        this.client = client;\n        this.chainId = this.getDefaultChain();\n        this.httpProviders = this.createHttpProviders();\n    }\n    updateNamespace(namespace) {\n        this.namespace = Object.assign(this.namespace, namespace);\n    }\n    request(args) {\n        return __awaiter(this, void 0, void 0, function* () {\n            (0, core_1.logDebug)(\"sui request --args--string>\", JSON.stringify(args));\n            (0, core_1.logDebug)(\"sui provider namespace: \", this.namespace);\n            if (this.namespace.methods.includes(args.method)) {\n                return this.client.request(args);\n            }\n            return this.getHttpProvider().request(args);\n        });\n    }\n    requestAccounts() {\n        return this.getAccounts();\n    }\n    setDefaultChain(chainId, rpcUrl) {\n        if (!this.httpProviders[chainId]) {\n            this.setHttpProvider(chainId, rpcUrl);\n        }\n        this.chainId = chainId;\n        this.events.emit(constants_1.PROVIDER_EVENTS.DEFAULT_CHAIN_CHANGED, `${this.name}:${chainId}`);\n    }\n    getDefaultChain() {\n        if (this.chainId)\n            return this.chainId;\n        if (this.namespace.defaultChain)\n            return this.namespace.defaultChain;\n        const chainId = this.namespace.chains[0];\n        if (!chainId)\n            throw new Error(`ChainId not found`);\n        return chainId.split(\":\")[1];\n    }\n    // --------- PRIVATE --------- //\n    getAccounts() {\n        const accounts = this.namespace.accounts;\n        if (!accounts) {\n            return [];\n        }\n        return [\n            ...new Set(accounts\n                // get the accounts from the active chain\n                .filter((account) => account.split(\":\")[1] === this.chainId.toString())\n                // remove namespace & chainId from the string\n                .map((account) => account.split(\":\")[2])),\n        ];\n    }\n    createHttpProviders() {\n        const http = {};\n        this.namespace.chains.forEach((chain) => {\n            const parsedChainId = (0, utils_1.getChainId)(chain);\n            const parsedRpc = (0, utils_1.getRpcUrl)(chain, this.namespace);\n            let httpProvider = this.createHttpProvider(parsedChainId, parsedRpc);\n            if (httpProvider) {\n                http[parsedChainId] = httpProvider;\n            }\n        });\n        return http;\n    }\n    getHttpProvider() {\n        const chain = `${this.chainId}`;\n        const http = this.httpProviders[chain];\n        (0, core_1.logDebug)('[RPC] get http provider:', chain, http);\n        if (typeof http === \"undefined\") {\n            throw new Error(`JSON-RPC provider for ${chain} not found`);\n        }\n        return http;\n    }\n    setHttpProvider(chainId, rpcUrl) {\n        const http = this.createHttpProvider(chainId, rpcUrl);\n        if (http) {\n            (0, core_1.logDebug)(\"setHttpProvider\", chainId, rpcUrl);\n            this.httpProviders[chainId] = http;\n        }\n    }\n    createHttpProvider(chainId, rpcUrl) {\n        // 没有备用rpc对外提供\n        const rpc = rpcUrl;\n        if (!rpc) {\n            (0, core_1.logError)(`No RPC url provided for chainId: ${chainId}`);\n            // throw new Error(`No RPC url provided for chainId: ${chainId}`);\n        }\n        else {\n            const http = new JsonRpcProvider_1.JsonRpcProvider(new JsonRpcConnection_1.JsonRpcConnection(rpc, (0, utils_1.getGlobal)(\"disableProviderPing\")));\n            return http;\n        }\n    }\n    getPubkey(chainId) {\n        return this.getWalletAddress(chainId);\n    }\n    getWalletAddress(chainId) {\n        if (!chainId) {\n            chainId = this.namespace.defaultChain;\n            if (!(chainId === null || chainId === void 0 ? void 0 : chainId.startsWith(\"sui\"))) {\n                chainId = `sui:${chainId}`;\n            }\n        }\n        return this.namespace.accounts.filter(function (account) {\n            let components = account.split(\":\");\n            return components.length > 2 && account.startsWith(chainId);\n        }).map(function (account) {\n            let components = account.split(\":\");\n            return components[2];\n        })[0];\n    }\n    showRequestModal(args) {\n        switch (args.method) {\n            case \"sui_signMessage\":\n            case \"sui_signPersonalMessage\":\n            case \"sui_signTransactionBlock\":\n            case \"sui_signAndExecuteTransactionBlock\":\n                return true;\n            default:\n                return false;\n        }\n        return false;\n    }\n}\nexports.SuiProvider = SuiProvider;\nexports.default = SuiProvider;\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst constants_1 = require(\"../constants\");\nconst core_1 = require(\"@okxconnect/core\");\nconst utils_1 = require(\"../utils\");\nconst JsonRpcConnection_1 = require(\"./rpc/JsonRpcConnection\");\nconst JsonRpcProvider_1 = require(\"./rpc/JsonRpcProvider\");\nclass TONProvider {\n    constructor(opts, client, events) {\n        this.name = core_1.NameSpaceKeyTON;\n        this.namespace = opts.namespace;\n        this.events = events;\n        this.client = client;\n        this.chainId = this.getDefaultChain();\n        this.httpProviders = this.createHttpProviders();\n    }\n    updateNamespace(namespace) {\n        this.namespace = Object.assign(this.namespace, namespace);\n    }\n    isRecord(value) {\n        return typeof value === \"object\" && value !== null && !Array.isArray(value);\n    }\n    request(args) {\n        return __awaiter(this, void 0, void 0, function* () {\n            var _a, _b, _c, _d;\n            (0, core_1.logDebug)(\"TONProvider request --args--string>\", JSON.stringify(args));\n            (0, core_1.logDebug)(\"TONProvider request provider namespace: \", this.namespace);\n            if (this.namespace.methods.includes(args.method)) {\n                if (!args.params) {\n                    throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, \"ton request params is nil\");\n                }\n                if (this.isRecord(args.params)) {\n                    const _e = args.params, { validUntil } = _e, newParams = __rest(_e, [\"validUntil\"]);\n                    let fromAddress = (_b = (_a = this.namespace.payload) === null || _a === void 0 ? void 0 : _a.ton_addr) === null || _b === void 0 ? void 0 : _b.address;\n                    if ('from' in newParams) {\n                        fromAddress = newParams.from || ((_d = (_c = this.namespace.payload) === null || _c === void 0 ? void 0 : _c.ton_addr) === null || _d === void 0 ? void 0 : _d.address);\n                    }\n                    args.params['from'] = fromAddress;\n                    args.params['network'] = this.getDefaultChain();\n                    args.params['valid_until'] = validUntil;\n                    let response = yield this.client.request(args);\n                    if (this.isRecord(response) && 'result' in response) {\n                        const result = {\n                            boc: response.result.toString()\n                        };\n                        (0, core_1.logDebug)(\"TONProvider request provider response: \", JSON.stringify(response));\n                        (0, core_1.logDebug)(\"TONProvider request provider result: \", JSON.stringify(result));\n                        return result;\n                    }\n                    throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, \"ton_send request response is nil\");\n                }\n                else {\n                    throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, \"ton request params type add nil\");\n                }\n            }\n            return this.getHttpProvider().request(args);\n        });\n    }\n    requestAccounts() {\n        return this.getAccounts();\n    }\n    setDefaultChain(chainId, rpcUrl) {\n        if (!this.httpProviders[chainId]) {\n            this.setHttpProvider(chainId, rpcUrl);\n        }\n        this.chainId = chainId;\n        this.events.emit(constants_1.PROVIDER_EVENTS.DEFAULT_CHAIN_CHANGED, `${this.name}:${chainId}`);\n    }\n    getDefaultChain() {\n        if (this.chainId)\n            return this.chainId;\n        if (this.namespace.defaultChain)\n            return this.namespace.defaultChain;\n        const chainId = this.namespace.chains[0];\n        if (!chainId)\n            throw new Error(`ChainId not found`);\n        return chainId.split(\":\")[1];\n    }\n    // --------- PRIVATE --------- //\n    getAccounts() {\n        var _a, _b;\n        const accounts = this.namespace.accounts;\n        (0, core_1.logDebug)(\"ton getAccounts accounts :\", accounts);\n        (0, core_1.logDebug)(\"ton getAccounts .namespace :\", JSON.stringify(this.namespace));\n        if (!accounts) {\n            return [];\n        }\n        let address = (_b = (_a = this.namespace.payload) === null || _a === void 0 ? void 0 : _a.ton_addr) === null || _b === void 0 ? void 0 : _b.address;\n        (0, core_1.logDebug)(\"ton getAccounts address :\", address);\n        if (address) {\n            return [\n                address\n            ];\n        }\n        return [];\n    }\n    createHttpProviders() {\n        const http = {};\n        this.namespace.chains.forEach((chain) => {\n            const parsedChainId = (0, utils_1.getChainId)(chain);\n            const parsedRpc = (0, utils_1.getRpcUrl)(chain, this.namespace);\n            let httpProvider = this.createHttpProvider(parsedChainId, parsedRpc);\n            if (httpProvider) {\n                http[parsedChainId] = httpProvider;\n            }\n        });\n        return http;\n    }\n    getHttpProvider() {\n        const chain = `${this.chainId}`;\n        const http = this.httpProviders[chain];\n        (0, core_1.logDebug)('[RPC] get http provider:', chain, http);\n        if (typeof http === \"undefined\") {\n            throw new Error(`JSON-RPC provider for ${chain} not found`);\n        }\n        return http;\n    }\n    setHttpProvider(chainId, rpcUrl) {\n        const http = this.createHttpProvider(chainId, rpcUrl);\n        if (http) {\n            (0, core_1.logDebug)(\"setHttpProvider\", chainId, rpcUrl);\n            this.httpProviders[chainId] = http;\n        }\n    }\n    createHttpProvider(chainId, rpcUrl) {\n        // 没有备用rpc对外提供\n        const rpc = rpcUrl;\n        if (!rpc) {\n            (0, core_1.logError)(`No RPC url provided for chainId: ${chainId}`);\n            // throw new Error(`No RPC url provided for chainId: ${chainId}`);\n        }\n        else {\n            const http = new JsonRpcProvider_1.JsonRpcProvider(new JsonRpcConnection_1.JsonRpcConnection(rpc, (0, utils_1.getGlobal)(\"disableProviderPing\")));\n            return http;\n        }\n    }\n    showRequestModal(args) {\n        switch (args.method) {\n            case \"ton_sendTransaction\":\n                return true;\n            default:\n                return false;\n        }\n        return false;\n    }\n}\nexports.default = TONProvider;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./providers\"), exports);\n__exportStar(require(\"./misc\"), exports);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.IJSONRpcProvider = exports.IJSONRpcConnection = void 0;\nclass IJSONRpcConnection {\n}\nexports.IJSONRpcConnection = IJSONRpcConnection;\nclass IJSONRpcProvider {\n    constructor(opt) {\n    }\n}\nexports.IJSONRpcProvider = IJSONRpcProvider;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.setGlobal = exports.getGlobal = void 0;\nconst globals = {};\nconst getGlobal = (key) => {\n    return globals[key];\n};\nexports.getGlobal = getGlobal;\nconst setGlobal = (key, value) => {\n    globals[key] = value;\n};\nexports.setGlobal = setGlobal;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./misc\"), exports);\n__exportStar(require(\"./globals\"), exports);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getRpcUrl = getRpcUrl;\nexports.getChainId = getChainId;\nexports.convertChainIdToNumber = convertChainIdToNumber;\nexports.parseChainId = parseChainId;\nexports.mergeArrays = mergeArrays;\nfunction getRpcUrl(chainId, rpc, projectId) {\n    var _a;\n    const chain = parseChainId(chainId);\n    // no default\n    return (((_a = rpc.rpcMap) === null || _a === void 0 ? void 0 : _a[chain.reference]) ||\n        ``);\n}\nfunction getChainId(chain) {\n    return chain.includes(\":\") ? chain.split(\":\")[1] : chain;\n}\n// export function validateChainApproval(chain: string, chains: string[]): void {\n//   if (!chains.includes(chain)) {\n//     throw new Error(\n//       `Chain '${chain}' not approved. Please use one of the following: ${chains.toString()}`,\n//     );\n//   }\n// }\n// export function getChainsFromApprovedSession(accounts: string[]): string[] {\n//   return accounts.map((address) => `${address.split(\":\")[0]}:${address.split(\":\")[1]}`);\n// }\n// export function getAccountsFromSession(namespace: string, session: SessionTypes.Struct): string[] {\n//   // match namespaces e.g. eip155 with eip155:1\n//   const matchedNamespaceKeys = Object.keys(session.namespaces).filter((key) =>\n//     key.includes(namespace),\n//   );\n//   if (!matchedNamespaceKeys.length) return [];\n//   const accounts: string[] = [];\n//   matchedNamespaceKeys.forEach((key) => {\n//     const accountsForNamespace = session.namespaces[key].accounts;\n//     accounts.push(...accountsForNamespace);\n//   });\n//   return accounts;\n// }\n// export function mergeRequiredOptionalNamespaces(\n//   required: NamespaceConfig = {},\n//   optional: NamespaceConfig = {},\n// ){\n//   const requiredNamespaces = normalizeNamespaces(required);\n//   const optionalNamespaces = normalizeNamespaces(optional);\n//    return merge.merge(requiredNamespaces,optionalNamespaces)\n// }\n/**\n * Converts\n * {\n *  \"eip155:1\": {...},\n *  \"eip155:2\": {...},\n * }\n * into\n * {\n *  \"eip155\": {\n *      chains: [\"eip155:1\", \"eip155:2\"],\n *      ...\n *    }\n * }\n *\n */\n// export function normalizeNamespaces(namespaces: NamespaceConfig): NamespaceConfig {\n//   const normalizedNamespaces: NamespaceConfig = {};\n//   if (!isValidObject(namespaces)) return normalizedNamespaces;\n//\n//   for (const [key, values] of Object.entries(namespaces)) {\n//     const chains = isCaipNamespace(key) ? [key] : values.chains;\n//     const rpcMap = values.rpcMap || {};\n//     const normalizedKey = parseNamespaceKey(key);\n//     normalizedNamespaces[normalizedKey] = {\n//       ...normalizedNamespaces[normalizedKey],\n//       ...values,\n//       chains: mergeArrays(chains, normalizedNamespaces[normalizedKey]?.chains),\n//       rpcMap: { ...rpcMap, ...normalizedNamespaces[normalizedKey]?.rpcMap },\n//     };\n//   }\n//   return normalizedNamespaces;\n// }\n//\n// export function parseCaip10Account(caip10Account: string): string {\n//   return caip10Account.includes(\":\") ? caip10Account.split(\":\")[2] : caip10Account;\n// }\n/**\n * Populates the chains array for each namespace with the chains extracted from the accounts if are otherwise missing\n */\n// export function populateNamespacesChains(\n//   namespaces: SessionTypes.Namespaces,\n// ): Record<string, SessionTypes.Namespace> {\n//   const parsedNamespaces: Record<string, SessionTypes.Namespace> = {};\n//   for (const [key, values] of Object.entries(namespaces)) {\n//     const methods = values.methods || [];\n//     const events = values.events || [];\n//     const accounts = values.accounts || [];\n//     // If the key includes a CAIP separator `:` we know it's a namespace + chainId (e.g. `eip155:1`)\n//     const chains = isCaipNamespace(key)\n//       ? [key]\n//       : values.chains\n//       ? values.chains\n//       : getChainsFromApprovedSession(values.accounts);\n//     parsedNamespaces[key] = {\n//       chains,\n//       methods,\n//       events,\n//       accounts,\n//     };\n//   }\n//   return parsedNamespaces;\n// }\nfunction convertChainIdToNumber(chainId) {\n    if (typeof chainId === \"number\")\n        return chainId;\n    if (chainId.includes(\"0x\")) {\n        return parseInt(chainId, 16);\n    }\n    chainId = chainId.includes(\":\") ? chainId.split(\":\")[1] : chainId;\n    return isNaN(Number(chainId)) ? chainId : Number(chainId);\n}\nconst CAIP_DELIMITER = \":\";\nfunction parseChainId(chain) {\n    const [namespace, reference] = chain.split(CAIP_DELIMITER);\n    return { namespace, reference };\n}\nfunction mergeArrays(a = [], b = []) {\n    return [...new Set([...a, ...b])];\n}\n","<template>\n  <div id=\"app\">\n    <el-container>\n      <el-header>OKX Connect</el-header>\n      <el-main>\n        <!-- 钱包信息 -->\n        <el-card class=\"wallet-info\">\n          <template #header>\n            <div>Wallet Info</div>\n          </template>\n          <el-row class=\"info-row\">\n            <el-col :span=\"24\">\n              <strong>Wallet Address:</strong> {{ getWalletAddress }}\n            </el-col>\n          </el-row>\n\n          <el-row class=\"info-row\">\n            <el-col :span=\"24\">\n              <strong>Status :</strong> {{ currentStatus }}\n            </el-col>\n          </el-row>\n\n          <!--          <el-row class=\"info-row\">-->\n          <!--            <el-col :span=\"24\">-->\n          <!--              <strong>Universal Link:</strong> {{ updateUniLink }}-->\n          <!--            </el-col>-->\n          <!--          </el-row>-->\n        </el-card>\n\n        <!-- 连接钱包 -->\n        <el-card class=\"wallet-actions\">\n          <template #header>\n            <div>Actions</div>\n          </template>\n\n          <el-row class=\"info-row\">\n            <el-col :span=\"24\">\n              <el-checkbox v-model=\"withUI\" @change=\"handleWithUI\">\n                show UI</el-checkbox>\n            </el-col>\n          </el-row>\n          <el-row style=\"align-items: center\">\n            <el-col :span=\"4\">\n              <p style=\"font-size: 11pt\">Modals</p>\n            </el-col>\n            <el-col :span=\"20\">\n              <el-select v-model=\"modals\" placeholder=\"Modals\" @change=\"handleModalsSelect\" multiple>\n                <el-option label=\"Before\" value=\"before\" />\n                <el-option label=\"Success\" value=\"success\" />\n                <el-option label=\"Error\" value=\"error\" />\n              </el-select>\n            </el-col>\n          </el-row>\n\n          <el-row style=\"align-items: center; justify-content: space-between;\">\n            <el-col :span=\"4\" style=\"gap: 2px\">\n              <p style=\"font-size: 11pt; margin: 0px\">Return Strategy</p>\n              <p style=\"font-size: 9pt; margin: 0px\">(Mobile only)</p>\n            </el-col>\n            <el-col :span=\"10\">\n              <el-select\n                v-model=\"returnStrategy\"\n                @change=\"handleReturnStrategySelect\"\n                placeholder=\"Return Strategy\"\n              >\n                <el-option\n                  v-for=\"strategy in returnStrategies\"\n                  :key=\"`return-strategy-select-option-${strategy}`\"\n                  :label=\"strategy\"\n                  :value=\"strategy\"\n                />\n              </el-select>\n            </el-col>\n            <el-col :span=\"10\">\n              <el-input\n                v-if=\"returnStrategy === 'deeplink'\"\n                v-model=\"deeplink\"\n                @change=\"handleReturnStrategyDeeplink\"\n                placeholder=\"Deeplink\"\n                :disabled=\"returnStrategy !== 'deeplink'\"\n                style=\"margin: 0px\"\n              />\n            </el-col>\n          </el-row>\n\n          <el-row style=\"align-items: center\">\n            <el-col :span=\"4\">\n              <p style=\"font-size: 11pt\">Language</p>\n            </el-col>\n            <el-col :span=\"20\">\n              <el-select v-model=\"language\" @change=\"handleLanguageSelect\" placeholder=\"Language\">\n                <el-option v-for=\"locale in locales\" :key=\"`language-select-option-${locale}`\" :label=\"locale\"\n                  :value=\"locale\" />\n              </el-select>\n            </el-col>\n          </el-row>\n\n          <el-row style=\"align-items: center\">\n            <el-col :span=\"4\">\n              <p style=\"font-size: 11pt\">Theme</p>\n            </el-col>\n            <el-col :span=\"20\">\n              <el-select v-model=\"theme\" @change=\"handleThemeSelect\" placeholder=\"Theme\">\n                <el-option label=\"LIGHT\" :value=\"THEME.LIGHT\" />\n                <el-option label=\"DARK\" :value=\"THEME.DARK\" />\n              </el-select>\n            </el-col>\n          </el-row>\n\n<!--          <el-row style=\"align-items: center\">-->\n<!--            <el-col :span=\"4\">-->\n<!--              <p style=\"font-size: 11pt\">Connect</p>-->\n<!--              <p style=\"font-size: 11pt\">Methods</p>-->\n<!--            </el-col>-->\n<!--            <el-col :span=\"20\">-->\n<!--              <el-select v-model=\"selectedMethod\" @change=\"handleConnectMethodsSelect\" placeholder=\"Methods\">-->\n<!--                <el-option v-for=\"methods in connectMethods\" :key=\"`handleConnectMethodsSelect-${methods}`\" :label=\"methods\"-->\n<!--                           :value=\"methods\" />-->\n\n<!--              </el-select>-->\n<!--            </el-col>-->\n<!--          </el-row>-->\n\n          <el-row style=\"align-items: center\">\n            <el-col :span=\"4\">\n              <p style=\"font-size: 11pt\">Connect</p>\n              <p style=\"font-size: 11pt\">Methods</p>\n            </el-col>\n            <el-col :span=\"20\">\n              <el-select v-model=\"selectedMethod\" @change=\"handleConnectMethodsSelect\" multiple placeholder=\"methods\">\n                <el-option\n                    v-for=\"item in connectMethods\"\n                    :key=\"item\"\n                    :label=\"item\"\n                    :value=\"item\">\n                </el-option>\n              </el-select>\n\n\n<!--              <el-select v-model=\"selectedMethod\" placeholder=\"Methods\" @change=\"handleConnectMethodsSelect\" multiple>-->\n<!--                <el-option v-for=\"methods in connectMethods\" :key=\"`handleConnectMethodsSelect-${methods}`\" :label=\"methods\"-->\n<!--                           :value=\"methods\" />-->\n<!--              </el-select>-->\n            </el-col>\n          </el-row>\n\n          <el-row style=\"align-items: center\">\n            <el-col :span=\"4\">\n              <p style=\"font-size: 11pt\">ton_proof</p>\n            </el-col>\n            <el-col :span=\"20\">\n              <el-input v-model=\"tonProofValue\"  placeholder=\"input ton_proof\"></el-input>\n            </el-col>\n          </el-row>\n\n\n          <el-row :gutter=\"12\" align=\"middle\">\n            <el-col :span=\"4\">\n              <div>req</div>\n            </el-col>\n            <el-col\n              :span=\"6\"\n              v-for=\"item in Object.keys(availableChains)\"\n              :key=\"item\"\n            >\n              <el-checkbox\n                v-model=\"availableChains[item].checked\"\n                :disabled=\"!areChainsInit\"\n                >{{ availableChains[item].name }}</el-checkbox\n              >\n            </el-col>\n          </el-row>\n\n          <el-row :gutter=\"12\" align=\"middle\" style=\"margin-top: 20px\">\n            <el-col :span=\"4\">\n              <div>opt</div>\n            </el-col>\n            <el-col :span=\"5\">\n              <el-checkbox :checked=\"isOptionalChecked(43114)\" @change=\"() => handleOptionChange(43114)\">\n                avax</el-checkbox>\n            </el-col>\n            <el-col :span=\"5\">\n              <el-checkbox :checked=\"isOptionalChecked(10)\" @change=\"() => handleOptionChange(10)\">op</el-checkbox>\n            </el-col>\n            <el-col :span=\"5\">\n              <el-checkbox :checked=\"isOptionalChecked(8453)\" @change=\"() => handleOptionChange(8453)\">\n                BASE</el-checkbox>\n            </el-col>\n            <el-col :span=\"5\">\n              <el-checkbox :checked=\"isOptionalChecked(99781165)\"\n                @change=\"() => handleOptionChange(99781165)\">Non-exist chain</el-checkbox>\n            </el-col>\n          </el-row>\n\n          <el-row :gutter=\"12\" class=\"button-row\">\n            <el-col :span=\"24\">\n              <el-button\n                  type=\"primary\"\n                  @click=\"initBtnClicked\"\n                  icon=\"el-icon-connection\"\n                  :disabled=\"!areChainsInit\"\n              >{{ connectInitStr }}</el-button\n              >\n            </el-col>\n          </el-row>\n\n          <el-row :gutter=\"12\" class=\"button-row\">\n            <el-col :span=\"24\">\n              <el-button\n                type=\"primary\"\n                @click=\"connectBtnClicked\"\n                icon=\"el-icon-connection\"\n                :disabled=\"!areChainsInit\"\n                >{{ connectStatusStr }}</el-button\n              >\n            </el-col>\n          </el-row>\n\n          <el-row :gutter=\"12\" class=\"button-row\">\n            <el-col :span=\"24\">\n              <el-button\n                  type=\"primary\"\n                  @click=\"connectBtnAndSignClicked\"\n                  icon=\"el-icon-connection\"\n                  :disabled=\"!areChainsInit\"\n              >{{ connectAndSignStr }}</el-button\n              >\n            </el-col>\n          </el-row>\n\n          <el-row :gutter=\"12\" class=\"button-row\">\n            <el-col :span=\"24\">\n              <el-button\n                type=\"danger\"\n                @click=\"disconnectAction\"\n                icon=\"el-icon-switch-button\"\n                :disabled=\"!areChainsInit || walletAddress.length == 0\"\n                >{{ disconnectStatusStr }}</el-button\n              >\n            </el-col>\n          </el-row>\n\n          <teleport to=\"body\">\n            <div v-if=\"showModal\" class=\"modal-overlay\" @click=\"closeModal\">\n              <div class=\"modal-content\" @click.stop>\n                <button class=\"close-button\" @click=\"closeModal\">\n                  &times;\n                </button>\n                <h2>Scan to connect</h2>\n                <qrcode-vue :value=\"qrValue\" :size=\"350\" level=\"L\" />\n              </div>\n            </div>\n          </teleport>\n        </el-card>\n\n        <!-- 发送交易 -->\n        <el-card class=\"wallet-actions\">\n          <template #header>\n            <div>Transactions</div>\n          </template>\n\n          <el-tabs v-model=\"activeTab\" type=\"border-card\" @tab-click=\"clickActiveTab\">\n            <!-- ETH -->\n            <el-tab-pane label=\"ETH\" name=\"eip155:1\">\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"eth_requestAccounts\">eth_requestAccounts(ETH)</el-button>\n                </el-col>\n              </el-row>\n\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"eth_chainId()\">eth_chainId(ETH)</el-button>\n                </el-col>\n              </el-row>\n\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\"\n                    @click=\"wallet_switchEthereumChain()\">wallet_switchEthereumChain(switch to ETH)</el-button>\n                </el-col>\n              </el-row>\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"wallet_addEthereumChain()\">wallet_addEthereumChain</el-button>\n                </el-col>\n              </el-row>\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"personal_sign()\">personal_sign</el-button>\n                </el-col>\n              </el-row>\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"eth_signTypedData_v4()\">eth_signTypedData_v4</el-button>\n                </el-col>\n              </el-row>\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"eth_sendTransaction_transfer\">eth_sendTransaction(send ETH)</el-button>\n                </el-col>\n              </el-row>\n\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\"\n                    @click=\"eth_sendTransaction_approve\">eth_sendTransaction(approve TONCoin)</el-button>\n                </el-col>\n              </el-row>\n\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"eth_sendTransaction_mint\">eth_sendTransaction(eth mint\n                    nft)</el-button>\n                </el-col>\n              </el-row>\n\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"wallet_watchAsset()\">wallet_watchAsset(add SPX6900)\n                  </el-button>\n                </el-col>\n              </el-row>\n            </el-tab-pane>\n            <!-- Polygon-->\n            <el-tab-pane label=\"Polygon\" name=\"eip155:137\">\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"eth_requestAccounts\">eth_requestAccounts</el-button>\n                </el-col>\n              </el-row>\n\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"eth_chainId()\">eth_chainId</el-button>\n                </el-col>\n              </el-row>\n\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"wallet_switchEthereumChain()\">wallet_switchEthereumChain</el-button>\n                </el-col>\n              </el-row>\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"wallet_addEthereumChain()\">wallet_addEthereumChain</el-button>\n                </el-col>\n              </el-row>\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"personal_sign()\">personal_sign</el-button>\n                </el-col>\n              </el-row>\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"eth_signTypedData_v4()\">eth_signTypedData_v4</el-button>\n                </el-col>\n              </el-row>\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"eth_sendTransaction_transfer\">eth_sendTransaction(send POL)</el-button>\n                </el-col>\n              </el-row>\n\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"eth_sendTransaction_approve\">eth_sendTransaction(approve sushi)</el-button>\n                </el-col>\n              </el-row>\n\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"eth_sendTransaction_mint\">eth_sendTransaction(polygon mint\n                    nft)</el-button>\n                </el-col>\n              </el-row>\n\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"wallet_watchAsset()\">wallet_watchAsset(add LGNS)\n                  </el-button>\n                </el-col>\n              </el-row>\n\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"wallet_testRpc()\">wallet_testRpc(Polygon)</el-button>\n                </el-col>\n              </el-row>\n            </el-tab-pane>\n\n            <!-- BSC-->\n            <el-tab-pane label=\"BNB\" name=\"eip155:56\">\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"eth_requestAccounts\">eth_requestAccounts(BNB)</el-button>\n                </el-col>\n              </el-row>\n\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"eth_chainId()\">eth_chainId(BNB)</el-button>\n                </el-col>\n              </el-row>\n\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\"\n                    @click=\"wallet_switchEthereumChain()\">wallet_switchEthereumChain(switch to BNB)</el-button>\n                </el-col>\n              </el-row>\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"wallet_addEthereumChain()\">wallet_addEthereumChain</el-button>\n                </el-col>\n              </el-row>\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"personal_sign()\">personal_sign</el-button>\n                </el-col>\n              </el-row>\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"eth_signTypedData_v4()\">eth_signTypedData_v4</el-button>\n                </el-col>\n              </el-row>\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"eth_sendTransaction_transfer\">eth_sendTransaction(send BNB)</el-button>\n                </el-col>\n              </el-row>\n\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\"\n                    @click=\"eth_sendTransaction_approve\">eth_sendTransaction(approve POSI)</el-button>\n                </el-col>\n              </el-row>\n\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"wallet_watchAsset()\">wallet_watchAsset(add FET)\n                  </el-button>\n                </el-col>\n              </el-row>\n\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"wallet_testRpc()\">wallet_testRpc(check balance on eth)</el-button>\n                </el-col>\n              </el-row>\n            </el-tab-pane>\n\n            <el-tab-pane label=\"Fuse\" name=\"eip155:122\">\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"eth_requestAccounts\">eth_requestAccounts</el-button>\n                </el-col>\n              </el-row>\n\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"eth_chainId()\">eth_chainId</el-button>\n                </el-col>\n              </el-row>\n\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"personal_sign()\">personal_sign</el-button>\n                </el-col>\n              </el-row>\n\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"eth_signTypedData_v4()\">eth_signTypedData_v4</el-button>\n                </el-col>\n              </el-row>\n\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"eth_sendTransaction_swap\">eth_sendTransaction(Swap)</el-button>\n                </el-col>\n              </el-row>\n\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"eth_sendTransaction_transfer\"\n                  >eth_sendTransaction(转账FUSE)</el-button\n                  >\n                </el-col>\n              </el-row>\n\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"eth_sendTransaction_approve\"\n                  >eth_sendTransaction(授权USDC)</el-button\n                  >\n                </el-col>\n              </el-row>\n            </el-tab-pane>\n\n            <el-tab-pane label=\"TON\" name=\"ton:-239\">\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"ton_getAccount\">ton_getAccount</el-button>\n                </el-col>\n              </el-row>\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"ton_sendTransaction\">ton_sendTransaction</el-button>\n                </el-col>\n              </el-row>\n            </el-tab-pane>\n\n            <!-- solana -->\n            <el-tab-pane label=\"Sol\" name=\"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp\">\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"sol_signMessage\">solana_signMessage</el-button>\n                </el-col>\n              </el-row>\n\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"sol_signTransaction\">solana_signTransaction</el-button>\n                </el-col>\n              </el-row>\n\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\"\n                    @click=\"sol_signVersionedTransaction\">solana_signVersionedTransaction</el-button>\n                </el-col>\n              </el-row>\n\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"sol_signAllTransactions\">sol_signAllTransactions</el-button>\n                </el-col>\n              </el-row>\n\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\"\n                    @click=\"sol_signAllVersionedTransactions\">sol_signAllVersionedTransactions</el-button>\n                </el-col>\n              </el-row>\n\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"sol_signAndSendTransaction\">sol_signAndSendTransaction</el-button>\n                </el-col>\n              </el-row>\n\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\"\n                    @click=\"sol_signAndSendVersionedTransaction\">signAndSendVersionedTransaction</el-button>\n                </el-col>\n              </el-row>\n            </el-tab-pane>\n\n            <el-tab-pane label=\"Sonic testnet\" name=\"svm:70000062\">\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"sol_signMessage\">solana_signMessage</el-button>\n                </el-col>\n              </el-row>\n\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"sol_signTransaction\">solana_signTransaction</el-button>\n                </el-col>\n              </el-row>\n\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"sol_signAllTransactions\">sol_signAllTransactions</el-button>\n                </el-col>\n              </el-row>\n\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"sol_signAndSendTransaction\">sol_signAndSendTransaction</el-button>\n                </el-col>\n              </el-row>\n\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\"\n                             @click=\"sol_signAndSendVersionedTransaction\">signAndSendVersionedTransaction</el-button>\n                </el-col>\n              </el-row>\n            </el-tab-pane>\n\n\n            <!-- Sui-->\n            <el-tab-pane label=\"Sui\" name=\"sui:mainnet\">\n              <SuiPanel @generateTransactionParams=\"sui_generateTransactionParams\" />\n            </el-tab-pane>\n            <!-- BTC -->\n            <el-tab-pane label=\"BTC\" name=\"btc:mainnet\">\n              <BTCPanel @generateTransactionParams=\"btc_generateTransactionParams\" />\n            </el-tab-pane>\n\n            <!-- Fractal BTC -->\n            <el-tab-pane label=\"Fractal\" name=\"fractal:mainnet\">\n              <FractalPanel @generateTransactionParams=\"fractal_generateTransactionParams\" />\n            </el-tab-pane>\n\n            <el-tab-pane label=\"Aptos\" name=\"aptos:mainnet\">\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"aptos_signMessage\">aptos_signMessage</el-button>\n                </el-col>\n              </el-row>\n\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"aptos_signTransaction\">aptos_signTransaction</el-button>\n                </el-col>\n              </el-row>\n\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\"\n                    @click=\"aptos_signAndSubmitTransaction\">aptos_signAndSubmitTransaction</el-button>\n                </el-col>\n              </el-row>\n\n            </el-tab-pane>\n\n            <el-tab-pane label=\"Movement\" name=\"movement:testnet\">\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"aptos_signMessage\">aptos_signMessage</el-button>\n                </el-col>\n              </el-row>\n\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"move_signTransaction\">move_signTransaction</el-button>\n                </el-col>\n              </el-row>\n\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\"\n                    @click=\"move_signAndSubmitTransaction\">move_signAndSubmitTransaction</el-button>\n                </el-col>\n              </el-row>\n\n            </el-tab-pane>\n\n            <el-tab-pane label=\"cosmos\" name=\"cosmos:cosmoshub-4\">\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"cosmos_signArbitrary\">cosmos_signArbitrary</el-button>\n                </el-col>\n              </el-row>\n\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"cosmos_signAmino\">cosmos_signAmino</el-button>\n                </el-col>\n              </el-row>\n\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"cosmos_signDirect\">cosmos_signDirect</el-button>\n                </el-col>\n              </el-row>\n\n            </el-tab-pane>\n\n            <el-tab-pane label=\"osmos\" name=\"cosmos:osmosis-1\">\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"cosmos_signArbitrary\">cosmos_signArbitrary</el-button>\n                </el-col>\n              </el-row>\n\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"cosmos_signAmino\">cosmos_signAmino</el-button>\n                </el-col>\n              </el-row>\n\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"cosmos_signDirect\">cosmos_signDirect</el-button>\n                </el-col>\n              </el-row>\n\n            </el-tab-pane>\n\n            <el-tab-pane label=\"sei交易\" name=\"cosmos:pacific-1\">\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"cosmos_signArbitrary\">cosmos_signArbitrary</el-button>\n                </el-col>\n              </el-row>\n\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"cosmos_signAmino\">cosmos_signAmino</el-button>\n                </el-col>\n              </el-row>\n\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"cosmos_signDirect\">cosmos_signDirect</el-button>\n                </el-col>\n              </el-row>\n\n            </el-tab-pane>\n\n            <el-tab-pane label=\"TEST \" name=\"test:1\">\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"testBase64UrlSafe\">testBase64UrlSafe</el-button>\n                </el-col>\n              </el-row>\n            </el-tab-pane>\n          </el-tabs>\n\n          <el-col :xs=\"24\" :sm=\"12\">\n            <div class=\"input-label\">Data:</div>\n            <el-input v-model=\"testTransaction\" type=\"textarea\" :rows=\"5\" placeholder=\"sendTransactions\"></el-input>\n          </el-col>\n          <el-col :xs=\"24\" :sm=\"12\">\n            <div class=\"input-label\">Result :</div>\n            <el-input v-model=\"testboc\" type=\"textarea\" :rows=\"5\" placeholder=\"boc\"></el-input>\n          </el-col>\n          <el-row :gutter=\"12\" class=\"button-row\">\n            <el-col :span=\"24\">\n              <el-button type=\"primary\" @click=\"sendTransaction()\">{{\n                testTransactionStr\n                }}</el-button>\n            </el-col>\n          </el-row>\n        </el-card>\n      </el-main>\n    </el-container>\n  </div>\n</template>\n\n<style scoped>\n/* 重置全局边距和内边距 */\nbody,\nhtml {\n  margin: 0;\n  padding: 0;\n  height: 100%;\n}\n\n/* 确保 app 容器占满整个视口 */\n#app {\n  min-height: 100vh;\n  display: flex;\n  flex-direction: column;\n  font-family: \"Avenir\", Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n  margin: 0 auto;\n  /* 居中 */\n  max-width: 600px;\n  /* 设置最大宽度 */\n  padding: 0 20px;\n  /* 添加一些左右内边距 */\n}\n\n/* 调整 el-container 样式 */\n.el-container {\n  min-height: 100vh;\n  margin: 0;\n  padding: 0;\n  width: 100%;\n}\n\n/* 调整 el-header 样式 */\n.el-header {\n  background-color: #333333;\n  color: white;\n  height: 50px;\n  line-height: 50px;\n  font-size: 18px;\n  font-weight: bold;\n  width: 100%;\n  position: fixed;\n  top: 0;\n  left: 0;\n  z-index: 1000;\n}\n\n/* 调整 el-main 样式 */\n.el-main {\n  padding: 70px 0 20px;\n  /* 增加顶部内边距以避免被固定header遮挡 */\n  flex-grow: 1;\n}\n\n.el-card {\n  margin-bottom: 20px;\n}\n\n.info-row {\n  margin-bottom: 10px;\n}\n\n.input-label {\n  margin-bottom: 5px;\n  text-align: left;\n}\n\n.el-input {\n  margin-bottom: 10px;\n}\n\n/* 通用按钮样式 */\n.wallet-actions .el-button,\n.transaction .el-button,\n.clear-cache .el-button {\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 40px;\n}\n\n.wallet-actions .el-button span,\n.transaction .el-button span,\n.clear-cache .el-button span {\n  margin: 0 auto;\n}\n\n/* 按钮行间距 */\n.wallet-actions .button-row,\n.transaction .button-row {\n  margin-bottom: 8px;\n}\n\n.wallet-actions .button-row:last-child,\n.transaction .button-row:last-child {\n  margin-bottom: 0;\n}\n\n/* 调整图标和文字的对齐 */\n.wallet-actions .el-button [class^=\"el-icon-\"],\n.transaction .el-button [class^=\"el-icon-\"],\n.clear-cache .el-button [class^=\"el-icon-\"] {\n  margin-right: 5px;\n  vertical-align: middle;\n}\n\n/* 新增：调整发送交易按钮与输入框的间距 */\n.transaction .el-row:not(:last-child) {\n  margin-bottom: 10px;\n}\n\n.modal-overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, 0.5);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 1000;\n}\n\n.modal-content {\n  background-color: white;\n  padding: 20px;\n  border-radius: 8px;\n  text-align: center;\n  position: relative;\n  max-width: 90%;\n  width: 400px;\n}\n\n.close-button {\n  position: absolute;\n  top: 10px;\n  right: 10px;\n  font-size: 24px;\n  border: none;\n  background: none;\n  cursor: pointer;\n}\n\n/* 响应式调整 */\n@media (max-width: 600px) {\n  #app {\n    padding: 0 10px;\n  }\n\n  .el-main {\n    padding: 60px 0 10px;\n  }\n}\n</style>\n<script>\nimport {OKX_CONNECT_ERROR_CODES, safeJsonStringify,getAppWalletDeepLink,getUniversalLink} from \"@okxconnect/core\"\nimport {OKXBtcProvider, OKXUniversalProvider, OKXCosmosProvider,OKXTonProvider} from \"@okxconnect/universal-provider\"\nimport {OKXSolanaProvider} from \"@okxconnect/solana-provider\";\nimport {\n  Connection,\n  PublicKey,\n  SystemProgram,\n  Transaction,\n  TransactionMessage,\n  VersionedTransaction\n} from '@solana/web3.js';\nimport {OKXSuiProvider as SuiAdapter} from \"@okxconnect/sui-provider\"\nimport QrcodeVue from 'qrcode.vue'\n\nimport {OKXAptosProvider} from \"@okxconnect/aptos-provider\";\nimport {Aptos, AptosConfig, Network} from \"@aptos-labs/ts-sdk\";\n\nimport BTCPanel from \"./components/BtcTransactionPanel.vue\";\nimport FractalPanel from \"./components/FractalTransactionPanel.vue\"\nimport SuiPanel from \"./components/SuiTransactionPanel.vue\";\n\nimport {OKXUniversalConnectUI, THEME} from \"@okxconnect/ui\";\nimport { ethers } from 'ethers';\nimport VConsole from 'vconsole';\nimport nacl from \"tweetnacl\";\nconst { verifyADR36Amino } = require('@keplr-wallet/cosmos')\nconst { fromBech32 } = require('@cosmjs/encoding')\nimport { verifyPersonalMessageSignature } from '@mysten/sui/verify';\nnew VConsole();\n\nconst allChains = {\n  1: { name: \"eth\", checked: false },\n  56: { name: \"BNB\", checked: false },\n  137: { name: \"Polygon\", checked: false },\n  122: { name: \"Fuse\", checked: false },\n  \"ton:-239\":{name: \"TON\",checked: false},\n  \"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp\": {\n    name: \"Sol mainnet\",\n    checked: false,\n  },\n  \"solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z\": {\n    name: \"Sol testnet\",\n    checked: false,\n  },\n  \"svm:70000062\": {\n    name: \"Sonic testnet\",\n    checked: false,\n  },\n  \"sui:mainnet\": { name: \"Sui mainnet\", checked: false },\n  \"aptos:mainnet\": { name: \"Aptos mainnet\", checked: false },\n  \"movement:testnet\": { name: \"Movement\", checked: false },\n  \"btc:mainnet\": { name: \"BTC\", checked: false },\n  \"fractal:mainnet\": { name: \"Fractal\", checked: false },\n  \"cosmos:osmosis-1\": {name: \"osmos\", checked: false},\n  \"cosmos:cosmoshub-4\": {name: \"cosmoshub\", checked: false},\n  \"cosmos:pacific-1\": {name: \"sei\", checked: false},\n  \"cosmos:abvdefg\": {name: \"cosmos:abvdefg\", checked: false},\n  997865: { name: \"Non Exist chain\", checked: false },\n};\n\nvar optionChains = new Set([]);\nvar selectedModals = [\"before\", \"success\", \"error\"];\nvar selectedReturnStrategy = \"none\";\nvar selectedDeepLink = \"tg://resolve\";\nvar selectedLanguage = \"en_US\";\nvar selectedTheme = THEME.LIGHT;\n\n// import QrcodeVue from 'qrcode.vue'\nexport default {\n  name: \"App\",\n  components: {\n    QrcodeVue,\n    BTCPanel,\n    FractalPanel,\n    SuiPanel\n  },\n\n  data: () => {\n    return {\n      activeTab: \"eip155:1\",\n      testTopic: \"\",\n      testPublicKey: \"\",\n      testProofPayload: \"\",\n      tonProofValue:\"\",\n      pendingDeepLink: \"-\",\n      logList: [],\n      connectReady: false,\n      connectStatusStr: \"Connect\",\n      connectAndSignStr: \"ConnectAndsign(two steps only ETH)\",\n      connectInitStr: \"init test\",\n      disconnectStatusStr: \"Disconnect\",\n      localPubKey: \"\",\n      localSecKey: \"\",\n      testTransaction: \"\",\n      selectedChain: \"eip155:1\",\n      testTransactionStr: \"Send\",\n      walletAddress: \"\",\n      testboc: \"\",\n      ProofPayloadVerify: \"\",\n      showModal: false,\n      showVerifyRow: false,\n      qrValue: \"https://www.okx.com/download\",\n      currentStatus: \"\",\n      areChainsInit: false,\n      availableChains: allChains,\n      isOptionalChecked: (chainId) => {\n        return optionChains.has(chainId);\n      },\n      withUI: localStorage.getItem(\"autoRefresh\") != \"false\",\n      modals: selectedModals,\n      returnStrategies: [\"none\", \"back\", \"deeplink\"],\n      returnStrategy: selectedReturnStrategy,\n      deeplink: selectedDeepLink,\n      locales: [\n        \"en_US\",\n        \"ru_RU\",\n        \"zh_CN\",\n        \"zh\",\n        \"ar_AE\",\n        \"cs_CZ\",\n        \"de_DE\",\n        \"es_ES\",\n        \"es_LAT\",\n        \"fr_FR\",\n        \"id_ID\",\n        \"it_IT\",\n        \"nl_NL\",\n        \"pl_PL\",\n        \"pt_BR\",\n        \"pt_PT\",\n        \"ro_RO\",\n        \"tr_TR\",\n        \"uk_UA\",\n        \"vi_VN\",\n      ],\n      selectedMethod:[],\n      selectedMethodData:[],\n      connectMethods:[\n        \"wallet_addEthereumChain(ETH)\",\n        \"personal_sign(ETH)\",\n        \"solana_signMessage(Sol mainnet)\",\n        \"sui_signMessage(Sui mainnet)\",\n        \"sui_signPersonalMessage(Sui mainnet)\",\n        \"btc_signMessage(BTC)\",\n        \"aptos_signMessage(aptos mainnet)\",\n        \"cosmos_signArbitrary(cosmoshub)\",\n        \"test_noSupport_eth(ETH)\"\n      ],\n\n      language: selectedLanguage,\n      theme: selectedTheme,\n      THEME: THEME,\n      handleWithUI: (isChecked) => {\n        localStorage.setItem(\"autoRefresh\", `${isChecked}`);\n        location.reload();\n      },\n      handleOptionChange: (chainId) => {\n        if (optionChains.has(chainId)) {\n          optionChains.delete(chainId);\n        } else {\n          optionChains.add(chainId);\n        }\n      },\n    };\n  },\n  computed: {\n    getWalletAddress: function () {\n      return this.walletAddress;\n    },\n  },\n  methods: {\n    isChecked(chainId) {\n      return this.selectedChains.has(chainId);\n    },\n\n    initChains(newChains) {\n      if (newChains.length > 0) {\n        const updatedChains = Object.assign({}, this.availableChains);\n        for (const chainId of newChains) {\n          if (updatedChains[chainId]){\n            updatedChains[chainId].checked = !updatedChains[chainId].checked;\n          }\n        }\n        this.availableChains = updatedChains;\n      }\n\n      this.areChainsInit = true;\n    },\n\n    async clickActiveTab(tab) {\n      const tabName = tab.props ? tab.props.name : tab.name;\n      this.selectedChain = tabName;\n      console.log(`已切换到链 :`, tabName);\n\n      if (!window.provider) {\n        console.error(\"钱包 未初始化完成\");\n      }\n\n      window.provider.setDefaultChain(this.selectedChain);\n    },\n\n    async initBtnClicked() {\n      var initCall;\n      if (!this.withUI) {\n        initCall = OKXUniversalProvider.init({\n          dappMetaData: {\n            name: \"univer test dapp\",\n            icon: \"https://avatars.githubusercontent.com/u/37784886\",\n          },\n        });\n      } else {\n        initCall = OKXUniversalConnectUI.init({\n          dappMetaData: {\n            icon: \"https://static.okx.com/cdn/assets/imgs/247/58E63FEA47A2B7D7.png\",\n            name: \"OKX WalletConnect UI Demo\",\n          },\n          actionsConfiguration: {\n            returnStrategy: selectedReturnStrategy,\n            modals: \"all\",\n          },\n          language: selectedLanguage,\n          uiPreferences: {\n            theme: selectedTheme\n          },\n        });\n      }\n\n      initCall.then((provider) => {\n        window.provider = provider;\n        window.tonProvider = new OKXTonProvider(window.provider);\n        window.tonProvider.onStatusChange((walletInfo) => {\n              console.log('TONConnection onStatusChange:', JSON.stringify(walletInfo));\n            }, (err) => {\n              console.log('TONConnection onStatusChange error:', err);\n            }\n        )\n\n        console.log(\"init finished:\", provider);\n        console.log(\"init finished session:\", JSON.stringify(provider.session));\n\n        if (provider.session?.namespaces) {\n          const newChains = [];\n          console.log(\"namespaces\", provider.session.namespaces);\n          Object.entries(provider.session.namespaces).forEach(([key, value]) => {\n            if (key === \"eip155\") {\n              value.chains.forEach((chain) => {\n                newChains.push(parseInt(chain.substring(7)));\n              });\n            }\n            else {\n              value.chains.forEach((chain) => {\n                newChains.push(chain);\n              });\n            }\n          });\n\n          console.log(\"existing chains:\", newChains);\n          this.initChains(newChains);\n        } else {\n          this.initChains([]);\n        }\n\n        provider.on(\"display_uri\", (uri) => {\n          if (this.isPC()) {\n            if (uri && !this.withUI) {\n              this.qrValue = uri;\n              this.showModal = true;\n            }\n          }\n          console.log(\"通知>>>display_uri  ==> \", uri);\n        });\n\n        provider.on(\"connect\", (session) => {\n          console.log(\"通知>>>get connect session\", session);\n          this.verifyMessage();\n        });\n        provider.on(\"reconnect\", (session) => {\n          console.log(\"通知>>>get reconnect session\", session);\n          this.walletAddress = \"connected\";\n        });\n        provider.on(\"disconnect\", ({ topic }) => {\n          console.log(`通知>>>get disconnect  ${topic}`);\n          this.walletAddress = \"disconnecteddddd\";\n        });\n        provider.on(\"session_delete\", ({ topic }) => {\n          console.log(`通知>>>get session_delete  ${topic}`);\n        });\n        provider.on(\"session_update\", (session) => {\n          console.log(`通知>>>get session_update `, JSON.stringify(session));\n        });\n      });\n    },\n\n    async connectBtnClicked() {\n      console.log(`encryptStoreMsg   connectBtnClicked  ${Date.now()}`);\n      if (window.provider) {\n        this.testTonSdk(false);\n      } else {\n        console.log(`connectBtnClicked provider not finish init`);\n      }\n    },\n    async connectBtnAndSignClicked() {\n      console.log(`encryptStoreMsg   connectBtnClicked  ${Date.now()}`);\n      if (window.provider) {\n        this.testTonSdk(true);\n      } else {\n        console.log(`connectBtnClicked provider not finish init`);\n      }\n    },\n\n    async disconnectAction() {\n      try {\n        console.log(\"get disconnect wallet btn clicked\");\n        // await TON.disconnect();\n        var provider = window.provider;\n        await provider.disconnect();\n        this.walletAddress = \"disconnected\";\n      } catch (error) {\n        console.log(\"Disconnect  error ==>> \", error.message);\n        this.currentStatus = error.message;\n      }\n    },\n\n    async eth_requestAccounts() {\n      var data = { method: \"eth_requestAccounts\" };\n      this.testTransaction = JSON.stringify(data);\n    },\n    async eth_chainId() {\n      var data = { method: \"eth_chainId\" };\n      this.testTransaction = JSON.stringify(data);\n    },\n    async wallet_switchEthereumChain() {\n      var data = { method: \"wallet_switchEthereumChain\" };\n      this.testTransaction = JSON.stringify(data);\n    },\n\n    async wallet_addEthereumChain() {\n      var data = {\n        method: \"wallet_addEthereumChain\",\n        params: {\n          blockExplorerUrls: [\"https://explorer.fuse.io\"],\n          chainId: \"0x7a\",\n          chainName: \"Fuse\",\n          nativeCurrency: { name: \"Fuse\", symbol: \"FUSE\", decimals: 18 },\n          rpcUrls: [\"https://rpc.fuse.io\"],\n        },\n      };\n\n      this.testTransaction = JSON.stringify(data);\n    },\n    async personal_sign() {\n      if (this.selectedChain === \"eip155:1\") {\n        // personal_sign\n        // address\n        // 0xf2f3e73be57031114dd1f4e75c1dd87658be7f0e\n        // valid\n        // true\n        // result\n        // 0x1ca023f10e157d148deed210f8bee193657a1eaa7f187909e20a9dc3b071dbc364c41fde37960c05093359f410a061ec8a7dca8c0c39fc7c1e24de8a3329775d1b\n\n        var accounts = await window.provider.request(\n          { method: \"eth_requestAccounts\" },\n          \"eip155:1\"\n        );\n        var address = accounts[0];\n        console.log(\"签名地址>>>\", address, JSON.stringify(accounts));\n\n        var dataETH = {\n          method: \"personal_sign\",\n          params: [\n            \"0x4d7920656d61696c206973206a6f686e40646f652e636f6d202d2031373237353937343537313336\",\n            address,\n          ],\n        };\n\n        this.testTransaction = JSON.stringify(dataETH);\n      } else if (\n        this.selectedChain === \"eip155:137\" ||\n        this.selectedChain === \"eip155:122\"\n      ) {\n        // method\n        // personal_sign\n        // address\n        // 0xf2f3e73be57031114dd1f4e75c1dd87658be7f0e\n        // valid\n        // true\n        // result\n        // 0xebda9cfa2af43999058dffa0107031d1ef7fc0252dca85dcbd22ea097af922ca39b64d509ef61ce42b7641c5840b8a80337ffd1411b13e87e2260a3f1b6c151c1b\n\n        var dataPolygon = {\n          method: \"personal_sign\",\n          params: {\n            message:\n              \"0x4d7920656d61696c206973206a6f686e40646f652e636f6d202d2031373237353937353831303437\",\n          },\n        };\n        this.testTransaction = JSON.stringify(dataPolygon);\n      } else if (this.selectedChain === \"eip155:56\") {\n        var data = {\n          method: \"personal_sign\",\n          params: {\n            message:\n              \"0x4d7920656d61696c206973206a6f686e40646f652e636f6d202d2031373237353937353831303437\",\n          },\n        };\n\n        this.testTransaction = JSON.stringify(data);\n      }\n    },\n\n    async eth_sendTransaction_swap() {\n      var data = {\n        method: \"eth_sendTransaction\",\n        chainId: \"eip155:122\",\n        params: {\n          value: \"0x38d7ea4c68000\",\n          gas: \"0x2665f\",\n          to: \"0xf2614A233c7C3e7f08b1F887Ba133a13f1eb2c55\",\n          from: \"0xf2F3e73be57031114dd1f4E75c1DD87658be7F0E\",\n          data: \"0x2646478b000000000000000000000000eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee00000000000000000000000000000000000000000000000000038d7ea4c68000000000000000000000000000620fd5fa44be6af63715ef4e65ddfa0387ad13f5000000000000000000000000000000000000000000000000000000000000001b000000000000000000000000f2f3e73be57031114dd1f4e75c1dd87658be7f0e00000000000000000000000000000000000000000000000000000000000000c000000000000000000000000000000000000000000000000000000000000000700301ffff0201602352A9Eb5234466Eac23E59e7B99bCaE79C39c0BE9e53fd7EDaC9F859882AfdDa116645287C629040BE9e53fd7EDaC9F859882AfdDa116645287C62900602352A9Eb5234466Eac23E59e7B99bCaE79C39c01f2F3e73be57031114dd1f4E75c1DD87658be7F0E000bb800000000000000000000000000000000\",\n        },\n      };\n      this.testTransaction = JSON.stringify(data);\n    },\n\n    async eth_signTypedData_v4() {\n      // method\n      // eth_signTypedData\n      // address\n      // 0xf2f3e73be57031114dd1f4e75c1dd87658be7f0e\n      // valid\n      // true\n      // result\n      // 0xa8bb3c6b33a119d2d567c7632195c21988df778006082742125a591f5c633f716107883a37f7de6531a6312a5f69022135bf46fe5ab77905b62c82b3395f985e1b\n      //\n\n      // var data = {\n      //   \"method\": \"eth_signTypedData_v4\",\n      //   \"params\": {\n      //     \"typedDataJson\":\"{\\\"types\\\":{\\\"EIP712Domain\\\":[{\\\"name\\\":\\\"name\\\",\\\"type\\\":\\\"string\\\"},{\\\"name\\\":\\\"version\\\",\\\"type\\\":\\\"string\\\"},{\\\"name\\\":\\\"chainId\\\",\\\"type\\\":\\\"uint256\\\"},{\\\"name\\\":\\\"verifyingContract\\\",\\\"type\\\":\\\"address\\\"}],\\\"Person\\\":[{\\\"name\\\":\\\"name\\\",\\\"type\\\":\\\"string\\\"},{\\\"name\\\":\\\"wallet\\\",\\\"type\\\":\\\"address\\\"}],\\\"Mail\\\":[{\\\"name\\\":\\\"from\\\",\\\"type\\\":\\\"Person\\\"},{\\\"name\\\":\\\"to\\\",\\\"type\\\":\\\"Person\\\"},{\\\"name\\\":\\\"contents\\\",\\\"type\\\":\\\"string\\\"}]},\\\"primaryType\\\":\\\"Mail\\\",\\\"domain\\\":{\\\"name\\\":\\\"Ether Mail\\\",\\\"version\\\":\\\"1\\\",\\\"chainId\\\":1,\\\"verifyingContract\\\":\\\"0xCcCCccccCCCCcCCCCCCcCcCccCcCCCcCcccccccC\\\"},\\\"message\\\":{\\\"from\\\":{\\\"name\\\":\\\"Cow\\\",\\\"wallet\\\":\\\"0xCD2a3d9F938E13CD947Ec05AbC7FE734Df8DD826\\\"},\\\"to\\\":{\\\"name\\\":\\\"Bob\\\",\\\"wallet\\\":\\\"0xbBbBBBBbbBBBbbbBbbBbbbbBBbBbbbbBbBbbBBbB\\\"},\\\"contents\\\":\\\"Hello, Bob!\\\"}}\"\n      // }}\n\n      var accounts = await window.provider.request(\n        { method: \"eth_requestAccounts\" },\n        \"eip155\"\n      );\n      var address = accounts[0];\n      console.log(\"签名地址>>>\", address, JSON.stringify(accounts));\n\n      var data = {\n        method: \"eth_signTypedData_v4\",\n        params: [\n          address,\n          {\n            types: {\n              EIP712Domain: [\n                {\n                  name: \"name\",\n                  type: \"string\",\n                },\n                {\n                  name: \"version\",\n                  type: \"string\",\n                },\n                {\n                  name: \"chainId\",\n                  type: \"uint256\",\n                },\n                {\n                  name: \"verifyingContract\",\n                  type: \"address\",\n                },\n              ],\n              Person: [\n                {\n                  name: \"name\",\n                  type: \"string\",\n                },\n                {\n                  name: \"wallet\",\n                  type: \"address\",\n                },\n              ],\n              Mail: [\n                {\n                  name: \"from\",\n                  type: \"Person\",\n                },\n                {\n                  name: \"to\",\n                  type: \"Person\",\n                },\n                {\n                  name: \"contents\",\n                  type: \"string\",\n                },\n              ],\n            },\n            primaryType: \"Mail\",\n            domain: {\n              name: \"Ether Mail\",\n              version: \"1\",\n              chainId: 1,\n              verifyingContract: \"0xCcCCccccCCCCcCCCCCCcCcCccCcCCCcCcccccccC\",\n            },\n            message: {\n              from: {\n                name: \"Cow\",\n                wallet: \"0xCD2a3d9F938E13CD947Ec05AbC7FE734Df8DD826\",\n              },\n              to: {\n                name: \"Bob\",\n                wallet: \"0xbBbBBBBbbBBBbbbBbbBbbbbBBbBbbbbBbBbbBBbB\",\n              },\n              contents: \"Hello, Bob!\",\n            },\n          },\n        ],\n      };\n\n      this.testTransaction = JSON.stringify(data);\n    },\n    async eth_sendTransaction_transfer() {\n      var data = {};\n      if (this.selectedChain === \"eip155:1\") {\n        data = {\n          method: \"eth_sendTransaction\",\n          params: {\n            from: \"0x0cecb15396825a895ff8da8fc2d2c77a234dccee\",\n            chainId: \"0x1\",\n            to: \"0x0cecb15396825a895ff8da8fc2d2c77a234dccee\",\n            value: \"0x5af3107a4000\",\n            maxPriorityFeePerGas: \"0x3b9aca00\",\n            gas: \"0x5e56\",\n            maxFeePerGas: \"0x2643b9db8\",\n          },\n        };\n      } else if (this.selectedChain === \"eip155:137\") {\n        data = {\n          method: \"eth_sendTransaction\",\n          params: {\n            gasPrice: \"0x17003f6530\",\n            nonce: \"0x0d30\",\n            data: \"0x\",\n            value: \"0x00\",\n            to: \"0xf2f3e73be57031114dd1f4e75c1dd87658be7f0e\",\n            gasLimit: \"0x5208\",\n            from: \"0xf2f3e73be57031114dd1f4e75c1dd87658be7f0e\",\n          },\n        };\n      } else if (this.selectedChain === \"eip155:56\") {\n        data = {\n          method: \"eth_sendTransaction\",\n          params: {\n            gas: \"0x5e56\",\n            value: \"0x5af3107a4000\",\n            from: \"0xf2f3e73be57031114dd1f4e75c1dd87658be7f0e\",\n            gasPrice: \"0x3b9aca00\",\n            to: \"0xf2f3e73be57031114dd1f4e75c1dd87658be7f0e\",\n            chainId: \"0x38\",\n          },\n        };\n      }else if(this.selectedChain === \"eip155:122\"){\n         data =   {\n          method: \"eth_sendTransaction\",\n          params: {\n            from: \"0xf2f3e73be57031114dd1f4e75c1dd87658be7f0e\",\n            to: \"0xf2f3e73be57031114dd1f4e75c1dd87658be7f0e\",\n            value: \"0x0\",\n            chainId: \"0x7a\",\n          }\n        }\n      }\n\n      var accounts = await window.provider.request(\n        { method: \"eth_requestAccounts\" },\n        \"eip155\"\n      );\n      var address = accounts[0];\n      console.log(\"当前钱包地址------\", address);\n      data.params[\"to\"] = address;\n      data.params[\"from\"] = address;\n      this.testTransaction = JSON.stringify(data);\n    },\n\n    async eth_sendTransaction_approve() {\n      var data = {};\n\n      if (this.selectedChain === \"eip155:1\") {\n        data = {\n          method: \"eth_sendTransaction\",\n          params: {\n            from: \"0xf2F3e73be57031114dd1f4E75c1DD87658be7F0E\",\n            data: \"0x095ea7b3000000000000000000000000000000000022d473030f116ddee9f6b43ac78ba3ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff\",\n            to: \"0x582d872a1b094fc48f5de31d3b73f2d9be47def1\",\n          },\n        };\n      } else if (this.selectedChain === \"eip155:137\") {\n        data = {\n          method: \"eth_sendTransaction\",\n          params: {\n            from: \"0xf2F3e73be57031114dd1f4E75c1DD87658be7F0E\",\n            data: \"0x095ea7b3000000000000000000000000f2614a233c7c3e7f08b1f887ba133a13f1eb2c5500000000000000000000000000000000000000000000000000f6f8096ac575b0\",\n            to: \"0x0b3F868E0BE5597D5DB7fEB59E1CADBb0fdDa50a\",\n          },\n        };\n      } else if (this.selectedChain === \"eip155:56\") {\n        data = {\n          method: \"eth_sendTransaction\",\n          params: {\n            from: \"0x0cecb15396825A895FF8DA8fC2D2C77A234dcCee\",\n            value: \"0x0\",\n            gas: \"0xe117\",\n            gasPrice: \"0xb2d05e00\",\n            data: \"0x095ea7b300000000000000000000000031c2f6fcff4f8759b3bd5bf0e1084a055615c768ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff\",\n            to: \"0x5CA42204cDaa70d5c773946e69dE942b85CA6706\",\n          },\n        };\n      }else if (this.selectedChain === 'eip155:122'){\n        data = {\n          method: \"eth_sendTransaction\",\n          params: {\n            from: \"0x0cecb15396825A895FF8DA8fC2D2C77A234dcCee\",\n            data: \"0x095ea7b3000000000000000000000000f2614a233c7c3e7f08b1f887ba133a13f1eb2c5500000000000000000000000000000000000000000000000000000000000013b3\",\n            to: \"0x620fd5fa44BE6af63715Ef4E65DDFA0387aD13F5\",\n          },\n        };\n      }\n\n      var accounts = await window.provider.request(\n        { method: \"eth_requestAccounts\" },\n        \"eip155\"\n      );\n      var address = accounts[0];\n      console.log(\"当前钱包地址------\", address);\n      data.params[\"from\"] = address;\n      this.testTransaction = JSON.stringify(data);\n    },\n\n    async eth_sendTransaction_mint() {\n      var data = {};\n      if (this.selectedChain === \"eip155:1\") {\n        data = {\n          method: \"eth_sendTransaction\",\n          params: {\n            gas: \"0x4cacb\",\n            data: \"0xa64dfa75000000000000000000000000ed688002f3797599db8b4feacfe8b1dda0df1c8d000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000002a000000000000000000000000000000000000000000000000000000000000002e0000000000000000000000000000000000000000000000000000000000000032000000000000000000000000000000000000000000000000000000000000003a000000000000000000000000000000000000000000000000000000000000003c000000000000000000000000000000000000000000000000000000000000003e00000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000042000000000000000000000000000000000000000000000000000000000000005000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000052000000000000000000000000000000000000000000000000000000000000005400000000000000000000000000000000000000000000000000000000000000560000000000000000000000000000000000000000000000000000000000000058000000000000000000000000000000000000000000000000000000000000005a000000000000000000000000000000000000000000000000000000000000005c0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000cecb15396825a895ff8da8fc2d2c77a234dccee00000000000000000000000000000000000000000000000000000000000005e0000000000000000000000000000000000000000000000000000000000000062000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000047697066733a2f2f6261667962656968643737366b6177706e71336f6f6a6635693274787a76617737737164656b34616a776472637472703261366f626b70723773792f7b69647d0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000006000000000000000000000000000000000000000000000000000000000000000800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000002a3078303030303030303030303030303030303030303030303030303030303030303030303030303030300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000001\",\n            to: \"0x864baa13e01d8f9e26549dc91b458cd15e34eb7c\",\n            value: \"0x0\",\n            from: \"0x0cecb15396825a895ff8da8fc2d2c77a234dccee\",\n          },\n        };\n      } else if (this.selectedChain === \"eip155:137\") {\n        data = {\n          method: \"eth_sendTransaction\",\n          params: {\n            gas: \"0x30795\",\n            data: \"0xa64dfa75000000000000000000000000341b3687f0309778f08f29336b2c4b9c38b9f110000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000002a000000000000000000000000000000000000000000000000000000000000002e0000000000000000000000000000000000000000000000000000000000000032000000000000000000000000000000000000000000000000000000000000003a000000000000000000000000000000000000000000000000000000000000003c000000000000000000000000000000000000000000000000000000000000003e00000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000042000000000000000000000000000000000000000000000000000000000000005000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000052000000000000000000000000000000000000000000000000000000000000005400000000000000000000000000000000000000000000000000000000000000560000000000000000000000000000000000000000000000000000000000000058000000000000000000000000000000000000000000000000000000000000005a000000000000000000000000000000000000000000000000000000000000005c000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000f2f3e73be57031114dd1f4e75c1dd87658be7f0e00000000000000000000000000000000000000000000000000000000000005e0000000000000000000000000000000000000000000000000000000000000062000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000047697066733a2f2f62616679626569686a6279676b68747a71376b68377434336266686e676e793236337668766f6578716a6d6e377161716166366e717a64743777712f7b69647d0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000006000000000000000000000000000000000000000000000000000000000000000800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000002a3078303030303030303030303030303030303030303030303030303030303030303030303030303030300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000001\",\n            to: \"0x864baa13e01d8f9e26549dc91b458cd15e34eb7c\",\n            value: \"0x0\",\n            from: \"0xf2f3e73be57031114dd1f4e75c1dd87658be7f0e\",\n          },\n        };\n      }\n\n      let str = JSON.stringify(data);\n      console.log(\"-----长度--->\", str.length);\n      var accounts = await window.provider.request(\n        { method: \"eth_requestAccounts\" },\n        \"eip155\"\n      );\n      var address = accounts[0];\n      console.log(\"当前钱包地址------\", address);\n      data.params[\"from\"] = address;\n      this.testTransaction = JSON.stringify(data);\n    },\n\n    async wallet_testRpc() {\n      let provider = window.provider;\n      provider.setDefaultChain(\n        `eip155:56`,\n        `https://eth-mainnet.g.alchemy.com/v2/NxUfYJUr-TQtEpLmSXhhD5pXn70GwsyV`\n      );\n      var data = {\n        method: \"eth_getBalance\",\n        params: [\"0x8D97689C9818892B700e27F316cc3E41e17fBeb9\", \"latest\"],\n      };\n      this.testTransaction = JSON.stringify(data);\n    },\n    async wallet_watchAsset() {\n      var data = {};\n      if (this.selectedChain === \"eip155:1\") {\n        data = {\n          method: \"wallet_watchAsset\",\n          params: {\n            type: \"ERC20\",\n            options: {\n              address: \"0xe0f63a424a4439cbe457d80e4f4b51ad25b2c56c\",\n              symbol: \"SPX6900\",\n              image:\n                \"https://assets.coingecko.com/coins/images/31401/standard/sticker_%281%29.jpg?1702371083\",\n              decimals: 8,\n            },\n          },\n        };\n      } else if (this.selectedChain === \"eip155:137\") {\n        data = {\n          method: \"wallet_watchAsset\",\n          params: {\n            type: \"ERC20\",\n            options: {\n              address: \"0xeB51D9A39AD5EEF215dC0Bf39a8821ff804A0F01\",\n              symbol: \"LGNS\",\n              image: \"https://polygonscan.com/token/images/originlgns_32.png\",\n              decimals: 9,\n            },\n          },\n        };\n      } else if (this.selectedChain === \"eip155:56\") {\n        data = {\n          method: \"wallet_watchAsset\",\n          params: {\n            type: \"ERC20\",\n            options: {\n              address: \"0x031b41e504677879370e9dbcf937283a8691fa7f\",\n              symbol: \"FET\",\n              image: \"https://bscscan.com/token/images/fetch_32.png\",\n              decimals: 18,\n            },\n          },\n        };\n      }\n\n      this.testTransaction = JSON.stringify(data);\n    },\n\n    async ton_sendTransaction() {\n      var data  = {\n        \"messages\":[{\"address\":\"EQARULUYsmJq1RiZ-YiH-IJLcAZUVkVff-KBPwEmmaQGH6aC\",\"amount\":\"205000000\",\"payload\":\"te6cckEBAgEAhwABbQ+KfqUAAADNgG7tIEATEtAIAO87mQKicbKgHIk4pSPP4k5xhHqutqYgAB7USnesDnCcECwbgQMBAJUlk4VhgBD3JEg1TUr75iTijBghOKm/sxNDXUBl7CD6WMut0Q85x4RafwA/Es89DBXoTxuqxVFxyBbzt9Rav2HBUKl7hmkvLuKHLBCW57aK\"}],\n        \"validUntil\":1792481054,\n        \"network\":'-239'}\n      this.testTransaction = JSON.stringify(data)\n    },\n    ton_getAccount() {\n      this.testTransaction = \"这里是同步获取 不再需要点击 <<发送交易>>\"\n      let result =   window.tonProvider.account()\n      if (result) {\n        this.testboc = JSON.stringify(result);\n      } else {\n        this.testboc = 'null'\n      }\n    },\n\n    async tonUniversalLog() {\n      console.log(\"ton 信息: tonProvider  connected:\",window.tonProvider.connected())\n      console.log(\"ton 信息: tonProvider  account:\",JSON.stringify(window.tonProvider.account()))\n      console.log(\"ton 信息: tonProvider  wallet:\",JSON.stringify(window.tonProvider.wallet()))\n    },\n\n    async sendTransactionAlert() {\n      //\n      const response = await fetch(`https://apitest.fireverse.ai/oauth/okx/getNonce?publicAddress=0x0cecb15396825a895ff8da8fc2d2c77a234dccee`);\n      const data = await response.json();\n      console.log(\"请求数据----\",JSON.stringify(data))\n      await this.personal_sign()\n      if (confirm(\"Are you want to sign message?\")) {\n        this.sendTransaction();\n      }\n\n      // window.open(\"https://www.okx.com/download?deeplink=okx%3A%2F%2Fweb3%2Fwallet%2Fconnect\",'_self')\n    },\n\n    async sendTransaction() {\n      if (this.selectedChain.startsWith(\"aptos\")\n          || this.selectedChain.startsWith(\"movement\")\n          || this.selectedChain.startsWith(\"solana\")\n          || this.selectedChain.startsWith(\"sonic\")\n          || this.selectedChain.startsWith(\"cosmos\")) {\n        return\n      }\n      console.log(\"sendTransaction\", window.provider);\n      console.log(\"sendTransaction内容11------\", this.testTransaction);\n      if (!window.provider) {\n        console.error(\"钱包 未初始化完成\");\n      }\n\n      if (this.testTransaction && window.provider) {\n        // eslint-disable-next-line no-undef\n        const sendData = JSON.parse(this.testTransaction);\n        try {\n          console.log(\"sendTransaction-----22method>>\", sendData.method);\n\n          let chainId = \"eip155:1\";\n          if (this.selectedChain) {\n            chainId = this.selectedChain;\n            console.log(\n              \"sendTransaction-----this.selectedChain>>\",\n              this.selectedChain\n            );\n          }\n          console.log(\"windowOpen[click_1]: \", Date.now());\n          if (chainId == \"sui:mainnet\") {\n            const adapter = new SuiAdapter(window.provider);\n            var suiResult = \"invalid result\";\n            if (this.currentSuiMethod == 'sui_getAccount') {\n              let result = adapter.getAccount()\n              if (typeof result == \"string\") {\n                this.testboc = result\n              } else {\n                this.testboc = JSON.stringify(result)\n              }\n            }\n            if (this.currentSuiMethod == \"sui_signTransaction\") {\n              suiResult = await adapter.signTransaction(\n                this.currentSuiTransaction\n              );\n              this.testboc = JSON.stringify(suiResult);\n            } else if (this.currentSuiMethod == \"sui_signAndExecuteTransaction\") {\n              suiResult = await adapter.signAndExecuteTransaction(\n                this.currentSuiTransaction\n              );\n              this.testboc = JSON.stringify(suiResult);\n            } else if (this.currentSuiMethod == \"sui_signMessage\") {\n              console.log(\"signMessage----\", this.currentSuiTransaction);\n              suiResult = await adapter.signMessage(this.currentSuiTransaction);\n              this.testboc = JSON.stringify(suiResult);\n\n              this.sui_verifySignature(suiResult).then(ret => {\n                this.testboc = `signature verify: ${ret.result}\\n${ret.msg}\\n\\n${this.testboc}`\n              })\n            } else if (this.currentSuiMethod == \"sui_signPersonalMessage\") {\n              console.log(\n                \"signPersonalMessage----\",\n                this.currentSuiTransaction\n              );\n              suiResult = await adapter.signPersonalMessage(\n                this.currentSuiTransaction\n              );\n              this.testboc = JSON.stringify(suiResult);\n\n              this.sui_verifySignature(suiResult).then(ret => {\n                this.testboc = `signature verify: ${ret.result}\\n${ret.msg}\\n\\n${this.testboc}`\n              })\n            } else if (this.currentSuiMethod == \"sui_testRpc\") {\n              console.log(\"test rpc----\", this.currentSuiTransaction);\n              console.log(\n                `请求数据发送 rpc ----->> ${JSON.stringify(sendData)}`\n              );\n              const res = await window.provider.request(sendData, chainId);\n              console.log(`请求数据回调 rpc ----->> ${JSON.stringify(result)}`);\n              if (typeof res == \"string\") {\n                this.testboc = res;\n              } else {\n                this.testboc = JSON.stringify(res);\n              }\n            }\n            console.log(\"windowOpen[click_2]: \", Date.now());\n            return;\n          }else if(chainId === \"ton:-239\"){\n            console.log(\n                `请求数据发送 sendTransaction ---ton-->> ${JSON.stringify(sendData)}`\n            );\n            let result =  await window.tonProvider.sendTransaction(sendData)\n            console.log(\n                `请求数据回调 sendTransaction ----->> ${JSON.stringify(result)}`\n            );\n            if (typeof result == \"string\") {\n              this.testboc = result;\n            } else {\n              this.testboc = JSON.stringify(result);\n            }\n            return\n          }\n\n          if (chainId == 'btc:mainnet') {\n            const btcAdapter = new OKXBtcProvider(window.provider)\n            var btcResult = 'invalid result'\n\n            if (this.currentBtcMethod == 'btc_signMessage') {\n              btcResult = await btcAdapter.signMessage(chainId, this.currentBtcTransaction[\"signStr\"])\n              this.testboc = JSON.stringify(btcResult)\n            } else if (this.currentBtcMethod == 'btc_send') {\n              btcResult = await btcAdapter.send(chainId, this.currentBtcTransaction)\n              this.testboc = JSON.stringify(btcResult)\n            } else if (this.currentBtcMethod == 'btc_signPsbt') {\n              btcResult = await btcAdapter.signPsbt(chainId, this.currentBtcTransaction.psbtHex, this.currentBtcTransaction.options)\n\n              this.hexToBase64(btcResult).then(bs64Str => {\n                this.testboc = JSON.stringify(bs64Str)\n              }).catch(error => {\n                this.testboc = error\n              })\n            } else if (this.currentBtcMethod == 'btc_signPsbts') {\n              btcResult = await btcAdapter.signPsbts(chainId, this.currentBtcTransaction.psbtHexs, this.currentBtcTransaction.options)\n              this.testboc = JSON.stringify(btcResult)\n            } else if (this.currentBtcMethod == 'btc_sendInscription') {\n              btcResult = await btcAdapter.sendInscription(chainId, this.currentBtcTransaction.address, this.currentBtcTransaction.inscriptionId, this.currentBtcTransaction.options)\n              this.testboc = JSON.stringify(btcResult)\n            } else if (this.currentBtcMethod == 'btc_signAndPushPsbt') {\n              btcResult = await btcAdapter.signAndPushPsbt(chainId, this.currentBtcTransaction.psbtHex, this.currentBtcTransaction.options)\n              this.testboc = JSON.stringify(btcResult)\n            }else if (this.currentBtcMethod == 'btc_sendBitcoin') {\n              btcResult = await btcAdapter.sendBitcoin(chainId, this.currentBtcTransaction.toAddress, this.currentBtcTransaction.satoshis, this.currentBtcTransaction.options)\n\n              this.testboc = JSON.stringify(btcResult)\n            }\n            return\n          }\n\n          if (chainId == 'fractal:mainnet') {\n            const btcAdapter = new OKXBtcProvider(window.provider)\n            var fractalResult = 'invalid result'\n\n            if (this.currentFractalMethod == 'fractal_signMessage') {\n              fractalResult = await btcAdapter.signMessage(chainId, this.currentFractalTransaction['signStr'])\n              this.testboc = JSON.stringify(fractalResult)\n            } else if (this.currentFractalMethod == 'fractal_send') {\n              fractalResult = await btcAdapter.send(chainId, this.currentFractalTransaction)\n              this.testboc = JSON.stringify(fractalResult)\n            } else if (this.currentFractalMethod == 'fractal_signPsbt') {\n              fractalResult = await btcAdapter.signPsbt(chainId, this.currentFractalTransaction.psbtHex, this.currentFractalTransaction.options)\n              this.hexToBase64(fractalResult).then(bs64Str => {\n                this.testboc = JSON.stringify(bs64Str)\n              }).catch(error => {\n                this.testboc = error\n              })\n            } else if (this.currentFractalMethod == 'fractal_signPsbts') {\n              fractalResult = await btcAdapter.signPsbts(chainId, this.currentFractalTransaction.psbtHexs, this.currentFractalTransaction.options)\n              this.testboc = JSON.stringify(fractalResult)\n            } else if (this.currentFractalMethod == 'fractal_sendInscription') {\n              fractalResult = await btcAdapter.sendInscription(chainId, this.currentFractalTransaction.address, this.currentFractalTransaction.inscriptionId, this.currentFractalTransaction.options)\n              this.testboc = JSON.stringify(fractalResult)\n            } else if (this.currentFractalMethod == 'fractal_signAndPushPsbt') {\n              fractalResult = await btcAdapter.signAndPushPsbt(chainId, this.currentFractalTransaction.psbtHex, this.currentFractalTransaction.options)\n              this.testboc = JSON.stringify(fractalResult)\n            }else if (this.currentFractalMethod == 'fractal_sendBitcoin') {\n              fractalResult = await btcAdapter.sendBitcoin(chainId, this.currentFractalTransaction.toAddress, this.currentFractalTransaction.satoshis, this.currentFractalTransaction.options)\n\n              this.testboc = JSON.stringify(fractalResult)\n            }\n\n            return\n          }\n\n          console.log(`请求数据发送 sendTransaction ----->> ${JSON.stringify(sendData)}`)\n          var result = await window.provider.request(sendData, chainId)\n          console.log(`请求数据回调 sendTransaction ----->> ${JSON.stringify(result)}`)\n\n          console.log(\"windowOpen[click_3]: \", Date.now());\n          if (typeof result == \"string\") {\n            this.testboc = result;\n          } else {\n            this.testboc = JSON.stringify(result);\n          }\n          console.log(\"方法数据回调 --this.testboc--\", this.testboc);\n        } catch (error) {\n          console.error(\"方法数据回调失败 --Error--\", error.message);\n\n          if (error.code === OKX_CONNECT_ERROR_CODES.USER_REJECTS_ERROR) {\n            this.testboc = error.message;\n          } else {\n            this.testboc = \"签名错误！\" + error.message;\n          }\n        }\n      } else {\n        alert(\"交易数据为空，请选则或输入交易数据。\");\n      }\n    },\n\n    hexToBase64(hexStr) {\n      var bytes = [];\n      for (var i = 0; i < hexStr.length; i += 2) {\n        bytes.push(parseInt(hexStr.substr(i, 2), 16));\n      }\n      const buffer = new Uint8Array(bytes)\n      const blob = new Blob([buffer]);\n      return new Promise((resolve, reject) => {\n        const reader = new FileReader();\n        reader.onload = function (e) {\n          var base64Data = e.target.result.split(\",\")[1]\n          resolve(base64Data);\n        };\n        reader.onerror = function (e) {\n          reject(e);\n        };\n        reader.readAsDataURL(blob);\n      });\n    },\n    testBase64UrlSafe(){\n      let datatest = {\"protocolVer\":1,\"topic\":\"8a7a4c3be73802d0ae2587123ade7bb79f27433b9aa3ca589a2208a2089eecfd\",\"clientId\":\"5f1bbf9eac92160affa7ef04d0a710817ddb6d8c22ebbd6263e86f059930b404\",\"requestId\":\"1731383250054\",\"dAppInfo\":{\"url\":\"connect.oker.vip\",\"origin\":\"https://connect.oker.vip\",\"name\":\"univer test dapp\",\"icon\":\"https://avatars.githubusercontent.com/u/37784886\"},\"requests\":[{\"name\":\"requestAccounts\",\"requiredNamespaces\":[{\"namespace\":\"aptos\",\"chains\":[\"aptos:637\"]}],\"optionalNamespaces\":[],\"connectRequestMethods\":[{\"chainId\":\"aptos:637\",\"method\":\"aptos_signMessage\",\"params\":{\"data\":{\"address\":true,\"application\":true,\"chainId\":true,\"message\":\"123 中文测试!\",\"nonce\":\"1234\"},\"applicationUrl\":\"https://connect.oker.vip\",\"prefix\":\"APTOS\",\"aptosChainId\":\"1\"}}]}],\"redirect\":\"none\"}\n      let json = JSON.stringify(datatest)\n      const utf8Array = new TextEncoder().encode(json);\n      let binary = '';\n      utf8Array.forEach(byte => {\n        binary += String.fromCharCode(byte);\n      });\n\n      let firstStr =  btoa(binary)\n      console.log(\"字符串编码1>>>>\",firstStr)\n      firstStr = firstStr.replace(/\\+/g, '-')  // 替换 '+'\n      console.log(\"字符串编码2>>>>\",firstStr)\n      firstStr = firstStr.replace(/\\//g, '_')  // 替换 '/'\n      console.log(\"字符串编码3>>>>\",firstStr)\n      firstStr = firstStr.replace(/=+$/, '');  // 移除 '=';\n      console.log(\"字符串编码4>>>>\",firstStr)\n\n      let showUrl =  getUniversalLink(getAppWalletDeepLink(firstStr))\n      console.log(\"字符串编码5>>>>\",showUrl)\n      this.qrValue = showUrl;\n      this.showModal = true;\n    },\n\n\n    async testTonSdk(isTwoSteps) {\n      // 1. connect\n      //  create sub providers for each namespace/chain\n      let nameSpacesChains = [];\n      let optSpaceChains = [];\n\n      let solanaChains = [\n        \"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp\",\n        \"solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z\",\n        \"svm:70000062\",\n      ];\n      let hasEip155, hasSolana, hasSui, hasBtc, hasAptos, hasTon, hasCosmos = false\n\n      let suiChains = [\n        \"sui:mainnet\",\n      ];\n\n      let btcChains = [\n        \"btc:mainnet\",\n        \"fractal:mainnet\"\n      ];\n\n      const chains = Object.entries(this.availableChains)\n          .filter((chain) => chain[1].checked)\n          .map((chain) => chain[0]);\n      console.log(`chains  ===> ${chains.values()}`)\n      chains.forEach(function (chainId) {\n        console.log(`chains.forEach chainId  ===> ${chainId}`)\n\n        if (solanaChains.includes(chainId)) {\n          nameSpacesChains.push(chainId);\n          hasSolana = true;\n          return;\n        }\n        if (typeof chainId == 'string' && chainId.startsWith(\"ton\")) {\n          nameSpacesChains.push(chainId)\n          hasTon = true\n          return\n        }\n        if (typeof chainId == 'string' && (chainId.startsWith(\"aptos\") || chainId.startsWith(\"movement\"))) {\n          nameSpacesChains.push(chainId)\n          hasAptos = true\n          return\n        }\n        if (typeof chainId == 'string' && chainId.startsWith(\"svm\")) {\n          nameSpacesChains.push(chainId)\n          hasSolana = true\n          return\n        }\n        if (typeof chainId == 'string' && chainId.startsWith(\"cosmos\")) {\n          nameSpacesChains.push(chainId)\n          hasCosmos = true\n          return\n        }\n\n        if (suiChains.includes(chainId)) {\n          console.log(`nameSpacesChains.push  ===> ${chainId}`);\n          nameSpacesChains.push(chainId);\n          hasSui = true;\n          return;\n        }\n\n        if (btcChains.includes(chainId)) {\n          console.log(`nameSpacesChains.push  ===> ${chainId}`)\n          nameSpacesChains.push(chainId)\n          hasBtc = true\n          return\n        }\n\n        hasEip155 = true\n        nameSpacesChains.push(`eip155:${chainId}`)\n      })\n\n\n      optionChains.forEach(function (chainId) {\n        if (solanaChains.includes(chainId)) {\n          optSpaceChains.push(chainId);\n          return;\n        }\n        if (typeof chainId == \"string\" && chainId.startsWith(\"svm\")) {\n          nameSpacesChains.push(chainId);\n          hasSolana = true;\n          return;\n        }\n        if (suiChains.includes(chainId)) {\n          optSpaceChains.push(chainId);\n          return;\n        }\n\n        if (btcChains.includes(chainId)) {\n          optSpaceChains.push(chainId)\n          return\n        }\n\n        optSpaceChains.push(`eip155:${chainId}`)\n      })\n\n      console.log(`namespaceChains  ===> ${JSON.stringify(nameSpacesChains)}`);\n      var connectData = {};\n      if (nameSpacesChains && nameSpacesChains.length > 0) {\n        var requireData = {};\n        if (isTwoSteps){\n          let includeEth = nameSpacesChains.includes(\"eip155:1\")\n          if (!includeEth){\n            alert(\"请选择ETH \");\n            return;\n          }\n        }\n\n        if (hasEip155) {\n          requireData.eip155 = {\n            chains: nameSpacesChains.filter((item) =>\n              item.startsWith(\"eip155\")\n            ),\n            defaultChain: nameSpacesChains.filter((item) =>\n              item.startsWith(\"eip155\")\n            )[0],\n          };\n        }\n        if (hasSolana) {\n          requireData.solana = {\n            chains: nameSpacesChains.filter(\n              (item) =>\n                item.startsWith(\"solana\") ||\n                item.startsWith(\"sonic\") ||\n                item.startsWith(\"svm\")\n            ),\n            defaultChain: nameSpacesChains.filter(\n              (item) =>\n                item.startsWith(\"solana\") ||\n                item.startsWith(\"sonic\") ||\n                item.startsWith(\"svm\")\n            )[0],\n          };\n        }\n\n        if (hasCosmos) {\n          requireData.cosmos = {\n            chains: nameSpacesChains.filter(\n                (item) =>\n                    item.startsWith(\"cosmos\")\n            ),\n            defaultChain: nameSpacesChains.filter(\n                (item) =>\n                    item.startsWith(\"cosmos\")\n            )[0],\n          }\n        }\n        if (hasTon) {\n\n          //\n          let tonParams = {\n            ton_addr:{\n              name: 'ton_addr',\n            }\n          };\n          if (this.tonProofValue){\n            tonParams = {\n              ton_addr:{\n                name: 'ton_addr',\n              },\n              ton_proof:{\n                name: 'ton_proof',\n                payload: this.tonProofValue,\n              }\n            };\n          }\n\n\n          requireData.ton = {\n            chains: nameSpacesChains.filter(item => item.startsWith(\"ton\")),\n            defaultChain: nameSpacesChains.filter(item => item.startsWith(\"ton\"))[0],\n            params:tonParams\n          };\n        }\n\n        if (hasSui) {\n          requireData.sui = {\n            chains: nameSpacesChains.filter((item) => item.startsWith(\"sui\")),\n            defaultChain: nameSpacesChains.filter((item) =>\n              item.startsWith(\"sui\")\n            )[0],\n            rpcMap: {\n              \"sui:mainnet\": \"https://www.okx.com/fullnode/sui/discover/rpc\"\n            }\n          };\n        }\n        if (hasAptos) {\n          requireData.aptos = {\n            chains: nameSpacesChains.filter(item => item.startsWith(\"aptos\") || item.startsWith(\"movement\")),\n            defaultChain: nameSpacesChains.filter(item => item.startsWith(\"aptos\") || item.startsWith(\"movement\"))[0]\n          }\n        }\n\n        if (hasBtc) {\n          let btcChains = nameSpacesChains.filter(item => item.startsWith(\"btc\") || item.startsWith(\"fractal\"))\n          requireData.btc = {\n            chains: btcChains,\n            defaultChain: btcChains[0]\n          }\n        }\n        console.log(`requireData  ===> ${JSON.stringify(requireData)}`)\n        connectData['namespaces'] = requireData;\n        console.log(JSON.stringify(connectData))\n      }\n\n      if (optSpaceChains && optSpaceChains.length > 0) {\n        var optData = {\n          eip155: {\n            chains: optSpaceChains.filter((item) => item.startsWith(\"eip155\")),\n            defaultChain: optSpaceChains.filter((item) =>\n              item.startsWith(\"eip155\")\n            )[0],\n          },\n        };\n        connectData[\"optionalNamespaces\"] = optData;\n      }\n\n      if (nameSpacesChains.length === 0 && optSpaceChains.length === 0) {\n        //未选择链\n        alert(\"请选择一条链\");\n        return;\n      }\n\n      connectData.sessionConfig = {\n        useMini:false,\n        openUniversalUrl:false\n      }\n\n      console.log(\"=====>connectData \");\n      console.log(connectData);\n\n      var connectMethod;\n\n      if (!isTwoSteps){\n        connectData.connectMethods = this.getCurrentSelectedMethodData();\n      }\n\n      if (window.provider instanceof OKXUniversalConnectUI) {\n        connectMethod = window.provider.openModal(connectData);\n      } else {\n        connectMethod = window.provider.connect(connectData);\n      }\n\n      await connectMethod\n        .then((result) => {\n          // 2. set defaul chain\n          this.walletAddress = \"connected\";\n          if (this.isPC()) {\n            this.showModal = false;\n          }\n          if (result){\n            this.testboc = JSON.stringify(result)\n          }\n          if (isTwoSteps){\n            this.sendTransactionAlert()\n          }\n\n          if (window.provider.session && window.provider.session.namespaces){\n            let ton = window.provider.session.namespaces[\"ton\"];\n          console.log(\"是否包含ton\",ton)\n            if (ton){\n              this.tonUniversalLog()\n            }\n          }\n\n\n\n        })\n        .catch((error) => {\n          console.error(\"发生了错误：\", error);\n        });\n    },\n\n    getCurrentSelectedMethodData(){// 连接签名\n      var methodList = [];\n      this.selectedMethod.forEach(method =>{\n        switch (method) {\n          case \"wallet_addEthereumChain(ETH)\":\n            methodList.push({\n              method: \"wallet_addEthereumChain\",\n              chainId:\"eip155:1\",\n              params: {\n                blockExplorerUrls: [\"https://explorer.fuse.io\"],\n                chainId: \"0x7a\",\n                chainName: \"Fuse\",\n                nativeCurrency: { name: \"Fuse\", symbol: \"FUSE\", decimals: 18 },\n                rpcUrls: [\"https://rpc.fuse.io\"],\n              },\n            })\n            break;\n          case \"personal_sign(ETH)\":\n            methodList.push(\n              {\n                method: \"personal_sign\",\n                chainId: \"eip155:1\",\n                params: [\n                  \"0x4d7920656d61696c206973206a6f686e40646f652e636f6d202d2031373237353937343537313336\",\n                ],\n              });\n            break;\n          case \"solana_signMessage(Sol mainnet)\":\n            methodList.push(\n              {\n                \"chainId\": \"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp\",\n                \"method\": \"solana_signMessage\",\n                \"params\": {\n                  \"message\": \"Hello Solana\",\n                }\n              }\n            );\n            break;\n          case \"sui_signMessage(Sui mainnet)\":\n          case \"sui_signPersonalMessage(Sui mainnet)\": {\n            let suiData = [\n              76, 111, 103, 105, 110, 32, 119, 105, 116, 104, 32, 66, 108, 117, 101,\n              109, 111, 118, 101,\n            ];\n            let uint8Array = new Uint8Array(suiData);\n            let currentMethod = \"sui_signMessage\";\n            this.currentSuiTransaction = {\n              message:uint8Array\n            }\n\n            if(method.startsWith(\"sui_signPersonalMessage\")){\n              currentMethod = \"sui_signPersonalMessage\";\n            }\n            methodList.push(\n                {\n                  method: currentMethod,\n                  chainId: \"sui:mainnet\",\n                  params: {\n                    message: uint8Array,\n                  }\n                }\n            );\n            break;\n          }\n          case \"btc_signMessage(BTC)\":\n            methodList.push(\n              {\n                method: \"btc_signMessage\",\n                chainId: \"btc:mainnet\",\n                params: {\n                  signStr: \"Welcome to UniSat!\\n\\nClick to sign in and accept the UniSat Terms of Service (https://unisat.io/terms-of-service.html) and Privacy Policy (https://unisat.io/privacy-policy.html).\\n    \\nThis request will not trigger a blockchain transaction.\\n    \\nYour authentication status will reset after 24 hours.\\n    \\nWallet address:\\nbc1p7pgnqe87red4cvd7ml6rh9pl9ufpr522k2y3dpeyrvfc6g2g3r3s3ae9dr\\n    \\nNonce:\\n162d70e3-8c21-4cfd-9a22-9bf0a4b7be51\\n\"\n                }\n              }\n            )\n            break;\n          case \"aptos_signMessage(aptos mainnet)\":\n            methodList.push(\n              {\n                \"chainId\": \"aptos:mainnet\",\n                \"method\": \"aptos_signMessage\",\n                \"params\": {\n                  address: true,\n                  application: true,\n                  chainId: true,\n                  message: \"Hello Aptos\",\n                  nonce: \"1234\"\n                }\n              }\n            )\n            break;\n          case \"cosmos_signArbitrary(cosmoshub)\":\n            methodList.push(\n                {\n                  \"chainId\": \"cosmos:cosmoshub-4\",\n                  \"method\": \"cosmos_signArbitrary\",\n                  \"params\": {\n                    message: \"test cosmos\"\n                  }\n                }\n            )\n\n            break;\n          case \"test_noSupport_eth(ETH)\":\n            methodList.push(\n                {\n                  chainId: \"eip155:1\",\n                  method: \"test_noSupport_eth\",\n                  params: {\n                    message: \"测试不支持的方法\",\n                  }\n                }\n            )\n            break;\n            //\n          default:\n\n            break;\n        }\n      })\n      this.selectedMethodData = methodList\n      return methodList\n\n    },\n\n\n    closeModal() {\n      this.showModal = false;\n    },\n\n    isPC() {\n      const userAgentInfo = navigator.userAgent;\n      console.log(\"current device ua is ===>\", userAgentInfo);\n\n      const Agents = [\n        \"Android\",\n        \"iPhone\",\n        \"SymbianOS\",\n        \"Windows Phone\",\n        \"iPad\",\n        \"iPod\",\n      ];\n      let flag = true;\n      for (let v = 0; v < Agents.length; v++) {\n        if (userAgentInfo.indexOf(Agents[v]) > 0) {\n          flag = false;\n          break;\n        }\n      }\n      return flag;\n    },\n    isSafariOrChrome() {\n      const userAgentInfo = navigator.userAgent;\n      const Agents = [\"Safari\", \"Chrome\"];\n      let flag = false;\n      for (let v = 0; v < Agents.length; v++) {\n        if (userAgentInfo.indexOf(Agents[v]) > 0) {\n          flag = true;\n          break;\n        }\n      }\n      return flag;\n    },\n\n    /// solana\n    async sol_signMessage() {\n      //  if (this.selectedChain === \"eip155:56\") {\n      let data = {\n        method: \"solana_signMessage\",\n        params: {\n          message: \"Hello Solana\",\n          pubkey: \"\",\n        },\n      };\n      this.testTransaction = JSON.stringify(data);\n      let provider = new OKXSolanaProvider(window.provider);\n\n      let message = await provider.signMessage(\n          \"Hello Solana\",\n          this.selectedChain\n      );\n      console.log(\"solana_signMessage Result:\",JSON.stringify(message))\n      const result1 = nacl.sign.detached.verify(\n          new TextEncoder().encode(\"Hello Solana\"),\n          message.signature,\n          new PublicKey(message.publicKey).toBytes()\n      );\n      console.log(result1)\n\n      if (typeof message == \"string\") {\n        this.testboc = result1;\n      } else {\n        this.testboc = result1;\n      }\n    },\n\n    async aptos_signMessage() {\n      //  if (this.selectedChain === \"eip155:56\") {\n      let data = {\n        address: true,\n        application: true,\n        chainId: true,\n        message: \"Hello Aptos\",\n        nonce: \"1234\"\n      }\n\n      let provider = new OKXAptosProvider(window.provider)\n      let message = await provider.signMessage(data, this.selectedChain)\n      this.testTransaction = JSON.stringify(data)\n      if (typeof message == \"string\") {\n        this.testboc = message\n      } else {\n        this.testboc = JSON.stringify(message)\n      }\n    },\n\n    async aptos_signTransaction() {\n      let provider = new OKXAptosProvider(window.provider)\n      const config = new AptosConfig({ network: Network.MAINNET });\n      const aptos = new Aptos(config);\n      // const transaction = await aptos.transferCoinTransaction({\n      //   sender: provider.getAccount(this.selectedChain).address, //\"0x07897a0496703c27954fa3cc8310f134dd1f7621edf5e88b5bf436e4af70cfc6\"\n      //   recipient: provider.getAccount(this.selectedChain).address, //\"0x07897a0496703c27954fa3cc8310f134dd1f7621edf5e88b5bf436e4af70cfc6\",\n      //   amount: 100,\n      // });\n      // this.testTransaction = safeJsonStringify(transaction)\n\n      // let data = {\n      //   \"arguments\": [\"100000\", [\"10164\"],\n      //     [\"0\"],\n      //     [\"false\"]\n      //   ],\n      //   \"function\": \"0x80273859084bc47f92a6c2d3e9257ebb2349668a1b0fb3db1d759a04c7628855::router::swap_exact_coin_for_coin_x1\",\n      //   \"type\": \"entry_function_payload\",\n      //   \"type_arguments\": [\"0x1::aptos_coin::AptosCoin\", \"0xf22bede237a07e121b56d91a491eb7bcdfd1f5907926a9e58338f964a01b17fa::asset::USDC\", \"0x190d44266241744264b964a37b8f09863167a12d3e70cda39376cfb4e3561e12::curves::Uncorrelated\", \"0x80273859084bc47f92a6c2d3e9257ebb2349668a1b0fb3db1d759a04c7628855::router::BinStepV0V05\"]\n      // }\n\n\n      const transaction = await aptos.transaction.build.simple({\n        sender: provider.getAccount(this.selectedChain).address,\n        data: {\n          // The Move entry-function\n          function: \"0x80273859084bc47f92a6c2d3e9257ebb2349668a1b0fb3db1d759a04c7628855::router::swap_exact_coin_for_coin_x1\",\n          // typeArguments: [parseTypeTag(\"0x1::aptos_coin::AptosCoin\")],\n          typeArguments: [\"0x1::aptos_coin::AptosCoin\", \"0x111ae3e5bc816a5e63c2da97d0aa3886519e0cd5e4b046659fa35796bd11542a::stapt_token::StakedApt\", \"0x0163df34fccbf003ce219d3f1d9e70d140b60622cb9dd47599c25fb2f797ba6e::curves::Uncorrelated\", \"0x80273859084bc47f92a6c2d3e9257ebb2349668a1b0fb3db1d759a04c7628855::router::BinStepV0V05\"],\n          functionArguments: [\"10000\", [\"9104\"], [\"5\"], [\"true\"]],\n        },\n      });\n\n      this.testTransaction = safeJsonStringify(transaction)\n\n      let message = await provider.signTransaction(transaction, this.selectedChain)\n      if (typeof message == \"string\") {\n        this.testboc = message\n      } else {\n        this.testboc = JSON.stringify(message)\n      }\n    },\n\n    async move_signTransaction() {\n      let provider = new OKXAptosProvider(window.provider)\n      const config = new AptosConfig({ network: Network.MAINNET });\n      const aptos = new Aptos(config);\n      // const transaction = await aptos.transferCoinTransaction({\n      //   sender: provider.getAccount(this.selectedChain).address, //\"0x07897a0496703c27954fa3cc8310f134dd1f7621edf5e88b5bf436e4af70cfc6\"\n      //   recipient: provider.getAccount(this.selectedChain).address, //\"0x07897a0496703c27954fa3cc8310f134dd1f7621edf5e88b5bf436e4af70cfc6\",\n      //   amount: 100,\n      // });\n      // this.testTransaction = safeJsonStringify(transaction)\n\n      // let data = {\n      //   \"arguments\": [\"100000\", [\"10164\"],\n      //     [\"0\"],\n      //     [\"false\"]\n      //   ],\n      //   \"function\": \"0x80273859084bc47f92a6c2d3e9257ebb2349668a1b0fb3db1d759a04c7628855::router::swap_exact_coin_for_coin_x1\",\n      //   \"type\": \"entry_function_payload\",\n      //   \"type_arguments\": [\"0x1::aptos_coin::AptosCoin\", \"0xf22bede237a07e121b56d91a491eb7bcdfd1f5907926a9e58338f964a01b17fa::asset::USDC\", \"0x190d44266241744264b964a37b8f09863167a12d3e70cda39376cfb4e3561e12::curves::Uncorrelated\", \"0x80273859084bc47f92a6c2d3e9257ebb2349668a1b0fb3db1d759a04c7628855::router::BinStepV0V05\"]\n      // }\n\n\n      const transaction = await aptos.transaction.build.simple({\n        sender: provider.getAccount(this.selectedChain).address,\n        data: {\n          // The Move entry-function\n          function: \"0x0163df34fccbf003ce219d3f1d9e70d140b60622cb9dd47599c25fb2f797ba6e::scripts::swap\",\n          // typeArguments: [parseTypeTag(\"0x1::aptos_coin::AptosCoin\")],\n          typeArguments: [\"0x1::aptos_coin::AptosCoin\", \"0x275f508689de8756169d1ee02d889c777de1cebda3a7bbcce63ba8a27c563c6f::tokens::WBTC\", \"0x0163df34fccbf003ce219d3f1d9e70d140b60622cb9dd47599c25fb2f797ba6e::curves::Uncorrelated\"],\n          functionArguments: [\"10000\", \"12\"],\n        },\n      });\n\n      this.testTransaction = safeJsonStringify(transaction)\n\n      let message = await provider.signTransaction(transaction, this.selectedChain)\n      if (typeof message == \"string\") {\n        this.testboc = message\n      } else {\n        this.testboc = JSON.stringify(message)\n      }\n    },\n\n    async move_signAndSubmitTransaction() {\n      let provider = new OKXAptosProvider(window.provider)\n      const config = new AptosConfig({ network: Network.MAINNET });\n      const aptos = new Aptos(config);\n      // const transaction = await aptos.transferCoinTransaction({\n      //   sender: provider.getAccount(this.selectedChain).address, //\"0x07897a0496703c27954fa3cc8310f134dd1f7621edf5e88b5bf436e4af70cfc6\"\n      //   recipient: provider.getAccount(this.selectedChain).address, //\"0x07897a0496703c27954fa3cc8310f134dd1f7621edf5e88b5bf436e4af70cfc6\",\n      //   amount: 100,\n      // });\n      // this.testTransaction = safeJsonStringify(transaction)\n\n      // let data = {\n      //   \"arguments\": [\"100000\", [\"10164\"],\n      //     [\"0\"],\n      //     [\"false\"]\n      //   ],\n      //   \"function\": \"0x80273859084bc47f92a6c2d3e9257ebb2349668a1b0fb3db1d759a04c7628855::router::swap_exact_coin_for_coin_x1\",\n      //   \"type\": \"entry_function_payload\",\n      //   \"type_arguments\": [\"0x1::aptos_coin::AptosCoin\", \"0xf22bede237a07e121b56d91a491eb7bcdfd1f5907926a9e58338f964a01b17fa::asset::USDC\", \"0x190d44266241744264b964a37b8f09863167a12d3e70cda39376cfb4e3561e12::curves::Uncorrelated\", \"0x80273859084bc47f92a6c2d3e9257ebb2349668a1b0fb3db1d759a04c7628855::router::BinStepV0V05\"]\n      // }\n\n\n      const transaction = await aptos.transaction.build.simple({\n        sender: provider.getAccount(this.selectedChain).address,\n        data: {\n          // The Move entry-function\n          function: \"0x0163df34fccbf003ce219d3f1d9e70d140b60622cb9dd47599c25fb2f797ba6e::scripts::swap\",\n          // typeArguments: [parseTypeTag(\"0x1::aptos_coin::AptosCoin\")],\n          typeArguments: [\"0x1::aptos_coin::AptosCoin\", \"0x275f508689de8756169d1ee02d889c777de1cebda3a7bbcce63ba8a27c563c6f::tokens::WBTC\", \"0x0163df34fccbf003ce219d3f1d9e70d140b60622cb9dd47599c25fb2f797ba6e::curves::Uncorrelated\"],\n          functionArguments: [\"10000\", \"12\"],\n        },\n      });\n\n      this.testTransaction = safeJsonStringify(transaction)\n\n      let message = await provider.signAndSubmitTransaction(transaction, this.selectedChain)\n      if (typeof message == \"string\") {\n        this.testboc = message\n      } else {\n        this.testboc = JSON.stringify(message)\n      }\n    },\n\n    async aptos_signAndSubmitTransaction() {\n      let provider = new OKXAptosProvider(window.provider)\n      const config = new AptosConfig({ network: Network.MAINNET });\n      const aptos = new Aptos(config);\n      const transaction = await aptos.transaction.build.simple({\n        sender: provider.getAccount(this.selectedChain).address,\n        data: {\n          // The Move entry-function\n          function: \"0x80273859084bc47f92a6c2d3e9257ebb2349668a1b0fb3db1d759a04c7628855::router::swap_exact_coin_for_coin_x1\",\n          // typeArguments: [parseTypeTag(\"0x1::aptos_coin::AptosCoin\")],\n          typeArguments: [\"0x1::aptos_coin::AptosCoin\", \"0x111ae3e5bc816a5e63c2da97d0aa3886519e0cd5e4b046659fa35796bd11542a::stapt_token::StakedApt\", \"0x0163df34fccbf003ce219d3f1d9e70d140b60622cb9dd47599c25fb2f797ba6e::curves::Uncorrelated\", \"0x80273859084bc47f92a6c2d3e9257ebb2349668a1b0fb3db1d759a04c7628855::router::BinStepV0V05\"],\n          functionArguments: [\"10000\", [\"9104\"], [\"5\"], [\"true\"]],\n        },\n      });\n\n      // let data = {\n      //   \"arguments\": [\"100000\",[\"0\",\"0\",\"10533\"],[\"10\",\"5\",\"5\"],[\"false\",\"false\",\"true\"]],\n      //   \"function\": \"0x80273859084bc47f92a6c2d3e9257ebb2349668a1b0fb3db1d759a04c7628855::router::swap_exact_coin_for_coin_x3\",\n      //   \"type\": \"entry_function_payload\",\n      //   \"type_arguments\": [\"0x1::aptos_coin::AptosCoin\",\"0x73eb84966be67e4697fc5ae75173ca6c35089e802650f75422ab49a8729704ec::coin::DooDoo\",\"0x53a30a6e5936c0a4c5140daed34de39d17ca7fcae08f947c02e979cef98a3719::coin::LSD\",\"0xf22bede237a07e121b56d91a491eb7bcdfd1f5907926a9e58338f964a01b17fa::asset::USDC\",\"0x80273859084bc47f92a6c2d3e9257ebb2349668a1b0fb3db1d759a04c7628855::router::CurveV1\",\"0x0163df34fccbf003ce219d3f1d9e70d140b60622cb9dd47599c25fb2f797ba6e::curves::Uncorrelated\",\"0x0163df34fccbf003ce219d3f1d9e70d140b60622cb9dd47599c25fb2f797ba6e::curves::Uncorrelated\",\"0x54cb0bb2c18564b86e34539b9f89cfe1186e39d89fce54e1cd007b8e61673a85::bin_steps::X80\",\"0x80273859084bc47f92a6c2d3e9257ebb2349668a1b0fb3db1d759a04c7628855::router::BinStepV0V05\",\"0x80273859084bc47f92a6c2d3e9257ebb2349668a1b0fb3db1d759a04c7628855::router::BinStepV0V05\"]\n      // }\n      this.testTransaction = safeJsonStringify(transaction)\n\n      let message = await provider.signAndSubmitTransaction(transaction, this.selectedChain)\n      if (typeof message == \"string\") {\n        this.testboc = message\n      } else {\n        this.testboc = JSON.stringify(message)\n      }\n    },\n\n    async sol_signVersionedTransaction() {\n      let provider = new OKXSolanaProvider(window.provider);\n\n      let pubkey = new PublicKey(\n        provider.getAccount(\"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp\").address\n      );\n      const connection = new Connection(this.getSolConnect())\n      const { blockhash } = await connection.getLatestBlockhash();\n      const versionedTransactionMessage = new TransactionMessage({\n        payerKey: pubkey,\n         recentBlockhash: blockhash,\n        instructions: [\n          SystemProgram.transfer({\n            fromPubkey: new PublicKey(provider.getAccount().address),\n            toPubkey: new PublicKey(provider.getAccount().address),\n            lamports: \"100\",\n          }),\n        ],\n      }).compileToV0Message();\n\n      let transaction = new VersionedTransaction(versionedTransactionMessage);\n      this.testTransaction = safeJsonStringify(transaction)\n\n      let result = await provider.signTransaction(\n        transaction,\n        this.selectedChain\n      );\n      console.log(\"sol_signTransaction result\", JSON.stringify(result));\n      if (typeof result == \"string\") {\n        this.testboc = result;\n      } else {\n        this.testboc = JSON.stringify(result);\n      }\n    },\n\n    async sol_signAndSendVersionedTransaction() {\n      let provider = new OKXSolanaProvider(window.provider);\n\n      let pubkey = new PublicKey(provider.getAccount().address);\n      const connection = new Connection(this.getSolConnect())\n      const { blockhash } = await connection.getLatestBlockhash();\n      const versionedTransactionMessage = new TransactionMessage({\n        payerKey: pubkey,\n        recentBlockhash: blockhash,\n        instructions: [\n          SystemProgram.transfer({\n            fromPubkey: new PublicKey(provider.getAccount().address),\n            toPubkey: new PublicKey(provider.getAccount().address),\n            lamports: \"100\",\n          }),\n        ],\n      }).compileToV0Message();\n\n      let transaction = new VersionedTransaction(versionedTransactionMessage);\n      this.testTransaction = safeJsonStringify(transaction)\n\n      let result = await provider.signAndSendTransaction(\n        transaction,\n        this.selectedChain\n      );\n      console.log(\"sol_signTransaction result\", JSON.stringify(result));\n      if (typeof result == \"string\") {\n        this.testboc = result;\n      } else {\n        this.testboc = JSON.stringify(result);\n      }\n    },\n\n    async sol_signAllVersionedTransactions() {\n      let provider = new OKXSolanaProvider(window.provider);\n      const connection = new Connection(this.getSolConnect())\n      const { blockhash } = await connection.getLatestBlockhash();\n      let pubkey = new PublicKey(provider.getAccount().address);\n      const versionedTransactionMessage = new TransactionMessage({\n        payerKey: pubkey,\n        recentBlockhash: blockhash,\n        instructions: [\n          SystemProgram.transfer({\n            fromPubkey: new PublicKey(provider.getAccount().address),\n            toPubkey: new PublicKey(provider.getAccount().address),\n            lamports: \"100\",\n          }),\n        ],\n      }).compileToV0Message();\n\n      let transaction = new VersionedTransaction(versionedTransactionMessage);\n      this.testTransaction = safeJsonStringify(transaction)\n\n      let result = await provider.signAllTransactions(\n        [transaction],\n        this.selectedChain\n      );\n      console.log(\"sol_signTransaction result\", JSON.stringify(result));\n      if (typeof result == \"string\") {\n        this.testboc = result;\n      } else {\n        this.testboc = JSON.stringify(result);\n      }\n    },\n\n    async sol_signTransaction() {\n      const connection = new Connection(this.getSolConnect())\n      const { blockhash } = await connection.getLatestBlockhash();\n      let provider = new OKXSolanaProvider(window.provider);\n      const transaction = new Transaction({\n        feePayer: new PublicKey(provider.getAccount().address),\n         recentBlockhash: blockhash,\n      }).add(\n        SystemProgram.transfer({\n          fromPubkey: new PublicKey(provider.getAccount().address),\n          toPubkey: new PublicKey(provider.getAccount().address),\n          lamports: 1000,\n        })\n      );\n\n      this.testTransaction = safeJsonStringify(transaction)\n      let result = await provider.signTransaction(\n        transaction,\n        this.selectedChain\n      );\n      console.log(\"sol_signTransaction result\", JSON.stringify(result));\n      if (typeof result == \"string\") {\n        this.testboc = result;\n      } else {\n        this.testboc = JSON.stringify(result);\n      }\n    },\n\n    async sol_signAllTransactions() {\n      const connection = new Connection(this.getSolConnect())\n      const { blockhash } = await connection.getLatestBlockhash();\n\n      let provider = new OKXSolanaProvider(window.provider);\n      const transaction = new Transaction({\n        feePayer: new PublicKey(provider.getAccount().address),\n        recentBlockhash: blockhash,\n      }).add(\n        SystemProgram.transfer({\n          fromPubkey: new PublicKey(provider.getAccount().address),\n          toPubkey: new PublicKey(provider.getAccount().address),\n          lamports: \"100\",\n        })\n      );\n      this.testTransaction = safeJsonStringify(transaction)\n\n      let result = await provider.signAllTransactions(\n        [transaction],\n        this.selectedChain\n      );\n      if (typeof result == \"string\") {\n        this.testboc = result;\n      } else {\n        this.testboc = JSON.stringify(result);\n      }\n    },\n\n    getSolConnect() {\n      let rpc = \"https://www.okx.com/fullnode/sol/discover/rpc\"\n      if (this.selectedChain === \"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp\") {\n        rpc = \"https://www.okx.com//fullnode/sol/discover/rpc\"\n      } else if (this.selectedChain === \"solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z\"){\n        rpc = \"https://www.okx.com/fullnode/soltestnet/discover/rpc\"\n      } else if (this.selectedChain === \"svm:70000062\") {\n        rpc = \"https://www.okx.com/fullnode/sonic/testnet/discover/rpc\"\n      }\n      return rpc\n    },\n\n    async sol_signAndSendTransaction() {\n\n      const connection = new Connection(this.getSolConnect())\n      const { blockhash } = await connection.getLatestBlockhash();\n\n      let provider = new OKXSolanaProvider(window.provider);\n      const transaction = new Transaction({\n        feePayer: new PublicKey(provider.getAccount().address),\n        recentBlockhash: blockhash,\n      }).add(\n        SystemProgram.transfer({\n          fromPubkey: new PublicKey(provider.getAccount().address),\n          toPubkey: new PublicKey(provider.getAccount().address),\n          lamports: \"100\",\n        })\n      );\n      this.testTransaction = safeJsonStringify(transaction)\n\n      let result = await provider.signAndSendTransaction(\n        transaction,\n        this.selectedChain\n      );\n      if (typeof result == \"string\") {\n        this.testboc = result;\n      } else {\n        this.testboc = JSON.stringify(result);\n      }\n    },\n\n    async cosmos_signArbitrary() {\n      let provider = new OKXCosmosProvider(window.provider)\n      let message = await provider.signArbitrary(this.selectedChain, provider.getAccount(this.selectedChain).address, \"test cosmos\")\n      if (typeof message == \"string\") {\n        this.testboc = message;\n      } else {\n        let isValid =  await this.cosmos_verifySignArbitrary(provider.getAccount(this.selectedChain).address,\"test cosmos\",message.signature, message.pub_key.value)\n        console.log(\"verify\",isValid)\n        this.testboc = \"verify:\" + isValid + JSON.stringify(message);\n      }\n    },\n\n    async cosmos_verifySignArbitrary(signer, data, signature, pubkey) {\n      try {\n        // 将bech32地址转换为公钥\n        const {prefix: prefixStr} = fromBech32(signer)\n\n        const signatureBuffer = Buffer.from(signature, 'base64');\n\n        const uint8Signature = new Uint8Array(signatureBuffer); // Convert the buffer to an Uint8Array\n\n        const pubKeyValueBuffer = Buffer.from(pubkey, 'base64'); // Decode the base64 encoded value\n\n        const pubKeyUint8Array = new Uint8Array(pubKeyValueBuffer); // Convert the buffer to an Uint8Array\n\n        // 验证签名\n        return await verifyADR36Amino(\n            prefixStr,\n            signer,\n            data,\n            pubKeyUint8Array,\n            uint8Signature\n        )\n      } catch (err) {\n        console.error('Verification failed:', err)\n        return false\n      }\n    },\n\n    async cosmos_signAmino(){\n      let provider = new OKXCosmosProvider(window.provider)\n      // const rpcUrl = 'https://osmosis-rpc.publicnode.com:443';\n      // const client = await StargateClient.connect(rpcUrl);\n      // const height = await client.getHeight();\n      // let address = provider.getAccount(this.selectedChain).address\n      // const sequence = await client.getSequence(address)\n\n      // let transaction = await CosmosUtils.getTransaction(provider.getAccount(this.selectedChain).address, this.selectedChain.split(\":\")[1])\n      // let signDoc = makeSignDoc(\n      //     transaction.msgs,\n      //     transaction.fee,\n      //     this.selectedChain.split(\":\")[1],\n      //     transaction.memo,\n      //     transaction.accountNumber,\n      //     transaction.sequence,\n      // )\n      let signDoc = {\n        \"chain_id\": \"osmosis-1\",\n        \"account_number\": \"630104\",\n        \"sequence\": \"480\",\n        \"fee\": {\"gas\": \"683300\", \"amount\": [{\"denom\": \"uosmo\", \"amount\": \"2818\"}]},\n        \"msgs\": [{\n          \"type\": \"osmosis/poolmanager/swap-exact-amount-in\",\n          \"value\": {\n            \"sender\": \"osmo1u6lts9ng4etxj0zdaxsada6zgl8dudpgelmuyu\",\n            \"routes\": [{\n              \"pool_id\": \"1096\",\n              \"token_out_denom\": \"ibc/987C17B11ABC2B20019178ACE62929FE9840202CE79498E29FE8E5CB02B7C0A4\"\n            }, {\n              \"pool_id\": \"611\",\n              \"token_out_denom\": \"ibc/27394FB092D2ECCD56123C74F36E4C1F926001CEADA9CA97EA622B25F41E5EB2\"\n            }],\n            \"token_in\": {\"denom\": \"uosmo\", \"amount\": \"100\"},\n            \"token_out_min_amount\": \"8\"\n          }\n        }],\n        \"memo\": \"FE\",\n        \"timeout_height\": \"23603788\",\n        \"signOptions\": {\n          \"useOneClickTrading\": false,\n          \"preferNoSetFee\": true,\n          \"fee\": {\"gas\": \"683300\", \"amount\": [{\"denom\": \"uosmo\", \"amount\": \"2818\"}]}\n        }\n      }\n\n\n\n\n\n\n\n      // let signOption = {\n      //   memo: true, // optional\n      //   fee: true, // optional\n      //   gasRate: {\n      //     // optional\n      //     average: \"0.2\",\n      //     low: \"0.02\",\n      //     tiny: \"0.002\",\n      //   },\n      // }\n      this.testTransaction = safeJsonStringify(signDoc)\n      let res = await provider.signAmino(this.selectedChain, provider.getAccount(this.selectedChain).address, signDoc)\n\n      if (typeof res == \"string\") {\n        this.testboc = res;\n      } else {\n\n        // let tx = await CosmosUtils.getCosmosSignedTx(res.signature.signature, provider.getAccount(this.selectedChain).address, provider.getAccount(this.selectedChain).pubKey, signDoc)\n        // await CosmosUtils.sendCosmosTransaction(tx)\n        this.testboc = JSON.stringify(res);\n      }\n    },\n\n    messageToBuffer(message) {\n      var buffer = Buffer.from([]);\n      try {\n        if (typeof message === \"string\") {\n          buffer = Buffer.from(message.replace(\"0x\", \"\"), \"hex\");\n        } else {\n          buffer = Buffer.from(message);\n        }\n      } catch (err) {\n        console.log(`messageToBuffer error: ${err}`);\n      }\n      return buffer;\n    },\n\n\n\n    async cosmos_signDirect() {\n      let provider = new OKXCosmosProvider(window.provider)\n\n      let signDoc = {\n        \"bodyBytes\": this.messageToBuffer(\"0x0ac1010a292f6962632e6170706c69636174696f6e732e7472616e736665722e76312e4d73675472616e736665721293010a087472616e7366657212096368616e6e656c2d301a0d0a05756f736d6f120431303030222b6f736d6f3175366c7473396e67346574786a307a64617873616461367a676c386475647067656c6d7579752a2d636f736d6f733175366c7473396e67346574786a307a64617873616461367a676c386475647067337967766a773207080410ebe3f90a3880b0bcafd18cec8218\"),\n        \"authInfoBytes\": this.messageToBuffer(\"0x0a510a460a1f2f636f736d6f732e63727970746f2e736563703235366b312e5075624b657912230a2102446e19e94ac0e83ea896d2712507577eb39fbdd2d6ae9f0fc0b9759f1fbaba9012040a02080118e00312140a0e0a05756f736d6f1205323530303010859a11\"),\n        \"chainId\": \"osmosis-1\",\n        \"accountNumber\": \"630104\",\n      }\n\n      // let transaction = await CosmosUtils.getTransaction(provider.getAccount(this.selectedChain).address, this.selectedChain.split(\":\")[1])\n      this.testTransaction = safeJsonStringify(signDoc)\n      let res = await provider.signDirect(this.selectedChain, provider.getAccount(this.selectedChain).address, signDoc)\n      if (typeof res == \"string\") {\n        this.testboc = res;\n      } else {\n        // let tx = await CosmosUtils.getCosmosSignedTx(res.signature.signature, provider.getAccount(this.selectedChain).address, provider.getAccount(this.selectedChain).pubKey, transaction)\n        // await CosmosUtils.sendCosmosTransaction(tx)\n        this.testboc = JSON.stringify(res);\n      }\n    },\n\n    sui_generateTransactionParams(params, flag) {\n      this.testTransaction = JSON.stringify(params)\n      this.currentSuiTransaction = params\n      this.currentSuiMethod = flag\n    },\n\n    btc_generateTransactionParams(params, flag) {\n      this.testTransaction = JSON.stringify(params)\n      this.currentBtcTransaction = params\n      this.currentBtcMethod = flag\n      console.log(\"参数是: \", params)\n      console.log(\"flag: \", flag)\n    },\n\n    fractal_generateTransactionParams(params, flag) {\n      this.testTransaction = JSON.stringify(params)\n      this.currentFractalTransaction = params\n      this.currentFractalMethod = flag\n      console.log(\"参数是: \", params)\n      console.log(\"flag: \", flag)\n    },\n    handleModalsSelect(modals) {\n      selectedModals = modals;\n      if (this.withUI) {\n        window.provider.uiOptions = {\n          actionsConfiguration: {\n            returnStrategy: selectedDeepLink,\n            modals: modals.length === 3 ? \"all\" : modals,\n          },\n          language: selectedLanguage,\n          uiPreferences: {\n            theme: selectedTheme,\n          },\n        };\n      }\n    },\n\n    handleReturnStrategySelect(returnStrategy) {\n      selectedReturnStrategy = returnStrategy === \"deeplink\" ? this.deeplink : returnStrategy;\n\n      if (this.withUI) {\n        window.provider.uiOptions = {\n          actionsConfiguration: {\n            returnStrategy: selectedReturnStrategy,\n            modals: selectedModals.length === 3 ? \"all\" : selectedModals,\n          },\n          language: selectedLanguage,\n          uiPreferences: {\n            theme: selectedTheme,\n          },\n        };\n      }\n    },\n\n    handleReturnStrategyDeeplink(deeplink) {\n      selectedReturnStrategy = deeplink;\n\n      if (this.withUI) {\n        window.provider.uiOptions = {\n          actionsConfiguration: {\n            returnStrategy: deeplink,\n            modals: selectedModals.length === 3 ? \"all\" : selectedModals,\n          },\n          language: selectedLanguage,\n          uiPreferences: {\n            theme: selectedTheme,\n          },\n        };\n      }\n    },\n\n    handleLanguageSelect(language) {\n      selectedLanguage = language;\n      if (this.withUI) {\n        window.provider.uiOptions = {\n          actionsConfiguration: {\n            returnStrategy: selectedReturnStrategy,\n            modals: selectedModals.length === 3 ? \"all\" : selectedModals,\n          },\n          language: language,\n          uiPreferences: {\n            theme: selectedTheme,\n          },\n        };\n      }\n    },\n    handleConnectMethodsSelect() {\n      console.log(\"当前的方法 this.selectedMethod>>>>\",this.selectedMethod);\n    },\n\n    eth_verifyMessage(message, signature,ethAddress) {\n      console.log(\"eth_verifyMessage   message>>>\",message)\n      console.log(\"eth_verifyMessage   signature>>>\",signature)\n      console.log(\"eth_verifyMessage   ethAddress>>>\",ethAddress)\n      if (!message || !signature){\n        return \"\"\n      }\n      let originalMessage = message\n      if (message.startsWith(\"0x\")){\n        originalMessage = originalMessage.replace(/^0x/, '');\n        let str = '';\n        for (let i = 0; i < originalMessage.length; i += 2) {\n          const byte = originalMessage.slice(i, i + 2);\n          str += String.fromCharCode(parseInt(byte, 16));\n        }\n        originalMessage = str\n      }\n      console.log(\"eth_verifyMessage   originalMessage>>>\",originalMessage)\n\n      // const messageHash = ethers.utils.hashMessage(originalMessage);\n      const recoveredAddress = ethers.utils.verifyMessage(originalMessage, signature);\n      console.log(\"eth_verifyMessage recoveredAddress:\", recoveredAddress);\n      return recoveredAddress.toLowerCase() === ethAddress.toLowerCase();\n    },\n\n    async verifyMessage(){ //连接验签\n\n        if (window.provider && window.provider.session && window.provider.session.connectMethodsReply && window.provider.session.connectMethodsReply.length>0){\n          let verifyList = {}\n          for (let methodItem of window.provider.session.connectMethodsReply){\n            if (\"result\" in methodItem && \"method\" in methodItem){\n              let requestItme = this.selectedMethodData.filter(item => item.method === methodItem.method)[0];\n              console.log(\"验证签名 请求>>>:\", JSON.stringify(requestItme));\n              console.log(\"验证签名 结果>>>:\", JSON.stringify(methodItem));\n              if (methodItem.method === \"personal_sign\"){\n                let ethAddress = await window.provider.request({ method: \"eth_requestAccounts\" },methodItem.chainId)\n                ethAddress = ethAddress[0];\n                console.log(\"验证eth 钱包地址>>>:\", ethAddress);\n                let ethMessage = requestItme.params[0]\n                console.log(\"验证eth 签名消息体>>:\", JSON.stringify(ethMessage));\n                verifyList[methodItem.method] = this.eth_verifyMessage(ethMessage,methodItem.result,ethAddress)\n              }else if(methodItem.method === \"solana_signMessage\"){\n                let solanaMessage = methodItem.result\n                if (\"signature\" in solanaMessage && \"publicKey\" in solanaMessage){\n                  const verifySol = nacl.sign.detached.verify(\n                      new TextEncoder().encode(\"Hello Solana\"),\n                      solanaMessage.signature,\n                      new PublicKey(solanaMessage.publicKey).toBytes()\n                  );\n                  verifyList[methodItem.method] = verifySol\n                }else {\n                  verifyList[methodItem.method] = false\n                }\n              }else if(methodItem.method === \"sui_signPersonalMessage\" || methodItem.method === \"sui_signMessage\"){\n                let suiResult =  this.sui_verifySignature(methodItem.result);\n                  verifyList[methodItem.method] = (await suiResult).result\n              }else if(methodItem.method === \"btc_signMessage\"){\n\n                verifyList[methodItem.method] = \"Not verified yet\"\n\n              }else if(methodItem.method === \"aptos_signMessage\"){\n                let aptosMessage = methodItem.result\n                let aptosProvider = new OKXAptosProvider(window.provider)\n                let  aptosPublicKey  = aptosProvider.getAccount(methodItem.chainId)?.publicKey\n\n                let signStr = aptosMessage.signature\n                if (signStr.startsWith(\"0x\")) {\n                  signStr = signStr.slice(2, signStr.length)\n                }\n\n                console.log(\"aptos_signMessage aptosPublicKey And signStr\",aptosPublicKey,signStr)\n                verifyList[methodItem.method] = nacl.sign.detached.verify(\n                    Buffer.from(aptosMessage.fullMessage),\n                    Buffer.from(signStr, 'hex'),\n                    Buffer.from(aptosPublicKey, 'hex'),\n                );\n              }else if(methodItem.method === \"cosmos_signArbitrary\"){\n                let cosmosProvider = new OKXCosmosProvider(window.provider)\n                let cosmosAddress = cosmosProvider.getAccount(methodItem.chainId)?.address\n                let cosmosMessage = methodItem.result\n                let isValid =  await this.cosmos_verifySignArbitrary(cosmosAddress,\"test cosmos\",cosmosMessage.signature, cosmosMessage.pub_key.value)\n                verifyList[methodItem.method] = isValid\n\n              }else {\n                verifyList[methodItem.method] = \"Not verified yet\"\n\n              }\n            }else if(\"method\" in methodItem && \"error\" in methodItem) {\n              verifyList[methodItem.method] = methodItem.error\n            }\n\n          }\n\n          console.log(\"验证签名 最后的结果>>>:\", JSON.stringify(verifyList));\n          this.testTransaction = \"签名验证结果如下: \\n\" + JSON.stringify(verifyList)\n        }else {\n          console.log(\"验证签名 window.provider.session.connectMethodsReply 为空:\");\n\n        }\n\n    },\n\n    handleThemeSelect(theme) {\n      selectedTheme = theme;\n      if (this.withUI) {\n        window.provider.uiOptions = {\n          actionsConfiguration: {\n            returnStrategy: selectedReturnStrategy,\n            modals: selectedModals.length === 3 ? \"all\" : selectedModals,\n          },\n          language: selectedLanguage,\n          uiPreferences: {\n            theme: theme,\n          },\n        };\n      }\n    },\n\n    async sui_verifySignature(signatureResult) {\n      let resultObj = signatureResult\n      let result = false\n      let msg = ''\n      try {\n        /// 获取当前account\n        const adapter = new SuiAdapter(window.provider);\n        let account = adapter.getAccount()\n        console.log(`Account中获取的address：${account.address}`)\n\n        /// 验证签名\n        let pubKey = await verifyPersonalMessageSignature(this.currentSuiTransaction.message, resultObj.signature)\n        let address = pubKey.toSuiAddress()\n        console.log(`验签结果计算得到address：${address}`)\n\n        /// 对比pubKey\n        console.log(`account pubkey: ${account.publicKey}`,)\n        console.log(`result pubkey: ${pubKey.toBase64()}`)\n        result = (account.address === address) && (account.publicKey === pubKey.toBase64())\n\n        msg = `address verify: ${account.address === address}\\npublicKey verify: ${account.publicKey === pubKey.toBase64()}`\n        console.log(\"signature verify success: \", pubKey)\n      } catch (e) {\n        console.log(\"signature verify failed: \", e)\n      }\n      return {\n        result,\n        msg\n      }\n    },\n\n  },\n  created() {\n    // for (const eventName of Object.values(OKX_TON_CONNECTION_AND_TRANSACTION_EVENT)) {\n    //   console.log(eventName);\n    //   window.addEventListener(eventName, (event) => {\n    //     console.log(eventName,event.detail)\n    //     this.currentStatus = eventName\n    //   });\n    // }\n  },\n\n  mounted() {\n\n    var scriptTag = document.createElement(\"script\");\n    scriptTag.src = \"https://telegram.org/js/telegram-web-app.js\";\n    scriptTag.id = \"tgsdk\";\n    document.getElementsByTagName('head')[0].appendChild(scriptTag);\n\n    this.connectReady = true;\n    document.title = \"OKX Connect\";\n    this.initBtnClicked()\n  },\n};\n</script>\n","<template>\n  <el-row :gutter=\"12\">\n    <el-col :span=\"24\">\n      <el-button class=\"grid-content\" type=\"warning\" @click=\"btc_signMessage()\">signMessage(BTC)</el-button>\n    </el-col>\n    <div class=\"line\"></div>\n    <el-col :span=\"24\">\n      <div style=\"font-size: 12px; color: gray;\">(发送到Pattern测试钱包的legacy地址)</div>\n      <el-input class=\"grid-content\" v-model=\"sendAmount\" clearable placeholder=\"请输入要发送的数量\" />\n      <el-button class=\"grid-content\" type=\"warning\" @click=\"btc_send()\">send(BTC)</el-button>\n      <br>\n      <el-input class=\"grid-content\" v-model=\"sendSatoshisAmount\" clearable placeholder=\"请输入要发送的satoshi数量\" />\n      <el-button class=\"grid-content\" type=\"warning\" @click=\"btc_sendBitcoin()\">sendBitcoin(BTC)</el-button>\n    </el-col>\n    <div class=\"line\"></div>\n    <el-col :span=\"24\">\n      <el-input class=\"grid-content\" v-model=\"psbtHex\" clearable placeholder=\"请输入要签名的Psbt\" />\n      <el-button class=\"grid-content\" type=\"warning\" @click=\"btc_signPsbt_up()\">signPsbt(上架NFT)</el-button>\n      <br>\n      <el-button class=\"grid-content\" type=\"warning\"\n        @click=\"btc_signAndPushPsbt_up()\">signAndPushPsbt(上架NFT)</el-button>\n      <br>\n      <div style=\"font-size: 12px;margin-top: 12px; margin-left: 4px; color: gray; text-align: left;\">\n        <li>\n          1. 在OKX App选择要上架的Btc NFT，点击【上架】\n        </li>\n        <li>\n          2. 弹出签名面板，点开高级选项，查看\n        </li>\n        <li>\n          3. 单击复制，就可以得到psbt。然后退出上架流程。\n        </li>\n        <li>\n          4. 验证 https://chainquery.com/bitcoin-cli/decodepsbt\n        </li>\n      </div>\n    </el-col>\n    <div class=\"line\"></div>\n    <el-col :span=\"24\">\n      <el-input class=\"grid-content\" v-model=\"nftId\" clearable placeholder=\"请输入要转移的NFT ID\" />\n      <el-input class=\"grid-content\" v-model=\"receiver\" clearable placeholder=\"接收者钱包地址\" />\n      <el-button class=\"grid-content\" type=\"warning\" @click=\"btc_sendInscription()\">sendInscription(BTC)</el-button>\n      <div style=\"font-size: 12px;margin-top: 12px; margin-left: 4px; color: gray; text-align: left;\">\n        <li>\n          1. 在web端NFT界面，选择要发送的Btc NFT，打开详情\n        </li>\n        <li>\n          2. 从NFT详情页URL中获取NFT id（url最后一部分）\n        </li>\n        <li>\n          3. 复制到上面输入框中，再点击sendInscription按钮\n        </li>\n      </div>\n    </el-col>\n  </el-row>\n</template>\n\n<script>\nimport { ref } from 'vue';\n\nexport default {\n  name: 'BtcTransactionPanel',\n  props: {\n    msg: String\n  },\n  setup() {\n    const nftId = ref('')\n    const sendAmount = ref(0.000015)\n    const sendSatoshisAmount = ref(17100)\n    const psbtHex = ref('')\n    const receiver = ref('')\n    return {\n      nftId,\n      receiver,\n      psbtHex,\n      sendAmount,\n      sendSatoshisAmount\n    }\n  },\n  methods: {\n    btc_signMessage() {\n      let params = {\n        from: \"bc1p7pgnqe87red4cvd7ml6rh9pl9ufpr522k2y3dpeyrvfc6g2g3r3s3ae9dr\",\n        signStr: \"Welcome to UniSat!\\n\\nClick to sign in and accept the UniSat Terms of Service (https://unisat.io/terms-of-service.html) and Privacy Policy (https://unisat.io/privacy-policy.html).\\n    \\nThis request will not trigger a blockchain transaction.\\n    \\nYour authentication status will reset after 24 hours.\\n    \\nWallet address:\\nbc1p7pgnqe87red4cvd7ml6rh9pl9ufpr522k2y3dpeyrvfc6g2g3r3s3ae9dr\\n    \\nNonce:\\n162d70e3-8c21-4cfd-9a22-9bf0a4b7be51\\n\"\n      };\n      this.$emit('generateTransactionParams', params, \"btc_signMessage\")\n    },\n\n    btc_send() {\n      if (this.sendAmount == 0) {\n        alert(\"不能为零\")\n        return\n      }\n      let params = {\n        from: '',\n        to: '1NKnZ3uAuQLnmExA3WY44u1efwCgTiAxBn', // pattern测试钱包的legacy地址\n        value: `${this.sendAmount}`\n      }\n      this.$emit('generateTransactionParams', params, \"btc_send\")\n    },\n\n    btc_sendBitcoin() {\n      if (this.sendAmount == 0) {\n        alert(\"不能为零\")\n        return\n      }\n\n      let params = {\n        from: '',\n        toAddress: '1NKnZ3uAuQLnmExA3WY44u1efwCgTiAxBn', // pattern测试钱包的legacy地址\n        satoshis: `${this.sendSatoshisAmount}`,\n        options: {\n          feeRate: 16\n        }\n      }\n      this.$emit('generateTransactionParams', params, \"btc_sendBitcoin\")\n    },\n\n    btc_signPsbt_up() {\n      if (!this.psbtHex) {\n        alert(\"请输入psbt\")\n        return\n      }\n      this.$emit('generateTransactionParams', {\n        psbtHex: this.psbtHex,\n        options: {\n          autoFinalized: false\n        }\n      }, \"btc_signPsbt\")\n    },\n\n    btc_signAndPushPsbt_up() {\n      if (!this.psbtHex) {\n        alert(\"请输入psbt\")\n        return\n      }\n      this.$emit('generateTransactionParams', {\n        psbtHex: this.psbtHex,\n        options: {\n          autoFinalized: true\n        }\n      }, \"btc_signAndPushPsbt\")\n    },\n\n    btc_sendInscription() {\n      if (!this.nftId) {\n        alert(\"请输入NFT ID\")\n        return\n      }\n\n      if (!this.receiver) {\n        alert(\"请输入接收者地址\")\n        return\n      }\n\n      this.$emit('generateTransactionParams', {\n        address: this.receiver,\n        inscriptionId: this.nftId,\n        options: {\n          feeRate: \"15\"\n        }\n      }, \"btc_sendInscription\")\n    }\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n.grid-content {\n  margin-top: 8px;\n  height: 40px;\n  width: 100%;\n}\n\n.line {\n  height: 2px;\n  width: 100%;\n  margin: 20px 0px;\n  background-color: gray;\n}\n</style>\n","import { render } from \"./BtcTransactionPanel.vue?vue&type=template&id=17e9106e&scoped=true\"\nimport script from \"./BtcTransactionPanel.vue?vue&type=script&lang=js\"\nexport * from \"./BtcTransactionPanel.vue?vue&type=script&lang=js\"\n\nimport \"./BtcTransactionPanel.vue?vue&type=style&index=0&id=17e9106e&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-17e9106e\"]])\n\nexport default __exports__","<template>\n  <el-row :gutter=\"12\">\n    <el-col :span=\"24\">\n      <el-button class=\"grid-content\" type=\"warning\" @click=\"fractal_signMessage()\">signMessage(Fractal)</el-button>\n    </el-col>\n    <div class=\"line\"></div>\n    <el-col :span=\"24\">\n      <div style=\"font-size: 12px; color: gray;\">(发送到Pattern测试钱包的legacy地址)</div>\n      <el-input class=\"grid-content\" v-model=\"sendAmount\" clearable placeholder=\"请输入要发送的数量\" />\n      <el-button class=\"grid-content\" type=\"warning\" @click=\"fractal_send()\">send(Fractal)</el-button>\n      <br>\n      <el-input class=\"grid-content\" v-model=\"sendSatoshisAmount\" clearable placeholder=\"请输入要发送的satoshi数量\" />\n      <el-button class=\"grid-content\" type=\"warning\" @click=\"fractal_sendBitcoin()\">sendBitcoin(Fractal)</el-button>\n\n    </el-col>\n    <div class=\"line\"></div>\n    <el-col :span=\"24\">\n      <el-input class=\"grid-content\" v-model=\"psbtHex\" clearable placeholder=\"请输入要签名的Psbt\" />\n      <el-button class=\"grid-content\" type=\"warning\" @click=\"fractal_signPsbt_up()\">signPsbt(上架NFT)</el-button>\n      <br>\n      <el-button class=\"grid-content\" type=\"warning\"\n        @click=\"fractal_signAndPushPsbt_up()\">signAndPushPsbt(上架NFT)</el-button>\n      <br>\n      <div style=\"font-size: 12px;margin-top: 12px; margin-left: 4px; color: gray; text-align: left;\">\n        <li>\n          1. 在OKX App选择要上架的Fractal NFT，点击【上架】\n        </li>\n        <li>\n          2. 弹出签名面板，点开高级选项，查看\n        </li>\n        <li>\n          3. 单击复制，就可以得到psbt。然后退出上架流程。\n        </li>\n        <li>\n          4. 验证 https://chainquery.com/bitcoin-cli/decodepsbt\n        </li>\n      </div>\n    </el-col>\n    <div class=\"line\"></div>\n    <el-col :span=\"24\">\n      <el-input class=\"grid-content\" v-model=\"nftId\" clearable placeholder=\"请输入要转移的NFT ID\" />\n      <el-input class=\"grid-content\" v-model=\"receiver\" clearable placeholder=\"接收者钱包地址\" />\n      <el-button class=\"grid-content\" type=\"warning\"\n        @click=\"fractal_sendInscription()\">sendInscription(Fractal)</el-button>\n      <div style=\"font-size: 12px;margin-top: 12px; margin-left: 4px; color: gray; text-align: left;\">\n        <li>\n          1. 在web端NFT界面，选择要发送的Fractal NFT，打开详情\n        </li>\n        <li>\n          2. 从NFT详情页URL中获取NFT id（url最后一部分）\n        </li>\n        <li>\n          3. 复制到上面输入框中，再点击sendInscription按钮\n        </li>\n      </div>\n    </el-col>\n  </el-row>\n</template>\n\n<script>\nimport { ref } from 'vue';\n\nexport default {\n  name: 'BtcTransactionPanel',\n  props: {\n    msg: String\n  },\n  setup() {\n    const nftId = ref('')\n    const sendAmount = ref(0.000015)\n    const sendSatoshisAmount = ref(17100)\n    const psbtHex = ref('')\n    const receiver = ref('')\n    return {\n      nftId,\n      receiver,\n      psbtHex,\n      sendAmount,\n      sendSatoshisAmount\n    }\n  },\n  methods: {\n    fractal_signMessage() {\n      let params = {\n        from: \"bc1p7pgnqe87red4cvd7ml6rh9pl9ufpr522k2y3dpeyrvfc6g2g3r3s3ae9dr\",\n        signStr: \"Welcome to UniSat!\\n\\nClick to sign in and accept the UniSat Terms of Service (https://unisat.io/terms-of-service.html) and Privacy Policy (https://unisat.io/privacy-policy.html).\\n    \\nThis request will not trigger a blockchain transaction.\\n    \\nYour authentication status will reset after 24 hours.\\n    \\nWallet address:\\nbc1p7pgnqe87red4cvd7ml6rh9pl9ufpr522k2y3dpeyrvfc6g2g3r3s3ae9dr\\n    \\nNonce:\\n162d70e3-8c21-4cfd-9a22-9bf0a4b7be51\\n\"\n      };\n      this.$emit('generateTransactionParams', params, \"fractal_signMessage\")\n    },\n\n    fractal_send() {\n      if (this.sendAmount == 0) {\n        alert(\"不能为零\")\n        return\n      }\n      let params = {\n        from: '',\n        to: '1NKnZ3uAuQLnmExA3WY44u1efwCgTiAxBn', // pattern测试钱包的legacy地址\n        value: `${this.sendAmount}`\n      }\n      this.$emit('generateTransactionParams', params, \"fractal_send\")\n    },\n\n    fractal_sendBitcoin() {\n      if (this.sendAmount == 0) {\n        alert(\"不能为零\")\n        return\n      }\n\n      let params = {\n        from: '',\n        toAddress: '1NKnZ3uAuQLnmExA3WY44u1efwCgTiAxBn', // pattern测试钱包的legacy地址\n        satoshis: `${this.sendSatoshisAmount}`,\n        options: {\n          feeRate: 16\n        }\n      }\n      this.$emit('generateTransactionParams', params, \"fractal_sendBitcoin\")\n    },\n\n    fractal_signPsbt_up() {\n      if (!this.psbtHex) {\n        alert(\"请输入psbt\")\n        return\n      }\n      this.$emit('generateTransactionParams', {\n        psbtHex: this.psbtHex,\n        options: {\n          autoFinalized: false\n        }\n      }, \"fractal_signPsbt\")\n    },\n\n    fractal_signAndPushPsbt_up() {\n      if (!this.psbtHex) {\n        alert(\"请输入psbt\")\n        return\n      }\n      this.$emit('generateTransactionParams', {\n        psbtHex: this.psbtHex,\n        options: {\n          autoFinalized: true\n        }\n      }, \"fractal_signAndPushPsbt\")\n    },\n\n    fractal_sendInscription() {\n      if (!this.nftId) {\n        alert(\"请输入NFT ID\")\n        return\n      }\n\n      if (!this.receiver) {\n        alert(\"请输入接收者地址\")\n        return\n      }\n\n      this.$emit('generateTransactionParams', {\n        address: this.receiver,\n        inscriptionId: this.nftId,\n        options: {\n          feeRate: \"15\"\n        }\n      }, \"fractal_sendInscription\")\n    }\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n.grid-content {\n  margin-top: 8px;\n  height: 40px;\n  width: 100%;\n}\n\n.line {\n  height: 2px;\n  width: 100%;\n  margin: 20px 0px;\n  background-color: gray;\n}\n</style>\n","import { render } from \"./FractalTransactionPanel.vue?vue&type=template&id=02b5b8a5&scoped=true\"\nimport script from \"./FractalTransactionPanel.vue?vue&type=script&lang=js\"\nexport * from \"./FractalTransactionPanel.vue?vue&type=script&lang=js\"\n\nimport \"./FractalTransactionPanel.vue?vue&type=style&index=0&id=02b5b8a5&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-02b5b8a5\"]])\n\nexport default __exports__","<script>\n\nimport {getFullnodeUrl, SuiClient} from \"@mysten/sui/client\";\nimport {Transaction as SuiTransaction} from '@mysten/sui/transactions';\n\nexport default {\n  name: \"SuiTransactionPanel\",\n  methods: {\n    sui_getAccount() {\n      this.$emit('generateTransactionParams', '', \"sui_getAccount\")\n    },\n\n    //对单个交易签名（不发送)\n    async sui_signMessage() {\n      const data = [\n        76, 111, 103, 105, 110, 32, 119, 105, 116, 104, 32, 66, 108, 117, 101,\n        109, 111, 118, 101,\n      ];\n      const uint8Array = new Uint8Array(data);\n      let input = {\n        message: uint8Array,\n      };\n      this.$emit(\"generateTransactionParams\", input, \"sui_signMessage\")\n    },\n\n    async sui_signPersonalMessage() {\n      const data = [\n        76, 111, 103, 105, 110, 32, 119, 105, 116, 104, 32, 66, 108, 117, 101,\n        109, 111, 118, 101,\n      ];\n      const uint8Array = new Uint8Array(data);\n      let input = {\n        message: uint8Array,\n      };\n      this.$emit(\"generateTransactionParams\", input, \"sui_signPersonalMessage\")\n    },\n\n    sui_signTransaction2() {\n      // 定义要转移的金额和目标地址\n      const amount = 109; // 需要转移的金额\n      /// Rally Tiger钱包地址\n      const recipientAddress =\n          \"0x72f798f8b709902453d4bb55c65661e9e04154a506765f2333dfb7e7834056d2\"; // 目标地址\n\n      /// 构造一个转账的交易\n      const tx = new SuiTransaction();\n      const [coin] = tx.splitCoins(tx.gas, [amount]);\n      tx.transferObjects([coin], recipientAddress);\n      const input = {\n        transactionBlock: tx,\n        account: {},\n        chain: \"sui:mainnet\",\n        options: {\n          showEffects: true,\n        },\n      };\n\n      this.$emit(\"generateTransactionParams\", input, \"sui_signTransaction\")\n    },\n\n    async sui_requestRpc() {\n      let provider = window.provider;\n      provider.setDefaultChain(\n          `sui:mainnet`,\n          `https://fullnode.mainnet.sui.io:443`\n      );\n      var data = {\n        method: \"suix_getBalance\",\n        params: [\n          \"0x51ceab2edc89f74730e683ebee65578cb3bc9237ba6fca019438a9737cf156ae\",\n          \"0x168da5bf1f48dafc111b0a488fa454aca95e0b5e::usdc::USDC\",\n        ],\n      };\n\n      this.$emit(\"generateTransactionParams\", data, \"sui_testRpc\")\n    },\n\n    /// 预执行，提前生成txBytes和txSerizalize\n    async sui_signTransaction_pre_execution() {\n      // 定义要转移的金额和目标地址\n      const amount = 102; // 需要转移的金额\n      /// Rally Tiger钱包地址\n      const recipientAddress =\n          \"0x72f798f8b709902453d4bb55c65661e9e04154a506765f2333dfb7e7834056d2\"; // 目标地址\n\n      /// 构造一个转账的交易\n      const tx = new SuiTransaction();\n      const [coin] = tx.splitCoins(tx.gas, [amount]);\n      tx.transferObjects([coin], recipientAddress);\n      const input = {\n        transactionBlock: tx,\n        options: {\n          showEffects: true,\n        },\n      };\n\n      /// 预执行，生成txBytes和txSerialize\n      const [txBytes, txSerialize] = await this.generateTsBytesAndSerizlize(\n          input\n      );\n      input.txBytes = txBytes;\n      input.txSerialize = txSerialize;\n\n      this.$emit(\"generateTransactionParams\", input, \"sui_signTransaction\")\n    },\n\n    /// 预执行，提前生成txBytes和txSerizalize\n    async sui_signAndExecuteTransaction_pre_execution() {\n      // 定义要转移的金额和目标地址\n      const amount = 115; // 需要转移的金额\n      /// Rally Tiger钱包地址\n      const recipientAddress =\n          \"0x72f798f8b709902453d4bb55c65661e9e04154a506765f2333dfb7e7834056d2\"; // 目标地址\n\n      /// 构造一个转账的交易\n      const tx = new SuiTransaction();\n      const [coin] = tx.splitCoins(tx.gas, [amount]);\n      tx.transferObjects([coin], recipientAddress);\n\n      const input = {\n        transactionBlock: tx,\n        options: {\n          showEffects: true,\n        },\n      };\n\n      /// 预执行，生成txBytes和txSerialize\n      const [txBytes, txSerialize] = await this.generateTsBytesAndSerizlize(\n          input\n      );\n      input.txBytes = txBytes;\n      input.txSerialize = txSerialize;\n      this.$emit(\"generateTransactionParams\", input, \"sui_signAndExecuteTransaction\")\n    },\n\n    /// generate txBytes and txSerialize\n    async generateTsBytesAndSerizlize(input) {\n      /// txBytes and txSerialize may be constructed in advance by the dapp side\n      let resultTuple = [\"\", \"\"];\n      if (\n          \"txBytes\" in input &&\n          input.txBytes.length > 0 &&\n          \"txSerialize\" in input &&\n          input.txSerialize.length > 0\n      ) {\n        resultTuple = [input.txBytes, input.txSerialize];\n      }\n\n      /// Otherwise, a transactionBlock parameter is required.\n      if (!(\"transactionBlock\" in input)) {\n        return new Promise((resolve) => {\n          resolve(resultTuple);\n        });\n      }\n\n      if (this.walletAddress != \"connected\") {\n        alert(\"请先连接钱包\");\n        return new Promise((resolve) => {\n          resolve(resultTuple);\n        });\n      }\n\n      let senderAccounts = window.provider.requestAccountsWithNamespace(\"sui\");\n      if (senderAccounts.length == 0) {\n        return new Promise((resolve) => {\n          resolve(resultTuple);\n        });\n      }\n\n      try {\n        let rpcUrl = getFullnodeUrl(\"mainnet\");\n        rpcUrl = \"https://www.okx.com/fullnode/sui/discover/rpc\"\n        const suiClient = new SuiClient({ url: rpcUrl });\n\n        /// sender is required\n        input.transactionBlock.setSender(senderAccounts[0]);\n        const result = await input.transactionBlock.build({\n          client: suiClient,\n        });\n        const txBytes = Buffer(result).toString(\"base64\");\n        const txSerialize = await SuiTransaction.from(txBytes).toJSON();\n        resultTuple = [txBytes, txSerialize];\n      } catch (error) {\n        return new Promise((resolve) => {\n          resolve(resultTuple);\n        });\n      }\n\n      return new Promise((resolve) => {\n        resolve(resultTuple)\n      })\n    },\n  }\n}\n</script>\n\n<template>\n  <el-row :gutter=\"12\" class=\"button-row\">\n    <el-col :span=\"24\">\n      <el-button class=\"grid-content\" type=\"primary\" @click=\"sui_getAccount()\">getAccount(Sui)</el-button>\n    </el-col>\n    <el-col :span=\"24\">\n      <el-button class=\"grid-content\" type=\"primary\" @click=\"sui_signMessage()\">signMessage(Sui)</el-button>\n    </el-col>\n    <el-col :span=\"24\">\n      <el-button class=\"grid-content\" type=\"primary\" @click=\"sui_signPersonalMessage()\">signPersonalMessage(Sui)</el-button>\n    </el-col>\n    <el-col :span=\"24\">\n      <el-button class=\"grid-content\" type=\"primary\" @click=\"sui_signTransaction2()\">signTransaction(Sui)</el-button>\n    </el-col>\n\n    <el-col :span=\"24\">\n      <el-button class=\"grid-content\" type=\"primary\" @click=\"sui_signAndExecuteTransaction()\">sendTransaction(Sui)</el-button>\n      <div style=\"font-size: 12px; color: gray;\">(send to Rally Tiger account)</div>\n    </el-col>\n\n    <el-col :span=\"24\">\n      <el-button class=\"grid-content\" type=\"primary\" @click=\"sui_requestRpc()\">RPC_getBalance</el-button>\n      <div style=\"font-size: 12px; color: gray;\">get USDC balance of address:</div>\n      <div style=\"font-size: 12px; color: gray\">0x51ceab2edc89f74730e683ebee65578cb3bc9237ba6fca019438a9737cf156ae</div>\n    </el-col>\n\n    <div class=\"line\"></div>\n    <el-col :span=\"24\">\n      <el-button class=\"grid-content\" type=\"primary\"\n                 @click=\"sui_signTransaction_pre_execution()\">signTransaction(prepared data)</el-button>\n    </el-col>\n\n    <el-col :span=\"24\">\n      <el-button class=\"grid-content\" type=\"primary\"\n                 @click=\"sui_signAndExecuteTransaction_pre_execution()\">sendTransaction(prepared data)</el-button>\n    </el-col>\n  </el-row>\n</template>\n\n<style scoped>\n.grid-content {\n  margin-top: 8px;\n  height: 40px;\n  width: 100%;\n}\n\n.line {\n  height: 2px;\n  width: 100%;\n  margin: 20px 0px;\n  background-color: gray;\n}\n</style>","import { render } from \"./SuiTransactionPanel.vue?vue&type=template&id=30ae15b2&scoped=true\"\nimport script from \"./SuiTransactionPanel.vue?vue&type=script&lang=js\"\nexport * from \"./SuiTransactionPanel.vue?vue&type=script&lang=js\"\n\nimport \"./SuiTransactionPanel.vue?vue&type=style&index=0&id=30ae15b2&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-30ae15b2\"]])\n\nexport default __exports__","import { render } from \"./App.vue?vue&type=template&id=45094013&scoped=true\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=45094013&scoped=true&lang=css\"\n\nimport exportComponent from \"../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-45094013\"]])\n\nexport default __exports__","import { createApp } from 'vue'\nimport ElementPlus from 'element-plus'\nimport 'element-plus/dist/index.css'\nimport App from './App.vue'\n\nconst app = createApp(App)\n\napp.use(ElementPlus)\napp.mount('#app')","\"use strict\";\nvar __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __getProtoOf = Object.getPrototypeOf;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __reflectGet = Reflect.get;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a2, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a2, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a2, prop, b[prop]);\n    }\n  return a2;\n};\nvar __spreadProps = (a2, b) => __defProps(a2, __getOwnPropDescs(b));\nvar __objRest = (source, exclude) => {\n  var target = {};\n  for (var prop in source)\n    if (__hasOwnProp.call(source, prop) && exclude.indexOf(prop) < 0)\n      target[prop] = source[prop];\n  if (source != null && __getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(source)) {\n      if (exclude.indexOf(prop) < 0 && __propIsEnum.call(source, prop))\n        target[prop] = source[prop];\n    }\n  return target;\n};\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nvar __superGet = (cls, obj, key) => __reflectGet(__getProtoOf(cls), key, obj);\nvar __async = (__this, __arguments, generator) => {\n  return new Promise((resolve, reject) => {\n    var fulfilled = (value) => {\n      try {\n        step(generator.next(value));\n      } catch (e2) {\n        reject(e2);\n      }\n    };\n    var rejected = (value) => {\n      try {\n        step(generator.throw(value));\n      } catch (e2) {\n        reject(e2);\n      }\n    };\n    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);\n    step((generator = generator.apply(__this, __arguments)).next());\n  });\n};\nvar _a, _b, _c, _d, _e, _f, _g, _i;\nObject.defineProperties(exports, { __esModule: { value: true }, [Symbol.toStringTag]: { value: \"Module\" } });\nconst core = require(\"@okxconnect/core\");\nconst tonsdk = require(\"@okxconnect/tonsdk\");\nconst UAParser = require(\"ua-parser-js\");\nconst cn = require(\"classnames\");\nconst deepmerge = require(\"deepmerge\");\nconst universalProvider = require(\"@okxconnect/universal-provider\");\nconst _interopDefaultLegacy = (e2) => e2 && typeof e2 === \"object\" && \"default\" in e2 ? e2 : { default: e2 };\nconst UAParser__default = /* @__PURE__ */ _interopDefaultLegacy(UAParser);\nconst cn__default = /* @__PURE__ */ _interopDefaultLegacy(cn);\nconst deepmerge__default = /* @__PURE__ */ _interopDefaultLegacy(deepmerge);\nvar THEME = /* @__PURE__ */ ((THEME2) => {\n  THEME2[\"DARK\"] = \"DARK\";\n  THEME2[\"LIGHT\"] = \"LIGHT\";\n  return THEME2;\n})(THEME || {});\nclass OKXConnectUiError extends core.OKXConnectError {\n  constructor(message) {\n    super(1, message);\n  }\n}\nconst sharedConfig = {\n  context: void 0,\n  registry: void 0,\n  effects: void 0,\n  done: false,\n  getContextId() {\n    return getContextId(this.context.count);\n  },\n  getNextContextId() {\n    return getContextId(this.context.count++);\n  }\n};\nfunction getContextId(count) {\n  const num = String(count), len = num.length - 1;\n  return sharedConfig.context.id + (len ? String.fromCharCode(96 + len) : \"\") + num;\n}\nconst equalFn = (a2, b) => a2 === b;\nconst $PROXY = Symbol(\"solid-proxy\");\nconst SUPPORTS_PROXY = typeof Proxy === \"function\";\nconst $TRACK = Symbol(\"solid-track\");\nconst signalOptions = {\n  equals: equalFn\n};\nlet runEffects = runQueue;\nconst STALE = 1;\nconst PENDING = 2;\nconst UNOWNED = {\n  owned: null,\n  cleanups: null,\n  context: null,\n  owner: null\n};\nvar Owner = null;\nlet Transition$1 = null;\nlet ExternalSourceConfig = null;\nlet Listener = null;\nlet Updates = null;\nlet Effects = null;\nlet ExecCount = 0;\nfunction createRoot(fn, detachedOwner) {\n  const listener = Listener, owner = Owner, unowned = fn.length === 0, current = detachedOwner === void 0 ? owner : detachedOwner, root = unowned ? UNOWNED : {\n    owned: null,\n    cleanups: null,\n    context: current ? current.context : null,\n    owner: current\n  }, updateFn = unowned ? fn : () => fn(() => untrack(() => cleanNode(root)));\n  Owner = root;\n  Listener = null;\n  try {\n    return runUpdates(updateFn, true);\n  } finally {\n    Listener = listener;\n    Owner = owner;\n  }\n}\nfunction createSignal(value, options) {\n  options = options ? Object.assign({}, signalOptions, options) : signalOptions;\n  const s2 = {\n    value,\n    observers: null,\n    observerSlots: null,\n    comparator: options.equals || void 0\n  };\n  const setter = (value2) => {\n    if (typeof value2 === \"function\") {\n      value2 = value2(s2.value);\n    }\n    return writeSignal(s2, value2);\n  };\n  return [readSignal.bind(s2), setter];\n}\nfunction createComputed(fn, value, options) {\n  const c2 = createComputation(fn, value, true, STALE);\n  updateComputation(c2);\n}\nfunction createRenderEffect(fn, value, options) {\n  const c2 = createComputation(fn, value, false, STALE);\n  updateComputation(c2);\n}\nfunction createEffect(fn, value, options) {\n  runEffects = runUserEffects;\n  const c2 = createComputation(fn, value, false, STALE);\n  if (!options || !options.render)\n    c2.user = true;\n  Effects ? Effects.push(c2) : updateComputation(c2);\n}\nfunction createMemo(fn, value, options) {\n  options = options ? Object.assign({}, signalOptions, options) : signalOptions;\n  const c2 = createComputation(fn, value, true, 0);\n  c2.observers = null;\n  c2.observerSlots = null;\n  c2.comparator = options.equals || void 0;\n  updateComputation(c2);\n  return readSignal.bind(c2);\n}\nfunction batch(fn) {\n  return runUpdates(fn, false);\n}\nfunction untrack(fn) {\n  if (Listener === null)\n    return fn();\n  const listener = Listener;\n  Listener = null;\n  try {\n    if (ExternalSourceConfig)\n      ;\n    return fn();\n  } finally {\n    Listener = listener;\n  }\n}\nfunction onMount(fn) {\n  createEffect(() => untrack(fn));\n}\nfunction onCleanup(fn) {\n  if (Owner === null)\n    ;\n  else if (Owner.cleanups === null)\n    Owner.cleanups = [fn];\n  else\n    Owner.cleanups.push(fn);\n  return fn;\n}\nfunction getListener() {\n  return Listener;\n}\nfunction getOwner() {\n  return Owner;\n}\nfunction runWithOwner(o2, fn) {\n  const prev = Owner;\n  const prevListener = Listener;\n  Owner = o2;\n  Listener = null;\n  try {\n    return runUpdates(fn, true);\n  } catch (err) {\n    handleError(err);\n  } finally {\n    Owner = prev;\n    Listener = prevListener;\n  }\n}\nfunction createContext(defaultValue, options) {\n  const id = Symbol(\"context\");\n  return {\n    id,\n    Provider: createProvider(id),\n    defaultValue\n  };\n}\nfunction useContext(context) {\n  let value;\n  return Owner && Owner.context && (value = Owner.context[context.id]) !== void 0 ? value : context.defaultValue;\n}\nfunction children(fn) {\n  const children2 = createMemo(fn);\n  const memo = createMemo(() => resolveChildren(children2()));\n  memo.toArray = () => {\n    const c2 = memo();\n    return Array.isArray(c2) ? c2 : c2 != null ? [c2] : [];\n  };\n  return memo;\n}\nfunction readSignal() {\n  if (this.sources && this.state) {\n    if (this.state === STALE)\n      updateComputation(this);\n    else {\n      const updates = Updates;\n      Updates = null;\n      runUpdates(() => lookUpstream(this), false);\n      Updates = updates;\n    }\n  }\n  if (Listener) {\n    const sSlot = this.observers ? this.observers.length : 0;\n    if (!Listener.sources) {\n      Listener.sources = [this];\n      Listener.sourceSlots = [sSlot];\n    } else {\n      Listener.sources.push(this);\n      Listener.sourceSlots.push(sSlot);\n    }\n    if (!this.observers) {\n      this.observers = [Listener];\n      this.observerSlots = [Listener.sources.length - 1];\n    } else {\n      this.observers.push(Listener);\n      this.observerSlots.push(Listener.sources.length - 1);\n    }\n  }\n  return this.value;\n}\nfunction writeSignal(node, value, isComp) {\n  let current = node.value;\n  if (!node.comparator || !node.comparator(current, value)) {\n    node.value = value;\n    if (node.observers && node.observers.length) {\n      runUpdates(() => {\n        for (let i2 = 0; i2 < node.observers.length; i2 += 1) {\n          const o2 = node.observers[i2];\n          const TransitionRunning = Transition$1 && Transition$1.running;\n          if (TransitionRunning && Transition$1.disposed.has(o2))\n            ;\n          if (TransitionRunning ? !o2.tState : !o2.state) {\n            if (o2.pure)\n              Updates.push(o2);\n            else\n              Effects.push(o2);\n            if (o2.observers)\n              markDownstream(o2);\n          }\n          if (!TransitionRunning)\n            o2.state = STALE;\n        }\n        if (Updates.length > 1e6) {\n          Updates = [];\n          if (false)\n            ;\n          throw new Error();\n        }\n      }, false);\n    }\n  }\n  return value;\n}\nfunction updateComputation(node) {\n  if (!node.fn)\n    return;\n  cleanNode(node);\n  const time = ExecCount;\n  runComputation(node, node.value, time);\n}\nfunction runComputation(node, value, time) {\n  let nextValue;\n  const owner = Owner, listener = Listener;\n  Listener = Owner = node;\n  try {\n    nextValue = node.fn(value);\n  } catch (err) {\n    if (node.pure) {\n      {\n        node.state = STALE;\n        node.owned && node.owned.forEach(cleanNode);\n        node.owned = null;\n      }\n    }\n    node.updatedAt = time + 1;\n    return handleError(err);\n  } finally {\n    Listener = listener;\n    Owner = owner;\n  }\n  if (!node.updatedAt || node.updatedAt <= time) {\n    if (node.updatedAt != null && \"observers\" in node) {\n      writeSignal(node, nextValue);\n    } else\n      node.value = nextValue;\n    node.updatedAt = time;\n  }\n}\nfunction createComputation(fn, init, pure, state = STALE, options) {\n  const c2 = {\n    fn,\n    state,\n    updatedAt: null,\n    owned: null,\n    sources: null,\n    sourceSlots: null,\n    cleanups: null,\n    value: init,\n    owner: Owner,\n    context: Owner ? Owner.context : null,\n    pure\n  };\n  if (Owner === null)\n    ;\n  else if (Owner !== UNOWNED) {\n    {\n      if (!Owner.owned)\n        Owner.owned = [c2];\n      else\n        Owner.owned.push(c2);\n    }\n  }\n  return c2;\n}\nfunction runTop(node) {\n  if (node.state === 0)\n    return;\n  if (node.state === PENDING)\n    return lookUpstream(node);\n  if (node.suspense && untrack(node.suspense.inFallback))\n    return node.suspense.effects.push(node);\n  const ancestors = [node];\n  while ((node = node.owner) && (!node.updatedAt || node.updatedAt < ExecCount)) {\n    if (node.state)\n      ancestors.push(node);\n  }\n  for (let i2 = ancestors.length - 1; i2 >= 0; i2--) {\n    node = ancestors[i2];\n    if (node.state === STALE) {\n      updateComputation(node);\n    } else if (node.state === PENDING) {\n      const updates = Updates;\n      Updates = null;\n      runUpdates(() => lookUpstream(node, ancestors[0]), false);\n      Updates = updates;\n    }\n  }\n}\nfunction runUpdates(fn, init) {\n  if (Updates)\n    return fn();\n  let wait = false;\n  if (!init)\n    Updates = [];\n  if (Effects)\n    wait = true;\n  else\n    Effects = [];\n  ExecCount++;\n  try {\n    const res = fn();\n    completeUpdates(wait);\n    return res;\n  } catch (err) {\n    if (!wait)\n      Effects = null;\n    Updates = null;\n    handleError(err);\n  }\n}\nfunction completeUpdates(wait) {\n  if (Updates) {\n    runQueue(Updates);\n    Updates = null;\n  }\n  if (wait)\n    return;\n  const e2 = Effects;\n  Effects = null;\n  if (e2.length)\n    runUpdates(() => runEffects(e2), false);\n}\nfunction runQueue(queue) {\n  for (let i2 = 0; i2 < queue.length; i2++)\n    runTop(queue[i2]);\n}\nfunction runUserEffects(queue) {\n  let i2, userLength = 0;\n  for (i2 = 0; i2 < queue.length; i2++) {\n    const e2 = queue[i2];\n    if (!e2.user)\n      runTop(e2);\n    else\n      queue[userLength++] = e2;\n  }\n  for (i2 = 0; i2 < userLength; i2++)\n    runTop(queue[i2]);\n}\nfunction lookUpstream(node, ignore) {\n  node.state = 0;\n  for (let i2 = 0; i2 < node.sources.length; i2 += 1) {\n    const source = node.sources[i2];\n    if (source.sources) {\n      const state = source.state;\n      if (state === STALE) {\n        if (source !== ignore && (!source.updatedAt || source.updatedAt < ExecCount))\n          runTop(source);\n      } else if (state === PENDING)\n        lookUpstream(source, ignore);\n    }\n  }\n}\nfunction markDownstream(node) {\n  for (let i2 = 0; i2 < node.observers.length; i2 += 1) {\n    const o2 = node.observers[i2];\n    if (!o2.state) {\n      o2.state = PENDING;\n      if (o2.pure)\n        Updates.push(o2);\n      else\n        Effects.push(o2);\n      o2.observers && markDownstream(o2);\n    }\n  }\n}\nfunction cleanNode(node) {\n  let i2;\n  if (node.sources) {\n    while (node.sources.length) {\n      const source = node.sources.pop(), index = node.sourceSlots.pop(), obs = source.observers;\n      if (obs && obs.length) {\n        const n2 = obs.pop(), s2 = source.observerSlots.pop();\n        if (index < obs.length) {\n          n2.sourceSlots[s2] = index;\n          obs[index] = n2;\n          source.observerSlots[index] = s2;\n        }\n      }\n    }\n  }\n  if (node.tOwned) {\n    for (i2 = node.tOwned.length - 1; i2 >= 0; i2--)\n      cleanNode(node.tOwned[i2]);\n    delete node.tOwned;\n  }\n  if (node.owned) {\n    for (i2 = node.owned.length - 1; i2 >= 0; i2--)\n      cleanNode(node.owned[i2]);\n    node.owned = null;\n  }\n  if (node.cleanups) {\n    for (i2 = node.cleanups.length - 1; i2 >= 0; i2--)\n      node.cleanups[i2]();\n    node.cleanups = null;\n  }\n  node.state = 0;\n}\nfunction castError(err) {\n  if (err instanceof Error)\n    return err;\n  return new Error(typeof err === \"string\" ? err : \"Unknown error\", {\n    cause: err\n  });\n}\nfunction handleError(err, owner = Owner) {\n  const error = castError(err);\n  throw error;\n}\nfunction resolveChildren(children2) {\n  if (typeof children2 === \"function\" && !children2.length)\n    return resolveChildren(children2());\n  if (Array.isArray(children2)) {\n    const results = [];\n    for (let i2 = 0; i2 < children2.length; i2++) {\n      const result = resolveChildren(children2[i2]);\n      Array.isArray(result) ? results.push.apply(results, result) : results.push(result);\n    }\n    return results;\n  }\n  return children2;\n}\nfunction createProvider(id, options) {\n  return function provider(props) {\n    let res;\n    createRenderEffect(() => res = untrack(() => {\n      Owner.context = __spreadProps(__spreadValues({}, Owner.context), {\n        [id]: props.value\n      });\n      return children(() => props.children);\n    }), void 0);\n    return res;\n  };\n}\nfunction createComponent(Comp, props) {\n  return untrack(() => Comp(props || {}));\n}\nfunction trueFn() {\n  return true;\n}\nconst propTraps = {\n  get(_, property, receiver) {\n    if (property === $PROXY)\n      return receiver;\n    return _.get(property);\n  },\n  has(_, property) {\n    if (property === $PROXY)\n      return true;\n    return _.has(property);\n  },\n  set: trueFn,\n  deleteProperty: trueFn,\n  getOwnPropertyDescriptor(_, property) {\n    return {\n      configurable: true,\n      enumerable: true,\n      get() {\n        return _.get(property);\n      },\n      set: trueFn,\n      deleteProperty: trueFn\n    };\n  },\n  ownKeys(_) {\n    return _.keys();\n  }\n};\nfunction resolveSource(s2) {\n  return !(s2 = typeof s2 === \"function\" ? s2() : s2) ? {} : s2;\n}\nfunction resolveSources() {\n  for (let i2 = 0, length = this.length; i2 < length; ++i2) {\n    const v = this[i2]();\n    if (v !== void 0)\n      return v;\n  }\n}\nfunction mergeProps(...sources) {\n  let proxy = false;\n  for (let i2 = 0; i2 < sources.length; i2++) {\n    const s2 = sources[i2];\n    proxy = proxy || !!s2 && $PROXY in s2;\n    sources[i2] = typeof s2 === \"function\" ? (proxy = true, createMemo(s2)) : s2;\n  }\n  if (SUPPORTS_PROXY && proxy) {\n    return new Proxy({\n      get(property) {\n        for (let i2 = sources.length - 1; i2 >= 0; i2--) {\n          const v = resolveSource(sources[i2])[property];\n          if (v !== void 0)\n            return v;\n        }\n      },\n      has(property) {\n        for (let i2 = sources.length - 1; i2 >= 0; i2--) {\n          if (property in resolveSource(sources[i2]))\n            return true;\n        }\n        return false;\n      },\n      keys() {\n        const keys = [];\n        for (let i2 = 0; i2 < sources.length; i2++)\n          keys.push(...Object.keys(resolveSource(sources[i2])));\n        return [...new Set(keys)];\n      }\n    }, propTraps);\n  }\n  const sourcesMap = {};\n  const defined = /* @__PURE__ */ Object.create(null);\n  for (let i2 = sources.length - 1; i2 >= 0; i2--) {\n    const source = sources[i2];\n    if (!source)\n      continue;\n    const sourceKeys = Object.getOwnPropertyNames(source);\n    for (let i3 = sourceKeys.length - 1; i3 >= 0; i3--) {\n      const key = sourceKeys[i3];\n      if (key === \"__proto__\" || key === \"constructor\")\n        continue;\n      const desc = Object.getOwnPropertyDescriptor(source, key);\n      if (!defined[key]) {\n        defined[key] = desc.get ? {\n          enumerable: true,\n          configurable: true,\n          get: resolveSources.bind(sourcesMap[key] = [desc.get.bind(source)])\n        } : desc.value !== void 0 ? desc : void 0;\n      } else {\n        const sources2 = sourcesMap[key];\n        if (sources2) {\n          if (desc.get)\n            sources2.push(desc.get.bind(source));\n          else if (desc.value !== void 0)\n            sources2.push(() => desc.value);\n        }\n      }\n    }\n  }\n  const target = {};\n  const definedKeys = Object.keys(defined);\n  for (let i2 = definedKeys.length - 1; i2 >= 0; i2--) {\n    const key = definedKeys[i2], desc = defined[key];\n    if (desc && desc.get)\n      Object.defineProperty(target, key, desc);\n    else\n      target[key] = desc ? desc.value : void 0;\n  }\n  return target;\n}\nfunction splitProps(props, ...keys) {\n  if (SUPPORTS_PROXY && $PROXY in props) {\n    const blocked = new Set(keys.length > 1 ? keys.flat() : keys[0]);\n    const res = keys.map((k) => {\n      return new Proxy({\n        get(property) {\n          return k.includes(property) ? props[property] : void 0;\n        },\n        has(property) {\n          return k.includes(property) && property in props;\n        },\n        keys() {\n          return k.filter((property) => property in props);\n        }\n      }, propTraps);\n    });\n    res.push(new Proxy({\n      get(property) {\n        return blocked.has(property) ? void 0 : props[property];\n      },\n      has(property) {\n        return blocked.has(property) ? false : property in props;\n      },\n      keys() {\n        return Object.keys(props).filter((k) => !blocked.has(k));\n      }\n    }, propTraps));\n    return res;\n  }\n  const otherObject = {};\n  const objects = keys.map(() => ({}));\n  for (const propName of Object.getOwnPropertyNames(props)) {\n    const desc = Object.getOwnPropertyDescriptor(props, propName);\n    const isDefaultDesc = !desc.get && !desc.set && desc.enumerable && desc.writable && desc.configurable;\n    let blocked = false;\n    let objectIndex = 0;\n    for (const k of keys) {\n      if (k.includes(propName)) {\n        blocked = true;\n        isDefaultDesc ? objects[objectIndex][propName] = desc.value : Object.defineProperty(objects[objectIndex], propName, desc);\n      }\n      ++objectIndex;\n    }\n    if (!blocked) {\n      isDefaultDesc ? otherObject[propName] = desc.value : Object.defineProperty(otherObject, propName, desc);\n    }\n  }\n  return [...objects, otherObject];\n}\nconst narrowedError = (name) => `Stale read from <${name}>.`;\nfunction Show(props) {\n  const keyed = props.keyed;\n  const condition = createMemo(() => props.when, void 0, {\n    equals: (a2, b) => keyed ? a2 === b : !a2 === !b\n  });\n  return createMemo(() => {\n    const c2 = condition();\n    if (c2) {\n      const child = props.children;\n      const fn = typeof child === \"function\" && child.length > 0;\n      return fn ? untrack(() => child(keyed ? c2 : () => {\n        if (!untrack(condition))\n          throw narrowedError(\"Show\");\n        return props.when;\n      })) : child;\n    }\n    return props.fallback;\n  }, void 0, void 0);\n}\nfunction Switch(props) {\n  let keyed = false;\n  const equals = (a2, b) => (keyed ? a2[1] === b[1] : !a2[1] === !b[1]) && a2[2] === b[2];\n  const conditions = children(() => props.children), evalConditions = createMemo(() => {\n    let conds = conditions();\n    if (!Array.isArray(conds))\n      conds = [conds];\n    for (let i2 = 0; i2 < conds.length; i2++) {\n      const c2 = conds[i2].when;\n      if (c2) {\n        keyed = !!conds[i2].keyed;\n        return [i2, c2, conds[i2]];\n      }\n    }\n    return [-1];\n  }, void 0, {\n    equals\n  });\n  return createMemo(() => {\n    const [index, when, cond] = evalConditions();\n    if (index < 0)\n      return props.fallback;\n    const c2 = cond.children;\n    const fn = typeof c2 === \"function\" && c2.length > 0;\n    return fn ? untrack(() => c2(keyed ? when : () => {\n      if (untrack(evalConditions)[0] !== index)\n        throw narrowedError(\"Match\");\n      return cond.when;\n    })) : c2;\n  }, void 0, void 0);\n}\nfunction Match(props) {\n  return props;\n}\nconst booleans = [\"allowfullscreen\", \"async\", \"autofocus\", \"autoplay\", \"checked\", \"controls\", \"default\", \"disabled\", \"formnovalidate\", \"hidden\", \"indeterminate\", \"inert\", \"ismap\", \"loop\", \"multiple\", \"muted\", \"nomodule\", \"novalidate\", \"open\", \"playsinline\", \"readonly\", \"required\", \"reversed\", \"seamless\", \"selected\"];\nconst Properties = /* @__PURE__ */ new Set([\"className\", \"value\", \"readOnly\", \"formNoValidate\", \"isMap\", \"noModule\", \"playsInline\", ...booleans]);\nconst ChildProperties = /* @__PURE__ */ new Set([\"innerHTML\", \"textContent\", \"innerText\", \"children\"]);\nconst Aliases = /* @__PURE__ */ Object.assign(/* @__PURE__ */ Object.create(null), {\n  className: \"class\",\n  htmlFor: \"for\"\n});\nconst PropAliases = /* @__PURE__ */ Object.assign(/* @__PURE__ */ Object.create(null), {\n  class: \"className\",\n  formnovalidate: {\n    $: \"formNoValidate\",\n    BUTTON: 1,\n    INPUT: 1\n  },\n  ismap: {\n    $: \"isMap\",\n    IMG: 1\n  },\n  nomodule: {\n    $: \"noModule\",\n    SCRIPT: 1\n  },\n  playsinline: {\n    $: \"playsInline\",\n    VIDEO: 1\n  },\n  readonly: {\n    $: \"readOnly\",\n    INPUT: 1,\n    TEXTAREA: 1\n  }\n});\nfunction getPropAlias(prop, tagName) {\n  const a2 = PropAliases[prop];\n  return typeof a2 === \"object\" ? a2[tagName] ? a2[\"$\"] : void 0 : a2;\n}\nconst DelegatedEvents = /* @__PURE__ */ new Set([\"beforeinput\", \"click\", \"dblclick\", \"contextmenu\", \"focusin\", \"focusout\", \"input\", \"keydown\", \"keyup\", \"mousedown\", \"mousemove\", \"mouseout\", \"mouseover\", \"mouseup\", \"pointerdown\", \"pointermove\", \"pointerout\", \"pointerover\", \"pointerup\", \"touchend\", \"touchmove\", \"touchstart\"]);\nconst SVGElements = /* @__PURE__ */ new Set([\n  \"altGlyph\",\n  \"altGlyphDef\",\n  \"altGlyphItem\",\n  \"animate\",\n  \"animateColor\",\n  \"animateMotion\",\n  \"animateTransform\",\n  \"circle\",\n  \"clipPath\",\n  \"color-profile\",\n  \"cursor\",\n  \"defs\",\n  \"desc\",\n  \"ellipse\",\n  \"feBlend\",\n  \"feColorMatrix\",\n  \"feComponentTransfer\",\n  \"feComposite\",\n  \"feConvolveMatrix\",\n  \"feDiffuseLighting\",\n  \"feDisplacementMap\",\n  \"feDistantLight\",\n  \"feDropShadow\",\n  \"feFlood\",\n  \"feFuncA\",\n  \"feFuncB\",\n  \"feFuncG\",\n  \"feFuncR\",\n  \"feGaussianBlur\",\n  \"feImage\",\n  \"feMerge\",\n  \"feMergeNode\",\n  \"feMorphology\",\n  \"feOffset\",\n  \"fePointLight\",\n  \"feSpecularLighting\",\n  \"feSpotLight\",\n  \"feTile\",\n  \"feTurbulence\",\n  \"filter\",\n  \"font\",\n  \"font-face\",\n  \"font-face-format\",\n  \"font-face-name\",\n  \"font-face-src\",\n  \"font-face-uri\",\n  \"foreignObject\",\n  \"g\",\n  \"glyph\",\n  \"glyphRef\",\n  \"hkern\",\n  \"image\",\n  \"line\",\n  \"linearGradient\",\n  \"marker\",\n  \"mask\",\n  \"metadata\",\n  \"missing-glyph\",\n  \"mpath\",\n  \"path\",\n  \"pattern\",\n  \"polygon\",\n  \"polyline\",\n  \"radialGradient\",\n  \"rect\",\n  \"set\",\n  \"stop\",\n  \"svg\",\n  \"switch\",\n  \"symbol\",\n  \"text\",\n  \"textPath\",\n  \"tref\",\n  \"tspan\",\n  \"use\",\n  \"view\",\n  \"vkern\"\n]);\nconst SVGNamespace = {\n  xlink: \"http://www.w3.org/1999/xlink\",\n  xml: \"http://www.w3.org/XML/1998/namespace\"\n};\nfunction reconcileArrays(parentNode, a2, b) {\n  let bLength = b.length, aEnd = a2.length, bEnd = bLength, aStart = 0, bStart = 0, after = a2[aEnd - 1].nextSibling, map = null;\n  while (aStart < aEnd || bStart < bEnd) {\n    if (a2[aStart] === b[bStart]) {\n      aStart++;\n      bStart++;\n      continue;\n    }\n    while (a2[aEnd - 1] === b[bEnd - 1]) {\n      aEnd--;\n      bEnd--;\n    }\n    if (aEnd === aStart) {\n      const node = bEnd < bLength ? bStart ? b[bStart - 1].nextSibling : b[bEnd - bStart] : after;\n      while (bStart < bEnd)\n        parentNode.insertBefore(b[bStart++], node);\n    } else if (bEnd === bStart) {\n      while (aStart < aEnd) {\n        if (!map || !map.has(a2[aStart]))\n          a2[aStart].remove();\n        aStart++;\n      }\n    } else if (a2[aStart] === b[bEnd - 1] && b[bStart] === a2[aEnd - 1]) {\n      const node = a2[--aEnd].nextSibling;\n      parentNode.insertBefore(b[bStart++], a2[aStart++].nextSibling);\n      parentNode.insertBefore(b[--bEnd], node);\n      a2[aEnd] = b[bEnd];\n    } else {\n      if (!map) {\n        map = /* @__PURE__ */ new Map();\n        let i2 = bStart;\n        while (i2 < bEnd)\n          map.set(b[i2], i2++);\n      }\n      const index = map.get(a2[aStart]);\n      if (index != null) {\n        if (bStart < index && index < bEnd) {\n          let i2 = aStart, sequence = 1, t2;\n          while (++i2 < aEnd && i2 < bEnd) {\n            if ((t2 = map.get(a2[i2])) == null || t2 !== index + sequence)\n              break;\n            sequence++;\n          }\n          if (sequence > index - bStart) {\n            const node = a2[aStart];\n            while (bStart < index)\n              parentNode.insertBefore(b[bStart++], node);\n          } else\n            parentNode.replaceChild(b[bStart++], a2[aStart++]);\n        } else\n          aStart++;\n      } else\n        a2[aStart++].remove();\n    }\n  }\n}\nconst $$EVENTS = \"_$DX_DELEGATE\";\nfunction render(code, element, init, options = {}) {\n  let disposer;\n  createRoot((dispose) => {\n    disposer = dispose;\n    element === document ? code() : insert(element, code(), element.firstChild ? null : void 0, init);\n  }, options.owner);\n  return () => {\n    disposer();\n    element.textContent = \"\";\n  };\n}\nfunction template$1(html, isImportNode, isSVG) {\n  let node;\n  const create = () => {\n    const t2 = document.createElement(\"template\");\n    t2.innerHTML = html;\n    return isSVG ? t2.content.firstChild.firstChild : t2.content.firstChild;\n  };\n  const fn = isImportNode ? () => untrack(() => document.importNode(node || (node = create()), true)) : () => (node || (node = create())).cloneNode(true);\n  fn.cloneNode = fn;\n  return fn;\n}\nfunction delegateEvents(eventNames, document2 = window.document) {\n  const e2 = document2[$$EVENTS] || (document2[$$EVENTS] = /* @__PURE__ */ new Set());\n  for (let i2 = 0, l2 = eventNames.length; i2 < l2; i2++) {\n    const name = eventNames[i2];\n    if (!e2.has(name)) {\n      e2.add(name);\n      document2.addEventListener(name, eventHandler);\n    }\n  }\n}\nfunction setAttribute(node, name, value) {\n  if (value == null)\n    node.removeAttribute(name);\n  else\n    node.setAttribute(name, value);\n}\nfunction setAttributeNS(node, namespace, name, value) {\n  if (value == null)\n    node.removeAttributeNS(namespace, name);\n  else\n    node.setAttributeNS(namespace, name, value);\n}\nfunction setBoolAttribute(node, name, value) {\n  value ? node.setAttribute(name, \"\") : node.removeAttribute(name);\n}\nfunction className(node, value) {\n  if (value == null)\n    node.removeAttribute(\"class\");\n  else\n    node.className = value;\n}\nfunction addEventListener(node, name, handler, delegate) {\n  if (delegate) {\n    if (Array.isArray(handler)) {\n      node[`$$${name}`] = handler[0];\n      node[`$$${name}Data`] = handler[1];\n    } else\n      node[`$$${name}`] = handler;\n  } else if (Array.isArray(handler)) {\n    const handlerFn = handler[0];\n    node.addEventListener(name, handler[0] = (e2) => handlerFn.call(node, handler[1], e2));\n  } else\n    node.addEventListener(name, handler, typeof handler !== \"function\" && handler);\n}\nfunction classList(node, value, prev = {}) {\n  const classKeys = Object.keys(value || {}), prevKeys = Object.keys(prev);\n  let i2, len;\n  for (i2 = 0, len = prevKeys.length; i2 < len; i2++) {\n    const key = prevKeys[i2];\n    if (!key || key === \"undefined\" || value[key])\n      continue;\n    toggleClassKey(node, key, false);\n    delete prev[key];\n  }\n  for (i2 = 0, len = classKeys.length; i2 < len; i2++) {\n    const key = classKeys[i2], classValue = !!value[key];\n    if (!key || key === \"undefined\" || prev[key] === classValue || !classValue)\n      continue;\n    toggleClassKey(node, key, true);\n    prev[key] = classValue;\n  }\n  return prev;\n}\nfunction style(node, value, prev) {\n  if (!value)\n    return prev ? setAttribute(node, \"style\") : value;\n  const nodeStyle = node.style;\n  if (typeof value === \"string\")\n    return nodeStyle.cssText = value;\n  typeof prev === \"string\" && (nodeStyle.cssText = prev = void 0);\n  prev || (prev = {});\n  value || (value = {});\n  let v, s2;\n  for (s2 in prev) {\n    value[s2] == null && nodeStyle.removeProperty(s2);\n    delete prev[s2];\n  }\n  for (s2 in value) {\n    v = value[s2];\n    if (v !== prev[s2]) {\n      nodeStyle.setProperty(s2, v);\n      prev[s2] = v;\n    }\n  }\n  return prev;\n}\nfunction spread(node, props = {}, isSVG, skipChildren) {\n  const prevProps = {};\n  if (!skipChildren) {\n    createRenderEffect(() => prevProps.children = insertExpression(node, props.children, prevProps.children));\n  }\n  createRenderEffect(() => typeof props.ref === \"function\" && use(props.ref, node));\n  createRenderEffect(() => assign(node, props, isSVG, true, prevProps, true));\n  return prevProps;\n}\nfunction use(fn, element, arg) {\n  return untrack(() => fn(element, arg));\n}\nfunction insert(parent, accessor, marker, initial) {\n  if (marker !== void 0 && !initial)\n    initial = [];\n  if (typeof accessor !== \"function\")\n    return insertExpression(parent, accessor, initial, marker);\n  createRenderEffect((current) => insertExpression(parent, accessor(), current, marker), initial);\n}\nfunction assign(node, props, isSVG, skipChildren, prevProps = {}, skipRef = false) {\n  props || (props = {});\n  for (const prop in prevProps) {\n    if (!(prop in props)) {\n      if (prop === \"children\")\n        continue;\n      prevProps[prop] = assignProp(node, prop, null, prevProps[prop], isSVG, skipRef, props);\n    }\n  }\n  for (const prop in props) {\n    if (prop === \"children\") {\n      if (!skipChildren)\n        insertExpression(node, props.children);\n      continue;\n    }\n    const value = props[prop];\n    prevProps[prop] = assignProp(node, prop, value, prevProps[prop], isSVG, skipRef, props);\n  }\n}\nfunction toPropertyName(name) {\n  return name.toLowerCase().replace(/-([a-z])/g, (_, w) => w.toUpperCase());\n}\nfunction toggleClassKey(node, key, value) {\n  const classNames = key.trim().split(/\\s+/);\n  for (let i2 = 0, nameLen = classNames.length; i2 < nameLen; i2++)\n    node.classList.toggle(classNames[i2], value);\n}\nfunction assignProp(node, prop, value, prev, isSVG, skipRef, props) {\n  let isCE, isProp, isChildProp, propAlias, forceProp;\n  if (prop === \"style\")\n    return style(node, value, prev);\n  if (prop === \"classList\")\n    return classList(node, value, prev);\n  if (value === prev)\n    return prev;\n  if (prop === \"ref\") {\n    if (!skipRef)\n      value(node);\n  } else if (prop.slice(0, 3) === \"on:\") {\n    const e2 = prop.slice(3);\n    prev && node.removeEventListener(e2, prev, typeof prev !== \"function\" && prev);\n    value && node.addEventListener(e2, value, typeof value !== \"function\" && value);\n  } else if (prop.slice(0, 10) === \"oncapture:\") {\n    const e2 = prop.slice(10);\n    prev && node.removeEventListener(e2, prev, true);\n    value && node.addEventListener(e2, value, true);\n  } else if (prop.slice(0, 2) === \"on\") {\n    const name = prop.slice(2).toLowerCase();\n    const delegate = DelegatedEvents.has(name);\n    if (!delegate && prev) {\n      const h2 = Array.isArray(prev) ? prev[0] : prev;\n      node.removeEventListener(name, h2);\n    }\n    if (delegate || value) {\n      addEventListener(node, name, value, delegate);\n      delegate && delegateEvents([name]);\n    }\n  } else if (prop.slice(0, 5) === \"attr:\") {\n    setAttribute(node, prop.slice(5), value);\n  } else if (prop.slice(0, 5) === \"bool:\") {\n    setBoolAttribute(node, prop.slice(5), value);\n  } else if ((forceProp = prop.slice(0, 5) === \"prop:\") || (isChildProp = ChildProperties.has(prop)) || !isSVG && ((propAlias = getPropAlias(prop, node.tagName)) || (isProp = Properties.has(prop))) || (isCE = node.nodeName.includes(\"-\") || \"is\" in props)) {\n    if (forceProp) {\n      prop = prop.slice(5);\n      isProp = true;\n    }\n    if (prop === \"class\" || prop === \"className\")\n      className(node, value);\n    else if (isCE && !isProp && !isChildProp)\n      node[toPropertyName(prop)] = value;\n    else\n      node[propAlias || prop] = value;\n  } else {\n    const ns = isSVG && prop.indexOf(\":\") > -1 && SVGNamespace[prop.split(\":\")[0]];\n    if (ns)\n      setAttributeNS(node, ns, prop, value);\n    else\n      setAttribute(node, Aliases[prop] || prop, value);\n  }\n  return value;\n}\nfunction eventHandler(e2) {\n  let node = e2.target;\n  const key = `$$${e2.type}`;\n  const oriTarget = e2.target;\n  const oriCurrentTarget = e2.currentTarget;\n  const retarget = (value) => Object.defineProperty(e2, \"target\", {\n    configurable: true,\n    value\n  });\n  const handleNode = () => {\n    const handler = node[key];\n    if (handler && !node.disabled) {\n      const data = node[`${key}Data`];\n      data !== void 0 ? handler.call(node, data, e2) : handler.call(node, e2);\n      if (e2.cancelBubble)\n        return;\n    }\n    node.host && typeof node.host !== \"string\" && !node.host._$host && node.contains(e2.target) && retarget(node.host);\n    return true;\n  };\n  const walkUpTree = () => {\n    while (handleNode() && (node = node._$host || node.parentNode || node.host))\n      ;\n  };\n  Object.defineProperty(e2, \"currentTarget\", {\n    configurable: true,\n    get() {\n      return node || document;\n    }\n  });\n  if (e2.composedPath) {\n    const path = e2.composedPath();\n    retarget(path[0]);\n    for (let i2 = 0; i2 < path.length - 2; i2++) {\n      node = path[i2];\n      if (!handleNode())\n        break;\n      if (node._$host) {\n        node = node._$host;\n        walkUpTree();\n        break;\n      }\n      if (node.parentNode === oriCurrentTarget) {\n        break;\n      }\n    }\n  } else\n    walkUpTree();\n  retarget(oriTarget);\n}\nfunction insertExpression(parent, value, current, marker, unwrapArray) {\n  while (typeof current === \"function\")\n    current = current();\n  if (value === current)\n    return current;\n  const t2 = typeof value, multi = marker !== void 0;\n  parent = multi && current[0] && current[0].parentNode || parent;\n  if (t2 === \"string\" || t2 === \"number\") {\n    if (t2 === \"number\") {\n      value = value.toString();\n      if (value === current)\n        return current;\n    }\n    if (multi) {\n      let node = current[0];\n      if (node && node.nodeType === 3) {\n        node.data !== value && (node.data = value);\n      } else\n        node = document.createTextNode(value);\n      current = cleanChildren(parent, current, marker, node);\n    } else {\n      if (current !== \"\" && typeof current === \"string\") {\n        current = parent.firstChild.data = value;\n      } else\n        current = parent.textContent = value;\n    }\n  } else if (value == null || t2 === \"boolean\") {\n    current = cleanChildren(parent, current, marker);\n  } else if (t2 === \"function\") {\n    createRenderEffect(() => {\n      let v = value();\n      while (typeof v === \"function\")\n        v = v();\n      current = insertExpression(parent, v, current, marker);\n    });\n    return () => current;\n  } else if (Array.isArray(value)) {\n    const array = [];\n    const currentArray = current && Array.isArray(current);\n    if (normalizeIncomingArray(array, value, current, unwrapArray)) {\n      createRenderEffect(() => current = insertExpression(parent, array, current, marker, true));\n      return () => current;\n    }\n    if (array.length === 0) {\n      current = cleanChildren(parent, current, marker);\n      if (multi)\n        return current;\n    } else if (currentArray) {\n      if (current.length === 0) {\n        appendNodes(parent, array, marker);\n      } else\n        reconcileArrays(parent, current, array);\n    } else {\n      current && cleanChildren(parent);\n      appendNodes(parent, array);\n    }\n    current = array;\n  } else if (value.nodeType) {\n    if (Array.isArray(current)) {\n      if (multi)\n        return current = cleanChildren(parent, current, marker, value);\n      cleanChildren(parent, current, null, value);\n    } else if (current == null || current === \"\" || !parent.firstChild) {\n      parent.appendChild(value);\n    } else\n      parent.replaceChild(value, parent.firstChild);\n    current = value;\n  } else\n    ;\n  return current;\n}\nfunction normalizeIncomingArray(normalized, array, current, unwrap2) {\n  let dynamic = false;\n  for (let i2 = 0, len = array.length; i2 < len; i2++) {\n    let item = array[i2], prev = current && current[normalized.length], t2;\n    if (item == null || item === true || item === false)\n      ;\n    else if ((t2 = typeof item) === \"object\" && item.nodeType) {\n      normalized.push(item);\n    } else if (Array.isArray(item)) {\n      dynamic = normalizeIncomingArray(normalized, item, prev) || dynamic;\n    } else if (t2 === \"function\") {\n      if (unwrap2) {\n        while (typeof item === \"function\")\n          item = item();\n        dynamic = normalizeIncomingArray(normalized, Array.isArray(item) ? item : [item], Array.isArray(prev) ? prev : [prev]) || dynamic;\n      } else {\n        normalized.push(item);\n        dynamic = true;\n      }\n    } else {\n      const value = String(item);\n      if (prev && prev.nodeType === 3 && prev.data === value)\n        normalized.push(prev);\n      else\n        normalized.push(document.createTextNode(value));\n    }\n  }\n  return dynamic;\n}\nfunction appendNodes(parent, array, marker = null) {\n  for (let i2 = 0, len = array.length; i2 < len; i2++)\n    parent.insertBefore(array[i2], marker);\n}\nfunction cleanChildren(parent, current, marker, replacement) {\n  if (marker === void 0)\n    return parent.textContent = \"\";\n  const node = replacement || document.createTextNode(\"\");\n  if (current.length) {\n    let inserted = false;\n    for (let i2 = current.length - 1; i2 >= 0; i2--) {\n      const el = current[i2];\n      if (node !== el) {\n        const isParent = el.parentNode === parent;\n        if (!inserted && !i2)\n          isParent ? parent.replaceChild(node, el) : parent.insertBefore(node, marker);\n        else\n          isParent && el.remove();\n      } else\n        inserted = true;\n    }\n  } else\n    parent.insertBefore(node, marker);\n  return [node];\n}\nconst SVG_NAMESPACE = \"http://www.w3.org/2000/svg\";\nfunction createElement(tagName, isSVG = false) {\n  return isSVG ? document.createElementNS(SVG_NAMESPACE, tagName) : document.createElement(tagName);\n}\nfunction Portal(props) {\n  const {\n    useShadow\n  } = props, marker = document.createTextNode(\"\"), mount = () => props.mount || document.body, owner = getOwner();\n  let content;\n  let hydrating = !!sharedConfig.context;\n  createEffect(() => {\n    content || (content = runWithOwner(owner, () => createMemo(() => props.children)));\n    const el = mount();\n    if (el instanceof HTMLHeadElement) {\n      const [clean, setClean] = createSignal(false);\n      const cleanup = () => setClean(true);\n      createRoot((dispose) => insert(el, () => !clean() ? content() : dispose(), null));\n      onCleanup(cleanup);\n    } else {\n      const container = createElement(props.isSVG ? \"g\" : \"div\", props.isSVG), renderRoot = useShadow && container.attachShadow ? container.attachShadow({\n        mode: \"open\"\n      }) : container;\n      Object.defineProperty(container, \"_$host\", {\n        get() {\n          return marker.parentNode;\n        },\n        configurable: true\n      });\n      insert(renderRoot, content);\n      el.appendChild(container);\n      props.ref && props.ref(container);\n      onCleanup(() => el.removeChild(container));\n    }\n  }, void 0, {\n    render: !hydrating\n  });\n  return marker;\n}\nfunction Dynamic(props) {\n  const [p2, others] = splitProps(props, [\"component\"]);\n  const cached = createMemo(() => p2.component);\n  return createMemo(() => {\n    const component = cached();\n    switch (typeof component) {\n      case \"function\":\n        return untrack(() => component(others));\n      case \"string\":\n        const isSvg = SVGElements.has(component);\n        const el = createElement(component, isSvg);\n        spread(el, others, isSvg);\n        return el;\n    }\n  });\n}\nlet e = { data: \"\" }, t = (t2) => \"object\" == typeof window ? ((t2 ? t2.querySelector(\"#_goober\") : window._goober) || Object.assign((t2 || document.head).appendChild(document.createElement(\"style\")), { innerHTML: \" \", id: \"_goober\" })).firstChild : t2 || e, l = /(?:([\\u0080-\\uFFFF\\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\\s*)/g, a = /\\/\\*[^]*?\\*\\/|  +/g, n = /\\n+/g, o = (e2, t2) => {\n  let r = \"\", l2 = \"\", a2 = \"\";\n  for (let n2 in e2) {\n    let c2 = e2[n2];\n    \"@\" == n2[0] ? \"i\" == n2[1] ? r = n2 + \" \" + c2 + \";\" : l2 += \"f\" == n2[1] ? o(c2, n2) : n2 + \"{\" + o(c2, \"k\" == n2[1] ? \"\" : t2) + \"}\" : \"object\" == typeof c2 ? l2 += o(c2, t2 ? t2.replace(/([^,])+/g, (e3) => n2.replace(/([^,]*:\\S+\\([^)]*\\))|([^,])+/g, (t3) => /&/.test(t3) ? t3.replace(/&/g, e3) : e3 ? e3 + \" \" + t3 : t3)) : n2) : null != c2 && (n2 = /^--/.test(n2) ? n2 : n2.replace(/[A-Z]/g, \"-$&\").toLowerCase(), a2 += o.p ? o.p(n2, c2) : n2 + \":\" + c2 + \";\");\n  }\n  return r + (t2 && a2 ? t2 + \"{\" + a2 + \"}\" : a2) + l2;\n}, c = {}, s = (e2) => {\n  if (\"object\" == typeof e2) {\n    let t2 = \"\";\n    for (let r in e2)\n      t2 += r + s(e2[r]);\n    return t2;\n  }\n  return e2;\n}, i = (e2, t2, r, i2, p2) => {\n  let u2 = s(e2), d = c[u2] || (c[u2] = ((e3) => {\n    let t3 = 0, r2 = 11;\n    for (; t3 < e3.length; )\n      r2 = 101 * r2 + e3.charCodeAt(t3++) >>> 0;\n    return \"go\" + r2;\n  })(u2));\n  if (!c[d]) {\n    let t3 = u2 !== e2 ? e2 : ((e3) => {\n      let t4, r2, o2 = [{}];\n      for (; t4 = l.exec(e3.replace(a, \"\")); )\n        t4[4] ? o2.shift() : t4[3] ? (r2 = t4[3].replace(n, \" \").trim(), o2.unshift(o2[0][r2] = o2[0][r2] || {})) : o2[0][t4[1]] = t4[2].replace(n, \" \").trim();\n      return o2[0];\n    })(e2);\n    c[d] = o(p2 ? { [\"@keyframes \" + d]: t3 } : t3, r ? \"\" : \".\" + d);\n  }\n  let f = r && c.g ? c.g : null;\n  return r && (c.g = c[d]), ((e3, t3, r2, l2) => {\n    l2 ? t3.data = t3.data.replace(l2, e3) : -1 === t3.data.indexOf(e3) && (t3.data = r2 ? e3 + t3.data : t3.data + e3);\n  })(c[d], t2, i2, f), d;\n}, p = (e2, t2, r) => e2.reduce((e3, l2, a2) => {\n  let n2 = t2[a2];\n  if (n2 && n2.call) {\n    let e4 = n2(r), t3 = e4 && e4.props && e4.props.className || /^go/.test(e4) && e4;\n    n2 = t3 ? \".\" + t3 : e4 && \"object\" == typeof e4 ? e4.props ? \"\" : o(e4, \"\") : false === e4 ? \"\" : e4;\n  }\n  return e3 + l2 + (null == n2 ? \"\" : n2);\n}, \"\");\nfunction u(e2) {\n  let r = this || {}, l2 = e2.call ? e2(r.p) : e2;\n  return i(l2.unshift ? l2.raw ? p(l2, [].slice.call(arguments, 1), r.p) : l2.reduce((e3, t2) => Object.assign(e3, t2 && t2.call ? t2(r.p) : t2), {}) : l2, t(r.target), r.g, r.o, r.k);\n}\nu.bind({ g: 1 });\nlet h = u.bind({ k: 1 });\nconst ThemeContext = createContext();\nfunction ThemeProvider(props) {\n  return createComponent(ThemeContext.Provider, {\n    value: props.theme,\n    get children() {\n      return props.children;\n    }\n  });\n}\nfunction useTheme() {\n  return useContext(ThemeContext);\n}\nfunction makeStyled(tag) {\n  let _ctx = this || {};\n  return (...args) => {\n    const Styled = (props) => {\n      const theme = useContext(ThemeContext);\n      const withTheme = mergeProps(props, { theme });\n      const clone = mergeProps(withTheme, {\n        get class() {\n          const pClass = withTheme.class, append = \"class\" in withTheme && /^go[0-9]+/.test(pClass);\n          let className2 = u.apply(\n            { target: _ctx.target, o: append, p: withTheme, g: _ctx.g },\n            args\n          );\n          return [pClass, className2].filter(Boolean).join(\" \");\n        }\n      });\n      const [local, newProps] = splitProps(clone, [\"as\", \"theme\"]);\n      const htmlProps = newProps;\n      const createTag = local.as || tag;\n      let el;\n      if (typeof createTag === \"function\") {\n        el = createTag(htmlProps);\n      } else {\n        {\n          if (_ctx.g == 1) {\n            el = document.createElement(createTag);\n            spread(el, htmlProps);\n          } else {\n            el = Dynamic(mergeProps({ component: createTag }, htmlProps));\n          }\n        }\n      }\n      return el;\n    };\n    Styled.class = (props) => {\n      return untrack(() => {\n        return u.apply({ target: _ctx.target, p: props, g: _ctx.g }, args);\n      });\n    };\n    return Styled;\n  };\n}\nconst styled = new Proxy(makeStyled, {\n  get(target, tag) {\n    return target(tag);\n  }\n});\nfunction createGlobalStyles() {\n  const fn = makeStyled.call({ g: 1 }, \"div\").apply(null, arguments);\n  return function GlobalStyles2(props) {\n    fn(props);\n    return null;\n  };\n}\nconst globalStylesTag = \"okxc-root\";\nconst disableScrollClass = \"okxc-disable-scroll\";\nconst usingMouseClass = \"okxc-using-mouse\";\nconst GlobalStyles = () => {\n  document.body.addEventListener(\"mousedown\", () => document.body.classList.add(usingMouseClass));\n  document.body.addEventListener(\"keydown\", (event) => {\n    if (event.key === \"Tab\") {\n      document.body.classList.remove(usingMouseClass);\n    }\n  });\n  const Styles = createGlobalStyles`\n    ${globalStylesTag} * {\n        margin: 0;\n        padding: 0;\n        box-sizing: border-box;\n        \n        font-family: -apple-system, BlinkMacSystemFont, 'Roboto', 'Helvetica Neue', Arial, Tahoma, Verdana, sans-serif;\n        -webkit-font-smoothing: antialiased;\n        -moz-osx-font-smoothing: grayscale;        \n        -webkit-tap-highlight-color: transparent;\n    }\n    \n    ${globalStylesTag} img {\n      -webkit-user-select: none;\n      -webkit-touch-callout: none;\n    }   \n \n    ${globalStylesTag} *:focus {\n        outline: #08f auto 2px;\n    }\n    \n    ${globalStylesTag} li {\n        list-style: none;\n    }\n    \n    ${globalStylesTag} button {\n        outline: none;\n    }\n    \n    body.${disableScrollClass} {\n        position: fixed; \n        overflow-y: scroll;\n        right: 0;\n        left: 0;\n    }\n    \n    body.${usingMouseClass} ${globalStylesTag} *:focus {\n        outline: none;\n    }\n`;\n  return createComponent(Styles, {});\n};\nfunction hexToRgb(hex) {\n  if (hex[0] === \"#\") {\n    hex = hex.slice(1);\n  }\n  const bigint = parseInt(hex, 16);\n  const r = bigint >> 16 & 255;\n  const g = bigint >> 8 & 255;\n  const b = bigint & 255;\n  return [r, g, b].join(\",\");\n}\nfunction rgba(color, opacity) {\n  if (color[0] === \"#\") {\n    color = hexToRgb(color);\n  }\n  return `rgba(${color}, ${opacity})`;\n}\nfunction toPx(value) {\n  return value.toString() + \"px\";\n}\nconst _InMemoryStorage = class {\n  constructor() {\n    __publicField(this, \"storage\", {});\n  }\n  static getInstance() {\n    if (!_InMemoryStorage.instance) {\n      _InMemoryStorage.instance = new _InMemoryStorage();\n    }\n    return _InMemoryStorage.instance;\n  }\n  get length() {\n    return Object.keys(this.storage).length;\n  }\n  clear() {\n    this.storage = {};\n  }\n  getItem(key) {\n    var _a2;\n    return (_a2 = this.storage[key]) != null ? _a2 : null;\n  }\n  key(index) {\n    var _a2;\n    const keys = Object.keys(this.storage);\n    if (index < 0 || index >= keys.length) {\n      return null;\n    }\n    return (_a2 = keys[index]) != null ? _a2 : null;\n  }\n  removeItem(key) {\n    delete this.storage[key];\n  }\n  setItem(key, value) {\n    this.storage[key] = value;\n  }\n};\nlet InMemoryStorage = _InMemoryStorage;\n__publicField(InMemoryStorage, \"instance\");\nconst debug = false;\nfunction logDebug(...args) {\n  {\n    try {\n      if (debug || (window == null ? void 0 : window.okxLogDebug)) {\n        console.debug(\"[OKX_TON_CONNECT_UI]\", ...args);\n      }\n    } catch (e2) {\n    }\n  }\n}\nfunction logError(...args) {\n  {\n    try {\n      if (debug || (window == null ? void 0 : window.okxLogDebug)) {\n        console.error(\"[OKX_TON_CONNECT_UI]\", ...args);\n      }\n    } catch (e2) {\n    }\n  }\n}\nfunction logWarning(...args) {\n  {\n    try {\n      if (debug || (window == null ? void 0 : window.okxLogDebug)) {\n        console.warn(\"[OKX_TON_CONNECT_UI]\", ...args);\n      }\n    } catch (e2) {\n    }\n  }\n}\nfunction uniq(array) {\n  return [...new Set(array)];\n}\nlet initParams = {};\ntry {\n  let locationHash = location.hash.toString();\n  initParams = urlParseHashParams(locationHash);\n} catch (e2) {\n}\nlet tmaPlatform = \"unknown\";\nif (initParams == null ? void 0 : initParams.tgWebAppPlatform) {\n  tmaPlatform = (_a = initParams.tgWebAppPlatform) != null ? _a : \"unknown\";\n}\nif (tmaPlatform === \"unknown\") {\n  const window2 = getWindow$1();\n  tmaPlatform = (_d = (_c = (_b = window2 == null ? void 0 : window2.Telegram) == null ? void 0 : _b.WebApp) == null ? void 0 : _c.platform) != null ? _d : \"unknown\";\n}\nlet webAppVersion = \"6.0\";\nif (initParams == null ? void 0 : initParams.tgWebAppVersion) {\n  webAppVersion = initParams.tgWebAppVersion;\n}\nif (!webAppVersion) {\n  const window2 = getWindow$1();\n  webAppVersion = (_g = (_f = (_e = window2 == null ? void 0 : window2.Telegram) == null ? void 0 : _e.WebApp) == null ? void 0 : _f.version) != null ? _g : \"6.0\";\n}\nfunction isTmaPlatform(...platforms) {\n  return platforms.includes(tmaPlatform);\n}\nfunction isInTMA() {\n  var _a2;\n  return tmaPlatform !== \"unknown\" || !!((_a2 = getWindow$1()) == null ? void 0 : _a2.TelegramWebviewProxy);\n}\nfunction isInTelegramBrowser() {\n  var _a2;\n  const isTelegramWebview = !!((_a2 = getWindow$1()) == null ? void 0 : _a2.TelegramWebview);\n  return (isInTMA() || isTelegramWebview) && tmaPlatform === \"unknown\";\n}\nfunction sendExpand() {\n  postEvent(\"web_app_expand\", {});\n}\nfunction isIframe() {\n  try {\n    const window2 = getWindow$1();\n    if (!window2) {\n      return false;\n    }\n    return window2.parent != null && window2 !== window2.parent;\n  } catch (e2) {\n    return false;\n  }\n}\nfunction postEvent(eventType, eventData) {\n  try {\n    const window2 = getWindow$1();\n    if (!window2) {\n      throw new OKXConnectUiError(`Can't post event to parent window: window is not defined`);\n    }\n    if (window2.TelegramWebviewProxy !== void 0) {\n      logDebug(\"postEvent\", eventType, eventData);\n      window2.TelegramWebviewProxy.postEvent(eventType, JSON.stringify(eventData));\n    } else if (window2.external && \"notify\" in window2.external) {\n      logDebug(\"postEvent\", eventType, eventData);\n      window2.external.notify(JSON.stringify({ eventType, eventData }));\n    } else if (isIframe()) {\n      const trustedTarget = \"*\";\n      const message = JSON.stringify({ eventType, eventData });\n      logDebug(\"postEvent\", eventType, eventData);\n      window2.parent.postMessage(message, trustedTarget);\n    } else {\n      throw new OKXConnectUiError(`Can't post event to TMA`);\n    }\n  } catch (e2) {\n    logError(`Can't post event to parent window: ${e2}`);\n  }\n}\nfunction urlParseHashParams(locationHash) {\n  locationHash = locationHash.replace(/^#/, \"\");\n  let params = {};\n  if (!locationHash.length) {\n    return params;\n  }\n  if (locationHash.indexOf(\"=\") < 0 && locationHash.indexOf(\"?\") < 0) {\n    params._path = urlSafeDecode(locationHash);\n    return params;\n  }\n  let qIndex = locationHash.indexOf(\"?\");\n  if (qIndex >= 0) {\n    let pathParam = locationHash.substr(0, qIndex);\n    params._path = urlSafeDecode(pathParam);\n    locationHash = locationHash.substr(qIndex + 1);\n  }\n  let query_params = urlParseQueryString(locationHash);\n  for (let k in query_params) {\n    params[k] = query_params[k];\n  }\n  return params;\n}\nfunction urlSafeDecode(urlencoded) {\n  try {\n    urlencoded = urlencoded.replace(/\\+/g, \"%20\");\n    return decodeURIComponent(urlencoded);\n  } catch (e2) {\n    return urlencoded;\n  }\n}\nfunction urlParseQueryString(queryString) {\n  let params = {};\n  if (!queryString.length) {\n    return params;\n  }\n  let queryStringParams = queryString.split(\"&\");\n  let i2, param, paramName, paramValue;\n  for (i2 = 0; i2 < queryStringParams.length; i2++) {\n    param = queryStringParams[i2].split(\"=\");\n    paramName = urlSafeDecode(param[0]);\n    paramValue = param[1] == null ? null : urlSafeDecode(param[1]);\n    params[paramName] = paramValue;\n  }\n  return params;\n}\nconst maxWidth = {\n  mobile: 440,\n  tablet: 1020\n};\nfunction isDevice(device) {\n  var _a2;\n  const window2 = getWindow$1();\n  if (!window2) {\n    return device === \"desktop\";\n  }\n  if (isTmaPlatform(\"weba\")) {\n    return true;\n  }\n  const width = window2.innerWidth;\n  switch (device) {\n    case \"desktop\":\n      return width > maxWidth.tablet;\n    case \"tablet\":\n      return width > maxWidth.mobile;\n    default:\n    case \"mobile\":\n      let isMobile2 = width <= maxWidth.mobile || isOS(\"ios\", \"android\", \"ipad\");\n      if (isMobile2) {\n        const isTelegram = !!((_a2 = getWindow$1()) == null ? void 0 : _a2.TelegramWebviewProxy);\n        const maxTouchPoints = navigator.maxTouchPoints || 0;\n        if (isTelegram && maxTouchPoints === 0) {\n          isMobile2 = false;\n        }\n        core.logDebug(\"isDevice mobile isTelegram and maxTouchPoints:\", isMobile2, isTelegram, maxTouchPoints);\n      }\n      return isMobile2;\n  }\n}\nfunction media(device) {\n  switch (device) {\n    case \"mobile\":\n      return `@media (max-width: ${maxWidth.mobile}px)`;\n    case \"tablet\":\n      return `@media (max-width: ${maxWidth.tablet}px) (min-width: ${maxWidth.mobile}px)`;\n    default:\n    case \"desktop\":\n      return `@media (min-width: ${maxWidth.tablet}px)`;\n  }\n}\nconst mediaTouch = \"@media (hover: none)\";\nconst mediaNotTouch = \"@media not all and (hover: none)\";\nconst [isMobile, setIsMobile] = createSignal(isDevice(\"mobile\"));\nconst updateIsMobile = () => setIsMobile(isDevice(\"mobile\"));\nif (getWindow$1()) {\n  window.addEventListener(\"resize\", () => updateIsMobile());\n  window.addEventListener(\"load\", () => updateIsMobile(), { once: true });\n}\nfunction eqWalletName(wallet1, name) {\n  if (!name) {\n    return false;\n  }\n  return wallet1.name.toLowerCase() === name.toLowerCase() || wallet1.appName.toLowerCase() === name.toLowerCase();\n}\nfunction inTg() {\n  return isInTelegramBrowser() || isInTMA();\n}\nfunction showTonTgWallet() {\n  if (!inTg()) {\n    return false;\n  }\n  return true;\n}\nconst showTgNameSpace = [core.NameSpaceKeySui, core.NameSpaceKeySOL, core.NameSpaceKeyEip155, core.NameSpaceKeyTON, core.NameSpaceKeyBtc, core.NameSpaceKeyAptos];\nfunction showUniversalTgWalletByRequestNameSpaces(nameSpaces, optionalNameSpace) {\n  if (!inTg()) {\n    return false;\n  }\n  return EqnameSpace(nameSpaces) && EqnameSpace(optionalNameSpace);\n}\nfunction showUniversalTgWalletBySessionNameSpaces(sessionNameSpace) {\n  if (!inTg()) {\n    return false;\n  }\n  return EqnameSpace(sessionNameSpace);\n}\nfunction EqnameSpace(nameSpaceMap) {\n  try {\n    if (!nameSpaceMap)\n      return true;\n    const keys = Object.keys(nameSpaceMap);\n    return keys.every((element) => showTgNameSpace.includes(element));\n  } catch (e2) {\n    return false;\n  }\n}\nfunction defaultOpenUniversalLink(nameSpaces, optionalNameSpace) {\n  if (!showUniversalTgWalletByRequestNameSpaces(nameSpaces, optionalNameSpace)) {\n    return isMobile();\n  }\n  return false;\n}\nfunction defaultOpenTonUniversalLink() {\n  if (!showTonTgWallet()) {\n    return isMobile();\n  }\n  return false;\n}\nfunction isAppWallet(walletInfo) {\n  if (!walletInfo)\n    return false;\n  return walletInfo.name === core.creatOKXWalletInfo().name;\n}\nfunction openUniversalWallet(walletInfo, twaReturnUrl, sessionNameSpace) {\n  core.logDebug(\"wallets openUniversalWallet\");\n  if (showUniversalTgWalletBySessionNameSpaces(sessionNameSpace)) {\n    openWallet(walletInfo, twaReturnUrl);\n  }\n}\nfunction openTonWallet(walletInfo, twaReturnUrl) {\n  core.logDebug(\"wallets openTonWallet\");\n  if (showTonTgWallet()) {\n    openWallet(walletInfo, twaReturnUrl);\n  }\n}\nfunction openWallet(walletInfo, twaReturnUrl) {\n  core.logDebug(\"wallets openWallet\");\n  if (walletInfo) {\n    if (isAppWallet(walletInfo)) {\n      core.logDebug(`wallets openWallet openOKXDeeplinkWithFallback ${walletInfo.universalLink}`);\n      core.openOKXDeeplink(walletInfo.deepLink);\n    } else {\n      core.logDebug(`wallets openWallet openOKXTMAWalletlinkWithFallback ${walletInfo.universalLink}`);\n      core.openOKXTMAWalletlinkWithFallback(core.getTelegramWalletTWAUrl(void 0, twaReturnUrl, browserDebug()));\n    }\n  }\n}\nfunction browserDebug() {\n  return !(isInTelegramBrowser() || isInTMA());\n}\nfunction openWalletForUIRequest(walletInfo, openMethod) {\n  if (!isAppWallet(walletInfo)) {\n    return true;\n  }\n  return isMobile() && openMethod !== \"qrcode\";\n}\nfunction openLink(href, target = \"_self\") {\n  logDebug(\"web-api  openLink\", href, target);\n  window.open(href, target, \"noopener noreferrer\");\n}\nfunction openLinkBlank(href) {\n  openLink(href, \"_blank\");\n}\nfunction openDeeplinkWithFallback(href, fallback) {\n  logDebug(`web-api openDeeplinkWithFallback ${href}`);\n  const doFallback = () => {\n    if (isBrowser(\"safari\") || isOS(\"android\") && isBrowser(\"firefox\")) {\n      return;\n    }\n    fallback();\n  };\n  const fallbackTimeout = setTimeout(() => doFallback(), 3e3);\n  window.addEventListener(\"blur\", () => clearTimeout(fallbackTimeout), { once: true });\n  if (isOS(\"android\") && inTg()) {\n    openLink(href, \"_blank\");\n  } else {\n    openLink(href, \"_self\");\n  }\n}\nfunction getSystemTheme() {\n  if (window.matchMedia && window.matchMedia(\"(prefers-color-scheme: light)\").matches) {\n    return THEME.LIGHT;\n  }\n  return THEME.DARK;\n}\nfunction subscribeToThemeChange(callback) {\n  const handler = (event) => callback(event.matches ? THEME.DARK : THEME.LIGHT);\n  window.matchMedia(\"(prefers-color-scheme: dark)\").addEventListener(\"change\", handler);\n  return () => window.matchMedia(\"(prefers-color-scheme: dark)\").removeEventListener(\"change\", handler);\n}\nfunction disableScroll() {\n  if (document.documentElement.scrollHeight === document.documentElement.clientHeight) {\n    return;\n  }\n  document.body.style.top = toPx(-document.documentElement.scrollTop);\n  document.body.classList.add(disableScrollClass);\n}\nfunction enableScroll() {\n  document.body.classList.remove(disableScrollClass);\n  document.documentElement.scrollTo({ top: -parseFloat(getComputedStyle(document.body).top) });\n  document.body.style.top = \"auto\";\n}\nfunction fixMobileSafariActiveTransition() {\n  if (!document.body.hasAttribute(\"ontouchstart\")) {\n    document.body.setAttribute(\"ontouchstart\", \"\");\n  }\n}\nfunction defineStylesRoot() {\n  if (document.body.getElementsByTagName(globalStylesTag)) {\n    return;\n  }\n  customElements.define(\n    globalStylesTag,\n    class TcRootElement extends HTMLElement {\n    }\n  );\n}\nfunction createMacrotask(callback) {\n  return __async(this, null, function* () {\n    yield new Promise((resolve) => requestAnimationFrame(resolve));\n    callback();\n  });\n}\nfunction createMacrotaskAsync(callback) {\n  return __async(this, null, function* () {\n    yield new Promise((resolve) => requestAnimationFrame(resolve));\n    return callback();\n  });\n}\nfunction preloadImages(images) {\n  if (document.readyState !== \"complete\") {\n    window.addEventListener(\"load\", () => createMacrotask(() => preloadImages(images)), {\n      once: true\n    });\n  } else {\n    images.forEach((img) => {\n      const node = new window.Image();\n      node.src = img;\n    });\n  }\n}\nfunction getWindow$1() {\n  if (typeof window !== \"undefined\") {\n    return window;\n  }\n  return void 0;\n}\nfunction tryGetLocalStorage() {\n  if (isLocalStorageAvailable()) {\n    return localStorage;\n  }\n  if (isNodeJs()) {\n    throw new OKXConnectUiError(\n      \"`localStorage` is unavailable, but it is required for TonConnect\"\n    );\n  }\n  return InMemoryStorage.getInstance();\n}\nfunction isLocalStorageAvailable() {\n  try {\n    return typeof localStorage !== \"undefined\";\n  } catch (e2) {\n    return false;\n  }\n}\nfunction isNodeJs() {\n  return typeof process !== \"undefined\" && process.versions != null && process.versions.node != null;\n}\nfunction getUserAgent() {\n  var _a2, _b2, _c2;\n  const results = new UAParser__default.default().getResult();\n  const osName = (_a2 = results.os.name) == null ? void 0 : _a2.toLowerCase();\n  const deviceModel = (_b2 = results.device.model) == null ? void 0 : _b2.toLowerCase();\n  let os;\n  switch (true) {\n    case deviceModel === \"ipad\":\n      os = \"ipad\";\n      break;\n    case osName === \"ios\":\n      os = \"ios\";\n      break;\n    case osName === \"android\":\n      os = \"android\";\n      break;\n    case osName === \"mac os\":\n      os = \"macos\";\n      break;\n    case osName === \"linux\":\n      os = \"linux\";\n      break;\n    case (osName == null ? void 0 : osName.includes(\"windows\")):\n      os = \"windows\";\n      break;\n  }\n  const browserName = (_c2 = results.browser.name) == null ? void 0 : _c2.toLowerCase();\n  let browser;\n  switch (true) {\n    case browserName === \"chrome\":\n      browser = \"chrome\";\n      break;\n    case browserName === \"firefox\":\n      browser = \"firefox\";\n      break;\n    case (browserName == null ? void 0 : browserName.includes(\"safari\")):\n      browser = \"safari\";\n      break;\n    case (browserName == null ? void 0 : browserName.includes(\"opera\")):\n      browser = \"opera\";\n      break;\n  }\n  return {\n    os,\n    browser\n  };\n}\nfunction isOS(...os) {\n  return os.includes(getUserAgent().os);\n}\nfunction isBrowser(...browser) {\n  return browser.includes(getUserAgent().browser);\n}\nfunction toDeeplink(universalLink, deeplink) {\n  const url = new URL(universalLink);\n  return deeplink + url.search;\n}\nclass WalletInfoStorage {\n  constructor(storageKey) {\n    __publicField(this, \"localStorage\");\n    __publicField(this, \"storageKey\", \"okx-wallet-connect-ui_wallet-info\");\n    this.localStorage = tryGetLocalStorage();\n    this.storageKey = storageKey;\n  }\n  setWalletInfo(walletInfo) {\n    this.localStorage.setItem(this.storageKey, JSON.stringify(walletInfo));\n  }\n  getWalletInfo() {\n    const walletInfoString = this.localStorage.getItem(this.storageKey);\n    if (!walletInfoString) {\n      return null;\n    }\n    return JSON.parse(walletInfoString);\n  }\n  removeWalletInfo() {\n    this.localStorage.removeItem(this.storageKey);\n  }\n}\nclass LastSelectedWalletInfoStorage {\n  constructor() {\n    __publicField(this, \"localStorage\");\n    __publicField(this, \"storageKey\", \"okx_wallet_connect_ui_last-selected-wallet-info\");\n    this.localStorage = tryGetLocalStorage();\n  }\n  setLastSelectedWalletInfo(walletInfo) {\n    this.localStorage.setItem(this.storageKey, JSON.stringify(walletInfo));\n  }\n  getLastSelectedWalletInfo() {\n    const walletInfoString = this.localStorage.getItem(this.storageKey);\n    if (!walletInfoString) {\n      return null;\n    }\n    return JSON.parse(walletInfoString);\n  }\n  removeLastSelectedWalletInfo() {\n    this.localStorage.removeItem(this.storageKey);\n  }\n}\nconst [tonWalletsModalState, setTonWalletsModalState] = createSignal({\n  status: \"closed\",\n  closeReason: null\n});\ncreateMemo(() => tonWalletsModalState().status === \"opened\");\nconst [tonSingleWalletModalState, setTonSingleWalletModalState] = createSignal({\n  status: \"closed\",\n  closeReason: null\n});\nconst getTonSingleWalletModalIsOpened = createMemo(\n  () => tonSingleWalletModalState().status === \"opened\"\n);\nconst getTonSingleWalletModalWalletInfo = createMemo(() => {\n  const state = tonSingleWalletModalState();\n  if (state.status === \"opened\") {\n    return state.walletInfo;\n  }\n  return null;\n});\nlet lastSelectedWalletInfoStorage$1 = typeof window !== \"undefined\" ? new LastSelectedWalletInfoStorage() : void 0;\nconst [lastTonSelectedWalletInfo, _setLastTonSelectedWalletInfo] = createSignal((lastSelectedWalletInfoStorage$1 == null ? void 0 : lastSelectedWalletInfoStorage$1.getLastSelectedWalletInfo()) || null);\nconst setLastTonSelectedWalletInfo = (walletInfo) => {\n  if (!lastSelectedWalletInfoStorage$1) {\n    lastSelectedWalletInfoStorage$1 = new LastSelectedWalletInfoStorage();\n  }\n  if (walletInfo) {\n    logDebug(`modals-state.ts: setLastSelectedWalletInfo ${JSON.stringify(walletInfo)}`);\n    lastSelectedWalletInfoStorage$1.setLastSelectedWalletInfo(walletInfo);\n  } else {\n    logDebug(\"modals-state.ts: setLastSelectedWalletInfo    removeLastSelectedWalletInfo\");\n    lastSelectedWalletInfoStorage$1.removeLastSelectedWalletInfo();\n  }\n  _setLastTonSelectedWalletInfo(walletInfo);\n};\nconst [tonAction, setTonAction] = createSignal(null);\nconst ImagePlaceholder = styled.div`\n    background-color: ${(props) => props.theme.colors.background.secondary};\n`;\nconst Image = (props) => {\n  let imgRef;\n  const [image, setImage] = createSignal(null);\n  createEffect(() => {\n    const img = new window.Image();\n    img.src = props.src;\n    img.alt = props.alt || \"\";\n    img.setAttribute(\"draggable\", \"false\");\n    if (props.class) {\n      img.classList.add(props.class);\n    }\n    if (img.complete) {\n      return setImage(img);\n    }\n    img.addEventListener(\"load\", () => setImage(img));\n    return () => img.removeEventListener(\"load\", () => setImage(img));\n  });\n  return [createComponent(Show, {\n    get when() {\n      return image();\n    },\n    get children() {\n      return image();\n    }\n  }), createComponent(Show, {\n    get when() {\n      return !image();\n    },\n    get children() {\n      return createComponent(ImagePlaceholder, {\n        get [\"class\"]() {\n          return props.class;\n        },\n        ref(r$) {\n          var _ref$ = imgRef;\n          typeof _ref$ === \"function\" ? _ref$(r$) : imgRef = r$;\n        }\n      });\n    }\n  })];\n};\nconst borders$2 = {\n  m: \"100vh\",\n  s: \"8px\",\n  none: \"0\"\n};\nconst scaleValues = {\n  s: 0.02,\n  m: 0.04\n};\nconst ButtonStyled$1 = styled.button`\n    display: ${(props) => props.leftIcon || props.rightIcon ? \"flex\" : \"inline-block\"};\n    gap: ${(props) => props.leftIcon || props.rightIcon ? \"6px\" : \"unset\"};\n    align-items: ${(props) => props.leftIcon || props.rightIcon ? \"center\" : \"unset\"};\n    justify-content: ${(props) => props.leftIcon || props.rightIcon ? \"space-between\" : \"unset\"};\n    background-color: ${(props) => props.appearance === \"flat\" ? \"transparent\" : props.appearance === \"secondary\" ? props.theme.colors.background.tint : rgba(props.theme.colors.accent, 0.12)};\n    color: ${(props) => props.appearance === \"secondary\" ? props.theme.colors.text.primary : props.theme.colors.accent};\n\n    padding: ${(props) => props.appearance === \"flat\" ? \"0\" : \"9px 16px\"};\n    padding-left: ${(props) => props.leftIcon && props.appearance !== \"flat\" ? \"12px\" : \"16px\"};\n    padding-right: ${(props) => props.rightIcon && props.appearance !== \"flat\" ? \"12px\" : \"16px\"};\n    border: none;\n    border-radius: ${(props) => borders$2[props.theme.borderRadius]};\n    cursor: ${(props) => props.disabled ? \"not-allowed\" : \"pointer\"};\n\n    font-size: 14px;\n    font-weight: 510;\n    line-height: 18px;\n\n    transition: transform 0.125s ease-in-out;\n\n    ${mediaNotTouch} {\n        &:hover {\n            transform: ${(props) => props.disabled ? \"unset\" : `scale(${1 + scaleValues[props.scale]})`};\n        }\n    }\n\n    &:active {\n        transform: ${(props) => props.disabled ? \"unset\" : `scale(${1 - scaleValues[props.scale]})`};\n    }\n\n    ${mediaTouch} {\n        &:active {\n            transform: ${(props) => props.disabled ? \"unset\" : `scale(${1 - scaleValues[props.scale] * 2})`};\n        }\n    }\n`;\nfunction useDataAttributes(props) {\n  const keys = untrack(() => Object.keys(props).filter((key) => key.startsWith(\"data-\")));\n  const [dataAttrs] = splitProps(props, keys);\n  return dataAttrs;\n}\nconst Button = (props) => {\n  const dataAttrs = useDataAttributes(props);\n  return createComponent(ButtonStyled$1, mergeProps({\n    get appearance() {\n      return props.appearance || \"primary\";\n    },\n    get [\"class\"]() {\n      return props.class;\n    },\n    onClick: (e2) => {\n      var _a2;\n      return (_a2 = props.onClick) == null ? void 0 : _a2.call(props, e2);\n    },\n    onMouseEnter: (e2) => {\n      var _a2;\n      return (_a2 = props.onMouseEnter) == null ? void 0 : _a2.call(props, e2);\n    },\n    onMouseLeave: (e2) => {\n      var _a2;\n      return (_a2 = props.onMouseLeave) == null ? void 0 : _a2.call(props, e2);\n    },\n    ref(r$) {\n      var _ref$ = props.ref;\n      typeof _ref$ === \"function\" ? _ref$(r$) : props.ref = r$;\n    },\n    get disabled() {\n      return props.disabled;\n    },\n    get scale() {\n      return props.scale || \"m\";\n    },\n    get leftIcon() {\n      return !!props.leftIcon;\n    },\n    get rightIcon() {\n      return !!props.rightIcon;\n    },\n    \"data-tc-button\": \"true\"\n  }, dataAttrs, {\n    get children() {\n      return [createMemo(() => props.leftIcon), createMemo(() => props.children), createMemo(() => props.rightIcon)];\n    }\n  }));\n};\nfunction nextFrame(fn) {\n  requestAnimationFrame(() => {\n    requestAnimationFrame(fn);\n  });\n}\nconst Transition = (props) => {\n  let el;\n  let first = true;\n  const [s1, set1] = createSignal();\n  const [s2, set2] = createSignal();\n  const resolved = children(() => props.children);\n  const {\n    onBeforeEnter,\n    onEnter,\n    onAfterEnter,\n    onBeforeExit,\n    onExit,\n    onAfterExit\n  } = props;\n  const classnames = createMemo(() => {\n    const name = props.name || \"s\";\n    return {\n      enterActiveClass: props.enterActiveClass || name + \"-enter-active\",\n      enterClass: props.enterClass || name + \"-enter\",\n      enterToClass: props.enterToClass || name + \"-enter-to\",\n      exitActiveClass: props.exitActiveClass || name + \"-exit-active\",\n      exitClass: props.exitClass || name + \"-exit\",\n      exitToClass: props.exitToClass || name + \"-exit-to\"\n    };\n  });\n  function enterTransition(el2, prev) {\n    if (!first || props.appear) {\n      let endTransition = function(e2) {\n        if (el2 && (!e2 || e2.target === el2)) {\n          el2.removeEventListener(\"transitionend\", endTransition);\n          el2.removeEventListener(\"animationend\", endTransition);\n          el2.classList.remove(...enterActiveClasses);\n          el2.classList.remove(...enterToClasses);\n          batch(() => {\n            s1() !== el2 && set1(el2);\n            s2() === el2 && set2(void 0);\n          });\n          onAfterEnter && onAfterEnter(el2);\n          if (props.mode === \"inout\")\n            exitTransition(el2, prev);\n        }\n      };\n      const enterClasses = classnames().enterClass.split(\" \");\n      const enterActiveClasses = classnames().enterActiveClass.split(\" \");\n      const enterToClasses = classnames().enterToClass.split(\" \");\n      onBeforeEnter && onBeforeEnter(el2);\n      el2.classList.add(...enterClasses);\n      el2.classList.add(...enterActiveClasses);\n      nextFrame(() => {\n        el2.classList.remove(...enterClasses);\n        el2.classList.add(...enterToClasses);\n        onEnter && onEnter(el2, () => endTransition());\n        if (!onEnter || onEnter.length < 2) {\n          el2.addEventListener(\"transitionend\", endTransition);\n          el2.addEventListener(\"animationend\", endTransition);\n        }\n      });\n    }\n    prev && !props.mode ? set2(el2) : set1(el2);\n  }\n  function exitTransition(el2, prev) {\n    const exitClasses = classnames().exitClass.split(\" \");\n    const exitActiveClasses = classnames().exitActiveClass.split(\" \");\n    const exitToClasses = classnames().exitToClass.split(\" \");\n    if (!prev.parentNode)\n      return endTransition();\n    onBeforeExit && onBeforeExit(prev);\n    prev.classList.add(...exitClasses);\n    prev.classList.add(...exitActiveClasses);\n    nextFrame(() => {\n      prev.classList.remove(...exitClasses);\n      prev.classList.add(...exitToClasses);\n    });\n    onExit && onExit(prev, () => endTransition());\n    if (!onExit || onExit.length < 2) {\n      prev.addEventListener(\"transitionend\", endTransition);\n      prev.addEventListener(\"animationend\", endTransition);\n    }\n    function endTransition(e2) {\n      if (!e2 || e2.target === prev) {\n        prev.removeEventListener(\"transitionend\", endTransition);\n        prev.removeEventListener(\"animationend\", endTransition);\n        prev.classList.remove(...exitActiveClasses);\n        prev.classList.remove(...exitToClasses);\n        s1() === prev && set1(void 0);\n        onAfterExit && onAfterExit(prev);\n        if (props.mode === \"outin\")\n          enterTransition(el2, prev);\n      }\n    }\n  }\n  createComputed((prev) => {\n    el = resolved();\n    while (typeof el === \"function\")\n      el = el();\n    return untrack(() => {\n      if (el && el !== prev) {\n        if (props.mode !== \"outin\")\n          enterTransition(el, prev);\n        else if (first)\n          set1(el);\n      }\n      if (prev && prev !== el && props.mode !== \"inout\")\n        exitTransition(el, prev);\n      first = false;\n      return el;\n    });\n  });\n  return [s1, s2];\n};\nfunction clickOutside$1(el, accessor) {\n  const onClick = (e2) => {\n    var _a2;\n    return !el.contains(e2.target) && ((_a2 = accessor()) == null ? void 0 : _a2());\n  };\n  document.body.addEventListener(\"click\", onClick);\n  onCleanup(() => document.body.removeEventListener(\"click\", onClick));\n}\nfunction escPressed(_, accessor) {\n  const onKeyPress = (e2) => {\n    var _a2, _b2;\n    if (e2.key === \"Escape\") {\n      (_a2 = document.activeElement) == null ? void 0 : _a2.blur();\n      (_b2 = accessor()) == null ? void 0 : _b2();\n    }\n  };\n  document.body.addEventListener(\"keydown\", onKeyPress);\n  onCleanup(() => document.body.removeEventListener(\"keydown\", onKeyPress));\n}\nfunction androidBackHandler$1(_, config) {\n  const {\n    isEnabled,\n    onClose\n  } = config();\n  if (!isEnabled) {\n    return;\n  }\n  const userOSIsAndroid = getUserAgent().os === \"android\";\n  if (!userOSIsAndroid) {\n    return;\n  }\n  window.history.pushState(ROUTE_STATE, \"\");\n  const popstateHandler = (event) => {\n    event.preventDefault();\n    onClose();\n  };\n  window.addEventListener(\"popstate\", popstateHandler, {\n    once: true\n  });\n  onCleanup(() => {\n    window.removeEventListener(\"popstate\", popstateHandler);\n    createMacrotask(() => {\n      var _a2;\n      if (((_a2 = window.history.state) == null ? void 0 : _a2[ROUTE_STATE_KEY]) === true) {\n        window.history.back();\n      }\n    });\n  });\n}\nconst ROUTE_STATE_KEY = \"androidBackHandler\";\nconst ROUTE_STATE = {\n  [ROUTE_STATE_KEY]: true\n};\nvar _tmpl$$g = /* @__PURE__ */ template$1(`<svg><path fill-rule=evenodd clip-rule=evenodd d=\"M10.2122 14.3407C10.5384 14.0854 10.5959 13.614 10.3406 13.2878L6.20237 8.00003L10.3406 2.71227C10.5959 2.38607 10.5384 1.91469 10.2122 1.6594C9.88604 1.40412 9.41465 1.46161 9.15937 1.7878L4.65937 7.5378C4.44688 7.80932 4.44688 8.19074 4.65937 8.46226L9.15937 14.2123C9.41465 14.5385 9.88604 14.5959 10.2122 14.3407Z\"></svg>`, false, true);\nconst rotationDegrees = {\n  left: 0,\n  top: 90,\n  right: 180,\n  bottom: 270\n};\nconst ArrowIcon = (props) => {\n  const theme = useTheme();\n  const fill = () => props.fill || theme.colors.icon.secondary;\n  const direction = () => props.direction || \"left\";\n  const Svg = styled(\"svg\")`\n        transform: rotate(${(props2) => rotationDegrees[props2.svgDirection]}deg);\n        transition: transform 0.1s ease-in-out;\n    `;\n  return createComponent(Svg, {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: \"16\",\n    height: \"16\",\n    viewBox: \"0 0 16 16\",\n    fill: \"none\",\n    get svgDirection() {\n      return direction();\n    },\n    get children() {\n      var _el$ = _tmpl$$g();\n      createRenderEffect(() => setAttribute(_el$, \"fill\", fill()));\n      return _el$;\n    }\n  });\n};\nvar _tmpl$$f = /* @__PURE__ */ template$1(`<svg xmlns=http://www.w3.org/2000/svg width=24 height=24 viewBox=\"0 0 24 24\"fill=none><path fill-rule=evenodd clip-rule=evenodd d=\"M18.5303 6.53033C18.8232 6.23744 18.8232 5.76256 18.5303 5.46967C18.2374 5.17678 17.7626 5.17678 17.4697 5.46967L12 10.9393L6.53033 5.46967C6.23744 5.17678 5.76256 5.17678 5.46967 5.46967C5.17678 5.76256 5.17678 6.23744 5.46967 6.53033L10.9393 12L5.46967 17.4697C5.17678 17.7626 5.17678 18.2374 5.46967 18.5303C5.76256 18.8232 6.23744 18.8232 6.53033 18.5303L12 13.0607L17.4697 18.5303C17.7626 18.8232 18.2374 18.8232 18.5303 18.5303C18.8232 18.2374 18.8232 17.7626 18.5303 17.4697L13.0607 12L18.5303 6.53033Z\">`);\nconst CloseIcon = (props) => {\n  const theme = useTheme();\n  logDebug(`CloseIcon  ${theme}`);\n  const fill = () => props.fill || theme.colors.icon.secondary;\n  return (() => {\n    var _el$ = _tmpl$$f(), _el$2 = _el$.firstChild;\n    createRenderEffect(() => setAttribute(_el$2, \"fill\", fill()));\n    return _el$;\n  })();\n};\nvar _tmpl$$e = /* @__PURE__ */ template$1(`<svg width=24 height=24 viewBox=\"0 0 24 24\"fill=none xmlns=http://www.w3.org/2000/svg><path fill-rule=evenodd clip-rule=evenodd d=\"M14.1839 17.7069C13.6405 18.6507 13.3688 19.1226 13.0591 19.348C12.4278 19.8074 11.5723 19.8074 10.941 19.348C10.6312 19.1226 10.3595 18.6507 9.81613 17.7069L5.52066 10.2464C4.76864 8.94024 4.39263 8.28717 4.33762 7.75894C4.2255 6.68236 4.81894 5.65591 5.80788 5.21589C6.29309 5 7.04667 5 8.55383 5H15.4462C16.9534 5 17.7069 5 18.1922 5.21589C19.1811 5.65591 19.7745 6.68236 19.6624 7.75894C19.6074 8.28717 19.2314 8.94024 18.4794 10.2464L14.1839 17.7069ZM11.1 16.3412L6.56139 8.48002C6.31995 8.06185 6.19924 7.85276 6.18146 7.68365C6.14523 7.33896 6.33507 7.01015 6.65169 6.86919C6.80703 6.80002 7.04847 6.80002 7.53133 6.80002H7.53134L11.1 6.80002V16.3412ZM12.9 16.3412L17.4387 8.48002C17.6801 8.06185 17.8008 7.85276 17.8186 7.68365C17.8548 7.33896 17.665 7.01015 17.3484 6.86919C17.193 6.80002 16.9516 6.80002 16.4687 6.80002L12.9 6.80002V16.3412Z\">`);\nconst TonIcon = (props) => {\n  const theme = useTheme();\n  const fill = () => props.fill || theme.colors.icon.primary;\n  return (() => {\n    var _el$ = _tmpl$$e(), _el$2 = _el$.firstChild;\n    createRenderEffect(() => setAttribute(_el$2, \"fill\", fill()));\n    return _el$;\n  })();\n};\nvar _tmpl$$d = /* @__PURE__ */ template$1(`<svg xmlns=http://www.w3.org/2000/svg width=16 height=16 viewBox=\"0 0 16 16\"fill=none><g clip-path=url(#clip0_3783_2045)><circle cx=8 cy=8.00098 r=8></circle><path d=\"M4.75 8.50098L7 10.751L11.75 6.00098\"stroke-width=1.5 stroke-linecap=round stroke-linejoin=round></path></g><defs><clipPath id=clip0_3783_2045><rect width=16 height=16 fill=white transform=\"translate(0 0.000976562)\">`), _tmpl$2$3 = /* @__PURE__ */ template$1(`<svg width=24 height=24 viewBox=\"0 0 24 24\"fill=none xmlns=http://www.w3.org/2000/svg><circle cx=12 cy=12 r=11></circle><path d=\"M17.1364 9.6364C17.4879 9.28493 17.4879 8.71508 17.1364 8.36361C16.7849 8.01214 16.2151 8.01214 15.8636 8.36361L10 14.2272L8.1364 12.3636C7.78493 12.0121 7.21508 12.0121 6.86361 12.3636C6.51214 12.7151 6.51214 13.2849 6.86361 13.6364L9.36361 16.1364C9.71508 16.4879 10.2849 16.4879 10.6364 16.1364L17.1364 9.6364Z\">`), _tmpl$3$2 = /* @__PURE__ */ template$1(`<svg width=72 height=72 viewBox=\"0 0 72 72\"fill=none xmlns=http://www.w3.org/2000/svg><circle cx=36 cy=36 r=33></circle><path d=\"M50.9142 28.4142C51.6953 27.6332 51.6953 26.3668 50.9142 25.5858C50.1332 24.8047 48.8668 24.8047 48.0858 25.5858L30 43.6716L23.9142 37.5858C23.1332 36.8047 21.8668 36.8047 21.0858 37.5858C20.3047 38.3668 20.3047 39.6332 21.0858 40.4142L28.5858 47.9142C29.3668 48.6953 30.6332 48.6953 31.4142 47.9142L50.9142 28.4142Z\">`);\nconst SuccessIcon = (props) => {\n  const theme = useTheme();\n  const size2 = () => props.size || \"s\";\n  const fill = () => props.fill || theme.colors.icon.success;\n  return createMemo(() => createMemo(() => size2() === \"xs\")() ? (() => {\n    var _el$ = _tmpl$$d(), _el$2 = _el$.firstChild, _el$3 = _el$2.firstChild, _el$4 = _el$3.nextSibling;\n    createRenderEffect((_p$) => {\n      var _v$ = props.class, _v$2 = fill(), _v$3 = theme.colors.constant.white;\n      _v$ !== _p$.e && setAttribute(_el$, \"class\", _p$.e = _v$);\n      _v$2 !== _p$.t && setAttribute(_el$3, \"fill\", _p$.t = _v$2);\n      _v$3 !== _p$.a && setAttribute(_el$4, \"stroke\", _p$.a = _v$3);\n      return _p$;\n    }, {\n      e: void 0,\n      t: void 0,\n      a: void 0\n    });\n    return _el$;\n  })() : createMemo(() => size2() === \"s\")() ? (() => {\n    var _el$5 = _tmpl$2$3(), _el$6 = _el$5.firstChild, _el$7 = _el$6.nextSibling;\n    createRenderEffect((_p$) => {\n      var _v$4 = props.class, _v$5 = fill(), _v$6 = theme.colors.constant.white;\n      _v$4 !== _p$.e && setAttribute(_el$5, \"class\", _p$.e = _v$4);\n      _v$5 !== _p$.t && setAttribute(_el$6, \"fill\", _p$.t = _v$5);\n      _v$6 !== _p$.a && setAttribute(_el$7, \"fill\", _p$.a = _v$6);\n      return _p$;\n    }, {\n      e: void 0,\n      t: void 0,\n      a: void 0\n    });\n    return _el$5;\n  })() : (() => {\n    var _el$8 = _tmpl$3$2(), _el$9 = _el$8.firstChild, _el$10 = _el$9.nextSibling;\n    createRenderEffect((_p$) => {\n      var _v$7 = props.class, _v$8 = fill(), _v$9 = theme.colors.constant.white;\n      _v$7 !== _p$.e && setAttribute(_el$8, \"class\", _p$.e = _v$7);\n      _v$8 !== _p$.t && setAttribute(_el$9, \"fill\", _p$.t = _v$8);\n      _v$9 !== _p$.a && setAttribute(_el$10, \"fill\", _p$.a = _v$9);\n      return _p$;\n    }, {\n      e: void 0,\n      t: void 0,\n      a: void 0\n    });\n    return _el$8;\n  })());\n};\nvar _tmpl$$c = /* @__PURE__ */ template$1(`<svg xmlns=http://www.w3.org/2000/svg width=103 height=102 viewBox=\"0 0 103 102\"fill=none><path fill-rule=evenodd clip-rule=evenodd d=\"M51.5 14.8747C31.5487 14.8747 15.375 31.0485 15.375 50.9997C15.375 70.951 31.5487 87.1247 51.5 87.1247C71.4513 87.1247 87.625 70.951 87.625 50.9997C87.625 31.0485 71.4513 14.8747 51.5 14.8747ZM9 50.9997C9 27.5276 28.0279 8.49974 51.5 8.49974C74.9721 8.49974 94 27.5276 94 50.9997C94 74.4718 74.9721 93.4997 51.5 93.4997C28.0279 93.4997 9 74.4718 9 50.9997ZM65.0234 37.4765C66.2682 38.7213 66.2682 40.7395 65.0234 41.9843L56.0078 50.9999L65.0234 60.0155C66.2682 61.2603 66.2682 63.2785 65.0234 64.5233C63.7786 65.7681 61.7604 65.7681 60.5156 64.5233L51.5 55.5077L42.4844 64.5233C41.2396 65.7681 39.2214 65.7681 37.9766 64.5233C36.7318 63.2785 36.7318 61.2603 37.9766 60.0155L46.9922 50.9999L37.9766 41.9843C36.7318 40.7395 36.7318 38.7213 37.9766 37.4765C39.2214 36.2317 41.2396 36.2317 42.4844 37.4765L51.5 46.4921L60.5156 37.4765C61.7604 36.2317 63.7787 36.2317 65.0234 37.4765Z\"fill=#909090>`), _tmpl$2$2 = /* @__PURE__ */ template$1(`<svg xmlns=http://www.w3.org/2000/svg width=72 height=72 viewBox=\"0 0 103 102\"fill=none><path fill-rule=evenodd clip-rule=evenodd d=\"M51.5 14.8747C31.5487 14.8747 15.375 31.0485 15.375 50.9997C15.375 70.951 31.5487 87.1247 51.5 87.1247C71.4513 87.1247 87.625 70.951 87.625 50.9997C87.625 31.0485 71.4513 14.8747 51.5 14.8747ZM9 50.9997C9 27.5276 28.0279 8.49974 51.5 8.49974C74.9721 8.49974 94 27.5276 94 50.9997C94 74.4718 74.9721 93.4997 51.5 93.4997C28.0279 93.4997 9 74.4718 9 50.9997ZM65.0234 37.4765C66.2682 38.7213 66.2682 40.7395 65.0234 41.9843L56.0078 50.9999L65.0234 60.0155C66.2682 61.2603 66.2682 63.2785 65.0234 64.5233C63.7786 65.7681 61.7604 65.7681 60.5156 64.5233L51.5 55.5077L42.4844 64.5233C41.2396 65.7681 39.2214 65.7681 37.9766 64.5233C36.7318 63.2785 36.7318 61.2603 37.9766 60.0155L46.9922 50.9999L37.9766 41.9843C36.7318 40.7395 36.7318 38.7213 37.9766 37.4765C39.2214 36.2317 41.2396 36.2317 42.4844 37.4765L51.5 46.4921L60.5156 37.4765C61.7604 36.2317 63.7787 36.2317 65.0234 37.4765Z\"fill=#909090>`), _tmpl$3$1 = /* @__PURE__ */ template$1(`<svg xmlns=http://www.w3.org/2000/svg width=24 height=24 viewBox=\"0 0 103 102\"fill=none><path fill-rule=evenodd clip-rule=evenodd d=\"M51.5 14.8747C31.5487 14.8747 15.375 31.0485 15.375 50.9997C15.375 70.951 31.5487 87.1247 51.5 87.1247C71.4513 87.1247 87.625 70.951 87.625 50.9997C87.625 31.0485 71.4513 14.8747 51.5 14.8747ZM9 50.9997C9 27.5276 28.0279 8.49974 51.5 8.49974C74.9721 8.49974 94 27.5276 94 50.9997C94 74.4718 74.9721 93.4997 51.5 93.4997C28.0279 93.4997 9 74.4718 9 50.9997ZM65.0234 37.4765C66.2682 38.7213 66.2682 40.7395 65.0234 41.9843L56.0078 50.9999L65.0234 60.0155C66.2682 61.2603 66.2682 63.2785 65.0234 64.5233C63.7786 65.7681 61.7604 65.7681 60.5156 64.5233L51.5 55.5077L42.4844 64.5233C41.2396 65.7681 39.2214 65.7681 37.9766 64.5233C36.7318 63.2785 36.7318 61.2603 37.9766 60.0155L46.9922 50.9999L37.9766 41.9843C36.7318 40.7395 36.7318 38.7213 37.9766 37.4765C39.2214 36.2317 41.2396 36.2317 42.4844 37.4765L51.5 46.4921L60.5156 37.4765C61.7604 36.2317 63.7787 36.2317 65.0234 37.4765Z\"fill=#909090>`);\nconst ErrorIcon = (props) => {\n  useTheme();\n  const size2 = () => props.size || \"m\";\n  return createMemo(() => createMemo(() => size2() === \"m\")() ? _tmpl$$c() : createMemo(() => size2() === \"s\")() ? _tmpl$2$2() : _tmpl$3$1());\n};\nvar _tmpl$$b = /* @__PURE__ */ template$1(`<svg width=24 height=24 viewBox=\"0 0 24 24\"fill=none xmlns=http://www.w3.org/2000/svg><path d=\"M15.55 5.85123C18.9459 7.81184 20.1094 12.1541 18.1488 15.55C16.1882 18.9459 11.8459 20.1094 8.44998 18.1488C8.01952 17.9003 7.46909 18.0478 7.22056 18.4782C6.97203 18.9087 7.11952 19.4591 7.54998 19.7076C11.8068 22.1653 17.2499 20.7068 19.7076 16.45C22.1653 12.1932 20.7068 6.75005 16.45 4.29239C12.1932 1.83472 6.75003 3.29321 4.29236 7.55001C4.04383 7.98047 4.19132 8.53091 4.62178 8.77943C5.05224 9.02796 5.60268 8.88048 5.8512 8.45001C7.81181 5.05413 12.1541 3.89062 15.55 5.85123Z\">`), _tmpl$2$1 = /* @__PURE__ */ template$1(`<svg xmlns=http://www.w3.org/2000/svg width=44 height=44 viewBox=\"0 0 44 44\"fill=none><path fill-rule=evenodd clip-rule=evenodd d=\"M22 2.99951C11.5066 2.99951 3 11.5061 3 21.9995C3 32.4929 11.5066 40.9995 22 40.9995C22.8284 40.9995 23.5 41.6711 23.5 42.4995C23.5 43.3279 22.8284 43.9995 22 43.9995C9.84974 43.9995 0 34.1498 0 21.9995C0 9.84925 9.84974 -0.000488281 22 -0.000488281C34.1503 -0.000488281 44 9.84925 44 21.9995C44 22.8279 43.3284 23.4995 42.5 23.4995C41.6716 23.4995 41 22.8279 41 21.9995C41 11.5061 32.4934 2.99951 22 2.99951Z\">`), _tmpl$3 = /* @__PURE__ */ template$1(`<svg width=72 height=72 viewBox=\"0 0 72 72\"fill=none xmlns=http://www.w3.org/2000/svg><path d=\"M24 56.7846C35.479 63.412 50.1572 59.479 56.7846 47.9999C63.412 36.5209 59.479 21.8427 48 15.2153C36.521 8.58791 21.8428 12.5209 15.2154 23.9999\"stroke-width=4 stroke-linecap=round stroke-linejoin=round>`);\nconst LoaderIcon = (props) => {\n  const theme = useTheme();\n  const size2 = () => props.size || \"xs\";\n  const fill = () => props.fill || theme.colors.icon.tertiary;\n  const rotateAnimation = h`\n        0% {\n          transform: rotate(0deg);\n        }\n        100% {\n          transform: rotate(360deg);\n        }\n    `;\n  const svgClass = u`\n        animation: ${rotateAnimation} 1s linear infinite;\n    `;\n  return createMemo(() => createMemo(() => size2() === \"xs\")() ? (() => {\n    var _el$ = _tmpl$$b(), _el$2 = _el$.firstChild;\n    createRenderEffect((_p$) => {\n      var _v$ = cn__default.default(svgClass, props.class), _v$2 = fill();\n      _v$ !== _p$.e && setAttribute(_el$, \"class\", _p$.e = _v$);\n      _v$2 !== _p$.t && setAttribute(_el$2, \"fill\", _p$.t = _v$2);\n      return _p$;\n    }, {\n      e: void 0,\n      t: void 0\n    });\n    return _el$;\n  })() : createMemo(() => size2() === \"s\")() ? (() => {\n    var _el$3 = _tmpl$2$1(), _el$4 = _el$3.firstChild;\n    createRenderEffect((_p$) => {\n      var _v$3 = cn__default.default(svgClass, props.class), _v$4 = fill();\n      _v$3 !== _p$.e && setAttribute(_el$3, \"class\", _p$.e = _v$3);\n      _v$4 !== _p$.t && setAttribute(_el$4, \"fill\", _p$.t = _v$4);\n      return _p$;\n    }, {\n      e: void 0,\n      t: void 0\n    });\n    return _el$3;\n  })() : (() => {\n    var _el$5 = _tmpl$3(), _el$6 = _el$5.firstChild;\n    createRenderEffect((_p$) => {\n      var _v$5 = cn__default.default(svgClass, props.class), _v$6 = fill();\n      _v$5 !== _p$.e && setAttribute(_el$5, \"class\", _p$.e = _v$5);\n      _v$6 !== _p$.t && setAttribute(_el$6, \"stroke\", _p$.t = _v$6);\n      return _p$;\n    }, {\n      e: void 0,\n      t: void 0\n    });\n    return _el$5;\n  })());\n};\nvar _tmpl$$a = /* @__PURE__ */ template$1(`<svg xmlns=http://www.w3.org/2000/svg width=16 height=16 viewBox=\"0 0 16 16\"fill=none><path fill-rule=evenodd clip-rule=evenodd d=\"M5.56608 4.42584C5.82527 3.32158 6.8176 2.5 8.00001 2.5C9.38072 2.5 10.5 3.61929 10.5 5C10.5 5.63026 10.3391 6.0386 10.1264 6.34455C9.90018 6.66993 9.58561 6.92478 9.18864 7.20877C9.12579 7.25372 9.05873 7.30025 8.9887 7.34883C8.27392 7.84472 7.25001 8.55507 7.25001 10V10.25C7.25001 10.6642 7.5858 11 8.00001 11C8.41422 11 8.75001 10.6642 8.75001 10.25V10C8.75001 9.36502 9.10777 9.1096 9.94554 8.51149L10.0614 8.42873C10.4769 8.13147 10.9748 7.75194 11.358 7.20076C11.7547 6.63015 12 5.91973 12 5C12 2.79086 10.2091 1 8.00001 1C6.10564 1 4.5205 2.31615 4.10577 4.08308C4.01112 4.48634 4.26129 4.88997 4.66454 4.98462C5.0678 5.07927 5.47143 4.8291 5.56608 4.42584ZM8.00001 15C8.60752 15 9.10001 14.5075 9.10001 13.9C9.10001 13.2925 8.60752 12.8 8.00001 12.8C7.39249 12.8 6.90001 13.2925 6.90001 13.9C6.90001 14.5075 7.39249 15 8.00001 15Z\">`);\nconst QuestionIcon = (props) => {\n  const theme = useTheme();\n  const fill = () => props.fill || theme.colors.icon.secondary;\n  return (() => {\n    var _el$ = _tmpl$$a(), _el$2 = _el$.firstChild;\n    createRenderEffect(() => setAttribute(_el$2, \"fill\", fill()));\n    return _el$;\n  })();\n};\nvar _tmpl$$9 = /* @__PURE__ */ template$1(`<svg xmlns=http://www.w3.org/2000/svg width=16 height=16 viewBox=\"0 0 16 16\"fill=none><path fill-rule=evenodd clip-rule=evenodd d=\"M3.56176 1.87482C3.8379 1.87482 4.06176 2.09867 4.06176 2.37482V3.69674C5.09916 2.7469 6.48174 2.16666 7.99996 2.16666C11.2216 2.16666 13.8333 4.77834 13.8333 8C13.8333 11.2217 11.2216 13.8333 7.99996 13.8333C4.7783 13.8333 2.16663 11.2217 2.16663 8C2.16663 7.72385 2.39048 7.5 2.66663 7.5C2.94277 7.5 3.16663 7.72385 3.16663 8C3.16663 10.6694 5.33058 12.8333 7.99996 12.8333C10.6693 12.8333 12.8333 10.6694 12.8333 8C12.8333 5.33062 10.6693 3.16666 7.99996 3.16666C6.68645 3.16666 5.49513 3.69037 4.62354 4.54148H6.22843C6.50457 4.54148 6.72843 4.76534 6.72843 5.04148C6.72843 5.31763 6.50457 5.54148 6.22843 5.54148H3.56176C3.28562 5.54148 3.06176 5.31763 3.06176 5.04148V2.37482C3.06176 2.09867 3.28562 1.87482 3.56176 1.87482Z\">`);\nconst RetryIcon = (_) => {\n  const theme = useTheme();\n  return (() => {\n    var _el$ = _tmpl$$9(), _el$2 = _el$.firstChild;\n    createRenderEffect(() => setAttribute(_el$2, \"fill\", theme.colors.text.primary));\n    return _el$;\n  })();\n};\nvar _tmpl$$8 = /* @__PURE__ */ template$1(`<svg xmlns=http://www.w3.org/2000/svg width=16 height=17 viewBox=\"0 0 16 17\"fill=none><path fill-rule=evenodd clip-rule=evenodd d=\"M1 4.12695C1 3.07754 1 2.55284 1.19202 2.14684C1.38986 1.72856 1.7266 1.39181 2.14489 1.19397C2.55088 1.00195 3.07559 1.00195 4.125 1.00195C5.17441 1.00195 5.69912 1.00195 6.10511 1.19397C6.5234 1.39181 6.86014 1.72856 7.05798 2.14684C7.25 2.55284 7.25 3.07754 7.25 4.12695C7.25 5.17636 7.25 5.70107 7.05798 6.10706C6.86014 6.52535 6.5234 6.8621 6.10511 7.05993C5.69912 7.25195 5.17441 7.25195 4.125 7.25195C3.07559 7.25195 2.55088 7.25195 2.14489 7.05993C1.7266 6.8621 1.38986 6.52535 1.19202 6.10706C1 5.70107 1 5.17636 1 4.12695ZM2.5 3.30195C2.5 3.02193 2.5 2.88191 2.5545 2.77496C2.60243 2.68088 2.67892 2.60439 2.773 2.55645C2.87996 2.50195 3.01997 2.50195 3.3 2.50195H4.95C5.23003 2.50195 5.37004 2.50195 5.477 2.55645C5.57108 2.60439 5.64757 2.68088 5.6955 2.77496C5.75 2.88191 5.75 3.02193 5.75 3.30195V4.95195C5.75 5.23198 5.75 5.37199 5.6955 5.47895C5.64757 5.57303 5.57108 5.64952 5.477 5.69746C5.37004 5.75195 5.23003 5.75195 4.95 5.75195H3.3C3.01997 5.75195 2.87996 5.75195 2.773 5.69746C2.67892 5.64952 2.60243 5.57303 2.5545 5.47895C2.5 5.37199 2.5 5.23198 2.5 4.95195V3.30195ZM1 11.877C1 10.8275 1 10.3028 1.19202 9.89684C1.38986 9.47856 1.7266 9.14181 2.14489 8.94397C2.55088 8.75195 3.07559 8.75195 4.125 8.75195C5.17441 8.75195 5.69912 8.75195 6.10511 8.94397C6.5234 9.14181 6.86014 9.47856 7.05798 9.89684C7.25 10.3028 7.25 10.8275 7.25 11.877C7.25 12.9264 7.25 13.4511 7.05798 13.8571C6.86014 14.2753 6.5234 14.6121 6.10511 14.8099C5.69912 15.002 5.17441 15.002 4.125 15.002C3.07559 15.002 2.55088 15.002 2.14489 14.8099C1.7266 14.6121 1.38986 14.2753 1.19202 13.8571C1 13.4511 1 12.9264 1 11.877ZM2.5 11.052C2.5 10.7719 2.5 10.6319 2.5545 10.525C2.60243 10.4309 2.67892 10.3544 2.773 10.3064C2.87996 10.252 3.01997 10.252 3.3 10.252H4.95C5.23003 10.252 5.37004 10.252 5.477 10.3064C5.57108 10.3544 5.64757 10.4309 5.6955 10.525C5.75 10.6319 5.75 10.7719 5.75 11.052V12.702C5.75 12.982 5.75 13.122 5.6955 13.2289C5.64757 13.323 5.57108 13.3995 5.477 13.4475C5.37004 13.502 5.23003 13.502 4.95 13.502H3.3C3.01997 13.502 2.87996 13.502 2.773 13.4475C2.67892 13.3995 2.60243 13.323 2.5545 13.2289C2.5 13.122 2.5 12.982 2.5 12.702V11.052ZM8.94202 2.14684C8.75 2.55284 8.75 3.07754 8.75 4.12695C8.75 5.17636 8.75 5.70107 8.94202 6.10706C9.13986 6.52535 9.4766 6.8621 9.89489 7.05993C10.3009 7.25195 10.8256 7.25195 11.875 7.25195C12.9244 7.25195 13.4491 7.25195 13.8551 7.05993C14.2734 6.8621 14.6101 6.52535 14.808 6.10706C15 5.70107 15 5.17636 15 4.12695C15 3.07754 15 2.55284 14.808 2.14684C14.6101 1.72856 14.2734 1.39181 13.8551 1.19397C13.4491 1.00195 12.9244 1.00195 11.875 1.00195C10.8256 1.00195 10.3009 1.00195 9.89489 1.19397C9.4766 1.39181 9.13986 1.72856 8.94202 2.14684ZM10.3045 2.77496C10.25 2.88191 10.25 3.02193 10.25 3.30195V4.95195C10.25 5.23198 10.25 5.37199 10.3045 5.47895C10.3524 5.57303 10.4289 5.64952 10.523 5.69746C10.63 5.75195 10.77 5.75195 11.05 5.75195H12.7C12.98 5.75195 13.12 5.75195 13.227 5.69746C13.3211 5.64952 13.3976 5.57303 13.4455 5.47895C13.5 5.37199 13.5 5.23198 13.5 4.95195V3.30195C13.5 3.02193 13.5 2.88191 13.4455 2.77496C13.3976 2.68088 13.3211 2.60439 13.227 2.55645C13.12 2.50195 12.98 2.50195 12.7 2.50195H11.05C10.77 2.50195 10.63 2.50195 10.523 2.55645C10.4289 2.60439 10.3524 2.68088 10.3045 2.77496ZM8.80727 9.13518C8.75 9.26242 8.75 9.4256 8.75 9.75195C8.75 10.0783 8.75 10.2415 8.80727 10.3687C8.87245 10.5136 8.9884 10.6295 9.13323 10.6947C9.26047 10.752 9.42365 10.752 9.75 10.752C10.0764 10.752 10.2395 10.752 10.3668 10.6947C10.5116 10.6295 10.6276 10.5136 10.6927 10.3687C10.75 10.2415 10.75 10.0783 10.75 9.75195C10.75 9.4256 10.75 9.26242 10.6927 9.13518C10.6276 8.99035 10.5116 8.8744 10.3668 8.80922C10.2395 8.75195 10.0764 8.75195 9.75 8.75195C9.42365 8.75195 9.26047 8.75195 9.13323 8.80922C8.9884 8.8744 8.87245 8.99035 8.80727 9.13518ZM10.87 11.8771C10.87 11.546 10.87 11.3805 10.9289 11.2517C10.9938 11.1098 11.1077 10.9959 11.2497 10.931C11.3784 10.8721 11.5439 10.8721 11.875 10.8721C12.2061 10.8721 12.3716 10.8721 12.5003 10.931C12.6423 10.9959 12.7562 11.1098 12.8211 11.2517C12.88 11.3805 12.88 11.546 12.88 11.8771C12.88 12.2081 12.88 12.3737 12.8211 12.5024C12.7562 12.6444 12.6423 12.7583 12.5003 12.8232C12.3716 12.8821 12.2061 12.8821 11.875 12.8821C11.5439 12.8821 11.3784 12.8821 11.2497 12.8232C11.1077 12.7583 10.9938 12.6444 10.9289 12.5024C10.87 12.3737 10.87 12.2081 10.87 11.8771ZM8.80727 13.3852C8.75 13.5124 8.75 13.6756 8.75 14.002C8.75 14.3283 8.75 14.4915 8.80727 14.6187C8.87245 14.7636 8.9884 14.8795 9.13323 14.9447C9.26047 15.002 9.42365 15.002 9.75 15.002C10.0764 15.002 10.2395 15.002 10.3668 14.9447C10.5116 14.8795 10.6276 14.7636 10.6927 14.6187C10.75 14.4915 10.75 14.3283 10.75 14.002C10.75 13.6756 10.75 13.5124 10.6927 13.3852C10.6276 13.2404 10.5116 13.1244 10.3668 13.0592C10.2395 13.002 10.0764 13.002 9.75 13.002C9.42365 13.002 9.26047 13.002 9.13323 13.0592C8.9884 13.1244 8.87245 13.2404 8.80727 13.3852ZM13 9.75195C13 9.4256 13 9.26242 13.0573 9.13518C13.1224 8.99035 13.2384 8.8744 13.3832 8.80922C13.5105 8.75195 13.6736 8.75195 14 8.75195C14.3264 8.75195 14.4895 8.75195 14.6168 8.80922C14.7616 8.8744 14.8776 8.99035 14.9427 9.13518C15 9.26242 15 9.4256 15 9.75195C15 10.0783 15 10.2415 14.9427 10.3687C14.8776 10.5136 14.7616 10.6295 14.6168 10.6947C14.4895 10.752 14.3264 10.752 14 10.752C13.6736 10.752 13.5105 10.752 13.3832 10.6947C13.2384 10.6295 13.1224 10.5136 13.0573 10.3687C13 10.2415 13 10.0783 13 9.75195ZM13.0573 13.3852C13 13.5124 13 13.6756 13 14.002C13 14.3283 13 14.4915 13.0573 14.6187C13.1224 14.7636 13.2384 14.8795 13.3832 14.9447C13.5105 15.002 13.6736 15.002 14 15.002C14.3264 15.002 14.4895 15.002 14.6168 14.9447C14.7616 14.8795 14.8776 14.7636 14.9427 14.6187C15 14.4915 15 14.3283 15 14.002C15 13.6756 15 13.5124 14.9427 13.3852C14.8776 13.2404 14.7616 13.1244 14.6168 13.0592C14.4895 13.002 14.3264 13.002 14 13.002C13.6736 13.002 13.5105 13.002 13.3832 13.0592C13.2384 13.1244 13.1224 13.2404 13.0573 13.3852Z\">`);\nconst QRIcon = (props) => {\n  const theme = useTheme();\n  const fill = () => props.fill || theme.colors.icon.secondary;\n  return (() => {\n    var _el$ = _tmpl$$8(), _el$2 = _el$.firstChild;\n    createRenderEffect(() => setAttribute(_el$2, \"fill\", fill()));\n    return _el$;\n  })();\n};\nconst IconButtonStyled = styled.button`\n    padding: 0;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    width: 32px;\n    height: 32px;\n    border-radius: 50%;\n    background-color: transparent;\n    border: none;\n    cursor: pointer;\n\n    transition: transform 0.125s ease-in-out;\n\n    ${mediaNotTouch} {\n        &:hover {\n            transform: scale(1.04);\n        }\n    }\n\n    &:active {\n        transform: scale(0.96);\n    }\n\n    ${mediaTouch} {\n        &:active {\n            transform: scale(0.92);\n        }\n    }\n`;\nconst IconButton = (props) => {\n  const dataAttrs = useDataAttributes(props);\n  const icon = () => props.icon || \"close\";\n  return createComponent(IconButtonStyled, mergeProps({\n    get [\"class\"]() {\n      return props.class;\n    },\n    onClick: () => props.onClick(),\n    \"data-tc-icon-button\": \"true\"\n  }, dataAttrs, {\n    get children() {\n      return [createComponent(Show, {\n        get when() {\n          return !!props.children;\n        },\n        get children() {\n          return props.children;\n        }\n      }), createComponent(Show, {\n        get when() {\n          return !props.children;\n        },\n        get children() {\n          return createComponent(Switch, {\n            get children() {\n              return [createComponent(Match, {\n                get when() {\n                  return icon() === \"close\";\n                },\n                get children() {\n                  return createComponent(CloseIcon, {\n                    get fill() {\n                      return props.fill;\n                    }\n                  });\n                }\n              }), createComponent(Match, {\n                get when() {\n                  return icon() === \"arrow\";\n                },\n                get children() {\n                  return createComponent(ArrowIcon, {\n                    get fill() {\n                      return props.fill;\n                    }\n                  });\n                }\n              }), createComponent(Match, {\n                get when() {\n                  return icon() === \"question\";\n                },\n                get children() {\n                  return createComponent(QuestionIcon, {\n                    get fill() {\n                      return props.fill;\n                    }\n                  });\n                }\n              }), createComponent(Match, {\n                get when() {\n                  return typeof icon() !== \"string\";\n                },\n                get children() {\n                  return icon();\n                }\n              })];\n            }\n          });\n        }\n      })];\n    }\n  }));\n};\nconst borders$1 = {\n  m: \"24px\",\n  s: \"16px\",\n  none: \"0\"\n};\nconst ModalBackgroundStyled = styled.div`\n  display: flex;\n  position: fixed;\n  z-index: 1000;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, 0.4);\n  padding: 20px 0;\n  overflow-y: auto;\n\n  ${media(\"mobile\")} {\n    padding-bottom: 0;\n  }\n`;\nconst ModalWrapperClass = u`\n  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.08), 0 16px 64px rgba(0, 0, 0, 0.16);\n  width: fit-content;\n  margin: auto;\n\n  ${media(\"mobile\")} {\n    width: 100%;\n    height: fit-content;\n    margin: auto 0 0 0;\n  }\n`;\nconst ModalBodyStyled = styled.div`\n  position: relative;\n  min-height: 100px;\n  width: 416px;\n  padding: 44px 56px 24px;\n\n  box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.04);\n\n  background-color: ${(props) => props.theme.colors.background.primary};\n  border-radius: ${(props) => borders$1[props.theme.borderRadius]};\n\n  ${media(\"mobile\")} {\n    width: 100%;\n    border-radius: 24px 24px 0px 0px;\n  }\n`;\nconst CloseButtonStyled = styled(IconButton)`\n  position: absolute;\n  right: 16px;\n  top: 12px;\n`;\nstyled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 16px 16px 16px 18px;\n  border-radius: 0 0 ${(props) => borders$1[props.theme.borderRadius]}\n    ${(props) => borders$1[props.theme.borderRadius]};\n`;\nstyled(IconButton)`\n  background-color: ${(props) => rgba(props.theme.colors.icon.secondary, 0.12)};\n`;\nclass AnimationTimelineNoop {\n  constructor() {\n    __publicField(this, \"currentTime\", 0);\n  }\n}\nconst _AnimationNoop = class {\n  constructor() {\n    __publicField(this, \"currentTime\", 0);\n    __publicField(this, \"playbackRate\", 1);\n    __publicField(this, \"startTime\", null);\n    __publicField(this, \"timeline\", new AnimationTimelineNoop());\n    __publicField(this, \"finished\", Promise.resolve(this));\n    __publicField(this, \"effect\", null);\n    __publicField(this, \"id\", \"\");\n    __publicField(this, \"pending\", false);\n    __publicField(this, \"playState\", \"finished\");\n    __publicField(this, \"replaceState\", \"active\");\n    __publicField(this, \"ready\", Promise.resolve(this));\n    __publicField(this, \"oncancel\", null);\n    __publicField(this, \"onfinish\", null);\n    __publicField(this, \"onremove\", null);\n  }\n  static create() {\n    if (!_AnimationNoop._instance) {\n      logWarning(\n        \"Animation is not supported in this environment: please consider using the `web-animations-js` polyfill to provide a fallback implementation of the Web Animations API.\"\n      );\n      _AnimationNoop._instance = new _AnimationNoop();\n    }\n    return _AnimationNoop._instance;\n  }\n  cancel() {\n  }\n  finish() {\n  }\n  pause() {\n  }\n  play() {\n  }\n  reverse() {\n  }\n  addEventListener(_type, _listener, _options) {\n  }\n  dispatchEvent(_event) {\n    return false;\n  }\n  removeEventListener(_type, _callback, _options) {\n  }\n  updatePlaybackRate(_playbackRate) {\n  }\n  commitStyles() {\n  }\n  persist() {\n  }\n};\nlet AnimationNoop = _AnimationNoop;\n__publicField(AnimationNoop, \"_instance\", null);\nfunction animate(element, keyframes, options) {\n  if (\"animate\" in element) {\n    return element.animate(keyframes, options);\n  }\n  return AnimationNoop.create();\n}\nvar _tmpl$$7 = /* @__PURE__ */ template$1(`<div>`);\nconst clickOutside = clickOutside$1;\nconst keyPressed = escPressed;\nconst androidBackHandler = androidBackHandler$1;\nconst Modal = (props) => {\n  const theme = useTheme();\n  const dataAttrs = useDataAttributes(props);\n  createEffect(() => {\n    if (props.opened) {\n      disableScroll();\n    } else {\n      enableScroll();\n    }\n  });\n  return createComponent(Transition, {\n    onBeforeEnter: (el) => {\n      const duration = isDevice(\"mobile\") ? 200 : 100;\n      animate(el, [{\n        opacity: 0\n      }, {\n        opacity: 1\n      }], {\n        duration\n      });\n      if (isDevice(\"mobile\")) {\n        animate(el.firstElementChild, [{\n          transform: \"translateY(390px)\"\n        }, {\n          transform: \"translateY(0)\"\n        }], {\n          duration\n        });\n      }\n    },\n    onExit: (el, done) => {\n      const duration = isDevice(\"mobile\") ? 200 : 100;\n      const backgroundAnimation = animate(el, [{\n        opacity: 1\n      }, {\n        opacity: 0\n      }], {\n        duration\n      });\n      if (isDevice(\"mobile\")) {\n        const contentAnimation = animate(el.firstElementChild, [{\n          transform: \"translateY(0)\"\n        }, {\n          transform: \"translateY(390px)\"\n        }], {\n          duration\n        });\n        Promise.all([backgroundAnimation.finished, contentAnimation.finished]).then(done);\n      } else {\n        backgroundAnimation.finished.then(done);\n      }\n    },\n    get children() {\n      return createComponent(Show, {\n        get when() {\n          return props.opened;\n        },\n        get children() {\n          return createComponent(ModalBackgroundStyled, mergeProps({\n            \"data-tc-modal\": \"true\"\n          }, dataAttrs, {\n            get children() {\n              var _el$ = _tmpl$$7();\n              use(androidBackHandler, _el$, () => ({\n                isEnabled: true,\n                onClose: () => props.onClose()\n              }));\n              use(keyPressed, _el$, () => () => props.onClose());\n              use(clickOutside, _el$, () => () => props.onClose());\n              insert(_el$, createComponent(ModalBodyStyled, {\n                get [\"class\"]() {\n                  return props.class;\n                },\n                get children() {\n                  return [createComponent(CloseButtonStyled, {\n                    icon: \"close\",\n                    onClick: () => props.onClose()\n                  }), createMemo(() => props.children)];\n                }\n              }));\n              createRenderEffect(() => className(_el$, cn__default.default(ModalWrapperClass, u`\n                                border-radius: ${borders$1[theme.borderRadius]};\n                                background-color: ${theme.colors.background.tint};\n\n                                ${media(\"mobile\")} {\n                                    border-radius: ${borders$1[theme.borderRadius]}\n                                        ${borders$1[theme.borderRadius]} 0 0;\n                                }\n                            `)));\n              return _el$;\n            }\n          }));\n        }\n      });\n    }\n  });\n};\nconst wrapperBorderRadius = {\n  m: \"22px\",\n  s: \"12px\",\n  none: \"0\"\n};\nconst sliderBorderRadius = {\n  m: \"18px\",\n  s: \"8px\",\n  none: \"0\"\n};\nstyled.div`\n    display: grid;\n    grid-template: 1fr / 1fr 1fr;\n    width: fit-content;\n    justify-items: center;\n    gap: 4px;\n\n    position: relative;\n    padding: 4px;\n    border-radius: ${(props) => wrapperBorderRadius[props.theme.borderRadius]};\n\n    background-color: ${(props) => props.theme.colors.background.secondary};\n`;\nstyled.div`\n    position: absolute;\n    top: 4px;\n    left: 4px;\n\n    height: calc(100% - 8px);\n    width: calc(50% - 4px);\n\n    border-radius: ${(props) => sliderBorderRadius[props.theme.borderRadius]};\n    background-color: ${(props) => props.theme.colors.background.segment};\n\n    transform: ${(props) => props.right ? \"translateX(100%)\" : \"translateX(0)\"};\n\n    transition: transform 0.13s ease-in-out;\n`;\nstyled.input`\n    display: none;\n`;\nstyled.label`\n    padding: 9px 12px;\n    z-index: 1;\n\n    cursor: ${(props) => props.isActive ? \"default\" : \"pointer\"};\n\n    transition: transform 0.13s ease-in-out;\n\n    &:hover {\n        transform: ${(props) => props.isActive ? \"none\" : \"scale(1.025)\"};\n    }\n\n    > * {\n        ${(props) => !props.isActive ? `color: ${props.theme.colors.text.secondary};` : \"\"}\n    }\n`;\nconst backgroundBorders = {\n  m: \"16px\",\n  s: \"12px\",\n  none: \"0\"\n};\nconst imageBorders = {\n  m: \"12px\",\n  s: \"8px\",\n  none: \"0\"\n};\nconst qrNormalSize = 263;\nconst imgSizeDefault = 56;\nconst picSizeDefault = 54;\nconst qrPaddingTop = 0;\nconst CopyIconButton = styled.div`\n    width: 52px;\n    height: 52px;\n    background: transparent;\n    position: absolute;\n    right: 0;\n    bottom: 0;\n\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    transition: transform 0.125s ease-in-out;\n`;\nconst QrCodeBackground = styled.button`\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    position: relative;\n    background-color: ${(props) => props.theme.colors.background.qr};\n    border-radius: ${(props) => backgroundBorders[props.theme.borderRadius]};\n    padding: ${toPx(qrPaddingTop)} 0;\n    height: ${toPx(qrNormalSize + qrPaddingTop * 2)};\n    width: 100%;\n\n    overflow: hidden;\n    cursor: pointer;\n    border: none;\n\n    ${mediaNotTouch} {\n        &:hover {\n            ${CopyIconButton.class} {\n                transform: scale(1.04);\n            }\n        }\n    }\n\n    &:active {\n        ${CopyIconButton.class} {\n            transform: scale(0.96);\n        }\n    }\n\n    ${mediaTouch} {\n        &:active {\n            ${CopyIconButton.class} {\n                transform: scale(0.92);\n            }\n        }\n    }\n`;\nconst QrCodeWrapper$1 = styled.div`\n    position: relative;\n  \n    width: fit-content;\n    margin: 0 auto;\n\n    > div:first-child {\n        display: flex;\n        align-items: center;\n        justify-content: center;\n    }\n    \n    rect {\n        fill: transparent;\n    }\n    \n    path {\n        fill: ${(props) => props.theme.colors.qrFill};\n    }\n`;\nconst ImageBackground = styled.div`\n    position: absolute;\n    width: ${toPx(imgSizeDefault)};\n    height: ${toPx(imgSizeDefault)};\n    background: ${(props) => props.theme.colors.background.qr};\n\n    display: flex;\n    align-items: center;\n    justify-content: center;\n`;\nconst ImageStyled$2 = styled(Image)`\n    width: ${(props) => toPx(props.size)};\n    height: ${(props) => toPx(props.size)};\n    border-radius: ${(props) => imageBorders[props.theme.borderRadius]};\n    background-color: ${(props) => props.theme.colors.background.qr};\n`;\nstyled.div`\n    position: absolute;\n    bottom: 14px;\n    left: 50%;\n    transform: translate(-50%, 0);\n\n    display: flex;\n    gap: 6px;\n    align-items: center;\n    border-radius: 18px;\n    min-width: 126px;\n    padding: 9px 16px 9px 10px;\n\n    filter: drop-shadow(0px 2px 8px rgba(0, 0, 0, 0.08));\n    background-color: ${(props) => props.theme.colors.background.segment};\n`;\nvar qrcode$1 = { exports: {} };\n(function(module2, exports2) {\n  var qrcode2 = function() {\n    var qrcode3 = function(typeNumber, errorCorrectionLevel) {\n      var PAD0 = 236;\n      var PAD1 = 17;\n      var _typeNumber = typeNumber;\n      var _errorCorrectionLevel = QRErrorCorrectionLevel[errorCorrectionLevel];\n      var _modules = null;\n      var _moduleCount = 0;\n      var _dataCache = null;\n      var _dataList = [];\n      var _this = {};\n      var makeImpl = function(test, maskPattern) {\n        _moduleCount = _typeNumber * 4 + 17;\n        _modules = function(moduleCount) {\n          var modules = new Array(moduleCount);\n          for (var row = 0; row < moduleCount; row += 1) {\n            modules[row] = new Array(moduleCount);\n            for (var col = 0; col < moduleCount; col += 1) {\n              modules[row][col] = null;\n            }\n          }\n          return modules;\n        }(_moduleCount);\n        setupPositionProbePattern(0, 0);\n        setupPositionProbePattern(_moduleCount - 7, 0);\n        setupPositionProbePattern(0, _moduleCount - 7);\n        setupPositionAdjustPattern();\n        setupTimingPattern();\n        setupTypeInfo(test, maskPattern);\n        if (_typeNumber >= 7) {\n          setupTypeNumber(test);\n        }\n        if (_dataCache == null) {\n          _dataCache = createData(_typeNumber, _errorCorrectionLevel, _dataList);\n        }\n        mapData(_dataCache, maskPattern);\n      };\n      var setupPositionProbePattern = function(row, col) {\n        for (var r = -1; r <= 7; r += 1) {\n          if (row + r <= -1 || _moduleCount <= row + r)\n            continue;\n          for (var c2 = -1; c2 <= 7; c2 += 1) {\n            if (col + c2 <= -1 || _moduleCount <= col + c2)\n              continue;\n            if (0 <= r && r <= 6 && (c2 == 0 || c2 == 6) || 0 <= c2 && c2 <= 6 && (r == 0 || r == 6) || 2 <= r && r <= 4 && 2 <= c2 && c2 <= 4) {\n              _modules[row + r][col + c2] = true;\n            } else {\n              _modules[row + r][col + c2] = false;\n            }\n          }\n        }\n      };\n      var getBestMaskPattern = function() {\n        var minLostPoint = 0;\n        var pattern = 0;\n        for (var i2 = 0; i2 < 8; i2 += 1) {\n          makeImpl(true, i2);\n          var lostPoint = QRUtil.getLostPoint(_this);\n          if (i2 == 0 || minLostPoint > lostPoint) {\n            minLostPoint = lostPoint;\n            pattern = i2;\n          }\n        }\n        return pattern;\n      };\n      var setupTimingPattern = function() {\n        for (var r = 8; r < _moduleCount - 8; r += 1) {\n          if (_modules[r][6] != null) {\n            continue;\n          }\n          _modules[r][6] = r % 2 == 0;\n        }\n        for (var c2 = 8; c2 < _moduleCount - 8; c2 += 1) {\n          if (_modules[6][c2] != null) {\n            continue;\n          }\n          _modules[6][c2] = c2 % 2 == 0;\n        }\n      };\n      var setupPositionAdjustPattern = function() {\n        var pos = QRUtil.getPatternPosition(_typeNumber);\n        for (var i2 = 0; i2 < pos.length; i2 += 1) {\n          for (var j = 0; j < pos.length; j += 1) {\n            var row = pos[i2];\n            var col = pos[j];\n            if (_modules[row][col] != null) {\n              continue;\n            }\n            for (var r = -2; r <= 2; r += 1) {\n              for (var c2 = -2; c2 <= 2; c2 += 1) {\n                if (r == -2 || r == 2 || c2 == -2 || c2 == 2 || r == 0 && c2 == 0) {\n                  _modules[row + r][col + c2] = true;\n                } else {\n                  _modules[row + r][col + c2] = false;\n                }\n              }\n            }\n          }\n        }\n      };\n      var setupTypeNumber = function(test) {\n        var bits = QRUtil.getBCHTypeNumber(_typeNumber);\n        for (var i2 = 0; i2 < 18; i2 += 1) {\n          var mod = !test && (bits >> i2 & 1) == 1;\n          _modules[Math.floor(i2 / 3)][i2 % 3 + _moduleCount - 8 - 3] = mod;\n        }\n        for (var i2 = 0; i2 < 18; i2 += 1) {\n          var mod = !test && (bits >> i2 & 1) == 1;\n          _modules[i2 % 3 + _moduleCount - 8 - 3][Math.floor(i2 / 3)] = mod;\n        }\n      };\n      var setupTypeInfo = function(test, maskPattern) {\n        var data = _errorCorrectionLevel << 3 | maskPattern;\n        var bits = QRUtil.getBCHTypeInfo(data);\n        for (var i2 = 0; i2 < 15; i2 += 1) {\n          var mod = !test && (bits >> i2 & 1) == 1;\n          if (i2 < 6) {\n            _modules[i2][8] = mod;\n          } else if (i2 < 8) {\n            _modules[i2 + 1][8] = mod;\n          } else {\n            _modules[_moduleCount - 15 + i2][8] = mod;\n          }\n        }\n        for (var i2 = 0; i2 < 15; i2 += 1) {\n          var mod = !test && (bits >> i2 & 1) == 1;\n          if (i2 < 8) {\n            _modules[8][_moduleCount - i2 - 1] = mod;\n          } else if (i2 < 9) {\n            _modules[8][15 - i2 - 1 + 1] = mod;\n          } else {\n            _modules[8][15 - i2 - 1] = mod;\n          }\n        }\n        _modules[_moduleCount - 8][8] = !test;\n      };\n      var mapData = function(data, maskPattern) {\n        var inc = -1;\n        var row = _moduleCount - 1;\n        var bitIndex = 7;\n        var byteIndex = 0;\n        var maskFunc = QRUtil.getMaskFunction(maskPattern);\n        for (var col = _moduleCount - 1; col > 0; col -= 2) {\n          if (col == 6)\n            col -= 1;\n          while (true) {\n            for (var c2 = 0; c2 < 2; c2 += 1) {\n              if (_modules[row][col - c2] == null) {\n                var dark = false;\n                if (byteIndex < data.length) {\n                  dark = (data[byteIndex] >>> bitIndex & 1) == 1;\n                }\n                var mask = maskFunc(row, col - c2);\n                if (mask) {\n                  dark = !dark;\n                }\n                _modules[row][col - c2] = dark;\n                bitIndex -= 1;\n                if (bitIndex == -1) {\n                  byteIndex += 1;\n                  bitIndex = 7;\n                }\n              }\n            }\n            row += inc;\n            if (row < 0 || _moduleCount <= row) {\n              row -= inc;\n              inc = -inc;\n              break;\n            }\n          }\n        }\n      };\n      var createBytes = function(buffer, rsBlocks) {\n        var offset2 = 0;\n        var maxDcCount = 0;\n        var maxEcCount = 0;\n        var dcdata = new Array(rsBlocks.length);\n        var ecdata = new Array(rsBlocks.length);\n        for (var r = 0; r < rsBlocks.length; r += 1) {\n          var dcCount = rsBlocks[r].dataCount;\n          var ecCount = rsBlocks[r].totalCount - dcCount;\n          maxDcCount = Math.max(maxDcCount, dcCount);\n          maxEcCount = Math.max(maxEcCount, ecCount);\n          dcdata[r] = new Array(dcCount);\n          for (var i2 = 0; i2 < dcdata[r].length; i2 += 1) {\n            dcdata[r][i2] = 255 & buffer.getBuffer()[i2 + offset2];\n          }\n          offset2 += dcCount;\n          var rsPoly = QRUtil.getErrorCorrectPolynomial(ecCount);\n          var rawPoly = qrPolynomial(dcdata[r], rsPoly.getLength() - 1);\n          var modPoly = rawPoly.mod(rsPoly);\n          ecdata[r] = new Array(rsPoly.getLength() - 1);\n          for (var i2 = 0; i2 < ecdata[r].length; i2 += 1) {\n            var modIndex = i2 + modPoly.getLength() - ecdata[r].length;\n            ecdata[r][i2] = modIndex >= 0 ? modPoly.getAt(modIndex) : 0;\n          }\n        }\n        var totalCodeCount = 0;\n        for (var i2 = 0; i2 < rsBlocks.length; i2 += 1) {\n          totalCodeCount += rsBlocks[i2].totalCount;\n        }\n        var data = new Array(totalCodeCount);\n        var index = 0;\n        for (var i2 = 0; i2 < maxDcCount; i2 += 1) {\n          for (var r = 0; r < rsBlocks.length; r += 1) {\n            if (i2 < dcdata[r].length) {\n              data[index] = dcdata[r][i2];\n              index += 1;\n            }\n          }\n        }\n        for (var i2 = 0; i2 < maxEcCount; i2 += 1) {\n          for (var r = 0; r < rsBlocks.length; r += 1) {\n            if (i2 < ecdata[r].length) {\n              data[index] = ecdata[r][i2];\n              index += 1;\n            }\n          }\n        }\n        return data;\n      };\n      var createData = function(typeNumber2, errorCorrectionLevel2, dataList) {\n        var rsBlocks = QRRSBlock.getRSBlocks(typeNumber2, errorCorrectionLevel2);\n        var buffer = qrBitBuffer();\n        for (var i2 = 0; i2 < dataList.length; i2 += 1) {\n          var data = dataList[i2];\n          buffer.put(data.getMode(), 4);\n          buffer.put(data.getLength(), QRUtil.getLengthInBits(data.getMode(), typeNumber2));\n          data.write(buffer);\n        }\n        var totalDataCount = 0;\n        for (var i2 = 0; i2 < rsBlocks.length; i2 += 1) {\n          totalDataCount += rsBlocks[i2].dataCount;\n        }\n        if (buffer.getLengthInBits() > totalDataCount * 8) {\n          throw \"code length overflow. (\" + buffer.getLengthInBits() + \">\" + totalDataCount * 8 + \")\";\n        }\n        if (buffer.getLengthInBits() + 4 <= totalDataCount * 8) {\n          buffer.put(0, 4);\n        }\n        while (buffer.getLengthInBits() % 8 != 0) {\n          buffer.putBit(false);\n        }\n        while (true) {\n          if (buffer.getLengthInBits() >= totalDataCount * 8) {\n            break;\n          }\n          buffer.put(PAD0, 8);\n          if (buffer.getLengthInBits() >= totalDataCount * 8) {\n            break;\n          }\n          buffer.put(PAD1, 8);\n        }\n        return createBytes(buffer, rsBlocks);\n      };\n      _this.addData = function(data, mode) {\n        mode = mode || \"Byte\";\n        var newData = null;\n        switch (mode) {\n          case \"Numeric\":\n            newData = qrNumber(data);\n            break;\n          case \"Alphanumeric\":\n            newData = qrAlphaNum(data);\n            break;\n          case \"Byte\":\n            newData = qr8BitByte(data);\n            break;\n          case \"Kanji\":\n            newData = qrKanji(data);\n            break;\n          default:\n            throw \"mode:\" + mode;\n        }\n        _dataList.push(newData);\n        _dataCache = null;\n      };\n      _this.isDark = function(row, col) {\n        if (row < 0 || _moduleCount <= row || col < 0 || _moduleCount <= col) {\n          throw row + \",\" + col;\n        }\n        return _modules[row][col];\n      };\n      _this.getModuleCount = function() {\n        return _moduleCount;\n      };\n      _this.make = function() {\n        if (_typeNumber < 1) {\n          var typeNumber2 = 1;\n          for (; typeNumber2 < 40; typeNumber2++) {\n            var rsBlocks = QRRSBlock.getRSBlocks(typeNumber2, _errorCorrectionLevel);\n            var buffer = qrBitBuffer();\n            for (var i2 = 0; i2 < _dataList.length; i2++) {\n              var data = _dataList[i2];\n              buffer.put(data.getMode(), 4);\n              buffer.put(data.getLength(), QRUtil.getLengthInBits(data.getMode(), typeNumber2));\n              data.write(buffer);\n            }\n            var totalDataCount = 0;\n            for (var i2 = 0; i2 < rsBlocks.length; i2++) {\n              totalDataCount += rsBlocks[i2].dataCount;\n            }\n            if (buffer.getLengthInBits() <= totalDataCount * 8) {\n              break;\n            }\n          }\n          _typeNumber = typeNumber2;\n        }\n        makeImpl(false, getBestMaskPattern());\n      };\n      _this.createTableTag = function(cellSize, margin) {\n        cellSize = cellSize || 2;\n        margin = typeof margin == \"undefined\" ? cellSize * 4 : margin;\n        var qrHtml = \"\";\n        qrHtml += '<table style=\"';\n        qrHtml += \" border-width: 0px; border-style: none;\";\n        qrHtml += \" border-collapse: collapse;\";\n        qrHtml += \" padding: 0px; margin: \" + margin + \"px;\";\n        qrHtml += '\">';\n        qrHtml += \"<tbody>\";\n        for (var r = 0; r < _this.getModuleCount(); r += 1) {\n          qrHtml += \"<tr>\";\n          for (var c2 = 0; c2 < _this.getModuleCount(); c2 += 1) {\n            qrHtml += '<td style=\"';\n            qrHtml += \" border-width: 0px; border-style: none;\";\n            qrHtml += \" border-collapse: collapse;\";\n            qrHtml += \" padding: 0px; margin: 0px;\";\n            qrHtml += \" width: \" + cellSize + \"px;\";\n            qrHtml += \" height: \" + cellSize + \"px;\";\n            qrHtml += \" background-color: \";\n            qrHtml += _this.isDark(r, c2) ? \"#000000\" : \"#ffffff\";\n            qrHtml += \";\";\n            qrHtml += '\"/>';\n          }\n          qrHtml += \"</tr>\";\n        }\n        qrHtml += \"</tbody>\";\n        qrHtml += \"</table>\";\n        return qrHtml;\n      };\n      _this.createSvgTag = function(cellSize, margin, alt, title) {\n        var opts = {};\n        if (typeof arguments[0] == \"object\") {\n          opts = arguments[0];\n          cellSize = opts.cellSize;\n          margin = opts.margin;\n          alt = opts.alt;\n          title = opts.title;\n        }\n        cellSize = cellSize || 2;\n        margin = typeof margin == \"undefined\" ? cellSize * 4 : margin;\n        alt = typeof alt === \"string\" ? { text: alt } : alt || {};\n        alt.text = alt.text || null;\n        alt.id = alt.text ? alt.id || \"qrcode-description\" : null;\n        title = typeof title === \"string\" ? { text: title } : title || {};\n        title.text = title.text || null;\n        title.id = title.text ? title.id || \"qrcode-title\" : null;\n        var size2 = _this.getModuleCount() * cellSize + margin * 2;\n        var c2, mc, r, mr, qrSvg = \"\", rect;\n        rect = \"l\" + cellSize + \",0 0,\" + cellSize + \" -\" + cellSize + \",0 0,-\" + cellSize + \"z \";\n        qrSvg += '<svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\"';\n        qrSvg += !opts.scalable ? ' width=\"' + size2 + 'px\" height=\"' + size2 + 'px\"' : \"\";\n        qrSvg += ' viewBox=\"0 0 ' + size2 + \" \" + size2 + '\" ';\n        qrSvg += ' preserveAspectRatio=\"xMinYMin meet\"';\n        qrSvg += title.text || alt.text ? ' role=\"img\" aria-labelledby=\"' + escapeXml([title.id, alt.id].join(\" \").trim()) + '\"' : \"\";\n        qrSvg += \">\";\n        qrSvg += title.text ? '<title id=\"' + escapeXml(title.id) + '\">' + escapeXml(title.text) + \"</title>\" : \"\";\n        qrSvg += alt.text ? '<description id=\"' + escapeXml(alt.id) + '\">' + escapeXml(alt.text) + \"</description>\" : \"\";\n        qrSvg += '<rect width=\"100%\" height=\"100%\" fill=\"white\" cx=\"0\" cy=\"0\"/>';\n        qrSvg += '<path d=\"';\n        for (r = 0; r < _this.getModuleCount(); r += 1) {\n          mr = r * cellSize + margin;\n          for (c2 = 0; c2 < _this.getModuleCount(); c2 += 1) {\n            if (_this.isDark(r, c2)) {\n              mc = c2 * cellSize + margin;\n              qrSvg += \"M\" + mc + \",\" + mr + rect;\n            }\n          }\n        }\n        qrSvg += '\" stroke=\"transparent\" fill=\"black\"/>';\n        qrSvg += \"</svg>\";\n        return qrSvg;\n      };\n      _this.createDataURL = function(cellSize, margin) {\n        cellSize = cellSize || 2;\n        margin = typeof margin == \"undefined\" ? cellSize * 4 : margin;\n        var size2 = _this.getModuleCount() * cellSize + margin * 2;\n        var min2 = margin;\n        var max2 = size2 - margin;\n        return createDataURL(size2, size2, function(x, y) {\n          if (min2 <= x && x < max2 && min2 <= y && y < max2) {\n            var c2 = Math.floor((x - min2) / cellSize);\n            var r = Math.floor((y - min2) / cellSize);\n            return _this.isDark(r, c2) ? 0 : 1;\n          } else {\n            return 1;\n          }\n        });\n      };\n      _this.createImgTag = function(cellSize, margin, alt) {\n        cellSize = cellSize || 2;\n        margin = typeof margin == \"undefined\" ? cellSize * 4 : margin;\n        var size2 = _this.getModuleCount() * cellSize + margin * 2;\n        var img = \"\";\n        img += \"<img\";\n        img += ' src=\"';\n        img += _this.createDataURL(cellSize, margin);\n        img += '\"';\n        img += ' width=\"';\n        img += size2;\n        img += '\"';\n        img += ' height=\"';\n        img += size2;\n        img += '\"';\n        if (alt) {\n          img += ' alt=\"';\n          img += escapeXml(alt);\n          img += '\"';\n        }\n        img += \"/>\";\n        return img;\n      };\n      var escapeXml = function(s2) {\n        var escaped = \"\";\n        for (var i2 = 0; i2 < s2.length; i2 += 1) {\n          var c2 = s2.charAt(i2);\n          switch (c2) {\n            case \"<\":\n              escaped += \"&lt;\";\n              break;\n            case \">\":\n              escaped += \"&gt;\";\n              break;\n            case \"&\":\n              escaped += \"&amp;\";\n              break;\n            case '\"':\n              escaped += \"&quot;\";\n              break;\n            default:\n              escaped += c2;\n              break;\n          }\n        }\n        return escaped;\n      };\n      var _createHalfASCII = function(margin) {\n        var cellSize = 1;\n        margin = typeof margin == \"undefined\" ? cellSize * 2 : margin;\n        var size2 = _this.getModuleCount() * cellSize + margin * 2;\n        var min2 = margin;\n        var max2 = size2 - margin;\n        var y, x, r1, r2, p2;\n        var blocks = {\n          \"\\u2588\\u2588\": \"\\u2588\",\n          \"\\u2588 \": \"\\u2580\",\n          \" \\u2588\": \"\\u2584\",\n          \"  \": \" \"\n        };\n        var blocksLastLineNoMargin = {\n          \"\\u2588\\u2588\": \"\\u2580\",\n          \"\\u2588 \": \"\\u2580\",\n          \" \\u2588\": \" \",\n          \"  \": \" \"\n        };\n        var ascii = \"\";\n        for (y = 0; y < size2; y += 2) {\n          r1 = Math.floor((y - min2) / cellSize);\n          r2 = Math.floor((y + 1 - min2) / cellSize);\n          for (x = 0; x < size2; x += 1) {\n            p2 = \"\\u2588\";\n            if (min2 <= x && x < max2 && min2 <= y && y < max2 && _this.isDark(r1, Math.floor((x - min2) / cellSize))) {\n              p2 = \" \";\n            }\n            if (min2 <= x && x < max2 && min2 <= y + 1 && y + 1 < max2 && _this.isDark(r2, Math.floor((x - min2) / cellSize))) {\n              p2 += \" \";\n            } else {\n              p2 += \"\\u2588\";\n            }\n            ascii += margin < 1 && y + 1 >= max2 ? blocksLastLineNoMargin[p2] : blocks[p2];\n          }\n          ascii += \"\\n\";\n        }\n        if (size2 % 2 && margin > 0) {\n          return ascii.substring(0, ascii.length - size2 - 1) + Array(size2 + 1).join(\"\\u2580\");\n        }\n        return ascii.substring(0, ascii.length - 1);\n      };\n      _this.createASCII = function(cellSize, margin) {\n        cellSize = cellSize || 1;\n        if (cellSize < 2) {\n          return _createHalfASCII(margin);\n        }\n        cellSize -= 1;\n        margin = typeof margin == \"undefined\" ? cellSize * 2 : margin;\n        var size2 = _this.getModuleCount() * cellSize + margin * 2;\n        var min2 = margin;\n        var max2 = size2 - margin;\n        var y, x, r, p2;\n        var white = Array(cellSize + 1).join(\"\\u2588\\u2588\");\n        var black = Array(cellSize + 1).join(\"  \");\n        var ascii = \"\";\n        var line = \"\";\n        for (y = 0; y < size2; y += 1) {\n          r = Math.floor((y - min2) / cellSize);\n          line = \"\";\n          for (x = 0; x < size2; x += 1) {\n            p2 = 1;\n            if (min2 <= x && x < max2 && min2 <= y && y < max2 && _this.isDark(r, Math.floor((x - min2) / cellSize))) {\n              p2 = 0;\n            }\n            line += p2 ? white : black;\n          }\n          for (r = 0; r < cellSize; r += 1) {\n            ascii += line + \"\\n\";\n          }\n        }\n        return ascii.substring(0, ascii.length - 1);\n      };\n      _this.renderTo2dContext = function(context, cellSize) {\n        cellSize = cellSize || 2;\n        var length = _this.getModuleCount();\n        for (var row = 0; row < length; row++) {\n          for (var col = 0; col < length; col++) {\n            context.fillStyle = _this.isDark(row, col) ? \"black\" : \"white\";\n            context.fillRect(row * cellSize, col * cellSize, cellSize, cellSize);\n          }\n        }\n      };\n      return _this;\n    };\n    qrcode3.stringToBytesFuncs = {\n      \"default\": function(s2) {\n        var bytes = [];\n        for (var i2 = 0; i2 < s2.length; i2 += 1) {\n          var c2 = s2.charCodeAt(i2);\n          bytes.push(c2 & 255);\n        }\n        return bytes;\n      }\n    };\n    qrcode3.stringToBytes = qrcode3.stringToBytesFuncs[\"default\"];\n    qrcode3.createStringToBytes = function(unicodeData, numChars) {\n      var unicodeMap = function() {\n        var bin = base64DecodeInputStream(unicodeData);\n        var read = function() {\n          var b = bin.read();\n          if (b == -1)\n            throw \"eof\";\n          return b;\n        };\n        var count = 0;\n        var unicodeMap2 = {};\n        while (true) {\n          var b0 = bin.read();\n          if (b0 == -1)\n            break;\n          var b1 = read();\n          var b2 = read();\n          var b3 = read();\n          var k = String.fromCharCode(b0 << 8 | b1);\n          var v = b2 << 8 | b3;\n          unicodeMap2[k] = v;\n          count += 1;\n        }\n        if (count != numChars) {\n          throw count + \" != \" + numChars;\n        }\n        return unicodeMap2;\n      }();\n      var unknownChar = \"?\".charCodeAt(0);\n      return function(s2) {\n        var bytes = [];\n        for (var i2 = 0; i2 < s2.length; i2 += 1) {\n          var c2 = s2.charCodeAt(i2);\n          if (c2 < 128) {\n            bytes.push(c2);\n          } else {\n            var b = unicodeMap[s2.charAt(i2)];\n            if (typeof b == \"number\") {\n              if ((b & 255) == b) {\n                bytes.push(b);\n              } else {\n                bytes.push(b >>> 8);\n                bytes.push(b & 255);\n              }\n            } else {\n              bytes.push(unknownChar);\n            }\n          }\n        }\n        return bytes;\n      };\n    };\n    var QRMode = {\n      MODE_NUMBER: 1 << 0,\n      MODE_ALPHA_NUM: 1 << 1,\n      MODE_8BIT_BYTE: 1 << 2,\n      MODE_KANJI: 1 << 3\n    };\n    var QRErrorCorrectionLevel = {\n      L: 1,\n      M: 0,\n      Q: 3,\n      H: 2\n    };\n    var QRMaskPattern = {\n      PATTERN000: 0,\n      PATTERN001: 1,\n      PATTERN010: 2,\n      PATTERN011: 3,\n      PATTERN100: 4,\n      PATTERN101: 5,\n      PATTERN110: 6,\n      PATTERN111: 7\n    };\n    var QRUtil = function() {\n      var PATTERN_POSITION_TABLE = [\n        [],\n        [6, 18],\n        [6, 22],\n        [6, 26],\n        [6, 30],\n        [6, 34],\n        [6, 22, 38],\n        [6, 24, 42],\n        [6, 26, 46],\n        [6, 28, 50],\n        [6, 30, 54],\n        [6, 32, 58],\n        [6, 34, 62],\n        [6, 26, 46, 66],\n        [6, 26, 48, 70],\n        [6, 26, 50, 74],\n        [6, 30, 54, 78],\n        [6, 30, 56, 82],\n        [6, 30, 58, 86],\n        [6, 34, 62, 90],\n        [6, 28, 50, 72, 94],\n        [6, 26, 50, 74, 98],\n        [6, 30, 54, 78, 102],\n        [6, 28, 54, 80, 106],\n        [6, 32, 58, 84, 110],\n        [6, 30, 58, 86, 114],\n        [6, 34, 62, 90, 118],\n        [6, 26, 50, 74, 98, 122],\n        [6, 30, 54, 78, 102, 126],\n        [6, 26, 52, 78, 104, 130],\n        [6, 30, 56, 82, 108, 134],\n        [6, 34, 60, 86, 112, 138],\n        [6, 30, 58, 86, 114, 142],\n        [6, 34, 62, 90, 118, 146],\n        [6, 30, 54, 78, 102, 126, 150],\n        [6, 24, 50, 76, 102, 128, 154],\n        [6, 28, 54, 80, 106, 132, 158],\n        [6, 32, 58, 84, 110, 136, 162],\n        [6, 26, 54, 82, 110, 138, 166],\n        [6, 30, 58, 86, 114, 142, 170]\n      ];\n      var G15 = 1 << 10 | 1 << 8 | 1 << 5 | 1 << 4 | 1 << 2 | 1 << 1 | 1 << 0;\n      var G18 = 1 << 12 | 1 << 11 | 1 << 10 | 1 << 9 | 1 << 8 | 1 << 5 | 1 << 2 | 1 << 0;\n      var G15_MASK = 1 << 14 | 1 << 12 | 1 << 10 | 1 << 4 | 1 << 1;\n      var _this = {};\n      var getBCHDigit = function(data) {\n        var digit = 0;\n        while (data != 0) {\n          digit += 1;\n          data >>>= 1;\n        }\n        return digit;\n      };\n      _this.getBCHTypeInfo = function(data) {\n        var d = data << 10;\n        while (getBCHDigit(d) - getBCHDigit(G15) >= 0) {\n          d ^= G15 << getBCHDigit(d) - getBCHDigit(G15);\n        }\n        return (data << 10 | d) ^ G15_MASK;\n      };\n      _this.getBCHTypeNumber = function(data) {\n        var d = data << 12;\n        while (getBCHDigit(d) - getBCHDigit(G18) >= 0) {\n          d ^= G18 << getBCHDigit(d) - getBCHDigit(G18);\n        }\n        return data << 12 | d;\n      };\n      _this.getPatternPosition = function(typeNumber) {\n        return PATTERN_POSITION_TABLE[typeNumber - 1];\n      };\n      _this.getMaskFunction = function(maskPattern) {\n        switch (maskPattern) {\n          case QRMaskPattern.PATTERN000:\n            return function(i2, j) {\n              return (i2 + j) % 2 == 0;\n            };\n          case QRMaskPattern.PATTERN001:\n            return function(i2, j) {\n              return i2 % 2 == 0;\n            };\n          case QRMaskPattern.PATTERN010:\n            return function(i2, j) {\n              return j % 3 == 0;\n            };\n          case QRMaskPattern.PATTERN011:\n            return function(i2, j) {\n              return (i2 + j) % 3 == 0;\n            };\n          case QRMaskPattern.PATTERN100:\n            return function(i2, j) {\n              return (Math.floor(i2 / 2) + Math.floor(j / 3)) % 2 == 0;\n            };\n          case QRMaskPattern.PATTERN101:\n            return function(i2, j) {\n              return i2 * j % 2 + i2 * j % 3 == 0;\n            };\n          case QRMaskPattern.PATTERN110:\n            return function(i2, j) {\n              return (i2 * j % 2 + i2 * j % 3) % 2 == 0;\n            };\n          case QRMaskPattern.PATTERN111:\n            return function(i2, j) {\n              return (i2 * j % 3 + (i2 + j) % 2) % 2 == 0;\n            };\n          default:\n            throw \"bad maskPattern:\" + maskPattern;\n        }\n      };\n      _this.getErrorCorrectPolynomial = function(errorCorrectLength) {\n        var a2 = qrPolynomial([1], 0);\n        for (var i2 = 0; i2 < errorCorrectLength; i2 += 1) {\n          a2 = a2.multiply(qrPolynomial([1, QRMath.gexp(i2)], 0));\n        }\n        return a2;\n      };\n      _this.getLengthInBits = function(mode, type) {\n        if (1 <= type && type < 10) {\n          switch (mode) {\n            case QRMode.MODE_NUMBER:\n              return 10;\n            case QRMode.MODE_ALPHA_NUM:\n              return 9;\n            case QRMode.MODE_8BIT_BYTE:\n              return 8;\n            case QRMode.MODE_KANJI:\n              return 8;\n            default:\n              throw \"mode:\" + mode;\n          }\n        } else if (type < 27) {\n          switch (mode) {\n            case QRMode.MODE_NUMBER:\n              return 12;\n            case QRMode.MODE_ALPHA_NUM:\n              return 11;\n            case QRMode.MODE_8BIT_BYTE:\n              return 16;\n            case QRMode.MODE_KANJI:\n              return 10;\n            default:\n              throw \"mode:\" + mode;\n          }\n        } else if (type < 41) {\n          switch (mode) {\n            case QRMode.MODE_NUMBER:\n              return 14;\n            case QRMode.MODE_ALPHA_NUM:\n              return 13;\n            case QRMode.MODE_8BIT_BYTE:\n              return 16;\n            case QRMode.MODE_KANJI:\n              return 12;\n            default:\n              throw \"mode:\" + mode;\n          }\n        } else {\n          throw \"type:\" + type;\n        }\n      };\n      _this.getLostPoint = function(qrcode4) {\n        var moduleCount = qrcode4.getModuleCount();\n        var lostPoint = 0;\n        for (var row = 0; row < moduleCount; row += 1) {\n          for (var col = 0; col < moduleCount; col += 1) {\n            var sameCount = 0;\n            var dark = qrcode4.isDark(row, col);\n            for (var r = -1; r <= 1; r += 1) {\n              if (row + r < 0 || moduleCount <= row + r) {\n                continue;\n              }\n              for (var c2 = -1; c2 <= 1; c2 += 1) {\n                if (col + c2 < 0 || moduleCount <= col + c2) {\n                  continue;\n                }\n                if (r == 0 && c2 == 0) {\n                  continue;\n                }\n                if (dark == qrcode4.isDark(row + r, col + c2)) {\n                  sameCount += 1;\n                }\n              }\n            }\n            if (sameCount > 5) {\n              lostPoint += 3 + sameCount - 5;\n            }\n          }\n        }\n        for (var row = 0; row < moduleCount - 1; row += 1) {\n          for (var col = 0; col < moduleCount - 1; col += 1) {\n            var count = 0;\n            if (qrcode4.isDark(row, col))\n              count += 1;\n            if (qrcode4.isDark(row + 1, col))\n              count += 1;\n            if (qrcode4.isDark(row, col + 1))\n              count += 1;\n            if (qrcode4.isDark(row + 1, col + 1))\n              count += 1;\n            if (count == 0 || count == 4) {\n              lostPoint += 3;\n            }\n          }\n        }\n        for (var row = 0; row < moduleCount; row += 1) {\n          for (var col = 0; col < moduleCount - 6; col += 1) {\n            if (qrcode4.isDark(row, col) && !qrcode4.isDark(row, col + 1) && qrcode4.isDark(row, col + 2) && qrcode4.isDark(row, col + 3) && qrcode4.isDark(row, col + 4) && !qrcode4.isDark(row, col + 5) && qrcode4.isDark(row, col + 6)) {\n              lostPoint += 40;\n            }\n          }\n        }\n        for (var col = 0; col < moduleCount; col += 1) {\n          for (var row = 0; row < moduleCount - 6; row += 1) {\n            if (qrcode4.isDark(row, col) && !qrcode4.isDark(row + 1, col) && qrcode4.isDark(row + 2, col) && qrcode4.isDark(row + 3, col) && qrcode4.isDark(row + 4, col) && !qrcode4.isDark(row + 5, col) && qrcode4.isDark(row + 6, col)) {\n              lostPoint += 40;\n            }\n          }\n        }\n        var darkCount = 0;\n        for (var col = 0; col < moduleCount; col += 1) {\n          for (var row = 0; row < moduleCount; row += 1) {\n            if (qrcode4.isDark(row, col)) {\n              darkCount += 1;\n            }\n          }\n        }\n        var ratio = Math.abs(100 * darkCount / moduleCount / moduleCount - 50) / 5;\n        lostPoint += ratio * 10;\n        return lostPoint;\n      };\n      return _this;\n    }();\n    var QRMath = function() {\n      var EXP_TABLE = new Array(256);\n      var LOG_TABLE = new Array(256);\n      for (var i2 = 0; i2 < 8; i2 += 1) {\n        EXP_TABLE[i2] = 1 << i2;\n      }\n      for (var i2 = 8; i2 < 256; i2 += 1) {\n        EXP_TABLE[i2] = EXP_TABLE[i2 - 4] ^ EXP_TABLE[i2 - 5] ^ EXP_TABLE[i2 - 6] ^ EXP_TABLE[i2 - 8];\n      }\n      for (var i2 = 0; i2 < 255; i2 += 1) {\n        LOG_TABLE[EXP_TABLE[i2]] = i2;\n      }\n      var _this = {};\n      _this.glog = function(n2) {\n        if (n2 < 1) {\n          throw \"glog(\" + n2 + \")\";\n        }\n        return LOG_TABLE[n2];\n      };\n      _this.gexp = function(n2) {\n        while (n2 < 0) {\n          n2 += 255;\n        }\n        while (n2 >= 256) {\n          n2 -= 255;\n        }\n        return EXP_TABLE[n2];\n      };\n      return _this;\n    }();\n    function qrPolynomial(num, shift2) {\n      if (typeof num.length == \"undefined\") {\n        throw num.length + \"/\" + shift2;\n      }\n      var _num = function() {\n        var offset2 = 0;\n        while (offset2 < num.length && num[offset2] == 0) {\n          offset2 += 1;\n        }\n        var _num2 = new Array(num.length - offset2 + shift2);\n        for (var i2 = 0; i2 < num.length - offset2; i2 += 1) {\n          _num2[i2] = num[i2 + offset2];\n        }\n        return _num2;\n      }();\n      var _this = {};\n      _this.getAt = function(index) {\n        return _num[index];\n      };\n      _this.getLength = function() {\n        return _num.length;\n      };\n      _this.multiply = function(e2) {\n        var num2 = new Array(_this.getLength() + e2.getLength() - 1);\n        for (var i2 = 0; i2 < _this.getLength(); i2 += 1) {\n          for (var j = 0; j < e2.getLength(); j += 1) {\n            num2[i2 + j] ^= QRMath.gexp(QRMath.glog(_this.getAt(i2)) + QRMath.glog(e2.getAt(j)));\n          }\n        }\n        return qrPolynomial(num2, 0);\n      };\n      _this.mod = function(e2) {\n        if (_this.getLength() - e2.getLength() < 0) {\n          return _this;\n        }\n        var ratio = QRMath.glog(_this.getAt(0)) - QRMath.glog(e2.getAt(0));\n        var num2 = new Array(_this.getLength());\n        for (var i2 = 0; i2 < _this.getLength(); i2 += 1) {\n          num2[i2] = _this.getAt(i2);\n        }\n        for (var i2 = 0; i2 < e2.getLength(); i2 += 1) {\n          num2[i2] ^= QRMath.gexp(QRMath.glog(e2.getAt(i2)) + ratio);\n        }\n        return qrPolynomial(num2, 0).mod(e2);\n      };\n      return _this;\n    }\n    var QRRSBlock = function() {\n      var RS_BLOCK_TABLE = [\n        [1, 26, 19],\n        [1, 26, 16],\n        [1, 26, 13],\n        [1, 26, 9],\n        [1, 44, 34],\n        [1, 44, 28],\n        [1, 44, 22],\n        [1, 44, 16],\n        [1, 70, 55],\n        [1, 70, 44],\n        [2, 35, 17],\n        [2, 35, 13],\n        [1, 100, 80],\n        [2, 50, 32],\n        [2, 50, 24],\n        [4, 25, 9],\n        [1, 134, 108],\n        [2, 67, 43],\n        [2, 33, 15, 2, 34, 16],\n        [2, 33, 11, 2, 34, 12],\n        [2, 86, 68],\n        [4, 43, 27],\n        [4, 43, 19],\n        [4, 43, 15],\n        [2, 98, 78],\n        [4, 49, 31],\n        [2, 32, 14, 4, 33, 15],\n        [4, 39, 13, 1, 40, 14],\n        [2, 121, 97],\n        [2, 60, 38, 2, 61, 39],\n        [4, 40, 18, 2, 41, 19],\n        [4, 40, 14, 2, 41, 15],\n        [2, 146, 116],\n        [3, 58, 36, 2, 59, 37],\n        [4, 36, 16, 4, 37, 17],\n        [4, 36, 12, 4, 37, 13],\n        [2, 86, 68, 2, 87, 69],\n        [4, 69, 43, 1, 70, 44],\n        [6, 43, 19, 2, 44, 20],\n        [6, 43, 15, 2, 44, 16],\n        [4, 101, 81],\n        [1, 80, 50, 4, 81, 51],\n        [4, 50, 22, 4, 51, 23],\n        [3, 36, 12, 8, 37, 13],\n        [2, 116, 92, 2, 117, 93],\n        [6, 58, 36, 2, 59, 37],\n        [4, 46, 20, 6, 47, 21],\n        [7, 42, 14, 4, 43, 15],\n        [4, 133, 107],\n        [8, 59, 37, 1, 60, 38],\n        [8, 44, 20, 4, 45, 21],\n        [12, 33, 11, 4, 34, 12],\n        [3, 145, 115, 1, 146, 116],\n        [4, 64, 40, 5, 65, 41],\n        [11, 36, 16, 5, 37, 17],\n        [11, 36, 12, 5, 37, 13],\n        [5, 109, 87, 1, 110, 88],\n        [5, 65, 41, 5, 66, 42],\n        [5, 54, 24, 7, 55, 25],\n        [11, 36, 12, 7, 37, 13],\n        [5, 122, 98, 1, 123, 99],\n        [7, 73, 45, 3, 74, 46],\n        [15, 43, 19, 2, 44, 20],\n        [3, 45, 15, 13, 46, 16],\n        [1, 135, 107, 5, 136, 108],\n        [10, 74, 46, 1, 75, 47],\n        [1, 50, 22, 15, 51, 23],\n        [2, 42, 14, 17, 43, 15],\n        [5, 150, 120, 1, 151, 121],\n        [9, 69, 43, 4, 70, 44],\n        [17, 50, 22, 1, 51, 23],\n        [2, 42, 14, 19, 43, 15],\n        [3, 141, 113, 4, 142, 114],\n        [3, 70, 44, 11, 71, 45],\n        [17, 47, 21, 4, 48, 22],\n        [9, 39, 13, 16, 40, 14],\n        [3, 135, 107, 5, 136, 108],\n        [3, 67, 41, 13, 68, 42],\n        [15, 54, 24, 5, 55, 25],\n        [15, 43, 15, 10, 44, 16],\n        [4, 144, 116, 4, 145, 117],\n        [17, 68, 42],\n        [17, 50, 22, 6, 51, 23],\n        [19, 46, 16, 6, 47, 17],\n        [2, 139, 111, 7, 140, 112],\n        [17, 74, 46],\n        [7, 54, 24, 16, 55, 25],\n        [34, 37, 13],\n        [4, 151, 121, 5, 152, 122],\n        [4, 75, 47, 14, 76, 48],\n        [11, 54, 24, 14, 55, 25],\n        [16, 45, 15, 14, 46, 16],\n        [6, 147, 117, 4, 148, 118],\n        [6, 73, 45, 14, 74, 46],\n        [11, 54, 24, 16, 55, 25],\n        [30, 46, 16, 2, 47, 17],\n        [8, 132, 106, 4, 133, 107],\n        [8, 75, 47, 13, 76, 48],\n        [7, 54, 24, 22, 55, 25],\n        [22, 45, 15, 13, 46, 16],\n        [10, 142, 114, 2, 143, 115],\n        [19, 74, 46, 4, 75, 47],\n        [28, 50, 22, 6, 51, 23],\n        [33, 46, 16, 4, 47, 17],\n        [8, 152, 122, 4, 153, 123],\n        [22, 73, 45, 3, 74, 46],\n        [8, 53, 23, 26, 54, 24],\n        [12, 45, 15, 28, 46, 16],\n        [3, 147, 117, 10, 148, 118],\n        [3, 73, 45, 23, 74, 46],\n        [4, 54, 24, 31, 55, 25],\n        [11, 45, 15, 31, 46, 16],\n        [7, 146, 116, 7, 147, 117],\n        [21, 73, 45, 7, 74, 46],\n        [1, 53, 23, 37, 54, 24],\n        [19, 45, 15, 26, 46, 16],\n        [5, 145, 115, 10, 146, 116],\n        [19, 75, 47, 10, 76, 48],\n        [15, 54, 24, 25, 55, 25],\n        [23, 45, 15, 25, 46, 16],\n        [13, 145, 115, 3, 146, 116],\n        [2, 74, 46, 29, 75, 47],\n        [42, 54, 24, 1, 55, 25],\n        [23, 45, 15, 28, 46, 16],\n        [17, 145, 115],\n        [10, 74, 46, 23, 75, 47],\n        [10, 54, 24, 35, 55, 25],\n        [19, 45, 15, 35, 46, 16],\n        [17, 145, 115, 1, 146, 116],\n        [14, 74, 46, 21, 75, 47],\n        [29, 54, 24, 19, 55, 25],\n        [11, 45, 15, 46, 46, 16],\n        [13, 145, 115, 6, 146, 116],\n        [14, 74, 46, 23, 75, 47],\n        [44, 54, 24, 7, 55, 25],\n        [59, 46, 16, 1, 47, 17],\n        [12, 151, 121, 7, 152, 122],\n        [12, 75, 47, 26, 76, 48],\n        [39, 54, 24, 14, 55, 25],\n        [22, 45, 15, 41, 46, 16],\n        [6, 151, 121, 14, 152, 122],\n        [6, 75, 47, 34, 76, 48],\n        [46, 54, 24, 10, 55, 25],\n        [2, 45, 15, 64, 46, 16],\n        [17, 152, 122, 4, 153, 123],\n        [29, 74, 46, 14, 75, 47],\n        [49, 54, 24, 10, 55, 25],\n        [24, 45, 15, 46, 46, 16],\n        [4, 152, 122, 18, 153, 123],\n        [13, 74, 46, 32, 75, 47],\n        [48, 54, 24, 14, 55, 25],\n        [42, 45, 15, 32, 46, 16],\n        [20, 147, 117, 4, 148, 118],\n        [40, 75, 47, 7, 76, 48],\n        [43, 54, 24, 22, 55, 25],\n        [10, 45, 15, 67, 46, 16],\n        [19, 148, 118, 6, 149, 119],\n        [18, 75, 47, 31, 76, 48],\n        [34, 54, 24, 34, 55, 25],\n        [20, 45, 15, 61, 46, 16]\n      ];\n      var qrRSBlock = function(totalCount, dataCount) {\n        var _this2 = {};\n        _this2.totalCount = totalCount;\n        _this2.dataCount = dataCount;\n        return _this2;\n      };\n      var _this = {};\n      var getRsBlockTable = function(typeNumber, errorCorrectionLevel) {\n        switch (errorCorrectionLevel) {\n          case QRErrorCorrectionLevel.L:\n            return RS_BLOCK_TABLE[(typeNumber - 1) * 4 + 0];\n          case QRErrorCorrectionLevel.M:\n            return RS_BLOCK_TABLE[(typeNumber - 1) * 4 + 1];\n          case QRErrorCorrectionLevel.Q:\n            return RS_BLOCK_TABLE[(typeNumber - 1) * 4 + 2];\n          case QRErrorCorrectionLevel.H:\n            return RS_BLOCK_TABLE[(typeNumber - 1) * 4 + 3];\n          default:\n            return void 0;\n        }\n      };\n      _this.getRSBlocks = function(typeNumber, errorCorrectionLevel) {\n        var rsBlock = getRsBlockTable(typeNumber, errorCorrectionLevel);\n        if (typeof rsBlock == \"undefined\") {\n          throw \"bad rs block @ typeNumber:\" + typeNumber + \"/errorCorrectionLevel:\" + errorCorrectionLevel;\n        }\n        var length = rsBlock.length / 3;\n        var list = [];\n        for (var i2 = 0; i2 < length; i2 += 1) {\n          var count = rsBlock[i2 * 3 + 0];\n          var totalCount = rsBlock[i2 * 3 + 1];\n          var dataCount = rsBlock[i2 * 3 + 2];\n          for (var j = 0; j < count; j += 1) {\n            list.push(qrRSBlock(totalCount, dataCount));\n          }\n        }\n        return list;\n      };\n      return _this;\n    }();\n    var qrBitBuffer = function() {\n      var _buffer = [];\n      var _length = 0;\n      var _this = {};\n      _this.getBuffer = function() {\n        return _buffer;\n      };\n      _this.getAt = function(index) {\n        var bufIndex = Math.floor(index / 8);\n        return (_buffer[bufIndex] >>> 7 - index % 8 & 1) == 1;\n      };\n      _this.put = function(num, length) {\n        for (var i2 = 0; i2 < length; i2 += 1) {\n          _this.putBit((num >>> length - i2 - 1 & 1) == 1);\n        }\n      };\n      _this.getLengthInBits = function() {\n        return _length;\n      };\n      _this.putBit = function(bit) {\n        var bufIndex = Math.floor(_length / 8);\n        if (_buffer.length <= bufIndex) {\n          _buffer.push(0);\n        }\n        if (bit) {\n          _buffer[bufIndex] |= 128 >>> _length % 8;\n        }\n        _length += 1;\n      };\n      return _this;\n    };\n    var qrNumber = function(data) {\n      var _mode = QRMode.MODE_NUMBER;\n      var _data = data;\n      var _this = {};\n      _this.getMode = function() {\n        return _mode;\n      };\n      _this.getLength = function(buffer) {\n        return _data.length;\n      };\n      _this.write = function(buffer) {\n        var data2 = _data;\n        var i2 = 0;\n        while (i2 + 2 < data2.length) {\n          buffer.put(strToNum(data2.substring(i2, i2 + 3)), 10);\n          i2 += 3;\n        }\n        if (i2 < data2.length) {\n          if (data2.length - i2 == 1) {\n            buffer.put(strToNum(data2.substring(i2, i2 + 1)), 4);\n          } else if (data2.length - i2 == 2) {\n            buffer.put(strToNum(data2.substring(i2, i2 + 2)), 7);\n          }\n        }\n      };\n      var strToNum = function(s2) {\n        var num = 0;\n        for (var i2 = 0; i2 < s2.length; i2 += 1) {\n          num = num * 10 + chatToNum(s2.charAt(i2));\n        }\n        return num;\n      };\n      var chatToNum = function(c2) {\n        if (\"0\" <= c2 && c2 <= \"9\") {\n          return c2.charCodeAt(0) - \"0\".charCodeAt(0);\n        }\n        throw \"illegal char :\" + c2;\n      };\n      return _this;\n    };\n    var qrAlphaNum = function(data) {\n      var _mode = QRMode.MODE_ALPHA_NUM;\n      var _data = data;\n      var _this = {};\n      _this.getMode = function() {\n        return _mode;\n      };\n      _this.getLength = function(buffer) {\n        return _data.length;\n      };\n      _this.write = function(buffer) {\n        var s2 = _data;\n        var i2 = 0;\n        while (i2 + 1 < s2.length) {\n          buffer.put(\n            getCode(s2.charAt(i2)) * 45 + getCode(s2.charAt(i2 + 1)),\n            11\n          );\n          i2 += 2;\n        }\n        if (i2 < s2.length) {\n          buffer.put(getCode(s2.charAt(i2)), 6);\n        }\n      };\n      var getCode = function(c2) {\n        if (\"0\" <= c2 && c2 <= \"9\") {\n          return c2.charCodeAt(0) - \"0\".charCodeAt(0);\n        } else if (\"A\" <= c2 && c2 <= \"Z\") {\n          return c2.charCodeAt(0) - \"A\".charCodeAt(0) + 10;\n        } else {\n          switch (c2) {\n            case \" \":\n              return 36;\n            case \"$\":\n              return 37;\n            case \"%\":\n              return 38;\n            case \"*\":\n              return 39;\n            case \"+\":\n              return 40;\n            case \"-\":\n              return 41;\n            case \".\":\n              return 42;\n            case \"/\":\n              return 43;\n            case \":\":\n              return 44;\n            default:\n              throw \"illegal char :\" + c2;\n          }\n        }\n      };\n      return _this;\n    };\n    var qr8BitByte = function(data) {\n      var _mode = QRMode.MODE_8BIT_BYTE;\n      var _bytes = qrcode3.stringToBytes(data);\n      var _this = {};\n      _this.getMode = function() {\n        return _mode;\n      };\n      _this.getLength = function(buffer) {\n        return _bytes.length;\n      };\n      _this.write = function(buffer) {\n        for (var i2 = 0; i2 < _bytes.length; i2 += 1) {\n          buffer.put(_bytes[i2], 8);\n        }\n      };\n      return _this;\n    };\n    var qrKanji = function(data) {\n      var _mode = QRMode.MODE_KANJI;\n      var stringToBytes = qrcode3.stringToBytesFuncs[\"SJIS\"];\n      if (!stringToBytes) {\n        throw \"sjis not supported.\";\n      }\n      !function(c2, code) {\n        var test = stringToBytes(c2);\n        if (test.length != 2 || (test[0] << 8 | test[1]) != code) {\n          throw \"sjis not supported.\";\n        }\n      }(\"\\u53CB\", 38726);\n      var _bytes = stringToBytes(data);\n      var _this = {};\n      _this.getMode = function() {\n        return _mode;\n      };\n      _this.getLength = function(buffer) {\n        return ~~(_bytes.length / 2);\n      };\n      _this.write = function(buffer) {\n        var data2 = _bytes;\n        var i2 = 0;\n        while (i2 + 1 < data2.length) {\n          var c2 = (255 & data2[i2]) << 8 | 255 & data2[i2 + 1];\n          if (33088 <= c2 && c2 <= 40956) {\n            c2 -= 33088;\n          } else if (57408 <= c2 && c2 <= 60351) {\n            c2 -= 49472;\n          } else {\n            throw \"illegal char at \" + (i2 + 1) + \"/\" + c2;\n          }\n          c2 = (c2 >>> 8 & 255) * 192 + (c2 & 255);\n          buffer.put(c2, 13);\n          i2 += 2;\n        }\n        if (i2 < data2.length) {\n          throw \"illegal char at \" + (i2 + 1);\n        }\n      };\n      return _this;\n    };\n    var byteArrayOutputStream = function() {\n      var _bytes = [];\n      var _this = {};\n      _this.writeByte = function(b) {\n        _bytes.push(b & 255);\n      };\n      _this.writeShort = function(i2) {\n        _this.writeByte(i2);\n        _this.writeByte(i2 >>> 8);\n      };\n      _this.writeBytes = function(b, off, len) {\n        off = off || 0;\n        len = len || b.length;\n        for (var i2 = 0; i2 < len; i2 += 1) {\n          _this.writeByte(b[i2 + off]);\n        }\n      };\n      _this.writeString = function(s2) {\n        for (var i2 = 0; i2 < s2.length; i2 += 1) {\n          _this.writeByte(s2.charCodeAt(i2));\n        }\n      };\n      _this.toByteArray = function() {\n        return _bytes;\n      };\n      _this.toString = function() {\n        var s2 = \"\";\n        s2 += \"[\";\n        for (var i2 = 0; i2 < _bytes.length; i2 += 1) {\n          if (i2 > 0) {\n            s2 += \",\";\n          }\n          s2 += _bytes[i2];\n        }\n        s2 += \"]\";\n        return s2;\n      };\n      return _this;\n    };\n    var base64EncodeOutputStream = function() {\n      var _buffer = 0;\n      var _buflen = 0;\n      var _length = 0;\n      var _base64 = \"\";\n      var _this = {};\n      var writeEncoded = function(b) {\n        _base64 += String.fromCharCode(encode(b & 63));\n      };\n      var encode = function(n2) {\n        if (n2 < 0)\n          ;\n        else if (n2 < 26) {\n          return 65 + n2;\n        } else if (n2 < 52) {\n          return 97 + (n2 - 26);\n        } else if (n2 < 62) {\n          return 48 + (n2 - 52);\n        } else if (n2 == 62) {\n          return 43;\n        } else if (n2 == 63) {\n          return 47;\n        }\n        throw \"n:\" + n2;\n      };\n      _this.writeByte = function(n2) {\n        _buffer = _buffer << 8 | n2 & 255;\n        _buflen += 8;\n        _length += 1;\n        while (_buflen >= 6) {\n          writeEncoded(_buffer >>> _buflen - 6);\n          _buflen -= 6;\n        }\n      };\n      _this.flush = function() {\n        if (_buflen > 0) {\n          writeEncoded(_buffer << 6 - _buflen);\n          _buffer = 0;\n          _buflen = 0;\n        }\n        if (_length % 3 != 0) {\n          var padlen = 3 - _length % 3;\n          for (var i2 = 0; i2 < padlen; i2 += 1) {\n            _base64 += \"=\";\n          }\n        }\n      };\n      _this.toString = function() {\n        return _base64;\n      };\n      return _this;\n    };\n    var base64DecodeInputStream = function(str) {\n      var _str = str;\n      var _pos = 0;\n      var _buffer = 0;\n      var _buflen = 0;\n      var _this = {};\n      _this.read = function() {\n        while (_buflen < 8) {\n          if (_pos >= _str.length) {\n            if (_buflen == 0) {\n              return -1;\n            }\n            throw \"unexpected end of file./\" + _buflen;\n          }\n          var c2 = _str.charAt(_pos);\n          _pos += 1;\n          if (c2 == \"=\") {\n            _buflen = 0;\n            return -1;\n          } else if (c2.match(/^\\s$/)) {\n            continue;\n          }\n          _buffer = _buffer << 6 | decode(c2.charCodeAt(0));\n          _buflen += 6;\n        }\n        var n2 = _buffer >>> _buflen - 8 & 255;\n        _buflen -= 8;\n        return n2;\n      };\n      var decode = function(c2) {\n        if (65 <= c2 && c2 <= 90) {\n          return c2 - 65;\n        } else if (97 <= c2 && c2 <= 122) {\n          return c2 - 97 + 26;\n        } else if (48 <= c2 && c2 <= 57) {\n          return c2 - 48 + 52;\n        } else if (c2 == 43) {\n          return 62;\n        } else if (c2 == 47) {\n          return 63;\n        } else {\n          throw \"c:\" + c2;\n        }\n      };\n      return _this;\n    };\n    var gifImage = function(width, height) {\n      var _width = width;\n      var _height = height;\n      var _data = new Array(width * height);\n      var _this = {};\n      _this.setPixel = function(x, y, pixel) {\n        _data[y * _width + x] = pixel;\n      };\n      _this.write = function(out) {\n        out.writeString(\"GIF87a\");\n        out.writeShort(_width);\n        out.writeShort(_height);\n        out.writeByte(128);\n        out.writeByte(0);\n        out.writeByte(0);\n        out.writeByte(0);\n        out.writeByte(0);\n        out.writeByte(0);\n        out.writeByte(255);\n        out.writeByte(255);\n        out.writeByte(255);\n        out.writeString(\",\");\n        out.writeShort(0);\n        out.writeShort(0);\n        out.writeShort(_width);\n        out.writeShort(_height);\n        out.writeByte(0);\n        var lzwMinCodeSize = 2;\n        var raster = getLZWRaster(lzwMinCodeSize);\n        out.writeByte(lzwMinCodeSize);\n        var offset2 = 0;\n        while (raster.length - offset2 > 255) {\n          out.writeByte(255);\n          out.writeBytes(raster, offset2, 255);\n          offset2 += 255;\n        }\n        out.writeByte(raster.length - offset2);\n        out.writeBytes(raster, offset2, raster.length - offset2);\n        out.writeByte(0);\n        out.writeString(\";\");\n      };\n      var bitOutputStream = function(out) {\n        var _out = out;\n        var _bitLength = 0;\n        var _bitBuffer = 0;\n        var _this2 = {};\n        _this2.write = function(data, length) {\n          if (data >>> length != 0) {\n            throw \"length over\";\n          }\n          while (_bitLength + length >= 8) {\n            _out.writeByte(255 & (data << _bitLength | _bitBuffer));\n            length -= 8 - _bitLength;\n            data >>>= 8 - _bitLength;\n            _bitBuffer = 0;\n            _bitLength = 0;\n          }\n          _bitBuffer = data << _bitLength | _bitBuffer;\n          _bitLength = _bitLength + length;\n        };\n        _this2.flush = function() {\n          if (_bitLength > 0) {\n            _out.writeByte(_bitBuffer);\n          }\n        };\n        return _this2;\n      };\n      var getLZWRaster = function(lzwMinCodeSize) {\n        var clearCode = 1 << lzwMinCodeSize;\n        var endCode = (1 << lzwMinCodeSize) + 1;\n        var bitLength = lzwMinCodeSize + 1;\n        var table = lzwTable();\n        for (var i2 = 0; i2 < clearCode; i2 += 1) {\n          table.add(String.fromCharCode(i2));\n        }\n        table.add(String.fromCharCode(clearCode));\n        table.add(String.fromCharCode(endCode));\n        var byteOut = byteArrayOutputStream();\n        var bitOut = bitOutputStream(byteOut);\n        bitOut.write(clearCode, bitLength);\n        var dataIndex = 0;\n        var s2 = String.fromCharCode(_data[dataIndex]);\n        dataIndex += 1;\n        while (dataIndex < _data.length) {\n          var c2 = String.fromCharCode(_data[dataIndex]);\n          dataIndex += 1;\n          if (table.contains(s2 + c2)) {\n            s2 = s2 + c2;\n          } else {\n            bitOut.write(table.indexOf(s2), bitLength);\n            if (table.size() < 4095) {\n              if (table.size() == 1 << bitLength) {\n                bitLength += 1;\n              }\n              table.add(s2 + c2);\n            }\n            s2 = c2;\n          }\n        }\n        bitOut.write(table.indexOf(s2), bitLength);\n        bitOut.write(endCode, bitLength);\n        bitOut.flush();\n        return byteOut.toByteArray();\n      };\n      var lzwTable = function() {\n        var _map = {};\n        var _size = 0;\n        var _this2 = {};\n        _this2.add = function(key) {\n          if (_this2.contains(key)) {\n            throw \"dup key:\" + key;\n          }\n          _map[key] = _size;\n          _size += 1;\n        };\n        _this2.size = function() {\n          return _size;\n        };\n        _this2.indexOf = function(key) {\n          return _map[key];\n        };\n        _this2.contains = function(key) {\n          return typeof _map[key] != \"undefined\";\n        };\n        return _this2;\n      };\n      return _this;\n    };\n    var createDataURL = function(width, height, getPixel) {\n      var gif = gifImage(width, height);\n      for (var y = 0; y < height; y += 1) {\n        for (var x = 0; x < width; x += 1) {\n          gif.setPixel(x, y, getPixel(x, y));\n        }\n      }\n      var b = byteArrayOutputStream();\n      gif.write(b);\n      var base64 = base64EncodeOutputStream();\n      var bytes = b.toByteArray();\n      for (var i2 = 0; i2 < bytes.length; i2 += 1) {\n        base64.writeByte(bytes[i2]);\n      }\n      base64.flush();\n      return \"data:image/gif;base64,\" + base64;\n    };\n    return qrcode3;\n  }();\n  !function() {\n    qrcode2.stringToBytesFuncs[\"UTF-8\"] = function(s2) {\n      function toUTF8Array(str) {\n        var utf8 = [];\n        for (var i2 = 0; i2 < str.length; i2++) {\n          var charcode = str.charCodeAt(i2);\n          if (charcode < 128)\n            utf8.push(charcode);\n          else if (charcode < 2048) {\n            utf8.push(\n              192 | charcode >> 6,\n              128 | charcode & 63\n            );\n          } else if (charcode < 55296 || charcode >= 57344) {\n            utf8.push(\n              224 | charcode >> 12,\n              128 | charcode >> 6 & 63,\n              128 | charcode & 63\n            );\n          } else {\n            i2++;\n            charcode = 65536 + ((charcode & 1023) << 10 | str.charCodeAt(i2) & 1023);\n            utf8.push(\n              240 | charcode >> 18,\n              128 | charcode >> 12 & 63,\n              128 | charcode >> 6 & 63,\n              128 | charcode & 63\n            );\n          }\n        }\n        return utf8;\n      }\n      return toUTF8Array(s2);\n    };\n  }();\n  (function(factory) {\n    {\n      module2.exports = factory();\n    }\n  })(function() {\n    return qrcode2;\n  });\n})(qrcode$1);\nconst qrcode = qrcode$1.exports;\nvar _tmpl$$6 = /* @__PURE__ */ template$1(`<div>`);\nconst QRCode = (props) => {\n  let qrCodeCanvasRef;\n  let qrCodeWrapperRef;\n  let imageRef;\n  createSignal(false);\n  const [picSize, setPicSize] = createSignal(picSizeDefault);\n  createEffect(() => {\n    const errorCorrectionLevel = \"L\";\n    const cellSize = 4;\n    const qr = qrcode(0, errorCorrectionLevel);\n    qr.addData(props.sourceUrl);\n    qr.make();\n    qrCodeCanvasRef.innerHTML = qr.createSvgTag(cellSize, 0);\n    const qrSize = qrCodeCanvasRef.firstElementChild.clientWidth;\n    const scale = Math.round(qrNormalSize / qrSize * 1e5) / 1e5;\n    if (imageRef) {\n      const imgSize = Math.ceil(imgSizeDefault / (scale * cellSize)) * cellSize;\n      const imgOffset = toPx(Math.ceil((qrSize - imgSize) / (2 * cellSize)) * cellSize);\n      imageRef.style.top = imgOffset;\n      imageRef.style.left = imgOffset;\n      imageRef.style.height = toPx(imgSize);\n      imageRef.style.width = toPx(imgSize);\n      setPicSize(Math.round(picSizeDefault / scale));\n    }\n    qrCodeWrapperRef.style.transform = `scale(${scale})`;\n  });\n  return createComponent(QrCodeBackground, {\n    get [\"class\"]() {\n      return props.class;\n    },\n    get children() {\n      return [createComponent(QrCodeWrapper$1, {\n        ref(r$) {\n          var _ref$ = qrCodeWrapperRef;\n          typeof _ref$ === \"function\" ? _ref$(r$) : qrCodeWrapperRef = r$;\n        },\n        get children() {\n          return [(() => {\n            var _el$ = _tmpl$$6();\n            var _ref$2 = qrCodeCanvasRef;\n            typeof _ref$2 === \"function\" ? use(_ref$2, _el$) : qrCodeCanvasRef = _el$;\n            return _el$;\n          })(), createComponent(Show, {\n            get when() {\n              return props.imageUrl;\n            },\n            get children() {\n              return createComponent(ImageBackground, {\n                ref(r$) {\n                  var _ref$3 = imageRef;\n                  typeof _ref$3 === \"function\" ? _ref$3(r$) : imageRef = r$;\n                },\n                get children() {\n                  return createComponent(ImageStyled$2, {\n                    get src() {\n                      return props.imageUrl;\n                    },\n                    alt: \"\",\n                    get size() {\n                      return picSize();\n                    }\n                  });\n                }\n              });\n            }\n          })];\n        }\n      }), createComponent(Transition, {\n        onBeforeEnter: (el) => {\n          animate(el, [{\n            opacity: 0,\n            transform: \"translate(-50%, 44px)\"\n          }, {\n            opacity: 1,\n            transform: \"translate(-50%, 0)\"\n          }], {\n            duration: 150,\n            easing: \"ease-out\"\n          });\n        },\n        onExit: (el, done) => {\n          animate(el, [{\n            opacity: 1,\n            transform: \"translate(-50%, 0)\"\n          }, {\n            opacity: 0,\n            transform: \"translate(-50%, 44px)\"\n          }], {\n            duration: 150,\n            easing: \"ease-out\"\n          }).finished.then(() => {\n            done();\n          });\n        }\n      })];\n    }\n  });\n};\nconst $RAW = Symbol(\"store-raw\"), $NODE = Symbol(\"store-node\"), $HAS = Symbol(\"store-has\"), $SELF = Symbol(\"store-self\");\nfunction wrap$1(value) {\n  let p2 = value[$PROXY];\n  if (!p2) {\n    Object.defineProperty(value, $PROXY, {\n      value: p2 = new Proxy(value, proxyTraps$1)\n    });\n    if (!Array.isArray(value)) {\n      const keys = Object.keys(value), desc = Object.getOwnPropertyDescriptors(value);\n      for (let i2 = 0, l2 = keys.length; i2 < l2; i2++) {\n        const prop = keys[i2];\n        if (desc[prop].get) {\n          Object.defineProperty(value, prop, {\n            enumerable: desc[prop].enumerable,\n            get: desc[prop].get.bind(p2)\n          });\n        }\n      }\n    }\n  }\n  return p2;\n}\nfunction isWrappable(obj) {\n  let proto;\n  return obj != null && typeof obj === \"object\" && (obj[$PROXY] || !(proto = Object.getPrototypeOf(obj)) || proto === Object.prototype || Array.isArray(obj));\n}\nfunction unwrap(item, set = /* @__PURE__ */ new Set()) {\n  let result, unwrapped, v, prop;\n  if (result = item != null && item[$RAW])\n    return result;\n  if (!isWrappable(item) || set.has(item))\n    return item;\n  if (Array.isArray(item)) {\n    if (Object.isFrozen(item))\n      item = item.slice(0);\n    else\n      set.add(item);\n    for (let i2 = 0, l2 = item.length; i2 < l2; i2++) {\n      v = item[i2];\n      if ((unwrapped = unwrap(v, set)) !== v)\n        item[i2] = unwrapped;\n    }\n  } else {\n    if (Object.isFrozen(item))\n      item = Object.assign({}, item);\n    else\n      set.add(item);\n    const keys = Object.keys(item), desc = Object.getOwnPropertyDescriptors(item);\n    for (let i2 = 0, l2 = keys.length; i2 < l2; i2++) {\n      prop = keys[i2];\n      if (desc[prop].get)\n        continue;\n      v = item[prop];\n      if ((unwrapped = unwrap(v, set)) !== v)\n        item[prop] = unwrapped;\n    }\n  }\n  return item;\n}\nfunction getNodes(target, symbol) {\n  let nodes = target[symbol];\n  if (!nodes)\n    Object.defineProperty(target, symbol, {\n      value: nodes = /* @__PURE__ */ Object.create(null)\n    });\n  return nodes;\n}\nfunction getNode(nodes, property, value) {\n  if (nodes[property])\n    return nodes[property];\n  const [s2, set] = createSignal(value, {\n    equals: false,\n    internal: true\n  });\n  s2.$ = set;\n  return nodes[property] = s2;\n}\nfunction proxyDescriptor$1(target, property) {\n  const desc = Reflect.getOwnPropertyDescriptor(target, property);\n  if (!desc || desc.get || !desc.configurable || property === $PROXY || property === $NODE)\n    return desc;\n  delete desc.value;\n  delete desc.writable;\n  desc.get = () => target[$PROXY][property];\n  return desc;\n}\nfunction trackSelf(target) {\n  getListener() && getNode(getNodes(target, $NODE), $SELF)();\n}\nfunction ownKeys(target) {\n  trackSelf(target);\n  return Reflect.ownKeys(target);\n}\nconst proxyTraps$1 = {\n  get(target, property, receiver) {\n    if (property === $RAW)\n      return target;\n    if (property === $PROXY)\n      return receiver;\n    if (property === $TRACK) {\n      trackSelf(target);\n      return receiver;\n    }\n    const nodes = getNodes(target, $NODE);\n    const tracked = nodes[property];\n    let value = tracked ? tracked() : target[property];\n    if (property === $NODE || property === $HAS || property === \"__proto__\")\n      return value;\n    if (!tracked) {\n      const desc = Object.getOwnPropertyDescriptor(target, property);\n      if (getListener() && (typeof value !== \"function\" || target.hasOwnProperty(property)) && !(desc && desc.get))\n        value = getNode(nodes, property, value)();\n    }\n    return isWrappable(value) ? wrap$1(value) : value;\n  },\n  has(target, property) {\n    if (property === $RAW || property === $PROXY || property === $TRACK || property === $NODE || property === $HAS || property === \"__proto__\")\n      return true;\n    getListener() && getNode(getNodes(target, $HAS), property)();\n    return property in target;\n  },\n  set() {\n    return true;\n  },\n  deleteProperty() {\n    return true;\n  },\n  ownKeys,\n  getOwnPropertyDescriptor: proxyDescriptor$1\n};\nfunction setProperty(state, property, value, deleting = false) {\n  if (!deleting && state[property] === value)\n    return;\n  const prev = state[property], len = state.length;\n  if (value === void 0) {\n    delete state[property];\n    if (state[$HAS] && state[$HAS][property] && prev !== void 0)\n      state[$HAS][property].$();\n  } else {\n    state[property] = value;\n    if (state[$HAS] && state[$HAS][property] && prev === void 0)\n      state[$HAS][property].$();\n  }\n  let nodes = getNodes(state, $NODE), node;\n  if (node = getNode(nodes, property, prev))\n    node.$(() => value);\n  if (Array.isArray(state) && state.length !== len) {\n    for (let i2 = state.length; i2 < len; i2++)\n      (node = nodes[i2]) && node.$();\n    (node = getNode(nodes, \"length\", len)) && node.$(state.length);\n  }\n  (node = nodes[$SELF]) && node.$();\n}\nfunction mergeStoreNode(state, value) {\n  const keys = Object.keys(value);\n  for (let i2 = 0; i2 < keys.length; i2 += 1) {\n    const key = keys[i2];\n    setProperty(state, key, value[key]);\n  }\n}\nfunction updateArray(current, next) {\n  if (typeof next === \"function\")\n    next = next(current);\n  next = unwrap(next);\n  if (Array.isArray(next)) {\n    if (current === next)\n      return;\n    let i2 = 0, len = next.length;\n    for (; i2 < len; i2++) {\n      const value = next[i2];\n      if (current[i2] !== value)\n        setProperty(current, i2, value);\n    }\n    setProperty(current, \"length\", len);\n  } else\n    mergeStoreNode(current, next);\n}\nfunction updatePath(current, path, traversed = []) {\n  let part, prev = current;\n  if (path.length > 1) {\n    part = path.shift();\n    const partType = typeof part, isArray = Array.isArray(current);\n    if (Array.isArray(part)) {\n      for (let i2 = 0; i2 < part.length; i2++) {\n        updatePath(current, [part[i2]].concat(path), traversed);\n      }\n      return;\n    } else if (isArray && partType === \"function\") {\n      for (let i2 = 0; i2 < current.length; i2++) {\n        if (part(current[i2], i2))\n          updatePath(current, [i2].concat(path), traversed);\n      }\n      return;\n    } else if (isArray && partType === \"object\") {\n      const {\n        from = 0,\n        to = current.length - 1,\n        by = 1\n      } = part;\n      for (let i2 = from; i2 <= to; i2 += by) {\n        updatePath(current, [i2].concat(path), traversed);\n      }\n      return;\n    } else if (path.length > 1) {\n      updatePath(current[part], path, [part].concat(traversed));\n      return;\n    }\n    prev = current[part];\n    traversed = [part].concat(traversed);\n  }\n  let value = path[0];\n  if (typeof value === \"function\") {\n    value = value(prev, traversed);\n    if (value === prev)\n      return;\n  }\n  if (part === void 0 && value == void 0)\n    return;\n  value = unwrap(value);\n  if (part === void 0 || isWrappable(prev) && isWrappable(value) && !Array.isArray(value)) {\n    mergeStoreNode(prev, value);\n  } else\n    setProperty(current, part, value);\n}\nfunction createStore(...[store, options]) {\n  const unwrappedStore = unwrap(store || {});\n  const isArray = Array.isArray(unwrappedStore);\n  const wrappedStore = wrap$1(unwrappedStore);\n  function setStore(...args) {\n    batch(() => {\n      isArray && args.length === 1 ? updateArray(unwrappedStore, args[0]) : updatePath(unwrappedStore, args);\n    });\n  }\n  return [wrappedStore, setStore];\n}\nfunction deepReadObject(obj, path, defaultValue) {\n  const value = obj[path] || path.trim().split(\".\").reduce((a2, b) => a2 ? a2[b] : void 0, obj);\n  return value !== void 0 ? value : defaultValue;\n}\nvar template = (str, params, reg = /{{([^{}]+)}}/g) => str.replace(reg, (_, key) => deepReadObject(params, key, \"\"));\nvar createI18nContext = (init = {}, lang = typeof navigator !== \"undefined\" && navigator.language in init ? navigator.language : ((_h) => (_h = Object.keys(init)[0]) != null ? _h : \"\")()) => {\n  const [locale, setLocale] = createSignal(lang);\n  const [dict, setDict] = createStore(init);\n  const translate = (key, params, defaultValue) => {\n    const val = deepReadObject(dict[locale()], key, defaultValue || \"\");\n    if (typeof val === \"function\")\n      return val(params);\n    if (typeof val === \"string\")\n      return template(val, params || {});\n    return val;\n  };\n  const actions = {\n    add(lang2, table) {\n      setDict(lang2, (t2) => Object.assign(t2 || {}, table));\n    },\n    locale: (lang2) => lang2 ? setLocale(lang2) : locale(),\n    dict: (lang2) => deepReadObject(dict, lang2)\n  };\n  return [translate, actions];\n};\nvar I18nContext = createContext({});\nvar useI18n = () => useContext(I18nContext);\nconst TextStyled$2 = styled.div`\n    font-style: normal;\n    font-weight: ${(props) => props.fontWeight};\n    font-size: ${(props) => props.fontSize};\n    line-height: ${(props) => props.lineHeight};\n\n    color: ${(props) => props.color};\n`;\nconst Text = (inputs) => {\n  const theme = useTheme();\n  const [t2] = useI18n();\n  let textRef;\n  const color = () => inputs.color || theme.colors.text.primary;\n  const props = mergeProps({\n    fontSize: \"14px\",\n    fontWeight: \"510\",\n    lineHeight: \"130%\"\n  }, inputs);\n  createEffect(() => {\n    if (!textRef) {\n      return;\n    }\n    if (props.cursor === \"unset\") {\n      return;\n    }\n    if (getComputedStyle(textRef).cursor !== \"pointer\") {\n      textRef.style.cursor = \"default\";\n    }\n  });\n  return createComponent(TextStyled$2, {\n    get fontSize() {\n      return props.fontSize;\n    },\n    get fontWeight() {\n      return props.fontWeight;\n    },\n    get lineHeight() {\n      return props.lineHeight;\n    },\n    get color() {\n      return color();\n    },\n    get [\"class\"]() {\n      return props.class;\n    },\n    ref(r$) {\n      var _ref$ = textRef;\n      typeof _ref$ === \"function\" ? _ref$(r$) : textRef = r$;\n    },\n    \"data-tc-text\": \"true\",\n    get children() {\n      var _a2;\n      return createMemo(() => !!props.translationKey)() ? t2(props.translationKey, props.translationValues, (_a2 = props.children) == null ? void 0 : _a2.toString()) : props.children;\n    }\n  });\n};\nconst ImageContainer = styled.div`\n    position: relative;\n\n    &::after {\n        content: '';\n        display: block;\n        position: absolute;\n        top: 0;\n        bottom: 0;\n        left: 0;\n        right: 0;\n        border: 0.5px solid rgba(0, 0, 0, 0.08);\n\n        border-radius: inherit;\n    }\n`;\nconst ImageStyled$1 = styled(Image)`\n    width: 100%;\n    height: 100%;\n    border-radius: inherit;\n`;\nconst WalletImage = (props) => {\n  return createComponent(ImageContainer, {\n    get [\"class\"]() {\n      return props.class;\n    },\n    get children() {\n      return createComponent(ImageStyled$1, {\n        get src() {\n          return props.src;\n        }\n      });\n    }\n  });\n};\nconst borders = {\n  m: \"16px\",\n  s: \"12px\",\n  none: \"0\"\n};\nconst badgeBorders = {\n  m: \"6px\",\n  s: \"6px\",\n  none: \"0\"\n};\nstyled.button`\n    position: relative;\n    cursor: pointer;\n    border: none;\n    background-color: unset;\n    padding: 8px 4px;\n    width: 92px;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n\n    transition: transform 0.125s ease-in-out;\n\n    ${mediaNotTouch} {\n        &:hover {\n            transform: scale(1.04);\n        }\n    }\n\n    &:active {\n        transform: scale(0.96);\n    }\n\n    ${media(\"mobile\")} {\n        padding: 8px 4px;\n        width: 82px;\n    }\n\n    ${mediaTouch} {\n        &:active {\n            transform: scale(0.92);\n        }\n    }\n`;\nstyled(WalletImage)`\n    width: 60px;\n    height: 60px;\n    border-radius: ${(props) => borders[props.theme.borderRadius]};\n\n    margin-bottom: 8px;\n`;\nstyled(Image)`\n    position: absolute;\n    right: 10px;\n    top: 50px;\n    width: 24px;\n    height: 24px;\n    border-radius: ${(props) => badgeBorders[props.theme.borderRadius]};\n    box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.08);\n`;\nstyled(Text)`\n    max-width: 90px;\n    font-weight: 510;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n    overflow: hidden;\n\n    ${media(\"mobile\")} {\n        max-width: 80px;\n    }\n`;\nstyled(Text)`\n    font-weight: ${(props) => props.colorPrimary ? \"510\" : \"400\"};\n    max-width: 90px;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n    overflow: hidden;\n    color: ${(props) => props.colorPrimary ? props.theme.colors.text.primary : props.theme.colors.text.secondary};\n\n    ${media(\"mobile\")} {\n        max-width: 80px;\n    }\n`;\nconst H1Styled$2 = styled.h1`\n    font-style: normal;\n    font-weight: 590;\n    font-size: 20px;\n    line-height: 28px;\n\n    text-align: center;\n\n    color: ${(props) => props.theme.colors.text.primary};\n\n    margin-top: 0;\n    margin-bottom: 0;\n\n    cursor: default;\n`;\nconst H1 = (props) => {\n  const [t2] = useI18n();\n  return createComponent(H1Styled$2, {\n    get [\"class\"]() {\n      return props.class;\n    },\n    \"data-tc-h1\": \"true\",\n    get children() {\n      var _a2;\n      return createMemo(() => !!props.translationKey)() ? t2(props.translationKey, props.translationValues, (_a2 = props.children) == null ? void 0 : _a2.toString()) : props.children;\n    }\n  });\n};\nconst H2Styled$1 = styled.h2`\n    font-style: normal;\n    font-weight: 400;\n    font-size: 16px;\n    line-height: 22px;\n\n    text-align: center;\n\n    color: ${(props) => props.theme.colors.text.secondary};\n\n    margin-top: 0;\n    margin-bottom: 32px;\n\n    cursor: default;\n`;\nconst H2 = (props) => {\n  const [t2] = useI18n();\n  return createComponent(H2Styled$1, {\n    get [\"class\"]() {\n      return props.class;\n    },\n    \"data-tc-h2\": \"true\",\n    get children() {\n      var _a2;\n      return createMemo(() => !!props.translationKey)() ? t2(props.translationKey, props.translationValues, (_a2 = props.children) == null ? void 0 : _a2.toString()) : props.children;\n    }\n  });\n};\nconst H3Styled = styled.h3`\n    font-style: normal;\n    font-weight: 510;\n    font-size: 16px;\n    line-height: 20px;\n\n    color: ${(props) => props.theme.colors.text.primary};\n\n    margin-top: 0;\n    margin-bottom: 0;\n\n    cursor: default;\n`;\nconst H3 = (props) => {\n  const [t2] = useI18n();\n  return createComponent(H3Styled, {\n    \"data-tc-h3\": \"true\",\n    get [\"class\"]() {\n      return props.class;\n    },\n    get children() {\n      var _a2;\n      return createMemo(() => !!props.translationKey)() ? t2(props.translationKey, props.translationValues, (_a2 = props.children) == null ? void 0 : _a2.toString()) : props.children;\n    }\n  });\n};\nconst containerBorders = {\n  m: \"16px\",\n  s: \"12px\",\n  none: \"0\"\n};\nconst walletBorders = {\n  m: \"6px\",\n  s: \"6px\",\n  none: \"0\"\n};\nstyled.div`\n    width: 60px;\n    height: 60px;\n    padding: 8px;\n    margin-bottom: 8px;\n    border-radius: ${(props) => containerBorders[props.theme.borderRadius]};\n    background-color: ${(props) => props.theme.colors.background.tint};\n    display: grid;\n    grid-template: 1fr 1fr / 1fr 1fr;\n    gap: 4px;\n`;\nstyled(WalletImage)`\n    width: 20px;\n    height: 20px;\n    border-radius: ${(props) => walletBorders[props.theme.borderRadius]};\n`;\nstyled.div`\n    width: 100%;\n    overflow-y: auto;\n    max-height: ${(props) => props.maxHeight};\n\n    scrollbar-width: none;\n    &&::-webkit-scrollbar {\n        display: none;\n    }\n\n    &&::-webkit-scrollbar-track {\n        background: transparent;\n    }\n\n    &&::-webkit-scrollbar-thumb {\n        display: none;\n    }\n`;\nstyled.div`\n    height: 1px;\n    margin: 0 -24px;\n    width: calc(100% + 48px);\n    opacity: 0.08;\n    background: ${(props) => props.isShown ? props.theme.colors.icon.secondary : \"transparent\"};\n    transition: background 0.15s ease-in-out;\n\n    ${media(\"mobile\")} {\n        width: 100%;\n        margin: 0;\n    }\n`;\nconst [windowHeight, setWindowHeight] = createSignal(((_i = getWindow$1()) == null ? void 0 : _i.innerHeight) || 0);\nif (getWindow$1()) {\n  window.addEventListener(\"resize\", () => setWindowHeight(window.innerHeight));\n}\nconst AStyled = styled.a`\n    display: block;\n    text-decoration: unset;\n`;\nconst Link = (props) => {\n  const attributes = () => props.blank ? {\n    rel: \"noreferrer noopener\"\n  } : {};\n  return createComponent(AStyled, mergeProps({\n    get href() {\n      return props.href;\n    },\n    get target() {\n      return props.blank ? \"_blank\" : \"_self\";\n    },\n    get [\"class\"]() {\n      return props.class;\n    }\n  }, attributes, {\n    get children() {\n      return props.children;\n    }\n  }));\n};\nvar _tmpl$$5 = /* @__PURE__ */ template$1(`<svg width=24 height=24 viewBox=\"0 0 24 24\"fill=none xmlns=http://www.w3.org/2000/svg><path fill-rule=evenodd clip-rule=evenodd d=\"M7.76228 2.09998H10.2378C11.0458 2.09997 11.7067 2.09996 12.2438 2.14384C12.7997 2.18926 13.3017 2.28614 13.7706 2.52505C14.5045 2.89896 15.1011 3.49558 15.475 4.22941C15.7139 4.6983 15.8108 5.20038 15.8562 5.75629C15.9001 6.29337 15.9001 6.95422 15.9001 7.76227V8.1H16.2377C17.0457 8.09999 17.7066 8.09998 18.2437 8.14386C18.7996 8.18928 19.3017 8.28616 19.7705 8.52507C20.5044 8.89898 21.101 9.4956 21.4749 10.2294C21.7138 10.6983 21.8107 11.2004 21.8561 11.7563C21.9 12.2934 21.9 12.9542 21.9 13.7623V16.2377C21.9 17.0458 21.9 17.7066 21.8561 18.2437C21.8107 18.7996 21.7138 19.3017 21.4749 19.7706C21.101 20.5044 20.5044 21.101 19.7705 21.4749C19.3017 21.7138 18.7996 21.8107 18.2437 21.8561C17.7066 21.9 17.0458 21.9 16.2378 21.9H13.7623C12.9543 21.9 12.2934 21.9 11.7563 21.8561C11.2004 21.8107 10.6983 21.7138 10.2294 21.4749C9.49561 21.101 8.89898 20.5044 8.52508 19.7706C8.28616 19.3017 8.18928 18.7996 8.14386 18.2437C8.09998 17.7066 8.09999 17.0458 8.1 16.2377V15.9H7.76227C6.95426 15.9 6.29335 15.9 5.75629 15.8561C5.20038 15.8107 4.6983 15.7138 4.22941 15.4749C3.49558 15.101 2.89896 14.5044 2.52505 13.7705C2.28614 13.3017 2.18926 12.7996 2.14384 12.2437C2.09996 11.7066 2.09997 11.0458 2.09998 10.2377V7.76228C2.09997 6.95424 2.09996 6.29336 2.14384 5.75629C2.18926 5.20038 2.28614 4.6983 2.52505 4.22941C2.89896 3.49558 3.49558 2.89896 4.22941 2.52505C4.6983 2.28614 5.20038 2.18926 5.75629 2.14384C6.29336 2.09996 6.95425 2.09997 7.76228 2.09998ZM8.1 14.1V13.7623C8.09999 12.9542 8.09998 12.2934 8.14386 11.7563C8.18928 11.2004 8.28616 10.6983 8.52508 10.2294C8.89898 9.4956 9.49561 8.89898 10.2294 8.52507C10.6983 8.28616 11.2004 8.18928 11.7563 8.14386C12.2934 8.09998 12.9542 8.09999 13.7623 8.1H14.1001V7.79998C14.1001 6.94505 14.0994 6.35798 14.0622 5.90287C14.0259 5.45827 13.9593 5.21944 13.8712 5.0466C13.6699 4.65146 13.3486 4.3302 12.9535 4.12886C12.7806 4.04079 12.5418 3.97419 12.0972 3.93786C11.6421 3.90068 11.055 3.89998 10.2001 3.89998H7.79998C6.94505 3.89998 6.35798 3.90068 5.90287 3.93786C5.45827 3.97419 5.21944 4.04079 5.0466 4.12886C4.65146 4.3302 4.3302 4.65146 4.12886 5.0466C4.04079 5.21944 3.97419 5.45827 3.93786 5.90287C3.90068 6.35798 3.89998 6.94505 3.89998 7.79998V10.2C3.89998 11.0549 3.90068 11.642 3.93786 12.0971C3.97419 12.5417 4.04079 12.7805 4.12886 12.9534C4.3302 13.3485 4.65146 13.6698 5.0466 13.8711C5.21944 13.9592 5.45827 14.0258 5.90287 14.0621C6.35798 14.0993 6.94505 14.1 7.79998 14.1H8.1ZM11.0466 10.1289C11.2195 10.0408 11.4583 9.97421 11.9029 9.93788C12.358 9.9007 12.9451 9.9 13.8 9.9H16.2C17.0549 9.9 17.642 9.9007 18.0971 9.93788C18.5417 9.97421 18.7805 10.0408 18.9534 10.1289C19.3485 10.3302 19.6698 10.6515 19.8711 11.0466C19.9592 11.2195 20.0258 11.4583 20.0621 11.9029C20.0993 12.358 20.1 12.9451 20.1 13.8V16.2C20.1 17.0549 20.0993 17.642 20.0621 18.0971C20.0258 18.5417 19.9592 18.7805 19.8711 18.9534C19.6698 19.3485 19.3485 19.6698 18.9534 19.8711C18.7805 19.9592 18.5417 20.0258 18.0971 20.0621C17.642 20.0993 17.0549 20.1 16.2 20.1H13.8C12.9451 20.1 12.358 20.0993 11.9029 20.0621C11.4583 20.0258 11.2195 19.9592 11.0466 19.8711C10.6515 19.6698 10.3302 19.3485 10.1289 18.9534C10.0408 18.7805 9.97421 18.5417 9.93788 18.0971C9.9007 17.642 9.9 17.0549 9.9 16.2V13.8C9.9 12.9451 9.9007 12.358 9.93788 11.9029C9.97421 11.4583 10.0408 11.2195 10.1289 11.0466C10.3302 10.6515 10.6515 10.3302 11.0466 10.1289Z\">`);\nconst CopyIcon = (props) => {\n  const theme = useTheme();\n  const fill = () => props.fill || theme.colors.icon.primary;\n  return (() => {\n    var _el$ = _tmpl$$5(), _el$2 = _el$.firstChild;\n    createRenderEffect((_p$) => {\n      var _v$ = props.class, _v$2 = fill();\n      _v$ !== _p$.e && setAttribute(_el$, \"class\", _p$.e = _v$);\n      _v$2 !== _p$.t && setAttribute(_el$2, \"fill\", _p$.t = _v$2);\n      return _p$;\n    }, {\n      e: void 0,\n      t: void 0\n    });\n    return _el$;\n  })();\n};\nvar _tmpl$$4 = /* @__PURE__ */ template$1(`<svg width=24 height=24 viewBox=\"0 0 24 24\"fill=none xmlns=http://www.w3.org/2000/svg><path d=\"M8.7624 3.10001C7.95435 3.1 7.29349 3.09999 6.75642 3.14387C6.2005 3.18929 5.69842 3.28617 5.22954 3.52508C4.4957 3.89899 3.89908 4.49561 3.52517 5.22944C3.28626 5.69833 3.18938 6.20041 3.14396 6.75632C3.10008 7.2934 3.10009 7.95424 3.1001 8.76229V15.2377C3.10009 16.0458 3.10008 16.7066 3.14396 17.2437C3.18938 17.7996 3.28626 18.3017 3.52517 18.7706C3.89908 19.5044 4.4957 20.101 5.22954 20.4749C5.69842 20.7138 6.2005 20.8107 6.75642 20.8561C7.29349 20.9 7.95434 20.9 8.76239 20.9H12.0001C12.4972 20.9 12.9001 20.4971 12.9001 20C12.9001 19.503 12.4972 19.1 12.0001 19.1H8.8001C7.94517 19.1 7.3581 19.0993 6.90299 19.0621C6.45839 19.0258 6.21956 18.9592 6.04672 18.8711C5.65158 18.6698 5.33032 18.3485 5.12898 17.9534C5.04092 17.7805 4.97431 17.5417 4.93798 17.0971C4.9008 16.642 4.9001 16.0549 4.9001 15.2V8.80001C4.9001 7.94508 4.9008 7.35801 4.93798 6.9029C4.97431 6.4583 5.04092 6.21947 5.12898 6.04663C5.33032 5.65149 5.65158 5.33023 6.04672 5.12889C6.21956 5.04082 6.45839 4.97422 6.90299 4.93789C7.3581 4.90071 7.94517 4.90001 8.8001 4.90001H12.0001C12.4972 4.90001 12.9001 4.49706 12.9001 4.00001C12.9001 3.50295 12.4972 3.10001 12.0001 3.10001H8.7624Z\"></path><path d=\"M17.6364 7.3636C17.2849 7.01212 16.7151 7.01212 16.3636 7.3636C16.0121 7.71507 16.0121 8.28492 16.3636 8.63639L18.8272 11.1H9.00001C8.50295 11.1 8.10001 11.5029 8.10001 12C8.10001 12.497 8.50295 12.9 9.00001 12.9H18.8272L16.3636 15.3636C16.0121 15.7151 16.0121 16.2849 16.3636 16.6364C16.7151 16.9879 17.2849 16.9879 17.6364 16.6364L21.6364 12.6364C21.9879 12.2849 21.9879 11.7151 21.6364 11.3636L17.6364 7.3636Z\">`);\nconst DisconnectIcon = (props) => {\n  const theme = useTheme();\n  const fill = () => props.fill || theme.colors.icon.primary;\n  return (() => {\n    var _el$ = _tmpl$$4(), _el$2 = _el$.firstChild, _el$3 = _el$2.nextSibling;\n    createRenderEffect((_p$) => {\n      var _v$ = fill(), _v$2 = fill();\n      _v$ !== _p$.e && setAttribute(_el$2, \"fill\", _p$.e = _v$);\n      _v$2 !== _p$.t && setAttribute(_el$3, \"fill\", _p$.t = _v$2);\n      return _p$;\n    }, {\n      e: void 0,\n      t: void 0\n    });\n    return _el$;\n  })();\n};\nfunction copyToClipboard(text) {\n  return __async(this, null, function* () {\n    try {\n      if (!(navigator == null ? void 0 : navigator.clipboard)) {\n        throw new OKXConnectUiError(\"Clipboard API not available\");\n      }\n      return yield navigator.clipboard.writeText(text);\n    } catch (e2) {\n    }\n    fallbackCopyTextToClipboard(text);\n  });\n}\nfunction fallbackCopyTextToClipboard(text) {\n  const textArea = document.createElement(\"textarea\");\n  textArea.value = text;\n  textArea.style.top = \"0\";\n  textArea.style.left = \"0\";\n  textArea.style.position = \"fixed\";\n  document.body.appendChild(textArea);\n  textArea.focus();\n  textArea.select();\n  try {\n    document.execCommand(\"copy\");\n  } finally {\n    document.body.removeChild(textArea);\n  }\n}\nconst hoverBorders = {\n  m: \"8px\",\n  s: \"4px\",\n  none: \"0\"\n};\nconst dropdownBorders = {\n  m: \"16px\",\n  s: \"8px\",\n  none: \"0\"\n};\nconst AccountButtonDropdownStyled = styled.div`\n    width: 256px;\n    box-shadow: 0 4px 24px rgba(0, 0, 0, 0.16);\n    border-radius: ${(props) => dropdownBorders[props.theme.borderRadius]};\n\n    background-color: ${(props) => props.theme.colors.background.primary}\n           \n    color: ${(props) => props.theme.colors.text.primary}\n`;\nconst UlStyled = styled.ul`\n    background-color: ${(props) => props.theme.colors.background.primary};\n    padding: 8px;\n`;\nconst MenuButtonStyled = styled.button`\n    display: flex;\n    align-items: center;\n    gap: 8px;\n    height: 40px;\n    padding-left: 8px;\n    width: 100%;\n\n    background-color: ${(props) => props.theme.colors.background.primary};\n    border: none;\n    border-radius: ${(props) => hoverBorders[props.theme.borderRadius]};\n    cursor: pointer;\n\n    transition: background-color, transform 0.1s ease-in-out;\n\n    &:hover {\n        background-color: ${(props) => props.theme.colors.background.secondary};\n    }\n\n    &:active {\n        transform: scale(0.96);\n    }\n`;\nconst OKXConnectUiContext = createContext();\nvar _tmpl$$3 = /* @__PURE__ */ template$1(`<li>`);\nconst MenuItemText = (props) => createComponent(Text, {\n  get translationKey() {\n    return props.translationKey;\n  },\n  fontSize: \"15px\",\n  fontWeight: \"590\",\n  get children() {\n    return props.children;\n  }\n});\nconst AccountButtonDropdown = (props) => {\n  const tonConnectUi = useContext(OKXConnectUiContext);\n  const [isCopiedShown, setIsCopiedShown] = createSignal(false);\n  const onCopy = () => __async(exports, null, function* () {\n    const userFriendlyAddress = tonsdk.toUserFriendlyAddress(tonConnectUi.account.address);\n    yield copyToClipboard(userFriendlyAddress);\n    setIsCopiedShown(true);\n    setTimeout(() => setIsCopiedShown(false), 1e3);\n  });\n  const onDisconnect = () => {\n    tonConnectUi.disconnect();\n    props.onClose();\n  };\n  return createComponent(AccountButtonDropdownStyled, {\n    ref(r$) {\n      var _ref$ = props.ref;\n      typeof _ref$ === \"function\" ? _ref$(r$) : props.ref = r$;\n    },\n    get [\"class\"]() {\n      return props.class;\n    },\n    \"data-tc-dropdown\": \"true\",\n    get children() {\n      return createComponent(UlStyled, {\n        get children() {\n          return [(() => {\n            var _el$ = _tmpl$$3();\n            insert(_el$, createComponent(MenuButtonStyled, {\n              onClick: () => onCopy(),\n              get children() {\n                return [createComponent(CopyIcon, {}), createComponent(Show, {\n                  get when() {\n                    return !isCopiedShown();\n                  },\n                  get children() {\n                    return createComponent(MenuItemText, {\n                      translationKey: \"button.dropdown.copy\",\n                      children: \"Copy address\"\n                    });\n                  }\n                }), createComponent(Show, {\n                  get when() {\n                    return isCopiedShown();\n                  },\n                  get children() {\n                    return createComponent(MenuItemText, {\n                      translationKey: \"button.dropdown.copied\",\n                      children: \"Address copied!\"\n                    });\n                  }\n                })];\n              }\n            }));\n            return _el$;\n          })(), (() => {\n            var _el$2 = _tmpl$$3();\n            insert(_el$2, createComponent(MenuButtonStyled, {\n              onClick: () => onDisconnect(),\n              get children() {\n                return [createComponent(DisconnectIcon, {}), createComponent(MenuItemText, {\n                  translationKey: \"button.dropdown.disconnect\",\n                  children: \"Disconnect\"\n                })];\n              }\n            }));\n            return _el$2;\n          })()];\n        }\n      });\n    }\n  });\n};\nconst AccountButtonStyled = styled(Button)`\n    background-color: ${(props) => props.theme.colors.connectButton.background};\n    color: ${(props) => props.theme.colors.connectButton.foreground};\n    box-shadow: ${(props) => `0 4px 24px ${rgba(props.theme.colors.constant.black, 0.16)}`};\n    padding: 8px 16px 8px 12px;\n\n    display: flex;\n    align-items: center;\n    gap: 4px;\n    height: 40px;\n`;\nconst DropdownButtonStyled = styled(AccountButtonStyled)`\n    padding: 12px 16px;\n    min-width: 148px;\n    justify-content: center;\n    background-color: ${(props) => props.theme.colors.background.primary};\n`;\nconst LoaderButtonStyled = styled(Button)`\n    min-width: 148px;\n    height: 40px;\n\n    background-color: ${(props) => props.theme.colors.background.primary};\n    color: ${(props) => props.theme.colors.connectButton.foreground};\n    box-shadow: ${(props) => `0 4px 24px ${rgba(props.theme.colors.constant.black, 0.16)}`};\n\n    display: flex;\n    align-items: center;\n    justify-content: center;\n`;\nconst LoaderIconStyled = styled(LoaderIcon)`\n    height: 18px;\n    width: 18px;\n`;\nconst DropdownContainerStyled = styled.div`\n    width: fit-content;\n    display: flex;\n    flex-direction: column;\n    align-items: flex-end;\n`;\nconst DropdownStyled = styled(AccountButtonDropdown)`\n    box-sizing: border-box;\n    overflow: hidden;\n    margin-top: 12px;\n`;\nconst sides = [\"top\", \"right\", \"bottom\", \"left\"];\nconst alignments = [\"start\", \"end\"];\nconst placements = /* @__PURE__ */ sides.reduce((acc, side) => acc.concat(side, side + \"-\" + alignments[0], side + \"-\" + alignments[1]), []);\nconst min = Math.min;\nconst max = Math.max;\nconst round = Math.round;\nconst floor = Math.floor;\nconst createCoords = (v) => ({\n  x: v,\n  y: v\n});\nconst oppositeSideMap = {\n  left: \"right\",\n  right: \"left\",\n  bottom: \"top\",\n  top: \"bottom\"\n};\nconst oppositeAlignmentMap = {\n  start: \"end\",\n  end: \"start\"\n};\nfunction clamp(start, value, end) {\n  return max(start, min(value, end));\n}\nfunction evaluate(value, param) {\n  return typeof value === \"function\" ? value(param) : value;\n}\nfunction getSide(placement) {\n  return placement.split(\"-\")[0];\n}\nfunction getAlignment(placement) {\n  return placement.split(\"-\")[1];\n}\nfunction getOppositeAxis(axis) {\n  return axis === \"x\" ? \"y\" : \"x\";\n}\nfunction getAxisLength(axis) {\n  return axis === \"y\" ? \"height\" : \"width\";\n}\nfunction getSideAxis(placement) {\n  return [\"top\", \"bottom\"].includes(getSide(placement)) ? \"y\" : \"x\";\n}\nfunction getAlignmentAxis(placement) {\n  return getOppositeAxis(getSideAxis(placement));\n}\nfunction getAlignmentSides(placement, rects, rtl) {\n  if (rtl === void 0) {\n    rtl = false;\n  }\n  const alignment = getAlignment(placement);\n  const alignmentAxis = getAlignmentAxis(placement);\n  const length = getAxisLength(alignmentAxis);\n  let mainAlignmentSide = alignmentAxis === \"x\" ? alignment === (rtl ? \"end\" : \"start\") ? \"right\" : \"left\" : alignment === \"start\" ? \"bottom\" : \"top\";\n  if (rects.reference[length] > rects.floating[length]) {\n    mainAlignmentSide = getOppositePlacement(mainAlignmentSide);\n  }\n  return [mainAlignmentSide, getOppositePlacement(mainAlignmentSide)];\n}\nfunction getExpandedPlacements(placement) {\n  const oppositePlacement = getOppositePlacement(placement);\n  return [getOppositeAlignmentPlacement(placement), oppositePlacement, getOppositeAlignmentPlacement(oppositePlacement)];\n}\nfunction getOppositeAlignmentPlacement(placement) {\n  return placement.replace(/start|end/g, (alignment) => oppositeAlignmentMap[alignment]);\n}\nfunction getSideList(side, isStart, rtl) {\n  const lr = [\"left\", \"right\"];\n  const rl = [\"right\", \"left\"];\n  const tb = [\"top\", \"bottom\"];\n  const bt = [\"bottom\", \"top\"];\n  switch (side) {\n    case \"top\":\n    case \"bottom\":\n      if (rtl)\n        return isStart ? rl : lr;\n      return isStart ? lr : rl;\n    case \"left\":\n    case \"right\":\n      return isStart ? tb : bt;\n    default:\n      return [];\n  }\n}\nfunction getOppositeAxisPlacements(placement, flipAlignment, direction, rtl) {\n  const alignment = getAlignment(placement);\n  let list = getSideList(getSide(placement), direction === \"start\", rtl);\n  if (alignment) {\n    list = list.map((side) => side + \"-\" + alignment);\n    if (flipAlignment) {\n      list = list.concat(list.map(getOppositeAlignmentPlacement));\n    }\n  }\n  return list;\n}\nfunction getOppositePlacement(placement) {\n  return placement.replace(/left|right|bottom|top/g, (side) => oppositeSideMap[side]);\n}\nfunction expandPaddingObject(padding) {\n  return __spreadValues({\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 0\n  }, padding);\n}\nfunction getPaddingObject(padding) {\n  return typeof padding !== \"number\" ? expandPaddingObject(padding) : {\n    top: padding,\n    right: padding,\n    bottom: padding,\n    left: padding\n  };\n}\nfunction rectToClientRect(rect) {\n  const {\n    x,\n    y,\n    width,\n    height\n  } = rect;\n  return {\n    width,\n    height,\n    top: y,\n    left: x,\n    right: x + width,\n    bottom: y + height,\n    x,\n    y\n  };\n}\nfunction computeCoordsFromPlacement(_ref, placement, rtl) {\n  let {\n    reference,\n    floating\n  } = _ref;\n  const sideAxis = getSideAxis(placement);\n  const alignmentAxis = getAlignmentAxis(placement);\n  const alignLength = getAxisLength(alignmentAxis);\n  const side = getSide(placement);\n  const isVertical = sideAxis === \"y\";\n  const commonX = reference.x + reference.width / 2 - floating.width / 2;\n  const commonY = reference.y + reference.height / 2 - floating.height / 2;\n  const commonAlign = reference[alignLength] / 2 - floating[alignLength] / 2;\n  let coords;\n  switch (side) {\n    case \"top\":\n      coords = {\n        x: commonX,\n        y: reference.y - floating.height\n      };\n      break;\n    case \"bottom\":\n      coords = {\n        x: commonX,\n        y: reference.y + reference.height\n      };\n      break;\n    case \"right\":\n      coords = {\n        x: reference.x + reference.width,\n        y: commonY\n      };\n      break;\n    case \"left\":\n      coords = {\n        x: reference.x - floating.width,\n        y: commonY\n      };\n      break;\n    default:\n      coords = {\n        x: reference.x,\n        y: reference.y\n      };\n  }\n  switch (getAlignment(placement)) {\n    case \"start\":\n      coords[alignmentAxis] -= commonAlign * (rtl && isVertical ? -1 : 1);\n      break;\n    case \"end\":\n      coords[alignmentAxis] += commonAlign * (rtl && isVertical ? -1 : 1);\n      break;\n  }\n  return coords;\n}\nconst computePosition$1 = (reference, floating, config) => __async(exports, null, function* () {\n  const {\n    placement = \"bottom\",\n    strategy = \"absolute\",\n    middleware = [],\n    platform: platform2\n  } = config;\n  const validMiddleware = middleware.filter(Boolean);\n  const rtl = yield platform2.isRTL == null ? void 0 : platform2.isRTL(floating);\n  let rects = yield platform2.getElementRects({\n    reference,\n    floating,\n    strategy\n  });\n  let {\n    x,\n    y\n  } = computeCoordsFromPlacement(rects, placement, rtl);\n  let statefulPlacement = placement;\n  let middlewareData = {};\n  let resetCount = 0;\n  for (let i2 = 0; i2 < validMiddleware.length; i2++) {\n    const {\n      name,\n      fn\n    } = validMiddleware[i2];\n    const {\n      x: nextX,\n      y: nextY,\n      data,\n      reset\n    } = yield fn({\n      x,\n      y,\n      initialPlacement: placement,\n      placement: statefulPlacement,\n      strategy,\n      middlewareData,\n      rects,\n      platform: platform2,\n      elements: {\n        reference,\n        floating\n      }\n    });\n    x = nextX != null ? nextX : x;\n    y = nextY != null ? nextY : y;\n    middlewareData = __spreadProps(__spreadValues({}, middlewareData), {\n      [name]: __spreadValues(__spreadValues({}, middlewareData[name]), data)\n    });\n    if (reset && resetCount <= 50) {\n      resetCount++;\n      if (typeof reset === \"object\") {\n        if (reset.placement) {\n          statefulPlacement = reset.placement;\n        }\n        if (reset.rects) {\n          rects = reset.rects === true ? yield platform2.getElementRects({\n            reference,\n            floating,\n            strategy\n          }) : reset.rects;\n        }\n        ({\n          x,\n          y\n        } = computeCoordsFromPlacement(rects, statefulPlacement, rtl));\n      }\n      i2 = -1;\n    }\n  }\n  return {\n    x,\n    y,\n    placement: statefulPlacement,\n    strategy,\n    middlewareData\n  };\n});\nfunction detectOverflow(state, options) {\n  return __async(this, null, function* () {\n    var _await$platform$isEle;\n    if (options === void 0) {\n      options = {};\n    }\n    const {\n      x,\n      y,\n      platform: platform2,\n      rects,\n      elements,\n      strategy\n    } = state;\n    const {\n      boundary = \"clippingAncestors\",\n      rootBoundary = \"viewport\",\n      elementContext = \"floating\",\n      altBoundary = false,\n      padding = 0\n    } = evaluate(options, state);\n    const paddingObject = getPaddingObject(padding);\n    const altContext = elementContext === \"floating\" ? \"reference\" : \"floating\";\n    const element = elements[altBoundary ? altContext : elementContext];\n    const clippingClientRect = rectToClientRect(yield platform2.getClippingRect({\n      element: ((_await$platform$isEle = yield platform2.isElement == null ? void 0 : platform2.isElement(element)) != null ? _await$platform$isEle : true) ? element : element.contextElement || (yield platform2.getDocumentElement == null ? void 0 : platform2.getDocumentElement(elements.floating)),\n      boundary,\n      rootBoundary,\n      strategy\n    }));\n    const rect = elementContext === \"floating\" ? {\n      x,\n      y,\n      width: rects.floating.width,\n      height: rects.floating.height\n    } : rects.reference;\n    const offsetParent = yield platform2.getOffsetParent == null ? void 0 : platform2.getOffsetParent(elements.floating);\n    const offsetScale = (yield platform2.isElement == null ? void 0 : platform2.isElement(offsetParent)) ? (yield platform2.getScale == null ? void 0 : platform2.getScale(offsetParent)) || {\n      x: 1,\n      y: 1\n    } : {\n      x: 1,\n      y: 1\n    };\n    const elementClientRect = rectToClientRect(platform2.convertOffsetParentRelativeRectToViewportRelativeRect ? yield platform2.convertOffsetParentRelativeRectToViewportRelativeRect({\n      elements,\n      rect,\n      offsetParent,\n      strategy\n    }) : rect);\n    return {\n      top: (clippingClientRect.top - elementClientRect.top + paddingObject.top) / offsetScale.y,\n      bottom: (elementClientRect.bottom - clippingClientRect.bottom + paddingObject.bottom) / offsetScale.y,\n      left: (clippingClientRect.left - elementClientRect.left + paddingObject.left) / offsetScale.x,\n      right: (elementClientRect.right - clippingClientRect.right + paddingObject.right) / offsetScale.x\n    };\n  });\n}\nconst arrow = (options) => ({\n  name: \"arrow\",\n  options,\n  fn(state) {\n    return __async(this, null, function* () {\n      const {\n        x,\n        y,\n        placement,\n        rects,\n        platform: platform2,\n        elements,\n        middlewareData\n      } = state;\n      const {\n        element,\n        padding = 0\n      } = evaluate(options, state) || {};\n      if (element == null) {\n        return {};\n      }\n      const paddingObject = getPaddingObject(padding);\n      const coords = {\n        x,\n        y\n      };\n      const axis = getAlignmentAxis(placement);\n      const length = getAxisLength(axis);\n      const arrowDimensions = yield platform2.getDimensions(element);\n      const isYAxis = axis === \"y\";\n      const minProp = isYAxis ? \"top\" : \"left\";\n      const maxProp = isYAxis ? \"bottom\" : \"right\";\n      const clientProp = isYAxis ? \"clientHeight\" : \"clientWidth\";\n      const endDiff = rects.reference[length] + rects.reference[axis] - coords[axis] - rects.floating[length];\n      const startDiff = coords[axis] - rects.reference[axis];\n      const arrowOffsetParent = yield platform2.getOffsetParent == null ? void 0 : platform2.getOffsetParent(element);\n      let clientSize = arrowOffsetParent ? arrowOffsetParent[clientProp] : 0;\n      if (!clientSize || !(yield platform2.isElement == null ? void 0 : platform2.isElement(arrowOffsetParent))) {\n        clientSize = elements.floating[clientProp] || rects.floating[length];\n      }\n      const centerToReference = endDiff / 2 - startDiff / 2;\n      const largestPossiblePadding = clientSize / 2 - arrowDimensions[length] / 2 - 1;\n      const minPadding = min(paddingObject[minProp], largestPossiblePadding);\n      const maxPadding = min(paddingObject[maxProp], largestPossiblePadding);\n      const min$1 = minPadding;\n      const max2 = clientSize - arrowDimensions[length] - maxPadding;\n      const center = clientSize / 2 - arrowDimensions[length] / 2 + centerToReference;\n      const offset2 = clamp(min$1, center, max2);\n      const shouldAddOffset = !middlewareData.arrow && getAlignment(placement) != null && center !== offset2 && rects.reference[length] / 2 - (center < min$1 ? minPadding : maxPadding) - arrowDimensions[length] / 2 < 0;\n      const alignmentOffset = shouldAddOffset ? center < min$1 ? center - min$1 : center - max2 : 0;\n      return {\n        [axis]: coords[axis] + alignmentOffset,\n        data: __spreadValues({\n          [axis]: offset2,\n          centerOffset: center - offset2 - alignmentOffset\n        }, shouldAddOffset && {\n          alignmentOffset\n        }),\n        reset: shouldAddOffset\n      };\n    });\n  }\n});\nfunction getPlacementList(alignment, autoAlignment, allowedPlacements) {\n  const allowedPlacementsSortedByAlignment = alignment ? [...allowedPlacements.filter((placement) => getAlignment(placement) === alignment), ...allowedPlacements.filter((placement) => getAlignment(placement) !== alignment)] : allowedPlacements.filter((placement) => getSide(placement) === placement);\n  return allowedPlacementsSortedByAlignment.filter((placement) => {\n    if (alignment) {\n      return getAlignment(placement) === alignment || (autoAlignment ? getOppositeAlignmentPlacement(placement) !== placement : false);\n    }\n    return true;\n  });\n}\nconst autoPlacement = function(options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: \"autoPlacement\",\n    options,\n    fn(state) {\n      return __async(this, null, function* () {\n        var _middlewareData$autoP, _middlewareData$autoP2, _placementsThatFitOnE;\n        const {\n          rects,\n          middlewareData,\n          placement,\n          platform: platform2,\n          elements\n        } = state;\n        const _a3 = evaluate(options, state), {\n          crossAxis = false,\n          alignment,\n          allowedPlacements = placements,\n          autoAlignment = true\n        } = _a3, detectOverflowOptions = __objRest(_a3, [\n          \"crossAxis\",\n          \"alignment\",\n          \"allowedPlacements\",\n          \"autoAlignment\"\n        ]);\n        const placements$1 = alignment !== void 0 || allowedPlacements === placements ? getPlacementList(alignment || null, autoAlignment, allowedPlacements) : allowedPlacements;\n        const overflow = yield detectOverflow(state, detectOverflowOptions);\n        const currentIndex = ((_middlewareData$autoP = middlewareData.autoPlacement) == null ? void 0 : _middlewareData$autoP.index) || 0;\n        const currentPlacement = placements$1[currentIndex];\n        if (currentPlacement == null) {\n          return {};\n        }\n        const alignmentSides = getAlignmentSides(currentPlacement, rects, yield platform2.isRTL == null ? void 0 : platform2.isRTL(elements.floating));\n        if (placement !== currentPlacement) {\n          return {\n            reset: {\n              placement: placements$1[0]\n            }\n          };\n        }\n        const currentOverflows = [overflow[getSide(currentPlacement)], overflow[alignmentSides[0]], overflow[alignmentSides[1]]];\n        const allOverflows = [...((_middlewareData$autoP2 = middlewareData.autoPlacement) == null ? void 0 : _middlewareData$autoP2.overflows) || [], {\n          placement: currentPlacement,\n          overflows: currentOverflows\n        }];\n        const nextPlacement = placements$1[currentIndex + 1];\n        if (nextPlacement) {\n          return {\n            data: {\n              index: currentIndex + 1,\n              overflows: allOverflows\n            },\n            reset: {\n              placement: nextPlacement\n            }\n          };\n        }\n        const placementsSortedByMostSpace = allOverflows.map((d) => {\n          const alignment2 = getAlignment(d.placement);\n          return [d.placement, alignment2 && crossAxis ? d.overflows.slice(0, 2).reduce((acc, v) => acc + v, 0) : d.overflows[0], d.overflows];\n        }).sort((a2, b) => a2[1] - b[1]);\n        const placementsThatFitOnEachSide = placementsSortedByMostSpace.filter((d) => d[2].slice(\n          0,\n          getAlignment(d[0]) ? 2 : 3\n        ).every((v) => v <= 0));\n        const resetPlacement = ((_placementsThatFitOnE = placementsThatFitOnEachSide[0]) == null ? void 0 : _placementsThatFitOnE[0]) || placementsSortedByMostSpace[0][0];\n        if (resetPlacement !== placement) {\n          return {\n            data: {\n              index: currentIndex + 1,\n              overflows: allOverflows\n            },\n            reset: {\n              placement: resetPlacement\n            }\n          };\n        }\n        return {};\n      });\n    }\n  };\n};\nconst flip = function(options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: \"flip\",\n    options,\n    fn(state) {\n      return __async(this, null, function* () {\n        var _middlewareData$arrow, _middlewareData$flip;\n        const {\n          placement,\n          middlewareData,\n          rects,\n          initialPlacement,\n          platform: platform2,\n          elements\n        } = state;\n        const _a3 = evaluate(options, state), {\n          mainAxis: checkMainAxis = true,\n          crossAxis: checkCrossAxis = true,\n          fallbackPlacements: specifiedFallbackPlacements,\n          fallbackStrategy = \"bestFit\",\n          fallbackAxisSideDirection = \"none\",\n          flipAlignment = true\n        } = _a3, detectOverflowOptions = __objRest(_a3, [\n          \"mainAxis\",\n          \"crossAxis\",\n          \"fallbackPlacements\",\n          \"fallbackStrategy\",\n          \"fallbackAxisSideDirection\",\n          \"flipAlignment\"\n        ]);\n        if ((_middlewareData$arrow = middlewareData.arrow) != null && _middlewareData$arrow.alignmentOffset) {\n          return {};\n        }\n        const side = getSide(placement);\n        const initialSideAxis = getSideAxis(initialPlacement);\n        const isBasePlacement = getSide(initialPlacement) === initialPlacement;\n        const rtl = yield platform2.isRTL == null ? void 0 : platform2.isRTL(elements.floating);\n        const fallbackPlacements = specifiedFallbackPlacements || (isBasePlacement || !flipAlignment ? [getOppositePlacement(initialPlacement)] : getExpandedPlacements(initialPlacement));\n        const hasFallbackAxisSideDirection = fallbackAxisSideDirection !== \"none\";\n        if (!specifiedFallbackPlacements && hasFallbackAxisSideDirection) {\n          fallbackPlacements.push(...getOppositeAxisPlacements(initialPlacement, flipAlignment, fallbackAxisSideDirection, rtl));\n        }\n        const placements2 = [initialPlacement, ...fallbackPlacements];\n        const overflow = yield detectOverflow(state, detectOverflowOptions);\n        const overflows = [];\n        let overflowsData = ((_middlewareData$flip = middlewareData.flip) == null ? void 0 : _middlewareData$flip.overflows) || [];\n        if (checkMainAxis) {\n          overflows.push(overflow[side]);\n        }\n        if (checkCrossAxis) {\n          const sides2 = getAlignmentSides(placement, rects, rtl);\n          overflows.push(overflow[sides2[0]], overflow[sides2[1]]);\n        }\n        overflowsData = [...overflowsData, {\n          placement,\n          overflows\n        }];\n        if (!overflows.every((side2) => side2 <= 0)) {\n          var _middlewareData$flip2, _overflowsData$filter;\n          const nextIndex = (((_middlewareData$flip2 = middlewareData.flip) == null ? void 0 : _middlewareData$flip2.index) || 0) + 1;\n          const nextPlacement = placements2[nextIndex];\n          if (nextPlacement) {\n            return {\n              data: {\n                index: nextIndex,\n                overflows: overflowsData\n              },\n              reset: {\n                placement: nextPlacement\n              }\n            };\n          }\n          let resetPlacement = (_overflowsData$filter = overflowsData.filter((d) => d.overflows[0] <= 0).sort((a2, b) => a2.overflows[1] - b.overflows[1])[0]) == null ? void 0 : _overflowsData$filter.placement;\n          if (!resetPlacement) {\n            switch (fallbackStrategy) {\n              case \"bestFit\": {\n                var _overflowsData$filter2;\n                const placement2 = (_overflowsData$filter2 = overflowsData.filter((d) => {\n                  if (hasFallbackAxisSideDirection) {\n                    const currentSideAxis = getSideAxis(d.placement);\n                    return currentSideAxis === initialSideAxis || currentSideAxis === \"y\";\n                  }\n                  return true;\n                }).map((d) => [d.placement, d.overflows.filter((overflow2) => overflow2 > 0).reduce((acc, overflow2) => acc + overflow2, 0)]).sort((a2, b) => a2[1] - b[1])[0]) == null ? void 0 : _overflowsData$filter2[0];\n                if (placement2) {\n                  resetPlacement = placement2;\n                }\n                break;\n              }\n              case \"initialPlacement\":\n                resetPlacement = initialPlacement;\n                break;\n            }\n          }\n          if (placement !== resetPlacement) {\n            return {\n              reset: {\n                placement: resetPlacement\n              }\n            };\n          }\n        }\n        return {};\n      });\n    }\n  };\n};\nfunction getSideOffsets(overflow, rect) {\n  return {\n    top: overflow.top - rect.height,\n    right: overflow.right - rect.width,\n    bottom: overflow.bottom - rect.height,\n    left: overflow.left - rect.width\n  };\n}\nfunction isAnySideFullyClipped(overflow) {\n  return sides.some((side) => overflow[side] >= 0);\n}\nconst hide = function(options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: \"hide\",\n    options,\n    fn(state) {\n      return __async(this, null, function* () {\n        const {\n          rects\n        } = state;\n        const _a3 = evaluate(options, state), {\n          strategy = \"referenceHidden\"\n        } = _a3, detectOverflowOptions = __objRest(_a3, [\n          \"strategy\"\n        ]);\n        switch (strategy) {\n          case \"referenceHidden\": {\n            const overflow = yield detectOverflow(state, __spreadProps(__spreadValues({}, detectOverflowOptions), {\n              elementContext: \"reference\"\n            }));\n            const offsets = getSideOffsets(overflow, rects.reference);\n            return {\n              data: {\n                referenceHiddenOffsets: offsets,\n                referenceHidden: isAnySideFullyClipped(offsets)\n              }\n            };\n          }\n          case \"escaped\": {\n            const overflow = yield detectOverflow(state, __spreadProps(__spreadValues({}, detectOverflowOptions), {\n              altBoundary: true\n            }));\n            const offsets = getSideOffsets(overflow, rects.floating);\n            return {\n              data: {\n                escapedOffsets: offsets,\n                escaped: isAnySideFullyClipped(offsets)\n              }\n            };\n          }\n          default: {\n            return {};\n          }\n        }\n      });\n    }\n  };\n};\nfunction getBoundingRect(rects) {\n  const minX = min(...rects.map((rect) => rect.left));\n  const minY = min(...rects.map((rect) => rect.top));\n  const maxX = max(...rects.map((rect) => rect.right));\n  const maxY = max(...rects.map((rect) => rect.bottom));\n  return {\n    x: minX,\n    y: minY,\n    width: maxX - minX,\n    height: maxY - minY\n  };\n}\nfunction getRectsByLine(rects) {\n  const sortedRects = rects.slice().sort((a2, b) => a2.y - b.y);\n  const groups = [];\n  let prevRect = null;\n  for (let i2 = 0; i2 < sortedRects.length; i2++) {\n    const rect = sortedRects[i2];\n    if (!prevRect || rect.y - prevRect.y > prevRect.height / 2) {\n      groups.push([rect]);\n    } else {\n      groups[groups.length - 1].push(rect);\n    }\n    prevRect = rect;\n  }\n  return groups.map((rect) => rectToClientRect(getBoundingRect(rect)));\n}\nconst inline = function(options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: \"inline\",\n    options,\n    fn(state) {\n      return __async(this, null, function* () {\n        const {\n          placement,\n          elements,\n          rects,\n          platform: platform2,\n          strategy\n        } = state;\n        const {\n          padding = 2,\n          x,\n          y\n        } = evaluate(options, state);\n        const nativeClientRects = Array.from((yield platform2.getClientRects == null ? void 0 : platform2.getClientRects(elements.reference)) || []);\n        const clientRects = getRectsByLine(nativeClientRects);\n        const fallback = rectToClientRect(getBoundingRect(nativeClientRects));\n        const paddingObject = getPaddingObject(padding);\n        function getBoundingClientRect2() {\n          if (clientRects.length === 2 && clientRects[0].left > clientRects[1].right && x != null && y != null) {\n            return clientRects.find((rect) => x > rect.left - paddingObject.left && x < rect.right + paddingObject.right && y > rect.top - paddingObject.top && y < rect.bottom + paddingObject.bottom) || fallback;\n          }\n          if (clientRects.length >= 2) {\n            if (getSideAxis(placement) === \"y\") {\n              const firstRect = clientRects[0];\n              const lastRect = clientRects[clientRects.length - 1];\n              const isTop = getSide(placement) === \"top\";\n              const top2 = firstRect.top;\n              const bottom2 = lastRect.bottom;\n              const left2 = isTop ? firstRect.left : lastRect.left;\n              const right2 = isTop ? firstRect.right : lastRect.right;\n              const width2 = right2 - left2;\n              const height2 = bottom2 - top2;\n              return {\n                top: top2,\n                bottom: bottom2,\n                left: left2,\n                right: right2,\n                width: width2,\n                height: height2,\n                x: left2,\n                y: top2\n              };\n            }\n            const isLeftSide = getSide(placement) === \"left\";\n            const maxRight = max(...clientRects.map((rect) => rect.right));\n            const minLeft = min(...clientRects.map((rect) => rect.left));\n            const measureRects = clientRects.filter((rect) => isLeftSide ? rect.left === minLeft : rect.right === maxRight);\n            const top = measureRects[0].top;\n            const bottom = measureRects[measureRects.length - 1].bottom;\n            const left = minLeft;\n            const right = maxRight;\n            const width = right - left;\n            const height = bottom - top;\n            return {\n              top,\n              bottom,\n              left,\n              right,\n              width,\n              height,\n              x: left,\n              y: top\n            };\n          }\n          return fallback;\n        }\n        const resetRects = yield platform2.getElementRects({\n          reference: {\n            getBoundingClientRect: getBoundingClientRect2\n          },\n          floating: elements.floating,\n          strategy\n        });\n        if (rects.reference.x !== resetRects.reference.x || rects.reference.y !== resetRects.reference.y || rects.reference.width !== resetRects.reference.width || rects.reference.height !== resetRects.reference.height) {\n          return {\n            reset: {\n              rects: resetRects\n            }\n          };\n        }\n        return {};\n      });\n    }\n  };\n};\nfunction convertValueToCoords(state, options) {\n  return __async(this, null, function* () {\n    const {\n      placement,\n      platform: platform2,\n      elements\n    } = state;\n    const rtl = yield platform2.isRTL == null ? void 0 : platform2.isRTL(elements.floating);\n    const side = getSide(placement);\n    const alignment = getAlignment(placement);\n    const isVertical = getSideAxis(placement) === \"y\";\n    const mainAxisMulti = [\"left\", \"top\"].includes(side) ? -1 : 1;\n    const crossAxisMulti = rtl && isVertical ? -1 : 1;\n    const rawValue = evaluate(options, state);\n    let {\n      mainAxis,\n      crossAxis,\n      alignmentAxis\n    } = typeof rawValue === \"number\" ? {\n      mainAxis: rawValue,\n      crossAxis: 0,\n      alignmentAxis: null\n    } : {\n      mainAxis: rawValue.mainAxis || 0,\n      crossAxis: rawValue.crossAxis || 0,\n      alignmentAxis: rawValue.alignmentAxis\n    };\n    if (alignment && typeof alignmentAxis === \"number\") {\n      crossAxis = alignment === \"end\" ? alignmentAxis * -1 : alignmentAxis;\n    }\n    return isVertical ? {\n      x: crossAxis * crossAxisMulti,\n      y: mainAxis * mainAxisMulti\n    } : {\n      x: mainAxis * mainAxisMulti,\n      y: crossAxis * crossAxisMulti\n    };\n  });\n}\nconst offset = function(options) {\n  if (options === void 0) {\n    options = 0;\n  }\n  return {\n    name: \"offset\",\n    options,\n    fn(state) {\n      return __async(this, null, function* () {\n        var _middlewareData$offse, _middlewareData$arrow;\n        const {\n          x,\n          y,\n          placement,\n          middlewareData\n        } = state;\n        const diffCoords = yield convertValueToCoords(state, options);\n        if (placement === ((_middlewareData$offse = middlewareData.offset) == null ? void 0 : _middlewareData$offse.placement) && (_middlewareData$arrow = middlewareData.arrow) != null && _middlewareData$arrow.alignmentOffset) {\n          return {};\n        }\n        return {\n          x: x + diffCoords.x,\n          y: y + diffCoords.y,\n          data: __spreadProps(__spreadValues({}, diffCoords), {\n            placement\n          })\n        };\n      });\n    }\n  };\n};\nconst shift = function(options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: \"shift\",\n    options,\n    fn(state) {\n      return __async(this, null, function* () {\n        const {\n          x,\n          y,\n          placement\n        } = state;\n        const _a3 = evaluate(options, state), {\n          mainAxis: checkMainAxis = true,\n          crossAxis: checkCrossAxis = false,\n          limiter = {\n            fn: (_ref) => {\n              let {\n                x: x2,\n                y: y2\n              } = _ref;\n              return {\n                x: x2,\n                y: y2\n              };\n            }\n          }\n        } = _a3, detectOverflowOptions = __objRest(_a3, [\n          \"mainAxis\",\n          \"crossAxis\",\n          \"limiter\"\n        ]);\n        const coords = {\n          x,\n          y\n        };\n        const overflow = yield detectOverflow(state, detectOverflowOptions);\n        const crossAxis = getSideAxis(getSide(placement));\n        const mainAxis = getOppositeAxis(crossAxis);\n        let mainAxisCoord = coords[mainAxis];\n        let crossAxisCoord = coords[crossAxis];\n        if (checkMainAxis) {\n          const minSide = mainAxis === \"y\" ? \"top\" : \"left\";\n          const maxSide = mainAxis === \"y\" ? \"bottom\" : \"right\";\n          const min2 = mainAxisCoord + overflow[minSide];\n          const max2 = mainAxisCoord - overflow[maxSide];\n          mainAxisCoord = clamp(min2, mainAxisCoord, max2);\n        }\n        if (checkCrossAxis) {\n          const minSide = crossAxis === \"y\" ? \"top\" : \"left\";\n          const maxSide = crossAxis === \"y\" ? \"bottom\" : \"right\";\n          const min2 = crossAxisCoord + overflow[minSide];\n          const max2 = crossAxisCoord - overflow[maxSide];\n          crossAxisCoord = clamp(min2, crossAxisCoord, max2);\n        }\n        const limitedCoords = limiter.fn(__spreadProps(__spreadValues({}, state), {\n          [mainAxis]: mainAxisCoord,\n          [crossAxis]: crossAxisCoord\n        }));\n        return __spreadProps(__spreadValues({}, limitedCoords), {\n          data: {\n            x: limitedCoords.x - x,\n            y: limitedCoords.y - y,\n            enabled: {\n              [mainAxis]: checkMainAxis,\n              [crossAxis]: checkCrossAxis\n            }\n          }\n        });\n      });\n    }\n  };\n};\nconst limitShift = function(options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    options,\n    fn(state) {\n      const {\n        x,\n        y,\n        placement,\n        rects,\n        middlewareData\n      } = state;\n      const {\n        offset: offset2 = 0,\n        mainAxis: checkMainAxis = true,\n        crossAxis: checkCrossAxis = true\n      } = evaluate(options, state);\n      const coords = {\n        x,\n        y\n      };\n      const crossAxis = getSideAxis(placement);\n      const mainAxis = getOppositeAxis(crossAxis);\n      let mainAxisCoord = coords[mainAxis];\n      let crossAxisCoord = coords[crossAxis];\n      const rawOffset = evaluate(offset2, state);\n      const computedOffset = typeof rawOffset === \"number\" ? {\n        mainAxis: rawOffset,\n        crossAxis: 0\n      } : __spreadValues({\n        mainAxis: 0,\n        crossAxis: 0\n      }, rawOffset);\n      if (checkMainAxis) {\n        const len = mainAxis === \"y\" ? \"height\" : \"width\";\n        const limitMin = rects.reference[mainAxis] - rects.floating[len] + computedOffset.mainAxis;\n        const limitMax = rects.reference[mainAxis] + rects.reference[len] - computedOffset.mainAxis;\n        if (mainAxisCoord < limitMin) {\n          mainAxisCoord = limitMin;\n        } else if (mainAxisCoord > limitMax) {\n          mainAxisCoord = limitMax;\n        }\n      }\n      if (checkCrossAxis) {\n        var _middlewareData$offse, _middlewareData$offse2;\n        const len = mainAxis === \"y\" ? \"width\" : \"height\";\n        const isOriginSide = [\"top\", \"left\"].includes(getSide(placement));\n        const limitMin = rects.reference[crossAxis] - rects.floating[len] + (isOriginSide ? ((_middlewareData$offse = middlewareData.offset) == null ? void 0 : _middlewareData$offse[crossAxis]) || 0 : 0) + (isOriginSide ? 0 : computedOffset.crossAxis);\n        const limitMax = rects.reference[crossAxis] + rects.reference[len] + (isOriginSide ? 0 : ((_middlewareData$offse2 = middlewareData.offset) == null ? void 0 : _middlewareData$offse2[crossAxis]) || 0) - (isOriginSide ? computedOffset.crossAxis : 0);\n        if (crossAxisCoord < limitMin) {\n          crossAxisCoord = limitMin;\n        } else if (crossAxisCoord > limitMax) {\n          crossAxisCoord = limitMax;\n        }\n      }\n      return {\n        [mainAxis]: mainAxisCoord,\n        [crossAxis]: crossAxisCoord\n      };\n    }\n  };\n};\nconst size = function(options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: \"size\",\n    options,\n    fn(state) {\n      return __async(this, null, function* () {\n        var _state$middlewareData, _state$middlewareData2;\n        const {\n          placement,\n          rects,\n          platform: platform2,\n          elements\n        } = state;\n        const _a3 = evaluate(options, state), {\n          apply = () => {\n          }\n        } = _a3, detectOverflowOptions = __objRest(_a3, [\n          \"apply\"\n        ]);\n        const overflow = yield detectOverflow(state, detectOverflowOptions);\n        const side = getSide(placement);\n        const alignment = getAlignment(placement);\n        const isYAxis = getSideAxis(placement) === \"y\";\n        const {\n          width,\n          height\n        } = rects.floating;\n        let heightSide;\n        let widthSide;\n        if (side === \"top\" || side === \"bottom\") {\n          heightSide = side;\n          widthSide = alignment === ((yield platform2.isRTL == null ? void 0 : platform2.isRTL(elements.floating)) ? \"start\" : \"end\") ? \"left\" : \"right\";\n        } else {\n          widthSide = side;\n          heightSide = alignment === \"end\" ? \"top\" : \"bottom\";\n        }\n        const maximumClippingHeight = height - overflow.top - overflow.bottom;\n        const maximumClippingWidth = width - overflow.left - overflow.right;\n        const overflowAvailableHeight = min(height - overflow[heightSide], maximumClippingHeight);\n        const overflowAvailableWidth = min(width - overflow[widthSide], maximumClippingWidth);\n        const noShift = !state.middlewareData.shift;\n        let availableHeight = overflowAvailableHeight;\n        let availableWidth = overflowAvailableWidth;\n        if ((_state$middlewareData = state.middlewareData.shift) != null && _state$middlewareData.enabled.x) {\n          availableWidth = maximumClippingWidth;\n        }\n        if ((_state$middlewareData2 = state.middlewareData.shift) != null && _state$middlewareData2.enabled.y) {\n          availableHeight = maximumClippingHeight;\n        }\n        if (noShift && !alignment) {\n          const xMin = max(overflow.left, 0);\n          const xMax = max(overflow.right, 0);\n          const yMin = max(overflow.top, 0);\n          const yMax = max(overflow.bottom, 0);\n          if (isYAxis) {\n            availableWidth = width - 2 * (xMin !== 0 || xMax !== 0 ? xMin + xMax : max(overflow.left, overflow.right));\n          } else {\n            availableHeight = height - 2 * (yMin !== 0 || yMax !== 0 ? yMin + yMax : max(overflow.top, overflow.bottom));\n          }\n        }\n        yield apply(__spreadProps(__spreadValues({}, state), {\n          availableWidth,\n          availableHeight\n        }));\n        const nextDimensions = yield platform2.getDimensions(elements.floating);\n        if (width !== nextDimensions.width || height !== nextDimensions.height) {\n          return {\n            reset: {\n              rects: true\n            }\n          };\n        }\n        return {};\n      });\n    }\n  };\n};\nfunction hasWindow() {\n  return typeof window !== \"undefined\";\n}\nfunction getNodeName(node) {\n  if (isNode(node)) {\n    return (node.nodeName || \"\").toLowerCase();\n  }\n  return \"#document\";\n}\nfunction getWindow(node) {\n  var _node$ownerDocument;\n  return (node == null || (_node$ownerDocument = node.ownerDocument) == null ? void 0 : _node$ownerDocument.defaultView) || window;\n}\nfunction getDocumentElement(node) {\n  var _ref;\n  return (_ref = (isNode(node) ? node.ownerDocument : node.document) || window.document) == null ? void 0 : _ref.documentElement;\n}\nfunction isNode(value) {\n  if (!hasWindow()) {\n    return false;\n  }\n  return value instanceof Node || value instanceof getWindow(value).Node;\n}\nfunction isElement(value) {\n  if (!hasWindow()) {\n    return false;\n  }\n  return value instanceof Element || value instanceof getWindow(value).Element;\n}\nfunction isHTMLElement(value) {\n  if (!hasWindow()) {\n    return false;\n  }\n  return value instanceof HTMLElement || value instanceof getWindow(value).HTMLElement;\n}\nfunction isShadowRoot(value) {\n  if (!hasWindow() || typeof ShadowRoot === \"undefined\") {\n    return false;\n  }\n  return value instanceof ShadowRoot || value instanceof getWindow(value).ShadowRoot;\n}\nfunction isOverflowElement(element) {\n  const {\n    overflow,\n    overflowX,\n    overflowY,\n    display\n  } = getComputedStyle$1(element);\n  return /auto|scroll|overlay|hidden|clip/.test(overflow + overflowY + overflowX) && ![\"inline\", \"contents\"].includes(display);\n}\nfunction isTableElement(element) {\n  return [\"table\", \"td\", \"th\"].includes(getNodeName(element));\n}\nfunction isTopLayer(element) {\n  return [\":popover-open\", \":modal\"].some((selector) => {\n    try {\n      return element.matches(selector);\n    } catch (e2) {\n      return false;\n    }\n  });\n}\nfunction isContainingBlock(elementOrCss) {\n  const webkit = isWebKit();\n  const css = isElement(elementOrCss) ? getComputedStyle$1(elementOrCss) : elementOrCss;\n  return css.transform !== \"none\" || css.perspective !== \"none\" || (css.containerType ? css.containerType !== \"normal\" : false) || !webkit && (css.backdropFilter ? css.backdropFilter !== \"none\" : false) || !webkit && (css.filter ? css.filter !== \"none\" : false) || [\"transform\", \"perspective\", \"filter\"].some((value) => (css.willChange || \"\").includes(value)) || [\"paint\", \"layout\", \"strict\", \"content\"].some((value) => (css.contain || \"\").includes(value));\n}\nfunction getContainingBlock(element) {\n  let currentNode = getParentNode(element);\n  while (isHTMLElement(currentNode) && !isLastTraversableNode(currentNode)) {\n    if (isContainingBlock(currentNode)) {\n      return currentNode;\n    } else if (isTopLayer(currentNode)) {\n      return null;\n    }\n    currentNode = getParentNode(currentNode);\n  }\n  return null;\n}\nfunction isWebKit() {\n  if (typeof CSS === \"undefined\" || !CSS.supports)\n    return false;\n  return CSS.supports(\"-webkit-backdrop-filter\", \"none\");\n}\nfunction isLastTraversableNode(node) {\n  return [\"html\", \"body\", \"#document\"].includes(getNodeName(node));\n}\nfunction getComputedStyle$1(element) {\n  return getWindow(element).getComputedStyle(element);\n}\nfunction getNodeScroll(element) {\n  if (isElement(element)) {\n    return {\n      scrollLeft: element.scrollLeft,\n      scrollTop: element.scrollTop\n    };\n  }\n  return {\n    scrollLeft: element.scrollX,\n    scrollTop: element.scrollY\n  };\n}\nfunction getParentNode(node) {\n  if (getNodeName(node) === \"html\") {\n    return node;\n  }\n  const result = node.assignedSlot || node.parentNode || isShadowRoot(node) && node.host || getDocumentElement(node);\n  return isShadowRoot(result) ? result.host : result;\n}\nfunction getNearestOverflowAncestor(node) {\n  const parentNode = getParentNode(node);\n  if (isLastTraversableNode(parentNode)) {\n    return node.ownerDocument ? node.ownerDocument.body : node.body;\n  }\n  if (isHTMLElement(parentNode) && isOverflowElement(parentNode)) {\n    return parentNode;\n  }\n  return getNearestOverflowAncestor(parentNode);\n}\nfunction getOverflowAncestors(node, list, traverseIframes) {\n  var _node$ownerDocument2;\n  if (list === void 0) {\n    list = [];\n  }\n  if (traverseIframes === void 0) {\n    traverseIframes = true;\n  }\n  const scrollableAncestor = getNearestOverflowAncestor(node);\n  const isBody = scrollableAncestor === ((_node$ownerDocument2 = node.ownerDocument) == null ? void 0 : _node$ownerDocument2.body);\n  const win = getWindow(scrollableAncestor);\n  if (isBody) {\n    const frameElement = getFrameElement(win);\n    return list.concat(win, win.visualViewport || [], isOverflowElement(scrollableAncestor) ? scrollableAncestor : [], frameElement && traverseIframes ? getOverflowAncestors(frameElement) : []);\n  }\n  return list.concat(scrollableAncestor, getOverflowAncestors(scrollableAncestor, [], traverseIframes));\n}\nfunction getFrameElement(win) {\n  return win.parent && Object.getPrototypeOf(win.parent) ? win.frameElement : null;\n}\nfunction getCssDimensions(element) {\n  const css = getComputedStyle$1(element);\n  let width = parseFloat(css.width) || 0;\n  let height = parseFloat(css.height) || 0;\n  const hasOffset = isHTMLElement(element);\n  const offsetWidth = hasOffset ? element.offsetWidth : width;\n  const offsetHeight = hasOffset ? element.offsetHeight : height;\n  const shouldFallback = round(width) !== offsetWidth || round(height) !== offsetHeight;\n  if (shouldFallback) {\n    width = offsetWidth;\n    height = offsetHeight;\n  }\n  return {\n    width,\n    height,\n    $: shouldFallback\n  };\n}\nfunction unwrapElement(element) {\n  return !isElement(element) ? element.contextElement : element;\n}\nfunction getScale(element) {\n  const domElement = unwrapElement(element);\n  if (!isHTMLElement(domElement)) {\n    return createCoords(1);\n  }\n  const rect = domElement.getBoundingClientRect();\n  const {\n    width,\n    height,\n    $\n  } = getCssDimensions(domElement);\n  let x = ($ ? round(rect.width) : rect.width) / width;\n  let y = ($ ? round(rect.height) : rect.height) / height;\n  if (!x || !Number.isFinite(x)) {\n    x = 1;\n  }\n  if (!y || !Number.isFinite(y)) {\n    y = 1;\n  }\n  return {\n    x,\n    y\n  };\n}\nconst noOffsets = /* @__PURE__ */ createCoords(0);\nfunction getVisualOffsets(element) {\n  const win = getWindow(element);\n  if (!isWebKit() || !win.visualViewport) {\n    return noOffsets;\n  }\n  return {\n    x: win.visualViewport.offsetLeft,\n    y: win.visualViewport.offsetTop\n  };\n}\nfunction shouldAddVisualOffsets(element, isFixed, floatingOffsetParent) {\n  if (isFixed === void 0) {\n    isFixed = false;\n  }\n  if (!floatingOffsetParent || isFixed && floatingOffsetParent !== getWindow(element)) {\n    return false;\n  }\n  return isFixed;\n}\nfunction getBoundingClientRect(element, includeScale, isFixedStrategy, offsetParent) {\n  if (includeScale === void 0) {\n    includeScale = false;\n  }\n  if (isFixedStrategy === void 0) {\n    isFixedStrategy = false;\n  }\n  const clientRect = element.getBoundingClientRect();\n  const domElement = unwrapElement(element);\n  let scale = createCoords(1);\n  if (includeScale) {\n    if (offsetParent) {\n      if (isElement(offsetParent)) {\n        scale = getScale(offsetParent);\n      }\n    } else {\n      scale = getScale(element);\n    }\n  }\n  const visualOffsets = shouldAddVisualOffsets(domElement, isFixedStrategy, offsetParent) ? getVisualOffsets(domElement) : createCoords(0);\n  let x = (clientRect.left + visualOffsets.x) / scale.x;\n  let y = (clientRect.top + visualOffsets.y) / scale.y;\n  let width = clientRect.width / scale.x;\n  let height = clientRect.height / scale.y;\n  if (domElement) {\n    const win = getWindow(domElement);\n    const offsetWin = offsetParent && isElement(offsetParent) ? getWindow(offsetParent) : offsetParent;\n    let currentWin = win;\n    let currentIFrame = getFrameElement(currentWin);\n    while (currentIFrame && offsetParent && offsetWin !== currentWin) {\n      const iframeScale = getScale(currentIFrame);\n      const iframeRect = currentIFrame.getBoundingClientRect();\n      const css = getComputedStyle$1(currentIFrame);\n      const left = iframeRect.left + (currentIFrame.clientLeft + parseFloat(css.paddingLeft)) * iframeScale.x;\n      const top = iframeRect.top + (currentIFrame.clientTop + parseFloat(css.paddingTop)) * iframeScale.y;\n      x *= iframeScale.x;\n      y *= iframeScale.y;\n      width *= iframeScale.x;\n      height *= iframeScale.y;\n      x += left;\n      y += top;\n      currentWin = getWindow(currentIFrame);\n      currentIFrame = getFrameElement(currentWin);\n    }\n  }\n  return rectToClientRect({\n    width,\n    height,\n    x,\n    y\n  });\n}\nfunction convertOffsetParentRelativeRectToViewportRelativeRect(_ref) {\n  let {\n    elements,\n    rect,\n    offsetParent,\n    strategy\n  } = _ref;\n  const isFixed = strategy === \"fixed\";\n  const documentElement = getDocumentElement(offsetParent);\n  const topLayer = elements ? isTopLayer(elements.floating) : false;\n  if (offsetParent === documentElement || topLayer && isFixed) {\n    return rect;\n  }\n  let scroll = {\n    scrollLeft: 0,\n    scrollTop: 0\n  };\n  let scale = createCoords(1);\n  const offsets = createCoords(0);\n  const isOffsetParentAnElement = isHTMLElement(offsetParent);\n  if (isOffsetParentAnElement || !isOffsetParentAnElement && !isFixed) {\n    if (getNodeName(offsetParent) !== \"body\" || isOverflowElement(documentElement)) {\n      scroll = getNodeScroll(offsetParent);\n    }\n    if (isHTMLElement(offsetParent)) {\n      const offsetRect = getBoundingClientRect(offsetParent);\n      scale = getScale(offsetParent);\n      offsets.x = offsetRect.x + offsetParent.clientLeft;\n      offsets.y = offsetRect.y + offsetParent.clientTop;\n    }\n  }\n  return {\n    width: rect.width * scale.x,\n    height: rect.height * scale.y,\n    x: rect.x * scale.x - scroll.scrollLeft * scale.x + offsets.x,\n    y: rect.y * scale.y - scroll.scrollTop * scale.y + offsets.y\n  };\n}\nfunction getClientRects(element) {\n  return Array.from(element.getClientRects());\n}\nfunction getWindowScrollBarX(element, rect) {\n  const leftScroll = getNodeScroll(element).scrollLeft;\n  if (!rect) {\n    return getBoundingClientRect(getDocumentElement(element)).left + leftScroll;\n  }\n  return rect.left + leftScroll;\n}\nfunction getDocumentRect(element) {\n  const html = getDocumentElement(element);\n  const scroll = getNodeScroll(element);\n  const body = element.ownerDocument.body;\n  const width = max(html.scrollWidth, html.clientWidth, body.scrollWidth, body.clientWidth);\n  const height = max(html.scrollHeight, html.clientHeight, body.scrollHeight, body.clientHeight);\n  let x = -scroll.scrollLeft + getWindowScrollBarX(element);\n  const y = -scroll.scrollTop;\n  if (getComputedStyle$1(body).direction === \"rtl\") {\n    x += max(html.clientWidth, body.clientWidth) - width;\n  }\n  return {\n    width,\n    height,\n    x,\n    y\n  };\n}\nfunction getViewportRect(element, strategy) {\n  const win = getWindow(element);\n  const html = getDocumentElement(element);\n  const visualViewport = win.visualViewport;\n  let width = html.clientWidth;\n  let height = html.clientHeight;\n  let x = 0;\n  let y = 0;\n  if (visualViewport) {\n    width = visualViewport.width;\n    height = visualViewport.height;\n    const visualViewportBased = isWebKit();\n    if (!visualViewportBased || visualViewportBased && strategy === \"fixed\") {\n      x = visualViewport.offsetLeft;\n      y = visualViewport.offsetTop;\n    }\n  }\n  return {\n    width,\n    height,\n    x,\n    y\n  };\n}\nfunction getInnerBoundingClientRect(element, strategy) {\n  const clientRect = getBoundingClientRect(element, true, strategy === \"fixed\");\n  const top = clientRect.top + element.clientTop;\n  const left = clientRect.left + element.clientLeft;\n  const scale = isHTMLElement(element) ? getScale(element) : createCoords(1);\n  const width = element.clientWidth * scale.x;\n  const height = element.clientHeight * scale.y;\n  const x = left * scale.x;\n  const y = top * scale.y;\n  return {\n    width,\n    height,\n    x,\n    y\n  };\n}\nfunction getClientRectFromClippingAncestor(element, clippingAncestor, strategy) {\n  let rect;\n  if (clippingAncestor === \"viewport\") {\n    rect = getViewportRect(element, strategy);\n  } else if (clippingAncestor === \"document\") {\n    rect = getDocumentRect(getDocumentElement(element));\n  } else if (isElement(clippingAncestor)) {\n    rect = getInnerBoundingClientRect(clippingAncestor, strategy);\n  } else {\n    const visualOffsets = getVisualOffsets(element);\n    rect = __spreadProps(__spreadValues({}, clippingAncestor), {\n      x: clippingAncestor.x - visualOffsets.x,\n      y: clippingAncestor.y - visualOffsets.y\n    });\n  }\n  return rectToClientRect(rect);\n}\nfunction hasFixedPositionAncestor(element, stopNode) {\n  const parentNode = getParentNode(element);\n  if (parentNode === stopNode || !isElement(parentNode) || isLastTraversableNode(parentNode)) {\n    return false;\n  }\n  return getComputedStyle$1(parentNode).position === \"fixed\" || hasFixedPositionAncestor(parentNode, stopNode);\n}\nfunction getClippingElementAncestors(element, cache) {\n  const cachedResult = cache.get(element);\n  if (cachedResult) {\n    return cachedResult;\n  }\n  let result = getOverflowAncestors(element, [], false).filter((el) => isElement(el) && getNodeName(el) !== \"body\");\n  let currentContainingBlockComputedStyle = null;\n  const elementIsFixed = getComputedStyle$1(element).position === \"fixed\";\n  let currentNode = elementIsFixed ? getParentNode(element) : element;\n  while (isElement(currentNode) && !isLastTraversableNode(currentNode)) {\n    const computedStyle = getComputedStyle$1(currentNode);\n    const currentNodeIsContaining = isContainingBlock(currentNode);\n    if (!currentNodeIsContaining && computedStyle.position === \"fixed\") {\n      currentContainingBlockComputedStyle = null;\n    }\n    const shouldDropCurrentNode = elementIsFixed ? !currentNodeIsContaining && !currentContainingBlockComputedStyle : !currentNodeIsContaining && computedStyle.position === \"static\" && !!currentContainingBlockComputedStyle && [\"absolute\", \"fixed\"].includes(currentContainingBlockComputedStyle.position) || isOverflowElement(currentNode) && !currentNodeIsContaining && hasFixedPositionAncestor(element, currentNode);\n    if (shouldDropCurrentNode) {\n      result = result.filter((ancestor) => ancestor !== currentNode);\n    } else {\n      currentContainingBlockComputedStyle = computedStyle;\n    }\n    currentNode = getParentNode(currentNode);\n  }\n  cache.set(element, result);\n  return result;\n}\nfunction getClippingRect(_ref) {\n  let {\n    element,\n    boundary,\n    rootBoundary,\n    strategy\n  } = _ref;\n  const elementClippingAncestors = boundary === \"clippingAncestors\" ? isTopLayer(element) ? [] : getClippingElementAncestors(element, this._c) : [].concat(boundary);\n  const clippingAncestors = [...elementClippingAncestors, rootBoundary];\n  const firstClippingAncestor = clippingAncestors[0];\n  const clippingRect = clippingAncestors.reduce((accRect, clippingAncestor) => {\n    const rect = getClientRectFromClippingAncestor(element, clippingAncestor, strategy);\n    accRect.top = max(rect.top, accRect.top);\n    accRect.right = min(rect.right, accRect.right);\n    accRect.bottom = min(rect.bottom, accRect.bottom);\n    accRect.left = max(rect.left, accRect.left);\n    return accRect;\n  }, getClientRectFromClippingAncestor(element, firstClippingAncestor, strategy));\n  return {\n    width: clippingRect.right - clippingRect.left,\n    height: clippingRect.bottom - clippingRect.top,\n    x: clippingRect.left,\n    y: clippingRect.top\n  };\n}\nfunction getDimensions(element) {\n  const {\n    width,\n    height\n  } = getCssDimensions(element);\n  return {\n    width,\n    height\n  };\n}\nfunction getRectRelativeToOffsetParent(element, offsetParent, strategy) {\n  const isOffsetParentAnElement = isHTMLElement(offsetParent);\n  const documentElement = getDocumentElement(offsetParent);\n  const isFixed = strategy === \"fixed\";\n  const rect = getBoundingClientRect(element, true, isFixed, offsetParent);\n  let scroll = {\n    scrollLeft: 0,\n    scrollTop: 0\n  };\n  const offsets = createCoords(0);\n  if (isOffsetParentAnElement || !isOffsetParentAnElement && !isFixed) {\n    if (getNodeName(offsetParent) !== \"body\" || isOverflowElement(documentElement)) {\n      scroll = getNodeScroll(offsetParent);\n    }\n    if (isOffsetParentAnElement) {\n      const offsetRect = getBoundingClientRect(offsetParent, true, isFixed, offsetParent);\n      offsets.x = offsetRect.x + offsetParent.clientLeft;\n      offsets.y = offsetRect.y + offsetParent.clientTop;\n    } else if (documentElement) {\n      offsets.x = getWindowScrollBarX(documentElement);\n    }\n  }\n  let htmlX = 0;\n  let htmlY = 0;\n  if (documentElement && !isOffsetParentAnElement && !isFixed) {\n    const htmlRect = documentElement.getBoundingClientRect();\n    htmlY = htmlRect.top + scroll.scrollTop;\n    htmlX = htmlRect.left + scroll.scrollLeft - getWindowScrollBarX(documentElement, htmlRect);\n  }\n  const x = rect.left + scroll.scrollLeft - offsets.x - htmlX;\n  const y = rect.top + scroll.scrollTop - offsets.y - htmlY;\n  return {\n    x,\n    y,\n    width: rect.width,\n    height: rect.height\n  };\n}\nfunction isStaticPositioned(element) {\n  return getComputedStyle$1(element).position === \"static\";\n}\nfunction getTrueOffsetParent(element, polyfill) {\n  if (!isHTMLElement(element) || getComputedStyle$1(element).position === \"fixed\") {\n    return null;\n  }\n  if (polyfill) {\n    return polyfill(element);\n  }\n  let rawOffsetParent = element.offsetParent;\n  if (getDocumentElement(element) === rawOffsetParent) {\n    rawOffsetParent = rawOffsetParent.ownerDocument.body;\n  }\n  return rawOffsetParent;\n}\nfunction getOffsetParent(element, polyfill) {\n  const win = getWindow(element);\n  if (isTopLayer(element)) {\n    return win;\n  }\n  if (!isHTMLElement(element)) {\n    let svgOffsetParent = getParentNode(element);\n    while (svgOffsetParent && !isLastTraversableNode(svgOffsetParent)) {\n      if (isElement(svgOffsetParent) && !isStaticPositioned(svgOffsetParent)) {\n        return svgOffsetParent;\n      }\n      svgOffsetParent = getParentNode(svgOffsetParent);\n    }\n    return win;\n  }\n  let offsetParent = getTrueOffsetParent(element, polyfill);\n  while (offsetParent && isTableElement(offsetParent) && isStaticPositioned(offsetParent)) {\n    offsetParent = getTrueOffsetParent(offsetParent, polyfill);\n  }\n  if (offsetParent && isLastTraversableNode(offsetParent) && isStaticPositioned(offsetParent) && !isContainingBlock(offsetParent)) {\n    return win;\n  }\n  return offsetParent || getContainingBlock(element) || win;\n}\nconst getElementRects = function(data) {\n  return __async(this, null, function* () {\n    const getOffsetParentFn = this.getOffsetParent || getOffsetParent;\n    const getDimensionsFn = this.getDimensions;\n    const floatingDimensions = yield getDimensionsFn(data.floating);\n    return {\n      reference: getRectRelativeToOffsetParent(data.reference, yield getOffsetParentFn(data.floating), data.strategy),\n      floating: {\n        x: 0,\n        y: 0,\n        width: floatingDimensions.width,\n        height: floatingDimensions.height\n      }\n    };\n  });\n};\nfunction isRTL(element) {\n  return getComputedStyle$1(element).direction === \"rtl\";\n}\nconst platform = {\n  convertOffsetParentRelativeRectToViewportRelativeRect,\n  getDocumentElement,\n  getClippingRect,\n  getOffsetParent,\n  getElementRects,\n  getClientRects,\n  getDimensions,\n  getScale,\n  isElement,\n  isRTL\n};\nfunction observeMove(element, onMove) {\n  let io = null;\n  let timeoutId;\n  const root = getDocumentElement(element);\n  function cleanup() {\n    var _io;\n    clearTimeout(timeoutId);\n    (_io = io) == null || _io.disconnect();\n    io = null;\n  }\n  function refresh(skip, threshold) {\n    if (skip === void 0) {\n      skip = false;\n    }\n    if (threshold === void 0) {\n      threshold = 1;\n    }\n    cleanup();\n    const {\n      left,\n      top,\n      width,\n      height\n    } = element.getBoundingClientRect();\n    if (!skip) {\n      onMove();\n    }\n    if (!width || !height) {\n      return;\n    }\n    const insetTop = floor(top);\n    const insetRight = floor(root.clientWidth - (left + width));\n    const insetBottom = floor(root.clientHeight - (top + height));\n    const insetLeft = floor(left);\n    const rootMargin = -insetTop + \"px \" + -insetRight + \"px \" + -insetBottom + \"px \" + -insetLeft + \"px\";\n    const options = {\n      rootMargin,\n      threshold: max(0, min(1, threshold)) || 1\n    };\n    let isFirstUpdate = true;\n    function handleObserve(entries) {\n      const ratio = entries[0].intersectionRatio;\n      if (ratio !== threshold) {\n        if (!isFirstUpdate) {\n          return refresh();\n        }\n        if (!ratio) {\n          timeoutId = setTimeout(() => {\n            refresh(false, 1e-7);\n          }, 1e3);\n        } else {\n          refresh(false, ratio);\n        }\n      }\n      isFirstUpdate = false;\n    }\n    try {\n      io = new IntersectionObserver(handleObserve, __spreadProps(__spreadValues({}, options), {\n        root: root.ownerDocument\n      }));\n    } catch (e2) {\n      io = new IntersectionObserver(handleObserve, options);\n    }\n    io.observe(element);\n  }\n  refresh(true);\n  return cleanup;\n}\nfunction autoUpdate(reference, floating, update, options) {\n  if (options === void 0) {\n    options = {};\n  }\n  const {\n    ancestorScroll = true,\n    ancestorResize = true,\n    elementResize = typeof ResizeObserver === \"function\",\n    layoutShift = typeof IntersectionObserver === \"function\",\n    animationFrame = false\n  } = options;\n  const referenceEl = unwrapElement(reference);\n  const ancestors = ancestorScroll || ancestorResize ? [...referenceEl ? getOverflowAncestors(referenceEl) : [], ...getOverflowAncestors(floating)] : [];\n  ancestors.forEach((ancestor) => {\n    ancestorScroll && ancestor.addEventListener(\"scroll\", update, {\n      passive: true\n    });\n    ancestorResize && ancestor.addEventListener(\"resize\", update);\n  });\n  const cleanupIo = referenceEl && layoutShift ? observeMove(referenceEl, update) : null;\n  let reobserveFrame = -1;\n  let resizeObserver = null;\n  if (elementResize) {\n    resizeObserver = new ResizeObserver((_ref) => {\n      let [firstEntry] = _ref;\n      if (firstEntry && firstEntry.target === referenceEl && resizeObserver) {\n        resizeObserver.unobserve(floating);\n        cancelAnimationFrame(reobserveFrame);\n        reobserveFrame = requestAnimationFrame(() => {\n          var _resizeObserver;\n          (_resizeObserver = resizeObserver) == null || _resizeObserver.observe(floating);\n        });\n      }\n      update();\n    });\n    if (referenceEl && !animationFrame) {\n      resizeObserver.observe(referenceEl);\n    }\n    resizeObserver.observe(floating);\n  }\n  let frameId;\n  let prevRefRect = animationFrame ? getBoundingClientRect(reference) : null;\n  if (animationFrame) {\n    frameLoop();\n  }\n  function frameLoop() {\n    const nextRefRect = getBoundingClientRect(reference);\n    if (prevRefRect && (nextRefRect.x !== prevRefRect.x || nextRefRect.y !== prevRefRect.y || nextRefRect.width !== prevRefRect.width || nextRefRect.height !== prevRefRect.height)) {\n      update();\n    }\n    prevRefRect = nextRefRect;\n    frameId = requestAnimationFrame(frameLoop);\n  }\n  update();\n  return () => {\n    var _resizeObserver2;\n    ancestors.forEach((ancestor) => {\n      ancestorScroll && ancestor.removeEventListener(\"scroll\", update);\n      ancestorResize && ancestor.removeEventListener(\"resize\", update);\n    });\n    cleanupIo == null || cleanupIo();\n    (_resizeObserver2 = resizeObserver) == null || _resizeObserver2.disconnect();\n    resizeObserver = null;\n    if (animationFrame) {\n      cancelAnimationFrame(frameId);\n    }\n  };\n}\noffset;\nautoPlacement;\nshift;\nflip;\nsize;\nhide;\narrow;\ninline;\nlimitShift;\nconst computePosition = (reference, floating, options) => {\n  const cache = /* @__PURE__ */ new Map();\n  const mergedOptions = __spreadValues({\n    platform\n  }, options);\n  const platformWithCache = __spreadProps(__spreadValues({}, mergedOptions.platform), {\n    _c: cache\n  });\n  return computePosition$1(reference, floating, __spreadProps(__spreadValues({}, mergedOptions), {\n    platform: platformWithCache\n  }));\n};\nfunction P(l2, u2, e2) {\n  let c2 = () => {\n    var t2;\n    return (t2 = e2 == null ? void 0 : e2.placement) != null ? t2 : \"bottom\";\n  }, d = () => {\n    var t2;\n    return (t2 = e2 == null ? void 0 : e2.strategy) != null ? t2 : \"absolute\";\n  }, [n2, o2] = createSignal({ x: null, y: null, placement: c2(), strategy: d(), middlewareData: {} }), [x, F] = createSignal();\n  createEffect(() => {\n    let t2 = x();\n    if (t2)\n      throw t2.value;\n  });\n  let s2 = createMemo(() => (l2(), u2(), {}));\n  function i2() {\n    let t2 = l2(), r = u2();\n    if (t2 && r) {\n      let a2 = s2();\n      computePosition(t2, r, { middleware: e2 == null ? void 0 : e2.middleware, placement: c2(), strategy: d() }).then((m) => {\n        a2 === s2() && o2(m);\n      }, (m) => {\n        F(m);\n      });\n    }\n  }\n  return createEffect(() => {\n    let t2 = l2(), r = u2();\n    if (e2 == null || e2.middleware, c2(), d(), t2 && r)\n      if (e2 != null && e2.whileElementsMounted) {\n        let a2 = e2.whileElementsMounted(t2, r, i2);\n        a2 && onCleanup(a2);\n      } else\n        i2();\n  }), { get x() {\n    return n2().x;\n  }, get y() {\n    return n2().y;\n  }, get placement() {\n    return n2().placement;\n  }, get strategy() {\n    return n2().strategy;\n  }, get middlewareData() {\n    return n2().middlewareData;\n  }, update: i2 };\n}\nconst ConnectorContext = createContext();\nconst UniversalConnectorContext = createContext();\nvar _tmpl$$2 = /* @__PURE__ */ template$1(`<okxc-root data-tc-dropdown-container=true>`, true, false);\nconst AccountButton = () => {\n  const theme = useTheme();\n  const connector = useContext(ConnectorContext);\n  const tonConnectUI = useContext(OKXConnectUiContext);\n  const [isOpened, setIsOpened] = createSignal(false);\n  const [account, setAccount] = createSignal(connector.account);\n  const [restoringProcess, setRestoringProcess] = createSignal(!connector.account);\n  let dropDownRef;\n  const [floating, setFloating] = createSignal();\n  const [anchor, setAnchor] = createSignal();\n  const position = P(anchor, floating, {\n    whileElementsMounted: autoUpdate,\n    placement: \"bottom-end\"\n  });\n  const normalizedAddress = () => {\n    const acc = account();\n    if (acc) {\n      const userFriendlyAddress = tonsdk.toUserFriendlyAddress(acc.address);\n      return userFriendlyAddress.slice(0, 4) + \"\\u2026\" + userFriendlyAddress.slice(-4);\n    }\n    return \"\";\n  };\n  tonConnectUI.connectionRestored.then(() => setRestoringProcess(false));\n  const unsubscribe = connector.onStatusChange((wallet) => {\n    if (!wallet) {\n      setIsOpened(false);\n      setAccount(null);\n      setRestoringProcess(false);\n      return;\n    }\n    setAccount(wallet.account);\n    setRestoringProcess(false);\n  });\n  const onClick = (e2) => {\n    if (!account() || !isOpened()) {\n      return;\n    }\n    const clickToButton = anchor().contains(e2.target);\n    const clickToDropdown = dropDownRef.contains(e2.target);\n    if (!clickToButton && !clickToDropdown) {\n      setIsOpened(false);\n    }\n  };\n  onMount(() => {\n    document.body.addEventListener(\"click\", onClick);\n  });\n  onCleanup(() => {\n    document.body.removeEventListener(\"click\", onClick);\n    unsubscribe();\n  });\n  return createComponent(Dynamic, {\n    component: globalStylesTag,\n    get children() {\n      return [createComponent(Show, {\n        get when() {\n          return restoringProcess();\n        },\n        get children() {\n          return createComponent(LoaderButtonStyled, {\n            disabled: true,\n            \"data-tc-connect-button-loading\": \"true\",\n            get children() {\n              return createComponent(LoaderIconStyled, {});\n            }\n          });\n        }\n      }), createComponent(Show, {\n        get when() {\n          return !restoringProcess();\n        },\n        get children() {\n          return [createComponent(Show, {\n            get when() {\n              return !account();\n            },\n            get children() {\n              return createComponent(AccountButtonStyled, {\n                onClick: () => tonConnectUI.openModal(),\n                \"data-tc-connect-button\": \"true\",\n                scale: \"s\",\n                get children() {\n                  return [createComponent(TonIcon, {\n                    get fill() {\n                      return theme.colors.connectButton.foreground;\n                    }\n                  }), createComponent(Text, {\n                    translationKey: \"button.connectWallet\",\n                    fontSize: \"15px\",\n                    lineHeight: \"18px\",\n                    fontWeight: \"590\",\n                    get color() {\n                      return theme.colors.connectButton.foreground;\n                    },\n                    children: \"Connect wallet\"\n                  })];\n                }\n              });\n            }\n          }), createComponent(Show, {\n            get when() {\n              return account();\n            },\n            get children() {\n              return createComponent(DropdownContainerStyled, {\n                get children() {\n                  return [createComponent(DropdownButtonStyled, {\n                    onClick: () => setIsOpened((v) => !v),\n                    ref: setAnchor,\n                    \"data-tc-dropdown-button\": \"true\",\n                    scale: \"s\",\n                    get children() {\n                      return [createComponent(Text, {\n                        fontSize: \"15px\",\n                        fontWeight: \"590\",\n                        lineHeight: \"18px\",\n                        get children() {\n                          return normalizedAddress();\n                        }\n                      }), createComponent(ArrowIcon, {\n                        direction: \"bottom\"\n                      })];\n                    }\n                  }), createComponent(Portal, {\n                    get children() {\n                      var _el$ = _tmpl$$2();\n                      use(setFloating, _el$);\n                      _el$.style.setProperty(\"z-index\", \"999\");\n                      _el$._$owner = getOwner();\n                      insert(_el$, createComponent(Transition, {\n                        onBeforeEnter: (el) => {\n                          animate(el, [{\n                            opacity: 0,\n                            transform: \"translateY(-8px)\"\n                          }, {\n                            opacity: 1,\n                            transform: \"translateY(0)\"\n                          }], {\n                            duration: 150\n                          });\n                        },\n                        onExit: (el, done) => {\n                          const a2 = animate(el, [{\n                            opacity: 1,\n                            transform: \"translateY(0)\"\n                          }, {\n                            opacity: 0,\n                            transform: \"translateY(-8px)\"\n                          }], {\n                            duration: 150\n                          });\n                          a2.finished.then(done);\n                        },\n                        get children() {\n                          return createComponent(Show, {\n                            get when() {\n                              return isOpened();\n                            },\n                            get children() {\n                              return createComponent(DropdownStyled, {\n                                get hidden() {\n                                  return !isOpened();\n                                },\n                                onClose: () => setIsOpened(false),\n                                ref(r$) {\n                                  var _ref$ = dropDownRef;\n                                  typeof _ref$ === \"function\" ? _ref$(r$) : dropDownRef = r$;\n                                }\n                              });\n                            }\n                          });\n                        }\n                      }));\n                      createRenderEffect((_p$) => {\n                        var _a2, _b2;\n                        var _v$ = position.strategy, _v$2 = `${(_a2 = position.y) != null ? _a2 : 0}px`, _v$3 = `${(_b2 = position.x) != null ? _b2 : 0}px`;\n                        _v$ !== _p$.e && ((_p$.e = _v$) != null ? _el$.style.setProperty(\"position\", _v$) : _el$.style.removeProperty(\"position\"));\n                        _v$2 !== _p$.t && ((_p$.t = _v$2) != null ? _el$.style.setProperty(\"top\", _v$2) : _el$.style.removeProperty(\"top\"));\n                        _v$3 !== _p$.a && ((_p$.a = _v$3) != null ? _el$.style.setProperty(\"left\", _v$3) : _el$.style.removeProperty(\"left\"));\n                        return _p$;\n                      }, {\n                        e: void 0,\n                        t: void 0,\n                        a: void 0\n                      });\n                      return _el$;\n                    }\n                  })];\n                }\n              });\n            }\n          })];\n        }\n      })];\n    }\n  });\n};\nconst [appState, setAppState] = createStore({\n  buttonRootId: null,\n  language: \"en_US\",\n  returnStrategy: \"none\"\n});\nconst StyledModal = styled(Modal)`\n  padding-left: 0;\n  padding-right: 0;\n  padding-top: 0;\n\n  ${media(\"mobile\")} {\n    padding-left: 0;\n    padding-right: 0;\n    min-height: 364px;\n  }\n`;\nconst H1Styled$1 = styled(H1)`\n  padding: 12px 64px;\n`;\nconst MobileConnectionModalStyled$1 = styled.div``;\nconst BodyStyled$1 = styled.div`\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  min-height: ${(props) => props.isDeclined ? \"200px\" : \"325px\"};;\n  gap: 24px;\n`;\nconst StyledIconButton = styled(IconButton)`\n  position: absolute;\n  top: 12px;\n  left: 16px;\n`;\nconst H2Styled = styled(H2)`\n  margin-bottom: 0;\n  padding: 16px 24px 24px 24px;\n  min-height: 44px;\n`;\nconst QrCodeWrapper = styled.div`\n  margin-top: 24px;\n  margin-left: 24px;\n  margin-right: 24px;\n`;\nconst LoaderWrapper = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\nfunction addReturnStrategy(url, strategy) {\n  let returnStrategy;\n  if (typeof strategy === \"string\") {\n    returnStrategy = strategy;\n  } else {\n    returnStrategy = strategy.returnStrategy;\n  }\n  const newUrl = addQueryParameter(url, \"ret\", returnStrategy);\n  if (!core.isTelegramUrl(url)) {\n    return newUrl;\n  }\n  const lastParam = newUrl.slice(newUrl.lastIndexOf(\"&\") + 1);\n  return newUrl.slice(0, newUrl.lastIndexOf(\"&\")) + \"-\" + core.encodeTelegramUrlParameters(lastParam);\n}\nfunction openLinkOnPhone(universalLink, deepLink) {\n  if (isOS(\"android\")) {\n    openDeeplinkWithFallback(deepLink, () => {\n    });\n  } else {\n    openLinkBlank(universalLink);\n  }\n}\nfunction redirectToWallet(universalLink, deepLink, options, setOpenMethod) {\n  if (!deepLink) {\n    deepLink = core.standardDeeplink;\n  }\n  options = __spreadValues({}, options);\n  if (isInTelegramBrowser()) {\n    if (isOS(\"ios\", \"android\")) {\n      if (options.returnStrategy === \"back\") {\n        options.returnStrategy = \"tg://resolve\";\n      }\n      setOpenMethod(\"universal-link\");\n      openLinkOnPhone(universalLink, deepLink);\n    } else {\n      setOpenMethod(\"universal-link\");\n      const linkWitStrategy = addReturnStrategy(universalLink, options.returnStrategy);\n      openLinkBlank(linkWitStrategy);\n    }\n  } else if (isInTMA()) {\n    if (isTmaPlatform(\"ios\", \"android\")) {\n      if (options.returnStrategy === \"back\") {\n        options.returnStrategy = \"tg://resolve\";\n      }\n      setOpenMethod(\"universal-link\");\n      openLinkOnPhone(universalLink, deepLink);\n    } else if (isTmaPlatform(\"macos\", \"tdesktop\")) {\n      if (options.returnStrategy === \"back\") {\n        options.returnStrategy = \"tg://resolve\";\n      }\n      const linkWitStrategy = addReturnStrategy(universalLink, options.returnStrategy);\n      const useDeepLink = !!deepLink && !options.forceRedirect;\n      if (useDeepLink) {\n        setOpenMethod(\"custom-deeplink\");\n        openDeeplinkWithFallback(toDeeplink(linkWitStrategy, deepLink), () => {\n          setOpenMethod(\"universal-link\");\n          openLinkBlank(linkWitStrategy);\n        });\n      } else {\n        setOpenMethod(\"universal-link\");\n        openLinkBlank(linkWitStrategy);\n      }\n    } else if (isTmaPlatform(\"weba\")) {\n      if (options.returnStrategy === \"back\") {\n        if (isBrowser(\"safari\")) {\n          options.returnStrategy = location.href;\n        } else if (isBrowser(\"chrome\")) {\n          options.returnStrategy = \"googlechrome://\";\n        } else if (isBrowser(\"firefox\")) {\n          options.returnStrategy = \"firefox://\";\n        } else if (isBrowser(\"opera\")) {\n          options.returnStrategy = \"opera-http://\";\n        } else {\n          options.returnStrategy = location.href;\n        }\n      }\n      const linkWitStrategy = addReturnStrategy(universalLink, options.returnStrategy);\n      const useDeepLink = !!deepLink && !options.forceRedirect;\n      if (useDeepLink) {\n        setOpenMethod(\"custom-deeplink\");\n        openDeeplinkWithFallback(toDeeplink(linkWitStrategy, deepLink), () => {\n          setOpenMethod(\"universal-link\");\n          openLinkBlank(linkWitStrategy);\n        });\n      } else {\n        setOpenMethod(\"universal-link\");\n        openLinkBlank(linkWitStrategy);\n      }\n    } else if (isTmaPlatform(\"web\")) {\n      if (options.returnStrategy === \"back\") {\n        if (isBrowser(\"safari\")) {\n          options.returnStrategy = location.href;\n        } else if (isBrowser(\"chrome\")) {\n          options.returnStrategy = \"googlechrome://\";\n        } else if (isBrowser(\"firefox\")) {\n          options.returnStrategy = \"firefox://\";\n        } else if (isBrowser(\"opera\")) {\n          options.returnStrategy = \"opera-http://\";\n        } else {\n          options.returnStrategy = location.href;\n        }\n      }\n      const linkWitStrategy = addReturnStrategy(universalLink, options.returnStrategy);\n      const useDeepLink = !!deepLink && !options.forceRedirect;\n      if (useDeepLink) {\n        setOpenMethod(\"custom-deeplink\");\n        openDeeplinkWithFallback(toDeeplink(linkWitStrategy, deepLink), () => {\n          setOpenMethod(\"universal-link\");\n          openLinkBlank(linkWitStrategy);\n        });\n      } else {\n        setOpenMethod(\"universal-link\");\n        openLinkBlank(linkWitStrategy);\n      }\n    } else {\n      setOpenMethod(\"universal-link\");\n      const linkWitStrategy = addReturnStrategy(universalLink, options.returnStrategy);\n      openLinkBlank(linkWitStrategy);\n    }\n  } else {\n    if (isOS(\"ios\")) {\n      if (options.returnStrategy === \"back\") {\n        if (isBrowser(\"safari\")) {\n          options.returnStrategy = \"none\";\n        } else if (isBrowser(\"chrome\")) {\n          options.returnStrategy = \"googlechrome://\";\n        } else if (isBrowser(\"firefox\")) {\n          options.returnStrategy = \"firefox://\";\n        } else if (isBrowser(\"opera\")) {\n          options.returnStrategy = \"opera-http://\";\n        } else {\n          options.returnStrategy = location.href;\n        }\n      }\n      setOpenMethod(\"universal-link\");\n      openLinkOnPhone(universalLink, deepLink);\n    } else if (isOS(\"android\")) {\n      if (options.returnStrategy === \"back\") {\n        if (isBrowser(\"chrome\")) {\n          options.returnStrategy = \"googlechrome://\";\n        } else if (isBrowser(\"firefox\")) {\n          options.returnStrategy = \"firefox://\";\n        } else if (isBrowser(\"opera\")) {\n          options.returnStrategy = \"opera-http://\";\n        } else {\n          options.returnStrategy = location.href;\n        }\n      }\n      setOpenMethod(\"universal-link\");\n      core.logDebug(\"url-strategy-helpers 489\");\n      openLinkOnPhone(universalLink, deepLink);\n    } else if (isOS(\"ipad\")) {\n      if (options.returnStrategy === \"back\") {\n        if (isBrowser(\"safari\")) {\n          options.returnStrategy = \"none\";\n        } else if (isBrowser(\"chrome\")) {\n          options.returnStrategy = \"googlechrome://\";\n        } else if (isBrowser(\"firefox\")) {\n          options.returnStrategy = \"firefox://\";\n        } else if (isBrowser(\"opera\")) {\n          options.returnStrategy = \"opera-http://\";\n        } else {\n          options.returnStrategy = location.href;\n        }\n      }\n      openLinkOnPhone(universalLink, deepLink);\n    } else if (isOS(\"macos\", \"windows\", \"linux\")) {\n      if (options.returnStrategy === \"back\") {\n        if (isBrowser(\"safari\")) {\n          options.returnStrategy = \"none\";\n        } else if (isBrowser(\"chrome\")) {\n          options.returnStrategy = \"googlechrome://\";\n        } else if (isBrowser(\"firefox\")) {\n          options.returnStrategy = \"firefox://\";\n        } else if (isBrowser(\"opera\")) {\n          options.returnStrategy = \"opera-http://\";\n        } else {\n          options.returnStrategy = \"none\";\n        }\n      }\n      const linkWitStrategy = addReturnStrategy(universalLink, options.returnStrategy);\n      const useDeepLink = !!deepLink && !options.forceRedirect;\n      if (useDeepLink) {\n        setOpenMethod(\"custom-deeplink\");\n        openDeeplinkWithFallback(toDeeplink(linkWitStrategy, deepLink), () => {\n          setOpenMethod(\"universal-link\");\n          openLinkBlank(linkWitStrategy);\n        });\n      } else {\n        setOpenMethod(\"universal-link\");\n        openLinkBlank(linkWitStrategy);\n      }\n    } else {\n      setOpenMethod(\"universal-link\");\n      openLinkBlank(addReturnStrategy(universalLink, options.returnStrategy));\n    }\n  }\n}\nfunction addQueryParameter(url, key, value) {\n  const parsed = new URL(url);\n  parsed.searchParams.append(key, value);\n  return parsed.toString();\n}\nconst imageUrl = \"data:image/png;base64,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\";\nvar _tmpl$$1 = /* @__PURE__ */ template$1(`<svg><path fill-rule=evenodd clip-rule=evenodd d=\"M96 51C96 75.8528 75.8528 96 51 96C26.1472 96 6 75.8528 6 51C6 26.1472 26.1472 6 51 6C75.8528 6 96 26.1472 96 51ZM102 51C102 79.1665 79.1665 102 51 102C22.8335 102 0 79.1665 0 51C0 22.8335 22.8335 0 51 0C79.1665 0 102 22.8335 102 51Z\"fill-opacity=0.2></svg>`, false, true), _tmpl$2 = /* @__PURE__ */ template$1(`<svg><path fill-rule=evenodd clip-rule=evenodd d=\"M6 51H0C0 79.1665 22.8335 102 51 102V96C26.1472 96 6 75.8528 6 51Z\"></svg>`, false, true);\nconst OKXLoaderIconWithLogo = (_) => {\n  return createComponent(LoaderContainerStyled$1, {\n    get children() {\n      return [createComponent(LoaderStyled, {}), createComponent(OKIconStyle, {\n        src: imageUrl\n      })];\n    }\n  });\n};\nconst OKXIconWithLogo = (_) => {\n  return createComponent(LoaderContainerStyled$1, {\n    get children() {\n      return createComponent(OKIconStyle, {\n        src: imageUrl\n      });\n    }\n  });\n};\nconst OKXLoaderIcon = (_) => {\n  const theme = useTheme();\n  const rotateAnimation = h`\n      0% {\n        transform: rotate(0deg);\n      }\n      100% {\n        transform: rotate(360deg);\n      }\n    `;\n  const RotatingSVG = styled.svg`\n    animation: ${rotateAnimation} 2s linear infinite;\n    transform-origin: center;\n  `;\n  return createComponent(RotatingSVG, {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: \"102\",\n    height: \"102\",\n    viewBox: \"0 0 102 102\",\n    fill: \"none\",\n    get children() {\n      return [(() => {\n        var _el$ = _tmpl$$1();\n        createRenderEffect(() => setAttribute(_el$, \"fill\", theme.colors.text.primary));\n        return _el$;\n      })(), (() => {\n        var _el$2 = _tmpl$2();\n        createRenderEffect(() => setAttribute(_el$2, \"fill\", theme.colors.text.primary));\n        return _el$2;\n      })()];\n    }\n  });\n};\nconst LoaderContainerStyled$1 = styled.div`\n  position: relative;\n  height: 102px;\n  width: 102px;\n`;\nconst LoaderStyled = styled(OKXLoaderIcon)`\n  height: 102px;\n  width: 102px;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n`;\nconst OKIconStyle = styled(Image)`\n  position: absolute;\n  width: 86px;\n  height: 86px;\n  border-radius: 44px;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n`;\nconst MobileConnectionQR = (props) => {\n  return [createComponent(H1Styled$1, {\n    translationKey: \"walletModal.mobileConnectionModal.OKXConnect\"\n  }), createComponent(QrCodeWrapper, {\n    get children() {\n      return [createComponent(Show, {\n        get when() {\n          return props.sessionConnecting();\n        },\n        get children() {\n          return createComponent(LoaderWrapper, {\n            get children() {\n              return createComponent(OKXLoaderIconWithLogo, {});\n            }\n          });\n        }\n      }), createComponent(Show, {\n        get when() {\n          return createMemo(() => props.universalLink !== null)() && !props.sessionConnecting();\n        },\n        get children() {\n          return createComponent(QRCode, {\n            imageUrl,\n            get sourceUrl() {\n              return addReturnStrategy(props.universalLink, \"none\");\n            },\n            disableCopy: true\n          });\n        }\n      })];\n    }\n  }), createComponent(H2Styled, {\n    translationKey: \"walletModal.mobileConnectionModal.scanQR\",\n    get translationValues() {\n      return {\n        name: props.walletInfo.name\n      };\n    },\n    get children() {\n      return [\"Scan the QR code below with your phone\\u2019s or \", createMemo(() => props.walletInfo.name), \"\\u2019s camera\"];\n    }\n  })];\n};\nstyled(H1)`\n  padding: 12px 64px;\n`;\nconst H1StyledMaxWidth = styled(H1)`\n  max-width: 262px;\n`;\nconst H1StyledRetry = styled(H1StyledMaxWidth)`\n  font-size: 14px;\n  color: ${(props) => props.theme.colors.text.primary};\n`;\nconst RetryButtonStyle = styled(Button)`\n  background-color: transparent;\n  color: ${(props) => props.theme.colors.text.primary};\n  padding: 0px;\n`;\nconst LoaderContainerStyled = styled.div`\n  margin: 30px 0;\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  gap: 16px;\n\n  ${media(\"mobile\")} {\n    height: 160px;\n    align-items: center;\n  }\n`;\nconst ErrorIconStyled = styled(ErrorIcon)`\n  margin-bottom: 16px;\n`;\nconst ButtonsContainerStyled = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  gap: 12px;\n`;\nconst ButtonsQRContainerStyled = styled.div`\n  background-color: ${(props) => props.theme.colors.text.primary};\n  height: 48px;\n  width: 262px;\n  justify-content: center;\n  border-radius: 24px;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n`;\nconst TextStyled$1 = styled(Text)`\n  max-width: 262px;\n  font-weight: 400;\n  font-size: 16px;\n  line-height: 20px;\n  text-align: center;\n  margin-top: 10px;\n  color: ${(props) => props.theme.colors.text.contrast};\n`;\nconst ContainedButton = styled(Button)`\n  height: 48px;\n  width: 262px;\n  border-radius: 999px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 12px 24px;\n`;\nconst ContainedPrimaryButton = styled(ContainedButton)`\n  background-color: ${(props) => props.theme.colors.text.primary};\n`;\nstyled(ContainedButton)`\n  background-color: transparent;\n  border-color: ${(props) => props.theme.colors.border.secondary};\n  border-width: 0.5px;\n  border-style: solid;\n`;\nconst ContainedPrimaryButtonText = styled(H1StyledMaxWidth)`\n  font-size: 14px;\n  color: ${(props) => props.theme.colors.background.primary};\n`;\nstyled(H1StyledMaxWidth)`\n  font-size: 14px;\n  color: ${(props) => props.theme.colors.text.primary};\n`;\nconst FooterStyled = styled.div`\n  padding: 16px;\n  display: flex;\n  align-items: center;\n  gap: 12px;\n  border-top: 0.5px solid\n    ${(props) => rgba(props.theme.colors.icon.secondary, 0.2)};\n  margin-top: 32px;\n`;\nconst ImageStyled = styled(Image)`\n  width: 32px;\n  height: 32px;\n  border-radius: 16px;\n`;\nconst FooterButton = styled(Link)`\n  margin-left: auto;\n  display: flex;\n`;\nconst FooterButtonCenter = styled.div`\n  display: flex;\n  gap: 8px;\n  align-items: center;\n  justify-content: center;\n`;\nconst ConnectAppTgModalPage = (props) => {\n  return [createComponent(ButtonsContainerStyled, {\n    get children() {\n      return [createComponent(OKXIconWithLogo, {}), createComponent(TextStyled$1, {\n        translationKey: \"walletModal.mobileConnectionModal.appAndTelegram.text\",\n        children: \"OKX Wallet supports OKX app and Telegram Mini Apps\"\n      })];\n    }\n  }), createComponent(ButtonsContainerStyled, {\n    get children() {\n      return [createComponent(ContainedPrimaryButton, {\n        get onClick() {\n          return props.onConnectApp;\n        },\n        get children() {\n          return createComponent(ContainedPrimaryButtonText, {\n            translationKey: \"walletModal.mobileConnectionModal.connectApp\",\n            children: \"Connect to OKX app\"\n          });\n        }\n      }), createComponent(ContainedPrimaryButton, {\n        get onClick() {\n          return props.onConnectMini;\n        },\n        get children() {\n          return createComponent(ContainedPrimaryButtonText, {\n            translationKey: \"walletModal.mobileConnectionModal.connectMini\",\n            children: \"Connect to Mini Apps\"\n          });\n        }\n      })];\n    }\n  })];\n};\nconst LoadingModalPage = (props) => {\n  return createComponent(LoaderContainerStyled, {\n    get children() {\n      return [createComponent(OKXLoaderIconWithLogo, {}), createComponent(Show, {\n        get when() {\n          return props.loadingTextTranslationKey || props.loadingTextTranslationKey;\n        },\n        get children() {\n          return createComponent(H1StyledMaxWidth, {\n            get translationKey() {\n              return props.loadingTextTranslationKey;\n            },\n            get children() {\n              return props.loadingText;\n            }\n          });\n        }\n      })];\n    }\n  });\n};\nconst Translation = (props) => {\n  const [t2] = useI18n();\n  return createMemo(() => {\n    var _a2;\n    return t2(props.translationKey, props.translationValues, (_a2 = props.children) == null ? void 0 : _a2.toString());\n  });\n};\nvar _tmpl$ = /* @__PURE__ */ template$1(`<svg width=40 height=12 viewBox=\"0 0 40 12\"fill=none xmlns=http://www.w3.org/2000/svg><g clip-path=url(#clip0_4356_43883)><path d=\"M11.7336 0H0.269322C0.198282 0 0.130151 0.0282212 0.0799182 0.0784542C0.0296852 0.128687 0.00146484 0.196817 0.00146484 0.267857V11.7321C0.00146484 11.8032 0.0296852 11.8713 0.0799182 11.9215C0.130151 11.9718 0.198282 12 0.269322 12H11.7336C11.8046 12 11.8728 11.9718 11.923 11.9215C11.9732 11.8713 12.0015 11.8032 12.0015 11.7321V0.267857C12.0015 0.196817 11.9732 0.128687 11.923 0.0784542C11.8728 0.0282212 11.8046 0 11.7336 0ZM8.00129 7.73303C8.00129 7.80407 7.97307 7.87221 7.92283 7.92244C7.8726 7.97267 7.80447 8.00089 7.73343 8.00089H4.26736C4.19632 8.00089 4.12819 7.97267 4.07795 7.92244C4.02772 7.87221 3.9995 7.80407 3.9995 7.73303V4.26643C3.9995 4.19539 4.02772 4.12726 4.07795 4.07702C4.12819 4.02679 4.19632 3.99857 4.26736 3.99857H7.73343C7.80447 3.99857 7.8726 4.02679 7.92283 4.07702C7.97307 4.12726 8.00129 4.19539 8.00129 4.26643V7.73303Z\"></path><path d=\"M35.7391 4.00018H32.2725C32.2015 4.00018 32.1333 4.0284 32.0831 4.07864C32.0329 4.12887 32.0046 4.197 32.0046 4.26804V7.73465C32.0046 7.80569 32.0329 7.87382 32.0831 7.92405C32.1333 7.97428 32.2015 8.0025 32.2725 8.0025H35.7391C35.8101 8.0025 35.8783 7.97428 35.9285 7.92405C35.9787 7.87382 36.007 7.80569 36.007 7.73465V4.26697C36.0067 4.19611 35.9783 4.12826 35.9281 4.07826C35.8779 4.02825 35.81 4.00018 35.7391 4.00018Z\"></path><path d=\"M31.7379 0H28.2713C28.2002 0 28.1321 0.0282212 28.0819 0.0784542C28.0316 0.128687 28.0034 0.196817 28.0034 0.267857V3.73446C28.0034 3.8055 28.0316 3.87364 28.0819 3.92387C28.1321 3.9741 28.2002 4.00232 28.2713 4.00232H31.7379C31.8089 4.00232 31.8771 3.9741 31.9273 3.92387C31.9775 3.87364 32.0057 3.8055 32.0057 3.73446V0.267857C32.0057 0.196817 31.9775 0.128687 31.9273 0.0784542C31.8771 0.0282212 31.8089 0 31.7379 0Z\"></path><path d=\"M39.7376 0H36.271C36.2 0 36.1319 0.0282212 36.0816 0.0784542C36.0314 0.128687 36.0032 0.196817 36.0032 0.267857V3.73446C36.0032 3.8055 36.0314 3.87364 36.0816 3.92387C36.1319 3.9741 36.2 4.00232 36.271 4.00232H39.7376C39.8087 4.00232 39.8768 3.9741 39.927 3.92387C39.9773 3.87364 40.0055 3.8055 40.0055 3.73446V0.267857C40.0055 0.232682 39.9986 0.19785 39.9851 0.165352C39.9716 0.132854 39.9519 0.103327 39.927 0.0784542C39.9022 0.0535813 39.8726 0.0338512 39.8401 0.0203901C39.8076 0.00692902 39.7728 0 39.7376 0Z\"></path><path d=\"M31.7379 7.99982H28.2713C28.2002 7.99982 28.1321 8.02804 28.0819 8.07827C28.0316 8.1285 28.0034 8.19663 28.0034 8.26767V11.7321C28.0034 11.8032 28.0316 11.8713 28.0819 11.9215C28.1321 11.9718 28.2002 12 28.2713 12H31.7379C31.8089 12 31.8771 11.9718 31.9273 11.9215C31.9775 11.8713 32.0057 11.8032 32.0057 11.7321V8.2666C32.0055 8.19575 31.9771 8.12789 31.9269 8.07789C31.8767 8.02789 31.8087 7.99982 31.7379 7.99982Z\"></path><path d=\"M39.7376 7.99982H36.271C36.2 7.99982 36.1319 8.02804 36.0816 8.07827C36.0314 8.1285 36.0032 8.19663 36.0032 8.26767V11.7321C36.0032 11.8032 36.0314 11.8713 36.0816 11.9215C36.1319 11.9718 36.2 12 36.271 12H39.7376C39.8087 12 39.8768 11.9718 39.927 11.9215C39.9773 11.8713 40.0055 11.8032 40.0055 11.7321V8.2666C40.0052 8.19575 39.9769 8.12789 39.9267 8.07789C39.8765 8.02789 39.8085 7.99982 39.7376 7.99982Z\"></path><path d=\"M25.733 0H22.2664C22.1954 0 22.1272 0.0282212 22.077 0.0784542C22.0268 0.128687 21.9985 0.196817 21.9985 0.267857V3.73446C21.9985 3.8055 22.0268 3.87364 22.077 3.92387C22.1272 3.9741 22.1954 4.00232 22.2664 4.00232H25.733C25.804 4.00232 25.8722 3.9741 25.9224 3.92387C25.9726 3.87364 26.0009 3.8055 26.0009 3.73446V0.267857C26.0009 0.196817 25.9726 0.128687 25.9224 0.0784542C25.8722 0.0282212 25.804 0 25.733 0Z\"></path><path d=\"M25.733 7.99982H22.2664C22.1954 7.99982 22.1272 8.02804 22.077 8.07827C22.0268 8.1285 21.9985 8.19663 21.9985 8.26767V11.7321C21.9985 11.8032 22.0268 11.8713 22.077 11.9215C22.1272 11.9718 22.1954 12 22.2664 12H25.733C25.804 12 25.8722 11.9718 25.9224 11.9215C25.9726 11.8713 26.0009 11.8032 26.0009 11.7321V8.2666C26.0006 8.19575 25.9722 8.12789 25.922 8.07789C25.8718 8.02789 25.8039 7.99982 25.733 7.99982Z\"></path><path d=\"M21.9996 4.26375C21.9996 4.19271 21.9714 4.12458 21.9212 4.07435C21.8709 4.02411 21.8028 3.99589 21.7317 3.99589H17.9994V0.267857C17.9994 0.196817 17.9712 0.128687 17.921 0.0784542C17.8707 0.0282212 17.8026 0 17.7316 0H14.2687C14.1977 0 14.1295 0.0282212 14.0793 0.0784542C14.0291 0.128687 14.0009 0.196817 14.0009 0.267857V11.7273C14.0009 11.7984 14.0291 11.8665 14.0793 11.9167C14.1295 11.967 14.1977 11.9952 14.2687 11.9952H17.7353C17.8064 11.9952 17.8745 11.967 17.9247 11.9167C17.975 11.8665 18.0032 11.7984 18.0032 11.7273V7.99661H21.7366C21.8076 7.99661 21.8757 7.96839 21.926 7.91815C21.9762 7.86792 22.0044 7.79979 22.0044 7.72875L21.9996 4.26375Z\"></path></g><defs><clipPath id=clip0_4356_43883><rect width=40.0039 height=12 fill=white>`);\nconst OKXLogo = (props) => {\n  const theme = useTheme();\n  const fill = () => props.fill || theme.colors.disable;\n  return (() => {\n    var _el$ = _tmpl$(), _el$2 = _el$.firstChild, _el$3 = _el$2.firstChild, _el$4 = _el$3.nextSibling, _el$5 = _el$4.nextSibling, _el$6 = _el$5.nextSibling, _el$7 = _el$6.nextSibling, _el$8 = _el$7.nextSibling, _el$9 = _el$8.nextSibling, _el$10 = _el$9.nextSibling, _el$11 = _el$10.nextSibling;\n    createRenderEffect((_p$) => {\n      var _v$ = fill(), _v$2 = fill(), _v$3 = fill(), _v$4 = fill(), _v$5 = fill(), _v$6 = fill(), _v$7 = fill(), _v$8 = fill(), _v$9 = fill();\n      _v$ !== _p$.e && setAttribute(_el$3, \"fill\", _p$.e = _v$);\n      _v$2 !== _p$.t && setAttribute(_el$4, \"fill\", _p$.t = _v$2);\n      _v$3 !== _p$.a && setAttribute(_el$5, \"fill\", _p$.a = _v$3);\n      _v$4 !== _p$.o && setAttribute(_el$6, \"fill\", _p$.o = _v$4);\n      _v$5 !== _p$.i && setAttribute(_el$7, \"fill\", _p$.i = _v$5);\n      _v$6 !== _p$.n && setAttribute(_el$8, \"fill\", _p$.n = _v$6);\n      _v$7 !== _p$.s && setAttribute(_el$9, \"fill\", _p$.s = _v$7);\n      _v$8 !== _p$.h && setAttribute(_el$10, \"fill\", _p$.h = _v$8);\n      _v$9 !== _p$.r && setAttribute(_el$11, \"fill\", _p$.r = _v$9);\n      return _p$;\n    }, {\n      e: void 0,\n      t: void 0,\n      a: void 0,\n      o: void 0,\n      i: void 0,\n      n: void 0,\n      s: void 0,\n      h: void 0,\n      r: void 0\n    });\n    return _el$;\n  })();\n};\nconst ModalFooter = (props) => {\n  const theme = useTheme();\n  return [createComponent(FooterStyled, {\n    get children() {\n      return [createComponent(ImageStyled, {\n        src: imageUrl\n      }), createComponent(H3, {\n        get children() {\n          return props.wallet.name;\n        }\n      }), createComponent(FooterButton, {\n        get href() {\n          return props.wallet.aboutUrl;\n        },\n        blank: true,\n        get children() {\n          return [createComponent(Text, {\n            get color() {\n              return theme.colors.text.contrast;\n            },\n            get children() {\n              return createComponent(Translation, {\n                translationKey: \"common.get\",\n                children: \"GET\"\n              });\n            }\n          }), createComponent(ArrowIcon, {\n            direction: \"right\"\n          })];\n        }\n      })];\n    }\n  }), createComponent(FooterButtonCenter, {\n    get children() {\n      return [createComponent(Text, {\n        get color() {\n          return theme.colors.disable;\n        },\n        get children() {\n          return createComponent(Translation, {\n            translationKey: \"walletModal.mobileConnectionModal.PoweredBy\",\n            children: \"PoweredBy\"\n          });\n        }\n      }), createComponent(OKXLogo, {})];\n    }\n  })];\n};\nconst ModalRetryButton = (props) => {\n  return createComponent(RetryButtonStyle, {\n    get leftIcon() {\n      return createComponent(RetryIcon, {});\n    },\n    get onClick() {\n      return props.onRetry;\n    },\n    get children() {\n      return createComponent(H1StyledRetry, {\n        translationKey: \"common.retry\",\n        children: \"Retry\"\n      });\n    }\n  });\n};\nconst ConnectionDeclinedModalPage = (props) => {\n  return [createComponent(ErrorIconStyled, {\n    size: \"s\"\n  }), createComponent(H1StyledMaxWidth, {\n    translationKey: \"walletModal.mobileConnectionModal.connectionDeclined\",\n    children: \"Connection declined\"\n  }), createComponent(Show, {\n    get when() {\n      return props.showRetry;\n    },\n    get children() {\n      return createComponent(ButtonsContainerStyled, {\n        get children() {\n          return createComponent(ModalRetryButton, {\n            get onRetry() {\n              return props.onRetry;\n            }\n          });\n        }\n      });\n    }\n  })];\n};\nconst ContinueInWalletModalPage = (props) => {\n  const theme = useTheme();\n  return [createComponent(ButtonsContainerStyled, {\n    get children() {\n      return [createComponent(OKXLoaderIconWithLogo, {}), createComponent(H1StyledMaxWidth, {\n        translationKey: \"walletModal.mobileConnectionModal.continueIn\",\n        children: \"Continue the transaction in OKX Wallet\"\n      })];\n    }\n  }), createComponent(ButtonsContainerStyled, {\n    get children() {\n      return [createComponent(ButtonsQRContainerStyled, {\n        get onClick() {\n          return props.onOpenQR;\n        },\n        get children() {\n          return [createComponent(QRIcon, {\n            get fill() {\n              return theme.colors.background.primary;\n            }\n          }), createComponent(ContainedPrimaryButtonText, {\n            translationKey: \"walletModal.mobileConnectionModal.showQR\",\n            children: \"Show QR Codes\"\n          })];\n        }\n      }), createComponent(ModalRetryButton, {\n        get onRetry() {\n          return props.onRetry;\n        }\n      })];\n    }\n  })];\n};\nconst MobileConnectionModal = (props) => {\n  useTheme();\n  const [firstClick, setFirstClick] = createSignal(true);\n  const [showQR, setShowQR] = createSignal(false);\n  const [connectClicked, setConnectClicked] = createSignal(false);\n  const showAppAndTgState = createMemo(() => !props.isSingleWallet && !connectClicked());\n  const [appDeepLink, setAppDeepLink] = createSignal(null);\n  const [miniUniversalLink, setMiniUniversalLink] = createSignal(null);\n  const [qrLink, setQrLink] = createSignal(null);\n  const okxConnectUI = useContext(OKXConnectUiContext);\n  createEffect(() => {\n    var _a2, _b2;\n    var info = props.universalLinkParams();\n    if (info) {\n      props.setLastSelectedWalletInfo(__spreadProps(__spreadValues({}, props.wallet), {\n        openMethod: \"universal-link\"\n      }));\n      core.logDebug(`createEffect  ${JSON.stringify(info)}`);\n      var connectRequest = info.connectRequest;\n      var tonConnectRequest = info.tonConnectRequest;\n      if (!tonConnectRequest) {\n        tonConnectRequest = connectRequest;\n      }\n      if (connectRequest) {\n        var encodeParams = core.encodeConnectParams(__spreadProps(__spreadValues({}, tonConnectRequest), {\n          redirect: \"none\"\n        }));\n        var qrLink2 = core.getUniversalLink(core.getAppWalletDeepLink(encodeParams));\n        setQrLink(qrLink2);\n        var appConnectEncodeParams = core.encodeConnectParams(__spreadProps(__spreadValues({}, tonConnectRequest), {\n          redirect: (_a2 = info.redirect) != null ? _a2 : \"none\"\n        }));\n        var appDeepLink2 = core.getAppWalletDeepLink(appConnectEncodeParams);\n        setAppDeepLink(appDeepLink2);\n        var encodeTGParams = core.encodeTWAConnectURLParams(__spreadProps(__spreadValues({}, connectRequest), {\n          redirect: \"none\"\n        }));\n        var tgUrl = core.getTelegramWalletTWAUrl(encodeTGParams, (_b2 = info.tmaReturnUrl) != null ? _b2 : \"back\");\n        setMiniUniversalLink(tgUrl);\n        core.logDebug(`setUniversalLink  ${appDeepLink2}   tgUrl  ${tgUrl}    qrLink ${qrLink2}`);\n      }\n    }\n    if (props.connectError()) {\n      setShowQR(false);\n    }\n  });\n  onMount(() => __async(exports, null, function* () {\n    try {\n      yield props.connect().catch((error) => core.logDebug(`MobileConnectionModal onMount error ${JSON.stringify(error)}`));\n    } catch (error) {\n      console.error(\"Error while connecting:\", error);\n    }\n  }));\n  const onRetry = () => {\n    setConnectClicked(false);\n    !firstClick();\n    setFirstClick(false);\n    try {\n      props.connect();\n    } catch (error) {\n      console.error(\"Error while connecting:\", error);\n    }\n  };\n  const onOpenQR = () => {\n    setShowQR(true);\n    props.setLastSelectedWalletInfo(__spreadProps(__spreadValues({}, props.wallet), {\n      openMethod: \"qrcode\"\n    }));\n  };\n  const onCloseQR = () => {\n    setShowQR(false);\n    props.setLastSelectedWalletInfo(__spreadProps(__spreadValues({}, props.wallet), {\n      openMethod: \"universal-link\"\n    }));\n  };\n  const onBack = () => {\n    if (showQR()) {\n      onCloseQR();\n    } else {\n      props.onBackClick();\n    }\n  };\n  const onConnectApp = () => {\n    setConnectClicked(true);\n    core.openOKXDeeplinkWithFallback(appDeepLink());\n  };\n  const onConnectMini = () => {\n    okxConnectUI == null ? void 0 : okxConnectUI.closeModal();\n    core.openOKXTMAWalletlinkWithFallback(miniUniversalLink());\n  };\n  return createComponent(MobileConnectionModalStyled$1, {\n    \"data-tc-wallets-modal-connection-mobile\": \"true\",\n    get children() {\n      return [createComponent(Show, {\n        get when() {\n          return !props.backDisabled || showQR();\n        },\n        get children() {\n          return createComponent(StyledIconButton, {\n            icon: \"arrow\",\n            onClick: onBack\n          });\n        }\n      }), createComponent(Show, {\n        get when() {\n          return createMemo(() => props.universalLinkParams() === null)() && !props.connectError();\n        },\n        get children() {\n          return [createComponent(H1Styled$1, {\n            children: \"OKX Connect\"\n          }), createComponent(LoadingModalPage, {}), createComponent(ModalFooter, {\n            get wallet() {\n              return props.wallet;\n            }\n          })];\n        }\n      }), createComponent(Show, {\n        get when() {\n          return props.universalLinkParams() !== null || props.connectError();\n        },\n        get children() {\n          return [createComponent(Show, {\n            get when() {\n              return createMemo(() => !!showQR())() && !props.connectError();\n            },\n            get children() {\n              return createComponent(MobileConnectionQR, {\n                get universalLink() {\n                  return qrLink();\n                },\n                get walletInfo() {\n                  return props.wallet;\n                },\n                get sessionConnecting() {\n                  return props.sessionConnecting;\n                }\n              });\n            }\n          }), createComponent(Show, {\n            get when() {\n              return !showQR();\n            },\n            get children() {\n              return [createComponent(H1Styled$1, {\n                children: \"OKX Connect\"\n              }), createComponent(BodyStyled$1, {\n                get isDeclined() {\n                  return props.connectError();\n                },\n                get children() {\n                  return [createComponent(Show, {\n                    get when() {\n                      return props.connectError();\n                    },\n                    get children() {\n                      return createComponent(ConnectionDeclinedModalPage, {\n                        onRetry,\n                        get showRetry() {\n                          return props.showRetry;\n                        }\n                      });\n                    }\n                  }), createComponent(Show, {\n                    get when() {\n                      return !props.connectError();\n                    },\n                    get children() {\n                      return [createComponent(Show, {\n                        get when() {\n                          return showAppAndTgState();\n                        },\n                        get children() {\n                          return createComponent(ConnectAppTgModalPage, {\n                            onConnectApp,\n                            onConnectMini\n                          });\n                        }\n                      }), createComponent(Show, {\n                        get when() {\n                          return !showAppAndTgState();\n                        },\n                        get children() {\n                          return createComponent(ContinueInWalletModalPage, {\n                            onOpenQR,\n                            onRetry\n                          });\n                        }\n                      })];\n                    }\n                  })];\n                }\n              }), createComponent(ModalFooter, {\n                get wallet() {\n                  return props.wallet;\n                }\n              })];\n            }\n          })];\n        }\n      })];\n    }\n  });\n};\nconst MobileConnectionModalStyled = styled.div``;\nconst BodyStyled = styled.div`\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  min-height: 200px;\n  gap: 24px;\n`;\nconst DesktopConnectionModal = (props) => {\n  useTheme();\n  const [firstClick, setFirstClick] = createSignal(true);\n  const [showQR, setShowQR] = createSignal(false);\n  const [walletType, setWalletType] = createSignal(null);\n  const showAppAndTgState = createMemo(() => !props.isSingleWallet && walletType() === null);\n  const [miniUniversalLink, setMiniUniversalLink] = createSignal(null);\n  const okxConnectUI = useContext(OKXConnectUiContext);\n  createEffect(() => {\n    var _a2;\n    core.logDebug(\"TON customEvent.detail  :::\", createEffect);\n    var info = props.universalLinkParams();\n    core.logDebug(\"TON customEvent.detail  :::\", JSON.stringify(info));\n    if (info) {\n      props.setLastSelectedWalletInfo(__spreadProps(__spreadValues({}, props.wallet), {\n        openMethod: \"universal-link\"\n      }));\n      var connectRequest = info.connectRequest;\n      info.tonConnectRequest;\n      if (connectRequest) {\n        var qrLink2 = core.getAppWalletShortDeepLink(connectRequest.topic, connectRequest.clientId);\n        setQrLink(qrLink2);\n        var encodeTGParams = core.encodeTWAConnectURLParams(connectRequest);\n        var tgUrl = core.getTelegramWalletTWAUrl(encodeTGParams, (_a2 = info.tmaReturnUrl) != null ? _a2 : \"back\", browserDebug());\n        setMiniUniversalLink(tgUrl);\n        core.logDebug(`DesktopConnectionModal  setUniversalLink  tgUrl  ${tgUrl}    qrLink ${qrLink2}`);\n      }\n    }\n    if (props.connectError()) {\n      setShowQR(false);\n    }\n  });\n  const [qrLink, setQrLink] = createSignal(null);\n  onMount(() => __async(exports, null, function* () {\n    try {\n      yield props.connect().catch((error) => core.logDebug(\"DesktopConnectionModal connect catch error \", JSON.stringify(error)));\n    } catch (error) {\n      core.logDebug(\"DesktopConnectionModal connect  error \", JSON.stringify(error));\n    }\n  }));\n  const onRetry = () => {\n    setWalletType(null);\n    !firstClick();\n    setFirstClick(false);\n    try {\n      props.connect();\n    } catch (error) {\n      console.error(\"Error while connecting:\", error);\n    }\n  };\n  const onOpenQR = () => {\n    setShowQR(true);\n    props.setLastSelectedWalletInfo(__spreadProps(__spreadValues({}, props.wallet), {\n      openMethod: \"qrcode\"\n    }));\n  };\n  const onConnectApp = () => {\n    setQrLink(qrLink());\n    setWalletType(\"app\");\n    onOpenQR();\n  };\n  const onConnectMini = () => {\n    core.logDebug(\"desktop on connect mini\");\n    okxConnectUI == null ? void 0 : okxConnectUI.closeModal();\n    core.openOKXTMAWalletlinkWithFallback(miniUniversalLink());\n  };\n  return createComponent(MobileConnectionModalStyled, {\n    \"data-tc-wallets-modal-connection-mobile\": \"true\",\n    get children() {\n      return [createComponent(Show, {\n        get when() {\n          return props.universalLinkParams() === null || props.connectError() || showAppAndTgState();\n        },\n        get children() {\n          return createComponent(H1Styled$1, {\n            children: \"OKX Connect\"\n          });\n        }\n      }), createComponent(Show, {\n        get when() {\n          return createMemo(() => props.universalLinkParams() === null)() && !props.connectError();\n        },\n        get children() {\n          return [createComponent(LoadingModalPage, {}), createComponent(ModalFooter, {\n            get wallet() {\n              return props.wallet;\n            }\n          })];\n        }\n      }), createComponent(Show, {\n        get when() {\n          return props.universalLinkParams() !== null || props.connectError();\n        },\n        get children() {\n          return [createComponent(Show, {\n            get when() {\n              return props.connectError();\n            },\n            get children() {\n              return createComponent(BodyStyled, {\n                get children() {\n                  return createComponent(ConnectionDeclinedModalPage, {\n                    onRetry,\n                    get showRetry() {\n                      return props.showRetry;\n                    }\n                  });\n                }\n              });\n            }\n          }), createComponent(Show, {\n            get when() {\n              return !props.connectError();\n            },\n            get children() {\n              return [createComponent(Show, {\n                get when() {\n                  return !showAppAndTgState();\n                },\n                get children() {\n                  return createComponent(MobileConnectionQR, {\n                    get universalLink() {\n                      return qrLink();\n                    },\n                    get walletInfo() {\n                      return props.wallet;\n                    },\n                    get sessionConnecting() {\n                      return props.sessionConnecting;\n                    }\n                  });\n                }\n              }), createComponent(Show, {\n                get when() {\n                  return showAppAndTgState();\n                },\n                get children() {\n                  return createComponent(BodyStyled, {\n                    get children() {\n                      return createComponent(ConnectAppTgModalPage, {\n                        onConnectApp,\n                        onConnectMini\n                      });\n                    }\n                  });\n                }\n              })];\n            }\n          }), createComponent(ModalFooter, {\n            get wallet() {\n              return props.wallet;\n            }\n          })];\n        }\n      })];\n    }\n  });\n};\nconst SingleWalletModal = (props) => {\n  const {\n    locale\n  } = useI18n()[1];\n  createEffect(() => locale(appState.language));\n  createEffect(() => {\n    if (props.opened) {\n      updateIsMobile();\n    }\n  });\n  return createComponent(StyledModal, {\n    get opened() {\n      return props.opened;\n    },\n    onClose: () => props.onClose(\"action-cancelled\"),\n    \"data-tc-wallets-modal-container\": \"true\",\n    get children() {\n      return [createComponent(Show, {\n        get when() {\n          return props.loadingBeforeConnect();\n        },\n        get children() {\n          return [createComponent(H1Styled$1, {\n            get children() {\n              var _a2;\n              return (_a2 = props.walletInfo) == null ? void 0 : _a2.name;\n            }\n          }), createComponent(LoadingModalPage, {})];\n        }\n      }), createComponent(Show, {\n        get when() {\n          return !props.loadingBeforeConnect();\n        },\n        get children() {\n          return createComponent(Dynamic, {\n            get component() {\n              return isMobile() ? MobileConnectionModal : DesktopConnectionModal;\n            },\n            get wallet() {\n              return props.walletInfo;\n            },\n            onBackClick: () => {\n            },\n            backDisabled: true,\n            get connect() {\n              return props.connect;\n            },\n            get isSingleWallet() {\n              return props.isSingleWallet;\n            },\n            get universalLinkParams() {\n              return props.universalLinkParams;\n            },\n            get lastSelectedWalletInfo() {\n              return props.lastSelectedWalletInfo;\n            },\n            get setLastSelectedWalletInfo() {\n              return props.setLastSelectedWalletInfo;\n            },\n            get connectError() {\n              return props.connectError;\n            },\n            get showRetry() {\n              return props.showRetry;\n            },\n            get sessionConnecting() {\n              return props.sessionConnecting;\n            }\n          });\n        }\n      })];\n    }\n  });\n};\nconst TonSingleWalletModal = () => {\n  const tonConnectUI = useContext(OKXConnectUiContext);\n  const connector = useContext(ConnectorContext);\n  const [connectError, setConnectError] = createSignal(false);\n  const [sessionConnecting, setSessionConnecting] = createSignal(false);\n  const additionalRequestLoading = () => {\n    var _a2;\n    return ((_a2 = appState.connectRequestParameters) == null ? void 0 : _a2.state) === \"loading\";\n  };\n  const [universalLinkParams, setUniversalLinkParams] = createSignal(null);\n  window.addEventListener(\"okx-ton-connect-connection-info-before-jump\", (event) => {\n    const customEvent = event;\n    core.logDebug(\"TON   :::\", JSON.stringify(customEvent.detail));\n    if (customEvent.detail && \"connectInfo\" in customEvent.detail) {\n      setUniversalLinkParams(customEvent.detail.connectInfo);\n    }\n  });\n  const additionalRequest = createMemo(() => {\n    var _a2;\n    if (additionalRequestLoading()) {\n      return void 0;\n    }\n    return (_a2 = appState.connectRequestParameters) == null ? void 0 : _a2.value;\n  });\n  const onClose = (closeReason) => {\n    tonConnectUI.closeModal(closeReason);\n  };\n  const unsubscribe = connector.onStatusChange((wallet) => {\n    if (wallet) {\n      onClose(\"wallet-selected\");\n    }\n  }, () => {\n    setConnectError(true);\n  });\n  onCleanup(unsubscribe);\n  return createComponent(SingleWalletModal, {\n    get opened() {\n      return getTonSingleWalletModalIsOpened();\n    },\n    get walletInfo() {\n      return getTonSingleWalletModalWalletInfo();\n    },\n    loadingBeforeConnect: () => {\n      var _a2;\n      return ((_a2 = appState.connectRequestParameters) == null ? void 0 : _a2.state) === \"loading\";\n    },\n    connect: () => {\n      return new Promise((resolve, reject) => {\n        setUniversalLinkParams(null);\n        setConnectError(false);\n        tonConnectUI.handleConnect((actionConfiguration) => __async(exports, null, function* () {\n          var _a2;\n          return yield connector.connect({\n            openUniversalLink: defaultOpenTonUniversalLink(),\n            tonProof: (_a2 = additionalRequest()) == null ? void 0 : _a2.tonProof,\n            redirect: actionConfiguration == null ? void 0 : actionConfiguration.returnStrategy,\n            tmaReturnUrl: appState.tmaReturnUrl\n          });\n        })).then((url) => {\n          resolve(url);\n        }).catch((error) => {\n          onClose(\"action-cancelled\");\n          core.logDebug(\"TonSingleWalletModal connect error\", JSON.stringify(error));\n          reject(error);\n        });\n      });\n    },\n    onClose,\n    universalLinkParams,\n    get isSingleWallet() {\n      return !showTonTgWallet();\n    },\n    get lastSelectedWalletInfo() {\n      return lastTonSelectedWalletInfo();\n    },\n    setLastSelectedWalletInfo: setLastTonSelectedWalletInfo,\n    connectError,\n    showRetry: true,\n    sessionConnecting\n  });\n};\nconst common$j = {\n  openWallet: \"Open wallet\",\n  get: \"Get\",\n  close: \"Close\",\n  retry: \"Retry\"\n};\nconst button$j = {\n  connectWallet: \"Connect wallet\",\n  dropdown: {\n    copy: \"Copy address\",\n    copied: \"Address copied\",\n    disconnect: \"Disconnect\"\n  }\n};\nconst notifications$j = {\n  confirm: {\n    header: \"Open {{ name }} to\\xA0confirm the\\xA0transaction.\"\n  },\n  transactionSent: {\n    header: \"Transaction sent\",\n    text: \"Your transaction\\xA0will be\\xA0processed in\\xA0a\\xA0few seconds.\"\n  },\n  transactionCanceled: {\n    header: \"Transaction canceled\",\n    text: \"There\\u2019ll be no changes to your account.\"\n  }\n};\nconst walletModal$j = {\n  mobileConnectionModal: {\n    OKXConnect: \"OKX Connect\",\n    showQR: \"Show QR Code\",\n    scanQR: \"Scan the\\xA0QR code below with your phone\\u2019s\\xA0or\\xA0{{ name }}\\u2019s camera\",\n    continueIn: \"Proceed in OKX Wallet\",\n    connectionDeclined: \"Connection failed\",\n    PoweredBy: \"Powered by\",\n    appAndTelegram: {\n      header: \"Connect to OKX Wallet\",\n      text: \"OKX Wallet is available on OKX App and Telegram\"\n    },\n    connectApp: \"Connect to OKX App\",\n    connectMini: \"Connect to OKX Mini Wallet\"\n  }\n};\nconst actionModal$j = {\n  confirmTransaction: {\n    header: \"Confirm the\\xA0transaction in\\xA0{{ name }}\",\n    text: \"It\\u2019ll only take a moment.\"\n  },\n  transactionSent: \"$notifications.transactionSent\",\n  transactionCanceled: \"$notifications.transactionCanceled\"\n};\nconst en = {\n  common: common$j,\n  button: button$j,\n  notifications: notifications$j,\n  walletModal: walletModal$j,\n  actionModal: actionModal$j\n};\nconst common$i = {\n  openWallet: \"\\u041E\\u0442\\u043A\\u0440\\u044B\\u0442\\u044C \\u043A\\u043E\\u0448\\u0435\\u043B\\u0435\\u043A\",\n  get: \"\\u041F\\u041E\\u041B\\u0423\\u0427\\u0418\\u0422\\u042C\",\n  close: \"\\u0417\\u0430\\u043A\\u0440\\u044B\\u0442\\u044C\",\n  retry: \"\\u041F\\u043E\\u0432\\u0442\\u043E\\u0440\\u0438\\u0442\\u044C \\u043F\\u043E\\u043F\\u044B\\u0442\\u043A\\u0443\"\n};\nconst button$i = {\n  connectWallet: \"\\u041F\\u043E\\u0434\\u043A\\u043B\\u044E\\u0447\\u0438\\u0442\\u044C \\u043A\\u043E\\u0448\\u0435\\u043B\\u0435\\u043A\",\n  dropdown: {\n    copy: \"\\u0421\\u043A\\u043E\\u043F\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C \\u0430\\u0434\\u0440\\u0435\\u0441\",\n    copied: \"\\u0410\\u0434\\u0440\\u0435\\u0441 \\u0441\\u043A\\u043E\\u043F\\u0438\\u0440\\u043E\\u0432\\u0430\\u043D.\",\n    disconnect: \"\\u041E\\u0442\\u043A\\u043B\\u044E\\u0447\\u0438\\u0442\\u044C\"\n  }\n};\nconst notifications$i = {\n  confirm: {\n    header: \"\\u041E\\u0442\\u043A\\u0440\\u043E\\u0439\\u0442\\u0435 {{ name }} \\u0434\\u043B\\u044F \\u043F\\u043E\\u0434\\u0442\\u0432\\u0435\\u0440\\u0436\\u0434\\u0435\\u043D\\u0438\\u044F \\u0442\\u0440\\u0430\\u043D\\u0437\\u0430\\u043A\\u0446\\u0438\\u0438.\"\n  },\n  transactionSent: {\n    header: \"\\u0422\\u0440\\u0430\\u043D\\u0437\\u0430\\u043A\\u0446\\u0438\\u044F \\u043E\\u0442\\u043F\\u0440\\u0430\\u0432\\u043B\\u0435\\u043D\\u0430\",\n    text: \"\\u0422\\u0440\\u0430\\u043D\\u0437\\u0430\\u043A\\u0446\\u0438\\u044F \\u0431\\u0443\\u0434\\u0435\\u0442 \\u043E\\u0431\\u0440\\u0430\\u0431\\u043E\\u0442\\u0430\\u043D\\u0430 \\u0447\\u0435\\u0440\\u0435\\u0437 \\u043D\\u0435\\u0441\\u043A\\u043E\\u043B\\u044C\\u043A\\u043E \\u0441\\u0435\\u043A\\u0443\\u043D\\u0434.\"\n  },\n  transactionCanceled: {\n    header: \"\\u0422\\u0440\\u0430\\u043D\\u0437\\u0430\\u043A\\u0446\\u0438\\u044F \\u043E\\u0442\\u043C\\u0435\\u043D\\u0435\\u043D\\u0430\",\n    text: \"\\u0418\\u0437\\u043C\\u0435\\u043D\\u0435\\u043D\\u0438\\u0439 \\u0432 \\u0430\\u043A\\u043A\\u0430\\u0443\\u043D\\u0442\\u0435 \\u043D\\u0435 \\u0431\\u0443\\u0434\\u0435\\u0442.\"\n  }\n};\nconst walletModal$i = {\n  mobileConnectionModal: {\n    showQR: \"\\u041F\\u043E\\u043A\\u0430\\u0437\\u0430\\u0442\\u044C QR-\\u043A\\u043E\\u0434\",\n    scanQR: \"\\u041E\\u0442\\u0441\\u043A\\u0430\\u043D\\u0438\\u0440\\u0443\\u0439\\u0442\\u0435 QR-\\u043A\\u043E\\u0434 \\u043D\\u0438\\u0436\\u0435 \\u0441 \\u043F\\u043E\\u043C\\u043E\\u0449\\u044C\\u044E \\u043A\\u0430\\u043C\\u0435\\u0440\\u044B \\u043D\\u0430 \\u0442\\u0435\\u043B\\u0435\\u0444\\u043E\\u043D\\u0435 \\u0438\\u043B\\u0438 {{ name }}\",\n    continueIn: \"\\u041F\\u0440\\u043E\\u0434\\u043E\\u043B\\u0436\\u0438\\u0442\\u044C \\u0432\\u044B\\u043F\\u043E\\u043B\\u043D\\u0435\\u043D\\u0438\\u0435 \\u0442\\u0440\\u0430\\u043D\\u0437\\u0430\\u043A\\u0446\\u0438\\u0438 \\u0432 \\u041A\\u043E\\u0448\\u0435\\u043B\\u044C\\u043A\\u0435 OKX\",\n    connectionDeclined: \"\\u041F\\u043E\\u0434\\u043A\\u043B\\u044E\\u0447\\u0435\\u043D\\u0438\\u0435 \\u043E\\u0442\\u043A\\u043B\\u043E\\u043D\\u0435\\u043D\\u043E\",\n    PoweredBy: \"Powered by\",\n    appAndTelegram: {\n      header: \"Connect to OKX Wallet\",\n      text: \"\\u041A\\u043E\\u0448\\u0435\\u043B\\u0435\\u043A OKX \\u0434\\u043E\\u0441\\u0442\\u0443\\u043F\\u0435\\u043D \\u0432 \\u043F\\u0440\\u0438\\u043B\\u043E\\u0436\\u0435\\u043D\\u0438\\u0438 OKX \\u0438 \\u0432 Telegram\"\n    },\n    connectApp: \"\\u041F\\u043E\\u0434\\u043A\\u043B\\u044E\\u0447\\u0438\\u0442\\u044C\\u0441\\u044F \\u043A \\u043F\\u0440\\u0438\\u043B\\u043E\\u0436\\u0435\\u043D\\u0438\\u044E OKX\",\n    connectMini: \"\\u041F\\u043E\\u0434\\u043A\\u043B\\u044E\\u0447\\u0438\\u0442\\u044C\\u0441\\u044F \\u043A \\u043C\\u0438\\u043D\\u0438-\\u041A\\u043E\\u0448\\u0435\\u043B\\u044C\\u043A\\u0443 OKX\"\n  }\n};\nconst actionModal$i = {\n  confirmTransaction: {\n    header: \"\\u041F\\u043E\\u0434\\u0442\\u0432\\u0435\\u0440\\u0434\\u0438\\u0442\\u0435 \\u0442\\u0440\\u0430\\u043D\\u0437\\u0430\\u043A\\u0446\\u0438\\u044E \\u0432 {{ name }}\",\n    text: \"\\u042D\\u0442\\u043E \\u0437\\u0430\\u0439\\u043C\\u0435\\u0442 \\u0432\\u0441\\u0435\\u0433\\u043E \\u043D\\u0435\\u0441\\u043A\\u043E\\u043B\\u044C\\u043A\\u043E \\u0441\\u0435\\u043A\\u0443\\u043D\\u0434.\"\n  },\n  transactionSent: \"$notifications.transactionSent\",\n  transactionCanceled: \"$notifications.transactionCanceled\"\n};\nconst ru = {\n  common: common$i,\n  button: button$i,\n  notifications: notifications$i,\n  walletModal: walletModal$i,\n  actionModal: actionModal$i\n};\nconst common$h = {\n  openWallet: \"\\u6253\\u5F00\\u94B1\\u5305\",\n  get: \"\\u83B7\\u53D6\",\n  close: \"\\u5173\\u95ED\",\n  retry: \"\\u518D\\u8BD5\\u4E00\\u6B21\"\n};\nconst button$h = {\n  connectWallet: \"\\u8FDE\\u63A5\\u94B1\\u5305\",\n  dropdown: {\n    copy: \"\\u590D\\u5236\\u5730\\u5740\",\n    copied: \"\\u5730\\u5740\\u5DF2\\u590D\\u5236\",\n    disconnect: \"\\u65AD\\u5F00\\u8FDE\\u63A5\"\n  }\n};\nconst notifications$h = {\n  confirm: {\n    header: \"\\u6253\\u5F00 {{ name }} \\u4EE5\\u786E\\u8BA4\\u4EA4\\u6613\"\n  },\n  transactionSent: {\n    header: \"\\u4EA4\\u6613\\u5DF2\\u53D1\\u9001\",\n    text: \"\\u4EA4\\u6613\\u5373\\u5C06\\u5B8C\\u6210\\uFF0C\\u8BF7\\u7A0D\\u5019\"\n  },\n  transactionCanceled: {\n    header: \"\\u4EA4\\u6613\\u5DF2\\u53D6\\u6D88\",\n    text: \"\\u8D26\\u6237\\u672A\\u53D1\\u751F\\u4EFB\\u4F55\\u66F4\\u6539\"\n  }\n};\nconst walletModal$h = {\n  mobileConnectionModal: {\n    OKXConnect: \"OKX Connect\",\n    showQR: \"\\u5C55\\u793A\\u4E8C\\u7EF4\\u7801\",\n    scanQR: \"\\u4F7F\\u7528\\u624B\\u673A\\u6216\\u6B27\\u6613\\u94B1\\u5305\\u7684\\u76F8\\u673A\\u626B\\u63CF\\u4E0B\\u65B9\\u4E8C\\u7EF4\\u7801\",\n    continueIn: \"\\u5728\\u6B27\\u6613\\u94B1\\u5305\\u4E2D\\u7EE7\\u7EED\\u5B8C\\u6210\",\n    connectionDeclined: \"\\u8FDE\\u63A5\\u5931\\u8D25\",\n    PoweredBy: \"Powered by\",\n    appAndTelegram: {\n      header: \"\\u8FDE\\u63A5\\u6B27\\u6613\\u94B1\\u5305\",\n      text: \"\\u6B27\\u6613\\u94B1\\u5305\\u53EF\\u5728\\u6B27\\u6613 App \\u548C Telegram \\u4F7F\\u7528\"\n    },\n    connectApp: \"\\u8FDE\\u63A5\\u6B27\\u6613 App\",\n    connectMini: \"\\u8FDE\\u63A5\\u6B27\\u6613 Mini Wallet\"\n  }\n};\nconst actionModal$h = {\n  confirmTransaction: {\n    header: \"\\u5728 {{ name }} \\u4E2D\\u786E\\u8BA4\\u4EA4\\u6613\",\n    text: \"\\u8BF7\\u7A0D\\u5019\"\n  },\n  transactionSent: \"$notifications.transactionSent\",\n  transactionCanceled: \"$notifications.transactionCanceled\"\n};\nconst zh_CN = {\n  common: common$h,\n  button: button$h,\n  notifications: notifications$h,\n  walletModal: walletModal$h,\n  actionModal: actionModal$h\n};\nconst common$g = {\n  openWallet: \"\\u0641\\u062A\\u062D \\u0645\\u062D\\u0641\\u0638\\u0629\",\n  get: \"\\u062D\\u0635\\u0648\\u0644\",\n  close: \"\\u0625\\u063A\\u0644\\u0627\\u0642\",\n  retry: \"\\u0625\\u0639\\u0627\\u062F\\u0629 \\u0627\\u0644\\u0645\\u062D\\u0627\\u0648\\u0644\\u0629\"\n};\nconst button$g = {\n  connectWallet: \"\\u0631\\u0628\\u0637 \\u0627\\u0644\\u0645\\u062D\\u0641\\u0638\\u0629\",\n  dropdown: {\n    copy: \"\\u0646\\u0633\\u062E \\u0627\\u0644\\u0639\\u0646\\u0648\\u0627\\u0646\",\n    copied: \"\\u062A\\u0645 \\u0646\\u0633\\u062E \\u0627\\u0644\\u0639\\u0646\\u0648\\u0627\\u0646\",\n    disconnect: \"\\u0625\\u0644\\u063A\\u0627\\u0621 \\u0627\\u0644\\u0631\\u0628\\u0637\"\n  }\n};\nconst notifications$g = {\n  confirm: {\n    header: \"\\u0627\\u0641\\u062A\\u062D {{ name }} \\u0644\\u062A\\u0623\\u0643\\u064A\\u062F \\u0627\\u0644\\u0645\\u0639\\u0627\\u0645\\u0644\\u0629.\"\n  },\n  transactionSent: {\n    header: \"\\u0623\\u064F\\u0631\\u0633\\u0644\\u062A \\u0627\\u0644\\u0645\\u0639\\u0627\\u0645\\u0644\\u0629\",\n    text: \"\\u0633\\u062A\\u062A\\u0645 \\u0645\\u0639\\u0627\\u0644\\u062C\\u0629 \\u0645\\u0639\\u0627\\u0645\\u0644\\u062A\\u0643 \\u0641\\u064A \\u063A\\u0636\\u0648\\u0646 \\u062B\\u0648\\u0627\\u0646\\u064D \\u0642\\u0644\\u064A\\u0644\\u0629.\"\n  },\n  transactionCanceled: {\n    header: \"\\u0623\\u064F\\u0644\\u063A\\u064A\\u062A \\u0627\\u0644\\u0645\\u0639\\u0627\\u0645\\u0644\\u0629\",\n    text: \"\\u0644\\u0646 \\u062A\\u0637\\u0631\\u0623 \\u0623\\u064A\\u0629 \\u062A\\u063A\\u064A\\u064A\\u0631\\u0627\\u062A \\u0639\\u0644\\u0649 \\u062D\\u0633\\u0627\\u0628\\u0643.\"\n  }\n};\nconst walletModal$g = {\n  mobileConnectionModal: {\n    showQR: \"\\u0639\\u0631\\u0636 \\u0631\\u0645\\u0632 QR\",\n    scanQR: \"\\u0627\\u0645\\u0633\\u062D \\u0631\\u0645\\u0632 QR \\u0623\\u062F\\u0646\\u0627\\u0647 \\u0628\\u0627\\u0633\\u062A\\u062E\\u062F\\u0627\\u0645 \\u0643\\u0627\\u0645\\u064A\\u0631\\u0627 \\u0647\\u0627\\u062A\\u0641\\u0643 \\u0623\\u0648 \\u0643\\u0627\\u0645\\u064A\\u0631\\u0627 \\u0647\\u0627\\u062A\\u0641 {{ name }}\",\n    continueIn: \"\\u0645\\u062A\\u0627\\u0628\\u0639\\u0629 \\u0627\\u0644\\u0645\\u0639\\u0627\\u0645\\u0644\\u0629 \\u0641\\u064A \\u0645\\u062D\\u0641\\u0638\\u0629 OKX\",\n    connectionDeclined: \"\\u0641\\u0634\\u0644 \\u0627\\u0644\\u0627\\u062A\\u0635\\u0627\\u0644\",\n    PoweredBy: \"Powered by\",\n    appAndTelegram: {\n      header: \"Connect to OKX Wallet\",\n      text: \"\\u0645\\u062D\\u0641\\u0638\\u0629 OKX \\u0645\\u062A\\u0627\\u062D\\u0629 \\u0639\\u0644\\u0649 \\u062A\\u0637\\u0628\\u064A\\u0642 OKX \\u0648Telegram\"\n    },\n    connectApp: \"\\u0627\\u0644\\u0631\\u0628\\u0637 \\u0628\\u062A\\u0637\\u0628\\u064A\\u0642 OKX\",\n    connectMini: \"\\u0627\\u0644\\u0631\\u0628\\u0637 \\u0628\\u0645\\u062D\\u0641\\u0638\\u0629 OKX \\u0627\\u0644\\u0645\\u0635\\u063A\\u0631\\u0629\"\n  }\n};\nconst actionModal$g = {\n  confirmTransaction: {\n    header: \"\\u062A\\u0623\\u0643\\u064A\\u062F \\u0627\\u0644\\u0645\\u0639\\u0627\\u0645\\u0644\\u0629 \\u0641\\u064A {{ name }}\",\n    text: \"\\u0644\\u0646 \\u064A\\u0633\\u062A\\u063A\\u0631\\u0642 \\u0627\\u0644\\u0623\\u0645\\u0631 \\u0633\\u0648\\u0649 \\u0644\\u062D\\u0638\\u0627\\u062A.\"\n  }\n};\nconst ar_AE = {\n  common: common$g,\n  button: button$g,\n  notifications: notifications$g,\n  walletModal: walletModal$g,\n  actionModal: actionModal$g\n};\nconst common$f = {\n  openWallet: \"Otev\\u0159\\xEDt pen\\u011B\\u017Eenku\",\n  get: \"Z\\xEDskat\",\n  close: \"Zav\\u0159\\xEDt\",\n  retry: \"Zkusit znovu\"\n};\nconst button$f = {\n  connectWallet: \"P\\u0159ipojit pen\\u011B\\u017Eenku\",\n  dropdown: {\n    copy: \"Kop\\xEDrovat adresu\",\n    copied: \"Adresa zkop\\xEDrov\\xE1na\",\n    disconnect: \"Odpojit\"\n  }\n};\nconst notifications$f = {\n  confirm: {\n    header: \"Otev\\u0159ete {{ name }} a potvr\\u010Fte transakci.\"\n  },\n  transactionSent: {\n    header: \"Transakce odesl\\xE1na\",\n    text: \"Va\\u0161e transakce bude zru\\u0161ena b\\u011Bhem n\\u011Bkolika sekund.\"\n  },\n  transactionCanceled: {\n    header: \"Transakce zru\\u0161ena\",\n    text: \"Na va\\u0161em \\xFA\\u010Dtu nedojde k \\u017E\\xE1dn\\xFDm zm\\u011Bn\\xE1m.\"\n  }\n};\nconst walletModal$f = {\n  mobileConnectionModal: {\n    showQR: \"Zobrazit QR k\\xF3d\",\n    scanQR: \"Naskenujte n\\xED\\u017Ee uveden\\xFD QR k\\xF3d pomoc\\xED kamery telefonu nebo {{ name }}\",\n    continueIn: \"Potvr\\u010Fte transakci v OKX Pen\\u011B\\u017Eence.\",\n    connectionDeclined: \"P\\u0159ipojen\\xED selhalo\",\n    PoweredBy: \"Powered by\",\n    appAndTelegram: {\n      header: \"Connect to OKX Wallet\",\n      text: \"OKX Pen\\u011B\\u017Eenka je k dispozici v aplikaci OKX a na s\\xEDti Telegram.\"\n    },\n    connectApp: \"P\\u0159ipojit k aplikaci OKX\",\n    connectMini: \"P\\u0159ipojit k minipen\\u011B\\u017Eence OKX\"\n  }\n};\nconst actionModal$f = {\n  confirmTransaction: {\n    header: \"Potvr\\u010Fte transakci na {{ name }}.\",\n    text: \"Zabere to jen chvilku.\"\n  }\n};\nconst cs_CZ = {\n  common: common$f,\n  button: button$f,\n  notifications: notifications$f,\n  walletModal: walletModal$f,\n  actionModal: actionModal$f\n};\nconst common$e = {\n  openWallet: \"Wallet \\xF6ffnen\",\n  get: \"Erhalten\",\n  close: \"Schlie\\xDFen\",\n  retry: \"Wiederholen\"\n};\nconst button$e = {\n  connectWallet: \"Wallet verkn\\xFCpfen\",\n  dropdown: {\n    copy: \"Adresse kopieren\",\n    copied: \"Adresse kopiert\",\n    disconnect: \"Trennen\"\n  }\n};\nconst notifications$e = {\n  confirm: {\n    header: \"{{ name }} \\xF6ffnen und Transaktion best\\xE4tigen.\"\n  },\n  transactionSent: {\n    header: \"Transaktion gesendet\",\n    text: \"Ihre Transaktion wird in wenigen Sekunden bearbeitet.\"\n  },\n  transactionCanceled: {\n    header: \"Transaktion storniert\",\n    text: \"Es werden keine \\xC4nderungen an Ihrem Konto vorgenommen.\"\n  }\n};\nconst walletModal$e = {\n  mobileConnectionModal: {\n    showQR: \"QR-Code anzeigen\",\n    scanQR: \"Scannen Sie den QR-Code unten mit der Kamera Ihres Telefons oder {{ name }}\",\n    continueIn: \"Setzen Sie die Transaktion in der OKX Wallet fort\",\n    connectionDeclined: \"Verbindung fehlgeschlagen\",\n    PoweredBy: \"Powered by\",\n    appAndTelegram: {\n      header: \"Connect to OKX Wallet\",\n      text: \"OKX Wallet ist in der OKX App und auf Telegram verf\\xFCgbar\"\n    },\n    connectApp: \"Mit der OKX-App verbinden\",\n    connectMini: \"Mit der OKX-Mini-Wallet verbinden\"\n  }\n};\nconst actionModal$e = {\n  confirmTransaction: {\n    header: \"Transaktion in {{ name }} best\\xE4tigen\",\n    text: \"Es dauert nur einen Augenblick.\"\n  }\n};\nconst de_DE = {\n  common: common$e,\n  button: button$e,\n  notifications: notifications$e,\n  walletModal: walletModal$e,\n  actionModal: actionModal$e\n};\nconst common$d = {\n  openWallet: \"Abrir wallet\",\n  get: \"Consigue\",\n  close: \"Cerrar\",\n  retry: \"Volver a intentar\"\n};\nconst button$d = {\n  connectWallet: \"Conectar billetera\",\n  dropdown: {\n    copy: \"Copiar direcci\\xF3n\",\n    copied: \"Direcci\\xF3n copiada\",\n    disconnect: \"Desconectar\"\n  }\n};\nconst notifications$d = {\n  confirm: {\n    header: \"Abre {{ name }} para confirmar la transacci\\xF3n.\"\n  },\n  transactionSent: {\n    header: \"Transacci\\xF3n enviada\",\n    text: \"Tu transacci\\xF3n se procesar\\xE1 en unos segundos.\"\n  },\n  transactionCanceled: {\n    header: \"Transacci\\xF3n cancelada\",\n    text: \"No se realizar\\xE1n cambios en tu cuenta.\"\n  }\n};\nconst walletModal$d = {\n  mobileConnectionModal: {\n    showQR: \"Mostrar c\\xF3digo QR\",\n    scanQR: \"Escanea el siguiente c\\xF3digo QR con la c\\xE1mara de tu tel\\xE9fono o de tu {{ name }}\",\n    continueIn: \"Continuar con la transacci\\xF3n en OKX Wallet\",\n    connectionDeclined: \"Error de conexi\\xF3n\",\n    PoweredBy: \"Powered by\",\n    appAndTelegram: {\n      header: \"Connect to OKX Wallet\",\n      text: \"OKX Wallet est\\xE1 disponible en la OKX app y en Telegram\"\n    },\n    connectApp: \"Conectarse a la OKX app\",\n    connectMini: \"Conectarse a la OKX Mini Wallet\"\n  }\n};\nconst actionModal$d = {\n  confirmTransaction: {\n    header: \"Confirma la transacci\\xF3n de {{ name }}\",\n    text: \"Solo te llevar\\xE1 un momento.\"\n  }\n};\nconst es_ES = {\n  common: common$d,\n  button: button$d,\n  notifications: notifications$d,\n  walletModal: walletModal$d,\n  actionModal: actionModal$d\n};\nconst common$c = {\n  openWallet: \"Abrir billetera\",\n  get: \"Obtener\",\n  close: \"Cerrar\",\n  retry: \"Reintentar\"\n};\nconst button$c = {\n  connectWallet: \"Conectar billetera\",\n  dropdown: {\n    copy: \"Copiar direcci\\xF3n\",\n    copied: \"Direcci\\xF3n copiada\",\n    disconnect: \"Desconectar\"\n  }\n};\nconst notifications$c = {\n  confirm: {\n    header: \"Abre {{ name }} para confirmar la transacci\\xF3n.\"\n  },\n  transactionSent: {\n    header: \"Transacci\\xF3n enviada\",\n    text: \"Tu transacci\\xF3n se procesar\\xE1 en unos segundos.\"\n  },\n  transactionCanceled: {\n    header: \"Transacci\\xF3n cancelada\",\n    text: \"No habr\\xE1 cambios en tu cuenta.\"\n  }\n};\nconst walletModal$c = {\n  mobileConnectionModal: {\n    showQR: \"Mostrar c\\xF3digo QR\",\n    scanQR: \"Escanea el siguiente c\\xF3digo QR con la c\\xE1mara de tu tel\\xE9fono o {{ name }}\",\n    continueIn: \"Contin\\xFAa la transacci\\xF3n en OKX Wallet\",\n    connectionDeclined: \"Error de conexi\\xF3n\",\n    PoweredBy: \"Powered by\",\n    appAndTelegram: {\n      header: \"Connect to OKX Wallet\",\n      text: \"OKX Wallet est\\xE1 disponible en la aplicaci\\xF3n de OKX y Telegram\"\n    },\n    connectApp: \"Con\\xE9ctate a la aplicaci\\xF3n de OKX\",\n    connectMini: \"Con\\xE9ctate a la OKX\\xA0Mini Wallet\"\n  }\n};\nconst actionModal$c = {\n  confirmTransaction: {\n    header: \"Confirmar la transacci\\xF3n en {{ name }}\",\n    text: \"Solo tomar\\xE1 un momento.\"\n  }\n};\nconst es_LAT = {\n  common: common$c,\n  button: button$c,\n  notifications: notifications$c,\n  walletModal: walletModal$c,\n  actionModal: actionModal$c\n};\nconst common$b = {\n  openWallet: \"Portefeuille ouvert\",\n  get: \"Obtenir\",\n  close: \"Fermer\",\n  retry: \"R\\xE9essayer\"\n};\nconst button$b = {\n  connectWallet: \"Connecter le portefeuille\",\n  dropdown: {\n    copy: \"Copier l\\u2019adresse\",\n    copied: \"Adresse copi\\xE9e\",\n    disconnect: \"D\\xE9connecter\"\n  }\n};\nconst notifications$b = {\n  confirm: {\n    header: \"Ouvrir {{ name }} pour confirmer la transaction.\"\n  },\n  transactionSent: {\n    header: \"Transaction envoy\\xE9e\",\n    text: \"Votre transaction sera trait\\xE9e en quelques secondes.\"\n  },\n  transactionCanceled: {\n    header: \"Transaction annul\\xE9e\",\n    text: \"Aucun changement ne sera apport\\xE9 \\xE0 votre compte.\"\n  }\n};\nconst walletModal$b = {\n  mobileConnectionModal: {\n    showQR: \"Afficher le code QR\",\n    scanQR: \"Scannez le code QR ci-dessous avec la cam\\xE9ra de votre t\\xE9l\\xE9phone ou de votre {{ name }}.\",\n    continueIn: \"Poursuivre la transaction dans OKX Wallet\",\n    connectionDeclined: \"\\xC9chec de la connexion\",\n    PoweredBy: \"Powered by\",\n    appAndTelegram: {\n      header: \"Connect to OKX Wallet\",\n      text: \"OKX Wallet est disponible sur OKX App et Telegram\"\n    },\n    connectApp: \"Se connecter \\xE0 l\\u2019appli OKX\",\n    connectMini: \"Se connecter \\xE0 OKX Mini Wallet\"\n  }\n};\nconst actionModal$b = {\n  confirmTransaction: {\n    header: \"Confirmer la transaction dans {{ name }}\",\n    text: \"Cela ne prendra qu'un instant.\"\n  }\n};\nconst fr_FR = {\n  common: common$b,\n  button: button$b,\n  notifications: notifications$b,\n  walletModal: walletModal$b,\n  actionModal: actionModal$b\n};\nconst common$a = {\n  openWallet: \"Buka wallet\",\n  get: \"Dapatkan\",\n  close: \"Tutup\",\n  retry: \"Coba lagi\"\n};\nconst button$a = {\n  connectWallet: \"Hubungkan wallet\",\n  dropdown: {\n    copy: \"Salin alamat\",\n    copied: \"Alamat disalin\",\n    disconnect: \"Putuskan sambungan\"\n  }\n};\nconst notifications$a = {\n  confirm: {\n    header: \"Buka {{ name }} untuk mengonfirmasi transaksi.\"\n  },\n  transactionSent: {\n    header: \"Transaksi terkirim\",\n    text: \"Transaksi Anda akan diproses dalam beberapa detik.\"\n  },\n  transactionCanceled: {\n    header: \"Transaksi dibatalkan\",\n    text: \"Tidak akan ada perubahan pada akun Anda.\"\n  }\n};\nconst walletModal$a = {\n  mobileConnectionModal: {\n    showQR: \"Tampilkan Kode QR\",\n    scanQR: \"Pindai kode QR di bawah dengan kamera ponsel atau {{ name }} Anda\",\n    continueIn: \"Lanjutkan transaksi di OKX Wallet\",\n    connectionDeclined: \"Koneksi gagal\",\n    PoweredBy: \"Powered by\",\n    appAndTelegram: {\n      header: \"Connect to OKX Wallet\",\n      text: \"OKX Wallet tersedia di OKX App dan Telegram\"\n    },\n    connectApp: \"Hubungkan ke OKX App\",\n    connectMini: \"Hubungkan ke OKX Mini Wallet\"\n  }\n};\nconst actionModal$a = {\n  confirmTransaction: {\n    header: \"Konfirmasi transaksi pada {{ name }}\",\n    text: \"Hanya perlu beberapa saat.\"\n  }\n};\nconst id_ID = {\n  common: common$a,\n  button: button$a,\n  notifications: notifications$a,\n  walletModal: walletModal$a,\n  actionModal: actionModal$a\n};\nconst common$9 = {\n  openWallet: \"Apri portafoglio\",\n  get: \"Ottieni\",\n  close: \"Chiudi\",\n  retry: \"Riprova\"\n};\nconst button$9 = {\n  connectWallet: \"Connetti il portafoglio\",\n  dropdown: {\n    copy: \"Copia indirizzo\",\n    copied: \"Indirizzo copiato\",\n    disconnect: \"Disconnetti\"\n  }\n};\nconst notifications$9 = {\n  confirm: {\n    header: \"Apri {{ name }} per confermare la transazione.\"\n  },\n  transactionSent: {\n    header: \"Transazione inviata\",\n    text: \"La transazione verr\\xE0 elaborata in pochi secondi.\"\n  },\n  transactionCanceled: {\n    header: \"Transazione annullata\",\n    text: \"Il tuo conto non subir\\xE0 modifiche.\"\n  }\n};\nconst walletModal$9 = {\n  mobileConnectionModal: {\n    showQR: \"Mostra il codice QR\",\n    scanQR: \"Scansiona il codice QR di seguito con la fotocamera del tuo smartphone o {{ name }}\",\n    continueIn: \"Continua la transazione in OKX Wallet\",\n    connectionDeclined: \"Collegamento non riuscito\",\n    PoweredBy: \"Powered by\",\n    appAndTelegram: {\n      header: \"Connect to OKX Wallet\",\n      text: \"OKX Wallet \\xE8 disponibile sull'app OKX e Telegram\"\n    },\n    connectApp: \"Connettiti all'app OKX\",\n    connectMini: \"Connettiti a OKX Mini Wallet\"\n  }\n};\nconst actionModal$9 = {\n  confirmTransaction: {\n    header: \"Conferma la transazione in {{ name }}\",\n    text: \"Ci vorr\\xE0 solo un secondo.\"\n  }\n};\nconst it_IT = {\n  common: common$9,\n  button: button$9,\n  notifications: notifications$9,\n  walletModal: walletModal$9,\n  actionModal: actionModal$9\n};\nconst common$8 = {\n  openWallet: \"Wallet openen\",\n  get: \"Krijgen\",\n  close: \"Sluiten\",\n  retry: \"Opnieuw proberen\"\n};\nconst button$8 = {\n  connectWallet: \"Wallet koppelen\",\n  dropdown: {\n    copy: \"Adres kopi\\xEBren\",\n    copied: \"Adres gekopieerd\",\n    disconnect: \"Verbinding verbreken\"\n  }\n};\nconst notifications$8 = {\n  confirm: {\n    header: \"Open {{ name }} om de transactie te bevestigen.\"\n  },\n  transactionSent: {\n    header: \"Transactie verstuurd\",\n    text: \"Je transactie wordt binnen een paar seconden verwerkt.\"\n  },\n  transactionCanceled: {\n    header: \"Transactie geannuleerd\",\n    text: \"Er verandert niets aan je account.\"\n  }\n};\nconst walletModal$8 = {\n  mobileConnectionModal: {\n    showQR: \"QR-code weergeven\",\n    scanQR: \"Scan de QR-code hieronder met de camera van je telefoon of de camera van{{ name }}\",\n    continueIn: \"Ga verder met de transactie in OKX Wallet\",\n    connectionDeclined: \"Koppelen mislukt\",\n    PoweredBy: \"Powered by\",\n    appAndTelegram: {\n      header: \"Connect to OKX Wallet\",\n      text: \"OKX Wallet is beschikbaar op OKX App en Telegram\"\n    },\n    connectApp: \"Koppelen met de OKX-app\",\n    connectMini: \"Koppelen met OKX Mini Wallet\"\n  }\n};\nconst actionModal$8 = {\n  confirmTransaction: {\n    header: \"De transactie in {{ name }} bevestigen\",\n    text: \"Het is zo gebeurd.\"\n  }\n};\nconst nl_NL = {\n  common: common$8,\n  button: button$8,\n  notifications: notifications$8,\n  walletModal: walletModal$8,\n  actionModal: actionModal$8\n};\nconst common$7 = {\n  openWallet: \"Otw\\xF3rz portfel\",\n  get: \"Otrzymaj\",\n  close: \"Zamknij\",\n  retry: \"Spr\\xF3buj ponownie\"\n};\nconst button$7 = {\n  connectWallet: \"Po\\u0142\\u0105cz portfel\",\n  dropdown: {\n    copy: \"Kopiuj adres\",\n    copied: \"Adres skopiowany\",\n    disconnect: \"Roz\\u0142\\u0105cz\"\n  }\n};\nconst notifications$7 = {\n  confirm: {\n    header: \"Otw\\xF3rz {{ name }}, aby potwierdzi\\u0107 transakcj\\u0119.\"\n  },\n  transactionSent: {\n    header: \"Wys\\u0142ano transakcj\\u0119\",\n    text: \"Transakcja zostanie przetworzona w ci\\u0105gu kilku sekund.\"\n  },\n  transactionCanceled: {\n    header: \"Anulowano transakcj\\u0119\",\n    text: \"Na koncie nie zostan\\u0105 wprowadzone \\u017Cadne zmiany.\"\n  }\n};\nconst walletModal$7 = {\n  mobileConnectionModal: {\n    showQR: \"Poka\\u017C kod QR\",\n    scanQR: \"Zeskanuj poni\\u017Cszy kod QR za pomoc\\u0105 aparatu w telefonie lub {{ name }}\",\n    continueIn: \"Kontynuuj transakcj\\u0119 w OKX Wallet\",\n    connectionDeclined: \"Po\\u0142\\u0105czenie nieudane\",\n    PoweredBy: \"Powered by\",\n    appAndTelegram: {\n      header: \"Connect to OKX Wallet\",\n      text: \"OKX Wallet jest dost\\u0119pny w aplikacji OKX i Telegramie\"\n    },\n    connectApp: \"Po\\u0142\\u0105cz z aplikacj\\u0105 OKX\",\n    connectMini: \"Po\\u0142\\u0105cz z OKX Mini Wallet\"\n  }\n};\nconst actionModal$7 = {\n  confirmTransaction: {\n    header: \"Potwierd\\u017A transakcj\\u0119 w {{ name }}\",\n    text: \"To zajmie tylko chwil\\u0119.\"\n  }\n};\nconst pl_PL = {\n  common: common$7,\n  button: button$7,\n  notifications: notifications$7,\n  walletModal: walletModal$7,\n  actionModal: actionModal$7\n};\nconst common$6 = {\n  openWallet: \"Abrir carteira\",\n  get: \"Receber\",\n  close: \"Fechar\",\n  retry: \"Tentar novamente\"\n};\nconst button$6 = {\n  connectWallet: \"Conectar carteira\",\n  dropdown: {\n    copy: \"Copiar endere\\xE7o\",\n    copied: \"Endere\\xE7o copiado\",\n    disconnect: \"Desconectar\"\n  }\n};\nconst notifications$6 = {\n  confirm: {\n    header: \"Abrir {{ name }} para confirmar a transa\\xE7\\xE3o.\"\n  },\n  transactionSent: {\n    header: \"Transa\\xE7\\xE3o enviada\",\n    text: \"Sua transa\\xE7\\xE3o ser\\xE1 processada em alguns segundos.\"\n  },\n  transactionCanceled: {\n    header: \"Transa\\xE7\\xE3o cancelada\",\n    text: \"N\\xE3o haver\\xE1 altera\\xE7\\xF5es em sua conta.\"\n  }\n};\nconst walletModal$6 = {\n  mobileConnectionModal: {\n    showQR: \"Mostrar C\\xF3digo QR\",\n    scanQR: \"Digitalize o c\\xF3digo QR abaixo com a c\\xE2mera do seu telefone ou do {{ name }}\",\n    continueIn: \"Continuar a transa\\xE7\\xE3o na OKX Wallet\",\n    connectionDeclined: \"Falha na conex\\xE3o\",\n    PoweredBy: \"Powered by\",\n    appAndTelegram: {\n      header: \"Connect to OKX Wallet\",\n      text: \"A OKX Wallet est\\xE1 dispon\\xEDvel na OKX App e no Telegram\"\n    },\n    connectApp: \"Conecte-se \\xE0 OKX App\",\n    connectMini: \"Conecte-se \\xE0 OKX Mini Wallet\"\n  }\n};\nconst actionModal$6 = {\n  confirmTransaction: {\n    header: \"Confirmar a transa\\xE7\\xE3o em {{ name }}\",\n    text: \"Isso levar\\xE1 apenas um momento.\"\n  }\n};\nconst pt_BR = {\n  common: common$6,\n  button: button$6,\n  notifications: notifications$6,\n  walletModal: walletModal$6,\n  actionModal: actionModal$6\n};\nconst common$5 = {\n  openWallet: \"Abrir carteira\",\n  get: \"Receber\",\n  close: \"Fechar\",\n  retry: \"Tentar novamente\"\n};\nconst button$5 = {\n  connectWallet: \"Associar carteira\",\n  dropdown: {\n    copy: \"Copiar endere\\xE7o\",\n    copied: \"Endere\\xE7o copiado\",\n    disconnect: \"Desassociar\"\n  }\n};\nconst notifications$5 = {\n  confirm: {\n    header: \"Abra {{ name }} para confirmar a transa\\xE7\\xE3o.\"\n  },\n  transactionSent: {\n    header: \"Transa\\xE7\\xE3o efetuada\",\n    text: \"A sua transa\\xE7\\xE3o ser\\xE1 processada dentro de poucos segundos.\"\n  },\n  transactionCanceled: {\n    header: \"Transa\\xE7\\xE3o cancelada\",\n    text: \"N\\xE3o ser\\xE3o feitas altera\\xE7\\xF5es \\xE0 sua conta.\"\n  }\n};\nconst walletModal$5 = {\n  mobileConnectionModal: {\n    showQR: \"Mostrar c\\xF3digo QR\",\n    scanQR: \"Leia o c\\xF3digo QR abaixo com a c\\xE2mara do seu telem\\xF3vel ou {{ name }}\",\n    continueIn: \"Continuar a transa\\xE7\\xE3o na OKX Wallet\",\n    connectionDeclined: \"Falha na liga\\xE7\\xE3o\",\n    PoweredBy: \"Powered by\",\n    appAndTelegram: {\n      header: \"Connect to OKX Wallet\",\n      text: \"A OKX Wallet est\\xE1 dispon\\xEDvel na Aplica\\xE7\\xE3o da OKX e no Telegram\"\n    },\n    connectApp: \"Associar \\xE0 Aplica\\xE7\\xE3o da OKX\",\n    connectMini: \"Associar \\xE0 OKX Mini Wallet\"\n  }\n};\nconst actionModal$5 = {\n  confirmTransaction: {\n    header: \"Confirmar a transa\\xE7\\xE3o na {{ name }}\",\n    text: \"Demora apenas um momento.\"\n  }\n};\nconst pt_PT = {\n  common: common$5,\n  button: button$5,\n  notifications: notifications$5,\n  walletModal: walletModal$5,\n  actionModal: actionModal$5\n};\nconst common$4 = {\n  openWallet: \"Deschide\\u021Bi portofelul\",\n  get: \"Primi\\u021Bi\",\n  close: \"\\xCEnchide\\u021Bi\",\n  retry: \"Re\\xEEncerca\\u021Bi\"\n};\nconst button$4 = {\n  connectWallet: \"Conecta\\u021Bi portofelul\",\n  dropdown: {\n    copy: \"Copia\\u021Bi adresa\",\n    copied: \"Adres\\u0103 copiat\\u0103\",\n    disconnect: \"Deconecta\\u021Bi\"\n  }\n};\nconst notifications$4 = {\n  confirm: {\n    header: \"Deschide\\u021Bi {{ name }} pentru a confirma tranzac\\u021Bia.\"\n  },\n  transactionSent: {\n    header: \"Tranzac\\u021Bie trimis\\u0103\",\n    text: \"Tranzac\\u021Bia dvs. va fi procesat\\u0103 \\xEEn c\\xE2teva secunde.\"\n  },\n  transactionCanceled: {\n    header: \"Tranzac\\u021Bie anulat\\u0103\",\n    text: \"Nu va exista nicio modificare \\xEEn cont.\"\n  }\n};\nconst walletModal$4 = {\n  mobileConnectionModal: {\n    showQR: \"Scana\\u021Bi codul QR\",\n    scanQR: \"Scana\\u021Bi codul QR mai jos cu camera telefonului sau a {{ name }}\",\n    continueIn: \"Continua\\u021Bi tranzac\\u021Bia \\xEEn OKX Wallet\",\n    connectionDeclined: \"Conexiunea a e\\u0219uat\",\n    PoweredBy: \"Powered by\",\n    appAndTelegram: {\n      header: \"Connect to OKX Wallet\",\n      text: \"OKX Wallet este disponibil din aplica\\u021Bia OKX \\u0219i Telegram\"\n    },\n    connectApp: \"Conecta\\u021Bi-v\\u0103 la aplica\\u021Bia OKX\",\n    connectMini: \"Conecta\\u021Bi-v\\u0103 la OKX Mini Wallet\"\n  }\n};\nconst actionModal$4 = {\n  confirmTransaction: {\n    header: \"Confirma\\u021Bi tranzac\\u021Bia \\xEEn {{ name }}\",\n    text: \"Va dura doar un moment.\"\n  }\n};\nconst ro_RO = {\n  common: common$4,\n  button: button$4,\n  notifications: notifications$4,\n  walletModal: walletModal$4,\n  actionModal: actionModal$4\n};\nconst common$3 = {\n  openWallet: \"C\\xFCzdan\\u0131 a\\xE7\",\n  get: \"Al\",\n  close: \"Kapat\",\n  retry: \"Tekrar Dene\"\n};\nconst button$3 = {\n  connectWallet: \"C\\xFCzdan\\u0131 ba\\u011Fla\",\n  dropdown: {\n    copy: \"Adresi kopyala\",\n    copied: \"Adres kopyaland\\u0131!\",\n    disconnect: \"Ba\\u011Flant\\u0131y\\u0131 kes\"\n  }\n};\nconst notifications$3 = {\n  confirm: {\n    header: \"\\u0130\\u015Flemi onaylamak i\\xE7in {{ name }} \\xF6gesini a\\xE7\\u0131n.\"\n  },\n  transactionSent: {\n    header: \"\\u0130\\u015Flem g\\xF6nderildi.\",\n    text: \"\\u0130\\u015Fleminiz birka\\xE7 saniye i\\xE7inde ger\\xE7ekle\\u015Ftirilecek.\"\n  },\n  transactionCanceled: {\n    header: \"\\u0130\\u015Flem iptal edildi!\",\n    text: \"Hesab\\u0131n\\u0131zda de\\u011Fi\\u015Fiklik olmayacak.\"\n  }\n};\nconst walletModal$3 = {\n  mobileConnectionModal: {\n    showQR: \"QR Kodunu G\\xF6ster\",\n    scanQR: \"A\\u015Fa\\u011F\\u0131daki QR kodunu telefonunuzun veya {{ name }} cihaz\\u0131n\\u0131z\\u0131n kameras\\u0131yla taray\\u0131n.\",\n    continueIn: \"\\u0130\\u015Fleme OKX Web3 C\\xFCzdan\\u2019da devam edin.\",\n    connectionDeclined: \"Ba\\u011Flant\\u0131 ba\\u015Far\\u0131s\\u0131z.\",\n    PoweredBy: \"Powered by\",\n    appAndTelegram: {\n      header: \"Connect to OKX Wallet\",\n      text: \"OKX Web3 C\\xFCzdan, OKX Uygulamas\\u0131nda ve Telegram\\u2019da kullan\\u0131ma sunuldu\"\n    },\n    connectApp: \"OKX Uygulamas\\u0131na Ba\\u011Flan\",\n    connectMini: \"OKX Mini C\\xFCzdan\\u0131na Ba\\u011Flan\"\n  }\n};\nconst actionModal$3 = {\n  confirmTransaction: {\n    header: \"{{ name }} Konumunda \\u0130\\u015Flemi Onaylay\\u0131n\",\n    text: \"Bu yaln\\u0131zca bir dakikan\\u0131z\\u0131 alacak.\"\n  }\n};\nconst tr_TR = {\n  common: common$3,\n  button: button$3,\n  notifications: notifications$3,\n  walletModal: walletModal$3,\n  actionModal: actionModal$3\n};\nconst common$2 = {\n  openWallet: \"\\u0412\\u0456\\u0434\\u043A\\u0440\\u0438\\u0442\\u0438\\u0439 \\u0433\\u0430\\u043C\\u0430\\u043D\\u0435\\u0446\\u044C\",\n  get: \"\\u041E\\u0442\\u0440\\u0438\\u043C\\u0430\\u0442\\u0438\",\n  close: \"\\u0417\\u0430\\u043A\\u0440\\u0438\\u0442\\u0438\",\n  retry: \"\\u041F\\u043E\\u0432\\u0442\\u043E\\u0440\\u0438\\u0442\\u0438 \\u0441\\u043F\\u0440\\u043E\\u0431\\u0443\"\n};\nconst button$2 = {\n  connectWallet: \"\\u041F\\u0456\\u0434\\u043A\\u043B\\u044E\\u0447\\u0438\\u0442\\u0438 \\u0433\\u0430\\u043C\\u0430\\u043D\\u0435\\u0446\\u044C\",\n  dropdown: {\n    copy: \"\\u041A\\u043E\\u043F\\u0456\\u044E\\u0432\\u0430\\u0442\\u0438 \\u0430\\u0434\\u0440\\u0435\\u0441\\u0443\",\n    copied: \"\\u0410\\u0434\\u0440\\u0435\\u0441\\u0443 \\u0441\\u043A\\u043E\\u043F\\u0456\\u0439\\u043E\\u0432\\u0430\\u043D\\u043E\",\n    disconnect: \"\\u0412\\u0456\\u0434\\u043A\\u043B\\u044E\\u0447\\u0438\\u0442\\u0438\"\n  }\n};\nconst notifications$2 = {\n  confirm: {\n    header: \"\\u0412\\u0456\\u0434\\u043A\\u0440\\u0438\\u0439\\u0442\\u0435 {{ name }}, \\u0449\\u043E\\u0431 \\u043F\\u0456\\u0434\\u0442\\u0432\\u0435\\u0440\\u0434\\u0438\\u0442\\u0438 \\u0442\\u0440\\u0430\\u043D\\u0437\\u0430\\u043A\\u0446\\u0456\\u044E.\"\n  },\n  transactionSent: {\n    header: \"\\u0422\\u0440\\u0430\\u043D\\u0437\\u0430\\u043A\\u0446\\u0456\\u044E \\u043D\\u0430\\u0434\\u0456\\u0441\\u043B\\u0430\\u043D\\u043E\",\n    text: \"\\u0412\\u0430\\u0448\\u0443 \\u0442\\u0440\\u0430\\u043D\\u0437\\u0430\\u043A\\u0446\\u0456\\u044E \\u0431\\u0443\\u0434\\u0435 \\u043E\\u0431\\u0440\\u043E\\u0431\\u043B\\u0435\\u043D\\u043E \\u0447\\u0435\\u0440\\u0435\\u0437 \\u043A\\u0456\\u043B\\u044C\\u043A\\u0430 \\u0441\\u0435\\u043A\\u0443\\u043D\\u0434.\"\n  },\n  transactionCanceled: {\n    header: \"\\u0422\\u0440\\u0430\\u043D\\u0437\\u0430\\u043A\\u0446\\u0456\\u044E \\u0441\\u043A\\u0430\\u0441\\u043E\\u0432\\u0430\\u043D\\u043E\",\n    text: \"\\u0423 \\u0432\\u0430\\u0448\\u043E\\u043C\\u0443 \\u0430\\u043A\\u0430\\u0443\\u043D\\u0442\\u0456 \\u043D\\u0435 \\u0431\\u0443\\u0434\\u0435 \\u0437\\u043C\\u0456\\u043D.\"\n  }\n};\nconst walletModal$2 = {\n  mobileConnectionModal: {\n    showQR: \"\\u041F\\u043E\\u043A\\u0430\\u0437\\u0430\\u0442\\u0438 QR-\\u043A\\u043E\\u0434\",\n    scanQR: \"\\u0412\\u0456\\u0434\\u0441\\u043A\\u0430\\u043D\\u0443\\u0439\\u0442\\u0435 \\u043D\\u0430\\u0432\\u0435\\u0434\\u0435\\u043D\\u0438\\u0439 \\u043D\\u0438\\u0436\\u0447\\u0435 QR-\\u043A\\u043E\\u0434 \\u0437\\u0430 \\u0434\\u043E\\u043F\\u043E\\u043C\\u043E\\u0433\\u043E\\u044E \\u043A\\u0430\\u043C\\u0435\\u0440\\u0438 \\u0441\\u0432\\u043E\\u0433\\u043E \\u0442\\u0435\\u043B\\u0435\\u0444\\u043E\\u043D\\u0430 \\u0430\\u0431\\u043E {{ name }}\",\n    continueIn: \"\\u041F\\u0440\\u043E\\u0434\\u043E\\u0432\\u0436\\u0442\\u0435 \\u0442\\u0440\\u0430\\u043D\\u0437\\u0430\\u043A\\u0446\\u0456\\u044E \\u0432 OKX Wallet\",\n    connectionDeclined: \"\\u041F\\u043E\\u043C\\u0438\\u043B\\u043A\\u0430 \\u043F\\u0456\\u0434\\u043A\\u043B\\u044E\\u0447\\u0435\\u043D\\u043D\\u044F\",\n    PoweredBy: \"Powered by\",\n    appAndTelegram: {\n      header: \"Connect to OKX Wallet\",\n      text: \"OKX \\u0413\\u0430\\u043C\\u0430\\u043D\\u0435\\u0446\\u044C \\u0434\\u043E\\u0441\\u0442\\u0443\\u043F\\u043D\\u0438\\u0439 \\u0443 \\u0437\\u0430\\u0441\\u0442\\u043E\\u0441\\u0443\\u043D\\u043A\\u0443 OKX \\u0456 Telegram\"\n    },\n    connectApp: \"\\u041F\\u0456\\u0434\\u043A\\u043B\\u044E\\u0447\\u0438\\u0442\\u0438\\u0441\\u044F \\u0434\\u043E \\u0437\\u0430\\u0441\\u0442\\u043E\\u0441\\u0443\\u043D\\u043A\\u0430 OKX\",\n    connectMini: \"\\u041F\\u0456\\u0434\\u043A\\u043B\\u044E\\u0447\\u0438\\u0442\\u0438\\u0441\\u044F \\u0434\\u043E \\u043C\\u0456\\u043D\\u0456\\u0433\\u0430\\u043C\\u0430\\u043D\\u0446\\u044F OKX\"\n  }\n};\nconst actionModal$2 = {\n  confirmTransaction: {\n    header: \"\\u041F\\u0456\\u0434\\u0442\\u0432\\u0435\\u0440\\u0434\\u044C\\u0442\\u0435 \\u0442\\u0440\\u0430\\u043D\\u0437\\u0430\\u043A\\u0446\\u0456\\u044E \\u0432 {{ name }}\",\n    text: \"\\u0426\\u0435 \\u0437\\u0430\\u0439\\u043C\\u0435 \\u043B\\u0438\\u0448\\u0435 \\u043C\\u0438\\u0442\\u044C.\"\n  }\n};\nconst uk_UA = {\n  common: common$2,\n  button: button$2,\n  notifications: notifications$2,\n  walletModal: walletModal$2,\n  actionModal: actionModal$2\n};\nconst common$1 = {\n  openWallet: \"M\\u1EDF v\\xED\",\n  get: \"Nh\\u1EADn\",\n  close: \"\\u0110\\xF3ng\",\n  retry: \"Th\\u1EED l\\u1EA1i\"\n};\nconst button$1 = {\n  connectWallet: \"K\\u1EBFt n\\u1ED1i v\\xED\",\n  dropdown: {\n    copy: \"Sao ch\\xE9p \\u0111\\u1ECBa ch\\u1EC9\",\n    copied: \"\\u0110\\xE3 sao ch\\xE9p \\u0111\\u1ECBa ch\\u1EC9\",\n    disconnect: \"Ng\\u1EAFt k\\u1EBFt n\\u1ED1i\"\n  }\n};\nconst notifications$1 = {\n  confirm: {\n    header: \"M\\u1EDF {{ name }} \\u0111\\u1EC3 x\\xE1c nh\\u1EADn giao d\\u1ECBch.\"\n  },\n  transactionSent: {\n    header: \"\\u0110\\xE3 g\\u1EEDi giao d\\u1ECBch\",\n    text: \"Giao d\\u1ECBch c\\u1EE7a b\\u1EA1n s\\u1EBD \\u0111\\u01B0\\u1EE3c x\\u1EED l\\xFD trong v\\xE0i gi\\xE2y.\"\n  },\n  transactionCanceled: {\n    header: \"\\u0110\\xE3 h\\u1EE7y giao d\\u1ECBch\",\n    text: \"Kh\\xF4ng c\\xF3 thay \\u0111\\u1ED5i n\\xE0o v\\u1EDBi t\\xE0i kho\\u1EA3n c\\u1EE7a b\\u1EA1n.\"\n  }\n};\nconst walletModal$1 = {\n  mobileConnectionModal: {\n    showQR: \"Hi\\u1EC3n th\\u1ECB m\\xE3 QR\",\n    scanQR: \"Qu\\xE9t m\\xE3 QR b\\xEAn d\\u01B0\\u1EDBi b\\u1EB1ng m\\xE1y \\u1EA3nh \\u0111i\\u1EC7n tho\\u1EA1i ho\\u1EB7c {{ name }} c\\u1EE7a b\\u1EA1n\",\n    continueIn: \"Ti\\u1EBFp t\\u1EE5c giao d\\u1ECBch tr\\xEAn V\\xED Web3 OKX\",\n    connectionDeclined: \"K\\u1EBFt n\\u1ED1i kh\\xF4ng th\\xE0nh c\\xF4ng\",\n    PoweredBy: \"Powered by\",\n    appAndTelegram: {\n      header: \"Connect to OKX Wallet\",\n      text: \"V\\xED Web3 OKX hi\\u1EC7n c\\xF3 tr\\xEAn c\\u1EA3 \\u1EE8ng d\\u1EE5ng OKX v\\xE0 Telegram\"\n    },\n    connectApp: \"K\\u1EBFt n\\u1ED1i \\u1EE8ng d\\u1EE5ng OKX\",\n    connectMini: \"K\\u1EBFt n\\u1ED1i V\\xED Web3 OKX Mini\"\n  }\n};\nconst actionModal$1 = {\n  confirmTransaction: {\n    header: \"X\\xE1c nh\\u1EADn giao d\\u1ECBch trong {{ name }}\",\n    text: \"N\\xF3 ch\\u1EC9 m\\u1EA5t ch\\xFAt th\\u1EDDi gian.\"\n  }\n};\nconst vi_VN = {\n  common: common$1,\n  button: button$1,\n  notifications: notifications$1,\n  walletModal: walletModal$1,\n  actionModal: actionModal$1\n};\nconst common = {\n  openWallet: \"\\u6253\\u958B\\u9322\\u5305\",\n  get: \"\\u7372\\u53D6\",\n  close: \"\\u95DC\\u9589\",\n  retry: \"\\u91CD\\u8A66\"\n};\nconst button = {\n  connectWallet: \"\\u9023\\u63A5\\u9322\\u5305\",\n  dropdown: {\n    copy: \"\\u8907\\u88FD\\u5730\\u5740\",\n    copied: \"\\u5730\\u5740\\u5DF2\\u8907\\u88FD\",\n    disconnect: \"\\u65B7\\u958B\\u9023\\u63A5\"\n  }\n};\nconst notifications = {\n  confirm: {\n    header: \"\\u6253\\u958B {{ name }} \\u4EE5\\u78BA\\u8A8D\\u4EA4\\u6613\"\n  },\n  transactionSent: {\n    header: \"\\u4EA4\\u6613\\u5DF2\\u767C\\u9001\",\n    text: \"\\u4EA4\\u6613\\u5373\\u5C07\\u5B8C\\u6210\\uFF0C\\u8ACB\\u7A0D\\u5019\"\n  },\n  transactionCanceled: {\n    header: \"\\u4EA4\\u6613\\u5DF2\\u53D6\\u6D88\",\n    text: \"\\u8CEC\\u6236\\u672A\\u767C\\u751F\\u4EFB\\u4F55\\u66F4\\u6539\"\n  }\n};\nconst walletModal = {\n  mobileConnectionModal: {\n    OKXConnect: \"OKX Connect\",\n    showQR: \"\\u5C55\\u793A\\u4E8C\\u7DAD\\u78BC\",\n    scanQR: \"\\u4F7F\\u7528\\u624B\\u6A5F\\u6216 OKX \\u9322\\u5305\\u7684\\u76F8\\u6A5F\\u6383\\u63CF\\u4E0B\\u65B9\\u4E8C\\u7DAD\\u78BC\",\n    continueIn: \"\\u5728 OKX \\u9322\\u5305\\u4E2D\\u7E7C\\u7E8C\\u5B8C\\u6210\",\n    connectionDeclined: \"\\u9023\\u63A5\\u5931\\u6557\",\n    PoweredBy: \"Powered by\",\n    appAndTelegram: {\n      header: \"\\u9023\\u63A5 OKX \\u9322\\u5305\",\n      text: \" OKX \\u9322\\u5305\\u53EF\\u5728 OKX App \\u548C Telegram \\u4F7F\\u7528\"\n    },\n    connectApp: \"\\u9023\\u63A5 OKX App\",\n    connectMini: \"\\u9023\\u63A5 OKX Mini Wallet\"\n  }\n};\nconst actionModal = {\n  confirmTransaction: {\n    header: \"\\u5728 {{ name }} \\u4E2D\\u78BA\\u8A8D\\u4EA4\\u6613\",\n    text: \"\\u8ACB\\u7A0D\\u5019\"\n  }\n};\nconst zh_TW = {\n  common,\n  button,\n  notifications,\n  walletModal,\n  actionModal\n};\nconst i18nDictionary = {\n  en_US: parseDictionary(en),\n  ru_RU: parseDictionary(ru),\n  zh_CN: parseDictionary(zh_CN),\n  zh: parseDictionary(zh_CN),\n  ar_AE: parseDictionary(ar_AE),\n  cs_CZ: parseDictionary(cs_CZ),\n  de_DE: parseDictionary(de_DE),\n  es_ES: parseDictionary(es_ES),\n  es_LAT: parseDictionary(es_LAT),\n  fr_FR: parseDictionary(fr_FR),\n  id_ID: parseDictionary(id_ID),\n  it_IT: parseDictionary(it_IT),\n  nl_NL: parseDictionary(nl_NL),\n  pl_PL: parseDictionary(pl_PL),\n  pt_BR: parseDictionary(pt_BR),\n  pt_PT: parseDictionary(pt_PT),\n  ro_RO: parseDictionary(ro_RO),\n  tr_TR: parseDictionary(tr_TR),\n  uk_UA: parseDictionary(uk_UA),\n  vi_VN: parseDictionary(vi_VN),\n  zh_TW: parseDictionary(zh_TW)\n};\nfunction parseDictionary(dictionary) {\n  const refSymbol = \"$\";\n  const iterate = (subDictionary) => {\n    Object.entries(subDictionary).forEach(([key, value]) => {\n      if (typeof value === \"object\" && value) {\n        return iterate(value);\n      }\n      if (typeof value === \"string\") {\n        if (value[0] === refSymbol) {\n          const path = value.slice(1).split(\".\");\n          let obj = dictionary;\n          path.forEach((item) => {\n            if (item in obj) {\n              obj = obj[item];\n            } else {\n              throw new Error(\n                `Cannot parse translations: there is no property ${item} in translation`\n              );\n            }\n          });\n          subDictionary[key] = obj;\n        }\n        if (value.slice(0, 2) === `\\\\${refSymbol}`) {\n          subDictionary[key] = value.slice(1);\n        }\n      }\n    });\n  };\n  iterate(dictionary);\n  return dictionary;\n}\nconst defaultLightColorsSet = {\n  constant: {\n    black: \"#000000\",\n    white: \"#FFFFFF\"\n  },\n  connectButton: {\n    background: \"#0098EA\",\n    foreground: \"#FFFFFF\"\n  },\n  accent: \"#0098EA\",\n  telegramButton: \"#0098EA\",\n  qrFill: \"#000000\",\n  icon: {\n    primary: \"#0F0F0F\",\n    secondary: \"#7A8999\",\n    tertiary: \"#C1CAD2\",\n    success: \"#29CC6A\",\n    error: \"#F5A73B\"\n  },\n  background: {\n    primary: \"#FFFFFF\",\n    secondary: \"#F1F3F5\",\n    segment: \"#FFFFFF\",\n    tint: \"#F1F3F5\",\n    qr: \"#FFFFFF\"\n  },\n  text: {\n    primary: \"#000000\",\n    secondary: \"#6A7785\",\n    contrast: \"#909090\"\n  },\n  border: {\n    primary: \"#00000014\",\n    secondary: \"#00000024\"\n  },\n  disable: \"#B3B3B3\"\n};\nconst defaultDarkColorsSet = {\n  constant: {\n    black: \"#000000\",\n    white: \"#FFFFFF\"\n  },\n  connectButton: {\n    background: \"#0098EA\",\n    foreground: \"#FFFFFF\"\n  },\n  accent: \"#E5E5EA\",\n  telegramButton: \"#31A6F5\",\n  qrFill: \"#FFFFFF\",\n  icon: {\n    primary: \"#E5E5EA\",\n    secondary: \"#909099\",\n    tertiary: \"#434347\",\n    success: \"#29CC6A\",\n    error: \"#F5A73B\"\n  },\n  background: {\n    primary: \"#121214\",\n    secondary: \"#18181A\",\n    segment: \"#262629\",\n    tint: \"#222224\",\n    qr: \"#121214\"\n  },\n  text: {\n    primary: \"#FFFFFF\",\n    secondary: \"#7D7D85\",\n    contrast: \"#909090\"\n  },\n  border: {\n    primary: \"#FFFFFF1F\",\n    secondary: \"#FFFFFF30\"\n  },\n  disable: \"#5B5B5B\"\n};\nconst [themeState, setThemeState] = createStore({\n  theme: THEME.LIGHT,\n  colors: defaultLightColorsSet,\n  borderRadius: \"m\"\n});\nconst themeColorsMappingDefault = {\n  [THEME.LIGHT]: defaultLightColorsSet,\n  [THEME.DARK]: defaultDarkColorsSet\n};\n({\n  [THEME.LIGHT]: void 0,\n  [THEME.DARK]: void 0\n});\nfunction setTheme(theme) {\n  setThemeState({\n    theme,\n    colors: themeColorsMappingDefault[theme]\n  });\n}\nconst ActionModalStyled = styled.div`\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    padding-bottom: 8px;\n`;\nconst H1Styled = styled(H1)`\n    margin-top: 16px;\n`;\nconst TextStyled = styled(Text)`\n    font-weight: 400;\n    font-size: 16px;\n    line-height: 20px;\n    text-align: center;\n    max-width: 250px;\n    margin-top: 10px;\n    color: ${(props) => props.theme.colors.text.contrast};\n`;\nstyled(Button)`\n    min-width: 112px;\n    margin-top: 32px;\n`;\nstyled(LoaderIcon)`\n    height: 16px;\n    width: 16px;\n`;\nconst ButtonStyled = styled.div`\n    margin-top: 24px;\n  background-color: ${(props) => props.theme.colors.text.primary};\n  height: 48px;\n  width: 262px;\n  justify-content: center;\n  border-radius: 24px;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n`;\nconst ActionModal = (props) => {\n  const dataAttrs = useDataAttributes(props);\n  const connectUI = useContext(OKXConnectUiContext);\n  const [firstClick, setFirstClick] = createSignal(true);\n  const [sent, setSent] = createSignal(false);\n  const theme = useTheme();\n  const {\n    action\n  } = useContext(ActionsModalContext);\n  createEffect(() => {\n    const currentAction = action;\n    setSent(!!currentAction && \"sent\" in currentAction && currentAction.sent);\n  });\n  let universalLink = connectUI == null ? void 0 : connectUI.universalLink;\n  const onOpenWallet = () => {\n    tonsdk.logDebug(\"ActionModal ====> onOpenWallet \");\n    !firstClick();\n    setFirstClick(false);\n    redirectToWallet(universalLink, \"okx://web3?stack=true\", {\n      returnStrategy: \"none\",\n      forceRedirect: false\n    }, () => {\n    });\n  };\n  return createComponent(ActionModalStyled, mergeProps(dataAttrs, {\n    get children() {\n      return [createMemo(() => props.icon), createComponent(H1Styled, {\n        get translationKey() {\n          return props.headerTranslationKey;\n        },\n        get translationValues() {\n          return props.headerTranslationValues;\n        }\n      }), createComponent(TextStyled, {\n        get translationKey() {\n          return props.textTranslationKey;\n        },\n        get translationValues() {\n          return props.textTranslationValues;\n        }\n      }), createComponent(Show, {\n        get when() {\n          return connectUI == null ? void 0 : connectUI.showActionButton();\n        },\n        get children() {\n          return [createComponent(Show, {\n            get when() {\n              return props.showButton === \"close\";\n            },\n            get children() {\n              return createComponent(ButtonStyled, {\n                onClick: () => props.onClose(),\n                get children() {\n                  return createComponent(Text, {\n                    fontWeight: 700,\n                    fontSize: \"16px\",\n                    get color() {\n                      return theme.colors.background.primary;\n                    },\n                    get children() {\n                      return createComponent(Translation, {\n                        translationKey: \"common.close\",\n                        children: \"Close\"\n                      });\n                    }\n                  });\n                }\n              });\n            }\n          }), createComponent(Show, {\n            get when() {\n              return props.showButton === \"open-wallet\";\n            },\n            get children() {\n              return createComponent(ButtonStyled, {\n                onClick: onOpenWallet,\n                get children() {\n                  return createComponent(Text, {\n                    fontWeight: 700,\n                    fontSize: \"16px\",\n                    get color() {\n                      return theme.colors.background.primary;\n                    },\n                    get children() {\n                      return createComponent(Translation, {\n                        translationKey: \"common.openWallet\",\n                        children: \"Open wallet\"\n                      });\n                    }\n                  });\n                }\n              });\n            }\n          })];\n        }\n      })];\n    }\n  }));\n};\nconst ConfirmTransactionModal = (props) => {\n  const tonConnectUI = useContext(OKXConnectUiContext);\n  const [t2] = useI18n();\n  const name = () => tonConnectUI.walletName ? tonConnectUI.walletName : t2(\"common.yourWallet\", {}, \"Your wallet\");\n  return createComponent(ActionModal, {\n    headerTranslationKey: \"actionModal.confirmTransaction.header\",\n    get headerTranslationValues() {\n      return {\n        name: name()\n      };\n    },\n    textTranslationKey: \"actionModal.confirmTransaction.text\",\n    get icon() {\n      return createComponent(OKXLoaderIconWithLogo, {});\n    },\n    onClose: () => props.onClose(),\n    get showButton() {\n      return isMobile() ? \"open-wallet\" : void 0;\n    },\n    \"data-tc-confirm-modal\": \"true\"\n  });\n};\nconst TransactionCanceledModal = (props) => {\n  return createComponent(ActionModal, {\n    headerTranslationKey: \"actionModal.transactionCanceled.header\",\n    textTranslationKey: \"actionModal.transactionCanceled.text\",\n    get icon() {\n      return createComponent(ErrorIcon, {\n        size: \"m\"\n      });\n    },\n    onClose: () => props.onClose(),\n    get showButton() {\n      return isMobile() ? \"close\" : void 0;\n    },\n    \"data-tc-transaction-canceled-modal\": \"true\"\n  });\n};\nconst TransactionSentModal = (props) => {\n  return createComponent(ActionModal, {\n    headerTranslationKey: \"actionModal.transactionSent.header\",\n    textTranslationKey: \"actionModal.transactionSent.text\",\n    get icon() {\n      return createComponent(SuccessIcon, {\n        size: \"m\"\n      });\n    },\n    onClose: () => props.onClose(),\n    get showButton() {\n      return isMobile() ? \"close\" : void 0;\n    },\n    \"data-tc-transaction-sent-modal\": \"true\"\n  });\n};\nconst ActionsModalContext = createContext({\n  action: null\n});\nconst ActionsModal = (props) => {\n  createEffect(() => {\n    console.log(\"ActionsModal\", props.action);\n  });\n  return createComponent(ActionsModalContext.Provider, {\n    get value() {\n      return {\n        action: props.action\n      };\n    },\n    get children() {\n      return createComponent(Modal, {\n        get opened() {\n          var _a2;\n          return props.action !== null && ((_a2 = props.action) == null ? void 0 : _a2.openModal) === true;\n        },\n        onClose: () => props.setAction(null),\n        \"data-tc-actions-modal-container\": \"true\",\n        get children() {\n          return createComponent(Switch, {\n            get children() {\n              return [createComponent(Match, {\n                get when() {\n                  return props.action.name === \"transaction-sent\";\n                },\n                get children() {\n                  return createComponent(TransactionSentModal, {\n                    onClose: () => props.setAction(null)\n                  });\n                }\n              }), createComponent(Match, {\n                get when() {\n                  return props.action.name === \"transaction-canceled\";\n                },\n                get children() {\n                  return createComponent(TransactionCanceledModal, {\n                    onClose: () => props.setAction(null)\n                  });\n                }\n              }), createComponent(Match, {\n                get when() {\n                  return props.action.name === \"confirm-transaction\";\n                },\n                get children() {\n                  return createComponent(ConfirmTransactionModal, {\n                    onClose: () => props.setAction(null)\n                  });\n                }\n              })];\n            }\n          });\n        }\n      });\n    }\n  });\n};\nconst TONApp = (props) => {\n  const translations = createI18nContext(i18nDictionary, appState.language);\n  defineStylesRoot();\n  fixMobileSafariActiveTransition();\n  setAppState({\n    contextType: \"TONContext\"\n  });\n  return createComponent(I18nContext.Provider, {\n    value: translations,\n    get children() {\n      return createComponent(OKXConnectUiContext.Provider, {\n        get value() {\n          return props.connectUI;\n        },\n        get children() {\n          return createComponent(ConnectorContext.Provider, {\n            get value() {\n              return appState.tonConnector;\n            },\n            get children() {\n              return [createComponent(GlobalStyles, {}), createComponent(ThemeProvider, {\n                theme: themeState,\n                get children() {\n                  return [createComponent(Show, {\n                    get when() {\n                      return appState.buttonRootId;\n                    },\n                    get children() {\n                      return createComponent(Portal, {\n                        get mount() {\n                          return document.getElementById(appState.buttonRootId);\n                        },\n                        get children() {\n                          return createComponent(AccountButton, {});\n                        }\n                      });\n                    }\n                  }), createComponent(Dynamic, {\n                    component: globalStylesTag,\n                    get children() {\n                      return [createComponent(TonSingleWalletModal, {}), createComponent(ActionsModal, {\n                        get action() {\n                          return tonAction();\n                        },\n                        setAction: setTonAction\n                      })];\n                    }\n                  })];\n                }\n              })];\n            }\n          });\n        }\n      });\n    }\n  });\n};\nconst [universalWalletsModalState, setUniversalWalletsModalState] = createSignal({\n  status: \"closed\",\n  closeReason: null\n});\ncreateMemo(\n  () => universalWalletsModalState().status === \"opened\"\n);\nconst [universalSingleWalletModalState, setUniversalSingleWalletModalState] = createSignal({\n  status: \"closed\",\n  closeReason: null\n});\nconst getUniversalSingleWalletModalIsOpened = createMemo(\n  () => universalSingleWalletModalState().status === \"opened\"\n);\nconst getUniversalSingleWalletModalWalletInfo = createMemo(() => {\n  const state = universalSingleWalletModalState();\n  if (state.status === \"opened\") {\n    return state.walletInfo;\n  }\n  return null;\n});\nlet lastSelectedWalletInfoStorage = typeof window !== \"undefined\" ? new LastSelectedWalletInfoStorage() : void 0;\nconst [lastUniversalSelectedWalletInfo, _setLastUniversalSelectedWalletInfo] = createSignal((lastSelectedWalletInfoStorage == null ? void 0 : lastSelectedWalletInfoStorage.getLastSelectedWalletInfo()) || null);\nconst setLastUniversalSelectedWalletInfo = (walletInfo) => {\n  if (!lastSelectedWalletInfoStorage) {\n    lastSelectedWalletInfoStorage = new LastSelectedWalletInfoStorage();\n  }\n  if (walletInfo) {\n    logDebug(`modals-state.ts: setLastSelectedWalletInfo ${JSON.stringify(walletInfo)}`);\n    lastSelectedWalletInfoStorage.setLastSelectedWalletInfo(walletInfo);\n  } else {\n    logDebug(\"modals-state.ts: setLastSelectedWalletInfo    removeLastSelectedWalletInfo\");\n    lastSelectedWalletInfoStorage.removeLastSelectedWalletInfo();\n  }\n  _setLastUniversalSelectedWalletInfo(walletInfo);\n};\nconst [universalAction, setUniversalAction] = createSignal(null);\nconst UniversalSingleWalletModal = () => {\n  const tonConnectUI = useContext(OKXConnectUiContext);\n  const connector = useContext(UniversalConnectorContext);\n  const [universalLinkParams, setUniversalLinkParams] = createSignal(null);\n  const [connectError, setConnectError] = createSignal(false);\n  const [sessionConnecting, setSessionConnecting] = createSignal(false);\n  const onClose = (closeReason) => {\n    tonConnectUI.closeModal(closeReason);\n  };\n  connector == null ? void 0 : connector.on(\"okx_engine_connect_params\", (info) => {\n    core.logDebug(`UniversalSigneWalletModal  okx_engine_connect_params  ${JSON.stringify(info)}`);\n    setUniversalLinkParams(info);\n  });\n  connector == null ? void 0 : connector.on(\"session_connecting\", () => {\n    core.logDebug(`UniversalSigneWalletModal  session_connecting  }`);\n    setSessionConnecting(true);\n  });\n  return createComponent(SingleWalletModal, {\n    get opened() {\n      return getUniversalSingleWalletModalIsOpened();\n    },\n    get walletInfo() {\n      return getUniversalSingleWalletModalWalletInfo();\n    },\n    loadingBeforeConnect: () => {\n      return false;\n    },\n    connect: () => {\n      return new Promise((resolve, reject) => {\n        var _a2, _b2;\n        if (appState.universalConnectRequestParameters) {\n          new OKXConnectUiError(\"connect params is nil\");\n        }\n        let opts = __spreadValues({}, JSON.parse(JSON.stringify(appState.universalConnectRequestParameters)));\n        opts.sessionConfig = {};\n        opts.sessionConfig.openUniversalUrl = defaultOpenUniversalLink((_a2 = appState.universalConnectRequestParameters) == null ? void 0 : _a2.namespaces, (_b2 = appState.universalConnectRequestParameters) == null ? void 0 : _b2.optionalNamespaces);\n        setConnectError(false);\n        setUniversalLinkParams(null);\n        tonConnectUI.handleConnect((actionConfiguration) => {\n          opts.sessionConfig.tmaReturnUrl = actionConfiguration == null ? void 0 : actionConfiguration.tmaReturnUrl;\n          opts.sessionConfig.redirect = actionConfiguration == null ? void 0 : actionConfiguration.returnStrategy;\n          return connector.connect(opts);\n        }).then((session) => {\n          if (session) {\n            onClose(\"wallet-selected\");\n            resolve(session);\n          } else {\n            setConnectError(true);\n            onClose(\"action-cancelled\");\n          }\n        }).catch((error) => {\n          setConnectError(true);\n          core.logDebug(\"UniversalSingleWalletModal connect  error\", JSON.stringify(error));\n          reject(error);\n        });\n      });\n    },\n    onClose,\n    universalLinkParams,\n    get isSingleWallet() {\n      var _a2, _b2;\n      return !showUniversalTgWalletByRequestNameSpaces((_a2 = appState.universalConnectRequestParameters) == null ? void 0 : _a2.namespaces, (_b2 = appState.universalConnectRequestParameters) == null ? void 0 : _b2.optionalNamespaces);\n    },\n    get lastSelectedWalletInfo() {\n      return lastUniversalSelectedWalletInfo();\n    },\n    setLastSelectedWalletInfo: setLastUniversalSelectedWalletInfo,\n    connectError,\n    showRetry: false,\n    sessionConnecting\n  });\n};\nconst UniversalApp = (props) => {\n  const translations = createI18nContext(i18nDictionary, appState.language);\n  defineStylesRoot();\n  fixMobileSafariActiveTransition();\n  setAppState({\n    contextType: \"UniversalContext\"\n  });\n  return createComponent(I18nContext.Provider, {\n    value: translations,\n    get children() {\n      return createComponent(OKXConnectUiContext.Provider, {\n        get value() {\n          return props.connectUI;\n        },\n        get children() {\n          return createComponent(UniversalConnectorContext.Provider, {\n            get value() {\n              return appState.universalConnector;\n            },\n            get children() {\n              return [createComponent(GlobalStyles, {}), createComponent(ThemeProvider, {\n                theme: themeState,\n                get children() {\n                  return createComponent(Dynamic, {\n                    component: globalStylesTag,\n                    get children() {\n                      return [createComponent(UniversalSingleWalletModal, {}), createComponent(ActionsModal, {\n                        get action() {\n                          return universalAction();\n                        },\n                        setAction: setUniversalAction\n                      })];\n                    }\n                  });\n                }\n              })];\n            }\n          });\n        }\n      });\n    }\n  });\n};\nconst tonWidgetController = {\n  openSingleWalletModal: (walletInfo) => {\n    core.logDebug(`tonWidgetController : openSingleWalletModal : ${JSON.stringify(walletInfo)}`);\n    void setTimeout(() => setTonSingleWalletModalState({\n      status: \"opened\",\n      closeReason: null,\n      walletInfo\n    }));\n  },\n  closeSingleWalletModal: (reason) => void setTimeout(() => setTonSingleWalletModalState({\n    status: \"closed\",\n    closeReason: reason\n  })),\n  setAction: (action) => void setTimeout(() => setTonAction(action)),\n  clearAction: () => void setTimeout(() => {\n    console.log(\"clearAction\");\n    setTonAction(null);\n  }),\n  getSelectedWalletInfo: () => lastTonSelectedWalletInfo(),\n  removeSelectedWalletInfo: () => setLastTonSelectedWalletInfo(null),\n  renderApp: (root, connectUI) => {\n    return render(() => createComponent(TONApp, {\n      connectUI\n    }), document.getElementById(root));\n  },\n  renderUniversalApp: (root, connectUI) => {\n    return render(() => createComponent(UniversalApp, {\n      connectUI\n    }), document.getElementById(root));\n  }\n};\n/*!\n * is-plain-object <https://github.com/jonschlinkert/is-plain-object>\n *\n * Copyright (c) 2014-2017, Jon Schlinkert.\n * Released under the MIT License.\n */\nfunction isObject(o2) {\n  return Object.prototype.toString.call(o2) === \"[object Object]\";\n}\nfunction isPlainObject(o2) {\n  var ctor, prot;\n  if (isObject(o2) === false)\n    return false;\n  ctor = o2.constructor;\n  if (ctor === void 0)\n    return true;\n  prot = ctor.prototype;\n  if (isObject(prot) === false)\n    return false;\n  if (prot.hasOwnProperty(\"isPrototypeOf\") === false) {\n    return false;\n  }\n  return true;\n}\nfunction mergeOptions(options, defaultOptions) {\n  if (!options) {\n    return defaultOptions;\n  }\n  const overwriteMerge = (_, sourceArray, __) => sourceArray;\n  return deepmerge__default.default(defaultOptions, options, {\n    arrayMerge: overwriteMerge,\n    isMergeableObject: isPlainObject\n  });\n}\nclass TransactionModalManager {\n  constructor() {\n    __publicField(this, \"consumers\", []);\n    createEffect(() => {\n      const currentAction = tonAction();\n      this.consumers.forEach((consumer) => consumer(currentAction));\n    });\n  }\n  onStateChange(consumer) {\n    this.consumers.push(consumer);\n    return () => {\n      this.consumers = this.consumers.filter((c2) => c2 !== consumer);\n    };\n  }\n}\nvar OKX_UI_CONNECTION_AND_TRANSACTION_EVENT = /* @__PURE__ */ ((OKX_UI_CONNECTION_AND_TRANSACTION_EVENT2) => {\n  OKX_UI_CONNECTION_AND_TRANSACTION_EVENT2[\"OKX_UI_CONNECTION_STARTED\"] = \"okx-connect-ui-connection-started\";\n  OKX_UI_CONNECTION_AND_TRANSACTION_EVENT2[\"OKX_UI_CONNECTION_COMPLETED\"] = \"okx-connect-ui-connection-completed\";\n  OKX_UI_CONNECTION_AND_TRANSACTION_EVENT2[\"OKX_UI_CONNECTION_ERROR\"] = \"okx-connect-ui-connection-error\";\n  OKX_UI_CONNECTION_AND_TRANSACTION_EVENT2[\"OKX_UI_CONNECTION_RESTORING_STARTED\"] = \"okx-connect-ui-connection-restoring-started\";\n  OKX_UI_CONNECTION_AND_TRANSACTION_EVENT2[\"OKX_UI_CONNECTION_RESTORING_COMPLETED\"] = \"okx-connect-ui-connection-restoring-completed\";\n  OKX_UI_CONNECTION_AND_TRANSACTION_EVENT2[\"OKX_UI_CONNECTION_RESTORING_ERROR\"] = \"okx-connect-ui-connection-restoring-error\";\n  OKX_UI_CONNECTION_AND_TRANSACTION_EVENT2[\"OKX_UI_DISCONNECTION\"] = \"okx-connect-ui-disconnection\";\n  OKX_UI_CONNECTION_AND_TRANSACTION_EVENT2[\"OKX_UI_TRANSACTION_SENT_FOR_SIGNATURE\"] = \"okx-connect-ui-transaction-sent-for-signature\";\n  OKX_UI_CONNECTION_AND_TRANSACTION_EVENT2[\"OKX_UI_TRANSACTION_SIGNED\"] = \"okx-connect-ui-transaction-signed\";\n  OKX_UI_CONNECTION_AND_TRANSACTION_EVENT2[\"OKX_UI_TRANSACTION_SIGNING_FAILED\"] = \"okx-connect-ui-transaction-signing-failed\";\n  return OKX_UI_CONNECTION_AND_TRANSACTION_EVENT2;\n})(OKX_UI_CONNECTION_AND_TRANSACTION_EVENT || {});\nclass OKXTonConnectUITracker {\n  constructor(options) {\n    __publicField(this, \"eventPrefix\", \"okx-connect-ui-\");\n    __publicField(this, \"OKXConnectUiVersion\");\n    __publicField(this, \"OKXtonConnectSdkVersion\", null);\n    __publicField(this, \"eventDispatcher\");\n    var _a2;\n    this.eventDispatcher = (_a2 = options == null ? void 0 : options.eventDispatcher) != null ? _a2 : new tonsdk.BrowserEventDispatcher();\n    this.OKXConnectUiVersion = options.tonConnectUiVersion;\n    this.init().catch();\n  }\n  get version() {\n    return tonsdk.createVersionInfo({\n      okx_ton_connect_sdk_lib: this.OKXtonConnectSdkVersion,\n      okx_connect_ui_lib: this.OKXConnectUiVersion\n    });\n  }\n  init() {\n    return __async(this, null, function* () {\n      try {\n        yield this.setRequestVersionHandler();\n        this.OKXtonConnectSdkVersion = yield this.requestTonConnectSdkVersion();\n      } catch (e2) {\n        console.log(`okx-ton-connect-response-version  init error  ====> requestTonConnectSdkVersion`);\n      }\n    });\n  }\n  setRequestVersionHandler() {\n    return __async(this, null, function* () {\n      yield this.eventDispatcher.addEventListener(\"okx-connect-ui-request-version\", () => __async(this, null, function* () {\n        yield this.eventDispatcher.dispatchEvent(\n          \"okx-connect-ui-response-version\",\n          tonsdk.createResponseVersionEvent(this.OKXConnectUiVersion)\n        );\n      }));\n    });\n  }\n  requestTonConnectSdkVersion() {\n    return __async(this, null, function* () {\n      return new Promise((resolve, reject) => __async(this, null, function* () {\n        try {\n          yield this.eventDispatcher.addEventListener(\n            \"okx-ton-connect-response-version\",\n            (event) => {\n              resolve(event.detail.version);\n            },\n            { once: true }\n          );\n          yield this.eventDispatcher.dispatchEvent(\n            \"okx-ton-connect-request-version\",\n            tonsdk.createRequestVersionEvent()\n          );\n        } catch (e2) {\n          console.log(`okx-ton-connect-response-version    ====> ${e2.message}`);\n          reject(e2);\n        }\n      }));\n    });\n  }\n  dispatchUserActionEvent(eventDetails) {\n    var _a2;\n    try {\n      (_a2 = this.eventDispatcher) == null ? void 0 : _a2.dispatchEvent(`${this.eventPrefix}${eventDetails.type}`, eventDetails).catch();\n    } catch (e2) {\n    }\n  }\n  trackConnectionStarted(...args) {\n    try {\n      const event = tonsdk.createConnectionStartedEvent(this.version, ...args);\n      this.dispatchUserActionEvent(event);\n    } catch (e2) {\n    }\n  }\n  trackConnectionCompleted(...args) {\n    try {\n      const event = tonsdk.createConnectionCompletedEvent(this.version, ...args);\n      this.dispatchUserActionEvent(event);\n    } catch (e2) {\n    }\n  }\n  trackConnectionError(...args) {\n    try {\n      const event = tonsdk.createConnectionErrorEvent(this.version, ...args);\n      this.dispatchUserActionEvent(event);\n    } catch (e2) {\n    }\n  }\n  trackConnectionRestoringStarted(...args) {\n    try {\n      const event = tonsdk.createConnectionRestoringStartedEvent(this.version, ...args);\n      this.dispatchUserActionEvent(event);\n    } catch (e2) {\n    }\n  }\n  trackConnectionRestoringCompleted(...args) {\n    try {\n      const event = tonsdk.createConnectionRestoringCompletedEvent(this.version, ...args);\n      this.dispatchUserActionEvent(event);\n    } catch (e2) {\n    }\n  }\n  trackConnectionRestoringError(...args) {\n    try {\n      const event = tonsdk.createConnectionRestoringErrorEvent(this.version, ...args);\n      this.dispatchUserActionEvent(event);\n    } catch (e2) {\n    }\n  }\n  trackDisconnection(...args) {\n    try {\n      const event = tonsdk.createDisconnectionEvent(this.version, ...args);\n      this.dispatchUserActionEvent(event);\n    } catch (e2) {\n    }\n  }\n  trackTransactionSentForSignature(...args) {\n    try {\n      const event = tonsdk.createTransactionSentForSignatureEvent(this.version, ...args);\n      this.dispatchUserActionEvent(event);\n    } catch (e2) {\n    }\n  }\n  trackTransactionSigned(...args) {\n    try {\n      const event = tonsdk.createTransactionSignedEvent(this.version, ...args);\n      this.dispatchUserActionEvent(event);\n    } catch (e2) {\n    }\n  }\n  trackTransactionSigningFailed(...args) {\n    try {\n      const event = tonsdk.createTransactionSigningFailedEvent(this.version, ...args);\n      this.dispatchUserActionEvent(event);\n    } catch (e2) {\n    }\n  }\n}\nconst tonConnectUiVersion = \"1\";\nclass TonSingleWalletModalManager {\n  constructor(options) {\n    __publicField(this, \"consumers\", []);\n    __publicField(this, \"getWalltsInfo\");\n    __publicField(this, \"state\", tonSingleWalletModalState());\n    this.getWalltsInfo = options.getWalltsInfo;\n    createEffect(() => {\n      const state = tonSingleWalletModalState();\n      this.state = state;\n      this.consumers.forEach((consumer) => consumer(state));\n    });\n  }\n  open(wallet) {\n    return __async(this, null, function* () {\n      const fetchedWalletsList = this.getWalltsInfo();\n      const walletsList = fetchedWalletsList;\n      const externalWallets = walletsList;\n      const externalWallet = externalWallets.find((walletInfo) => eqWalletName(walletInfo, wallet));\n      if (externalWallet) {\n        return this.openSingleWalletModal(externalWallet);\n      }\n      const error = `Trying to open modal window with unknown wallet \"${wallet}\".`;\n      throw new OKXConnectUiError(error);\n    });\n  }\n  close(reason = \"action-cancelled\") {\n    tonWidgetController.closeSingleWalletModal(reason);\n  }\n  onStateChange(onChange) {\n    this.consumers.push(onChange);\n    return () => {\n      this.consumers = this.consumers.filter((consumer) => consumer !== onChange);\n    };\n  }\n  handleConnect(connectMethod, actionConfiguration) {\n    return __async(this, null, function* () {\n      return new Promise((resolve, reject) => {\n        try {\n          connectMethod(actionConfiguration).then((result) => {\n            resolve(result);\n            core.logDebug(\"TonSingleWalletModalManager  result >>>\", JSON.stringify(result));\n          }).catch((error) => {\n            reject(error);\n            core.logDebug(\"TonSingleWalletModalManager  error >>>\", JSON.stringify(error));\n          });\n        } catch (error) {\n          reject(error);\n          core.logDebug(\"TonSingleWalletModalManager  catch error >>>\", JSON.stringify(error));\n        }\n      });\n    });\n  }\n  openSingleWalletModal(wallet) {\n    return __async(this, null, function* () {\n      if (isInTMA()) {\n        sendExpand();\n      }\n      tonWidgetController.openSingleWalletModal(wallet);\n      return new Promise((resolve) => {\n        const unsubscribe = this.onStateChange((state) => {\n          const { status } = state;\n          if (status === \"opened\") {\n            unsubscribe();\n            resolve();\n          }\n        });\n      });\n    });\n  }\n}\nconst validLocales = [\n  \"en_US\",\n  \"ru_RU\",\n  \"zh_CN\",\n  \"zh\",\n  \"ar_AE\",\n  \"cs_CZ\",\n  \"de_DE\",\n  \"es_ES\",\n  \"es_LAT\",\n  \"fr_FR\",\n  \"id_ID\",\n  \"it_IT\",\n  \"nl_NL\",\n  \"pl_PL\",\n  \"pt_BR\",\n  \"pt_PT\",\n  \"ro_RO\",\n  \"tr_TR\",\n  \"uk_UA\",\n  \"vi_VN\",\n  \"zh_TW\"\n];\nfunction isValidLocale(locale) {\n  return validLocales.includes(locale);\n}\nclass OKXTonConnectUIInner {\n  constructor(options) {\n    __publicField(this, \"walletInfoStorage\", new WalletInfoStorage(\"okx-wallet-connect-ui-ton_wallet-info\"));\n    __publicField(this, \"tracker\");\n    __publicField(this, \"walletInfo\", null);\n    __publicField(this, \"systemThemeChangeUnsubscribe\", null);\n    __publicField(this, \"actionsConfiguration\");\n    __publicField(this, \"walletsList\");\n    __publicField(this, \"connectRequestParametersCallback\");\n    __publicField(this, \"connector\");\n    __publicField(this, \"singleWalletModal\");\n    __publicField(this, \"transactionModal\");\n    __publicField(this, \"connectionRestored\", Promise.resolve(false));\n    __publicField(this, \"dispose\");\n    core.logDebug(\"OKXTonConnectUI constructor() option:\", JSON.stringify(options));\n    if (options && \"dappMetaData\" in options && options.dappMetaData) {\n      this.connector = new tonsdk.OKXTonConnect({ metaData: options.dappMetaData });\n    } else {\n      throw new OKXConnectUiError(\n        \"You have to specify a `dappMetaData`in the options.\"\n      );\n    }\n    if (options.language && !isValidLocale(options.language.toString())) {\n      options.language = \"en_US\";\n    }\n    this.tracker = new OKXTonConnectUITracker({\n      eventDispatcher: null,\n      tonConnectUiVersion\n    });\n    this.singleWalletModal = new TonSingleWalletModalManager({\n      getWalltsInfo: () => tonsdk.OKXTonConnect.getWallets()\n    });\n    this.transactionModal = new TransactionModalManager();\n    this.walletsList = this.getWallets();\n    preloadImages(uniq(this.walletsList.map((item) => item.imageUrl)));\n    const rootId = this.normalizeWidgetRoot(void 0);\n    this.subscribeToWalletChange();\n    if ((options == null ? void 0 : options.restoreConnection) !== false) {\n      this.connectionRestored = createMacrotaskAsync(() => __async(this, null, function* () {\n        this.tracker.trackConnectionRestoringStarted();\n        yield this.connector.restoreConnection();\n        if (!this.connector.connected) {\n          this.tracker.trackConnectionRestoringError(\"Connection was not restored\");\n          this.walletInfoStorage.removeWalletInfo();\n        } else {\n          this.tracker.trackConnectionRestoringCompleted(this.wallet);\n        }\n        return this.connector.connected;\n      }));\n    }\n    this.uiOptions = mergeOptions(options, { uiPreferences: { theme: \"SYSTEM\" } });\n    setAppState({\n      tonConnector: this.connector,\n      preferredWalletAppName: void 0\n    });\n    this.dispose = tonWidgetController.renderApp(rootId, this);\n  }\n  static getWallets() {\n    return tonsdk.OKXTonConnect.getWallets();\n  }\n  get connected() {\n    return this.connector.connected;\n  }\n  get account() {\n    return this.connector.account;\n  }\n  get wallet() {\n    if (!this.connector.wallet) {\n      return null;\n    }\n    return __spreadValues(__spreadValues({}, this.connector.wallet), this.walletInfo);\n  }\n  get universalLink() {\n    if (this.wallet && \"universalLink\" in this.wallet) {\n      return this.wallet.universalLink;\n    }\n    return void 0;\n  }\n  get deepLink() {\n    if (this.wallet && \"deepLink\" in this.wallet) {\n      return this.wallet.deepLink;\n    }\n    return void 0;\n  }\n  get walletName() {\n    if (this.wallet && \"name\" in this.wallet) {\n      return this.wallet.name;\n    }\n    return void 0;\n  }\n  set uiOptions(options) {\n    var _a2, _b2, _c2;\n    core.logDebug(\"OKXTonConnectUI uiOptions() called\");\n    this.checkButtonRootExist(options.buttonRootId);\n    this.actionsConfiguration = options.actionsConfiguration;\n    if ((_a2 = options.uiPreferences) == null ? void 0 : _a2.theme) {\n      if (((_b2 = options.uiPreferences) == null ? void 0 : _b2.theme) !== \"SYSTEM\") {\n        (_c2 = this.systemThemeChangeUnsubscribe) == null ? void 0 : _c2.call(this);\n        setTheme(options.uiPreferences.theme);\n      } else {\n        setTheme(getSystemTheme());\n        if (!this.systemThemeChangeUnsubscribe) {\n          this.systemThemeChangeUnsubscribe = subscribeToThemeChange(setTheme);\n        }\n      }\n    }\n    setAppState((state) => {\n      var _a3, _b3;\n      const merged = mergeOptions(\n        __spreadValues(__spreadValues(__spreadValues({}, options.language && { language: options.language }), !!((_a3 = options.actionsConfiguration) == null ? void 0 : _a3.returnStrategy) && {\n          returnStrategy: options.actionsConfiguration.returnStrategy\n        }), ((_b3 = options.actionsConfiguration) == null ? void 0 : _b3.tmaReturnUrl) && {\n          tmaReturnUrl: options.actionsConfiguration.tmaReturnUrl\n        }),\n        unwrap(state)\n      );\n      if (options.buttonRootId !== void 0) {\n        merged.buttonRootId = options.buttonRootId;\n      }\n      return merged;\n    });\n  }\n  destory() {\n    if (this.dispose) {\n      this.dispose();\n    }\n  }\n  setConnectRequestParameters(connectRequestParameters) {\n    var _a2;\n    setAppState({ connectRequestParameters });\n    if ((connectRequestParameters == null ? void 0 : connectRequestParameters.state) === \"ready\" || !connectRequestParameters) {\n      (_a2 = this.connectRequestParametersCallback) == null ? void 0 : _a2.call(this, {\n        tonProof: connectRequestParameters.value.tonProof\n      });\n    }\n  }\n  getWallets() {\n    return [core.creatOKXWalletInfo(), core.creatOKXMiniAppWalletInfo()];\n  }\n  onStatusChange(callback, errorsHandler) {\n    return this.connector.onStatusChange((wallet) => __async(this, null, function* () {\n      if (wallet) {\n        yield this.getSelectedWalletInfo(wallet);\n        let info = this.getWalletInfo(wallet);\n        core.logDebug(\"OKXTonConnectUI onStatusChange info :\", JSON.stringify(info));\n        core.logDebug(\"OKXTonConnectUI onStatusChange wallet :\", JSON.stringify(wallet));\n        callback(__spreadValues(__spreadValues({}, wallet), info || this.getWallets()[0]));\n      } else {\n        callback(wallet);\n      }\n    }), errorsHandler);\n  }\n  handleConnect(connectMethod) {\n    return __async(this, null, function* () {\n      return this.singleWalletModal.handleConnect(connectMethod, this.actionsConfiguration);\n    });\n  }\n  openModal() {\n    return __async(this, null, function* () {\n      core.logDebug(\"OKXTonConnectUI openModal() called\");\n      return new Promise((_, reject) => __async(this, null, function* () {\n        yield Promise.all(\n          [\n            this.waitForWalletConnection({}),\n            this.openSingleWalletModal(\"okxAppWallet\")\n          ]\n        ).catch((error) => {\n          reject(error);\n        });\n      }));\n    });\n  }\n  closeModal(reason) {\n    this.closeSingleWalletModal(reason);\n  }\n  waitForWalletConnection(options) {\n    return __async(this, null, function* () {\n      return new Promise((resolve, reject) => {\n        const onStatusChangeHandler = (wallet) => __async(this, null, function* () {\n          if (!wallet) {\n            this.tracker.trackConnectionError(\"Connection was cancelled\");\n            unsubscribe();\n            reject(new OKXConnectUiError(\"Wallet was not connected\"));\n          } else {\n            this.tracker.trackConnectionCompleted(wallet);\n            unsubscribe();\n            resolve(wallet);\n          }\n        });\n        const onErrorsHandler = (reason) => {\n          this.tracker.trackConnectionError(reason.message);\n          unsubscribe();\n          reject(reason);\n        };\n        const unsubscribe = this.onStatusChange(\n          (wallet) => onStatusChangeHandler(wallet),\n          (reason) => onErrorsHandler(reason)\n        );\n      });\n    });\n  }\n  onModalStateChange(onChange) {\n    return this.onSingleWalletModalStateChange(onChange);\n  }\n  get modalState() {\n    return this.singleWalletModalState;\n  }\n  openSingleWalletModal(wallet) {\n    return __async(this, null, function* () {\n      this.tracker.trackConnectionStarted();\n      try {\n        return this.singleWalletModal.open(wallet);\n      } catch (error) {\n        this.tracker.trackConnectionError(error.message);\n        throw error;\n      }\n    });\n  }\n  closeSingleWalletModal(closeReason) {\n    if (closeReason === \"action-cancelled\") {\n      this.tracker.trackConnectionError(\"Connection was cancelled\");\n    }\n    this.singleWalletModal.close(closeReason);\n  }\n  onSingleWalletModalStateChange(onChange) {\n    return this.singleWalletModal.onStateChange(onChange);\n  }\n  get singleWalletModalState() {\n    return this.singleWalletModal.state;\n  }\n  disconnect() {\n    core.logDebug(\"OKXTonConnectUI disconnect() called\");\n    this.tracker.trackDisconnection(this.wallet, \"dapp\");\n    tonWidgetController.clearAction();\n    tonWidgetController.removeSelectedWalletInfo();\n    this.walletInfoStorage.removeWalletInfo();\n    return this.connector.disconnect();\n  }\n  sendTransaction(tx, actionConfiguration) {\n    return __async(this, null, function* () {\n      core.logDebug(\"OKXTonConnectUI sendTransaction() called\");\n      return this.sendTransactionInner(\n        tx,\n        {\n          returnStrategy: actionConfiguration == null ? void 0 : actionConfiguration.returnStrategy,\n          modals: actionConfiguration == null ? void 0 : actionConfiguration.modals\n        }\n      );\n    });\n  }\n  sendTransactionInner(tx, actionConfiguration) {\n    return __async(this, null, function* () {\n      var _a2, _b2;\n      this.tracker.trackTransactionSentForSignature(this.wallet, tx);\n      if (!this.connected) {\n        this.tracker.trackTransactionSigningFailed(this.wallet, tx, \"Wallet was not connected\");\n        throw new OKXConnectUiError(\"Connect wallet to send a transaction.\");\n      }\n      if (isInTMA()) {\n        sendExpand();\n      }\n      const options = {\n        returnStrategy: isDevice(\"mobile\") && ((_a2 = lastTonSelectedWalletInfo()) == null ? void 0 : _a2.openMethod) !== \"qrcode\" ? actionConfiguration == null ? void 0 : actionConfiguration.returnStrategy : \"none\",\n        modals: actionConfiguration == null ? void 0 : actionConfiguration.modals,\n        tmaReturnUrl: (_b2 = actionConfiguration == null ? void 0 : actionConfiguration.tmaReturnUrl) != null ? _b2 : \"back\"\n      };\n      const { modals, returnStrategy, tmaReturnUrl } = this.getModalsAndNotificationsConfiguration(options);\n      tonWidgetController.setAction({\n        name: \"confirm-transaction\",\n        openModal: modals.includes(\"before\"),\n        sent: false\n      });\n      const onRequestSent = () => {\n        var _a3;\n        if (abortController.signal.aborted) {\n          return;\n        }\n        if (!this.connector.openUniversalLink && openWalletForUIRequest(this.walletInfo, (_a3 = lastTonSelectedWalletInfo()) == null ? void 0 : _a3.openMethod)) {\n          openTonWallet(this.walletInfo, tmaReturnUrl);\n        }\n        tonWidgetController.setAction({\n          name: \"confirm-transaction\",\n          openModal: modals.includes(\"before\"),\n          sent: true\n        });\n      };\n      const abortController = new AbortController();\n      const unsubscribe = this.onTransactionModalStateChange((action) => {\n        if (action == null ? void 0 : action.openModal) {\n          return;\n        }\n        unsubscribe();\n      });\n      const transaction = __spreadProps(__spreadValues({}, tx), { redirect: returnStrategy });\n      try {\n        const result = yield this.waitForSendTransaction(\n          {\n            transaction,\n            signal: abortController.signal\n          },\n          onRequestSent\n        );\n        this.tracker.trackTransactionSigned(this.wallet, tx, result);\n        tonWidgetController.setAction({\n          name: \"transaction-sent\",\n          openModal: modals.includes(\"success\")\n        });\n        return result;\n      } catch (e2) {\n        tonWidgetController.setAction({\n          name: \"transaction-canceled\",\n          openModal: modals.includes(\"error\")\n        });\n        if (e2 instanceof core.OKXConnectError) {\n          throw e2;\n        } else {\n          throw new OKXConnectUiError(\"Unhandled error:\" + e2);\n        }\n      } finally {\n        unsubscribe();\n      }\n    });\n  }\n  waitForSendTransaction(options, onRequestSent) {\n    return __async(this, null, function* () {\n      return new Promise((resolve, reject) => {\n        var _a2;\n        const { transaction, signal } = options;\n        if (signal.aborted) {\n          this.tracker.trackTransactionSigningFailed(\n            this.wallet,\n            transaction,\n            \"Transaction was cancelled\"\n          );\n          return reject(new OKXConnectUiError(\"Transaction was not sent\"));\n        }\n        const onTransactionHandler = (transaction2) => __async(this, null, function* () {\n          resolve(transaction2);\n        });\n        const onErrorsHandler = (reason) => {\n          reject(reason);\n        };\n        const onCanceledHandler = () => {\n          this.tracker.trackTransactionSigningFailed(\n            this.wallet,\n            transaction,\n            \"Transaction was cancelled\"\n          );\n          reject(new OKXConnectUiError(\"Transaction was not sent\"));\n        };\n        signal.addEventListener(\"abort\", onCanceledHandler, { once: true });\n        this.connector.sendTransaction(transaction, {\n          doNotOpenWallet: !(isMobile() && ((_a2 = lastTonSelectedWalletInfo()) == null ? void 0 : _a2.openMethod) !== \"qrcode\"),\n          onRequestSent\n        }).then((result) => {\n          signal.removeEventListener(\"abort\", onCanceledHandler);\n          return onTransactionHandler(result);\n        }).catch((reason) => {\n          this.tracker.trackTransactionSigningFailed(\n            this.wallet,\n            transaction,\n            reason.message\n          );\n          signal.removeEventListener(\"abort\", onCanceledHandler);\n          return onErrorsHandler(reason);\n        });\n      });\n    });\n  }\n  onTransactionModalStateChange(onChange) {\n    return this.transactionModal.onStateChange(onChange);\n  }\n  subscribeToWalletChange() {\n    this.connector.onStatusChange((wallet) => __async(this, null, function* () {\n      var _a2;\n      if (wallet) {\n        yield this.updateWalletInfo(wallet);\n        this.setPreferredWalletAppName(((_a2 = this.walletInfo) == null ? void 0 : _a2.appName) || wallet.device.appName);\n      } else {\n        this.walletInfoStorage.removeWalletInfo();\n      }\n    }));\n  }\n  setPreferredWalletAppName(value) {\n    setAppState({ preferredWalletAppName: value });\n  }\n  getSelectedWalletInfo(wallet) {\n    return __async(this, null, function* () {\n      let lastSelectedWalletInfo = tonWidgetController.getSelectedWalletInfo();\n      if (!lastSelectedWalletInfo) {\n        return null;\n      }\n      let fullLastSelectedWalletInfo;\n      if (!(\"name\" in lastSelectedWalletInfo)) {\n        const walletsList = this.walletsList;\n        const walletInfo = walletsList.find((item) => eqWalletName(item, wallet.device.appName));\n        if (!walletInfo) {\n          throw new OKXConnectUiError(\n            `Cannot find WalletInfo for the '${wallet.device.appName}' wallet`\n          );\n        }\n        fullLastSelectedWalletInfo = __spreadValues(__spreadValues({}, walletInfo), lastSelectedWalletInfo);\n      } else {\n        fullLastSelectedWalletInfo = lastSelectedWalletInfo;\n      }\n      return fullLastSelectedWalletInfo;\n    });\n  }\n  updateWalletInfo(wallet) {\n    return __async(this, null, function* () {\n      this.walletInfo = this.getWalletInfo(wallet);\n      core.logDebug(\"updateWalletInfo ---this.walletInfo -\", JSON.stringify(this.walletInfo));\n    });\n  }\n  getWalletInfo(wallet) {\n    core.logDebug(\"getWalletInfo ----\", JSON.stringify(wallet));\n    let info = this.walletsList.find(\n      (walletInfo) => eqWalletName(walletInfo, wallet.device.appName)\n    ) || null;\n    core.logDebug(\"getWalletInfo ---info -\", JSON.stringify(info));\n    return info;\n  }\n  normalizeWidgetRoot(rootId) {\n    if (!rootId || !document.getElementById(rootId)) {\n      rootId = `okxton-widget-root`;\n      const rootElement = document.createElement(\"div\");\n      rootElement.id = rootId;\n      document.body.appendChild(rootElement);\n    }\n    return rootId;\n  }\n  checkButtonRootExist(buttonRootId) {\n    if (buttonRootId == null) {\n      return;\n    }\n    if (!document.getElementById(buttonRootId)) {\n      throw new OKXConnectUiError(`${buttonRootId} element not found in the document.`);\n    }\n  }\n  getModalsAndNotificationsConfiguration(options) {\n    var _a2, _b2, _c2;\n    const allActions = [\n      \"before\",\n      \"success\",\n      \"error\"\n    ];\n    let modals = [\"before\"];\n    if ((_a2 = this.actionsConfiguration) == null ? void 0 : _a2.modals) {\n      if (this.actionsConfiguration.modals === \"all\") {\n        modals = allActions;\n      } else {\n        modals = this.actionsConfiguration.modals;\n      }\n    }\n    if (options == null ? void 0 : options.modals) {\n      if (options.modals === \"all\") {\n        modals = allActions;\n      } else {\n        modals = options.modals;\n      }\n    }\n    const returnStrategy = (options == null ? void 0 : options.returnStrategy) || ((_b2 = this.actionsConfiguration) == null ? void 0 : _b2.returnStrategy) || \"back\";\n    const tmaReturnUrl = (options == null ? void 0 : options.tmaReturnUrl) || ((_c2 = this.actionsConfiguration) == null ? void 0 : _c2.tmaReturnUrl) || \"back\";\n    return {\n      modals,\n      tmaReturnUrl,\n      returnStrategy\n    };\n  }\n  showActionButton() {\n    return isAppWallet(this.walletInfo) && isMobile();\n  }\n}\nclass OKXTonConnectUI {\n  constructor(options) {\n    __publicField(this, \"okxTonConnectUI\");\n    __publicField(this, \"connectionRestored\", Promise.resolve(false));\n    core.logDebug(\"okx-connect-ton-ui-wrapper constructor called\");\n    if (window && window.okxConnectTonUIinwindow && window.okxConnectTonUIinwindow instanceof OKXTonConnectUIInner) {\n      this.okxTonConnectUI = window.okxConnectTonUIinwindow;\n      core.logDebug(\"okx-connect-ton-ui-wrapper constructor old called\");\n    } else {\n      this.okxTonConnectUI = new OKXTonConnectUIInner(options);\n      core.logDebug(\"okx-connect-ton-ui-wrapper constructor new called\");\n      if (window) {\n        window.okxConnectTonUIinwindow = this.okxTonConnectUI;\n      }\n    }\n  }\n  static getWallets() {\n    return OKXTonConnectUIInner.getWallets();\n  }\n  get connected() {\n    return this.okxTonConnectUI.connected;\n  }\n  get account() {\n    return this.okxTonConnectUI.account;\n  }\n  get wallet() {\n    return this.okxTonConnectUI.wallet;\n  }\n  get universalLink() {\n    return this.okxTonConnectUI.universalLink;\n  }\n  get deepLink() {\n    return this.okxTonConnectUI.deepLink;\n  }\n  get walletName() {\n    return this.okxTonConnectUI.walletName;\n  }\n  set uiOptions(options) {\n    this.okxTonConnectUI.uiOptions = options;\n  }\n  setConnectRequestParameters(connectRequestParameters) {\n    this.okxTonConnectUI.setConnectRequestParameters(connectRequestParameters);\n  }\n  getWallets() {\n    return this.okxTonConnectUI.getWallets();\n  }\n  onStatusChange(callback, errorsHandler) {\n    return this.okxTonConnectUI.onStatusChange(callback, errorsHandler);\n  }\n  handleConnect(connectMethod) {\n    return __async(this, null, function* () {\n      return this.okxTonConnectUI.handleConnect(connectMethod);\n    });\n  }\n  openModal() {\n    return __async(this, null, function* () {\n      return this.okxTonConnectUI.openModal();\n    });\n  }\n  closeModal(reason) {\n    return this.okxTonConnectUI.closeModal(reason);\n  }\n  onModalStateChange(onChange) {\n    return this.okxTonConnectUI.onModalStateChange(onChange);\n  }\n  get modalState() {\n    return this.okxTonConnectUI.modalState;\n  }\n  disconnect() {\n    return this.okxTonConnectUI.disconnect();\n  }\n  sendTransaction(tx, actionConfiguration) {\n    return __async(this, null, function* () {\n      return this.okxTonConnectUI.sendTransaction(tx, actionConfiguration);\n    });\n  }\n  showActionButton() {\n    return this.okxTonConnectUI.showActionButton();\n  }\n}\nconst universalWidgetController = {\n  openSingleWalletModal: (walletInfo) => {\n    core.logDebug(`universalWidgetController : openSingleWalletModal : ${JSON.stringify(walletInfo)}`);\n    void setTimeout(() => setUniversalSingleWalletModalState({\n      status: \"opened\",\n      closeReason: null,\n      walletInfo\n    }));\n  },\n  closeSingleWalletModal: (reason) => void setTimeout(() => setUniversalSingleWalletModalState({\n    status: \"closed\",\n    closeReason: reason\n  })),\n  setAction: (action) => void setTimeout(() => setUniversalAction(action)),\n  clearAction: () => void setTimeout(() => {\n    console.log(\"clearAction\");\n    setUniversalAction(null);\n  }),\n  getSelectedWalletInfo: () => lastUniversalSelectedWalletInfo(),\n  removeSelectedWalletInfo: () => setLastUniversalSelectedWalletInfo(null),\n  renderApp: (root, connectUI) => {\n    return render(() => createComponent(TONApp, {\n      connectUI\n    }), document.getElementById(root));\n  },\n  renderUniversalApp: (root, connectUI) => {\n    return render(() => createComponent(UniversalApp, {\n      connectUI\n    }), document.getElementById(root));\n  }\n};\nclass Signal {\n  constructor() {\n    __publicField(this, \"listeners\", []);\n  }\n  listen(callback) {\n    this.listeners.push(callback);\n  }\n  trigger(data) {\n    this.listeners.forEach((listener) => listener(data));\n  }\n}\nclass UniversalSingleWalletModalManager {\n  constructor(options) {\n    __publicField(this, \"consumers\", []);\n    __publicField(this, \"getWalltsInfo\");\n    __publicField(this, \"connectSignal\", new Signal());\n    __publicField(this, \"state\", universalSingleWalletModalState());\n    this.getWalltsInfo = options.getWalltsInfo;\n    createEffect(() => {\n      const state = universalSingleWalletModalState();\n      this.state = state;\n      this.consumers.forEach((consumer) => consumer(state));\n    });\n  }\n  open(wallet, opts) {\n    return __async(this, null, function* () {\n      core.logDebug(`UniversalSingleWalletModalManager : open : ${JSON.stringify(opts)}`);\n      const externalWallets = this.getWalltsInfo();\n      const externalWallet = externalWallets.find((walletInfo) => eqWalletName(walletInfo, wallet));\n      if (externalWallet) {\n        return this.openSingleWalletModal(externalWallet, opts);\n      }\n      const error = `Trying to open modal window with unknown wallet \"${wallet}\".`;\n      throw new OKXConnectUiError(error);\n    });\n  }\n  close(reason = \"action-cancelled\") {\n    universalWidgetController.closeSingleWalletModal(reason);\n  }\n  onStateChange(onChange) {\n    this.consumers.push(onChange);\n    return () => {\n      this.consumers = this.consumers.filter((consumer) => consumer !== onChange);\n    };\n  }\n  handleConnect(connectMethod, actionConfiguration) {\n    return __async(this, null, function* () {\n      return new Promise((resolve, reject) => {\n        try {\n          connectMethod(actionConfiguration).then((result) => {\n            resolve(result);\n            core.logDebug(\"UniversalSingleWalletModalManager  result >>>\", JSON.stringify(result));\n            this.connectSignal.trigger(result);\n          }).catch((error) => {\n            reject(error);\n            core.logDebug(\"UniversalSingleWalletModalManager  error >>>\", JSON.stringify(error));\n            this.connectSignal.trigger(error);\n          });\n        } catch (error) {\n          reject(error);\n          core.logDebug(\"UniversalSingleWalletModalManager  catch error >>>\", JSON.stringify(error));\n          this.connectSignal.trigger(error);\n        }\n      });\n    });\n  }\n  openSingleWalletModal(wallet, opts) {\n    return __async(this, null, function* () {\n      core.logDebug(`UniversalSingleWalletModalManager : openSingleWalletModal : ${JSON.stringify(opts)}`);\n      if (isInTMA()) {\n        sendExpand();\n      }\n      setAppState({ universalConnectRequestParameters: opts });\n      universalWidgetController.openSingleWalletModal(wallet);\n      return new Promise((resolve, reject) => {\n        this.connectSignal.listen((resultOrError) => {\n          if (resultOrError instanceof Error) {\n            reject(resultOrError);\n          } else {\n            resolve(resultOrError);\n          }\n        });\n      });\n    });\n  }\n}\nclass OKXUniversalConnectUI extends universalProvider.OKXUniversalProvider {\n  constructor(options) {\n    super({ dappMetaData: options.dappMetaData });\n    __publicField(this, \"singleWalletModal\");\n    __publicField(this, \"actionsConfiguration\");\n    __publicField(this, \"systemThemeChangeUnsubscribe\", null);\n    __publicField(this, \"dispose\");\n    core.logDebug(\"OKXUniversalConnectUI constructor options:\", JSON.stringify(options));\n    this.singleWalletModal = new UniversalSingleWalletModalManager({\n      getWalltsInfo: () => OKXUniversalConnectUI.getWallets()\n    });\n    const rootId = this.normalizeWidgetRoot(void 0);\n    this.uiOptions = mergeOptions(options, { uiPreferences: { theme: \"SYSTEM\" }, dappMetaData: options.dappMetaData });\n    setAppState({\n      universalConnector: this,\n      preferredWalletAppName: void 0\n    });\n    this.dispose = universalWidgetController.renderUniversalApp(rootId, this);\n  }\n  static getWallets() {\n    return [core.creatOKXWalletInfo(), core.creatOKXMiniAppWalletInfo()];\n  }\n  getConnectWallet() {\n    var _a2, _b2;\n    core.logDebug(`this.session?.wallet?.appName ${(_b2 = (_a2 = this.session) == null ? void 0 : _a2.wallet) == null ? void 0 : _b2.appName}`);\n    return this.getWallets().find((wallet) => {\n      var _a3, _b3;\n      return eqWalletName(wallet, (_b3 = (_a3 = this.session) == null ? void 0 : _a3.wallet) == null ? void 0 : _b3.appName);\n    });\n  }\n  get universalLink() {\n    var _a2, _b2;\n    core.logDebug(`this.getConnectWallet()?.universalLink ${(_a2 = this.getConnectWallet()) == null ? void 0 : _a2.universalLink}`);\n    return (_b2 = this.getConnectWallet()) == null ? void 0 : _b2.universalLink;\n  }\n  get deepLink() {\n    var _a2;\n    return (_a2 = this.getConnectWallet()) == null ? void 0 : _a2.deepLink;\n  }\n  get walletName() {\n    var _a2, _b2;\n    core.logDebug(`this.getConnectWallet()?.walletName ${(_a2 = this.getConnectWallet()) == null ? void 0 : _a2.name}`);\n    return (_b2 = this.getConnectWallet()) == null ? void 0 : _b2.name;\n  }\n  set uiOptions(options) {\n    var _a2, _b2, _c2;\n    core.logDebug(\"OKXUniversalConnectUI uiOptions() called\");\n    this.actionsConfiguration = options.actionsConfiguration;\n    if ((_a2 = options.uiPreferences) == null ? void 0 : _a2.theme) {\n      if (((_b2 = options.uiPreferences) == null ? void 0 : _b2.theme) !== \"SYSTEM\") {\n        (_c2 = this.systemThemeChangeUnsubscribe) == null ? void 0 : _c2.call(this);\n        setTheme(options.uiPreferences.theme);\n      } else {\n        setTheme(getSystemTheme());\n        if (!this.systemThemeChangeUnsubscribe) {\n          this.systemThemeChangeUnsubscribe = subscribeToThemeChange(setTheme);\n        }\n      }\n    }\n    if (options.language && !isValidLocale(options.language.toString())) {\n      options.language = \"en_US\";\n    }\n    setAppState((state) => {\n      var _a3;\n      const merged = mergeOptions(\n        __spreadValues(__spreadValues({}, options.language && { language: options.language }), !!((_a3 = options.actionsConfiguration) == null ? void 0 : _a3.returnStrategy) && {\n          returnStrategy: options.actionsConfiguration.returnStrategy\n        }),\n        unwrap(state)\n      );\n      return merged;\n    });\n  }\n  destory() {\n    if (this.dispose) {\n      this.dispose();\n    }\n  }\n  request(args, chain, actionConfiguration) {\n    return __async(this, null, function* () {\n      var _a2, _b2, _c2, _d2, _e2;\n      core.logDebug(\"OKXUniversalConnectUI request() called\");\n      if (!this.session) {\n        throw new OKXConnectUiError(\"Connect wallet to send a transaction.\");\n      }\n      const options = {\n        returnStrategy: isDevice(\"mobile\") && ((_a2 = lastUniversalSelectedWalletInfo()) == null ? void 0 : _a2.openMethod) !== \"qrcode\" ? actionConfiguration == null ? void 0 : actionConfiguration.returnStrategy : \"none\",\n        modals: actionConfiguration == null ? void 0 : actionConfiguration.modals,\n        tmaReturnUrl: (_b2 = actionConfiguration == null ? void 0 : actionConfiguration.tmaReturnUrl) != null ? _b2 : \"back\"\n      };\n      const { modals, returnStrategy, tmaReturnUrl } = this.getModalsAndNotificationsConfiguration(options);\n      const reqArgs = __spreadProps(__spreadValues({}, args), { redirect: returnStrategy });\n      const showRequestModal = __superGet(OKXUniversalConnectUI.prototype, this, \"showRequestModal\").call(this, reqArgs, chain);\n      universalWidgetController.setAction({\n        name: \"confirm-transaction\",\n        openModal: modals.includes(\"before\") && showRequestModal,\n        sent: false\n      });\n      if (!((_c2 = this.session.sessionConfig) == null ? void 0 : _c2.openUniversalUrl) && showRequestModal && openWalletForUIRequest(this.getConnectWallet(), (_d2 = lastUniversalSelectedWalletInfo()) == null ? void 0 : _d2.openMethod)) {\n        openUniversalWallet(\n          this.getConnectWallet(),\n          tmaReturnUrl,\n          this.session.namespaces\n        );\n      }\n      if (this.session.sessionConfig) {\n        this.session.sessionConfig.openUniversalUrl = this.session.sessionConfig.openUniversalUrl && isMobile() && ((_e2 = lastUniversalSelectedWalletInfo()) == null ? void 0 : _e2.openMethod) !== \"qrcode\";\n      }\n      try {\n        const result = yield __superGet(OKXUniversalConnectUI.prototype, this, \"request\").call(this, reqArgs, chain);\n        universalWidgetController.setAction({\n          name: \"transaction-sent\",\n          openModal: modals.includes(\"success\") && showRequestModal\n        });\n        return result;\n      } catch (e2) {\n        core.logDebug(`OKXUniversalConnectUI  request  ==>  ${typeof e2} ==> is core OKXConnectError: ${e2 instanceof core.OKXConnectError} ==> is universal-provider OKXConnectError: ${e2 instanceof universalProvider.OKXConnectError} ==>  ${JSON.stringify(e2)}`);\n        universalWidgetController.setAction({\n          name: \"transaction-canceled\",\n          openModal: modals.includes(\"error\") && showRequestModal\n        });\n        if (e2 instanceof core.OKXConnectError || e2 instanceof universalProvider.OKXConnectError) {\n          core.logDebug(`OKXUniversalConnectUI  request  ==> ${JSON.stringify(e2)}`);\n          throw e2;\n        } else {\n          throw new OKXConnectUiError(\"Unhandled error:\" + e2);\n        }\n      }\n    });\n  }\n  getModalsAndNotificationsConfiguration(options) {\n    var _a2, _b2, _c2;\n    const allActions = [\n      \"before\",\n      \"success\",\n      \"error\"\n    ];\n    let modals = [\"before\"];\n    if ((_a2 = this.actionsConfiguration) == null ? void 0 : _a2.modals) {\n      if (this.actionsConfiguration.modals === \"all\") {\n        modals = allActions;\n      } else {\n        modals = this.actionsConfiguration.modals;\n      }\n    }\n    if (options == null ? void 0 : options.modals) {\n      if (options.modals === \"all\") {\n        modals = allActions;\n      } else {\n        modals = options.modals;\n      }\n    }\n    const returnStrategy = (options == null ? void 0 : options.returnStrategy) || ((_b2 = this.actionsConfiguration) == null ? void 0 : _b2.returnStrategy) || \"back\";\n    const tmaReturnUrl = (options == null ? void 0 : options.tmaReturnUrl) || ((_c2 = this.actionsConfiguration) == null ? void 0 : _c2.tmaReturnUrl) || \"back\";\n    return {\n      modals,\n      tmaReturnUrl,\n      returnStrategy\n    };\n  }\n  static init(opts) {\n    return __async(this, null, function* () {\n      core.logDebug(\"OKXUniversalConnectUI init() called\");\n      if (opts && \"dappMetaData\" in opts && opts.dappMetaData) {\n        let provider;\n        if (window && window.okxConnectUniversalUIinwindow && window.okxConnectUniversalUIinwindow instanceof OKXUniversalConnectUI) {\n          core.logDebug(\"OKXUniversalConnectUI init() old called\");\n          provider = window.okxConnectUniversalUIinwindow;\n        } else {\n          core.logDebug(\"OKXUniversalConnectUI init() new called\");\n          provider = new OKXUniversalConnectUI(opts);\n          yield provider.initialize();\n          if (window) {\n            window.okxConnectUniversalUIinwindow = provider;\n          }\n        }\n        return provider;\n      } else {\n        throw new OKXConnectUiError(\n          \"You have to specify a `dappMetaData`in the options.\"\n        );\n      }\n    });\n  }\n  normalizeWidgetRoot(rootId) {\n    if (!rootId || !document.getElementById(rootId)) {\n      rootId = `universal-widget-root`;\n      const rootElement = document.createElement(\"div\");\n      rootElement.id = rootId;\n      document.body.appendChild(rootElement);\n    }\n    return rootId;\n  }\n  getWallets() {\n    return OKXUniversalConnectUI.getWallets();\n  }\n  handleConnect(connectMethod) {\n    return __async(this, null, function* () {\n      return this.singleWalletModal.handleConnect(connectMethod, this.actionsConfiguration);\n    });\n  }\n  openModal(opts) {\n    return __async(this, null, function* () {\n      core.logDebug(\"OKXUniversalConnectUI openModal() called\");\n      try {\n        if (this.connected()) {\n          return this.session;\n        }\n        return this.singleWalletModal.open(\"okxAppWallet\", opts);\n      } catch (error) {\n        throw error;\n      }\n    });\n  }\n  closeModal(reason) {\n    this.singleWalletModal.close(reason);\n  }\n  showActionButton() {\n    return isAppWallet(this.getConnectWallet()) && isMobile();\n  }\n}\nexports.OKXConnectUiError = OKXConnectUiError;\nexports.OKXTonConnectUI = OKXTonConnectUI;\nexports.OKXUniversalConnectUI = OKXUniversalConnectUI;\nexports.OKX_UI_CONNECTION_AND_TRANSACTION_EVENT = OKX_UI_CONNECTION_AND_TRANSACTION_EVENT;\nexports.THEME = THEME;\nfor (const k in tonsdk) {\n  if (k !== \"default\" && !exports.hasOwnProperty(k))\n    Object.defineProperty(exports, k, {\n      enumerable: true,\n      get: () => tonsdk[k]\n    });\n}\n//# sourceMappingURL=index.cjs.map\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","__webpack_require__.amdO = {};","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = function(module) {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t524: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkokxconnectdemo\"] = self[\"webpackChunkokxconnectdemo\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [504], function() { return __webpack_require__(20313); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["require","Object","defineProperty","exports","value","AptosUtils","getTransaction","o","transaction","rawTransaction","payload","entryFunction","typeArgs","type_args","typeArguments","Array","forEach","typeTag","push","toString","realArguments","this","getTypeArguments","args","i","arguments","function","module_name","address","data","name","identifier","function_name","type","type_arguments","getArguments","array","j","length","y","values","subArray","dealArrayElements","e","Uint8Array","t","isArray","r","n","assign","__awaiter","thisArg","_arguments","P","generator","adopt","resolve","Promise","reject","fulfilled","step","next","rejected","result","done","then","apply","__importDefault","mod","__esModule","OKXAptosProvider","buffer_1","AptosUtils_1","core_1","tweetnacl_1","constructor","provider","chainsSet","Set","getUniversalProvider","getConnectedNamespace","defaultNetwork","network","requestDefaultChainWithNamespace","NameSpaceKeyAptos","currentChainId","getRealChainId","chainId","size","Error","_a","_b","_c","session","namespaces","chains","chain","add","getAccount","_d","_e","_f","_g","_h","_j","account","accounts","filter","startsWith","logDebug","accountArray","split","console","log","extra","publicKey","undefined","signMessage","realChain","prefix","message","nonce","fullMessage","application","window","location","protocol","hostname","buffer","Buffer","from","hex","bufferToHex","signedMessage","request","successData","signStr","slice","verified","default","sign","detached","verify","_","signature","error","signTransaction","tx","signAndSubmitTransaction","buf","OKXAptosProvider_1","enumerable","get","CONNECT_METHOD_BATCH_FETCHMSG","CONNECT_METHOD_FETCHMSG","CONNECT_METHOD_RECEIVE","CONNECT_METHOD_UNSUB","CONNECT_METHOD_SUB","CONNECT_METHOD_PUBLISH","CONNECT_METHOD_LOGIN","CONNECT_METHOD_PUSH","__createBinding","create","m","k","k2","desc","getOwnPropertyDescriptor","writable","configurable","__setModuleDefault","v","__importStar","prototype","hasOwnProperty","call","OKXWalletConnector","constants_1","storageconstants_1","storage_1","utils_1","utils_2","eventemitter3_1","protocol_1","WS","resolveWebSocketImplementation","url","events","EventEmitter","state","ConnectorState","InitState","selectedUrlIndex","retryCount","timeOutLimit","checkWSUrl","heartbeatTimer","connectionTimeoutTimer","connectURLStorage","Storage","OKXCONNECTOR_CACHE_KEY","connecting","Connecting","onPayload","rsp","Date","now","emit","onClose","event","socket","code","onError","id","msg","onopen","onmessage","onclose","Connected","emitError","errorEvent","heartbeat","clearTimeout","OnError","readyState","WebSocket","OPEN","send","setTimeout","bind","tryRegistOpen","logError","registOpen","inRetry","toUTCString","URLSearchParams","startTimeOutTimer","hasBuiltInWebSocket","onerror","close","on","resetTimeOutTimer","OKXCONNECTOR_WS_URL_PENDING_CLOSE_CODE","FINISHED","checkMaxRetry","OKXCONNECTOR_WS_URL_LIST","connectionTryNext","nextUrl","getNextSelectUrl","CANCELED","pendingSocket","TIME_OUT","cacheSuccessUrlSelect","saveContent","getSuccessUrlSelect","selectIndex","getItem","content","index","Number","onVisibleChanged","document","visibilityState","once","err","OKXConnectError","OKX_CONNECT_ERROR_CODES","CONNECTION_ERROR","connect","removeEventListener","addEventListener","disconnect","Disconnected","currentStatus","addListener","decrypt","success","failed","listenPayloadHandler","removeListener","parsedEvent","safeJsonParse","params","rawMsg","failHandler","addPackageParse","callback","payloadHandler","param","listener","off","doLogin","safeJsonStringify","getMsgPayloadFromHistory","tmpMsg","jsonstr","onOpen","openHandler","ConnectionManager","connect_1","commands_1","jwtconstants_1","crypto_1","jwt_1","safejson_1","log_1","url_1","connectStorage","OKXCONNECTOR_CACHE_KEY_DAPP","crypto","SessionCrypto","inTMA","isInTMA","keyPairInfo","getCachedCryptoKeyPair","jwtKeyPair","getCachedJWTKeyPair","saveJWTKeyPair","connector","OKXCONNECTOR_WS_URL_1","packageId","connectedWalletPK","currentTopic","refreshPackageId","saveCryptoKeyPair","keyPair","cacheInfo","encryptStoreMsg","OKXCONNECTOR_CRYPTO_KEY","kp","getAndDecrypt","clearCache","strkeyPair","toHexString","secretKey","OKXCONNECTOR_JWT_KEY","strKeyPairInfo","hexToByteArray","generateKeyPair","isWalletPKReady","makeJWT","topic","signJWT","OKXCONNECTOR_JWT_SIDE","OKXCONNECTOR_JWT_TTL","parsePackage","input_1","input","ignoreACK","sendACK","OKXCONNECTOR_TOKEN_CACHE","inputObj","messageId","sendReceive","restoreConnect","getConnectInfo","generateTopic","info","channelId","clientId","stringifyKeypair","fromRestore","timeLog","getTime","lastConnectId","cachedSenderPublicKey","OKXCONNECTOR_CRYPTO_SENDER_PK_CACHE","jwtToken","timeOne","timeF","sendFetchAndConsumeMessages","timeTh","catch","jsonrpc","CONNECT_JSONRPC_VER","method","token","replace","parsedMessage","fail","msgObj","trimStart","sendRaw","ttl","OKXCONNECTOR_MESSAGE_TTL","msg_1","encrypt","msgId_1","success_1","msgId","reason","sendConnectSessionInfo","fetchedMessages","hasMore","receivedMsgs","timeFive","cleanCache","saveSessionContent","key","OKXCONNECTOR_SESSION_PREFIX_KEY","jsonData","getSessionContent","jsonStr","object","getCurrentConnectionReady","OKXCONNECTOR_WS_URL_IDX_KEY","OKXCONNECTOR_WS_URL_2","EVENT_EMITTER_MAX_LISTENERS","Engine","sessionUtils_1","connectionManager","pendingRequests","Map","disconnectListener","jsonResponse","handleResponse","addDisconnectListener","disconnecter","setSessionConnectingListener","sessionConnectingListener","clear","getRequestId","requestId","bindRequestForPromise","set","requestAnswer","option","JSON","stringify","onAck","sendSession","sessionInfo","response","delete","restoreconnect","onConnectResult","conect","sessionConfig","connectInfo","openUniversalLink","openUniversalUrl","connectRequest","protocolVer","tonConnectSdkVersion","dAppInfo","dappInfo","requests","connectRequestStr","utf8Array","TextEncoder","encode","base64Encoded","btoa","String","fromCharCode","deeplinkUrl","standardDeeplink","isIOS","isIos","openOKXDeeplinkWithFallback","onConnect","getUniversalLink","connectResponse","buildNameSpacesByConnectResponse","universalConnect","connectInfoAndUrl","tonRequest","universalRequest","item","universalConnectRequest","redirect","encodeConnectParams","tonConnectRequest","isFromTonSDK","defaultConnectRequest","useMini","getTelegramWalletTWAUrl","tmaReturnUrl","openMethod","openOKXTMAWalletlinkWithFallback","UNKNOWN_ERROR","wallet","methodsResponse","responses","find","connectRequestMethods","connectMethodsReply","WalletConnectionManager","connectionManager_1","walletConnectionManager_1","engine_1","MULTICODEC_ED25519_LENGTH","MULTICODEC_ED25519_HEADER","MULTICODEC_ED25519_BASE","MULTICODEC_ED25519_ENCODING","DID_METHOD","DID_PREFIX","DID_DELIMITER","KEY_PAIR_SEED_LENGTH","DATA_ENCODING","JSON_ENCODING","JWT_ENCODING","JWT_DELIMITER","JWT_IRIDIUM_TYP","JWT_IRIDIUM_ALG","JWTHeaderType","decodeJSON","encodeJSON","encodeIss","decodeIss","encodeSig","decodeSig","encodeData","decodeData","encodeJWT","decodeJWT","verifyJWT","ed25519","stringUtils_1","str","okxtoString","okxfromString","val","publicKeyStr","join","issuer","multicodec","bytes","encoded","header","jwt","sub_1","aud_1","ttl_1","keyPair_1","sub","aud","iat","Math","floor","alg","typ","iss","exp","act","OKXCONNECTOR_JWT_WALLET_SIDE","buildRequestAccountNameSpacesByConnectResponse","requestAccountNameSpaces","universalResponse","tonAddress","tonProof","ton_addr","ton_proof","namespace","addresses","methods","addressItem","addressArr","utils_3","crypto_js_1","subKey","localStorage","resolveLocalStorage","storeKey","cipherIV","cacheStr","cacheKey","cache","cacheObj","timestamp","saveItem","localKey","totalCacheStr","setItem","getCachedPBKDF2InfoKey","pwLen","saltLen","pw","iv","salt","OKXCONNECTOR_STORAGER_CRYPTO_SALT","randomBytes","OKXCONNECTOR_STORAGE_CRYPTO_PASSWORD","OKXCONNECTOR_STORAGE_CRYPTO_CIPHERIV","ivBuffer","PBKDF2","iterations","storeInfo","AES","enc","Utf8","OKXCONNECTOR_STORAGE_CIPHER_METHOD","OKXCONNECTOR_TON_KEY","WalletConnectionManagerEvent","WalletConnectionManagerTopicInfoCacheKey","RECEIVE_REQUEST","walletConnectionConstants_1","communicateEvents","sessionCryptoInfoMap","inLogin","isLogined","offset","topicId","isTopicPublicKeyExist","timestampStr","parseInternalMsg","internalMsg","internalObj","origin","originContent","base64decode","updateClientId","cid","lastCheck","dappPublicKey","syncCacheSessionInfo","topic_1","_k","_l","isInternalData","inner_message","inner_topic","messageObj","sessionInfoString","base64Content","inner_connection","toObject","decryptWallet","recovrySessionInfoFromCache","cacheMap","topicItem","cryptoItem","cryptoKeyPair","cacheSessionInfo","sync","duplicatedTopics","includes","appendTopic","sessionPublicKey","subscribeTopics","confirmAppendingTopics","keys","getSessionPublicKey","getCurrentCachedTopicIdList","needPublicKey","useRaw","connectedDappPK","cryptoObject","encryptWallet","sendUnsubscribe","sendBatchFetchAndConsumeMessages","topicIdList","topics","withInternalData","finishCount","idx","nonceLength","sessionKeyPair","createKeypairFromString","createKeypair","box","createNonce","receiverPublicKey","encodedMessage","encrypted","concatInfo","concatUint8Arrays","hexResult","encodedResult","base64encode","senderPublicKey","messageByteArray","toUint8Array","internalMessage","splitToUint8Arrays","decrypted","open","TextDecoder","decode","__exportStar","p","IEngine","ISignClient","ISignClientEvents","IEngineEvents","super","client","creatOKXMiniAppWalletInfo","creatOKXWalletInfo","getBigIntRpcId","formatJsonRpcRequest","isJsonRpcError","isJsonRpcResponse","parseConnectionError","isHttpUrl","formatJsonRpcError","json_rpc_1","wallet_info_1","isJsonRpcPayload","isJsonRpcRequest","isJsonRpcResult","payloadId","formatJsonRpcResult","isReservedErrorCode","getError","getErrorByCode","formatErrorMessage","isWsUrl","okx_connect_error_1","IncrementalRandomGenerator","bits","Uint16Array","Uint32Array","initialValue","getNextValue","uint8Generator","uint16Generator","date","BigInt","RESERVED_ERROR_CODES","STANDARD_ERROR_MAP","DEFAULT_ERROR","match","INTERNAL_ERROR","SERVER_ERROR","getUrlProtocol","matches","RegExp","matchRegexProtocol","regex","test","CONNECT_ITEM_ERROR_CODES","TONCHAIN","connect_wallet_1","connect_event_1","standardUniversalLink","tgwalletName","shortUniversalLink","okxDeeplink","SERVER_ERROR_CODE_RANGE","INVALID_PARAMS","METHOD_NOT_FOUND","INVALID_REQUEST","PARSE_ERROR","getDefaultMessageByCode","setPrototypeOf","toJSON","BAD_REQUEST_ERROR","ALREADY_CONNECTED_ERROR","NOT_CONNECTED_ERROR","UNKNOWN_APP_ERROR","USER_REJECTS_ERROR","METHOD_NOT_SUPPORTED","NameSpaceKeyCosmos","NameSpaceKeyBtc","NameSpaceKeySui","NameSpaceKeyTON","NameSpaceKeySOL","NameSpaceKeyEip155","misc_1","callForSuccess","fn","options","attempts","delayMs","lastError","delay","timeout","signal","aborted","timeoutId","isMobileUserAgent","openLinkBlank","openLink","isValidObject","getAppWalletShortDeepLink","encodeTWAConnectURLParams","getAppWalletDeepLink","encodeTelegramUrlParameters","isTelegramUrl","openOKXDeeplink","logWarning","call_for_success_1","web_api_1","debug","okxLogDebug","warn","JSONStringify","JSONParse","json","numbersBiggerThanMaxInt","serializedData","parse","isCustomFormatBigInt","substring","alloc","allocUnsafe","basics_1","string","encoding","base","BASES","decoder","encoder","createCodec","ascii","charCodeAt","utf8","bases","base16","latin1","binary","isTmaPlatform","isInTelegramBrowser","sendExpand","sendOpenTelegramLink","versionCompare","initParams","locationHash","hash","urlParseHashParams","tmaPlatform","tgWebAppPlatform","getWindow","Telegram","WebApp","platform","webAppVersion","tgWebAppVersion","version","platforms","TelegramWebviewProxy","isTelegramWebview","TelegramWebview","postEvent","link","fallback","URL","pathFull","pathname","search","isIframe","versionAtLeast","path_full","parent","eventType","eventData","external","notify","trustedTarget","postMessage","indexOf","_path","urlSafeDecode","qIndex","pathParam","substr","query_params","urlParseQueryString","urlencoded","decodeURIComponent","queryString","paramName","paramValue","queryStringParams","v1","v2","a","p1","p2","v1List","v2List","max","parseInt","ver","removeUrlLastSlash","addPathToUrl","tma_api_1","path","deeplinkEncodeUrl","encodeURIComponent","fullUrl","isTelegram","newWindow","href","deepLinkOpened","timeoutDuration","downloadUrl","fallbackToDownloadPage","parameters","encodedParameters","connectParam","getLastSixMd5Hash","redirectStr","browserDebug","okxconnect","extraparams","base64ContentStr","twaDeepLink","openTelegramLink","RANDOM_LENGTH","isBrowser","hasLocalStorage","hashKey","generateRandomBytes32","tweetnacl_util_1","to_string_1","sha256_1","BASE16","hexString","byteArray","byte","buffer1","buffer2","mergedArray","subArray1","subArray2","encodeUint8Array","urlSafe","encodeBase64","decodeToUint8Array","decodeBase64","uint8Array","decodeUTF8","decodedUint8Array","encodeUTF8","scheme","global","self","randomBytes32","obj","getPrototypeOf","userAgent","navigator","maxTouchPoints","isIOSDevice","MSStream","isIPadOS","MD5","openDeeplinkWithFallback","getUserAgent","isOS","ua_parser_js_1","target","doFallback","fallbackTimeout","check","vendor","opera","results","getResult","osName","os","toLowerCase","deviceModel","device","model","browserName","browser","toUserFriendlyAddress","createVersionInfo","BrowserEventDispatcher","createTransactionSigningFailedEvent","createTransactionSignedEvent","createTransactionSentForSignatureEvent","createDisconnectionEvent","createConnectionStartedEvent","createConnectionRestoringStartedEvent","createConnectionRestoringErrorEvent","createConnectionRestoringCompletedEvent","createConnectionErrorEvent","createConnectionCompletedEvent","createResponseVersionEvent","createRequestVersionEvent","OKX_TON_CONNECTION_AND_TRANSACTION_EVENT","OKXTonConnect","okx_connect_ton_1","tracker_1","__rest","s","getOwnPropertySymbols","propertyIsEnumerable","OKXTonConnectInner","bridge_provider_1","feature_support_1","ton_connect_tracker_1","send_transaction_parser_1","bridge_connection_storage_1","_wallet","statusChangeSubscriptions","statusChangeErrorSubscriptions","storage","metaData","dappSettings","tracker","TonConnectTracker","OKXtonConnectSdkVersion","bridgeConnectionStorage","BridgeConnectionStorage","connected","closeConnection","BridgeProvider","listen","walletEventsListener","trackConnectionStarted","createConnectRequest","onWalletConnected","onWalletConnectError","onWalletDisconnected","connectEvent","tonAccountItem","items","tonProofItem","walletStateInit","connectItems","trackConnectionCompleted","connectEventError","errorsHandler","trackConnectionError","scope","trackDisconnection","onStatusChange","restoreConnection","trackConnectionRestoringStarted","fromStorage","trackConnectionRestoringError","removeConnection","trackConnectionRestoringCompleted","sendTransaction","checkConnection","checkSendTransactionSupport","features","requiredMessagesNumber","messages","trackTransactionSentForSignature","validUntil","doNotOpenWallet","openOKXWallet","sendRequest","sendTransactionParser","convertToRpcRequest","valid_until","onRequestSent","isError","trackTransactionSigningFailed","convertFromRpcResponse","trackTransactionSigned","getWallets","walletsList","okx_connect_ton_inner_1","okxConnectTonsdkinwindow","tonInner","RpcParser","rpc_parser_1","SendTransactionParser","rpcResponse","boc","storeConnection","connection","getConnection","stored","getHttpConnection","storeLastWalletEventId","lastWalletEventId","getLastWalletEventId","bridge_connection_1","listeners","connectManager","walletConnectionSource","engine","connectionStorage","isPendingConnectionHttp","tonNameSpace","requiredNamespaces","engineRequest","config","deepLink","universalUrl","trackConnectionInfoBeforeJump","connectSuccessHandle","errorMessage","disconnectMessage","itemArr","tonDeviceInfo","appName","appVersion","maxProtocolVersion","tonConnectInfo","connectionSource","successMessage","needOpenUrl","storedConnection","called","dispatchEvent","eventName","eventDetails","CustomEvent","detail","tracker_constants_1","types_1","browser_event_dispatcher_1","okx_ton_connect_sdk_lib","okx_connect_ui_lib","OKXConnectUiVersion","eventPrefix","eventDispatcher","init","setRequestVersionHandler","requestTonConnectUiVersion","dispatchUserActionEvent","trackConnectionDeepLink","createConnectionDeepLinkEvent","createConnectionInfoBeforeJumpEvent","createConnectionInfo","isTonProof","authType","wallet_address","wallet_type","wallet_version","auth_type","custom_data","chain_id","is_success","error_message","errorCode","error_code","createTransactionInfo","map","amount","signedTransaction","signed_transaction","noBounceableTag","testOnlyTag","hexAddress","testOnly","wc","parseHexAddress","tag","addr","Int8Array","addressWithChecksum","crc16","addressBase64","parts","hexToBytes","poly","reg","mask","toByteMap","ord","length2","doubled","hexSubstring","supportsDeprecatedSendTransactionFeature","address_1","OKXBtcProvider","_1","caip","getAddressForChainId","ns","checkChainId","ret","errorData","sendBitcoin","toAddress","satoshis","to","feeRate","txhash","checkParameters","signPsbt","psbtHex","signPsbts","psbtResults","psbtHexs","signAndPushPsbt","sendInscription","inscriptionId","extension","coinId","protocolId","atomicSuffix","ordinalsSuffix","endsWith","removeSuffix","scenario","txType","batchBean","coinAmount","nftId","suffix","unexistKeys","namespaceKey","OKXCosmosProvider","algo","bech32Address","pubKey","hexToUint8Array","signArbitrary","signerAddress","signDoc","account_number","sequence","fee","gas","msgs","memo","signData","signAmino","signOptions","resData","signed","signDirect","bodyBytes","authInfoBytes","accountNumber","res","messageToBuffer","arr","output","x","padStart","arrayBuffer","byteValue","isNaN","OKXTonProvider","tonWallet","sessionWallet","MAINNET","requestAccountsWithNamespace","requestParams","OKXUniversalProvider","eip155_1","sui_1","client_1","namespaces_1","solana_1","btc_1","aptos_1","ton_1","cosmos_1","opts","okxConnectUniversalinwindow","initialize","rpcProviders","providerOpts","requestParam","buildRequestParamFromRequest","getProvider","validateChain","keyArr","enable","connectOpts","requestAccounts","disconnectAndEmit","cleanup","aptosChainNameToGeneralId","replaceAptos","aptosNameSpace","realNS","replaceAptosInner","aptos","optionAptosNameSpace","optionalNamespaces","realOptionNS","defaultChain","replaceAptosGeneralIdWithNetName","replaceSessionAptos","disconnectInner","setNamespaces","setDefaultChain","rpcUrl","checkStorage","sessionInfoStr","getFromStore","createProviders","registerEventListeners","dappMetaData","SignClient","providersToCreate","parseNamespaceKey","namespacesValue","currentNameSpace","Eip155Provider","opts1","solanaProvider","sonicProvider","svmProvider","optsTon","tonProvider","optsSui","suiProvider","SuiProvider","optsBtc","btcProvider","fbProvider","aptosProvider","moveProvider","cosmosProvider","PROVIDER_EVENTS","DEFAULT_CHAIN_CHANGED","caip2ChainId","onChainChanged","UPDATE_NAMESPACES","nameSpaces","nameSpacekey","persist","icon","isChainNamespaceInSession","chainsArr","defaultNamespace","getDefaultChain","namespaceStr","caip2Chain","sessionProperties","showRequestModal","OKXUniversalProvider_1","OKXBtcProvider_1","OKXCosmosProvider_1","OKXTonProvider_1","ConnectMethodUtils_1","requestAccountItem","nameSpaceToConnectWalletNameSpace","SESSION_CONNECTING","connectMethods","connectMethodsToConnectWalletMethods","metadata","encodeParams","fillParamsToSession","connectMethodsResponseUpdate","connectSupportMethods","bs58_1","uint8array_extras_1","isRecord","methodItem","solanaSuccessData","suiMethod","requestMethod","suiMessage","suiMessageb64","aptosSignature","notSupportError","requestItem","errorItem","requireNameSpace","includeEip155","some","space","includeChain","paramsArr","firstParam","firstObj","convertedArray","b64encoded","atob","stringToUint8Array","aptosParams","currentURL","signChainId","applicationUrl","aptosChainId","stringToBase64","cosmosChain","freeze","getAccountsChains","isCaipNamespace","mergeRpcMap","targetRpcMap","sourceRpcMap","mergeNamespaces","source","rpcMap","GENERIC_SUBPROVIDER_NAME","RPC_URL","STORAGE","CONTEXT","WC_VERSION","PROTOCOL","RELAY_URL","LOGGER","JsonRpcConnection_1","JsonRpcProvider_1","AptosProvider","httpProviders","createHttpProviders","updateNamespace","getAccounts","setHttpProvider","http","parsedChainId","getChainId","parsedRpc","getRpcUrl","httpProvider","createHttpProvider","getHttpProvider","rpc","JsonRpcProvider","JsonRpcConnection","getGlobal","BtcProvider","CosmosProvider","updateRequestParams","isDic","switchChainId","decimalNumber","selectedChainId","chainNum","paramsChainId","paramsChainString","adaptArray","addressObj","isEqual","chainAddress","typedDataJson","secondObj","hexChainId","getHexChainIdFromRequest","isChainApproved","handleSwitchChain","addEthereumChain","resultData","nameSpace","rpcUrls","eip155","cross_fetch_1","core_2","DEFAULT_HTTP_HEADERS","Accept","DEFAULT_HTTP_METHOD","DEFAULT_FETCH_OPTS","headers","disableProviderPing","isAvailable","registering","register","body","parseError","IJSONRpcProvider","hasRegisteredEventListeners","setConnection","context","requestStrict","_error","SolanaProvider","getPubkey","getWalletAddress","components","TONProvider","newParams","fromAddress","IJSONRpcConnection","opt","setGlobal","globals","projectId","parseChainId","reference","convertChainIdToNumber","mergeArrays","CAIP_DELIMITER","b","_createElementBlock","_hoisted_1","_createVNode","_component_el_container","_withCtx","_component_el_header","_cache","_createTextVNode","_component_el_main","_component_el_card","class","_createElementVNode","_component_el_row","_component_el_col","span","_toDisplayString","$options","_ctx","_component_el_checkbox","modelValue","withUI","$event","onChange","handleWithUI","style","_component_el_select","modals","placeholder","handleModalsSelect","multiple","_component_el_option","label","returnStrategy","handleReturnStrategySelect","_Fragment","_renderList","returnStrategies","strategy","_createBlock","_component_el_input","deeplink","handleReturnStrategyDeeplink","disabled","_createCommentVNode","language","handleLanguageSelect","locales","locale","theme","handleThemeSelect","THEME","LIGHT","DARK","selectedMethod","handleConnectMethodsSelect","tonProofValue","gutter","align","availableChains","checked","areChainsInit","isOptionalChecked","handleOptionChange","_component_el_button","onClick","initBtnClicked","connectInitStr","connectBtnClicked","connectStatusStr","connectBtnAndSignClicked","connectAndSignStr","disconnectAction","walletAddress","disconnectStatusStr","_Teleport","showModal","closeModal","_withModifiers","_component_qrcode_vue","qrValue","level","_component_el_tabs","activeTab","onTabClick","clickActiveTab","_component_el_tab_pane","eth_requestAccounts","eth_chainId","wallet_switchEthereumChain","wallet_addEthereumChain","personal_sign","eth_signTypedData_v4","eth_sendTransaction_transfer","eth_sendTransaction_approve","eth_sendTransaction_mint","wallet_watchAsset","wallet_testRpc","eth_sendTransaction_swap","ton_getAccount","ton_sendTransaction","sol_signMessage","sol_signTransaction","sol_signVersionedTransaction","sol_signAllTransactions","sol_signAllVersionedTransactions","sol_signAndSendTransaction","sol_signAndSendVersionedTransaction","_component_SuiPanel","onGenerateTransactionParams","sui_generateTransactionParams","_component_BTCPanel","btc_generateTransactionParams","_component_FractalPanel","fractal_generateTransactionParams","aptos_signMessage","aptos_signTransaction","aptos_signAndSubmitTransaction","move_signTransaction","move_signAndSubmitTransaction","cosmos_signArbitrary","cosmos_signAmino","cosmos_signDirect","testBase64UrlSafe","xs","sm","testTransaction","rows","testboc","testTransactionStr","btc_signMessage","$setup","sendAmount","clearable","btc_send","sendSatoshisAmount","btc_sendBitcoin","btc_signPsbt_up","btc_signAndPushPsbt_up","receiver","btc_sendInscription","props","setup","ref","$emit","alert","autoFinalized","__exports__","fractal_signMessage","fractal_send","fractal_sendBitcoin","fractal_signPsbt_up","fractal_signAndPushPsbt_up","fractal_sendInscription","sui_getAccount","sui_signMessage","sui_signPersonalMessage","sui_signTransaction2","sui_signAndExecuteTransaction","sui_requestRpc","sui_signTransaction_pre_execution","sui_signAndExecuteTransaction_pre_execution","recipientAddress","SuiTransaction","coin","splitCoins","transferObjects","transactionBlock","showEffects","txBytes","txSerialize","generateTsBytesAndSerizlize","resultTuple","senderAccounts","getFullnodeUrl","suiClient","SuiClient","setSender","build","verifyADR36Amino","fromBech32","VConsole","allChains","optionChains","selectedModals","selectedReturnStrategy","selectedDeepLink","selectedLanguage","selectedTheme","QrcodeVue","BTCPanel","FractalPanel","SuiPanel","testTopic","testPublicKey","testProofPayload","pendingDeepLink","logList","connectReady","localPubKey","localSecKey","selectedChain","ProofPayloadVerify","showVerifyRow","has","selectedMethodData","isChecked","reload","computed","selectedChains","initChains","newChains","updatedChains","tab","tabName","initCall","OKXUniversalConnectUI","actionsConfiguration","uiPreferences","walletInfo","entries","uri","isPC","verifyMessage","testTonSdk","blockExplorerUrls","chainName","nativeCurrency","symbol","decimals","dataETH","dataPolygon","types","EIP712Domain","Person","Mail","primaryType","domain","verifyingContract","contents","maxPriorityFeePerGas","maxFeePerGas","gasPrice","gasLimit","image","tonUniversalLog","sendTransactionAlert","fetch","confirm","sendData","adapter","SuiAdapter","suiResult","currentSuiMethod","currentSuiTransaction","signAndExecuteTransaction","sui_verifySignature","signPersonalMessage","btcAdapter","btcResult","currentBtcMethod","currentBtcTransaction","hexToBase64","bs64Str","fractalResult","currentFractalMethod","currentFractalTransaction","hexStr","blob","Blob","reader","FileReader","onload","base64Data","readAsDataURL","datatest","firstStr","showUrl","isTwoSteps","hasEip155","hasSolana","hasSui","hasBtc","hasAptos","hasTon","nameSpacesChains","optSpaceChains","solanaChains","hasCosmos","suiChains","btcChains","connectMethod","connectData","requireData","includeEth","solana","cosmos","tonParams","ton","sui","btc","optData","getCurrentSelectedMethodData","openModal","methodList","suiData","currentMethod","userAgentInfo","Agents","flag","isSafariOrChrome","pubkey","OKXSolanaProvider","result1","nacl","PublicKey","toBytes","AptosConfig","Network","Aptos","simple","sender","functionArguments","Connection","getSolConnect","blockhash","getLatestBlockhash","versionedTransactionMessage","TransactionMessage","payerKey","recentBlockhash","instructions","SystemProgram","transfer","fromPubkey","toPubkey","lamports","compileToV0Message","VersionedTransaction","signAndSendTransaction","signAllTransactions","Transaction","feePayer","isValid","cosmos_verifySignArbitrary","pub_key","signer","prefixStr","signatureBuffer","uint8Signature","pubKeyValueBuffer","pubKeyUint8Array","uiOptions","eth_verifyMessage","ethAddress","originalMessage","recoveredAddress","ethers","verifyList","requestItme","ethMessage","solanaMessage","verifySol","aptosMessage","aptosPublicKey","cosmosAddress","cosmosMessage","signatureResult","resultObj","verifyPersonalMessageSignature","toSuiAddress","toBase64","created","mounted","scriptTag","createElement","src","getElementsByTagName","appendChild","title","render","app","createApp","App","use","ElementPlus","mount","_i","__defProp","__defProps","defineProperties","__getOwnPropDescs","getOwnPropertyDescriptors","__getOwnPropSymbols","__getProtoOf","__hasOwnProp","__propIsEnum","__reflectGet","Reflect","__defNormalProp","__spreadValues","a2","prop","__spreadProps","__publicField","__superGet","cls","__async","__this","__arguments","e2","throw","Symbol","toStringTag","core","tonsdk","UAParser","cn","deepmerge","universalProvider","_interopDefaultLegacy","UAParser__default","cn__default","deepmerge__default","THEME2","OKXConnectUiError","sharedConfig","registry","effects","getContextId","count","getNextContextId","num","len","equalFn","$PROXY","SUPPORTS_PROXY","Proxy","$TRACK","signalOptions","equals","runEffects","runQueue","STALE","PENDING","UNOWNED","owned","cleanups","owner","Owner","Transition$1","Listener","Updates","Effects","ExecCount","createRoot","detachedOwner","unowned","current","root","updateFn","untrack","cleanNode","runUpdates","createSignal","s2","observers","observerSlots","comparator","setter","value2","writeSignal","readSignal","createComputed","c2","createComputation","updateComputation","createRenderEffect","createEffect","runUserEffects","user","createMemo","batch","onMount","onCleanup","getListener","getOwner","runWithOwner","o2","prev","prevListener","handleError","createContext","defaultValue","Provider","createProvider","useContext","children","children2","resolveChildren","toArray","sources","updates","lookUpstream","sSlot","sourceSlots","node","isComp","i2","TransitionRunning","running","disposed","tState","pure","markDownstream","time","runComputation","nextValue","updatedAt","runTop","suspense","inFallback","ancestors","wait","completeUpdates","queue","userLength","ignore","pop","obs","n2","tOwned","castError","cause","createComponent","Comp","trueFn","propTraps","property","deleteProperty","ownKeys","resolveSource","resolveSources","mergeProps","proxy","sourcesMap","defined","sourceKeys","getOwnPropertyNames","i3","sources2","definedKeys","splitProps","blocked","flat","otherObject","objects","propName","isDefaultDesc","objectIndex","narrowedError","Show","keyed","condition","when","child","Switch","conditions","evalConditions","conds","cond","Match","booleans","Properties","ChildProperties","Aliases","className","htmlFor","PropAliases","formnovalidate","$","BUTTON","INPUT","ismap","IMG","nomodule","SCRIPT","playsinline","VIDEO","readonly","TEXTAREA","getPropAlias","tagName","DelegatedEvents","SVGElements","SVGNamespace","xlink","xml","reconcileArrays","parentNode","bLength","aEnd","bEnd","aStart","bStart","after","nextSibling","insertBefore","remove","t2","replaceChild","$$EVENTS","element","disposer","dispose","insert","firstChild","textContent","template$1","html","isImportNode","isSVG","innerHTML","importNode","cloneNode","delegateEvents","eventNames","document2","l2","eventHandler","setAttribute","removeAttribute","setAttributeNS","removeAttributeNS","setBoolAttribute","handler","delegate","handlerFn","classList","classKeys","prevKeys","toggleClassKey","classValue","nodeStyle","cssText","removeProperty","setProperty","spread","skipChildren","prevProps","insertExpression","arg","accessor","marker","initial","skipRef","assignProp","toPropertyName","w","toUpperCase","classNames","trim","nameLen","toggle","isCE","isProp","isChildProp","propAlias","forceProp","h2","nodeName","oriTarget","oriCurrentTarget","currentTarget","retarget","handleNode","cancelBubble","host","_$host","contains","walkUpTree","composedPath","unwrapArray","multi","nodeType","createTextNode","cleanChildren","currentArray","normalizeIncomingArray","appendNodes","normalized","unwrap2","dynamic","replacement","inserted","el","isParent","SVG_NAMESPACE","createElementNS","Portal","useShadow","hydrating","HTMLHeadElement","clean","setClean","container","renderRoot","attachShadow","mode","removeChild","Dynamic","others","cached","component","isSvg","querySelector","_goober","head","l","e3","t3","c","u2","d","r2","t4","exec","shift","unshift","f","g","reduce","e4","u","raw","h","ThemeContext","ThemeProvider","useTheme","makeStyled","Styled","withTheme","clone","pClass","append","className2","Boolean","local","newProps","htmlProps","createTag","as","styled","createGlobalStyles","globalStylesTag","disableScrollClass","usingMouseClass","GlobalStyles","Styles","hexToRgb","bigint","rgba","color","opacity","toPx","_InMemoryStorage","getInstance","instance","_a2","removeItem","InMemoryStorage","uniq","window2","getWindow$1","maxWidth","mobile","tablet","isDevice","width","innerWidth","isMobile2","media","mediaTouch","mediaNotTouch","isMobile","setIsMobile","updateIsMobile","eqWalletName","wallet1","inTg","showTonTgWallet","showTgNameSpace","showUniversalTgWalletByRequestNameSpaces","optionalNameSpace","EqnameSpace","showUniversalTgWalletBySessionNameSpaces","sessionNameSpace","nameSpaceMap","every","defaultOpenUniversalLink","defaultOpenTonUniversalLink","isAppWallet","openUniversalWallet","twaReturnUrl","openWallet","openTonWallet","universalLink","openWalletForUIRequest","getSystemTheme","matchMedia","subscribeToThemeChange","disableScroll","documentElement","scrollHeight","clientHeight","top","scrollTop","enableScroll","scrollTo","parseFloat","getComputedStyle","fixMobileSafariActiveTransition","hasAttribute","defineStylesRoot","customElements","define","HTMLElement","createMacrotask","requestAnimationFrame","createMacrotaskAsync","preloadImages","images","img","Image","tryGetLocalStorage","isLocalStorageAvailable","isNodeJs","process","versions","_b2","_c2","toDeeplink","WalletInfoStorage","storageKey","setWalletInfo","getWalletInfo","walletInfoString","removeWalletInfo","LastSelectedWalletInfoStorage","setLastSelectedWalletInfo","getLastSelectedWalletInfo","removeLastSelectedWalletInfo","tonWalletsModalState","setTonWalletsModalState","status","closeReason","tonSingleWalletModalState","setTonSingleWalletModalState","getTonSingleWalletModalIsOpened","getTonSingleWalletModalWalletInfo","lastSelectedWalletInfoStorage$1","lastTonSelectedWalletInfo","_setLastTonSelectedWalletInfo","setLastTonSelectedWalletInfo","tonAction","setTonAction","ImagePlaceholder","div","colors","background","secondary","imgRef","setImage","alt","complete","r$","_ref$","borders$2","none","scaleValues","ButtonStyled$1","button","leftIcon","rightIcon","appearance","tint","accent","text","primary","borderRadius","scale","useDataAttributes","dataAttrs","Button","onMouseEnter","onMouseLeave","nextFrame","Transition","first","s1","set1","set2","resolved","onBeforeEnter","onEnter","onAfterEnter","onBeforeExit","onExit","onAfterExit","classnames","enterActiveClass","enterClass","enterToClass","exitActiveClass","exitClass","exitToClass","enterTransition","el2","appear","endTransition","enterActiveClasses","enterToClasses","exitTransition","enterClasses","exitClasses","exitActiveClasses","exitToClasses","clickOutside$1","escPressed","onKeyPress","activeElement","blur","androidBackHandler$1","isEnabled","userOSIsAndroid","history","pushState","ROUTE_STATE","popstateHandler","preventDefault","ROUTE_STATE_KEY","back","_tmpl$$g","rotationDegrees","left","right","bottom","ArrowIcon","fill","direction","Svg","props2","svgDirection","xmlns","height","viewBox","_el$","_tmpl$$f","CloseIcon","_el$2","_tmpl$$e","TonIcon","_tmpl$$d","_tmpl$2$3","_tmpl$3$2","SuccessIcon","size2","_el$3","_el$4","_p$","_v$","_v$2","_v$3","constant","white","_el$5","_el$6","_el$7","_v$4","_v$5","_v$6","_el$8","_el$9","_el$10","_v$7","_v$8","_v$9","_tmpl$$c","_tmpl$2$2","_tmpl$3$1","ErrorIcon","_tmpl$$b","_tmpl$2$1","_tmpl$3","LoaderIcon","tertiary","rotateAnimation","svgClass","_tmpl$$a","QuestionIcon","_tmpl$$9","RetryIcon","_tmpl$$8","QRIcon","IconButtonStyled","IconButton","borders$1","ModalBackgroundStyled","ModalWrapperClass","ModalBodyStyled","CloseButtonStyled","AnimationTimelineNoop","_AnimationNoop","_instance","cancel","finish","pause","play","reverse","_type","_listener","_options","_event","_callback","updatePlaybackRate","_playbackRate","commitStyles","AnimationNoop","animate","keyframes","_tmpl$$7","clickOutside","keyPressed","androidBackHandler","Modal","opened","duration","firstElementChild","transform","backgroundAnimation","contentAnimation","all","finished","wrapperBorderRadius","sliderBorderRadius","segment","isActive","backgroundBorders","imageBorders","qrNormalSize","imgSizeDefault","picSizeDefault","qrPaddingTop","CopyIconButton","QrCodeBackground","qr","QrCodeWrapper$1","qrFill","ImageBackground","ImageStyled$2","qrcode$1","module2","qrcode2","qrcode3","typeNumber","errorCorrectionLevel","PAD0","PAD1","_typeNumber","_errorCorrectionLevel","QRErrorCorrectionLevel","_modules","_moduleCount","_dataCache","_dataList","_this","makeImpl","maskPattern","moduleCount","modules","row","col","setupPositionProbePattern","setupPositionAdjustPattern","setupTimingPattern","setupTypeInfo","setupTypeNumber","createData","mapData","getBestMaskPattern","minLostPoint","pattern","lostPoint","QRUtil","getLostPoint","pos","getPatternPosition","getBCHTypeNumber","getBCHTypeInfo","inc","bitIndex","byteIndex","maskFunc","getMaskFunction","dark","createBytes","rsBlocks","offset2","maxDcCount","maxEcCount","dcdata","ecdata","dcCount","dataCount","ecCount","totalCount","getBuffer","rsPoly","getErrorCorrectPolynomial","rawPoly","qrPolynomial","getLength","modPoly","modIndex","getAt","totalCodeCount","typeNumber2","errorCorrectionLevel2","dataList","QRRSBlock","getRSBlocks","qrBitBuffer","put","getMode","getLengthInBits","write","totalDataCount","putBit","addData","newData","qrNumber","qrAlphaNum","qr8BitByte","qrKanji","isDark","getModuleCount","make","createTableTag","cellSize","margin","qrHtml","createSvgTag","mc","mr","rect","qrSvg","scalable","escapeXml","createDataURL","min2","max2","createImgTag","escaped","charAt","_createHalfASCII","r1","blocks","blocksLastLineNoMargin","createASCII","black","line","renderTo2dContext","fillStyle","fillRect","stringToBytesFuncs","stringToBytes","createStringToBytes","unicodeData","numChars","unicodeMap","bin","base64DecodeInputStream","read","unicodeMap2","b0","b1","b2","b3","unknownChar","QRMode","MODE_NUMBER","MODE_ALPHA_NUM","MODE_8BIT_BYTE","MODE_KANJI","L","M","Q","H","QRMaskPattern","PATTERN000","PATTERN001","PATTERN010","PATTERN011","PATTERN100","PATTERN101","PATTERN110","PATTERN111","PATTERN_POSITION_TABLE","G15","G18","G15_MASK","getBCHDigit","digit","errorCorrectLength","multiply","QRMath","gexp","qrcode4","sameCount","darkCount","ratio","abs","EXP_TABLE","LOG_TABLE","shift2","_num","_num2","num2","glog","RS_BLOCK_TABLE","qrRSBlock","_this2","getRsBlockTable","rsBlock","list","_buffer","_length","bufIndex","bit","_mode","_data","data2","strToNum","chatToNum","getCode","_bytes","byteArrayOutputStream","writeByte","base64EncodeOutputStream","_buflen","_base64","writeEncoded","flush","padlen","_str","_pos","gifImage","_width","_height","pixel","out","writeString","writeShort","lzwMinCodeSize","raster","getLZWRaster","writeBytes","bitOutputStream","_out","_bitLength","_bitBuffer","clearCode","endCode","bitLength","table","lzwTable","byteOut","bitOut","dataIndex","toByteArray","_map","_size","getPixel","gif","setPixel","base64","toUTF8Array","charcode","factory","qrcode","_tmpl$$6","QRCode","qrCodeCanvasRef","qrCodeWrapperRef","imageRef","picSize","setPicSize","sourceUrl","qrSize","clientWidth","round","imgSize","ceil","imgOffset","_ref$2","imageUrl","_ref$3","easing","$RAW","$NODE","$HAS","$SELF","wrap$1","proxyTraps$1","isWrappable","proto","unwrap","unwrapped","isFrozen","getNodes","nodes","getNode","internal","proxyDescriptor$1","trackSelf","tracked","deleting","mergeStoreNode","updateArray","updatePath","traversed","part","partType","concat","by","createStore","store","unwrappedStore","wrappedStore","setStore","deepReadObject","template","createI18nContext","lang","setLocale","dict","setDict","translate","actions","lang2","I18nContext","useI18n","TextStyled$2","fontWeight","fontSize","lineHeight","Text","inputs","textRef","cursor","translationKey","translationValues","ImageContainer","ImageStyled$1","WalletImage","borders","badgeBorders","colorPrimary","H1Styled$2","h1","H1","H2Styled$1","H2","H3Styled","h3","H3","containerBorders","walletBorders","maxHeight","isShown","windowHeight","setWindowHeight","innerHeight","AStyled","Link","attributes","blank","rel","_tmpl$$5","CopyIcon","_tmpl$$4","DisconnectIcon","copyToClipboard","clipboard","writeText","fallbackCopyTextToClipboard","textArea","position","focus","select","execCommand","hoverBorders","dropdownBorders","AccountButtonDropdownStyled","UlStyled","ul","MenuButtonStyled","OKXConnectUiContext","_tmpl$$3","MenuItemText","AccountButtonDropdown","tonConnectUi","isCopiedShown","setIsCopiedShown","onCopy","userFriendlyAddress","onDisconnect","AccountButtonStyled","connectButton","foreground","DropdownButtonStyled","LoaderButtonStyled","LoaderIconStyled","DropdownContainerStyled","DropdownStyled","min","createCoords","getSide","placement","getAlignment","getOppositeAxis","axis","getAxisLength","getSideAxis","getAlignmentAxis","rectToClientRect","computeCoordsFromPlacement","_ref","rtl","floating","sideAxis","alignmentAxis","alignLength","side","isVertical","commonX","commonY","commonAlign","coords","computePosition$1","middleware","platform2","validMiddleware","isRTL","rects","getElementRects","statefulPlacement","middlewareData","resetCount","nextX","nextY","reset","initialPlacement","elements","hasWindow","getNodeName","isNode","_node$ownerDocument","ownerDocument","defaultView","getDocumentElement","Node","isElement","Element","isHTMLElement","isShadowRoot","ShadowRoot","isOverflowElement","overflow","overflowX","overflowY","display","getComputedStyle$1","isTableElement","isTopLayer","selector","isContainingBlock","elementOrCss","webkit","isWebKit","css","perspective","containerType","backdropFilter","willChange","contain","getContainingBlock","currentNode","getParentNode","isLastTraversableNode","CSS","supports","getNodeScroll","scrollLeft","scrollX","scrollY","assignedSlot","getNearestOverflowAncestor","getOverflowAncestors","traverseIframes","_node$ownerDocument2","scrollableAncestor","isBody","win","frameElement","getFrameElement","visualViewport","getCssDimensions","hasOffset","offsetWidth","offsetHeight","shouldFallback","unwrapElement","contextElement","getScale","domElement","getBoundingClientRect","isFinite","noOffsets","getVisualOffsets","offsetLeft","offsetTop","shouldAddVisualOffsets","isFixed","floatingOffsetParent","includeScale","isFixedStrategy","offsetParent","clientRect","visualOffsets","offsetWin","currentWin","currentIFrame","iframeScale","iframeRect","clientLeft","paddingLeft","clientTop","paddingTop","convertOffsetParentRelativeRectToViewportRelativeRect","topLayer","scroll","offsets","isOffsetParentAnElement","offsetRect","getClientRects","getWindowScrollBarX","leftScroll","getDocumentRect","scrollWidth","getViewportRect","visualViewportBased","getInnerBoundingClientRect","getClientRectFromClippingAncestor","clippingAncestor","hasFixedPositionAncestor","stopNode","getClippingElementAncestors","cachedResult","currentContainingBlockComputedStyle","elementIsFixed","computedStyle","currentNodeIsContaining","shouldDropCurrentNode","ancestor","getClippingRect","boundary","rootBoundary","elementClippingAncestors","clippingAncestors","firstClippingAncestor","clippingRect","accRect","getDimensions","getRectRelativeToOffsetParent","htmlX","htmlY","htmlRect","isStaticPositioned","getTrueOffsetParent","polyfill","rawOffsetParent","getOffsetParent","svgOffsetParent","getOffsetParentFn","getDimensionsFn","floatingDimensions","observeMove","onMove","io","_io","refresh","skip","threshold","insetTop","insetRight","insetBottom","insetLeft","rootMargin","isFirstUpdate","handleObserve","intersectionRatio","IntersectionObserver","observe","autoUpdate","update","ancestorScroll","ancestorResize","elementResize","ResizeObserver","layoutShift","animationFrame","referenceEl","passive","cleanupIo","frameId","reobserveFrame","resizeObserver","firstEntry","unobserve","cancelAnimationFrame","_resizeObserver","prevRefRect","frameLoop","nextRefRect","_resizeObserver2","computePosition","mergedOptions","platformWithCache","F","whileElementsMounted","ConnectorContext","UniversalConnectorContext","_tmpl$$2","AccountButton","tonConnectUI","isOpened","setIsOpened","setAccount","restoringProcess","setRestoringProcess","dropDownRef","setFloating","anchor","setAnchor","normalizedAddress","acc","connectionRestored","unsubscribe","clickToButton","clickToDropdown","_$owner","hidden","appState","setAppState","buttonRootId","StyledModal","H1Styled$1","MobileConnectionModalStyled$1","BodyStyled$1","isDeclined","StyledIconButton","H2Styled","QrCodeWrapper","LoaderWrapper","addReturnStrategy","newUrl","addQueryParameter","lastParam","lastIndexOf","openLinkOnPhone","redirectToWallet","setOpenMethod","linkWitStrategy","useDeepLink","forceRedirect","parsed","searchParams","_tmpl$$1","_tmpl$2","OKXLoaderIconWithLogo","LoaderContainerStyled$1","LoaderStyled","OKIconStyle","OKXIconWithLogo","OKXLoaderIcon","RotatingSVG","svg","MobileConnectionQR","sessionConnecting","disableCopy","H1StyledMaxWidth","H1StyledRetry","RetryButtonStyle","LoaderContainerStyled","ErrorIconStyled","ButtonsContainerStyled","ButtonsQRContainerStyled","TextStyled$1","contrast","ContainedButton","ContainedPrimaryButton","border","ContainedPrimaryButtonText","FooterStyled","ImageStyled","FooterButton","FooterButtonCenter","ConnectAppTgModalPage","onConnectApp","onConnectMini","LoadingModalPage","loadingTextTranslationKey","loadingText","Translation","_tmpl$","OKXLogo","disable","_el$11","ModalFooter","aboutUrl","ModalRetryButton","onRetry","ConnectionDeclinedModalPage","showRetry","ContinueInWalletModalPage","onOpenQR","MobileConnectionModal","firstClick","setFirstClick","showQR","setShowQR","connectClicked","setConnectClicked","showAppAndTgState","isSingleWallet","appDeepLink","setAppDeepLink","miniUniversalLink","setMiniUniversalLink","qrLink","setQrLink","okxConnectUI","universalLinkParams","qrLink2","appConnectEncodeParams","appDeepLink2","encodeTGParams","tgUrl","connectError","onCloseQR","onBack","onBackClick","backDisabled","MobileConnectionModalStyled","BodyStyled","DesktopConnectionModal","walletType","setWalletType","SingleWalletModal","loadingBeforeConnect","lastSelectedWalletInfo","TonSingleWalletModal","setConnectError","setSessionConnecting","additionalRequestLoading","connectRequestParameters","setUniversalLinkParams","customEvent","additionalRequest","handleConnect","actionConfiguration","common$j","retry","button$j","connectWallet","dropdown","copy","copied","notifications$j","transactionSent","transactionCanceled","walletModal$j","mobileConnectionModal","OKXConnect","scanQR","continueIn","connectionDeclined","PoweredBy","appAndTelegram","connectApp","connectMini","actionModal$j","confirmTransaction","en","common","notifications","walletModal","actionModal","common$i","button$i","notifications$i","walletModal$i","actionModal$i","ru","common$h","button$h","notifications$h","walletModal$h","actionModal$h","zh_CN","common$g","button$g","notifications$g","walletModal$g","actionModal$g","ar_AE","common$f","button$f","notifications$f","walletModal$f","actionModal$f","cs_CZ","common$e","button$e","notifications$e","walletModal$e","actionModal$e","de_DE","common$d","button$d","notifications$d","walletModal$d","actionModal$d","es_ES","common$c","button$c","notifications$c","walletModal$c","actionModal$c","es_LAT","common$b","button$b","notifications$b","walletModal$b","actionModal$b","fr_FR","common$a","button$a","notifications$a","walletModal$a","actionModal$a","id_ID","common$9","button$9","notifications$9","walletModal$9","actionModal$9","it_IT","common$8","button$8","notifications$8","walletModal$8","actionModal$8","nl_NL","common$7","button$7","notifications$7","walletModal$7","actionModal$7","pl_PL","common$6","button$6","notifications$6","walletModal$6","actionModal$6","pt_BR","common$5","button$5","notifications$5","walletModal$5","actionModal$5","pt_PT","common$4","button$4","notifications$4","walletModal$4","actionModal$4","ro_RO","common$3","button$3","notifications$3","walletModal$3","actionModal$3","tr_TR","common$2","button$2","notifications$2","walletModal$2","actionModal$2","uk_UA","common$1","button$1","notifications$1","walletModal$1","actionModal$1","vi_VN","zh_TW","i18nDictionary","en_US","parseDictionary","ru_RU","zh","dictionary","refSymbol","iterate","subDictionary","defaultLightColorsSet","telegramButton","defaultDarkColorsSet","themeState","setThemeState","themeColorsMappingDefault","setTheme","ActionModalStyled","H1Styled","TextStyled","ButtonStyled","ActionModal","connectUI","sent","setSent","action","ActionsModalContext","currentAction","onOpenWallet","headerTranslationKey","headerTranslationValues","textTranslationKey","textTranslationValues","showActionButton","showButton","ConfirmTransactionModal","walletName","TransactionCanceledModal","TransactionSentModal","ActionsModal","setAction","TONApp","translations","contextType","tonConnector","getElementById","universalWalletsModalState","setUniversalWalletsModalState","universalSingleWalletModalState","setUniversalSingleWalletModalState","getUniversalSingleWalletModalIsOpened","getUniversalSingleWalletModalWalletInfo","lastSelectedWalletInfoStorage","lastUniversalSelectedWalletInfo","_setLastUniversalSelectedWalletInfo","setLastUniversalSelectedWalletInfo","universalAction","setUniversalAction","UniversalSingleWalletModal","universalConnectRequestParameters","UniversalApp","universalConnector","tonWidgetController","openSingleWalletModal","closeSingleWalletModal","clearAction","getSelectedWalletInfo","removeSelectedWalletInfo","renderApp","renderUniversalApp","isObject","isPlainObject","ctor","prot","mergeOptions","defaultOptions","overwriteMerge","sourceArray","__","arrayMerge","isMergeableObject","TransactionModalManager","consumers","consumer","onStateChange","OKX_UI_CONNECTION_AND_TRANSACTION_EVENT","OKX_UI_CONNECTION_AND_TRANSACTION_EVENT2","OKXTonConnectUITracker","tonConnectUiVersion","requestTonConnectSdkVersion","TonSingleWalletModalManager","getWalltsInfo","fetchedWalletsList","externalWallets","externalWallet","validLocales","isValidLocale","OKXTonConnectUIInner","singleWalletModal","transactionModal","rootId","normalizeWidgetRoot","subscribeToWalletChange","walletInfoStorage","preferredWalletAppName","checkButtonRootExist","systemThemeChangeUnsubscribe","_a3","_b3","merged","destory","setConnectRequestParameters","connectRequestParametersCallback","waitForWalletConnection","onStatusChangeHandler","onErrorsHandler","onModalStateChange","onSingleWalletModalStateChange","modalState","singleWalletModalState","sendTransactionInner","getModalsAndNotificationsConfiguration","abortController","AbortController","onTransactionModalStateChange","waitForSendTransaction","onTransactionHandler","transaction2","onCanceledHandler","updateWalletInfo","setPreferredWalletAppName","fullLastSelectedWalletInfo","rootElement","allActions","OKXTonConnectUI","okxConnectTonUIinwindow","okxTonConnectUI","universalWidgetController","Signal","trigger","UniversalSingleWalletModalManager","connectSignal","resultOrError","getConnectWallet","_d2","_e2","reqArgs","okxConnectUniversalUIinwindow","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","module","loaded","__webpack_modules__","amdO","deferred","O","chunkIds","priority","notFulfilled","Infinity","splice","getter","definition","globalThis","Function","nmd","paths","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","chunkLoadingGlobal","__webpack_exports__"],"sourceRoot":""}