{"version":3,"file":"js/app.64a08059.js","mappings":"oDACAA,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQE,8BAAgCF,EAAQG,wBAA0BH,EAAQI,uBAAyBJ,EAAQK,qBAAuBL,EAAQM,mBAAqBN,EAAQO,uBAAyBP,EAAQQ,qBAAuBR,EAAQS,yBAAsB,EAErQT,EAAQS,oBAAsB,OAC9BT,EAAQQ,qBAAuB,QAC/BR,EAAQO,uBAAyB,UACjCP,EAAQM,mBAAqB,YAC7BN,EAAQK,qBAAuB,cAC/BL,EAAQI,uBAAyB,UACjCJ,EAAQG,wBAA0B,gBAClCH,EAAQE,8BAAgC,oB,qCCX5BQ,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAACA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OACb,IAAIC,EAAmBC,MAAQA,KAAKD,kBAAqBb,OAAOe,OAAU,SAASC,EAAGC,EAAGC,EAAGC,QAC7EC,IAAPD,IAAkBA,EAAKD,GAC3B,IAAIG,EAAOrB,OAAOsB,yBAAyBL,EAAGC,GACzCG,KAAS,QAASA,GAAQJ,EAAEM,WAAaF,EAAKG,UAAYH,EAAKI,gBAClEJ,EAAO,CAAEK,YAAY,EAAMC,IAAK,WAAa,OAAOV,EAAEC,EAAI,IAE5DlB,OAAOC,eAAee,EAAGG,EAAIE,EACjC,EAAM,SAASL,EAAGC,EAAGC,EAAGC,QACTC,IAAPD,IAAkBA,EAAKD,GAC3BF,EAAEG,GAAMF,EAAEC,EACd,GACIU,EAAsBd,MAAQA,KAAKc,qBAAwB5B,OAAOe,OAAU,SAASC,EAAGa,GACxF7B,OAAOC,eAAee,EAAG,UAAW,CAAEU,YAAY,EAAMvB,MAAO0B,GACnE,EAAK,SAASb,EAAGa,GACbb,EAAE,WAAaa,CACnB,GACIC,EAAgBhB,MAAQA,KAAKgB,cAAiB,SAAUC,GACxD,GAAIA,GAAOA,EAAIR,WAAY,OAAOQ,EAClC,IAAIC,EAAS,CAAC,EACd,GAAW,MAAPD,EAAa,IAAK,IAAIb,KAAKa,EAAe,YAANb,GAAmBlB,OAAOiC,UAAUC,eAAeC,KAAKJ,EAAKb,IAAIL,EAAgBmB,EAAQD,EAAKb,GAEtI,OADAU,EAAmBI,EAAQD,GACpBC,CACX,EACII,EAAatB,MAAQA,KAAKsB,WAAc,SAAUC,EAASC,EAAYC,EAAGC,GAC1E,SAASC,EAAMtC,GAAS,OAAOA,aAAiBoC,EAAIpC,EAAQ,IAAIoC,GAAE,SAAUG,GAAWA,EAAQvC,EAAQ,GAAI,CAC3G,OAAO,IAAKoC,IAAMA,EAAII,WAAU,SAAUD,EAASE,GAC/C,SAASC,EAAU1C,GAAS,IAAM2C,EAAKN,EAAUO,KAAK5C,GAAS,CAAE,MAAO6C,GAAKJ,EAAOI,EAAI,CAAE,CAC1F,SAASC,EAAS9C,GAAS,IAAM2C,EAAKN,EAAU,SAASrC,GAAS,CAAE,MAAO6C,GAAKJ,EAAOI,EAAI,CAAE,CAC7F,SAASF,EAAKd,GAAUA,EAAOkB,KAAOR,EAAQV,EAAO7B,OAASsC,EAAMT,EAAO7B,OAAOgD,KAAKN,EAAWI,EAAW,CAC7GH,GAAMN,EAAYA,EAAUY,MAAMf,EAASC,GAAc,KAAKS,OAClE,GACJ,EACA/C,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQmD,wBAAqB,EAC7B,MAAMC,EAAc1C,EAAQ,OACtB2C,EAAqB3C,EAAQ,OAC7B4C,EAAY5C,EAAQ,OACpB6C,EAAU7C,EAAQ,OAClB8C,EAAU9C,EAAQ,OAClB+C,EAAkB/C,EAAQ,OAC1BgD,EAAM9B,EAAalB,EAAQ,QAC3BiD,EAAajD,EAAQ,OACrBkD,GAAK,EAAIJ,EAAQK,kCACvB,MAAMV,EACFW,WAAAA,CAAYC,GAQR,GAPAnD,KAAKoD,OAAS,IAAIP,EAAgBQ,aAClCrD,KAAKsD,MAAQd,EAAYe,eAAeC,UACxCxD,KAAKyD,iBAAmB,EAExBzD,KAAK0D,WAAa,EAElB1D,KAAK2D,aAAe,MACf,EAAIf,EAAQgB,YAAYT,GACzB,MAAM,IAAIU,MAAM,0BAA0BV,KAE9CnD,KAAKmD,IAAMA,EACXnD,KAAK8D,eAAiB,KACtB9D,KAAK+D,uBAAyB,KAC9B/D,KAAKgE,kBAAoB,IAAItB,EAAUuB,QAAQxB,EAAmByB,uBAAyBzB,EAAmByB,uBAClH,CACA,cAAIC,GACA,OAAOnE,KAAKsD,OAASd,EAAYe,eAAea,UACpD,CAEAC,SAAAA,CAAUnC,GACN,GAAsB,qBAAXA,EAAEoC,KAAb,CAIA,GAFAxB,EAAIyB,SAAS,qBACbzB,EAAIyB,SAASrC,GACS,kBAAXA,EAAEoC,KAAmB,CAC5B,IAAIE,EAAMtC,EAAEoC,KACZ,GAAY,SAARE,EAEA,YADA1B,EAAIyB,SAAS,yBAAyBE,KAAKC,MAAMC,aAGzD,CACA3E,KAAKoD,OAAOwB,KAAK,UAAW1C,EAAEoC,KAVpB,CAWd,CACAO,OAAAA,CAAQC,GACJ,IAAIC,EACJjC,EAAIyB,SAAS,sBAA8C,QAAtBQ,EAAK/E,KAAKgF,cAA2B,IAAPD,OAAgB,EAASA,EAAG5B,IAAK2B,EAAMG,MAC1GjF,KAAKgF,YAAS1E,EACdN,KAAKoD,OAAOwB,KAAK,QAASE,EAC9B,CACAI,OAAAA,CAAQC,EAAIjD,GACR,MAAMkD,EAAU,CAAED,GAAIA,EAAIE,IAAKnD,EAAEyC,YACjC3E,KAAKoD,OAAOwB,KAAK,UAAWQ,EAChC,CACAE,MAAAA,CAAON,GACHA,EAAOO,UAAaT,GAAU9E,KAAKqE,UAAUS,GAC7CE,EAAOQ,QAAWV,GAAU9E,KAAK6E,QAAQC,GACzC9E,KAAKgF,OAASA,EACdhF,KAAKsD,MAAQd,EAAYe,eAAekC,UACxCzF,KAAKoD,OAAOwB,KAAK,OACrB,CAEAc,SAAAA,CAAUC,GACN3F,KAAKoD,OAAOwB,KAAK,OAAQe,EAC7B,CAEAC,SAAAA,GACI,OAAOtE,EAAUtB,UAAM,OAAQ,GAAQ,YAInC,GAHIA,KAAK8D,gBACL+B,aAAa7F,KAAK8D,gBAElB9D,KAAKsD,OAASd,EAAYe,eAAekC,WAAazF,KAAKsD,OAASd,EAAYe,eAAeuC,SAInG,GAAK9F,KAAKgF,QAcV,GAAIhF,KAAKgF,OAAOe,aAAeC,UAAUC,KAczCnD,EAAIyB,SAAS,yBAAyBE,KAAKC,MAAMC,eAAe3E,KAAKgF,UACrEhF,KAAKgF,OAAOkB,KAAK,QACjBlG,KAAK8D,eAAiBqC,WAAWnG,KAAK4F,UAAUQ,KAAKpG,MAAO,UAdxD,GADA8C,EAAIyB,SAAS,oBACTvE,KAAKsD,OAASd,EAAYe,eAAekC,WAAazF,KAAKsD,OAASd,EAAYe,eAAeuC,QAAS,CACxGhD,EAAIyB,SAAS,2CAA4CvE,KAAKsD,MAAOtD,KAAKgF,OAAOe,YACjF,UACU/F,KAAKqG,eACf,CACA,MAAOnE,GACHY,EAAIwD,SAAS,sBACbtG,KAAK8D,eAAiBqC,WAAWnG,KAAK4F,UAAUQ,KAAKpG,MAAO,IAChE,CACJ,OAvBA,GADA8C,EAAIyB,SAAS,oBACTvE,KAAKsD,OAASd,EAAYe,eAAekC,WAAazF,KAAKsD,OAASd,EAAYe,eAAeuC,QAAS,CACxGhD,EAAIyB,SAAS,iCACb,UACUvE,KAAKqG,eACf,CACA,MAAOnE,GACHY,EAAIwD,SAAS,sBACbtG,KAAK8D,eAAiBqC,WAAWnG,KAAK4F,UAAUQ,KAAKpG,MAAO,IAChE,CACJ,OAdA8C,EAAIyB,SAAS,mBAkCrB,GACJ,CACAgC,UAAAA,CAAWpD,EAAMnD,KAAKmD,IAAKqD,GAAU,GACjC,KAAK,EAAI5D,EAAQgB,YAAYT,GACzB,MAAM,IAAIU,MAAM,0BAA0BV,KAE9CnD,KAAKmD,IAAMA,EACNqD,GACD1D,EAAIyB,SAAS,sBAAuBvE,KAAKmD,KAAK,IAAIsB,MAAOgC,eAE7DzG,KAAKsD,MAAQd,EAAYe,eAAea,WACzB,IAAIsC,gBAAgBvD,GAAKtC,IAAI,UAC5C,OAAO,IAAIgB,SAAQ,CAACD,EAASE,KACzB,MAAMkD,EAAS,IAAIhC,EAAGG,EAAK,IAC3BL,EAAIyB,SAAS,4BAA6BvE,KAAKmD,KAAK,IAAIsB,MAAOgC,eAC/DzG,KAAK2G,kBAAkB3B,IACnB,EAAIpC,EAAQgE,wBACZ9D,EAAIyB,SAAS,4BACbS,EAAO6B,QAAU,KACb/E,EAAO,IAAI+B,MAAM,iBACjBmB,EAAO8B,OAAO,IAIlBhE,EAAIyB,SAAS,4BACbS,EAAO+B,GAAG,SAAS,KACfjF,EAAO,IAAI+B,MAAM,iBACjBmB,EAAO8B,OAAO,KAGtB9B,EAAOM,OAAS,KACZxC,EAAIyB,SAAS,iBACbvE,KAAKgH,kBAAkBxE,EAAYyE,uCAAuCC,UAC1ElH,KAAKsF,OAAON,GACZhF,KAAK4F,YACLhE,EAAQoD,EAAO,CAClB,GAET,CACAmC,aAAAA,GAEI,OADArE,EAAIyB,SAAS,uBAAwBvE,KAAK0D,WAAY,KAAMlB,EAAY4E,yBAAyBC,QAC1FrH,KAAK0D,WAAalB,EAAY4E,yBAAyBC,MAClE,CACAC,iBAAAA,GACI,OAAOhG,EAAUtB,UAAM,OAAQ,GAAQ,YACnC,IAAKA,KAAKmH,gBAAiB,CAEvBnH,KAAK0D,YAAc,EACnB,IAAI6D,EAAUvH,KAAKwH,mBAEnB,OADA1E,EAAIyB,SAAS,oBAAqBgD,GAAS,IAAI9C,MAAOgC,eAC/CzG,KAAKuG,WAAWgB,GAAS,EACpC,CAEIzE,EAAIyB,SAAS,wBAAyBvE,KAAK0D,YAAY,IAAIe,MAAOgC,cAE1E,GACJ,CACAE,iBAAAA,CAAkB3B,GACVhF,KAAK+D,wBACL/D,KAAKgH,kBAAkBxE,EAAYyE,uCAAuCQ,UAE9EzH,KAAK0H,cAAgB1C,EACrBhF,KAAK+D,uBAAyBoC,YAAW,KACjCnG,KAAK0H,eACL1H,KAAKgH,kBAAkBxE,EAAYyE,uCAAuCU,SAC9E,GACD3H,KAAK2D,aACZ,CACAqD,iBAAAA,CAAkB/B,GACd,IAAIF,EAEAE,GAAQzC,EAAYyE,uCAAuCC,WAC7B,QAA7BnC,EAAK/E,KAAK0H,qBAAkC,IAAP3C,GAAyBA,EAAG+B,MAAM7B,IAE5EjF,KAAK0H,mBAAgBpH,EAErBuF,aAAa7F,KAAK+D,uBACtB,CACA6D,qBAAAA,GACI5H,KAAKgE,kBAAkB6D,YAAY7H,KAAKyD,iBAAiBkB,WAAYlC,EAAmByB,uBAC5F,CAUAsD,gBAAAA,GAGI,OAFAxH,KAAKyD,kBAAoB,EACzBzD,KAAKyD,iBAAmBzD,KAAKyD,iBAAmBjB,EAAY4E,yBAAyBC,OAC9E7E,EAAY4E,yBAAyBpH,KAAKyD,iBACrD,CAEAqE,gBAAAA,GACI,OAAOxG,EAAUtB,UAAM,OAAQ,GAAQ,YACnC,GAAiC,YAA7B+H,SAASC,kBAETlF,EAAIyB,SAAS,eAAevE,KAAKsD,UAAUtD,KAAKgF,UAC5ChF,KAAKsD,OAASd,EAAYe,eAAekC,WAAoC,qBAAhBzF,KAAKgF,aAH1E,CAIQlC,EAAIyB,SAAS,0BACb,UACUvE,KAAKqG,eACf,CACA,MAAOnE,GACHY,EAAIwD,SAAS,qBACjB,CAGR,CACJ,GACJ,CACAD,aAAAA,GACI,OAAO/E,EAAUtB,KAAMiI,eAAW,GAAQ,UAAW9E,EAAMnD,KAAKmD,KAC5D,GAAInD,KAAKmE,WAEL,OADArB,EAAIyB,SAAS,qCACN,IAAI1C,SAAQ,CAACD,EAASE,KACzB9B,KAAKoD,OAAO8E,KAAK,QAAShG,IACtBY,EAAIyB,SAAS,4CAA6CrC,GACnDJ,EAAOI,MAElBlC,KAAKoD,OAAO8E,KAAK,QAAQ,IACK,oBAAflI,KAAKgF,OACLlD,EAAO,IAAI+B,MAAM,iBAErBjC,EAAQ5B,KAAKgF,SACtB,IAGVlC,EAAIyB,SAAS,4DACb,IAAIiC,GAAU,EACd,OAAQxG,KAAKmH,kBAAoBnH,KAAKgF,OAClC,IACIlC,EAAIyB,SAAS,+CAAgDvE,KAAK0D,WAAY8C,SACxExG,KAAKuG,WAAWpD,EAAKqD,EAC/B,CACA,MAAO2B,GACHrF,EAAIyB,SAAS,qCAAsC4D,GACnDnI,KAAK0D,YAAc,EACnBP,EAAMnD,KAAKwH,mBACXhB,GAAU,CACd,CAGJ,GADA1D,EAAIyB,SAAS,mCAAoCvE,KAAK0D,WAAY1D,KAAKgF,SAClEhF,KAAKgF,QAAUhF,KAAKmH,gBAKrB,MAJArE,EAAIyB,SAAS,2CAA4CvE,KAAK0D,WAAY1D,KAAKgF,QAC/EhF,KAAK0D,WAAa,EAClB1D,KAAKsD,MAAQd,EAAYe,eAAeuC,QACxC9F,KAAK0F,UAAU,IAAI7B,MAAM,yBACnB,IAAId,EAAWqF,gBAAgBrF,EAAWsF,wBAAwBC,iBAAkB,oBAElG,GACJ,CACAC,OAAAA,GACI,OAAOjH,EAAUtB,UAAM,OAAQ,GAAQ,YACnC,UACUA,KAAKqG,gBAEX0B,SAASS,oBAAoB,mBAAoBxI,KAAK8H,iBAAiB1B,KAAKpG,OAC5E+H,SAASU,iBAAiB,mBAAoBzI,KAAK8H,iBAAiB1B,KAAKpG,MAC7E,CACA,MAAOkC,GAEH,MADAY,EAAIyB,SAAS,+BAAgCrC,GACvCA,CACV,CACJ,GACJ,CACAwG,UAAAA,GACI,OAAOpH,EAAUtB,UAAM,OAAQ,GAAQ,YAEnC,OADAA,KAAKsD,MAAQd,EAAYe,eAAeoF,aACjC,IAAI9G,SAAQ,CAACD,EAASE,KACE,qBAAhB9B,KAAKgF,QAKhBhF,KAAKgF,OAAOQ,QAAWV,IACnB9E,KAAK6E,QAAQC,GACblD,GAAS,EAEb5B,KAAKgF,OAAO8B,QACR9G,KAAK8D,gBACL+B,aAAa7F,KAAK8D,iBATlBlC,GAUJ,GAER,GACJ,CACAgH,aAAAA,GACI,MAAO,CACHtF,MAAOtD,KAAKsD,MACZH,IAAKnD,KAAKmD,IAElB,CAIA0F,WAAAA,CAAY/D,EAAOgE,EAASC,EAASC,EAAQC,GACrCjJ,KAAKkJ,sBACLlJ,KAAKoD,OAAO+F,eAAe,UAAWnJ,KAAKkJ,sBAE/ClJ,KAAKkJ,qBAAwBhH,GAAMZ,EAAUtB,UAAM,OAAQ,GAAQ,YAC/D,IAAI+E,EACJjC,EAAIyB,SAAS,mBAAmBrC,KAChC,IAAIkH,GAAc,EAAIzG,EAAQ0G,eAAenH,GAE7C,GAAIkH,EAAYE,QAAUF,EAAYE,OAAOhF,KAAM,CAC/C,IAAIiF,EAA4C,QAAlCxE,EAAKqE,EAAYE,OAAOhF,YAAyB,IAAPS,OAAgB,EAASA,EAAGyE,QAChFC,GAAU,EACd,GAAIF,GAEIN,EAAoB,CACpB,IAAIS,QAAoBT,EAAmBG,EAAYE,OAAOhF,MAC9DmF,EAAUC,EAAYC,iBAAoBD,EAAYE,aAClDF,EAAYC,iBACRD,EAAYE,cAAgBF,EAAYE,aAAavC,OAAS,GAC9DvE,EAAIyB,SAAS,mCACbgF,EAASG,EAAYE,eAGrB9G,EAAIyB,SAAS,iCACbkF,GAAU,GAGtB,CAEJ,IAAKA,EACD,IACI,IAAIpE,EAAMyD,EAAQS,QACNjJ,IAAR+E,GACAvC,EAAIyB,SAAS,8BACbyE,EAAOlE,EAAO,sBAGdiE,EAAQjE,EAAOO,EAEvB,CACA,MAAOnD,GACHY,EAAIyB,SAAS,4BAA4BrC,KACzC8G,EAAOlE,EAAO5C,EAAEsH,QACpB,CAER,CACJ,IACAxJ,KAAKoD,OAAO2D,GAAG,UAAW/G,KAAKkJ,sBAC3BlJ,KAAK6J,aACL7J,KAAKoD,OAAO+F,eAAe,OAAQnJ,KAAK6J,aAE5C7J,KAAK6J,YAAe3H,IACZA,GACAY,EAAIyB,SAAS,mBAAmBrC,KAChC8G,EAAOlE,EAAO5C,EAAEsH,UAGhBR,EAAOlE,EAAO,gBAClB,EAEJ9E,KAAKoD,OAAO2D,GAAG,OAAQ/G,KAAK6J,YAChC,CACAC,eAAAA,CAAgBC,GACR/J,KAAKgK,gBACLhK,KAAKoD,OAAO+F,eAAe,UAAWnJ,KAAKgK,gBAE/ChK,KAAKgK,eAAkB9H,GAAMZ,EAAUtB,UAAM,OAAQ,GAAQ,YAEzD8C,EAAIyB,SAAS,iBAAgB,IAAIE,MAAOgC,kCAAkCvE,KAC1E,IAAI+H,GAAQ,EAAItH,EAAQ0G,eAAenH,SACjC6H,EAASE,EACnB,IACAjK,KAAKoD,OAAO2D,GAAG,UAAW/G,KAAKgK,eACnC,CACA9B,IAAAA,CAAKpD,EAAOoF,GACRlK,KAAKoD,OAAO8E,KAAKpD,EAAOoF,EAC5B,CACAC,GAAAA,CAAIrF,EAAOoF,GACPlK,KAAKoD,OAAO+G,IAAIrF,EAAOoF,EAC3B,CACAf,cAAAA,CAAerE,EAAOoF,GAClBlK,KAAKoD,OAAO+F,eAAerE,EAAOoF,EACtC,CACAhE,IAAAA,CAAKkE,EAAShF,GACV,OAAO9D,EAAUtB,UAAM,OAAQ,GAAQ,YACnC,IAC+B,qBAAhBA,KAAKgF,SACZlC,EAAIyB,SAAS,8BAA8Ba,WAErCgF,KAEVtH,EAAIyB,SAAS,iBAAgB,IAAIE,MAAOgC,mCAAkC,EAAI9D,EAAQ0H,mBAAmBjF,MACrGpF,KAAKgF,QACLhF,KAAKgF,OAAOkB,MAAK,EAAIvD,EAAQ0H,mBAAmBjF,GAExD,CACA,MAAOlD,GACHlC,KAAKkF,QAAQE,EAAQD,GAAIjD,EAC7B,CACJ,GACJ,CACAoI,wBAAAA,CAAyBjF,GACrB,OAAO/D,EAAUtB,UAAM,OAAQ,GAAQ,YACnC,GAAmB,qBAARqF,EACP,OACJ,IAAIkF,EAAS,CACTjB,OAAQ,CACJhF,KAAMe,IAGVmF,GAAU,EAAI7H,EAAQ0H,mBAAmBhF,GAC7CvC,EAAIyB,SAAS,kCACbzB,EAAIyB,SAASiG,GACbA,GAAU,EAAI7H,EAAQ0H,mBAAmBE,GACzCvK,KAAKoD,OAAOwB,KAAK,UAAW4F,EAChC,GACJ,CACAC,MAAAA,CAAOV,GACC/J,KAAK0K,aACL1K,KAAKoD,OAAO+F,eAAe,OAAQnJ,KAAK0K,aAE5C1K,KAAK0K,YAAc,IAAMpJ,EAAUtB,UAAM,OAAQ,GAAQ,YACrD8C,EAAIyB,SAAS,iBAAgB,IAAIE,MAAOgC,wCAClCsD,GACV,IACA/J,KAAKoD,OAAO2D,GAAG,OAAQ/G,KAAK0K,aAC5B1K,KAAK4H,uBACT,EAEJxI,EAAQmD,mBAAqBA,C,oCCpdjBzC,EAAA,OAAAA,EAAA,OAACA,EAAA,OAAAA,EAAA,OACb,IAAIC,EAAmBC,MAAQA,KAAKD,kBAAqBb,OAAOe,OAAU,SAASC,EAAGC,EAAGC,EAAGC,QAC7EC,IAAPD,IAAkBA,EAAKD,GAC3B,IAAIG,EAAOrB,OAAOsB,yBAAyBL,EAAGC,GACzCG,KAAS,QAASA,GAAQJ,EAAEM,WAAaF,EAAKG,UAAYH,EAAKI,gBAClEJ,EAAO,CAAEK,YAAY,EAAMC,IAAK,WAAa,OAAOV,EAAEC,EAAI,IAE5DlB,OAAOC,eAAee,EAAGG,EAAIE,EACjC,EAAM,SAASL,EAAGC,EAAGC,EAAGC,QACTC,IAAPD,IAAkBA,EAAKD,GAC3BF,EAAEG,GAAMF,EAAEC,EACd,GACIU,EAAsBd,MAAQA,KAAKc,qBAAwB5B,OAAOe,OAAU,SAASC,EAAGa,GACxF7B,OAAOC,eAAee,EAAG,UAAW,CAAEU,YAAY,EAAMvB,MAAO0B,GACnE,EAAK,SAASb,EAAGa,GACbb,EAAE,WAAaa,CACnB,GACIC,EAAgBhB,MAAQA,KAAKgB,cAAiB,SAAUC,GACxD,GAAIA,GAAOA,EAAIR,WAAY,OAAOQ,EAClC,IAAIC,EAAS,CAAC,EACd,GAAW,MAAPD,EAAa,IAAK,IAAIb,KAAKa,EAAe,YAANb,GAAmBlB,OAAOiC,UAAUC,eAAeC,KAAKJ,EAAKb,IAAIL,EAAgBmB,EAAQD,EAAKb,GAEtI,OADAU,EAAmBI,EAAQD,GACpBC,CACX,EACII,EAAatB,MAAQA,KAAKsB,WAAc,SAAUC,EAASC,EAAYC,EAAGC,GAC1E,SAASC,EAAMtC,GAAS,OAAOA,aAAiBoC,EAAIpC,EAAQ,IAAIoC,GAAE,SAAUG,GAAWA,EAAQvC,EAAQ,GAAI,CAC3G,OAAO,IAAKoC,IAAMA,EAAII,WAAU,SAAUD,EAASE,GAC/C,SAASC,EAAU1C,GAAS,IAAM2C,EAAKN,EAAUO,KAAK5C,GAAS,CAAE,MAAO6C,GAAKJ,EAAOI,EAAI,CAAE,CAC1F,SAASC,EAAS9C,GAAS,IAAM2C,EAAKN,EAAU,SAASrC,GAAS,CAAE,MAAO6C,GAAKJ,EAAOI,EAAI,CAAE,CAC7F,SAASF,EAAKd,GAAUA,EAAOkB,KAAOR,EAAQV,EAAO7B,OAASsC,EAAMT,EAAO7B,OAAOgD,KAAKN,EAAWI,EAAW,CAC7GH,GAAMN,EAAYA,EAAUY,MAAMf,EAASC,GAAc,KAAKS,OAClE,GACJ,EACA/C,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQuL,uBAAoB,EAC5B,MAAMC,EAAY9K,EAAQ,OACpB+K,EAAa/K,EAAQ,OACrB2C,EAAqB3C,EAAQ,OAC7BgL,EAAiBhL,EAAQ,OACzB0C,EAAc1C,EAAQ,OACtB+C,EAAkB/C,EAAQ,OAC1B4C,EAAY5C,EAAQ,OACpB6C,EAAU7C,EAAQ,OAClBiL,EAAWjL,EAAQ,OACnBkL,EAAQlL,EAAQ,OAChBmL,EAAanL,EAAQ,OACrBgD,EAAM9B,EAAalB,EAAQ,QAC3BoL,EAAQpL,EAAQ,OAChBqL,EAAWrL,EAAQ,OACnBsL,EAAQtL,EAAQ,OAChBuL,EAA4BvL,EAAQ,OAC1C,MAAM6K,EACFzH,WAAAA,CAAYoI,OAAUhL,GAClBN,KAAKoD,OAAS,IAAIP,EAAgBQ,aAClCrD,KAAKuL,aAAe,IAAIF,EAA0BG,wBAAwB,QAE1ExL,KAAKyL,eAAiB,IAAI/I,EAAUuB,QAAQxB,EAAmBiJ,4BAA8BJ,EAAS7I,EAAmBiJ,6BACzH1L,KAAK2L,OAAS,IAAIZ,EAASa,cAC3B,IAAIC,GAAQ,EAAIT,EAAMU,WAGtB,IAFA,EAAIZ,EAAM3G,UAAU,WAAYsH,GAChC/I,EAAIiJ,UAAU,8BACVF,EAAO,CAEP,MAAMG,EAAchM,KAAKiM,0BACzB,EAAIf,EAAM3G,UAAU,eAAgByH,GACpChM,KAAK2L,OAAS,IAAIZ,EAASa,cAAcI,EAC7C,CACAhM,KAAKkM,WAAalM,KAAKmM,sBACvBnM,KAAKoM,eAAepM,KAAKkM,YAEzBlM,KAAKqM,UAAY,IAAIzB,EAAUrI,mBAAmBC,EAAY8J,uBAC9DtM,KAAKuM,UAAY9H,KAAKC,MAEtB1E,KAAKwM,kBAAoB,GACzBxM,KAAKyM,aAAe,GACpB3J,EAAIyB,SAAS,yCAAyCvE,KAAKwM,oBAC/D,CACAE,gBAAAA,GACI,IAAIC,EAAUlI,KAAKC,MACfiI,GAAW3M,KAAKuM,YAChBvM,KAAKuM,UAAYI,EAAU,GAE/B3M,KAAKuM,UAAYI,CACrB,CACAC,iBAAAA,CAAkBC,GACd,IAAIC,GAAY,EAAI7B,EAAWZ,mBAAmBwC,GAElD7M,KAAKyL,eAAesB,gBAAgBD,EAAWrK,EAAmBuK,wBACtE,CACAf,sBAAAA,GAEI,MAAMgB,EAAKjN,KAAKyL,eAAeyB,cAAczK,EAAmBuK,yBAC1DG,EAAUF,EAChB,GAAsB,iBAAXE,EAAqB,CAC5BrK,EAAIyB,SAAS,0BACbzB,EAAIyB,SAAS4I,GACb,IAAInB,GAAc,EAAIf,EAAW5B,eAAe8D,GAChD,OAAOnB,CACX,CAIA,OAFIhM,KAAKyL,eAAe2B,aAEjB,IACX,CACAhB,cAAAA,CAAeS,GACX,IAAIQ,EAAa,CACbC,WAAW,EAAI3K,EAAQ4K,aAAaV,EAAQS,WAC5CE,WAAW,EAAI7K,EAAQ4K,aAAaV,EAAQW,YAEhD1K,EAAIyB,SAAS,eACb,IAAIuI,GAAY,EAAI7B,EAAWZ,mBAAmBgD,GAClDvK,EAAIyB,SAASuI,GAEb9M,KAAKyL,eAAesB,gBAAgBD,EAAWrK,EAAmBgL,qBACtE,CACAtB,mBAAAA,GACI,MAAMc,EAAKjN,KAAKyL,eAAeyB,cAAczK,EAAmBgL,sBAC1DN,EAAUF,EAChB,GAAsB,iBAAXE,EAAqB,CAE5BrK,EAAIyB,SAAS,sBACbzB,EAAIyB,SAAS4I,GACb,IAAIO,GAAiB,EAAIzC,EAAW5B,eAAe8D,GACnDrK,EAAIyB,SAAS,eACbzB,EAAIyB,SAASmJ,GACb,IAAIb,EAAU,CACVS,WAAW,EAAI3K,EAAQgL,gBAAgBD,EAAeJ,WACtDE,WAAW,EAAI7K,EAAQgL,gBAAgBD,EAAeF,YAE1D,OAAOX,CACX,CAEI,OAAO,EAAI7B,EAAM4C,kBAEzB,CACAC,eAAAA,GAEI,OADA/K,EAAIyB,SAAS,yBAAyBvE,KAAKwM,qBACpCxM,KAAKwM,kBAAkBnF,OAAS,CAC3C,CACAyG,OAAAA,CAAQC,GACJ,OAAOzM,EAAUtB,UAAM,OAAQ,GAAQ,YACnC,aAAa,EAAIgL,EAAMgD,SAASD,EAAOjD,EAAemD,sBAAuBnD,EAAeoD,qBAC5FlO,KAAKkM,WACT,GACJ,CACAiC,YAAAA,CAAaC,GACT,OAAO9M,EAAUtB,KAAMiI,eAAW,GAAQ,UAAWoG,EAAOC,GAAY,GACpE,IAAIvJ,EAAIwJ,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAGpD,GAFAlP,KAAKoD,OAAOwB,KAAKyJ,EAAMlJ,GAAIkJ,IAEtBC,EAAW,OACNtO,KAAKmP,QAAQd,EAAMlJ,IAAI,GAC7B,IAAI4I,EAA4F,QAAnFhJ,EAAK/E,KAAKyL,eAAe2D,QAAQ3M,EAAmB4M,iCAA8C,IAAPtK,OAAgB,EAASA,EAAGoI,QACpI,GAAIY,EAAO,CACP,IAAIuB,EAAWjB,EACf,GAAmF,QAA9EG,EAAgC,QAA1BD,EAAKe,EAAShG,cAA2B,IAAPiF,OAAgB,EAASA,EAAGjK,YAAyB,IAAPkK,OAAgB,EAASA,EAAGe,UAAW,CAE9H,IAAIC,EAAoBxP,KAAKuL,aAAakE,4BAA2G,QAA9Ef,EAAgC,QAA1BD,EAAKa,EAAShG,cAA2B,IAAPmF,OAAgB,EAASA,EAAGnK,YAAyB,IAAPoK,OAAgB,EAASA,EAAGlF,SACzL,GAAIgG,EAAmB,CACnB,IAAIE,EAAY,CACZC,QAAwF,QAA9Ef,EAAgC,QAA1BD,EAAKW,EAAShG,cAA2B,IAAPqF,OAAgB,EAASA,EAAGrK,YAAyB,IAAPsK,OAAgB,EAASA,EAAGb,MAC5HwB,UAA0F,QAA9ET,EAAgC,QAA1BD,EAAKS,EAAShG,cAA2B,IAAPuF,OAAgB,EAASA,EAAGvK,YAAyB,IAAPwK,OAAgB,EAASA,EAAGS,UAC9HK,cAAeJ,EACfK,YAA4F,QAA9Eb,EAAgC,QAA1BD,EAAKO,EAAShG,cAA2B,IAAPyF,OAAgB,EAASA,EAAGzK,YAAyB,IAAP0K,OAAgB,EAASA,EAAGa,aAEhInG,QAAoB1J,KAAKuL,aAAauE,uBAAuBJ,GAC7DhG,EAAYqG,uBACZrG,EAAYqG,sBAAsBC,SAASC,GAAU3O,EAAUtB,UAAM,OAAQ,GAAQ,YAEjFA,KAAK0M,yBACC1M,KAAKkQ,YAAYlQ,KAAKuM,UAAU5H,WAAYsL,EAAOlC,EAC7D,KAER,MAEI/N,KAAK0M,yBACC1M,KAAKkQ,YAAYlQ,KAAKuM,UAAU5H,WAA2F,QAA9EuK,EAAgC,QAA1BD,EAAKK,EAAShG,cAA2B,IAAP2F,OAAgB,EAASA,EAAG3K,YAAyB,IAAP4K,OAAgB,EAASA,EAAGK,UAAWxB,EAExL,CACJ,CACJ,CACJ,GACJ,CACAoC,cAAAA,CAAepC,GACX,OAAOzM,EAAUtB,UAAM,OAAQ,GAAQ,YAGnC,GAFA8C,EAAIiJ,UAAU,yCACdjJ,EAAIyB,SAAS,uCAAuCwJ,KAC9B,kBAAVA,GAAwC,IAAjBA,EAAM1G,OACrC,MAAM,IAAIxD,MAAM,6BAEpBf,EAAIyB,SAAS,wDACPvE,KAAK0I,YAAW,GACtB1I,KAAKyL,eAAe5D,YAAYkG,EAAOtL,EAAmB4M,0BAC1DvM,EAAIyB,SAAS,oDACPvE,KAAKuI,SAAQ,EACvB,GACJ,CACA6H,cAAAA,GACI,IAAIrC,GAAQ,EAAIpL,EAAQ0N,iBACxBvN,EAAIyB,SAAS,yBAAyBwJ,KACtCjL,EAAIiJ,UAAU,+CACd/L,KAAKyM,aAAesB,EACpB,MAAMuC,EAAO,CACTC,UAAWxC,EACXyC,SAAUxQ,KAAK2L,OAAO8E,mBAAmBnD,WAE7C,OAAOgD,CACX,CACA/H,OAAAA,GACI,OAAOjH,EAAUtB,KAAMiI,eAAW,GAAQ,UAAWyI,GAAc,GAC/D1Q,KAAK2Q,SAAU,IAAIlM,MAAOmM,WAC1B,EAAI1F,EAAM3G,UAAU,wBAAyBvE,KAAK2Q,SAClD7N,EAAIiJ,UAAU,oCACd,IAAI8E,EAAgB7Q,KAAKyL,eAAe2D,QAAQ3M,EAAmB4M,0BAEnE,IAAItB,EAAQ/N,KAAKyM,aAGjB,GAFA3J,EAAIyB,SAAS,yBAAyBwJ,KAElC2C,EAAa,CACgB,qBAAlBG,GAAmD,OAAlBA,IACxC/N,EAAIyB,SAAS,yBAAyBsM,KACtC9C,EAAQ8C,EAAc1D,SAE1B,IAAI2D,EAAwB9Q,KAAKyL,eAAe2D,QAAQ3M,EAAmBsO,qCACvED,IACA9Q,KAAKwM,kBAAoBsE,EAAsB3D,SAC/C,EAAIjC,EAAM3G,UAAU,wDAAwDvE,KAAKwM,sBAErF1J,EAAIiJ,UAAU,2CAClB,CACA,GAAI2E,EAAa,CAEb,MAAM1E,EAAchM,KAAKiM,yBACrBD,IACAhM,KAAK2L,OAAS,IAAIZ,EAASa,cAAcI,GAEjD,CACAlJ,EAAIyB,SAAS,yBAAyBvE,KAAK2L,OAAO8E,mBAAmBnD,aAErEtN,KAAKyL,eAAe5D,YAAYkG,EAAOtL,EAAmB4M,0BAC1D,IAAI2B,QAAiBhR,KAAK8N,QAAQC,GAGlC,OAFAjL,EAAIyB,SAAS,uBAAuByM,KACpChR,KAAKyL,eAAe5D,YAAYmJ,EAAU,OACnC,IAAInP,SAAQ,CAACD,EAASE,KAEzB9B,KAAKqM,UAAU5B,QAAO,IAAMnJ,EAAUtB,UAAM,OAAQ,GAAQ,YACxD8C,EAAIyB,SAAS,wBACbzB,EAAIiJ,UAAU,sBACd,MAAMkF,GAAU,IAAIxM,MAAOmM,WAC3B,EAAI1F,EAAM3G,UAAU,uBAAwB0M,EAAUjR,KAAK2Q,SAE3D3Q,KAAKoD,OAAO8E,KAAKlI,KAAKuM,UAAU5H,YAAaH,GAAQlD,EAAUtB,UAAM,OAAQ,GAAQ,YAEjF,GAAIwE,GAAOA,EAAI0M,MAAO,CAClBpO,EAAIwD,SAAS,qBACbxD,EAAIiJ,UAAU,iCACR/L,KAAKqM,UAAU3D,aACrB,IAAIwI,EAAQ,IAAIrN,MAChBqN,EAAM1H,QAAUhF,EAAI0M,MAAM1H,QAC1B0H,EAAMC,KAAO3M,EAAI0M,MAAMjM,KAAKN,WAE5B7C,EAAOoP,EACX,CAEAlR,KAAK0M,mBACL1M,KAAKoD,OAAO8E,KAAKlI,KAAKuM,UAAU5H,YAAaH,GAAQlD,EAAUtB,UAAM,OAAQ,GAAQ,YAEjF,GAAIwE,GAAOA,EAAI0M,MAAO,CAClBpO,EAAIwD,SAAS,yBACbxD,EAAIiJ,UAAU,qCACR/L,KAAKqM,UAAU3D,aACrB,IAAIwI,EAAQ,IAAIrN,MAChBqN,EAAM1H,QAAUhF,EAAI0M,MAAM1H,QAC1B0H,EAAMC,KAAO3M,EAAI0M,MAAMjM,KAAKN,WAE5B7C,EAAOoP,EACX,CACAlR,KAAK0M,mBACL5J,EAAIyB,SAAS,0CAA0CvE,KAAKuM,aAC5DzJ,EAAIiJ,UAAU,yCACd,MAAMqF,GAAQ,IAAI3M,MAAOmM,WACzB,EAAI1F,EAAM3G,UAAU,oCAAqC6M,EAAQpR,KAAK2Q,eAEhE3Q,KAAKqR,4BAA4BrR,KAAKuM,UAAU5H,WAAYoJ,GAElEjL,EAAIyB,SAAS,yBAAyBvE,KAAKuM,aAC3CzJ,EAAIiJ,UAAU,8BACR/L,KAAKuL,aAAa+F,KAAKtR,KAAKuR,QAAQnL,KAAKpG,OAC/C4B,GACJ,MACAkB,EAAIyB,SAAS,0CAA0CvE,KAAKuM,aAC5DzJ,EAAIiJ,UAAU,+BACd,MAAMyF,GAAS,IAAI/M,MAAOmM,WAC1B,EAAI1F,EAAM3G,UAAU,iCAAkCiN,EAASxR,KAAK2Q,eAC9D3Q,KAAKqM,UAAUnG,MAAK,IAAM5E,EAAUtB,UAAM,OAAQ,GAAQ,YAC5D8C,EAAIyB,SAAS,wCACPvE,KAAKqM,UAAU9D,UAChBkJ,OAAOtJ,KACR,EAAI+C,EAAM3G,UAAU,kCAAmC4D,GACvDrG,EAAOqG,EAAI,GAEnB,KAAI,CACAhD,GAAInF,KAAKuM,UAAU5H,WACnB+M,QAASlP,EAAYmP,oBACrBC,OAAQ/G,EAAWnL,mBACnB4J,OAAQ,CACJyE,MAAOA,IAGnB,MACAjL,EAAIyB,SAAS,mBACbzB,EAAIiJ,UAAU,kDACR/L,KAAKqM,UAAUnG,MAAK,IAAM5E,EAAUtB,UAAM,OAAQ,GAAQ,YAC5D8C,EAAIyB,SAAS,wCACPvE,KAAKqM,UAAU9D,UAChBkJ,OAAOtJ,KACR,EAAI+C,EAAM3G,UAAU,kCAAmC4D,GACvDrG,EAAOqG,EAAI,GAEnB,KAAI,CACAhD,GAAInF,KAAKuM,UAAU5H,WACnB+M,QAASlP,EAAYmP,oBACrBC,OAAQ/G,EAAWjL,qBACnB0J,OAAQ,CACJuI,MAAOb,KAIfhR,KAAKqM,UAAUvC,iBAAiBhF,IAC5B,IAAIC,EAGJ,GAFAjC,EAAIyB,SAAS,0BACbzB,EAAIyB,SAASO,KACP,WAAYA,MAAY,SAAUA,EAAM,WAE1C,YADA9E,KAAKmO,aAAarJ,GAAO,GAG7B,IAAIyE,EAAsC,QAA5BxE,EAAKD,EAAMwE,OAAOhF,YAAyB,IAAPS,OAAgB,EAASA,EAAGyE,QAC9E,GAAsB,qBAAXD,EAAwB,CAC/BA,EAASA,EAAOuI,QAAQ,KAAM,KAC9B,IAAIC,GAAgB,EAAI9G,EAAW5B,eAAeE,GACrB,kBAAlBwI,GAA8B,aAAcA,GAAiBA,EAAcvB,UAAYuB,EAAcvB,SAASnJ,OAAS,IAC9HrH,KAAKwM,kBAAoBuF,EAAcvB,SACvC1N,EAAIyB,SAAS,6CAA6CvE,KAAKwM,qBAG/DxM,KAAKyL,eAAe5D,YAAY7H,KAAKwM,kBAAmB/J,EAAmBsO,qCAE3E/Q,KAAK4M,kBAAkB5M,KAAK2L,OAAO8E,oBAE3C,CAEAzQ,KAAKmO,aAAarJ,EAAOA,EAAM8M,SAAW/G,EAAWrL,uBAAuB,GAEpF,MACAQ,KAAKqM,UAAU9D,UAAUkJ,OAAOtJ,KAC5B,EAAI+C,EAAM3G,UAAU,kCAAmC4D,GACvDrG,EAAOqG,EAAI,GACb,GAEV,GACJ,CACAO,UAAAA,GACI,OAAOpH,EAAUtB,KAAMiI,eAAW,GAAQ,UAAWyI,GAAc,SACzD1Q,KAAKqM,UAAU3D,aACrB5F,EAAIiJ,UAAU,sBAGd/L,KAAKyL,eAAe2B,WAAW3K,EAAmB4M,0BAC7CqB,IACD1Q,KAAKyL,eAAe2B,WAAW3K,EAAmBsO,qCAClD/Q,KAAKwM,kBAAoB,IACzB,EAAItB,EAAM3G,UAAU,2DAA2DvE,KAAKwM,qBAE5F,GACJ,CACAwF,qBAAAA,CAAsBjE,EAAOkE,GACzBjS,KAAKuL,aAAa2G,yBAAyBnE,EAAOkE,EACtD,CACApJ,WAAAA,CAAY/D,EAAOiE,EAASoJ,GACxBnS,KAAKqM,UAAUxD,aAAY,EAAIoC,EAAWZ,mBAAmBvF,IAASyE,IAGlE,GAFAA,EAASA,EAAOuI,QAAQ,KAAM,KAC9BhP,EAAIyB,SAAS,oBAAoBgF,KACX,qBAAXA,EAAwB,CAC/B,IAAI6I,GAAS,EAAInH,EAAW5B,eAAeE,GACvClE,EAAM+M,EAAO5I,QACjB,IAAItI,EAgBJ,OAfImE,EAAIgN,YAAYC,WAAW,KAC3BpR,EAASmE,GAGL+M,EAAO5B,UAAY4B,EAAO5B,SAASnJ,OAAS,IAC5CrH,KAAKwM,kBAAoB4F,EAAO5B,SAChCxQ,KAAKyL,eAAe5D,YAAY7H,KAAKwM,kBAAmB/J,EAAmBsO,qCAC3EjO,EAAIyB,SAAS,yCAAyCvE,KAAKwM,qBAC3D1J,EAAIyB,SAAS,kCAAiC,EAAI5B,EAAQ4K,aAAavN,KAAK2L,OAAOkB,QAAQS,cAE3FtN,KAAK4M,kBAAkB5M,KAAK2L,OAAO8E,qBAEvCvP,EAASlB,KAAK2L,OAAO7C,QAAQzD,EAAKrF,KAAKwM,oBAE3C1J,EAAIyB,SAAS,oBAAoBrD,KAC1BA,CACX,CACgB,GACjB6H,EAASoJ,GAAOI,GAER,IAAI1Q,SAAQ,CAACD,EAASE,IAAWR,EAAUtB,UAAM,OAAQ,GAAQ,YACpE,IAAIwP,EAAoBxP,KAAKuL,aAAakE,4BAA4B8C,EAAa/I,SACnF,GAAIgG,EAAmB,CACnB,IAAIE,EAAY,CACZC,QAAS4C,EAAaxE,MACtBwB,UAA4B,OAAjBgD,QAA0C,IAAjBA,OAA0B,EAASA,EAAahD,UACpFK,cAAeJ,EACfK,YAA8B,OAAjB0C,QAA0C,IAAjBA,OAA0B,EAASA,EAAa1C,aAEtF2C,QAAkBxS,KAAKuL,aAAauE,uBAAuBJ,GAC/D9N,EAAQ4Q,EACZ,MAEI5Q,EAAQ,CACJ+H,gBAAgB,GAG5B,OAER,CACA4H,OAAAA,CAAQlM,GACJ,OAAO/D,EAAUtB,UAAM,OAAQ,GAAQ,YACnC8C,EAAIyB,SAAS,uBAAuBc,KACpCvC,EAAIiJ,UAAU,wBACd,IAAIvC,EAAUnE,EACdvC,EAAIyB,SAAS,gDAAgDiF,EAAQnC,UAErE,IAAI0G,EAAQ/N,KAAKyL,eAAe2D,QAAQ3M,EAAmB4M,0BAC3DvM,EAAIyB,SAAS,+BAAyC,OAAVwJ,QAA4B,IAAVA,OAAmB,EAASA,EAAMZ,WAChGnN,KAAK0M,mBACL,MAAMtH,EAAU,CACZD,GAAInF,KAAKuM,UAAU5H,WACnBiN,OAAQ/G,EAAWlL,uBACnB+R,QAASlP,EAAYmP,oBACrBrI,OAAQ,CACJE,QAAS,CACLuE,MAAiB,OAAVA,QAA4B,IAAVA,OAAmB,EAASA,EAAMZ,QAC3D3D,QAASA,EACTiJ,IAAKjQ,EAAYkQ,4BAiB7B,OAbA1S,KAAKoD,OAAO8E,KAAKlI,KAAKuM,UAAU5H,YAAaH,GAAQlD,EAAUtB,UAAM,OAAQ,GAAQ,YAE7EwE,GAAOA,EAAI0M,MACXpO,EAAIwD,SAAS,KAAI,IAAI7B,MAAOgC,0CAEvBjC,IAAQA,EAAI0M,OACjBpO,EAAIyB,SAAS,iBAAgB,IAAIE,MAAOgC,uCAAuCzG,KAAKuM,sBAE5F,YACMvM,KAAKqM,UAAUnG,MAAK,IAAM5E,EAAUtB,UAAM,OAAQ,GAAQ,YAE5D,OADA8C,EAAIyB,SAAS,wCACAvE,KAAKqM,UAAU9D,SAChC,KAAInD,GACGpF,KAAKuM,SAChB,GACJ,CACAoG,gBAAAA,CAAiBC,EAASC,GACtB,OAAOvR,EAAUtB,KAAMiI,eAAW,GAAQ,UAAW8F,EAAO+E,EAAcL,EAAMjQ,EAAYkQ,0BACxF1S,KAAK0M,mBACL,MAAMtH,EAAU,CACZD,GAAInF,KAAKuM,UAAU5H,WACnBiN,OAAQ/G,EAAWlL,uBACnB+R,QAASlP,EAAYmP,oBACrBrI,OAAQ,CACJE,QAAS,CACLuE,MAAOA,EACPvE,QAASsJ,EACTL,IAAKA,KAIjBzS,KAAKoD,OAAO8E,KAAKlI,KAAKuM,UAAU5H,YAAaH,GAAQlD,EAAUtB,UAAM,OAAQ,GAAQ,YAE7EwE,GAAOA,EAAI0M,MACXpO,EAAIwD,SAAS,KAAI,IAAI7B,MAAOgC,0CAEvBjC,IAAQA,EAAI0M,OACjBpO,EAAIyB,SAAS,iBAAgB,IAAIE,MAAOgC,uCAAuCzG,KAAKuM,sBAE5F,YACMvM,KAAKqM,UAAUnG,MAAK,IAAM5E,EAAUtB,UAAM,OAAQ,GAAQ,YAE5D,OADA8C,EAAIyB,SAAS,wCACAvE,KAAKqM,UAAU9D,SAChC,KAAInD,EACR,GACJ,CACAc,IAAAA,CAAK6M,GACD,OAAOzR,EAAUtB,KAAMiI,eAAW,GAAQ,UAAW5C,EAAKoN,EAAMjQ,EAAYkQ,0BAIxE,GAFA5P,EAAIyB,SAAS,uBAAuBc,KACpCvC,EAAIiJ,UAAU,qBACT/L,KAAK6N,kBAEN,MAAM,IAAIhK,MAAM,yBAEpB,IAAI2F,EAAUxJ,KAAK2L,OAAOqH,QAAQ3N,EAAKrF,KAAKwM,mBAC5C1J,EAAIyB,SAAS,gDAAgDiF,EAAQnC,UACrEvE,EAAImQ,YAAY9H,EAAS+H,cAAcC,IAAK,WAAY3J,EAAQnC,OAAO1C,YAEvE,IAAIoJ,EAAQ/N,KAAKyL,eAAe2D,QAAQ3M,EAAmB4M,0BA8B3D,OA7BAvM,EAAIyB,SAAS,+BAAyC,OAAVwJ,QAA4B,IAAVA,OAAmB,EAASA,EAAMZ,iBAE1FnN,KAAKuL,aAAa6H,kBAA4B,OAAVrF,QAA4B,IAAVA,OAAmB,EAASA,EAAMZ,QAAS3D,EAASxJ,KAAK2S,iBAAiBvM,KAAKpG,MAAOA,KAAKuR,QAAQnL,KAAKpG,OA2B7JA,KAAKuM,SAChB,GACJ,CACA4C,OAAAA,CAAQkE,EAASC,GACb,OAAOhS,EAAUtB,KAAMiI,eAAW,GAAQ,UAAWgI,EAAOlH,EAASwK,OAASjT,GAC1E,IAAgB,IAAZyI,EAAkB,CAClB,MAAM3D,EAAU,CACZD,GAAI8K,EACJyB,QAASlP,EAAYmP,oBACrBzQ,QAAQ,SAENlB,KAAKqM,UAAUnG,MAAK,IAAM5E,EAAUtB,UAAM,OAAQ,GAAQ,YAE5D,OADA8C,EAAIyB,SAAS,wCACAvE,KAAKqM,UAAU9D,SAChC,KAAInD,EACR,MACK,GAAImO,EAAQ,CACb,MAAMnO,EAAU,CACZD,GAAI8K,EACJyB,QAASlP,EAAYmP,oBACrBT,MAAO,CACHjM,KAAMsO,EAAOtO,KACbuE,QAAS+J,EAAO/J,gBAGlBxJ,KAAKqM,UAAUnG,MAAK,IAAM5E,EAAUtB,UAAM,OAAQ,GAAQ,YAE5D,OADA8C,EAAIyB,SAAS,wCACAvE,KAAKqM,UAAU9D,SAChC,KAAInD,EACR,CACJ,GACJ,CAEA8K,WAAAA,CAAYD,EAAOV,EAAWxB,GAC1B,OAAOzM,EAAUtB,UAAM,OAAQ,GAAQ,YACnC,MAAMoF,EAAU,CACZD,GAAI8K,EACJyB,QAASlP,EAAYmP,oBACrBC,OAAQ/G,EAAWrL,uBACnB8J,OAAQ,CACJhF,KAAM,CACFiL,UAAWA,EACXxB,MAAOA,WAIb/N,KAAKqM,UAAUnG,MAAK,IAAM5E,EAAUtB,UAAM,OAAQ,GAAQ,YAE5D,OADA8C,EAAIyB,SAAS,wCACAvE,KAAKqM,UAAU9D,SAChC,KAAInD,EACR,GACJ,CAKAiM,2BAAAA,CAA4BpB,EAAOlC,GAC/B,OAAOzM,EAAUtB,UAAM,OAAQ,GAAQ,YAEnCA,KAAKoD,OAAO8E,KAAK+H,GAAQuD,GAAoBlS,EAAUtB,UAAM,OAAQ,GAAQ,YACzE,IAAI+E,EAAIwJ,EAER,GAAIiF,EAAgBtS,OAAQ,CACxB,IAAIuS,EAAUD,EAAgBtS,OAAOuS,QACjCC,EAAeF,EAAgBtS,OAAOoD,KAC1C,GAAIoP,EACA,IAAK,IAAIC,EAAI,EAAGA,EAAID,EAAarM,OAAQsM,IAAK,CAC1C,IAAItO,EAAMqO,EAAaC,GACvB,GAAItO,GAAOA,EAAI0I,OAASA,EAAO,CAC3B,IAAIwB,EAAYlK,EAAIkK,UACpBzM,EAAIiJ,UAAU,uBAEd,IAAIyD,EAAoBxP,KAAKuL,aAAakE,4BAA4BpK,EAAImE,SACtEgG,SACMxP,KAAKqM,UAAU/B,yBAAyBjF,GAC9CvC,EAAIyB,SAAS,wBAGPvE,KAAKqM,UAAU/B,yBAAyBjF,GAE9CrF,KAAK0M,yBACC1M,KAAKkQ,YAAYlQ,KAAKuM,UAAU5H,WAAY4K,EAAWxB,GAErE,CACJ,CAGA0F,IACAzT,KAAK0M,yBACC1M,KAAKqR,4BAA4BrR,KAAKuM,UAAU5H,WAAYoJ,GAE1E,MAEIjL,EAAIyB,SAAS,0BAA2D,QAAhCQ,EAAKyO,EAAgBtC,aAA0B,IAAPnM,OAAgB,EAASA,EAAGE,UAA2C,QAAhCsJ,EAAKiF,EAAgBtC,aAA0B,IAAP3C,OAAgB,EAASA,EAAG/E,UAEnM,MACA1G,EAAIyB,SAAS,sBACbzB,EAAIiJ,UAAU,sBACd,MAAM6H,GAAW,IAAInP,MAAOmM,WAC5B,EAAI1F,EAAM3G,UAAU,oBAAqBqP,EAAW5T,KAAK2Q,SACzD,MAAMvL,EAAU,CACZD,GAAI8K,EACJyB,QAASlP,EAAYmP,oBACrBC,OAAQ/G,EAAWtL,wBACnB+J,OAAQ,CACJhF,KAAM,CACFyJ,MAAOA,WAIb/N,KAAKqM,UAAUnG,MAAK,IAAM5E,EAAUtB,UAAM,OAAQ,GAAQ,YAE5D,OADA8C,EAAIyB,SAAS,wCACAvE,KAAKqM,UAAU9D,SAChC,KAAInD,EACR,GACJ,CACAyO,UAAAA,GACI,OAAOvS,EAAUtB,UAAM,OAAQ,GAAQ,YACnC8C,EAAIiJ,UAAU,iCACd/L,KAAKyL,eAAe2B,YACxB,GACJ,CACA0G,kBAAAA,CAAmBC,EAAKzP,GACfA,GACDtE,KAAKyL,eAAe2B,WAAW3K,EAAmBuR,gCAAkCD,GAExF,IAAIE,GAAW,EAAIhJ,EAAWZ,mBAAmB/F,GACjDtE,KAAKyL,eAAesB,gBAAgBkH,EAAUxR,EAAmBuR,gCAAkCD,EACvG,CACAG,iBAAAA,CAAkBH,GACd,IAAII,EAAUnU,KAAKyL,eAAeyB,cAAczK,EAAmBuR,gCAAkCD,GACrG,GAAII,EAAS,CACT,IAAIC,GAAS,EAAInJ,EAAW5B,eAAe8K,GAC3C,OAAOC,CACX,CAEJ,CACAC,yBAAAA,GACI,OAAOrU,KAAK6N,iBAChB,EAEJzO,EAAQuL,kBAAoBA,C,qCCtqBhB7K,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,MAACA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,MACb,IAAIC,EAAmBC,MAAQA,KAAKD,kBAAqBb,OAAOe,OAAU,SAASC,EAAGC,EAAGC,EAAGC,QAC7EC,IAAPD,IAAkBA,EAAKD,GAC3B,IAAIG,EAAOrB,OAAOsB,yBAAyBL,EAAGC,GACzCG,KAAS,QAASA,GAAQJ,EAAEM,WAAaF,EAAKG,UAAYH,EAAKI,gBAClEJ,EAAO,CAAEK,YAAY,EAAMC,IAAK,WAAa,OAAOV,EAAEC,EAAI,IAE5DlB,OAAOC,eAAee,EAAGG,EAAIE,EACjC,EAAM,SAASL,EAAGC,EAAGC,EAAGC,QACTC,IAAPD,IAAkBA,EAAKD,GAC3BF,EAAEG,GAAMF,EAAEC,EACd,GACIU,EAAsBd,MAAQA,KAAKc,qBAAwB5B,OAAOe,OAAU,SAASC,EAAGa,GACxF7B,OAAOC,eAAee,EAAG,UAAW,CAAEU,YAAY,EAAMvB,MAAO0B,GACnE,EAAK,SAASb,EAAGa,GACbb,EAAE,WAAaa,CACnB,GACIC,EAAgBhB,MAAQA,KAAKgB,cAAiB,SAAUC,GACxD,GAAIA,GAAOA,EAAIR,WAAY,OAAOQ,EAClC,IAAIC,EAAS,CAAC,EACd,GAAW,MAAPD,EAAa,IAAK,IAAIb,KAAKa,EAAe,YAANb,GAAmBlB,OAAOiC,UAAUC,eAAeC,KAAKJ,EAAKb,IAAIL,EAAgBmB,EAAQD,EAAKb,GAEtI,OADAU,EAAmBI,EAAQD,GACpBC,CACX,EACII,EAAatB,MAAQA,KAAKsB,WAAc,SAAUC,EAASC,EAAYC,EAAGC,GAC1E,SAASC,EAAMtC,GAAS,OAAOA,aAAiBoC,EAAIpC,EAAQ,IAAIoC,GAAE,SAAUG,GAAWA,EAAQvC,EAAQ,GAAI,CAC3G,OAAO,IAAKoC,IAAMA,EAAII,WAAU,SAAUD,EAASE,GAC/C,SAASC,EAAU1C,GAAS,IAAM2C,EAAKN,EAAUO,KAAK5C,GAAS,CAAE,MAAO6C,GAAKJ,EAAOI,EAAI,CAAE,CAC1F,SAASC,EAAS9C,GAAS,IAAM2C,EAAKN,EAAU,SAASrC,GAAS,CAAE,MAAO6C,GAAKJ,EAAOI,EAAI,CAAE,CAC7F,SAASF,EAAKd,GAAUA,EAAOkB,KAAOR,EAAQV,EAAO7B,OAASsC,EAAMT,EAAO7B,OAAOgD,KAAKN,EAAWI,EAAW,CAC7GH,GAAMN,EAAYA,EAAUY,MAAMf,EAASC,GAAc,KAAKS,OAClE,GACJ,EACIqS,EAAmBtU,MAAQA,KAAKsU,iBAAoB,SAAUrT,GAC9D,OAAQA,GAAOA,EAAIR,WAAcQ,EAAM,CAAE,QAAWA,EACxD,EACA/B,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQoM,6BAA0B,EAClC,MAAM/I,EAAqB3C,EAAQ,OAC7ByU,EAAgBD,EAAgBxU,EAAQ,QACxC6C,EAAU7C,EAAQ,OAClBmL,EAAanL,EAAQ,OACrBgD,EAAM9B,EAAalB,EAAQ,QAC3BoL,EAAQpL,EAAQ,OAChB0U,EAAuC,EAGvCC,EAAoC,IACpCC,EAAuB,uBACvBC,EAAoB,oBACpBC,EAA4B,6BAClC,MAAMpJ,EACFtI,WAAAA,CAAY2R,GAER7U,KAAK8U,sBAAwB,IAAIC,IAEjC/U,KAAKgV,0BAA4B,IAAID,IAErC/U,KAAKiV,6BAA+B,IAAIF,IACxC/U,KAAKkV,kBAAoBX,EAAcY,QAAQC,eAAe,CAC1DjE,KAAM1O,EAAmB4S,oCAAsCR,GAEvE,CACAvD,IAAAA,CAAKgE,GACD,OAAOhU,EAAUtB,UAAM,OAAQ,GAAQ,YAInC,SAFMA,KAAKuV,mBAEPvV,KAAK8U,sBAAsBU,KAAO,EAAG,CACrC,IAAK,MAAOzH,EAAO0H,KAAgBzV,KAAK8U,sBAAsBY,UAC1D,IAAK,IAAI/B,EAAI,EAAGA,EAAI8B,EAAYpO,QAAS,CACrC,MAAMjC,EAAUqQ,EAAY9B,GAC5B,UAEU2B,GAAW,EAAIrK,EAAWZ,mBAAmBjF,GAAU2I,GAC7DjL,EAAIyB,SAAS,+BAA8B,EAAI0G,EAAWZ,mBAAmBjF,gBAAsB2I,KAEnG0H,EAAYE,OAAOhC,EAAG,EAC1B,CACA,MAAOzC,GACHpO,EAAIwD,SAAS,4BAA2B,EAAI2E,EAAWZ,mBAAmBjF,gBAAsB2I,IAASmD,GAEzG9L,EAAQ1B,YAAc0B,EAAQ1B,YAAc,GAAK,EAC7C0B,EAAQ1B,WAAa,GACrBZ,EAAIwD,SAAS,oCAAmC,EAAI2E,EAAWZ,mBAAmBjF,MAClFqQ,EAAYE,OAAOhC,EAAG,IAGtBA,GAER,CACJ,OAEE3T,KAAK4V,WACf,CACJ,GACJ,CACAnG,2BAAAA,CAA4BjG,GACxB,IAAIzE,EACJ,IAAI7D,EACJ,IACI,GAAIsI,EAAQ6I,YAAYC,WAAW,KAAM,CACrC,IAAIuD,GAAa,EAAI5K,EAAW5B,eAAeG,GAC/C,GAAIqM,GACGA,EAAWC,kBACXD,EAAWC,kBAAoB,EAAG,CACrC,IAAIC,EAAwBF,EACxBE,EAAsBC,mBAAuE,QAAjDjR,EAAKgR,EAAsBC,wBAAqC,IAAPjR,OAAgB,EAASA,EAAGsC,QAAU,IAC3InG,EAAS2U,EAEjB,CACJ,MAEI,EAAI3K,EAAM3G,UAAU,qBAE5B,CACA,MAAO2M,IACH,EAAIhG,EAAM3G,UAAU,qBACxB,CACA,OAAOrD,CACX,CACAgR,wBAAAA,CAAyBnE,EAAOkE,GAC5B,OAAO3Q,EAAUtB,UAAM,OAAQ,GAAQ,YACnCA,KAAKiV,6BAA6BgB,IAAIlI,EAAOkE,SACvCjS,KAAK4V,aACX,EAAI1K,EAAM3G,UAAU,oCAAqCwJ,EAAOkE,EACpE,GACJ,CAOAmB,iBAAAA,CAAkBrF,EAAOvE,EAAS0M,EAASZ,GACvC,OAAOhU,EAAUtB,UAAM,OAAQ,GAAQ,YAMnC,IAAK+N,EAED,YADAjL,EAAIwD,SAAS,mCAGjB,IAAI6P,EAAgBnW,KAAKiV,6BAA6BpU,IAAIkN,GACtDqI,EAAY5M,EAAQnC,OACxB,IACI,GAAI+O,EAAY3B,EACZ,MAAM,IAAI5Q,MAAM,0BAA0BuS,MAE9C,IAAKD,GAAkBA,GAAiBA,EAAgB3B,EACpD,MAAM,IAAI3Q,MAAM,uCAAuCsS,MAE3D,MAAME,EAAY,GAClB,IAAIC,EAAkB7B,EACtB,IAAK,IAAId,EAAI,EAAGA,EAAInK,EAAQnC,OAAQsM,GAAK2C,EACjC3C,EAAI2C,EAAkB9M,EAAQnC,OAC9BgP,EAAUE,KAAK/M,EAAQgN,MAAM7C,EAAGA,EAAI2C,IAGpCD,EAAUE,KAAK/M,EAAQgN,MAAM7C,IAGrC,IAAI8C,GAAU,EAAI9T,EAAQ+T,mBACtBC,EAAuBN,EAAUO,KAAI,CAACvR,EAAKwR,KAE3C,IAAIzE,EAAS,CACTzC,QAAS5B,EACT+H,iBAAkBtB,EAClBsC,YAAaT,EAAUhP,OACvB0P,cAAeF,EACfb,iBAAkBS,EAClBtJ,QAAS9H,GAEb,OAAO+M,CAAM,IAGjBpS,KAAKgX,mBAAkB,EAAML,GAE7B,IAAK,IAAIhD,EAAI,EAAGA,EAAIgD,EAAqBtP,QAAS,CAC9C,MAAM+K,EAASuE,EAAqBhD,GAC9BvO,GAAU,EAAI6F,EAAWZ,mBAAmB+H,GAClD,UAEUkD,EAAWlQ,EAAS2I,GAC1BjL,EAAIyB,SAAS,8BAA8Ba,eAAqB2I,KAEhE4I,EAAqBhB,OAAOhC,EAAG,EACnC,CACA,MAAOzC,GACHpO,EAAIwD,SAAS,2BAA2BlB,eAAqB2I,IAASmD,GAEtEkB,EAAO1O,YAAc0O,EAAO1O,YAAc,GAAK,EAC3C0O,EAAO1O,WAAa,GACpBZ,EAAIwD,SAAS,mCAAmClB,KAChDuR,EAAqBhB,OAAOhC,EAAG,IAG/BA,GAER,CACJ,CAEA3T,KAAK8U,sBAAsBmB,IAAIlI,EAAO,UAChC/N,KAAK4V,WACf,CACA,MAAO1T,IACH,EAAIgJ,EAAM3G,UAAU,iCACpB,EAAI2G,EAAM3G,UAAUrC,SACdgU,EAAQnI,EAAOvE,EACzB,CACJ,GACJ,CACAsG,sBAAAA,CAAuB1K,GACnB,OAAO9D,EAAUtB,UAAM,OAAQ,GAAQ,YAEnCA,KAAKgX,mBAAkB,EAAO,CAAC5R,IAC/B,IAAI6R,EAAc,IAAIlC,IAClBmC,EAAa9R,EAAQuK,QAEzB3P,KAAKgV,0BAA0BhF,SAAQ,CAACmH,EAAUpJ,KAC1CA,GAAS3I,EAAQuK,SACjBwH,EAASnH,SAASoH,IACd,GAAIA,EAAKxH,cAAcoG,iBAAkB,CACrC,IAAIqB,EAAeJ,EAAYpW,IAAIuW,EAAKxH,cAAcoG,kBACjDqB,IACDA,EAAe,IAAIC,OAEvBD,EAAad,KAAKa,GAClBH,EAAYhB,IAAImB,EAAKxH,cAAcoG,iBAAkBqB,EACzD,IAER,KAEJ,EAAInM,EAAM3G,UAAU,4CACpB,IAAImF,EAAc,CACdC,gBAAgB,GAIpB,GAAIvE,EAAQwK,cAAcoG,iBAAkB,CACxCtM,EAAYC,gBAAiB,EAC7B,IAAI0N,EAAeJ,EAAYpW,IAAIuE,EAAQwK,cAAcoG,kBAEzD,GAAqB,OAAjBqB,QAA0C,IAAjBA,OAA0B,EAASA,EAAahQ,OAAQ,CACjF,IAAIkQ,EAAc,IAAIC,IAMtB,GALAH,EAAarH,SAASoH,SACuB9W,IAArC8W,EAAKxH,cAAcmH,eACnBQ,EAAYE,IAAIL,EAAKxH,cAAcmH,cACvC,IAEAQ,EAAY/B,MAAQpQ,EAAQwK,cAAckH,YAAa,CAEvDO,EAAaK,MAAK,CAACC,EAAGC,KACbD,EAAE/H,cAAcmH,eAAmD,IAAlCY,EAAE/H,cAAcmH,gBAC9Ca,EAAEhI,cAAcmH,eAAmD,IAAlCa,EAAEhI,cAAcmH,cAI9C,EAHAY,EAAE/H,cAAcmH,cAAgBa,EAAEhI,cAAcmH,gBAM/D,IAAIc,EAAcR,EAAaS,QAAO,CAACC,EAASX,KAC5CW,EAAQxB,KAAKa,EAAKxH,cAAczC,SACzB4K,IACR,IACCC,EAAgBX,EAAaS,QAAO,CAACG,EAAWb,KAChDa,EAAU1B,KAAKa,EAAK7H,WACb0I,IACR,IACHvO,EAAYC,gBAAiB,EAC7BD,EAAYE,aAAeiO,EAAYK,KAAK,IAC5CxO,EAAYqG,sBAAwBiI,EAEpC,IAAIG,EAAenY,KAAKgV,0BAA0BnU,IAAIqW,GAClDiB,IACAA,EAAeA,EAAaC,QAAQhB,IACxBY,EAAcK,SAASjB,EAAK7H,aAExCvP,KAAKgV,0BAA0BiB,IAAIiB,EAAYiB,UAE7CnY,KAAK4V,WACf,CACJ,CACJ,CAEA,OAAOlM,CACX,GACJ,CAIAsN,iBAAAA,CAAkBsB,EAAWC,GACzB,OAAOjX,EAAUtB,UAAM,OAAQ,GAAQ,YAEnC,IADA,EAAIkL,EAAM3G,UAAU,wBAChB+T,EAAW,CACX,IAAIE,EAAiBD,EACjBE,EAAcD,EAAeJ,QAAQhT,IACrC,IAAI8R,EAAa9R,EAAQuK,QACrB+I,GAAS,EACTC,EAAiB3Y,KAAK8U,sBAAsBjU,IAAIqW,GAQpD,OAPmB,OAAnByB,QAA8C,IAAnBA,GAAqCA,EAAe3I,SAAS4I,IAChFA,EAAc5C,kBAAoB5Q,EAAQ4Q,kBACvC4C,EAAc9B,aAAe1R,EAAQ0R,aACrC8B,EAAc7B,eAAiB3R,EAAQ2R,gBAC1C2B,GAAS,EACb,IAEGA,CAAM,IAEjB,GAAID,EAAYpR,OAAS,EAAG,CACxB,IAAI6P,EAAauB,EAAY,GAAG9I,QAC5BkJ,EAAY7Y,KAAK8U,sBAAsBjU,IAAIqW,GAC1C2B,IACDA,EAAY,IAAIvB,OAEpBuB,EAAYA,EAAUC,OAAOL,GAC7BzY,KAAK8U,sBAAsBmB,IAAIiB,EAAY2B,IAC3C,EAAI3N,EAAM3G,UAAU,wCAAyCsU,EACjE,CACJ,KACK,CACD,IAAIE,EAAoBR,EACpBE,EAAcM,EAAkBX,QAAQhT,IACxC,IAAI8R,EAAa9R,EAAQuK,QACrB+I,GAAS,EACTM,EAAoBhZ,KAAKgV,0BAA0BnU,IAAIqW,GAM3D,OALsB,OAAtB8B,QAAoD,IAAtBA,GAAwCA,EAAkBhJ,SAAS4I,IACzFA,EAAcrJ,WAAanK,EAAQmK,YACnCmJ,GAAS,EACb,IAEGA,CAAM,IAEjB,GAAID,EAAYpR,OAAS,EAAG,CACxB,IAAI6P,EAAauB,EAAY,GAAG9I,QAC5BsJ,EAAejZ,KAAKgV,0BAA0BnU,IAAIqW,GACjD+B,IACDA,EAAe,IAAI3B,OAEvB2B,EAAeA,EAAaH,OAAOL,GACnCzY,KAAKgV,0BAA0BiB,IAAIiB,EAAY+B,IAC/C,EAAI/N,EAAM3G,UAAU,yCAA0C0U,EAClE,CACJ,CACJ,GACJ,CACArD,SAAAA,GACI,OAAOtU,EAAUtB,UAAM,OAAQ,GAAQ,aACnC,EAAIkL,EAAM3G,UAAU,kCACdvE,KAAKkV,kBAAkBgE,QAAQxE,EAAsB1U,KAAKgV,iCAC1DhV,KAAKkV,kBAAkBgE,QAAQvE,EAAmB3U,KAAK8U,6BACvD9U,KAAKkV,kBAAkBgE,QAAQtE,EAA2B5U,KAAKiV,6BACzE,GACJ,CACAM,gBAAAA,GACI,OAAOjU,EAAUtB,UAAM,OAAQ,GAAQ,YAEnC,IAAImZ,QAAkBnZ,KAAKkV,kBAAkB9F,QAAQsF,GAEjD1U,KAAKgV,0BADLmE,GAIiC,IAAIpE,IAGzC,IAAIqE,QAAmBpZ,KAAKkV,kBAAkB9F,QAAQuF,GAElD3U,KAAK8U,sBADLsE,GAI6B,IAAIrE,IAGrC,IAAIhH,QAAc/N,KAAKkV,kBAAkB9F,QAAQwF,GAE7C5U,KAAKiV,6BADLlH,GAIoC,IAAIgH,GAEhD,GACJ,EAEJ3V,EAAQoM,wBAA0BA,C,mCChYlCtM,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQmE,eAAiBnE,EAAQia,qBAAuBja,EAAQuS,oBAAsBvS,EAAQsT,yBAA2BtT,EAAQ6H,uCAAyC7H,EAAQgI,yBAA2BhI,EAAQka,4BAA8Bla,EAAQma,sBAAwBna,EAAQoa,sBAAwBpa,EAAQkN,sBAAwBlN,EAAQqa,4BAA8Bra,EAAQsa,mCAAgC,EACjata,EAAQsa,8BAAgC,EACxCta,EAAQqa,4BAA8B,GACtCra,EAAQkN,sBAAwB,oDAChClN,EAAQoa,sBAAwB,mDAChCpa,EAAQma,sBAAwB,wDAChCna,EAAQka,4BAA8B,OACtCla,EAAQgI,yBAA2B,CAC/BhI,EAAQkN,sBACRlN,EAAQoa,sBACRpa,EAAQma,uBAEZna,EAAQ6H,uCAAyC,CAC7CU,SAAU,KACVF,SAAU,KACVP,SAAU,MAEd9H,EAAQsT,yBAA2B,IAEnCtT,EAAQuS,oBAAsB,MAE9BvS,EAAQia,qBAAuB,EAC/Bja,EAAQmE,eAAiB,CACrBC,UAAW,EACXY,WAAY,EACZqB,UAAW,EACXkD,aAAc,EACd7C,QAAS,E,qCC7BDhG,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAACA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OACb,IAAIwB,EAAatB,MAAQA,KAAKsB,WAAc,SAAUC,EAASC,EAAYC,EAAGC,GAC1E,SAASC,EAAMtC,GAAS,OAAOA,aAAiBoC,EAAIpC,EAAQ,IAAIoC,GAAE,SAAUG,GAAWA,EAAQvC,EAAQ,GAAI,CAC3G,OAAO,IAAKoC,IAAMA,EAAII,WAAU,SAAUD,EAASE,GAC/C,SAASC,EAAU1C,GAAS,IAAM2C,EAAKN,EAAUO,KAAK5C,GAAS,CAAE,MAAO6C,GAAKJ,EAAOI,EAAI,CAAE,CAC1F,SAASC,EAAS9C,GAAS,IAAM2C,EAAKN,EAAU,SAASrC,GAAS,CAAE,MAAO6C,GAAKJ,EAAOI,EAAI,CAAE,CAC7F,SAASF,EAAKd,GAAUA,EAAOkB,KAAOR,EAAQV,EAAO7B,OAASsC,EAAMT,EAAO7B,OAAOgD,KAAKN,EAAWI,EAAW,CAC7GH,GAAMN,EAAYA,EAAUY,MAAMf,EAASC,GAAc,KAAKS,OAClE,GACJ,EACA/C,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQua,YAAS,EACjB,MAAM1O,EAAanL,EAAQ,OACrBoL,EAAQpL,EAAQ,OAChBiD,EAAajD,EAAQ,OACrB0C,EAAc1C,EAAQ,OAEtB6C,EAAU7C,EAAQ,OAClB8C,EAAU9C,EAAQ,OAClB8Z,EAAiB9Z,EAAQ,KACzBsL,EAAQtL,EAAQ,OACtB,MAAM6Z,EACFzW,WAAAA,CAAY2W,GACR7Z,KAAK8Z,gBAAkB,IAAI/E,IAC3B/U,KAAK+Z,mBAAqB,GAC1B/Z,KAAK6Z,kBAAoBA,GAEzB,EAAI3O,EAAM8O,sBAAsBC,cAChCja,KAAK6Z,kBAAkBhR,YAAY,gBAAgB,CAAC/D,EAAOO,KACvD,IAAI6U,GAAe,EAAIjP,EAAW5B,eAAehE,IACjD,EAAI6F,EAAM3G,UAAU,2CAA2C2V,KAC/Dla,KAAKma,eAAerV,EAAOoV,EAAa,IACzC,WACH,GACJ,CACAE,qBAAAA,CAAsBC,GAClBra,KAAK+Z,mBAAmBxD,KAAK8D,EACjC,CACAC,4BAAAA,CAA6BC,GACzBva,KAAKua,0BAA4BA,CACrC,CACA7R,UAAAA,IACI,EAAIwC,EAAM3G,UAAU,0BACpBvE,KAAK8Z,gBAAgBU,OACzB,CACAC,YAAAA,GACI,MAAMC,EAAYjW,KAAKC,MAAMC,WAE7B,OADA,EAAIuG,EAAM3G,UAAU,+BAAgCmW,GAC7CA,CACX,CACAC,qBAAAA,CAAsBD,EAAW9Y,GAC7B5B,KAAK8Z,gBAAgB7D,IAAIyE,EAAW9Y,EACxC,CACAsE,IAAAA,CAAK0U,EAASC,EAAeC,EAAQrI,GACjC,OAAOnR,EAAUtB,UAAM,OAAQ,GAAQ,aACnC,EAAIkL,EAAM3G,UAAU,+BAAgCwW,KAAKC,UAAUJ,IACnE,MAAMF,EAAY1a,KAAKya,eACvB,IACI,IAAIlO,QAAkBvM,KAAK6Z,kBAAkB3T,KAAK6U,KAAKC,UAAU9b,OAAO+b,OAAO/b,OAAO+b,OAAO,CAAC,EAAGL,GAAU,CAAEF,UAAWA,KAAejI,GACvIzS,KAAK6Z,kBAAkBzW,OAAO8E,KAAKqE,EAAU5H,YAAaG,IACtD,IAAIC,GACJ,EAAImG,EAAM3G,UAAU,gCAA+B,EAAI0G,EAAWZ,mBAAmBvF,MACjFA,GAASA,EAAM5D,SACgB,QAA9B6D,EAAK8V,EAAcK,aAA0B,IAAPnW,GAAyBA,EAAG1D,KAAKwZ,GAC5E,IAEAA,EAAcjZ,SACd5B,KAAK2a,sBAAsBD,EAAWG,EAAcjZ,QAE5D,CACA,MAAOM,GACH,OAAOL,QAAQC,OAAOI,EAC1B,CACJ,GACJ,CACAiZ,WAAAA,CAAYC,GACR,OAAO9Z,EAAUtB,UAAM,OAAQ,GAAQ,aACnC,EAAIkL,EAAM3G,UAAU,gCAAiC6W,GACrD,MAAMV,EAAY1a,KAAKya,eACvB,IAAIG,EAAU,CACVhJ,OAAQ,eAERtI,OAAQ,CAAE2I,gBAAiBzP,EAAY6W,qBAAsB+B,YAAaA,UAExEpb,KAAK6Z,kBAAkBtI,QAAQwJ,KAAKC,UAAU9b,OAAO+b,OAAO/b,OAAO+b,OAAO,CAAC,EAAGL,GAAU,CAAEF,UAAWA,KAC/G,GACJ,CACAP,cAAAA,CAAerV,EAAOuW,GAElB,IADA,EAAInQ,EAAM3G,UAAU,mDAAkD,EAAI0G,EAAWZ,mBAAmBgR,KAAavW,GACjH,cAAeuW,EAAU,EACzB,EAAInQ,EAAM3G,UAAU,kDACpB,IAAImW,EAAYW,EAASX,UACzB,MAAM9Y,EAAU5B,KAAK8Z,gBAAgBjZ,IAAI6Z,GACrC9Y,IACA,EAAIsJ,EAAM3G,UAAU,mDAAoD3C,GACxEA,EAAQyZ,GAERrb,KAAK8Z,gBAAgBwB,OAAOZ,MAG5B,EAAIxP,EAAM3G,UAAU,wDACI,eAApB8W,EAASzJ,QACT5R,KAAK+Z,mBAAmB/J,SAAQ9F,GAAYA,MAC5ClK,KAAK+Z,mBAAqB,GAC1B/Z,KAAK0I,cAEoB,uBAApB2S,EAASzJ,UACd,EAAI1G,EAAM3G,UAAU,gEAChBvE,KAAKua,6BACL,EAAIrP,EAAM3G,UAAU,yEACpBvE,KAAKua,4BACLva,KAAKua,+BAA4Bja,IAIjD,CACJ,CACAib,cAAAA,CAAeH,EAAaI,GACxB,OAAOla,EAAUtB,UAAM,OAAQ,GAAQ,YACnC,IAAI+E,QACqC,QAAjCA,EAAK/E,KAAK6Z,yBAAsC,IAAP9U,OAAgB,EAASA,EAAGoL,eAAeiL,EAAYrN,OACxGyN,EAAgBJ,EACpB,GACJ,CACAK,MAAAA,CAAOb,EAASc,EAAeF,GAC3B,OAAOla,EAAUtB,UAAM,OAAQ,GAAQ,YACnC,IAAI+E,EAAIwJ,EACR,MAAMoN,EAAc3b,KAAK6Z,kBAAkBzJ,iBACrCsK,EAAY1a,KAAKya,eACvB,IAAImB,EAA8D,QAAzC7W,EAAK2W,EAAcG,wBAAqC,IAAP9W,GAAgBA,EAC1F,MAAM+W,EAAiB,CACnBC,YAAaC,OAAOjZ,EAAWkZ,sBAC/BlO,MAAO4N,EAAYpL,UACnBC,SAAUmL,EAAYnL,SACtBkK,UAAWA,EACXwB,SAAUR,EAAcS,SACxBC,SAAUxB,GAERyB,EAAoBtB,KAAKC,UAAUc,GACnCQ,GAAY,IAAIC,aAAcC,OAAOH,GACrCI,EAAgBC,KAAKC,OAAOC,gBAAgBN,IAC5CO,EAAc,GAAG9Z,EAAW+Z,0BAA0BL,KAC5D,EAAIvR,EAAM3G,UAAU,uCAAwCsY,GAC5D,MAAME,GAAQ,EAAIna,EAAQoa,UAC1B,EAAI9R,EAAM3G,UAAU,kCAAkCwY,0BAA8BnB,KAChFmB,GAASnB,KACT,EAAI1Q,EAAM3G,UAAU,mCACpB,EAAI5B,EAAQsa,6BAA6BJ,UAEJ,QAAjCtO,EAAKvO,KAAK6Z,yBAAsC,IAAPtL,OAAgB,EAASA,EAAG7F,YAAW,GACxF1I,KAAK2a,sBAAsBD,GAAYW,IACnC,IAAI6B,EAAUld,KAAKmd,UAAU9B,EAAUK,EAAeC,EAAYpL,WAClEiL,EAAgB0B,EAAS7B,EAAS,IAEtC,UACUrb,KAAK6Z,kBAAkBtR,SACjC,CACA,MAAOrG,GAEH,MADA,EAAIgJ,EAAM3G,UAAU,sBAAuBrC,GACrCA,CACV,CAKA,OAJK6a,GAASnB,KACV,EAAI1Q,EAAM3G,UAAU,mCACpB,EAAI5B,EAAQsa,6BAA6BJ,IAEtC,CACHlB,YAAaA,EACbkB,aAAa,EAAIla,EAAQya,kBAAkBP,GAEnD,GACJ,CACAM,SAAAA,CAAUE,EAAiB3B,EAAe3N,GACtC,GAA8B,WAA1BsP,EAAgBzL,OAAqB,CACrC,IAAI0L,GAAa,EAAI1D,EAAe2D,kCAAkCF,GAGtE,GADArd,KAAK6Z,kBAAkB7H,sBAAsBjE,EAAOsP,EAAgBjY,QAAQoY,OAAOC,oBAC/EH,EAAY,CACZ,IAAIJ,EAAU,CACVnP,MAAOA,EACP2N,cAAeA,EACf4B,WAAYA,GAEhB,OAAOJ,CACX,CACJ,CACA,OAAO,IACX,CACAQ,gBAAAA,CAAiB9C,EAASc,EAAeiC,GACrC,OAAOrc,EAAUtB,UAAM,OAAQ,GAAQ,YACnC,OAAO,IAAI6B,SAAQ,CAACD,EAASE,IAAWR,EAAUtB,UAAM,OAAQ,GAAQ,YACpE,IAAI+E,EAAIwJ,EAAIC,EAAIC,EAAIC,EACpB,KACI,EAAIxD,EAAM3G,UAAU,oCAAqCwW,KAAKC,UAAUJ,KACxE,EAAI1P,EAAM3G,UAAU,0CAA2CwW,KAAKC,UAAUU,IAC9E,IAAIkC,EAAa,GACbC,EAAmB,GACvBjD,EAAQ5K,SAASoH,IACb,IAAIjG,EAAOiG,EAAKjG,KACZA,EAAKmB,WAAW,mBAChBuL,EAAiBtH,KAAKa,GAEjBjG,EAAKmB,WAAW,QACrBsL,EAAWrH,KAAKa,EACpB,KAEJ,EAAIlM,EAAM3G,UAAU,uCAAwCwW,KAAKC,UAAU4C,KAC3E,EAAI1S,EAAM3G,UAAU,6CAA8CwW,KAAKC,UAAU6C,IACjF,MAAMlC,EAAc3b,KAAK6Z,kBAAkBzJ,iBACrCsK,EAAY1a,KAAKya,eACvB,IAAImB,EAA8D,QAAzC7W,EAAK2W,EAAcG,wBAAqC,IAAP9W,GAAgBA,EAC1F,MAAM+Y,EAA0B,CAC5B/B,YAAaC,OAAOjZ,EAAWkZ,sBAC/BlO,MAAO4N,EAAYpL,UACnBC,SAAUmL,EAAYnL,SACtBkK,UAAWA,EACXwB,SAAUR,EAAcS,SACxBC,SAAUyB,EACVE,SAA0G,QAA/FxP,EAAuB,OAAlBmN,QAA4C,IAAlBA,OAA2B,EAASA,EAAcqC,gBAA6B,IAAPxP,EAAgBA,EAAK,QAErIkO,GAAgB,EAAIrR,EAAM4S,qBAAqBF,GACrDA,EAAwBC,SAA2G,QAA/FvP,EAAuB,OAAlBkN,QAA4C,IAAlBA,OAA2B,EAASA,EAAcqC,gBAA6B,IAAPvP,EAAgBA,EAAK,OAChK,MAAMyP,EAAoB,CACtBlC,YAAaC,OAAOjZ,EAAWkZ,sBAC/BlO,MAAO4N,EAAYpL,UACnBC,SAAUmL,EAAYnL,SACtBkK,UAAWA,EACXwB,SAAUR,EAAcS,SACxBC,SAAUwB,EACVG,SAA0G,QAA/FtP,EAAuB,OAAlBiN,QAA4C,IAAlBA,OAA2B,EAASA,EAAcqC,gBAA6B,IAAPtP,EAAgBA,EAAK,QAE3I,IAAIyP,GAAe,EACfN,EAAWvW,OAAS,IACpB6W,GAAe,GAEnB,IAAIC,EAAwBD,EAAeD,EAAoBH,GAC/D,EAAI5S,EAAM3G,UAAU,qDAAsD2Z,EAAcnD,KAAKC,UAAUmD,IACvG,IAAIC,EAAc,GAEdxC,IACAwC,GAAc,EAAIhT,EAAMiT,YAAYF,EAAuBzC,EAAc4C,QAAS5C,EAAc6C,eAChG,EAAIrT,EAAM3G,UAAU,2CAA4C6Z,IAEpE,MAAMI,EAAaA,IAAM9C,EAAc4C,SAAU,EAAIlT,EAAMqT,kCAAkCL,IACzF,EAAIzb,EAAQ+b,iBAAkB,EAAI/b,EAAQsa,6BAA6BmB,IAAe,EAAIzb,EAAQgc,sBAAsBP,IAC5H,EAAIlT,EAAM3G,UAAU,2CAA4C6Z,GAChE,MAAMrB,GAAQ,EAAIna,EAAQoa,SACtBD,GAASnB,KACT,EAAI1Q,EAAM3G,UAAU,sCAAsCwY,0BAA8BnB,KACxF4C,WAEqC,QAAjC9P,EAAK1O,KAAK6Z,yBAAsC,IAAPnL,OAAgB,EAASA,EAAGhG,YAAW,GACxF1I,KAAK2a,sBAAsBD,GAAYW,IACnC,IAAItW,EAAIwJ,EAAIC,EAAIC,EAChB,IACI,IAAI4O,EAAkBhC,EACtB,GAA8B,WAA1BgC,EAAgBzL,OAAqB,CACrC5R,KAAK6Z,kBAAkB7H,sBAAsBmM,EAAsBpQ,MAAOsP,EAAgBjY,QAAQoY,OAAOC,qBACzG,EAAIvS,EAAM3G,UAAU,sDAAuDwW,KAAKC,UAAUqC,IAC1F,IAAIC,GAAa,EAAI1D,EAAe2D,kCAAkCF,GACtE,IAAIC,EAmBA,MAAM,IAAIva,EAAWqF,gBAAgBrF,EAAWsF,wBAAwBuW,eAnB5D,CACZ,IAAIC,GAC6F,QAA3FtQ,EAAwC,QAAlCxJ,EAAKsY,EAAgBjY,eAA4B,IAAPL,OAAgB,EAASA,EAAG+Z,iBAA8B,IAAPvQ,OAAgB,EAASA,EAAG,KAAO,eAAgB8O,EAAgBjY,QAAQ0Z,UAAU,KAC1LD,EAAaxB,EAAgBjY,QAAQ0Z,UAAU,GAAG,eAEtD,IAAI5B,EAAU,CACVnP,MAAO4N,EAAYpL,UACnBmL,cAAeA,EACf4B,WAAYA,EACZE,OAAQte,OAAO+b,OAAO/b,OAAO+b,OAAO,CAAC,EAAsC,QAAlCzM,EAAK6O,EAAgBjY,eAA4B,IAAPoJ,OAAgB,EAASA,EAAGgP,QAAS,CAAEqB,WAAYA,KAEtIE,EAAkB1B,EAAgBjY,QAAQ0Z,UAAUE,MAAK5H,GAAsB,oBAAdA,EAAKjG,OACtE4N,GAAmBA,EAAgBE,wBACnC/B,EAAQgC,aAAeH,EAAgBE,wBAE3C,EAAI/T,EAAM3G,UAAU,8CAA+CwW,KAAKC,UAAUkC,IAClFtb,EAAQsb,EACZ,CAIJ,MACK,GAA8B,iBAA1BG,EAAgBzL,SAAiE,QAAlCnD,EAAK4O,EAAgBjY,eAA4B,IAAPqJ,OAAgB,EAASA,EAAGxJ,MAC1H,MAAM,IAAIlC,EAAWqF,gBAAgBiV,EAAgBjY,QAAQH,KAErE,CACA,MAAO/C,GACHJ,EAAOI,EACX,KAEJ,UACUlC,KAAK6Z,kBAAkBtR,SACjC,CACA,MAAOrG,GAEH,MADA,EAAIgJ,EAAM3G,UAAU,gCAAiCrC,GAC/CA,CACV,CAMA,IALK6a,GAASnB,GACV4C,KAEJ,EAAItT,EAAM3G,UAAU,kDAAmDoZ,GACvE3d,KAAKmb,YAAYsB,GACbkB,EAAmB,CACnB,MAAMrN,EAAO,CACTwL,eAAgBgC,EAChBC,SAAUrC,EAAcqC,SACxBQ,aAAc7C,EAAc6C,cAE5BL,IACA5N,EAAK2N,kBAAoBA,IAE7B,EAAI/S,EAAM3G,UAAU,4CAA6CwW,KAAKC,UAAU1K,IAChFqN,EAAkBrN,EACtB,CACJ,CACA,MAAOY,IACH,EAAIhG,EAAM3G,UAAU,sCAAuC2M,GAC3DpP,EAAOoP,EACX,CACJ,KACJ,GACJ,EAEJ9R,EAAQua,OAASA,C,qCCjUjBza,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQ6E,QAAU7E,EAAQua,OAASva,EAAQ+f,wBAA0B/f,EAAQuL,kBAAoBvL,EAAQmD,wBAAqB,EAC9H,IAAIqI,EAAY9K,EAAQ,OACxBZ,OAAOC,eAAeC,EAAS,qBAAsB,CAAEwB,YAAY,EAAMC,IAAK,WAAc,OAAO+J,EAAUrI,kBAAoB,IACjI,IAAI6c,EAAsBtf,EAAQ,MAClCZ,OAAOC,eAAeC,EAAS,oBAAqB,CAAEwB,YAAY,EAAMC,IAAK,WAAc,OAAOue,EAAoBzU,iBAAmB,IACzI,IAAI0U,EAA4Bvf,EAAQ,OACxCZ,OAAOC,eAAeC,EAAS,0BAA2B,CAAEwB,YAAY,EAAMC,IAAK,WAAc,OAAOwe,EAA0BF,uBAAyB,IAC3J,IAAIG,EAAWxf,EAAQ,OACvBZ,OAAOC,eAAeC,EAAS,SAAU,CAAEwB,YAAY,EAAMC,IAAK,WAAc,OAAOye,EAAS3F,MAAQ,IACxG,IAAIjX,EAAY5C,EAAQ,OACxBZ,OAAOC,eAAeC,EAAS,UAAW,CAAEwB,YAAY,EAAMC,IAAK,WAAc,OAAO6B,EAAUuB,OAAS,G,qCCX3G,IAAIlE,EAAmBC,MAAQA,KAAKD,kBAAqBb,OAAOe,OAAU,SAASC,EAAGC,EAAGC,EAAGC,QAC7EC,IAAPD,IAAkBA,EAAKD,GAC3B,IAAIG,EAAOrB,OAAOsB,yBAAyBL,EAAGC,GACzCG,KAAS,QAASA,GAAQJ,EAAEM,WAAaF,EAAKG,UAAYH,EAAKI,gBAClEJ,EAAO,CAAEK,YAAY,EAAMC,IAAK,WAAa,OAAOV,EAAEC,EAAI,IAE5DlB,OAAOC,eAAee,EAAGG,EAAIE,EACjC,EAAM,SAASL,EAAGC,EAAGC,EAAGC,QACTC,IAAPD,IAAkBA,EAAKD,GAC3BF,EAAEG,GAAMF,EAAEC,EACd,GACIU,EAAsBd,MAAQA,KAAKc,qBAAwB5B,OAAOe,OAAU,SAASC,EAAGa,GACxF7B,OAAOC,eAAee,EAAG,UAAW,CAAEU,YAAY,EAAMvB,MAAO0B,GACnE,EAAK,SAASb,EAAGa,GACbb,EAAE,WAAaa,CACnB,GACIC,EAAgBhB,MAAQA,KAAKgB,cAAiB,SAAUC,GACxD,GAAIA,GAAOA,EAAIR,WAAY,OAAOQ,EAClC,IAAIC,EAAS,CAAC,EACd,GAAW,MAAPD,EAAa,IAAK,IAAIb,KAAKa,EAAe,YAANb,GAAmBlB,OAAOiC,UAAUC,eAAeC,KAAKJ,EAAKb,IAAIL,EAAgBmB,EAAQD,EAAKb,GAEtI,OADAU,EAAmBI,EAAQD,GACpBC,CACX,EACII,EAAatB,MAAQA,KAAKsB,WAAc,SAAUC,EAASC,EAAYC,EAAGC,GAC1E,SAASC,EAAMtC,GAAS,OAAOA,aAAiBoC,EAAIpC,EAAQ,IAAIoC,GAAE,SAAUG,GAAWA,EAAQvC,EAAQ,GAAI,CAC3G,OAAO,IAAKoC,IAAMA,EAAII,WAAU,SAAUD,EAASE,GAC/C,SAASC,EAAU1C,GAAS,IAAM2C,EAAKN,EAAUO,KAAK5C,GAAS,CAAE,MAAO6C,GAAKJ,EAAOI,EAAI,CAAE,CAC1F,SAASC,EAAS9C,GAAS,IAAM2C,EAAKN,EAAU,SAASrC,GAAS,CAAE,MAAO6C,GAAKJ,EAAOI,EAAI,CAAE,CAC7F,SAASF,EAAKd,GAAUA,EAAOkB,KAAOR,EAAQV,EAAO7B,OAASsC,EAAMT,EAAO7B,OAAOgD,KAAKN,EAAWI,EAAW,CAC7GH,GAAMN,EAAYA,EAAUY,MAAMf,EAASC,GAAc,KAAKS,OAClE,GACJ,EACIqS,EAAmBtU,MAAQA,KAAKsU,iBAAoB,SAAUrT,GAC9D,OAAQA,GAAOA,EAAIR,WAAcQ,EAAM,CAAE,QAAWA,EACxD,EACA/B,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQmgB,0BAA4BngB,EAAQogB,0BAA4BpgB,EAAQqgB,wBAA0BrgB,EAAQsgB,4BAA8BtgB,EAAQugB,WAAavgB,EAAQwgB,WAAaxgB,EAAQygB,cAAgBzgB,EAAQ0gB,qBAAuB1gB,EAAQ2gB,cAAgB3gB,EAAQ4gB,cAAgB5gB,EAAQ6gB,aAAe7gB,EAAQ8gB,cAAgB9gB,EAAQ+gB,gBAAkB/gB,EAAQghB,gBAAkBhhB,EAAQihB,mBAAgB,EAC5ZjhB,EAAQwO,gBAAkBA,EAC1BxO,EAAQkhB,WAAaA,EACrBlhB,EAAQmhB,WAAaA,EACrBnhB,EAAQohB,UAAYA,EACpBphB,EAAQqhB,UAAYA,EACpBrhB,EAAQshB,UAAYA,EACpBthB,EAAQuhB,UAAYA,EACpBvhB,EAAQwhB,WAAaA,EACrBxhB,EAAQyhB,WAAaA,EACrBzhB,EAAQ0hB,UAAYA,EACpB1hB,EAAQ2hB,UAAYA,EACpB3hB,EAAQ4O,QAAUA,EAClB5O,EAAQ4hB,UAAYA,EACpB,MAAMC,EAAUjgB,EAAalB,EAAQ,QAC/BmL,EAAanL,EAAQ,OACrB6C,EAAU7C,EAAQ,OAClBohB,EAAc5M,EAAgBxU,EAAQ,QACtCgD,EAAM9B,EAAalB,EAAQ,QAC3BqhB,EAAgBrhB,EAAQ,OAgB9B,SAAS8N,IAGL,OAAOsT,EAAY/L,QAAQiM,KAAKvU,SACpC,CACA,SAASyT,EAAWe,GAChB,OAAO,EAAIpW,EAAW5B,gBAAe,EAAI8X,EAAcG,cAAa,EAAIH,EAAcI,eAAeF,EAAKjiB,EAAQ6gB,cAAe7gB,EAAQ4gB,eAC7I,CACA,SAASO,EAAWiB,GAChB,OAAO,EAAIL,EAAcG,cAAa,EAAIH,EAAcI,gBAAe,EAAItW,EAAWZ,mBAAmBmX,GAAMpiB,EAAQ4gB,eAAgB5gB,EAAQ6gB,aACnJ,CACA,SAASO,EAAUlT,GACfxK,EAAIyB,SAAS,eAAc,EAAI5B,EAAQ4K,aAAaD,MACpD,IAAImU,GAAe,EAAIN,EAAcG,aAAahU,EAAWlO,EAAQsgB,6BACrE,MAAO,CAACtgB,EAAQwgB,WAAYxgB,EAAQugB,WAAY8B,GAAcvJ,KAAK9Y,EAAQygB,cAC/E,CACA,SAASY,EAAUiB,GACf,MAAOC,EAAQ/P,EAAQgQ,GAAcF,EAAOG,MAAMziB,EAAQygB,eAC1D,GAAI8B,IAAWviB,EAAQwgB,YAAchO,IAAWxS,EAAQugB,WACpD,MAAM,IAAI9b,MAAM,0CAEpB,QAAmBvD,IAAfshB,EACA,MAAM,IAAI/d,MAAM,2BAEpB,MAAMyJ,GAAY,EAAI6T,EAAcI,eAAeK,EAAYxiB,EAAQsgB,6BACvE,QAAkBpf,IAAdgN,GAA2BA,EAAUjG,SAAWjI,EAAQmgB,0BACxD,MAAM,IAAI1b,MAAM,oDAEpB,OAAOyJ,CACX,CAEA,SAASoT,EAAUoB,GACf,OAAO,EAAIX,EAAcG,aAAaQ,EAAO1iB,EAAQ6gB,aACzD,CACA,SAASU,EAAUoB,GACf,OAAO,EAAIZ,EAAcI,eAAeQ,EAAS3iB,EAAQ6gB,aAC7D,CAEA,SAASW,EAAWtX,GAChB,OAAO,EAAI6X,EAAcI,eAAe,CAAChB,EAAWjX,EAAO0Y,QAASzB,EAAWjX,EAAOlE,UAAU8S,KAAK9Y,EAAQ8gB,eAAgB9gB,EAAQ2gB,cACzI,CACA,SAASc,EAAWvc,GAChB,IAAIS,EAAIwJ,EACR,MAAMjF,GAAS,EAAI6X,EAAcG,aAAahd,EAAMlF,EAAQ2gB,eAAe8B,MAAMziB,EAAQ8gB,eACnF8B,EAAS1B,EAAgC,QAApBvb,EAAKuE,EAAO,UAAuB,IAAPvE,EAAgBA,EAAK,MACtEK,EAAUkb,EAAgC,QAApB/R,EAAKjF,EAAO,UAAuB,IAAPiF,EAAgBA,EAAK,MAC7E,MAAO,CAAEyT,SAAQ5c,UACrB,CAEA,SAAS0b,EAAUxX,GACf,MAAO,CAACiX,EAAWjX,EAAO0Y,QAASzB,EAAWjX,EAAOlE,SAAUsb,EAAUpX,EAAO2Y,YAAY/J,KAAK9Y,EAAQ8gB,cAC7G,CACA,SAASa,EAAUmB,GACf,IAAInd,EAAIwJ,EAAIC,EACZ,MAAMlF,EAAS4Y,EAAIL,MAAMziB,EAAQ8gB,eAC3B8B,EAAS1B,EAAgC,QAApBvb,EAAKuE,EAAO,UAAuB,IAAPvE,EAAgBA,EAAK,MACtEK,EAAUkb,EAAgC,QAApB/R,EAAKjF,EAAO,UAAuB,IAAPiF,EAAgBA,EAAK,MACvE0T,EAAYtB,EAA+B,QAApBnS,EAAKlF,EAAO,UAAuB,IAAPkF,EAAgBA,EAAK,MACxElK,GAAO,EAAI6c,EAAcI,eAAejY,EAAOkN,MAAM,EAAG,GAAG0B,KAAK9Y,EAAQ8gB,eAAgB9gB,EAAQ2gB,eACtG,MAAO,CAAEiC,SAAQ5c,UAAS6c,YAAW3d,OACzC,CACA,SAAS0J,EAAQmU,EAAOC,EAAOC,EAAOC,GAClC,OAAOhhB,EAAUtB,KAAMiI,eAAW,GAAQ,UAAWsa,EAAKC,EAAK/P,EAAK5F,EAAS4V,EAAMC,KAAKC,MAAMle,KAAKC,QAC/F,MAAMsd,EAAS,CAAEY,IAAKxjB,EAAQghB,gBAAiByC,IAAKzjB,EAAQ+gB,iBACtD2C,EAAMtC,EAAU3T,EAAQS,WACxByV,EAAMN,EAAMhQ,EACZuQ,EAAM,oBACN5d,EAAU,CAAE0d,MAAKP,MAAKC,MAAKQ,MAAKP,MAAKM,OACrCze,EAAOsc,EAAW,CAAEoB,SAAQ5c,YAElCtC,EAAIyB,SAAS,eAAesI,EAAQW,cAAcX,EAAQW,UAAUnG,WACpE,MAAM4a,EAAYf,EAAY/L,QAAQiM,KAAK6B,SAAS3e,EAAMuI,EAAQW,WAClE,OAAOsT,EAAU,CAAEkB,SAAQ5c,UAAS6c,aACxC,GACJ,CACA,SAASjB,EAAUkB,GACf,OAAO5gB,EAAUtB,UAAM,OAAQ,GAAQ,YACnC,MAAM,OAAEgiB,EAAM,QAAE5c,EAAO,KAAEd,EAAI,UAAE2d,GAAclB,EAAUmB,GACvD,GAAIF,EAAOY,MAAQxjB,EAAQghB,iBAAmB4B,EAAOa,MAAQzjB,EAAQ+gB,gBACjE,MAAM,IAAItc,MAAM,gCAEpB,MAAMyJ,EAAYmT,EAAUrb,EAAQ0d,KACpC,OAAO7B,EAAQiC,OAAO5V,EAAWhJ,EAAM2d,EAC3C,GACJ,CAnGA7iB,EAAQihB,cAAgB,OACxBjhB,EAAQghB,gBAAkB,QAC1BhhB,EAAQ+gB,gBAAkB,MAC1B/gB,EAAQ8gB,cAAgB,IACxB9gB,EAAQ6gB,aAAe,YACvB7gB,EAAQ4gB,cAAgB,OACxB5gB,EAAQ2gB,cAAgB,OACxB3gB,EAAQ0gB,qBAAuB,GAC/B1gB,EAAQygB,cAAgB,IACxBzgB,EAAQwgB,WAAa,MACrBxgB,EAAQugB,WAAa,MACrBvgB,EAAQsgB,4BAA8B,YACtCtgB,EAAQqgB,wBAA0B,IAClCrgB,EAAQogB,0BAA4B,MACpCpgB,EAAQmgB,0BAA4B,E,mCCtEpCrgB,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQ8O,qBAAuB9O,EAAQ+jB,6BAA+B/jB,EAAQ6O,2BAAwB,EACtG7O,EAAQ6O,sBAAwB,SAChC7O,EAAQ+jB,6BAA+B,OACvC/jB,EAAQ8O,qBAAuB,K,mCCLnBpO,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAACA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OACbZ,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQme,iCAAmCA,EAC3Cne,EAAQgkB,+CAAiDA,EACzD,MAAMlY,EAAQpL,EAAQ,OACtB,SAASyd,EAAiCF,GACtC,IAAIgG,EAA2BD,EAA+C/F,GAC9E,OAAOgG,CACX,CACA,SAASD,EAA+C/F,GACpD,IAAInc,EAAS,CAAC,GACd,EAAIgK,EAAM3G,UAAU,yEAA0EwW,KAAKC,UAAUqC,IAC7G,IAAIiG,EAAoBjG,EAAgBjY,QAAQ0Z,UAAUE,MAAK5H,GAAsB,oBAAdA,EAAKjG,OAC5E,MAAMoS,EAAalG,EAAgBjY,QAAQ0Z,UAAUE,MAAK5H,GAAsB,aAAdA,EAAKjG,OACjEqS,EAAWnG,EAAgBjY,QAAQ0Z,UAAUE,MAAK5H,GAAsB,cAAdA,EAAKjG,OACrE,GAAIoS,IAAeD,EAAmB,EAClC,EAAIpY,EAAM3G,UAAU,oEACpB,IAAIkf,EAAUF,EAAWE,QACzBA,EAAU,OAASF,EAAWG,QAAU,IAAMD,EAC9C,IAAInf,EAAO,CACPqf,SAAUJ,GAEVC,IACAlf,EAAKsf,UAAYJ,GAErBF,EAAoB,CAChBnS,KAAM,kBACN0S,SAAU,CAAC,CACHC,UAAW,MACXC,UAAW,CAACN,GACZO,QAAS,CAAC,uBACVC,MAAO,CAAC,EACR3f,KAAMA,IAGtB,CA8BA,OA7BA,EAAI4G,EAAM3G,UAAU,0EAA2EwW,KAAKC,UAAUsI,IAC9GA,EAAkBO,SAAS7T,SAAQoH,IAC/B,IAAI8M,EAAS,GACTL,EAAW,GACfzM,EAAK2M,UAAU/T,SAAQmU,IACnB,IAAIC,EAAaD,EAAYtC,MAAM,KAEnC,IADA,EAAI3W,EAAM3G,UAAU,8DAA+D6f,EAAW/c,QAC1F+c,EAAW/c,QAAU,EAAG,CACxB,IAAIgd,EAAQD,EAAW5N,MAAM,EAAG,GAAG0B,KAAK,KACxCgM,EAAO3N,KAAK8N,GACZR,EAAStN,KAAK4N,IACd,EAAIjZ,EAAM3G,UAAU,0DAA2D8f,EAAO,eAAgBF,EAC1G,KAEA/M,EAAK9S,MAAQ8S,EAAK9S,KAAKqf,WACvBvM,EAAK9S,KAAKqf,SAASxS,KAAO,YAE1BiG,EAAK9S,MAAQ8S,EAAK9S,KAAKsf,YACvBxM,EAAK9S,KAAKsf,UAAUzS,KAAO,aAE/BjQ,EAAOkW,EAAK0M,WAAa,CACrBI,OAAQA,EACRL,SAAUA,EACVG,QAAS5M,EAAK4M,QACdC,MAAO7M,EAAK6M,MACZ7e,QAASgS,EAAK9S,OAElB,EAAI4G,EAAM3G,UAAU,0DAA2DwW,KAAKC,UAAU9Z,GAAQ,IAEnGA,CACX,C,qCCjEA,IAAInB,EAAmBC,MAAQA,KAAKD,kBAAqBb,OAAOe,OAAU,SAASC,EAAGC,EAAGC,EAAGC,QAC7EC,IAAPD,IAAkBA,EAAKD,GAC3B,IAAIG,EAAOrB,OAAOsB,yBAAyBL,EAAGC,GACzCG,KAAS,QAASA,GAAQJ,EAAEM,WAAaF,EAAKG,UAAYH,EAAKI,gBAClEJ,EAAO,CAAEK,YAAY,EAAMC,IAAK,WAAa,OAAOV,EAAEC,EAAI,IAE5DlB,OAAOC,eAAee,EAAGG,EAAIE,EACjC,EAAM,SAASL,EAAGC,EAAGC,EAAGC,QACTC,IAAPD,IAAkBA,EAAKD,GAC3BF,EAAEG,GAAMF,EAAEC,EACd,GACIU,EAAsBd,MAAQA,KAAKc,qBAAwB5B,OAAOe,OAAU,SAASC,EAAGa,GACxF7B,OAAOC,eAAee,EAAG,UAAW,CAAEU,YAAY,EAAMvB,MAAO0B,GACnE,EAAK,SAASb,EAAGa,GACbb,EAAE,WAAaa,CACnB,GACIC,EAAgBhB,MAAQA,KAAKgB,cAAiB,SAAUC,GACxD,GAAIA,GAAOA,EAAIR,WAAY,OAAOQ,EAClC,IAAIC,EAAS,CAAC,EACd,GAAW,MAAPD,EAAa,IAAK,IAAIb,KAAKa,EAAe,YAANb,GAAmBlB,OAAOiC,UAAUC,eAAeC,KAAKJ,EAAKb,IAAIL,EAAgBmB,EAAQD,EAAKb,GAEtI,OADAU,EAAmBI,EAAQD,GACpBC,CACX,EACIoT,EAAmBtU,MAAQA,KAAKsU,iBAAoB,SAAUrT,GAC9D,OAAQA,GAAOA,EAAIR,WAAcQ,EAAM,CAAE,QAAWA,EACxD,EACA/B,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQ6E,aAAU,EAClB,MAAMxB,EAAqB3C,EAAQ,OAC7BohB,EAAc5M,EAAgBxU,EAAQ,QACtC6C,EAAU7C,EAAQ,OAClB8C,EAAU9C,EAAQ,OAClBgD,EAAM9B,EAAalB,EAAQ,QAC3BwkB,EAAUxkB,EAAQ,OAClBykB,EAAczkB,EAAQ,OAC5B,MAAMmE,EACFf,WAAAA,CAAYshB,EAAQC,OAAYnkB,GAC5B,MAAMokB,GAAe,EAAI/hB,EAAQgiB,uBAEjC7hB,EAAIyB,SAAS,qCACTkgB,GACAzkB,KAAK4kB,qBAAqBH,EAAWD,GAGzCxkB,KAAK6kB,SAAW,GAChB7kB,KAAK8kB,SAAW,GAChB9kB,KAAKwkB,OAASA,EACd1hB,EAAIyB,SAAS,8CACbzB,EAAIyB,SAASmgB,GACb,MAAMK,EAAWL,EAAatV,QAAQnL,EAAQ+gB,SAAWR,GACzD,GAAwB,qBAAbO,GAAyC,OAAbA,EAGnC,OAFAjiB,EAAIyB,SAAS,sBACbvE,KAAKilB,MAAQ,CAAC,GAIlB,GADAniB,EAAIyB,SAASwgB,IACK,OAAbA,QAAkC,IAAbA,OAAsB,EAASA,EAAS1d,QAAU,EAAG,CAC3E,IAAI6d,GAAW,EAAItiB,EAAQyG,eAAe0b,GAC1C/kB,KAAKilB,MAAQC,CACjB,CACApiB,EAAIyB,SAAS,kBAAkBvE,KAAKilB,SACV,qBAAfjlB,KAAKilB,OAAuC,MAAdjlB,KAAKilB,QAC1CjlB,KAAKilB,MAAQ,CAAC,EAEtB,CACAL,oBAAAA,CAAqBO,EAAcC,GAC/B,GAAID,GAAgBA,EAAa9d,OAAS,GAAK+d,GAAcA,EAAW/d,OAAS,EAAG,CAEhFvE,EAAIyB,SAAS,8CACbzB,EAAIyB,SAASmgB,cACb,MAAMK,EAAWL,aAAatV,QAAQnL,EAAQ+gB,SAAWG,GACzD,GAAwB,qBAAbJ,GAAyC,OAAbA,EAEnC,YADAjiB,EAAIyB,SAAS,wBAGjBzB,EAAIyB,SAASwgB,IACK,OAAbA,QAAkC,IAAbA,OAAsB,EAASA,EAAS1d,QAAU,IAExEvE,EAAIyB,SAAS,2BAA4B4gB,EAAc,KAAMC,GAC7DV,aAAaxL,QAAQjV,EAAQ+gB,SAAWI,EAAYL,GAEpDjiB,EAAIyB,SAAS,2BAA4B4gB,GACzCT,aAAaW,WAAWphB,EAAQ+gB,SAAWG,GAEnD,MAEIriB,EAAIyB,SAAS,oBAAqB4gB,EAE1C,CACAtd,WAAAA,CAAYsF,EAAS4G,EAAK5O,EAAK,KAC3B,IAAIiS,EAAO,CACPjS,GAAIA,EACJmgB,UAAW7gB,KAAKC,MAAMC,WACtBwI,QAASA,GAEbnN,KAAKulB,SAASnO,EAAMrD,EACxB,CACAwR,QAAAA,CAASnO,EAAMrD,GACX,IAAIyR,EAAWvhB,EAAQ+gB,SAAWhlB,KAAKwkB,OACvC,MAAME,GAAe,EAAI/hB,EAAQgiB,uBACjC7hB,EAAIyB,SAASvE,KAAKilB,OAClBniB,EAAIyB,SAAS,kBAAkBvE,KAAKilB,UAAUlR,MAAQqD,KACtDpX,KAAKilB,MAAMlR,GAAOqD,EAClB,IAAIqO,GAAgB,EAAI7iB,EAAQyH,mBAAmBrK,KAAKilB,OACxDniB,EAAIyB,SAAS,YAAYwP,OAAS/T,KAAKilB,SACvCP,EAAaxL,QAAQsM,EAAUC,EACnC,CACArW,OAAAA,CAAQ2E,GAEJ,OADAjR,EAAIyB,SAAS,uBAAuBwP,OAAS/T,KAAKilB,SAC3CjlB,KAAKilB,MAAMlR,EACtB,CACA2R,sBAAAA,GACI,IAAI3gB,EAAIwJ,EAAIC,EAAIC,EAChB,MAAMkX,EAAQ,GACRC,EAAU,GAChB,GAAI5lB,KAAK6kB,SAASxd,OAAS,IAA+B,QAAxBtC,EAAK/E,KAAK8kB,gBAA6B,IAAP/f,OAAgB,EAASA,EAAGsC,QAAU,EACpG,MAAO,CACHwe,GAAI7lB,KAAK6kB,SACTiB,GAAI9lB,KAAK8kB,UAGjB,IAAIiB,EAAqF,QAA7ExX,EAAKvO,KAAKoP,QAAQ3M,EAAmBujB,0CAAuD,IAAPzX,OAAgB,EAASA,EAAGpB,QACxH4Y,IACDA,GAAO,EAAIpjB,EAAQ4K,aAAa2T,EAAY/L,QAAQ8Q,YAAYL,IAChE5lB,KAAK6H,YAAYke,EAAMtjB,EAAmBujB,oCAE9C,IAAIH,EAAsF,QAAhFrX,EAAKxO,KAAKoP,QAAQ3M,EAAmByjB,6CAA0D,IAAP1X,OAAgB,EAASA,EAAGrB,QACzH0Y,IACDA,GAAK,EAAIljB,EAAQ4K,aAAa2T,EAAY/L,QAAQ8Q,YAAYN,IAC9D3lB,KAAK6H,YAAYge,EAAIpjB,EAAmByjB,uCAE5C,IAAIpB,EAA4F,QAAhFrW,EAAKzO,KAAKoP,QAAQ3M,EAAmB0jB,6CAA0D,IAAP1X,OAAgB,EAASA,EAAGtB,QACpI,IAAK2X,EAAU,CAEX,IAAIsB,EAAWlF,EAAY/L,QAAQ8Q,YAAY,IAC/CnB,GAAW,EAAIniB,EAAQ4K,aAAa6Y,GACpCpmB,KAAK6H,YAAYid,EAAUriB,EAAmB0jB,qCAClD,CAGA,OAFAnmB,KAAK8kB,SAAWA,EAChB9kB,KAAK6kB,UAAW,EAAIN,EAAY8B,QAAQR,EAAIE,EAAM,CAAEO,WAAY,KAAM3hB,WAC/D,CACHkhB,GAAI7lB,KAAK6kB,SACTiB,GAAI9lB,KAAK8kB,SAEjB,CACA/X,eAAAA,CAAgB1H,EAAK0O,IACjB,EAAIuQ,EAAQ/f,UAAU,0CAA0CE,KAAKC,SACrE,IAAI6hB,EAAYvmB,KAAK0lB,0BACrB,EAAIpB,EAAQ/f,UAAU,wCAAwCE,KAAKC,SACnE,IAAIxD,EAASqjB,EAAYiC,IAAIxT,QAAQ3N,EAAKkhB,EAAUV,IAAIlhB,WACxD3E,KAAK6H,YAAY3G,EAAQ6S,IACzB,EAAIuQ,EAAQ/f,UAAU,wCAAwCE,KAAKC,QACvE,CACAwI,aAAAA,CAAc6G,IACV,EAAIuQ,EAAQ/f,UAAU,wCAAwCE,KAAKC,SACnE,IAAI0S,EAAOpX,KAAKoP,QAAQ2E,GACxB,GAAIqD,GAAQA,EAAKjK,QAAS,CACtB,IAAIoZ,EAAYvmB,KAAK0lB,0BACrB,EAAIpB,EAAQ/f,UAAU,sCAAsCE,KAAKC,SACjE,IAAIxD,EAASqjB,EAAYiC,IAAI1d,QAAQsO,EAAKjK,QAASoZ,EAAUV,IAAIlhB,SAAS4f,EAAYkC,IAAIC,MAE1F,OADA,EAAIpC,EAAQ/f,UAAU,sCAAsCE,KAAKC,SAC1DxD,CACX,CACA,OAAO,IACX,CACAkM,UAAAA,CAAW2G,OAAMzT,GACb,QAAYA,IAARyT,EAAmB,CAEnB/T,KAAKilB,MAAQ,CAAC,EACd,IAAIO,EAAWvhB,EAAQ+gB,SAAWhlB,KAAKwkB,OACvCE,aAAaxL,QAAQsM,EAAU,GACnC,KACK,CACD,IAAIA,EAAWvhB,EAAQ+gB,SAAWhlB,KAAKwkB,OACvC,MAAME,GAAe,EAAI/hB,EAAQgiB,uBACjC7hB,EAAIyB,SAASvE,KAAKilB,OAClBjlB,KAAKilB,MAAMlR,GAAO,KAClB,IAAI0R,GAAgB,EAAI7iB,EAAQyH,mBAAmBrK,KAAKilB,OACxDniB,EAAIyB,SAAS,sBAAsBwP,OAAS/T,KAAKilB,SACjDP,EAAaxL,QAAQsM,EAAUC,EACnC,CACJ,EAEJrmB,EAAQ6E,QAAUA,EAClBA,EAAQ+gB,SAAW,e,mCCxLnB9lB,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQiW,oCAAsCjW,EAAQunB,mCAAqCvnB,EAAQ+mB,qCAAuC/mB,EAAQ4mB,kCAAoC5mB,EAAQ8mB,qCAAuC9mB,EAAQwnB,qBAAuBxnB,EAAQ2R,oCAAsC3R,EAAQiQ,yBAA2BjQ,EAAQqO,qBAAuBrO,EAAQ4U,gCAAkC5U,EAAQ4N,wBAA0B5N,EAAQsM,4BAA8BtM,EAAQ8E,4BAAyB,EACvgB9E,EAAQ8E,uBAAyB,KACjC9E,EAAQsM,4BAA8B,UACtCtM,EAAQ4N,wBAA0B,QAClC5N,EAAQ4U,gCAAkC,QAC1C5U,EAAQqO,qBAAuB,QAC/BrO,EAAQiQ,yBAA2B,KACnCjQ,EAAQ2R,oCAAsC,MAC9C3R,EAAQwnB,qBAAuB,iBAC/BxnB,EAAQ8mB,qCAAuC,MAC/C9mB,EAAQ4mB,kCAAoC,MAC5C5mB,EAAQ+mB,qCAAuC,OAC/C/mB,EAAQunB,mCAAqC,cAC7CvnB,EAAQiW,oCAAsC,6B,mCCd9CnW,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQynB,6BAA+BznB,EAAQ0nB,8CAA2C,EAC1F1nB,EAAQ0nB,yCAA2C,SACnD1nB,EAAQynB,6BAA+B,CACnCE,gBAAiB,U,qCCLTjnB,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAACA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OACb,IAAIC,EAAmBC,MAAQA,KAAKD,kBAAqBb,OAAOe,OAAU,SAASC,EAAGC,EAAGC,EAAGC,QAC7EC,IAAPD,IAAkBA,EAAKD,GAC3B,IAAIG,EAAOrB,OAAOsB,yBAAyBL,EAAGC,GACzCG,KAAS,QAASA,GAAQJ,EAAEM,WAAaF,EAAKG,UAAYH,EAAKI,gBAClEJ,EAAO,CAAEK,YAAY,EAAMC,IAAK,WAAa,OAAOV,EAAEC,EAAI,IAE5DlB,OAAOC,eAAee,EAAGG,EAAIE,EACjC,EAAM,SAASL,EAAGC,EAAGC,EAAGC,QACTC,IAAPD,IAAkBA,EAAKD,GAC3BF,EAAEG,GAAMF,EAAEC,EACd,GACIU,EAAsBd,MAAQA,KAAKc,qBAAwB5B,OAAOe,OAAU,SAASC,EAAGa,GACxF7B,OAAOC,eAAee,EAAG,UAAW,CAAEU,YAAY,EAAMvB,MAAO0B,GACnE,EAAK,SAASb,EAAGa,GACbb,EAAE,WAAaa,CACnB,GACIC,EAAgBhB,MAAQA,KAAKgB,cAAiB,SAAUC,GACxD,GAAIA,GAAOA,EAAIR,WAAY,OAAOQ,EAClC,IAAIC,EAAS,CAAC,EACd,GAAW,MAAPD,EAAa,IAAK,IAAIb,KAAKa,EAAe,YAANb,GAAmBlB,OAAOiC,UAAUC,eAAeC,KAAKJ,EAAKb,IAAIL,EAAgBmB,EAAQD,EAAKb,GAEtI,OADAU,EAAmBI,EAAQD,GACpBC,CACX,EACII,EAAatB,MAAQA,KAAKsB,WAAc,SAAUC,EAASC,EAAYC,EAAGC,GAC1E,SAASC,EAAMtC,GAAS,OAAOA,aAAiBoC,EAAIpC,EAAQ,IAAIoC,GAAE,SAAUG,GAAWA,EAAQvC,EAAQ,GAAI,CAC3G,OAAO,IAAKoC,IAAMA,EAAII,WAAU,SAAUD,EAASE,GAC/C,SAASC,EAAU1C,GAAS,IAAM2C,EAAKN,EAAUO,KAAK5C,GAAS,CAAE,MAAO6C,GAAKJ,EAAOI,EAAI,CAAE,CAC1F,SAASC,EAAS9C,GAAS,IAAM2C,EAAKN,EAAU,SAASrC,GAAS,CAAE,MAAO6C,GAAKJ,EAAOI,EAAI,CAAE,CAC7F,SAASF,EAAKd,GAAUA,EAAOkB,KAAOR,EAAQV,EAAO7B,OAASsC,EAAMT,EAAO7B,OAAOgD,KAAKN,EAAWI,EAAW,CAC7GH,GAAMN,EAAYA,EAAUY,MAAMf,EAASC,GAAc,KAAKS,OAClE,GACJ,EACA/C,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQ+f,6BAA0B,EAClC,MAAMvU,EAAY9K,EAAQ,OACpB+K,EAAa/K,EAAQ,OACrB2C,EAAqB3C,EAAQ,OAC7BgL,EAAiBhL,EAAQ,OACzB0C,EAAc1C,EAAQ,OACtBknB,EAA8BlnB,EAAQ,OACtCuL,EAA4BvL,EAAQ,OACpC+C,EAAkB/C,EAAQ,OAC1B4C,EAAY5C,EAAQ,OACpB6C,EAAU7C,EAAQ,OAClBiL,EAAWjL,EAAQ,OACnBkL,EAAQlL,EAAQ,OAChBmL,EAAanL,EAAQ,OACrBgD,EAAM9B,EAAalB,EAAQ,QAC3BoL,EAAQpL,EAAQ,OAChB8C,EAAU9C,EAAQ,OACxB,MAAMqf,EACFjc,WAAAA,GACIlD,KAAKoD,OAAS,IAAIP,EAAgBQ,aAClCrD,KAAKinB,kBAAoB,IAAIpkB,EAAgBQ,aAC7CrD,KAAKuL,aAAe,IAAIF,EAA0BG,wBAAwB,UAC1E1I,EAAIyB,SAAS,6BAEbvE,KAAKyL,eAAiB,IAAI/I,EAAUuB,QAAQxB,EAAmByB,wBAC/DlE,KAAKkM,WAAalM,KAAKmM,sBACvBnM,KAAKoM,eAAepM,KAAKkM,YAEzBlM,KAAKqM,UAAY,IAAIzB,EAAUrI,mBAAmBC,EAAY8J,uBAC9DtM,KAAKuM,UAAY9H,KAAKC,MAEtB1E,KAAKknB,qBAAuB,IAAInS,IAEhC/U,KAAKmnB,SAAU,EACfnnB,KAAKonB,WAAY,CACrB,CACA1a,gBAAAA,CAAiB2a,EAAS,GACtB,IAAI1a,EAAUlI,KAAKC,MAAQ2iB,EACvB1a,GAAW3M,KAAKuM,YAChBvM,KAAKuM,UAAYI,EAAU,GAE/B3M,KAAKuM,UAAYI,CACrB,CACAC,iBAAAA,CAAkB+C,EAAS9C,GACvB,IAAIC,GAAY,EAAI7B,EAAWZ,mBAAmBwC,GAElD7M,KAAKyL,eAAesB,gBAAgBD,EAAWrK,EAAmBuK,wBAA0B2C,EAChG,CACA1D,sBAAAA,CAAuB0D,GAEnB,MAAM1C,EAAKjN,KAAKyL,eAAeyB,cAAczK,EAAmBuK,wBAA0B2C,GACpFxC,EAAUF,EAChB,GAAsB,iBAAXE,EAAqB,CAC5BrK,EAAIyB,SAAS,0BACbzB,EAAIyB,SAAS4I,GACb,IAAInB,GAAc,EAAIf,EAAW5B,eAAe8D,GAChD,OAAOnB,CACX,CAIA,OAFIhM,KAAKyL,eAAe2B,aAEjB,IACX,CACAhB,cAAAA,CAAeS,GACX,IAAIQ,EAAa,CACbC,WAAW,EAAI3K,EAAQ4K,aAAaV,EAAQS,WAC5CE,WAAW,EAAI7K,EAAQ4K,aAAaV,EAAQW,YAEhD1K,EAAIyB,SAAS,eACb,IAAIuI,GAAY,EAAI7B,EAAWZ,mBAAmBgD,GAClDvK,EAAIyB,SAASuI,GAEb9M,KAAKyL,eAAesB,gBAAgBD,EAAWrK,EAAmBgL,sBAClE3K,EAAIyB,SAAS,oBACjB,CACA4H,mBAAAA,GACI,MAAMc,EAAKjN,KAAKyL,eAAeyB,cAAczK,EAAmBgL,sBAC1DN,EAAUF,EAChB,GAAsB,iBAAXE,EAAqB,CAE5BrK,EAAIyB,SAAS,sBACbzB,EAAIyB,SAAS4I,GACb,IAAIO,GAAiB,EAAIzC,EAAW5B,eAAe8D,GACnDrK,EAAIyB,SAAS,eACbzB,EAAIyB,SAASmJ,GACb,IAAIb,EAAU,CACVS,WAAW,EAAI3K,EAAQgL,gBAAgBD,EAAeJ,WACtDE,WAAW,EAAI7K,EAAQgL,gBAAgBD,EAAeF,YAE1D,OAAOX,CACX,CAEI,OAAO,EAAI7B,EAAM4C,kBAEzB,CACA0Z,qBAAAA,CAAsB3X,GAElB,OADA7M,EAAIyB,SAAS,+BAA+BoL,KACrC3P,KAAKknB,qBAAqBrmB,IAAI8O,EACzC,CACA7B,OAAAA,CAAQyZ,GACJ,OAAOjmB,EAAUtB,UAAM,OAAQ,GAAQ,YACnC,aAAa,EAAIgL,EAAMgD,SAASuZ,EAAczc,EAAeqY,6BAA8BrY,EAAeoD,qBAC1GlO,KAAKkM,WACT,GACJ,CACAsb,gBAAAA,CAAiBC,GACb,IACI,IAAIC,GAAc,EAAIzc,EAAW5B,eAAeoe,GAC5CE,EAASD,EAAY,qBACzB,GAAIC,GAAUA,EAAOtgB,OAAS,EAAG,CAC7B,IAAIugB,GAAgB,EAAIhlB,EAAQilB,cAAcF,GAAQ,GACtD,OAAOC,EAAcjjB,UACzB,CACJ,CACA,MAAOuM,GACHpO,EAAIwD,SAAS,qBAAsB4K,EACvC,CACJ,CACA4W,cAAAA,CAAe/Z,EAAOyC,GAClB,IAAI4K,EAAcpb,KAAKknB,qBAAqBrmB,IAAIkN,GAEhD,IADA,EAAI7C,EAAM3G,UAAU,iBAAkB6W,EAAarN,EAAOyC,GACtD4K,GAAe5K,GAAYA,EAASnJ,OAAS,EAAG,CAChD,GAAI+T,EAAY2M,IAAK,CAEjB,IAAIC,EAAYxX,EAASgG,OAAO,GAC5B4E,EAAY2M,KAAOC,EACnB5M,EAAY6M,cAAgBzX,EAG5B1N,EAAIwD,SAAS,mBAAoB8U,EAAarN,EAAOyC,EAE7D,MAEI4K,EAAY6M,cAAgBzX,EAGhCxQ,KAAKkoB,sBACT,CACA,OAAO,CACX,CACA/Z,YAAAA,CAAayE,EAASxE,GAClB,OAAO9M,EAAUtB,KAAMiI,eAAW,GAAQ,UAAW8F,EAAOM,EAAOC,GAAY,GAC3E,IAAIvJ,EAAIwJ,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIiZ,EAAIC,EAAIC,EAAIC,EACpEtoB,KAAKoD,OAAOwB,KAAKyJ,EAAMlJ,GAAIkJ,GAE3B,IAAI+M,EAAcpb,KAAKknB,qBAAqBrmB,IAAIkN,GAChDjL,EAAIyB,SAAS,qCAAsCwJ,GACnDjL,EAAIyB,SAAS,+BAAgC8J,EAAMlJ,GAAI4I,EAAOqN,EAAapb,KAAKknB,sBAChF,IAAIqB,GAAgB,EACpB,GAAInN,GAAe/M,EAAM/E,OAAOhF,OACK,QAA5BS,EAAKsJ,EAAM/E,OAAOhF,YAAyB,IAAPS,OAAgB,EAASA,EAAGyE,SAEjE,GAAiC,QAA5B+E,EAAKF,EAAM/E,OAAOhF,YAAyB,IAAPiK,OAAgB,EAASA,EAAGia,eAAgB,CACjF,IAAIC,EAA6C,QAA5Bja,EAAKH,EAAM/E,OAAOhF,YAAyB,IAAPkK,OAAgB,EAASA,EAAGhF,QACjFkf,EAA2C,QAA5Bja,EAAKJ,EAAM/E,OAAOhF,YAAyB,IAAPmK,OAAgB,EAASA,EAAGV,MAC/E6Z,EAAgB5nB,KAAKwnB,iBAAiBiB,IAC1C,EAAIvd,EAAM3G,UAAU,0BAA2BqjB,GAC3CA,GAAiBA,EAAcvgB,OAAS,GACxCrH,KAAKinB,kBAAkBriB,KAAK,SAAUgjB,EAAec,EAE7D,MAGI,IACI,IAAIlf,EAAuC,QAA5BkF,EAAKL,EAAM/E,OAAOhF,YAAyB,IAAPoK,OAAgB,EAASA,EAAGlF,QAC/E,GAAIA,EAAQ6I,YAAYC,WAAW,KAAM,CAErC,IAAI9C,EAAoBxP,KAAKuL,aAAakE,4BAA4BjG,GACtE,GAAIgG,EAAmB,EACnB,EAAItE,EAAM3G,UAAU,2BAA4BiL,GAEhD+Y,GAAgB,EAChB,IAAI7Y,EAAY,CACZC,QAAqF,QAA3Ef,EAA6B,QAAvBD,EAAKN,EAAM/E,cAA2B,IAAPqF,OAAgB,EAASA,EAAGrK,YAAyB,IAAPsK,OAAgB,EAASA,EAAGb,MACzHwB,UAAuF,QAA3ET,EAA6B,QAAvBD,EAAKR,EAAM/E,cAA2B,IAAPuF,OAAgB,EAASA,EAAGvK,YAAyB,IAAPwK,OAAgB,EAASA,EAAGS,UAC3HK,cAAeJ,EACfK,YAAyF,QAA3Eb,EAA6B,QAAvBD,EAAKV,EAAM/E,cAA2B,IAAPyF,OAAgB,EAASA,EAAGzK,YAAyB,IAAP0K,OAAgB,EAASA,EAAGa,aAE7HnG,QAAoB1J,KAAKuL,aAAauE,uBAAuBJ,GASjE,GARIhG,EAAYqG,uBACZrG,EAAYqG,sBAAsBC,SAASC,GAAU3O,EAAUtB,UAAM,OAAQ,GAAQ,YAEjFA,KAAK0M,yBACC1M,KAAKkQ,YAAYlQ,KAAKuM,UAAU5H,WAAYsL,EAAOlC,EAC7D,MAGArE,EAAYE,aAAc,CAC1B,IAAIJ,EAAU4R,EAAYzP,OAAOgd,cAAcjf,EAAYE,aAAcwR,EAAY6M,gBACrF,EAAI/c,EAAM3G,UAAU,8BAA+BwJ,EAAOvE,GAC1DxJ,KAAKinB,kBAAkBriB,KAAKmJ,EAAOvE,EACvC,CACJ,KACK,CACD,IAAIqM,GAAa,EAAI5K,EAAW5B,eAAeG,GAC/C,GAAIqM,EAAWjE,OAAQ,CACnB,GAAyB,gBAArBiE,EAAWjE,OAA0B,CACrC,IAAIgX,EAAoB/S,EAAWvM,OAAO8R,YACtCyN,GAAgB,EAAIjmB,EAAQilB,cAAce,GAAmB,IACjE,EAAI1d,EAAM3G,UAAU,mDAAoDskB,IACxE,EAAI3d,EAAM3G,UAAU,iBAAmBskB,GACvC,IAAIC,EAAmBD,EAAcE,WACrC/oB,KAAK8nB,eAAe/Z,EAAO+a,EAAiBtY,SAChD,EACA,EAAItF,EAAM3G,UAAU,qBAAsBwJ,EAAO8H,GACjD7V,KAAKinB,kBAAkBriB,KAAKmJ,EAAOvE,EACvC,CACJ,CACJ,KACK,CACD,IAAIA,EAAU4R,EAAYzP,OAAOgd,cAA2C,QAA5B1Z,EAAKZ,EAAM/E,OAAOhF,YAAyB,IAAP2K,OAAgB,EAASA,EAAGzF,QAAS4R,EAAY6M,gBACrI,EAAI/c,EAAM3G,UAAU,mBAAoBwJ,EAAOvE,GAC/CxJ,KAAKinB,kBAAkBriB,KAAKmJ,EAAOvE,EACvC,CACJ,CACA,MAAO0H,GACH,IAAI1H,EAAU4R,EAAYzP,OAAOgd,cAA2C,QAA5BzZ,EAAKb,EAAM/E,OAAOhF,YAAyB,IAAP4K,OAAgB,EAASA,EAAG1F,QAAS4R,EAAY6M,gBACrI,EAAI/c,EAAM3G,UAAU,mBAAoBwJ,EAAOvE,GAC/CxJ,KAAKinB,kBAAkBriB,KAAKmJ,EAAOvE,EACvC,CAOZ,IAAK8E,UACKtO,KAAKmP,QAAQd,EAAMlJ,IAAI,GACzB4I,IAAUwa,GAAe,CACzB,IAAIjZ,EAAWjB,GACoE,QAA9E+Z,EAAgC,QAA1BD,EAAK7Y,EAAShG,cAA2B,IAAP6e,OAAgB,EAASA,EAAG7jB,YAAyB,IAAP8jB,OAAgB,EAASA,EAAG7Y,aACnHvP,KAAK0M,yBACC1M,KAAKkQ,YAAYlQ,KAAKuM,UAAU5H,WAA2F,QAA9E2jB,EAAgC,QAA1BD,EAAK/Y,EAAShG,cAA2B,IAAP+e,OAAgB,EAASA,EAAG/jB,YAAyB,IAAPgkB,OAAgB,EAASA,EAAG/Y,UAAWxB,GAExL,CAER,GACJ,CACAib,2BAAAA,GAII,IAAI7U,EAAUnU,KAAKyL,eAAeyB,cAAc8Z,EAA4BF,0CAE5E,GADAhkB,EAAIyB,SAAS,2BAA4B4P,GACrCA,EAAS,CACT,IAAI8U,GAAW,EAAIhe,EAAW5B,eAAe8K,GAC7C,IAAK,IAAIxE,KAAWsZ,EAAU,CAC1B,IAAIC,EAAYD,EAAStZ,GACzB7M,EAAIyB,SAAS,kBAAmB2kB,GAChC,IAAIC,EAAa,CACbpb,MAAO4B,EACPhE,OAAQ,IAAIZ,EAASa,cAAc,CAC/B0B,UAAW4b,EAAUE,cAAc9b,UACnCE,UAAW0b,EAAUE,cAAc5b,YAEvCya,cAAeiB,EAAUjB,cACzBF,IAAKmB,EAAUnB,KAEnB/nB,KAAKknB,qBAAqBjR,IAAItG,EAASwZ,EAC3C,CACJ,CACArmB,EAAIyB,SAAS,+BAAgCvE,KAAKknB,qBACtD,CACAgB,oBAAAA,GACI,IAAIe,EAAW,CAAC,EAChB,IAAK,IAAKtZ,EAASwZ,KAAenpB,KAAKknB,qBACnCpkB,EAAIyB,SAAS,gBAAiBoL,GAC1BwZ,IACAF,EAAStZ,GAAW,CAChByZ,cAAeD,EAAWxd,OAAO8E,mBACjCwX,cAAekB,EAAWlB,cAC1BF,IAAKoB,EAAWpB,MAI5B,IAAI9T,GAAW,EAAIhJ,EAAWZ,mBAAmB4e,GACjDnmB,EAAIyB,SAAS,2BAA4B0P,GACzCjU,KAAKyL,eAAesB,gBAAgBkH,EAAU+S,EAA4BF,yCAC9E,CACAuC,gBAAAA,CAAiBtb,EAAOqN,EAAakO,GAAO,GACxC,IAAIrB,EAAgB7M,EAAY6M,cAE5BsB,EAAmB,GACvB,IAAK,IAAK5Z,EAASwZ,KAAenpB,KAAKknB,qBACnCpkB,EAAIyB,SAAS,gBAAiBoL,GAC1BwZ,EAAWlB,eAAiBA,IAC5BnlB,EAAIyB,SAAS,8BAA+BoL,EAASsY,GACrDsB,EAAiBhT,KAAK5G,IAG9B,IAAK,IAAKA,EAASwZ,KAAenpB,KAAKknB,qBAC/BqC,EAAiBlR,SAAS1I,IAC1B3P,KAAKknB,qBAAqB5L,OAAO3L,GAazC,OATA7M,EAAIyB,SAAS,iCAAkCvE,KAAKknB,sBAGpDlnB,KAAKknB,qBAAqBjR,IAAIlI,EAAOqN,GAErCtY,EAAIyB,SAAS,qBAAsBwJ,EAAOqN,EAAapb,KAAKknB,sBACxDoC,GACAtpB,KAAKkoB,uBAEFqB,CACX,CACAvX,qBAAAA,CAAsBjE,EAAOkE,GACzBjS,KAAKuL,aAAa2G,yBAAyBnE,EAAOkE,EACtD,CAEAuX,WAAAA,CAAYzb,EAAO0b,EAAkB1B,GACjC,OAAOzmB,EAAUtB,UAAM,OAAQ,GAAQ,YAGnC,OAFA,EAAIkL,EAAM3G,UAAU,yBAA0BwJ,GAEvC,IAAIlM,SAAQ,CAACD,EAASE,IAAWR,EAAUtB,UAAM,OAAQ,GAAQ,YACpE,IAAKA,KAAKonB,UAAW,CACjB,IAAIlW,EAAQ,IAAIrN,MAKhB,OAJAqN,EAAM1H,QAAU,4BAChB0H,EAAMC,KAAO,oBAEbrP,EAAOoP,EAEX,CAEA,IAAIiY,EAAa,CACbpb,MAAOA,EACPpC,OAAQ,IAAIZ,EAASa,cACrBqc,cAAewB,GAAsC,GACrD1B,IAAKA,GAELwB,EAAmBvpB,KAAKqpB,iBAAiBtb,EAAOob,GAAY,SAE1DnpB,KAAK0pB,gBAAgBpS,MAAMqS,KAAK,CAAC5b,KACvC/N,KAAK0M,mBACL5J,EAAIyB,SAAS,oDAAoDvE,KAAKuM,cAAcwB,KACpFjL,EAAIiJ,UAAU,mDACd,MAAMqF,GAAQ,IAAI3M,MAAOmM,WACzB,EAAI1F,EAAM3G,UAAU,gCAAiC6M,EAAQpR,KAAK2Q,SAClE/O,EAAQ2nB,EACZ,KACJ,GACJ,CACAK,sBAAAA,GACI5pB,KAAKkoB,sBACT,CACA3f,OAAAA,GACI,OAAOjH,EAAUtB,UAAM,OAAQ,GAAQ,YACnCA,KAAK2Q,SAAU,IAAIlM,MAAOmM,WAC1B,EAAI1F,EAAM3G,UAAU,iCAAkCvE,KAAK2Q,SAC3D7N,EAAIiJ,UAAU,iCAEd,IAAIwb,EAAe9iB,KAAKC,MAAMC,WAC9B,IAAIqM,QAAiBhR,KAAK8N,QAAQyZ,GAKlC,OAJAzkB,EAAIyB,SAAS,uBAAuByM,KACpChR,KAAKyL,eAAe5D,YAAYmJ,EAAU,OAC1ChR,KAAKgpB,8BAEE,IAAInnB,SAAQ,CAACD,EAASE,KAEzB9B,KAAKmnB,SAAU,EACfnnB,KAAKqM,UAAU5B,QAAO,IAAMnJ,EAAUtB,UAAM,OAAQ,GAAQ,YACxD8C,EAAIyB,SAAS,wBACbzB,EAAIiJ,UAAU,qCACd,MAAMkF,GAAU,IAAIxM,MAAOmM,WAC3B,EAAI1F,EAAM3G,UAAU,uBAAwB0M,EAAUjR,KAAK2Q,SAE3D3Q,KAAKoD,OAAO8E,KAAKlI,KAAKuM,UAAU5H,YAAaH,GAAQlD,EAAUtB,UAAM,OAAQ,GAAQ,YAEjF,GAAIwE,GAAOA,EAAI0M,MAAO,CAClBpO,EAAIwD,SAAS,2BACPtG,KAAKqM,UAAU3D,aACrB,IAAIwI,EAAQ,IAAIrN,MAChBqN,EAAM1H,QAAUhF,EAAI0M,MAAM1H,QAC1B0H,EAAMC,KAAO3M,EAAI0M,MAAMjM,KAAKN,WAE5B7C,EAAOoP,EACX,MAEIlR,KAAKonB,WAAY,EACjBxlB,IAEAkB,EAAIyB,SAAS,6BAA8BvE,KAAKknB,sBAChDpkB,EAAIiJ,UAAU,qDACV/L,KAAKknB,qBAAqB1R,KAAO,UAC3BxV,KAAK0pB,gBAAgBpS,MAAMqS,KAAK3pB,KAAKknB,qBAAqB2C,SAG5E,MACA/mB,EAAIyB,SAAS,mBACbzB,EAAIiJ,UAAU,wCACR/L,KAAKqM,UAAUnG,MAAK,IAAM5E,EAAUtB,UAAM,OAAQ,GAAQ,YAE5D,OADA8C,EAAIyB,SAAS,wCACAvE,KAAKqM,UAAU9D,SAChC,KAAI,CACApD,GAAInF,KAAKuM,UAAU5H,WACnB+M,QAASlP,EAAYmP,oBACrBC,OAAQ/G,EAAWjL,qBACnB0J,OAAQ,CACJuI,MAAOb,IAGnB,MACAhR,KAAKqM,UAAU9D,UAAUkJ,OAAOtJ,KAC5B,EAAI+C,EAAM3G,UAAU,wCAAyC4D,GAC7DrG,EAAOqG,EAAI,IAGfnI,KAAKqM,UAAUvC,iBAAiBhF,IAC5B,IAAIC,EAAIwJ,EACRzL,EAAIyB,SAAS,0BACbzB,EAAIyB,SAASO,GACP,WAAYA,GAAY,SAAUA,EAAM,WAKb,QAA5BC,EAAKD,EAAMwE,OAAOhF,YAAyB,IAAPS,OAAgB,EAASA,EAAGgJ,QACjE/N,KAAKmO,aAA0C,QAA5BI,EAAKzJ,EAAMwE,OAAOhF,YAAyB,IAAPiK,OAAgB,EAASA,EAAGR,MAAOjJ,EAAOA,EAAM8M,SAAW/G,EAAWrL,wBAL7HQ,KAAKmO,aAAa,GAAIrJ,GAAO,EAMjC,GACF,GAmBV,GACJ,CAGAglB,mBAAAA,CAAoBna,GAChB,GAAI3P,KAAKsnB,sBAAsB3X,GAAU,CACrC,IAAIyH,EAAOpX,KAAKknB,qBAAqBrmB,IAAI8O,GACzC,GAAIyH,EACA,OAAO,EAAIzU,EAAQ4K,aAAa6J,EAAKzL,OAAOkB,QAAQS,UAE5D,CAEJ,CACAyc,2BAAAA,GACI,OAAOzS,MAAMqS,KAAK3pB,KAAKknB,qBAAqB2C,OAChD,CACAnhB,UAAAA,GACI,OAAOpH,EAAUtB,KAAMiI,eAAW,GAAQ,UAAWyI,GAAc,SACzD1Q,KAAKqM,UAAU3D,aAGrB1I,KAAKyL,eAAe2B,WAAW3K,EAAmB4M,0BAC7CqB,GACD1Q,KAAKyL,eAAe2B,WAAW3K,EAAmBsO,oCAE1D,GACJ,CACAQ,OAAAA,CAAQlM,EAAK0I,GACT,OAAOzM,EAAUtB,UAAM,OAAQ,GAAQ,YAC/B+N,UACM/N,KAAKkW,QAAQnI,EAAO1I,EAAK7C,EAAYkQ,0BAEnD,GACJ,CACAwD,OAAAA,CAAQnI,EAAOvE,EAASiJ,GACpB,OAAOnR,EAAUtB,UAAM,OAAQ,GAAQ,YACnC,GAAIwJ,EAAS,CACTxJ,KAAK0M,mBACL,MAAMtH,EAAU,CACZD,GAAInF,KAAKuM,UAAU5H,WACnBiN,OAAQ/G,EAAWlL,uBACnB+R,QAASlP,EAAYmP,oBACrBrI,OAAQ,CACJE,QAAS,CACLuE,MAAOA,EACPvE,QAASA,EACTiJ,IAAKA,KAIjBzS,KAAKoD,OAAO8E,KAAKlI,KAAKuM,UAAU5H,YAAaH,GAAQlD,EAAUtB,UAAM,OAAQ,GAAQ,YAE7EwE,GAAOA,EAAI0M,MACXpO,EAAIwD,SAAS,KAAI,IAAI7B,MAAOgC,0CAEvBjC,IAAQA,EAAI0M,OACjBpO,EAAIyB,SAAS,iBAAgB,IAAIE,MAAOgC,uCAAuCzG,KAAKuM,sBAE5F,YACMvM,KAAKqM,UAAUnG,MAAK,IAAM5E,EAAUtB,UAAM,OAAQ,GAAQ,YAE5D,OADA8C,EAAIyB,SAAS,wCACAvE,KAAKqM,UAAU9D,SAChC,KAAInD,EACR,CACJ,GACJ,CACAc,IAAAA,CAAK0M,EAASG,GACV,OAAOzR,EAAUtB,KAAMiI,eAAW,GAAQ,UAAW8F,EAAO1I,EAAK2kB,GAAgB,EAAOvX,EAAMjQ,EAAYkQ,yBAA0BuX,GAAS,GACzI,IAAIllB,EAAIwJ,EAGR,GADAzL,EAAIyB,SAAS,uBAAuBc,MAC/BrF,KAAKsnB,sBAAsBvZ,GAE5B,MAAM,IAAIlK,MAAM,yBAEpB,IAEIgS,EAFAqU,EAAkE,QAA/CnlB,EAAK/E,KAAKknB,qBAAqBrmB,IAAIkN,UAA2B,IAAPhJ,OAAgB,EAASA,EAAGkjB,cACtGkC,EAA+D,QAA/C5b,EAAKvO,KAAKknB,qBAAqBrmB,IAAIkN,UAA2B,IAAPQ,OAAgB,EAASA,EAAG5C,OAEnGse,IACApU,EAAa,CACTrM,QAASnE,IAGjB,IAAI+kB,GAAY,EAChB,GAAID,GAAgBD,IAAoBD,EAAQ,CAC5C,IAAIzgB,EAAU2gB,EAAaE,cAAchlB,EAAK6kB,GAC9CE,GAAY,EACZvU,EAAa,CACTrM,QAASA,EAEjB,CACA,GAAIqM,EAAY,CACRmU,GAAiBG,IACjBtU,EAAWrF,UAAW,EAAI7N,EAAQ4K,aAAa4c,EAAatd,QAAQS,YAMxE,IAAIgd,GAAa,EAAIrf,EAAWZ,mBAAmBwL,IAC9CoU,GAAUG,QACLpqB,KAAKuL,aAAa6H,kBAAkBrF,EAAOuc,EAAYtqB,KAAKkW,QAAQ9P,KAAKpG,MAAOA,KAAKuR,QAAQnL,KAAKpG,aAGlGA,KAAKkW,QAAQnI,EAAOuc,EAAY7X,EAE9C,CACJ,GACJ,CACAtD,OAAAA,CAAQkE,EAASC,GACb,OAAOhS,EAAUtB,KAAMiI,eAAW,GAAQ,UAAWgI,EAAOlH,EAASwK,OAASjT,GAC1E,IAAgB,IAAZyI,EAAkB,CAClB,MAAM3D,EAAU,CACZD,GAAI8K,EACJyB,QAASlP,EAAYmP,oBACrBzQ,QAAQ,SAENlB,KAAKqM,UAAUnG,MAAK,IAAM5E,EAAUtB,UAAM,OAAQ,GAAQ,YAE5D,OADA8C,EAAIyB,SAAS,wCACAvE,KAAKqM,UAAU9D,SAChC,KAAInD,EACR,MACK,GAAImO,EAAQ,CACb,MAAMnO,EAAU,CACZD,GAAI8K,EACJyB,QAASlP,EAAYmP,oBACrBT,MAAO,CACHjM,KAAMsO,EAAOtO,KACbuE,QAAS+J,EAAO/J,gBAGlBxJ,KAAKqM,UAAUnG,MAAK,IAAM5E,EAAUtB,UAAM,OAAQ,GAAQ,YAE5D,OADA8C,EAAIyB,SAAS,wCACAvE,KAAKqM,UAAU9D,SAChC,KAAInD,EACR,CACJ,GACJ,CAEA8K,WAAAA,CAAYD,EAAOV,EAAWxB,GAC1B,OAAOzM,EAAUtB,UAAM,OAAQ,GAAQ,YACnC,MAAMoF,EAAU,CACZD,GAAI8K,EACJyB,QAASlP,EAAYmP,oBACrBC,OAAQ/G,EAAWrL,uBACnB8J,OAAQ,CACJhF,KAAM,CACFiL,UAAWA,EACXxB,MAAOA,WAIb/N,KAAKqM,UAAUnG,MAAK,IAAM5E,EAAUtB,UAAM,OAAQ,GAAQ,YAE5D,OADA8C,EAAIyB,SAAS,wCACAvE,KAAKqM,UAAU9D,SAChC,KAAInD,EACR,GACJ,CACAmlB,eAAAA,CAAgBxc,GACZ,OAAOzM,EAAUtB,UAAM,OAAQ,GAAQ,kBAE7BA,KAAKqM,UAAUnG,MAAK,IAAM5E,EAAUtB,UAAM,OAAQ,GAAQ,YAE5D,OADA8C,EAAIyB,SAAS,wCACAvE,KAAKqM,UAAU9D,SAChC,KAAI,CACApD,GAAInF,KAAKuM,UAAU5H,WACnB+M,QAASlP,EAAYmP,oBACrBC,OAAQ/G,EAAWpL,qBACnB6J,OAAQ,CACJyE,MAAOA,KAIf/N,KAAKknB,qBAAqB5L,OAAOvN,GACjC/N,KAAKkoB,sBACT,GACJ,CAKA7W,2BAAAA,CAA4BpB,EAAOlC,GAC/B,OAAOzM,EAAUtB,UAAM,OAAQ,GAAQ,YAEnCA,KAAKoD,OAAO8E,KAAK+H,GAAQuD,GAAoBlS,EAAUtB,UAAM,OAAQ,GAAQ,YACzE,IAAI+E,EAAIwJ,EAER,GAAIiF,EAAgBtS,OAAQ,CACxB,IAAIuS,EAAUD,EAAgBtS,OAAOuS,QACjCC,EAAeF,EAAgBtS,OAAOoD,KAC1C,GAAIoP,EACA,IAAK,IAAIC,EAAI,EAAGA,EAAID,EAAarM,OAAQsM,IAAK,CAC1C,IAAItO,EAAMqO,EAAaC,GACvB,GAAItO,GAAOA,EAAI0I,OAASA,EAAO,CAC3B,IAAIwB,EAAYlK,EAAIkK,gBACdvP,KAAKqM,UAAU/B,yBAAyBjF,GAE9CrF,KAAK0M,yBACC1M,KAAKkQ,YAAYlQ,KAAKuM,UAAU5H,WAAY4K,EAAWxB,EACjE,CACJ,CAGA0F,IACAzT,KAAK0M,yBACC1M,KAAKqR,4BAA4BrR,KAAKuM,UAAU5H,WAAYoJ,GAE1E,MAEIjL,EAAIyB,SAAS,0BAA2D,QAAhCQ,EAAKyO,EAAgBtC,aAA0B,IAAPnM,OAAgB,EAASA,EAAGE,UAA2C,QAAhCsJ,EAAKiF,EAAgBtC,aAA0B,IAAP3C,OAAgB,EAASA,EAAG/E,UAEnM,MACA1G,EAAIyB,SAAS,sBACb,MAAMqP,GAAW,IAAInP,MAAOmM,WAC5B,EAAI1F,EAAM3G,UAAU,oBAAqBqP,EAAW5T,KAAK2Q,SACzD,MAAMvL,EAAU,CACZD,GAAI8K,EACJyB,QAASlP,EAAYmP,oBACrBC,OAAQ/G,EAAWtL,wBACnB+J,OAAQ,CACJhF,KAAM,CACFyJ,MAAOA,WAIb/N,KAAKqM,UAAUnG,MAAK,IAAM5E,EAAUtB,UAAM,OAAQ,GAAQ,YAE5D,OADA8C,EAAIyB,SAAS,wCACAvE,KAAKqM,UAAU9D,SAChC,KAAInD,EACR,GACJ,CACAolB,gCAAAA,CAAiCje,EAAWke,GACxC,OAAOnpB,EAAUtB,UAAM,OAAQ,GAAQ,YAEnCA,KAAKoD,OAAO8E,KAAKqE,GAAYiH,GAAoBlS,EAAUtB,UAAM,OAAQ,GAAQ,YAC7E,IAAI+E,EAAIwJ,EAER,GAAIiF,EAAgBtS,OAAQ,CACxB,IAAIuS,EAAUD,EAAgBtS,OAAOuS,QACjCC,EAAeF,EAAgBtS,OAAOoD,KAC1C,GAAIoP,EACA,IAAK,IAAIC,EAAI,EAAGA,EAAID,EAAarM,OAAQsM,IAAK,CAC1C,IAAItO,EAAMqO,EAAaC,GACvB,GAAItO,GAAOA,EAAI0I,MAAO,CAElB,IAAIyB,EAAoBxP,KAAKuL,aAAakE,4BAA4BpK,EAAImE,SAC1E,GAAIgG,QACMxP,KAAKqM,UAAU/B,yBAAyBjF,OAE7C,CACD,IAAIkK,EAAYlK,EAAIkK,gBACdvP,KAAKqM,UAAU/B,yBAAyBjF,GAC9CrF,KAAK0M,iBAAiBiH,SAChB3T,KAAKkQ,YAAYlQ,KAAKuM,UAAU5H,WAAY4K,EAAWlK,EAAI0I,MACrE,CACJ,CACJ,CAGA0F,IACAzT,KAAK0M,yBACC1M,KAAKwqB,iCAAiCxqB,KAAKuM,UAAU5H,WAAY8lB,GAE/E,MAEI3nB,EAAIyB,SAAS,0BAA2D,QAAhCQ,EAAKyO,EAAgBtC,aAA0B,IAAPnM,OAAgB,EAASA,EAAGE,UAA2C,QAAhCsJ,EAAKiF,EAAgBtC,aAA0B,IAAP3C,OAAgB,EAASA,EAAG/E,UAEnM,MACA1G,EAAIyB,SAAS,sBACbzB,EAAIiJ,UAAU,sBACd,MAAM6H,GAAW,IAAInP,MAAOmM,WAC5B,EAAI1F,EAAM3G,UAAU,oBAAqBqP,EAAW5T,KAAK2Q,SACzD,MAAMvL,EAAU,CACZD,GAAIoH,EACJmF,QAASlP,EAAYmP,oBACrBC,OAAQ/G,EAAWvL,8BACnBgK,OAAQ,CACJohB,OAAQD,EACRE,kBAAkB,UAGpB3qB,KAAKqM,UAAUnG,MAAK,IAAM5E,EAAUtB,UAAM,OAAQ,GAAQ,YAC5D8C,EAAIyB,SAAS,wCACPvE,KAAKqM,UAAU9D,SACzB,KAAInD,EACR,GACJ,CACAyO,UAAAA,GACI,OAAOvS,EAAUtB,UAAM,OAAQ,GAAQ,YACnCA,KAAKyL,eAAe2B,YACxB,GACJ,CACA0G,kBAAAA,CAAmBC,EAAKzP,GACfA,GACDtE,KAAKyL,eAAe2B,WAAW3K,EAAmBuR,gCAAkCD,GAExF,IAAIE,GAAW,EAAIhJ,EAAWZ,mBAAmB/F,GACjDtE,KAAKyL,eAAesB,gBAAgBkH,EAAUxR,EAAmBuR,gCAAkCD,EACvG,CACAG,iBAAAA,CAAkBH,GACd,IAAII,EAAUnU,KAAKyL,eAAeyB,cAAczK,EAAmBuR,gCAAkCD,GACrG,GAAII,EAAS,CACT,IAAIC,GAAS,EAAInJ,EAAW5B,eAAe8K,GAC3C,OAAOC,CACX,CAEJ,CAEAsV,eAAAA,CAAgBe,GACZ,OAAOnpB,EAAUtB,UAAM,OAAQ,GAAQ,aACnC,EAAIkL,EAAM3G,UAAU,kBAAmBkmB,GACvC3nB,EAAIiJ,UAAU,mBACd/L,KAAK0M,mBACL,MAAM0E,GAAQ,IAAI3M,MAAOmM,UAEzB,OADA,EAAI1F,EAAM3G,UAAU,oCAAqC6M,EAAQpR,KAAK2Q,SAC/D,IAAI9O,SAAQ,CAACD,EAASE,IAAWR,EAAUtB,UAAM,OAAQ,GAAQ,YACpE,IAAI4qB,EAAc,EAElB,IAAK,IAAIC,EAAM,EAAGA,EAAMJ,EAAYpjB,SAAUwjB,EAAK,CAC/C,IAAIlb,EAAU8a,EAAYI,GAC1B7qB,KAAK0M,iBAAiBme,GACtB7qB,KAAKoD,OAAO8E,KAAKlI,KAAKuM,UAAU5H,YAAaH,GAAQlD,EAAUtB,UAAM,OAAQ,GAAQ,YAEjF,GAAIwE,GAAOA,EAAI0M,MAAO,CAClBpO,EAAIwD,SAAS,+BACPtG,KAAKqM,UAAU3D,aACrB,IAAIwI,EAAQ,IAAIrN,MAChBqN,EAAM1H,QAAUhF,EAAI0M,MAAM1H,QAC1B0H,EAAMC,KAAO3M,EAAI0M,MAAMjM,KAAKN,WAE5BimB,GAAe,EACXA,GAAeH,EAAYpjB,QAC3BzF,GAER,CACA5B,KAAK0M,iBAAiBme,GACtB,MAAMzZ,GAAQ,IAAI3M,MAAOmM,WACzB,EAAI1F,EAAM3G,UAAU,oCAAqC6M,EAAQpR,KAAK2Q,SACtEia,GAAe,EACXA,GAAeH,EAAYpjB,SAE3BvE,EAAIyB,SAAS,sBAAsBvE,KAAKuM,cAAcoD,WAChD3P,KAAKwqB,iCAAiCxqB,KAAKuM,UAAU5H,WAAY8lB,SAEjEzqB,KAAKuL,aAAa+F,KAAKtR,KAAKuR,QAAQnL,KAAKpG,OAC/C4B,IAER,MACAkB,EAAIyB,SAAS,0CAA0CvE,KAAKuM,cAAcoD,KAC1E7M,EAAIiJ,UAAU,yCACd,MAAMyF,GAAS,IAAI/M,MAAOmM,WAC1B,EAAI1F,EAAM3G,UAAU,iCAAkCiN,EAASxR,KAAK2Q,eAC9D3Q,KAAKqM,UAAUnG,MAAK,IAAM5E,EAAUtB,UAAM,OAAQ,GAAQ,YAE5D,OADA8C,EAAIyB,SAAS,wCACAvE,KAAKqM,UAAU9D,SAChC,KAAI,CACApD,GAAInF,KAAKuM,UAAU5H,WACnB+M,QAASlP,EAAYmP,oBACrBC,OAAQ/G,EAAWnL,mBACnB4J,OAAQ,CACJyE,MAAO4B,IAGnB,CACJ,KACJ,GACJ,EAEJvQ,EAAQ+f,wBAA0BA,C,qCCx0BlC,IAAI7K,EAAmBtU,MAAQA,KAAKsU,iBAAoB,SAAUrT,GAC9D,OAAQA,GAAOA,EAAIR,WAAcQ,EAAM,CAAE,QAAWA,EACxD,EACA/B,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQwM,mBAAgB,EACxB,MAAMsV,EAAc5M,EAAgBxU,EAAQ,QACtC6C,EAAU7C,EAAQ,OACxB,MAAM8L,EACF1I,WAAAA,CAAY2J,OAAUvM,GAClBN,KAAK8qB,YAAc,GACnB9qB,KAAK+qB,eAAiBle,EAAU7M,KAAKgrB,wBAAwBne,GAAW7M,KAAKirB,eACjF,CACAA,aAAAA,GACI,OAAO/J,EAAY/L,QAAQ+V,IAAIre,SACnC,CACAme,uBAAAA,CAAwBne,GACpB,MAAO,CACHS,WAAW,EAAI3K,EAAQgL,gBAAgBd,EAAQS,WAC/CE,WAAW,EAAI7K,EAAQgL,gBAAgBd,EAAQW,WAEvD,CACA2d,WAAAA,GACI,OAAOjK,EAAY/L,QAAQ8Q,YAAYjmB,KAAK8qB,YAChD,CACA,WAAIje,GACA,OAAO7M,KAAK+qB,cAChB,CAGA/X,OAAAA,CAAQxJ,EAAS4hB,GACb,MAAMC,GAAiB,IAAI9O,aAAcC,OAAOhT,GAC1C8hB,EAAQtrB,KAAKmrB,cACbI,EAAYrK,EAAY/L,QAAQ+V,IAAIG,EAAgBC,GAAO,EAAI3oB,EAAQgL,gBAAgByd,GAAoBprB,KAAK6M,QAAQW,WAC9H,IAAIge,GAAa,EAAI7oB,EAAQ8oB,mBAAmBH,EAAOC,GACvD,IAAIG,GAAY,EAAI/oB,EAAQ4K,aAAaie,GACrCG,GAAgB,IAAIpP,aAAcC,OAAOkP,GAC7C,OAAO,EAAI/oB,EAAQipB,cAAcD,GAAe,EACpD,CAIAtB,aAAAA,CAAc7gB,EAAS4hB,GACnB,MAAMC,GAAiB,IAAI9O,aAAcC,OAAOhT,GAC1C8hB,EAAQtrB,KAAKmrB,cACbI,EAAYrK,EAAY/L,QAAQ+V,IAAIG,EAAgBC,GAAO,EAAI3oB,EAAQgL,gBAAgByd,GAAoBprB,KAAK6M,QAAQW,WAC9H,IAAIge,GAAa,EAAI7oB,EAAQ8oB,mBAAmBH,EAAOC,GACvD,OAAO,EAAI5oB,EAAQipB,cAAcJ,GAAY,EACjD,CAGA1iB,OAAAA,CAAQU,EAASqiB,GACb,IAAIhD,GAAgB,EAAIlmB,EAAQklB,cAAcre,GAAS,GACnDsiB,EAAmBjD,EAAckD,eACrC,MAAOT,EAAOU,IAAmB,EAAIrpB,EAAQspB,oBAAoBH,EAAkB9rB,KAAK8qB,aAClFoB,EAAYhL,EAAY/L,QAAQ+V,IAAIiB,KAAKH,EAAiBV,GAAO,EAAI3oB,EAAQgL,gBAAgBke,GAAkB7rB,KAAK6M,QAAQW,WAClI,IAAK0e,EACD,MAAM,IAAIroB,MAAM,iCAAiC2F,EAAQ7E,gCAAgCknB,EAAgBlnB,kCAAiC,EAAIhC,EAAQ4K,aAAavN,KAAK6M,QAAQS,qCAAoC,EAAI3K,EAAQ4K,aAAavN,KAAK6M,QAAQW,cAE9P,OAAO,IAAI4e,aAAcC,OAAOH,EACpC,CAGAvD,aAAAA,CAAcnf,EAASqiB,GACnB,IAAIhD,GAAgB,EAAIlmB,EAAQklB,cAAcre,GAAS,GACnDsiB,GAAmB,EAAInpB,EAAQgL,gBAAgBkb,EAAclkB,YACjE,MAAO2mB,EAAOU,IAAmB,EAAIrpB,EAAQspB,oBAAoBH,EAAkB9rB,KAAK8qB,aAClFoB,EAAYhL,EAAY/L,QAAQ+V,IAAIiB,KAAKH,EAAiBV,GAAO,EAAI3oB,EAAQgL,gBAAgBke,GAAkB7rB,KAAK6M,QAAQW,WAClI,IAAK0e,EACD,MAAM,IAAIroB,MAAM,iCAAiC2F,EAAQ7E,gCAAgCknB,EAAgBlnB,kCAAiC,EAAIhC,EAAQ4K,aAAavN,KAAK6M,QAAQS,qCAAoC,EAAI3K,EAAQ4K,aAAavN,KAAK6M,QAAQW,cAE9P,OAAO,IAAI4e,aAAcC,OAAOH,EACpC,CACAzb,gBAAAA,GACI,MAAO,CACHnD,WAAW,EAAI3K,EAAQ4K,aAAavN,KAAK6M,QAAQS,WACjDE,WAAW,EAAI7K,EAAQ4K,aAAavN,KAAK6M,QAAQW,WAEzD,EAEJpO,EAAQwM,cAAgBA,C,qCC/ExB,IAAI7L,EAAmBC,MAAQA,KAAKD,kBAAqBb,OAAOe,OAAU,SAASC,EAAGC,EAAGC,EAAGC,QAC7EC,IAAPD,IAAkBA,EAAKD,GAC3B,IAAIG,EAAOrB,OAAOsB,yBAAyBL,EAAGC,GACzCG,KAAS,QAASA,GAAQJ,EAAEM,WAAaF,EAAKG,UAAYH,EAAKI,gBAClEJ,EAAO,CAAEK,YAAY,EAAMC,IAAK,WAAa,OAAOV,EAAEC,EAAI,IAE5DlB,OAAOC,eAAee,EAAGG,EAAIE,EACjC,EAAM,SAASL,EAAGC,EAAGC,EAAGC,QACTC,IAAPD,IAAkBA,EAAKD,GAC3BF,EAAEG,GAAMF,EAAEC,EACd,GACIksB,EAAgBtsB,MAAQA,KAAKssB,cAAiB,SAASnsB,EAAGf,GAC1D,IAAK,IAAImtB,KAAKpsB,EAAa,YAANosB,GAAoBrtB,OAAOiC,UAAUC,eAAeC,KAAKjC,EAASmtB,IAAIxsB,EAAgBX,EAASe,EAAGosB,EAC3H,EACArtB,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDitB,EAAaxsB,EAAQ,OAAcV,GACnCktB,EAAaxsB,EAAQ,OAAeV,GACpCktB,EAAaxsB,EAAQ,OAAYV,E,qCCjBjC,IAAIkV,EAAmBtU,MAAQA,KAAKsU,iBAAoB,SAAUrT,GAC9D,OAAQA,GAAOA,EAAIR,WAAcQ,EAAM,CAAE,QAAWA,EACxD,EACA/B,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQotB,QAAUptB,EAAQqtB,YAAcrtB,EAAQstB,kBAAoBttB,EAAQutB,mBAAgB,EAC5F,MAAM9pB,EAAkByR,EAAgBxU,EAAQ,QAChD,MAAM6sB,UAAsB9pB,EAAgBsS,QACxCjS,WAAAA,GACI0pB,OACJ,EAEJxtB,EAAQutB,cAAgBA,EACxB,MAAMD,UAA0B7pB,EAAgBsS,QAC5CjS,WAAAA,GACI0pB,OACJ,EAEJxtB,EAAQstB,kBAAoBA,EAC5B,MAAMD,EACFvpB,WAAAA,CAAYoB,GACRtE,KAAKsE,KAAOA,CAChB,EAEJlF,EAAQqtB,YAAcA,EACtB,MAAMD,EACFtpB,WAAAA,CAAY2pB,GACR7sB,KAAK6sB,OAASA,CAClB,EAEJztB,EAAQotB,QAAUA,C,qCC7BlB,IAAIzsB,EAAmBC,MAAQA,KAAKD,kBAAqBb,OAAOe,OAAU,SAASC,EAAGC,EAAGC,EAAGC,QAC7EC,IAAPD,IAAkBA,EAAKD,GAC3B,IAAIG,EAAOrB,OAAOsB,yBAAyBL,EAAGC,GACzCG,KAAS,QAASA,GAAQJ,EAAEM,WAAaF,EAAKG,UAAYH,EAAKI,gBAClEJ,EAAO,CAAEK,YAAY,EAAMC,IAAK,WAAa,OAAOV,EAAEC,EAAI,IAE5DlB,OAAOC,eAAee,EAAGG,EAAIE,EACjC,EAAM,SAASL,EAAGC,EAAGC,EAAGC,QACTC,IAAPD,IAAkBA,EAAKD,GAC3BF,EAAEG,GAAMF,EAAEC,EACd,GACIksB,EAAgBtsB,MAAQA,KAAKssB,cAAiB,SAASnsB,EAAGf,GAC1D,IAAK,IAAImtB,KAAKpsB,EAAa,YAANosB,GAAoBrtB,OAAOiC,UAAUC,eAAeC,KAAKjC,EAASmtB,IAAIxsB,EAAgBX,EAASe,EAAGosB,EAC3H,EACArtB,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQ0tB,0BAA4B1tB,EAAQ2tB,mBAAqB3tB,EAAQstB,kBAAoBttB,EAAQotB,QAAUptB,EAAQutB,cAAgBvtB,EAAQqtB,YAAcrtB,EAAQ4tB,eAAiB5tB,EAAQ6tB,qBAAuB7tB,EAAQ8tB,eAAiB9tB,EAAQ+tB,kBAAoB/tB,EAAQguB,qBAAuBhuB,EAAQiuB,UAAYjuB,EAAQkuB,wBAAqB,EAC1V,IAAIC,EAAaztB,EAAQ,OACzBZ,OAAOC,eAAeC,EAAS,qBAAsB,CAAEwB,YAAY,EAAMC,IAAK,WAAc,OAAO0sB,EAAWD,kBAAoB,IAClIpuB,OAAOC,eAAeC,EAAS,YAAa,CAAEwB,YAAY,EAAMC,IAAK,WAAc,OAAO0sB,EAAWF,SAAW,IAChHnuB,OAAOC,eAAeC,EAAS,uBAAwB,CAAEwB,YAAY,EAAMC,IAAK,WAAc,OAAO0sB,EAAWH,oBAAsB,IACtIluB,OAAOC,eAAeC,EAAS,oBAAqB,CAAEwB,YAAY,EAAMC,IAAK,WAAc,OAAO0sB,EAAWJ,iBAAmB,IAChIjuB,OAAOC,eAAeC,EAAS,iBAAkB,CAAEwB,YAAY,EAAMC,IAAK,WAAc,OAAO0sB,EAAWL,cAAgB,IAC1HhuB,OAAOC,eAAeC,EAAS,uBAAwB,CAAEwB,YAAY,EAAMC,IAAK,WAAc,OAAO0sB,EAAWN,oBAAsB,IACtI/tB,OAAOC,eAAeC,EAAS,iBAAkB,CAAEwB,YAAY,EAAMC,IAAK,WAAc,OAAO0sB,EAAWP,cAAgB,IAC1H,IAAI1N,EAAWxf,EAAQ,OACvBZ,OAAOC,eAAeC,EAAS,cAAe,CAAEwB,YAAY,EAAMC,IAAK,WAAc,OAAOye,EAASmN,WAAa,IAClHvtB,OAAOC,eAAeC,EAAS,gBAAiB,CAAEwB,YAAY,EAAMC,IAAK,WAAc,OAAOye,EAASqN,aAAe,IACtHztB,OAAOC,eAAeC,EAAS,UAAW,CAAEwB,YAAY,EAAMC,IAAK,WAAc,OAAOye,EAASkN,OAAS,IAC1GttB,OAAOC,eAAeC,EAAS,oBAAqB,CAAEwB,YAAY,EAAMC,IAAK,WAAc,OAAOye,EAASoN,iBAAmB,IAC9HJ,EAAaxsB,EAAQ,OAAUV,GAC/B,IAAIouB,EAAgB1tB,EAAQ,OAC5BZ,OAAOC,eAAeC,EAAS,qBAAsB,CAAEwB,YAAY,EAAMC,IAAK,WAAc,OAAO2sB,EAAcT,kBAAoB,IACrI7tB,OAAOC,eAAeC,EAAS,4BAA6B,CAAEwB,YAAY,EAAMC,IAAK,WAAc,OAAO2sB,EAAcV,yBAA2B,G,qCCjCvIhtB,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAACA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OACb,IAAIwU,EAAmBtU,MAAQA,KAAKsU,iBAAoB,SAAUrT,GAC9D,OAAQA,GAAOA,EAAIR,WAAcQ,EAAM,CAAE,QAAWA,EACxD,EAmBA,SAASwsB,EAAiBroB,GACtB,MAA2B,kBAAZA,GACX,OAAQA,GACR,YAAaA,GACO,QAApBA,EAAQsM,OAChB,CACA,SAASgc,EAAiBtoB,GACtB,OAAOqoB,EAAiBroB,IAAY,WAAYA,CACpD,CACA,SAAS+nB,EAAkB/nB,GACvB,OAAOqoB,EAAiBroB,KAAauoB,EAAgBvoB,IAAY8nB,EAAe9nB,GACpF,CACA,SAASuoB,EAAgBvoB,GACrB,MAAO,WAAYA,CACvB,CACA,SAAS8nB,EAAe9nB,GACpB,MAAO,UAAWA,CACtB,CAnCAlG,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQquB,iBAAmBA,EAC3BruB,EAAQsuB,iBAAmBA,EAC3BtuB,EAAQ+tB,kBAAoBA,EAC5B/tB,EAAQuuB,gBAAkBA,EAC1BvuB,EAAQ8tB,eAAiBA,EACzB9tB,EAAQwuB,UAAYA,EACpBxuB,EAAQ4tB,eAAiBA,EACzB5tB,EAAQ6tB,qBAAuBA,EAC/B7tB,EAAQyuB,oBAAsBA,EAC9BzuB,EAAQkuB,mBAAqBA,EAC7BluB,EAAQ0uB,oBAAsBA,EAC9B1uB,EAAQ2uB,SAAWA,EACnB3uB,EAAQ4uB,eAAiBA,EACzB5uB,EAAQ6uB,mBAAqBA,EAC7B7uB,EAAQiuB,UAAYA,EACpBjuB,EAAQ8uB,QAAUA,EAClB9uB,EAAQguB,qBAAuBA,EAmB/B,MAAMe,EAAsBruB,EAAQ,OAC9BohB,EAAc5M,EAAgBxU,EAAQ,QAC5C,MAAMsuB,EACFlrB,WAAAA,CAAYmrB,GACRruB,KAAK2T,EAAI,EACmB,IAAT0a,EAAa,IAAIC,WAAW,GAAc,KAATD,EAAc,IAAIE,YAAY,GAAK,IAAIC,YAAY,GAEnGxuB,KAAKyuB,aADLJ,EACoBnN,EAAY/L,QAAQ8Q,YAAYoI,EAAO,GAAG,GAG1C,CAE5B,CACAK,YAAAA,GACI,OAAO1uB,KAAKyuB,aAAezuB,KAAK2T,GACpC,EAEJ,MAAMgb,EAAiB,IAAIP,EAA2B,GAChDQ,EAAkB,IAAIR,EAA2B,IACvD,SAASR,IACL,MAAMiB,EAAoB,IAAbpqB,KAAKC,MACZuf,EAAQ0K,EAAeD,eAC7B,OAAOG,EAAO5K,CAClB,CACA,SAAS+I,IACL,MAAM6B,EAAOC,OAAOrqB,KAAKC,OAASoqB,OAAO,KACnC7K,EAAQ6K,OAAOF,EAAgBF,gBACrC,OAAOG,EAAO5K,CAClB,CACA,SAASgJ,EAAqBrb,EAAQtI,EAAQnE,GAC1C,MAAO,CACHA,GAAIA,GAAMyoB,IACVlc,QAAS,MACTE,SACAtI,SAER,CACA,SAASukB,EAAoB1oB,EAAIjE,GAC7B,MAAO,CACHiE,KACAuM,QAAS,MACTxQ,SAER,CACA,SAASosB,EAAmBnoB,EAAI+L,EAAO5M,GACnC,MAAO,CACHa,KACAuM,QAAS,MACTR,MAAO+c,EAAmB/c,EAAO5M,GAEzC,CACA,SAASwpB,EAAoB7oB,GACzB,OAAOkpB,EAAoBY,qBAAqB1W,SAASpT,EAC7D,CACA,SAAS8oB,EAASiB,GACd,OAAK9vB,OAAO2qB,KAAKsE,EAAoBc,oBAAoB5W,SAAS2W,GAG3Db,EAAoBc,mBAAmBD,GAFnCb,EAAoBc,mBAAmBd,EAAoBe,cAG1E,CACA,SAASlB,EAAe/oB,GACpB,MAAMkqB,EAAQjwB,OAAOkwB,OAAOjB,EAAoBc,oBAAoBjQ,MAAM9c,GAAMA,EAAE+C,OAASA,IAC3F,OAAKkqB,GACMhB,EAAoBc,mBAAmBd,EAAoBe,cAG1E,CACA,SAASjB,EAAmB/c,EAAO5M,GAC/B,MAAqB,qBAAV4M,EACA6c,EAASI,EAAoBkB,iBAEnB,kBAAVne,IACPA,EAAQhS,OAAO+b,OAAO/b,OAAO+b,OAAO,CAAC,EAAG8S,EAASI,EAAoBmB,eAAgB,CAAE9lB,QAAS0H,KAEhF,qBAAT5M,IACP4M,EAAM5M,KAAOA,GAEbwpB,EAAoB5c,EAAMjM,QAC1BiM,EAAQ8c,EAAe9c,EAAMjM,OAE1BiM,EACX,CACA,SAASqe,EAAepsB,GACpB,MAAMqsB,EAAUrsB,EAAIgsB,MAAM,IAAIM,OAAO,QAAS,OAC9C,GAAKD,GAAYA,EAAQnoB,OAEzB,OAAOmoB,EAAQ,EACnB,CACA,SAASE,EAAmBvsB,EAAKwsB,GAC7B,MAAMC,EAAWL,EAAepsB,GAChC,MAAwB,qBAAbysB,GAEJ,IAAIH,OAAOE,GAAOE,KAAKD,EAClC,CACA,SAASvC,EAAUlqB,GACf,OAAOusB,EAAmBvsB,EAAK,WACnC,CACA,SAAS+qB,EAAQ/qB,GACb,OAAOusB,EAAmBvsB,EAAK,SACnC,CACA,SAASiqB,EAAqBlrB,EAAGiB,EAAK6rB,GAClC,OAAO9sB,EAAEsH,QAAQ6O,SAAS,0BAA4BnW,EAAEsH,QAAQ6O,SAAS,wBACnE,IAAIxU,MAAM,eAAemrB,gBAAmB7rB,KAC5CjB,CACV,C,mCC7IA,IAAI4tB,EAFJ5wB,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQ0wB,8BAA2B,EAEnC,SAAWA,GACPA,EAAyBA,EAAyB,iBAAmB,GAAK,gBAC1EA,EAAyBA,EAAyB,wBAA0B,KAAO,sBACtF,CAHD,CAGGA,IAA6B1wB,EAAQ0wB,yBAA2BA,EAA2B,CAAC,G,kCCJ/F,IAAIC,EAFJ7wB,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQ2wB,cAAW,EAEnB,SAAWA,GACPA,EAAS,WAAa,MACzB,CAFD,CAEGA,IAAa3wB,EAAQ2wB,SAAWA,EAAW,CAAC,G,qCCL/C7wB,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQ0wB,yBAA2B1wB,EAAQ2wB,cAAW,EACtD,IAAIC,EAAmBlwB,EAAQ,MAC/BZ,OAAOC,eAAeC,EAAS,WAAY,CAAEwB,YAAY,EAAMC,IAAK,WAAc,OAAOmvB,EAAiBD,QAAU,IACpH,IAAIE,EAAkBnwB,EAAQ,OAC9BZ,OAAOC,eAAeC,EAAS,2BAA4B,CAAEwB,YAAY,EAAMC,IAAK,WAAc,OAAOovB,EAAgBH,wBAA0B,G,qCCLnJ5wB,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQ2tB,mBAAqBA,EAC7B3tB,EAAQ0tB,0BAA4BA,EACpC,MAAMtqB,EAAc1C,EAAQ,MAC5B,SAASitB,IACL,MAAO,CACH,QAAW,eACX,KAAQ,aACR,SAAY,kEACZ,SAAYvqB,EAAY0tB,YACxB,cAAiB1tB,EAAY2tB,sBAC7B,SAAY3tB,EAAYsa,iBACxB,UAAa,CAAC,MAAO,WAE7B,CACA,SAASgQ,IACL,MAAO,CACH,QAAW,aACX,KAAQ,kBACR,SAAY,kEACZ,SAAYtqB,EAAY0tB,YACxB,cAAiB,gBAAgB1tB,EAAY4tB,qBAC7C,SAAY,GACZ,UAAa,CAAC,MAAO,UAAW,QAAS,WAEjD,C,kCCzBAlxB,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQixB,gBAAkBjxB,EAAQgxB,aAAehxB,EAAQ6c,qBAAuB7c,EAAQkxB,mBAAqBlxB,EAAQ0d,iBAAmB1d,EAAQ8wB,YAAc9wB,EAAQ+wB,sBAAwB/wB,EAAQmxB,iBAAc,EACpNnxB,EAAQmxB,YAAc,aACtBnxB,EAAQ+wB,sBAA0C,qBAAXK,QAA0BA,OAAOC,SAASC,SAASrY,SAAS,WAC7F,gCACA,+BACNjZ,EAAQ8wB,YAAc,+BAEtB9wB,EAAQ0d,iBAAmB,GAAG1d,EAAQmxB,6BACtCnxB,EAAQkxB,mBAAqB,iCAE7BlxB,EAAQ6c,qBAAuB,IAE/B7c,EAAQgxB,aAAe,iBACvBhxB,EAAQixB,gBAAkB,O,qCCd1BnxB,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQiJ,wBAA0BjJ,EAAQgJ,qBAAkB,EAC5D,IAAI+lB,EAAsBruB,EAAQ,OAClCZ,OAAOC,eAAeC,EAAS,kBAAmB,CAAEwB,YAAY,EAAMC,IAAK,WAAc,OAAOstB,EAAoB/lB,eAAiB,IACrIlJ,OAAOC,eAAeC,EAAS,0BAA2B,CAAEwB,YAAY,EAAMC,IAAK,WAAc,OAAOstB,EAAoB9lB,uBAAyB,G,mCCJrJnJ,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQ8vB,cAAgB9vB,EAAQ6vB,mBAAqB7vB,EAAQuxB,wBAA0BvxB,EAAQ2vB,qBAAuB3vB,EAAQkwB,aAAelwB,EAAQiwB,eAAiBjwB,EAAQwxB,eAAiBxxB,EAAQyxB,iBAAmBzxB,EAAQ0xB,gBAAkB1xB,EAAQ2xB,YAAc3xB,EAAQiJ,wBAA0BjJ,EAAQgJ,qBAAkB,EACtU,MAAMA,UAAwBvE,MAC1BX,WAAAA,CAAY+B,EAAMuE,QACClJ,GAAXkJ,IACAA,EAAUwnB,EAAwB/rB,IAEtC2nB,MAAMpjB,GACNxJ,KAAKiF,KAAOA,EACZjF,KAAKwJ,QAAU,GAAGpB,EAAgBuZ,UAAUnY,EAAU,KAAOA,EAAU,KACvEtK,OAAO+xB,eAAejxB,KAAMoI,EAAgBjH,UAChD,CACA+vB,MAAAA,GACI,MAAO,CACH1nB,QAASxJ,KAAKwJ,QACdvE,KAAMjF,KAAKiF,KAEnB,EAIJ,SAAS+rB,EAAwB/rB,GAC7B,OAAIA,GAAQoD,EAAwBuW,cACzB,gBAEF3Z,GAAQoD,EAAwB8oB,kBAC9B,oBAEFlsB,GAAQoD,EAAwB+oB,wBAC9B,0BAEFnsB,GAAQoD,EAAwBgpB,oBAC9B,sBAEFpsB,GAAQoD,EAAwBipB,kBAC9B,oBAEFrsB,GAAQoD,EAAwBkpB,mBAC9B,qBAEFtsB,GAAQoD,EAAwBmpB,qBAC9B,uBAEFvsB,GAAQoD,EAAwBC,iBAC9B,gBAEJ,eACX,CACA,IAAID,EA7BJjJ,EAAQgJ,gBAAkBA,EAC1BA,EAAgBuZ,OAAS,0BA6BzB,SAAWtZ,GACPA,EAAwBA,EAAwB,iBAAmB,GAAK,gBACxEA,EAAwBA,EAAwB,qBAAuB,GAAK,oBAC5EA,EAAwBA,EAAwB,2BAA6B,IAAM,0BACnFA,EAAwBA,EAAwB,uBAAyB,IAAM,sBAC/EA,EAAwBA,EAAwB,qBAAuB,KAAO,oBAC9EA,EAAwBA,EAAwB,sBAAwB,KAAO,qBAC/EA,EAAwBA,EAAwB,wBAA0B,KAAO,uBACjFA,EAAwBA,EAAwB,uBAAyB,KAAO,sBAChFA,EAAwBA,EAAwB,wBAA0B,KAAO,uBACjFA,EAAwBA,EAAwB,oBAAsB,KAAO,kBAChF,CAXD,CAWGA,IAA4BjJ,EAAQiJ,wBAA0BA,EAA0B,CAAC,IAC5FjJ,EAAQ2xB,YAAc,cACtB3xB,EAAQ0xB,gBAAkB,kBAC1B1xB,EAAQyxB,iBAAmB,mBAC3BzxB,EAAQwxB,eAAiB,iBACzBxxB,EAAQiwB,eAAiB,iBACzBjwB,EAAQkwB,aAAe,eACvBlwB,EAAQ2vB,qBAAuB,EAAE,OAAQ,OAAQ,OAAQ,OAAQ,OACjE3vB,EAAQuxB,wBAA0B,EAAE,MAAQ,OAC5CvxB,EAAQ6vB,mBAAqB,CACzB,CAAC7vB,EAAQ2xB,aAAc,CAAE9rB,MAAO,MAAOuE,QAAS,eAChD,CAACpK,EAAQ0xB,iBAAkB,CAAE7rB,MAAO,MAAOuE,QAAS,mBACpD,CAACpK,EAAQyxB,kBAAmB,CAAE5rB,MAAO,MAAOuE,QAAS,oBACrD,CAACpK,EAAQwxB,gBAAiB,CAAE3rB,MAAO,MAAOuE,QAAS,kBACnD,CAACpK,EAAQiwB,gBAAiB,CAAEpqB,MAAO,MAAOuE,QAAS,kBACnD,CAACpK,EAAQkwB,cAAe,CAAErqB,MAAO,KAAOuE,QAAS,iBAErDpK,EAAQ8vB,cAAgB9vB,EAAQkwB,Y,qCC7EhC,IAAIvvB,EAAmBC,MAAQA,KAAKD,kBAAqBb,OAAOe,OAAU,SAASC,EAAGC,EAAGC,EAAGC,QAC7EC,IAAPD,IAAkBA,EAAKD,GAC3B,IAAIG,EAAOrB,OAAOsB,yBAAyBL,EAAGC,GACzCG,KAAS,QAASA,GAAQJ,EAAEM,WAAaF,EAAKG,UAAYH,EAAKI,gBAClEJ,EAAO,CAAEK,YAAY,EAAMC,IAAK,WAAa,OAAOV,EAAEC,EAAI,IAE5DlB,OAAOC,eAAee,EAAGG,EAAIE,EACjC,EAAM,SAASL,EAAGC,EAAGC,EAAGC,QACTC,IAAPD,IAAkBA,EAAKD,GAC3BF,EAAEG,GAAMF,EAAEC,EACd,GACIksB,EAAgBtsB,MAAQA,KAAKssB,cAAiB,SAASnsB,EAAGf,GAC1D,IAAK,IAAImtB,KAAKpsB,EAAa,YAANosB,GAAoBrtB,OAAOiC,UAAUC,eAAeC,KAAKjC,EAASmtB,IAAIxsB,EAAgBX,EAASe,EAAGosB,EAC3H,EACArtB,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQ8wB,YAAc9wB,EAAQmxB,YAAcnxB,EAAQ6c,qBAAuB7c,EAAQ0d,iBAAmB1d,EAAQ+wB,sBAAwB/wB,EAAQqyB,iBAAmBryB,EAAQsyB,mBAAqBtyB,EAAQuyB,kBAAoBvyB,EAAQwyB,gBAAkBxyB,EAAQyyB,gBAAkBzyB,EAAQ0yB,gBAAkB1yB,EAAQ2yB,gBAAkB3yB,EAAQ4yB,wBAAqB,EAC/V1F,EAAaxsB,EAAQ,OAAYV,GACjC,IAAI6yB,EAASnyB,EAAQ,OACrBZ,OAAOC,eAAeC,EAAS,qBAAsB,CAAEwB,YAAY,EAAMC,IAAK,WAAc,OAAOoxB,EAAOD,kBAAoB,IAC9H9yB,OAAOC,eAAeC,EAAS,kBAAmB,CAAEwB,YAAY,EAAMC,IAAK,WAAc,OAAOoxB,EAAOF,eAAiB,IACxH7yB,OAAOC,eAAeC,EAAS,kBAAmB,CAAEwB,YAAY,EAAMC,IAAK,WAAc,OAAOoxB,EAAOH,eAAiB,IACxH5yB,OAAOC,eAAeC,EAAS,kBAAmB,CAAEwB,YAAY,EAAMC,IAAK,WAAc,OAAOoxB,EAAOJ,eAAiB,IACxH3yB,OAAOC,eAAeC,EAAS,kBAAmB,CAAEwB,YAAY,EAAMC,IAAK,WAAc,OAAOoxB,EAAOL,eAAiB,IACxH1yB,OAAOC,eAAeC,EAAS,oBAAqB,CAAEwB,YAAY,EAAMC,IAAK,WAAc,OAAOoxB,EAAON,iBAAmB,IAC5HzyB,OAAOC,eAAeC,EAAS,qBAAsB,CAAEwB,YAAY,EAAMC,IAAK,WAAc,OAAOoxB,EAAOP,kBAAoB,IAC9HxyB,OAAOC,eAAeC,EAAS,mBAAoB,CAAEwB,YAAY,EAAMC,IAAK,WAAc,OAAOoxB,EAAOR,gBAAkB,IAC1H,IAAIjvB,EAAc1C,EAAQ,MAC1BZ,OAAOC,eAAeC,EAAS,wBAAyB,CAAEwB,YAAY,EAAMC,IAAK,WAAc,OAAO2B,EAAY2tB,qBAAuB,IACzIjxB,OAAOC,eAAeC,EAAS,mBAAoB,CAAEwB,YAAY,EAAMC,IAAK,WAAc,OAAO2B,EAAYsa,gBAAkB,IAC/H5d,OAAOC,eAAeC,EAAS,uBAAwB,CAAEwB,YAAY,EAAMC,IAAK,WAAc,OAAO2B,EAAYyZ,oBAAsB,IACvI/c,OAAOC,eAAeC,EAAS,cAAe,CAAEwB,YAAY,EAAMC,IAAK,WAAc,OAAO2B,EAAY+tB,WAAa,IACrHrxB,OAAOC,eAAeC,EAAS,cAAe,CAAEwB,YAAY,EAAMC,IAAK,WAAc,OAAO2B,EAAY0tB,WAAa,IACrH5D,EAAaxsB,EAAQ,OAAcV,E,mCChCnCF,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQqyB,iBAAmBryB,EAAQsyB,mBAAqBtyB,EAAQuyB,kBAAoBvyB,EAAQwyB,gBAAkBxyB,EAAQyyB,gBAAkBzyB,EAAQ0yB,gBAAkB1yB,EAAQ2yB,gBAAkB3yB,EAAQ4yB,wBAAqB,EACzN5yB,EAAQ4yB,mBAAqB,SAC7B5yB,EAAQ2yB,gBAAkB,SAC1B3yB,EAAQ0yB,gBAAkB,MAC1B1yB,EAAQyyB,gBAAkB,MAC1BzyB,EAAQwyB,gBAAkB,MAC1BxyB,EAAQuyB,kBAAoB,QAC5BvyB,EAAQsyB,mBAAqB,SAC7BtyB,EAAQqyB,iBAAmB,M,mCCT3B,IAAInwB,EAAatB,MAAQA,KAAKsB,WAAc,SAAUC,EAASC,EAAYC,EAAGC,GAC1E,SAASC,EAAMtC,GAAS,OAAOA,aAAiBoC,EAAIpC,EAAQ,IAAIoC,GAAE,SAAUG,GAAWA,EAAQvC,EAAQ,GAAI,CAC3G,OAAO,IAAKoC,IAAMA,EAAII,WAAU,SAAUD,EAASE,GAC/C,SAASC,EAAU1C,GAAS,IAAM2C,EAAKN,EAAUO,KAAK5C,GAAS,CAAE,MAAO6C,GAAKJ,EAAOI,EAAI,CAAE,CAC1F,SAASC,EAAS9C,GAAS,IAAM2C,EAAKN,EAAU,SAASrC,GAAS,CAAE,MAAO6C,GAAKJ,EAAOI,EAAI,CAAE,CAC7F,SAASF,EAAKd,GAAUA,EAAOkB,KAAOR,EAAQV,EAAO7B,OAASsC,EAAMT,EAAO7B,OAAOgD,KAAKN,EAAWI,EAAW,CAC7GH,GAAMN,EAAYA,EAAUY,MAAMf,EAASC,GAAc,KAAKS,OAClE,GACJ,EAUA,SAASiwB,EAAeC,EAAIC,GACxB,OAAO9wB,EAAUtB,UAAM,OAAQ,GAAQ,YACnC,IAAI+E,EAAIwJ,EACR,MAAM8jB,EAAyF,QAA7EttB,EAAiB,OAAZqtB,QAAgC,IAAZA,OAAqB,EAASA,EAAQC,gBAA6B,IAAPttB,EAAgBA,EAAK,EACtHutB,EAAuF,QAA5E/jB,EAAiB,OAAZ6jB,QAAgC,IAAZA,OAAqB,EAASA,EAAQE,eAA4B,IAAP/jB,EAAgBA,EAAK,IAC1H,GAAkB,oBAAP4jB,EACP,MAAM,IAAItuB,MAAM,mCAAmCsuB,GAEvD,IACII,EADA5e,EAAI,EAER,MAAOA,EAAI0e,EACP,IACI,aAAaF,GACjB,CACA,MAAOhqB,GACHoqB,EAAYpqB,EACZwL,IACIA,EAAI0e,UACEG,EAAMF,GAEpB,CAEJ,MAAMC,CACV,GACJ,CAOA,SAASC,EAAMC,EAASL,GACpB,OAAO9wB,EAAUtB,UAAM,OAAQ,GAAQ,YACnC,OAAO,IAAI6B,SAAQ,CAACD,EAASE,KACzB,IAAIiD,EAAIwJ,EACR,GAAgF,QAA3ExJ,EAAiB,OAAZqtB,QAAgC,IAAZA,OAAqB,EAASA,EAAQM,cAA2B,IAAP3tB,OAAgB,EAASA,EAAG4tB,QAEhH,YADA7wB,EAAO,IAAI+B,MAAM,kBAGrB,MAAM+uB,EAAYzsB,YAAW,IAAMvE,KAAW6wB,GAC8B,QAA3ElkB,EAAiB,OAAZ6jB,QAAgC,IAAZA,OAAqB,EAASA,EAAQM,cAA2B,IAAPnkB,GAAyBA,EAAG9F,iBAAiB,SAAS,KACtI5C,aAAa+sB,GACb9wB,EAAO,IAAI+B,MAAM,iBAAiB,GACpC,GAEV,GACJ,CAvDA3E,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQ8yB,eAAiBA,EACzB9yB,EAAQozB,MAAQA,C,qCCXhB,IAAIzyB,EAAmBC,MAAQA,KAAKD,kBAAqBb,OAAOe,OAAU,SAASC,EAAGC,EAAGC,EAAGC,QAC7EC,IAAPD,IAAkBA,EAAKD,GAC3B,IAAIG,EAAOrB,OAAOsB,yBAAyBL,EAAGC,GACzCG,KAAS,QAASA,GAAQJ,EAAEM,WAAaF,EAAKG,UAAYH,EAAKI,gBAClEJ,EAAO,CAAEK,YAAY,EAAMC,IAAK,WAAa,OAAOV,EAAEC,EAAI,IAE5DlB,OAAOC,eAAee,EAAGG,EAAIE,EACjC,EAAM,SAASL,EAAGC,EAAGC,EAAGC,QACTC,IAAPD,IAAkBA,EAAKD,GAC3BF,EAAEG,GAAMF,EAAEC,EACd,GACIksB,EAAgBtsB,MAAQA,KAAKssB,cAAiB,SAASnsB,EAAGf,GAC1D,IAAK,IAAImtB,KAAKpsB,EAAa,YAANosB,GAAoBrtB,OAAOiC,UAAUC,eAAeC,KAAKjC,EAASmtB,IAAIxsB,EAAgBX,EAASe,EAAGosB,EAC3H,EACArtB,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQyzB,eAAiBzzB,EAAQ0zB,UAAY1zB,EAAQ2zB,KAAO3zB,EAAQ4zB,kBAAoB5zB,EAAQ6zB,yBAA2B7zB,EAAQ8zB,cAAgB9zB,EAAQ+zB,SAAW/zB,EAAQsf,aAAetf,EAAQg0B,uBAAyBh0B,EAAQi0B,cAAgBj0B,EAAQ4d,MAAQ5d,EAAQyoB,aAAezoB,EAAQwsB,aAAexsB,EAAQ6sB,mBAAqB7sB,EAAQqsB,kBAAoBrsB,EAAQmO,YAAcnO,EAAQuO,eAAiBvO,EAAQif,WAAajf,EAAQuf,qBAAuBvf,EAAQk0B,0BAA4Bl0B,EAAQm0B,0BAA4Bn0B,EAAQ4e,oBAAsB5e,EAAQqf,iCAAmCrf,EAAQo0B,wBAA0Bp0B,EAAQq0B,qBAAuBr0B,EAAQs0B,4BAA8Bt0B,EAAQu0B,cAAgBv0B,EAAQ6d,4BAA8B7d,EAAQw0B,gBAAkBx0B,EAAQge,iBAAmBhe,EAAQiL,kBAAoBjL,EAAQiK,cAAgBjK,EAAQ4a,mBAAqB5a,EAAQ6T,YAAc7T,EAAQ2M,UAAY3M,EAAQy0B,WAAaz0B,EAAQkH,SAAWlH,EAAQmF,SAAWnF,EAAQ8yB,oBAAiB,EAC1gC,IAAI4B,EAAqBh0B,EAAQ,OACjCZ,OAAOC,eAAeC,EAAS,iBAAkB,CAAEwB,YAAY,EAAMC,IAAK,WAAc,OAAOizB,EAAmB5B,cAAgB,IAClI,IAAIhnB,EAAQpL,EAAQ,OACpBZ,OAAOC,eAAeC,EAAS,WAAY,CAAEwB,YAAY,EAAMC,IAAK,WAAc,OAAOqK,EAAM3G,QAAU,IACzGrF,OAAOC,eAAeC,EAAS,WAAY,CAAEwB,YAAY,EAAMC,IAAK,WAAc,OAAOqK,EAAM5E,QAAU,IACzGpH,OAAOC,eAAeC,EAAS,aAAc,CAAEwB,YAAY,EAAMC,IAAK,WAAc,OAAOqK,EAAM2oB,UAAY,IAC7G30B,OAAOC,eAAeC,EAAS,YAAa,CAAEwB,YAAY,EAAMC,IAAK,WAAc,OAAOqK,EAAMa,SAAW,IAC3G7M,OAAOC,eAAeC,EAAS,cAAe,CAAEwB,YAAY,EAAMC,IAAK,WAAc,OAAOqK,EAAM+H,WAAa,IAC/G/T,OAAOC,eAAeC,EAAS,qBAAsB,CAAEwB,YAAY,EAAMC,IAAK,WAAc,OAAOqK,EAAM8O,kBAAoB,IAC7HsS,EAAaxsB,EAAQ,OAAsBV,GAC3CktB,EAAaxsB,EAAQ,OAAaV,GAClC,IAAI6L,EAAanL,EAAQ,OACzBZ,OAAOC,eAAeC,EAAS,gBAAiB,CAAEwB,YAAY,EAAMC,IAAK,WAAc,OAAOoK,EAAW5B,aAAe,IACxHnK,OAAOC,eAAeC,EAAS,oBAAqB,CAAEwB,YAAY,EAAMC,IAAK,WAAc,OAAOoK,EAAWZ,iBAAmB,IAChI,IAAIe,EAAQtL,EAAQ,OACpBZ,OAAOC,eAAeC,EAAS,mBAAoB,CAAEwB,YAAY,EAAMC,IAAK,WAAc,OAAOuK,EAAMgS,gBAAkB,IACzHle,OAAOC,eAAeC,EAAS,kBAAmB,CAAEwB,YAAY,EAAMC,IAAK,WAAc,OAAOuK,EAAMwoB,eAAiB,IACvH10B,OAAOC,eAAeC,EAAS,8BAA+B,CAAEwB,YAAY,EAAMC,IAAK,WAAc,OAAOuK,EAAM6R,2BAA6B,IAC/I/d,OAAOC,eAAeC,EAAS,gBAAiB,CAAEwB,YAAY,EAAMC,IAAK,WAAc,OAAOuK,EAAMuoB,aAAe,IACnHz0B,OAAOC,eAAeC,EAAS,8BAA+B,CAAEwB,YAAY,EAAMC,IAAK,WAAc,OAAOuK,EAAMsoB,2BAA6B,IAC/Ix0B,OAAOC,eAAeC,EAAS,uBAAwB,CAAEwB,YAAY,EAAMC,IAAK,WAAc,OAAOuK,EAAMqoB,oBAAsB,IACjIv0B,OAAOC,eAAeC,EAAS,0BAA2B,CAAEwB,YAAY,EAAMC,IAAK,WAAc,OAAOuK,EAAMooB,uBAAyB,IACvIt0B,OAAOC,eAAeC,EAAS,mCAAoC,CAAEwB,YAAY,EAAMC,IAAK,WAAc,OAAOuK,EAAMqT,gCAAkC,IACzJvf,OAAOC,eAAeC,EAAS,sBAAuB,CAAEwB,YAAY,EAAMC,IAAK,WAAc,OAAOuK,EAAM4S,mBAAqB,IAC/H9e,OAAOC,eAAeC,EAAS,4BAA6B,CAAEwB,YAAY,EAAMC,IAAK,WAAc,OAAOuK,EAAMmoB,yBAA2B,IAC3Ir0B,OAAOC,eAAeC,EAAS,4BAA6B,CAAEwB,YAAY,EAAMC,IAAK,WAAc,OAAOuK,EAAMkoB,yBAA2B,IAC3Ip0B,OAAOC,eAAeC,EAAS,uBAAwB,CAAEwB,YAAY,EAAMC,IAAK,WAAc,OAAOuK,EAAMuT,oBAAsB,IACjIzf,OAAOC,eAAeC,EAAS,aAAc,CAAEwB,YAAY,EAAMC,IAAK,WAAc,OAAOuK,EAAMiT,UAAY,IAC7G,IAAI1b,EAAU7C,EAAQ,OACtBZ,OAAOC,eAAeC,EAAS,iBAAkB,CAAEwB,YAAY,EAAMC,IAAK,WAAc,OAAO8B,EAAQgL,cAAgB,IACvHzO,OAAOC,eAAeC,EAAS,cAAe,CAAEwB,YAAY,EAAMC,IAAK,WAAc,OAAO8B,EAAQ4K,WAAa,IACjHrO,OAAOC,eAAeC,EAAS,oBAAqB,CAAEwB,YAAY,EAAMC,IAAK,WAAc,OAAO8B,EAAQ8oB,iBAAmB,IAC7HvsB,OAAOC,eAAeC,EAAS,qBAAsB,CAAEwB,YAAY,EAAMC,IAAK,WAAc,OAAO8B,EAAQspB,kBAAoB,IAC/H/sB,OAAOC,eAAeC,EAAS,eAAgB,CAAEwB,YAAY,EAAMC,IAAK,WAAc,OAAO8B,EAAQipB,YAAc,IACnH1sB,OAAOC,eAAeC,EAAS,eAAgB,CAAEwB,YAAY,EAAMC,IAAK,WAAc,OAAO8B,EAAQklB,YAAc,IACnH3oB,OAAOC,eAAeC,EAAS,QAAS,CAAEwB,YAAY,EAAMC,IAAK,WAAc,OAAO8B,EAAQqa,KAAO,IACrG9d,OAAOC,eAAeC,EAAS,gBAAiB,CAAEwB,YAAY,EAAMC,IAAK,WAAc,OAAO8B,EAAQ0wB,aAAe,IACrHn0B,OAAOC,eAAeC,EAAS,yBAA0B,CAAEwB,YAAY,EAAMC,IAAK,WAAc,OAAO8B,EAAQywB,sBAAwB,IACvIl0B,OAAOC,eAAeC,EAAS,eAAgB,CAAEwB,YAAY,EAAMC,IAAK,WAAc,OAAO8B,EAAQ+b,YAAc,IACnH,IAAIqV,EAAYj0B,EAAQ,MACxBZ,OAAOC,eAAeC,EAAS,WAAY,CAAEwB,YAAY,EAAMC,IAAK,WAAc,OAAOkzB,EAAUZ,QAAU,IAC7Gj0B,OAAOC,eAAeC,EAAS,gBAAiB,CAAEwB,YAAY,EAAMC,IAAK,WAAc,OAAOkzB,EAAUb,aAAe,IACvHh0B,OAAOC,eAAeC,EAAS,2BAA4B,CAAEwB,YAAY,EAAMC,IAAK,WAAc,OAAOkzB,EAAUd,wBAA0B,IAC7I/zB,OAAOC,eAAeC,EAAS,oBAAqB,CAAEwB,YAAY,EAAMC,IAAK,WAAc,OAAOkzB,EAAUf,iBAAmB,IAC/H9zB,OAAOC,eAAeC,EAAS,OAAQ,CAAEwB,YAAY,EAAMC,IAAK,WAAc,OAAOkzB,EAAUhB,IAAM,IACrG7zB,OAAOC,eAAeC,EAAS,YAAa,CAAEwB,YAAY,EAAMC,IAAK,WAAc,OAAOkzB,EAAUjB,SAAW,IAC/G,IAAIkB,EAAYl0B,EAAQ,OACxBZ,OAAOC,eAAeC,EAAS,iBAAkB,CAAEwB,YAAY,EAAMC,IAAK,WAAc,OAAOmzB,EAAUnB,cAAgB,G,qCChE7G/yB,EAAA,OAAAA,EAAA,MAACA,EAAA,OAAAA,EAAA,MACb,IAAIwB,EAAatB,MAAQA,KAAKsB,WAAc,SAAUC,EAASC,EAAYC,EAAGC,GAC1E,SAASC,EAAMtC,GAAS,OAAOA,aAAiBoC,EAAIpC,EAAQ,IAAIoC,GAAE,SAAUG,GAAWA,EAAQvC,EAAQ,GAAI,CAC3G,OAAO,IAAKoC,IAAMA,EAAII,WAAU,SAAUD,EAASE,GAC/C,SAASC,EAAU1C,GAAS,IAAM2C,EAAKN,EAAUO,KAAK5C,GAAS,CAAE,MAAO6C,GAAKJ,EAAOI,EAAI,CAAE,CAC1F,SAASC,EAAS9C,GAAS,IAAM2C,EAAKN,EAAU,SAASrC,GAAS,CAAE,MAAO6C,GAAKJ,EAAOI,EAAI,CAAE,CAC7F,SAASF,EAAKd,GAAUA,EAAOkB,KAAOR,EAAQV,EAAO7B,OAASsC,EAAMT,EAAO7B,OAAOgD,KAAKN,EAAWI,EAAW,CAC7GH,GAAMN,EAAYA,EAAUY,MAAMf,EAASC,GAAc,KAAKS,OAClE,GACJ,EACA/C,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQ4a,mBAAqBA,EAC7B5a,EAAQmF,SAAWA,EACnBnF,EAAQkH,SAAWA,EACnBlH,EAAQy0B,WAAaA,EACrBz0B,EAAQ6T,YAAcA,EACtB7T,EAAQ2M,UAAYA,EACpB,MAAMkoB,GAAQ,EACRC,GAAc,EACd/oB,EAAWrL,EAAQ,OACnBq0B,EAAkB,IAAIhpB,EAASipB,YACrC,SAASpa,IACL,OAAOma,CACX,CACA,SAAS5vB,KAAY8vB,GACjB,GAAsB,oBAAXC,QACP,KACQL,IAAqB,OAAXzD,aAA8B,IAAXA,YAAoB,EAASA,OAAO+D,eACjED,QAAQxxB,IAAI,uBAAwBuxB,EAE5C,CACA,MAAOtvB,GAAM,CAErB,CACA,SAASuB,KAAY+tB,GACjB,GAAsB,oBAAXC,QACP,IAII,IAHIL,IAAqB,OAAXzD,aAA8B,IAAXA,YAAoB,EAASA,OAAO+D,eACjED,QAAQpjB,MAAM,uBAAwBmjB,GAEtCH,IAAgBD,EAAO,CACvB,IAAI9mB,EAAU,GACdA,GAAW,IAAIknB,GAAMvc,QAAO,CAAC5W,EAAQkW,KACd,iBAARA,EACG,IAAMA,EAEI,iBAARA,GACF2D,KAAKC,UAAU5D,EAC7B,IAEJ+c,EAAgBK,kBAAkBrnB,EAAShC,EAAS+H,cAAcC,IAAK,GAC3E,CACJ,CACA,MAAOpO,GAAM,CAErB,CACA,SAAS8uB,KAAcQ,GACnB,GAAsB,oBAAXC,QACP,KACQL,IAAqB,OAAXzD,aAA8B,IAAXA,YAAoB,EAASA,OAAO+D,eACjED,QAAQG,KAAK,uBAAwBJ,EAE7C,CACA,MAAOtvB,GAAM,CAErB,CACA,SAASkO,EAAY+b,EAAM0F,EAAQvnB,GAC/B,OAAO7L,EAAUtB,UAAM,OAAQ,GAAQ,kBAC7Bm0B,EAAgBK,kBAAkBrnB,EAAS6hB,EAAM0F,EAC3D,GACJ,CACA,SAAS3oB,EAAU4oB,GACf,OAAOrzB,EAAUtB,KAAMiI,eAAW,GAAQ,UAAWkF,EAASunB,EAAS,WACnE,GAER,C,qCC3EY50B,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAACA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OACb,IAAIwB,EAAatB,MAAQA,KAAKsB,WAAc,SAAUC,EAASC,EAAYC,EAAGC,GAC1E,SAASC,EAAMtC,GAAS,OAAOA,aAAiBoC,EAAIpC,EAAQ,IAAIoC,GAAE,SAAUG,GAAWA,EAAQvC,EAAQ,GAAI,CAC3G,OAAO,IAAKoC,IAAMA,EAAII,WAAU,SAAUD,EAASE,GAC/C,SAASC,EAAU1C,GAAS,IAAM2C,EAAKN,EAAUO,KAAK5C,GAAS,CAAE,MAAO6C,GAAKJ,EAAOI,EAAI,CAAE,CAC1F,SAASC,EAAS9C,GAAS,IAAM2C,EAAKN,EAAU,SAASrC,GAAS,CAAE,MAAO6C,GAAKJ,EAAOI,EAAI,CAAE,CAC7F,SAASF,EAAKd,GAAUA,EAAOkB,KAAOR,EAAQV,EAAO7B,OAASsC,EAAMT,EAAO7B,OAAOgD,KAAKN,EAAWI,EAAW,CAC7GH,GAAMN,EAAYA,EAAUY,MAAMf,EAASC,GAAc,KAAKS,OAClE,GACJ,EACIqS,EAAmBtU,MAAQA,KAAKsU,iBAAoB,SAAUrT,GAC9D,OAAQA,GAAOA,EAAIR,WAAcQ,EAAM,CAAE,QAAWA,EACxD,EACA/B,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQg1B,YAAch1B,EAAQw1B,cAAgBx1B,EAAQ8T,cAAgB9T,EAAQy1B,gBAAa,EAC3F,MAAMC,EAAgBxgB,EAAgBxU,EAAQ,QACxCoL,EAAQpL,EAAQ,OAChBsL,EAAQtL,EAAQ,OAChB6C,EAAU7C,EAAQ,OAClByU,EAAgBD,EAAgBxU,EAAQ,QACxCohB,EAAc5M,EAAgBxU,EAAQ,QAC5CV,EAAQy1B,WAAa,QACrB,MAAME,EAAgB,CAClB,8CACA,8CAEEC,EAAiB,YACjBC,EAAgB,iBAChBC,EAAwB,IACxBC,EAAuB,CACzBC,OAAQ,MACR,eAAgB,cAEdC,EAAsB,OACtBC,EAAqB,CACvBC,QAASJ,EACTvjB,OAAQyjB,GAEZj2B,EAAQ8T,cAAgB,CACpBsiB,QAAS,UACTC,SAAU,WACVC,MAAO,QACPviB,IAAK,OAET/T,EAAQw1B,cAAgB,CACpBe,KAAM,OACNC,OAAQ,UAIZ,MAUMC,EAAuBA,CAACC,KAAWC,IAAWz0B,OAAU,EAAQ,CAACw0B,KAAWC,QAAS,GAAQ,UAAWC,EAAM5D,EAAU,CAAC,EAAGK,EAAU,KACxI,IAAK,MAAMtvB,KAAO6yB,EACd,IACI,MAAMC,EAAa,IAAIC,gBACjBxD,EAASuD,EAAWvD,OACpByD,GAAe,EAAIrB,EAAc3f,SAAShS,EAAKjE,OAAO+b,OAAO/b,OAAO+b,OAAO,CAAC,EAAGmX,GAAU,CAAEM,YAC3F0D,EAAiB,IAAIv0B,SAAQ,CAACw0B,EAAGv0B,IAAWqE,YAAW,KACzD8vB,EAAWK,QACXx0B,EAAO,IAAI+B,MAAM,qBAAqB,GACvC4uB,KACGpX,QAAiBxZ,QAAQ00B,KAAK,CAACJ,EAAcC,IACnD,GAAI/a,EAASmb,GACT,OAAOnb,EAEX,GAAuB,KAAnBA,EAASob,OAET,OADAnC,QAAQpjB,MAAM,yBAA0B/N,GACjCkY,CAEf,CACA,MAAOnK,GACHojB,QAAQpjB,MAAM,mBAAmB/N,KAAQ+N,EAC7C,CAGJ,MADAojB,QAAQpjB,MAAM,gCACR,IAAIrN,MAAM,6BACpB,IACA,MAAMuwB,EACFlxB,WAAAA,GACIlD,KAAK02B,YAAct3B,EAAQw1B,cAAce,KACzC31B,KAAK22B,eAAiBv3B,EAAQy1B,WAC9B70B,KAAK42B,QAAUriB,EAAcY,QAAQC,eAAe,CAChDjE,KAAM,gBAEVnR,KAAK62B,WAAa,IAAIvf,MACtBtX,KAAK82B,aAAc,EAAIn0B,EAAQ4K,aAAa2T,EAAY/L,QAAQ8Q,YAAY,IAChF,CACA8Q,oBAAAA,CAAqBC,EAASniB,EAAMvJ,GAChCtL,KAAK22B,eAAiBK,EACtBh3B,KAAK02B,YAAc7hB,EACnB7U,KAAKi3B,QAAU3rB,CACnB,CACA,kBAAI4rB,GACA,OAAOlC,EAAiB,IAAMh1B,KAAKi3B,OACvC,CACA,kBAAIE,GACA,OAAI,EAAIx0B,EAAQqwB,sBACR,EAAIrwB,EAAQqa,SACL,MAGA,UAIJ,IAEf,CACA/C,WAAAA,GACI,OAAO3Y,EAAUtB,UAAM,OAAQ,GAAQ,YACnCA,KAAKo3B,qBACL,IAAIC,QAAgBr3B,KAAK42B,QAAQxnB,QAAQpP,KAAKk3B,gBAC1CI,QAAat3B,KAAK42B,QAAQxnB,QAAQ6lB,GAClCqC,EACAt3B,KAAK82B,YAAcQ,EAGnBt3B,KAAK42B,QAAQ1d,QAAQ+b,EAAej1B,KAAK82B,aAEzCO,IACAr3B,KAAK62B,WAAaQ,GAClB,EAAInsB,EAAM3G,UAAU,qCAAsCvE,KAAK62B,WAAWxvB,cACpErH,KAAKu3B,oBAEnB,GACJ,CACAH,kBAAAA,GACI,IAAI5G,GAAS,EAAIplB,EAAMosB,aACnBhH,IACA,EAAItlB,EAAM3G,UAAU,8BAM5B,CACAkzB,YAAAA,GACI,OAAOz3B,KAAK62B,UAChB,CACAa,UAAAA,CAAWC,GACP,OAAOr2B,EAAUtB,UAAM,OAAQ,GAAQ,YACnC,OAAO,IAAI6B,SAAQ,CAACD,EAASE,IAAWR,EAAUtB,UAAM,OAAQ,GAAQ,YACpE,IACI,MAAM43B,EAAO7c,KAAKC,UAAU2c,IAC5B,EAAIzsB,EAAM3G,UAAU,oBAAqBqzB,GACzC,MAAMC,QAAYhC,EAAqBd,EAAe71B,OAAO+b,OAAO/b,OAAO+b,OAAO,CAAC,EAAGqa,GAAqB,CAAEsC,KAAMA,MACnH,EAAI1sB,EAAM3G,UAAU,oBAAqBszB,GACrCA,GAAOA,EAAIpB,QAAwB,KAAdoB,EAAIpB,QACzBz2B,KAAK62B,WAAa72B,KAAK62B,WAAWze,QAAQhB,GAC/BA,EAAKkO,WAAaqS,EAAOrS,WAAalO,EAAKjK,SAAWwqB,EAAOxqB,gBAElEnN,KAAK42B,QAAQ1d,QAAQlZ,KAAKk3B,eAAgBl3B,KAAK62B,YACrDj1B,GAAQ,IAGRE,GAAO,EAEf,CACA,MAAOI,IACH,EAAIgJ,EAAM3G,UAAU,qBAAsBrC,GAC1CN,GAAQ,EAEZ,CACJ,KACJ,GACJ,CACA4yB,iBAAAA,CAAkBrnB,EAAS6hB,EAAM0F,GAC7B,OAAOpzB,EAAUtB,UAAM,OAAQ,GAAQ,YACnC,IAAI+E,EAAIwJ,EAAIC,EAAIC,EAChB,IAAIqpB,EAAyC,QAAjC/yB,GAAK,EAAIqG,EAAMosB,oBAAiC,IAAPzyB,OAAgB,EAASA,EAAG0rB,SAASsH,SACtFtH,EAA6C,QAAjCliB,GAAK,EAAInD,EAAMosB,oBAAiC,IAAPjpB,OAAgB,EAASA,EAAGkiB,SAAS9I,OAC1FmQ,GAAQrH,IACRA,GAAsBqH,GAE1B,IAAIE,EAA6C,QAAjCxpB,GAAK,EAAIpD,EAAMosB,oBAAiC,IAAPhpB,OAAgB,EAASA,EAAGypB,UAAUD,SAC3FE,EAAuC,QAAjCzpB,GAAK,EAAIrD,EAAMosB,oBAAiC,IAAP/oB,OAAgB,EAASA,EAAGwpB,UAAUE,UACrFC,EAAWp4B,KAAKm3B,eAChBkB,EAAa,CACbf,KAAMt3B,KAAK82B,YACXE,QAASh3B,KAAK22B,eACdxpB,QAASA,EACTunB,OAAQA,EACR7f,KAAM7U,KAAK02B,YACXpR,WAAW,IAAI7gB,MAAOmM,UACtBzN,IAAKstB,EACL6H,KAAMN,EACNhJ,KAAMA,EACNoJ,SAAUA,EACV,aAAcF,SAEZl4B,KAAKu4B,eAAeF,SACpBr4B,KAAK03B,WAAWW,EAC1B,GACJ,CACAd,iBAAAA,GACI,OAAOj2B,EAAUtB,UAAM,OAAQ,GAAQ,YACnC,OAAO,IAAI6B,SAAQ,CAACD,EAASE,IAAWR,EAAUtB,UAAM,OAAQ,GAAQ,YACpE,IAAIw4B,EAAWx4B,KAAK62B,WAAWjgB,KAAI+gB,GAAU33B,KAAK03B,WAAWC,MAC7D,EAAIzsB,EAAM3G,UAAU,mDAAmD,IAAIE,MAAOgC,eAClF5E,QAAQ42B,WAAWD,GAAUn2B,MAAMq2B,KAC/B,EAAIxtB,EAAM3G,UAAU,kDAAkD,IAAIE,MAAOgC,eACjF,IAAIkyB,EAAY,GAChBD,EAAQ1oB,SAAQ,CAAC9O,EAAQ2V,KACA,YAAjB3V,EAAOu1B,QACPkC,EAAUpiB,KAAKM,EACnB,IAEJ7W,KAAK62B,WAAa72B,KAAK62B,WAAWze,QAAO,CAACie,EAAGxf,KAAW8hB,EAAUtgB,SAASxB,KAC3E7W,KAAK42B,QAAQ1d,QAAQlZ,KAAKk3B,eAAgBl3B,KAAK62B,YAAYx0B,MAAK,SAAUhD,GACtEuC,GACJ,IAAG6P,OAAM,SAAUtJ,GACfrG,EAAOqG,EACX,GAAE,GAEV,KACJ,GACJ,CACAowB,cAAAA,CAAenhB,GACX,OAAO9V,EAAUtB,UAAM,OAAQ,GAAQ,YAEnC,GADAA,KAAK62B,WAAWtgB,KAAKa,GACjBpX,KAAK62B,WAAWxvB,OAAS6tB,EAAuB,CAChD,IAAI7N,EAASrnB,KAAK62B,WAAWxvB,OAAS6tB,EACtCl1B,KAAK62B,WAAWlhB,OAAO,EAAG0R,EAC9B,CACA,OAAO,IAAIxlB,SAAQ,CAACD,EAASE,KACzB9B,KAAK42B,QAAQ1d,QAAQlZ,KAAKk3B,eAAgBl3B,KAAK62B,YAAYx0B,MAAK,SAAUhD,GACtEuC,EAAQwV,EACZ,IAAG3F,OAAM,SAAUtJ,GACfrG,EAAOqG,EACX,GAAE,GAEV,GACJ,CACAywB,UAAAA,CAAWzrB,EAAS6hB,EAAM0F,EAAQ7f,GAC9B,OAAOvT,EAAUtB,UAAM,OAAQ,GAAQ,YACnC,IAAI+E,EAAIwJ,EAAIC,EAAIC,EAChB,IAAIqpB,EAAyC,QAAjC/yB,GAAK,EAAIqG,EAAMosB,oBAAiC,IAAPzyB,OAAgB,EAASA,EAAG0rB,SAASsH,SACtFtH,EAA6C,QAAjCliB,GAAK,EAAInD,EAAMosB,oBAAiC,IAAPjpB,OAAgB,EAASA,EAAGkiB,SAAS9I,OAC1FmQ,GAAQrH,IACRA,GAAsBqH,GAE1B,IAAIE,EAA6C,QAAjCxpB,GAAK,EAAIpD,EAAMosB,oBAAiC,IAAPhpB,OAAgB,EAASA,EAAGypB,UAAUD,SAC3FI,EAAWp4B,KAAKm3B,eAChBe,EAAuC,QAAjCzpB,GAAK,EAAIrD,EAAMosB,oBAAiC,IAAP/oB,OAAgB,EAASA,EAAGwpB,UAAUE,UACrFE,EAAa,CACbf,KAAMt3B,KAAK82B,YACXE,QAASh3B,KAAK22B,eACdxpB,QAASA,EACTunB,OAAQA,EACR7f,KAAMA,EACNyQ,WAAW,IAAI7gB,MAAOmM,UACtBzN,IAAKstB,EACL6H,KAAMN,EACNhJ,KAAMA,EACNoJ,SAAUA,EACV,aAAcF,GAElB,aAAal4B,KAAKu4B,eAAeF,EACrC,GACJ,EAEJj5B,EAAQg1B,YAAcA,C,mCC7QtBl1B,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQy5B,sBAAwBz5B,EAAQ05B,4BAA8B15B,EAAQ25B,iCAAmC35B,EAAQ45B,sCAAwC55B,EAAQ65B,2BAA6B75B,EAAQ85B,qCAAuC95B,EAAQ+5B,kCAAoC/5B,EAAQg6B,2BAA6Bh6B,EAAQi6B,iCAA8B,EAC5Wj6B,EAAQi6B,4BAA8B,qCACtCj6B,EAAQg6B,2BAA6B,oCACrCh6B,EAAQ+5B,kCAAoC,2CAC5C/5B,EAAQ85B,qCAAuC,8CAC/C95B,EAAQ65B,2BAA6B,oCACrC75B,EAAQ45B,sCAAwC,+CAChD55B,EAAQ25B,iCAAmC,0CAC3C35B,EAAQ05B,4BAA8B,qCACtC15B,EAAQy5B,sBAAwB,a,qCCVhC35B,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQiK,cAAgBA,EACxBjK,EAAQiL,kBAAoBA,EAC5B,MAAMa,EAAQpL,EAAQ,OAChBw5B,EAAiBh1B,GAASyW,KAAKC,UAAU1W,GAAM,CAAC+xB,EAAGh3B,IAA4B,kBAAVA,EAAqBA,EAAMsF,WAAa,IAAMtF,IAQnHk6B,EAAaC,IAQf,MAAMC,EAA0B,sQAC1BC,EAAiBF,EAAK1nB,QAAQ2nB,GAAyB,CAACtK,EAAOwK,IAAU,KAAKA,QACpF,IACI,OAAO5e,KAAK6e,MAAMF,GAAgB,CAACrD,EAAGh3B,KAClC,MAAMw6B,EAAwC,kBAAVx6B,GAAsBA,EAAM8vB,MAAM,UACtE,OAAI0K,EACO/K,OAAOzvB,EAAMy6B,UAAU,EAAGz6B,EAAMgI,OAAS,IAC7ChI,CAAK,GAEpB,CACA,MAAO6C,GACH,OAAO6Y,KAAK6e,MAAMJ,EACtB,GAEJ,SAASnwB,EAAchK,GACnB,GAAqB,kBAAVA,EAEP,MADA,EAAI6L,EAAM3G,UAAUlF,GACd,IAAIwE,MAAM,+CAA+CxE,GAEnE,IACI,OAAOk6B,EAAUl6B,EACrB,CACA,MAAO6C,GAGH,OADAoyB,QAAQpjB,MAAM,uBAAwBhP,GAC/B7C,CACX,CACJ,CACA,SAASgL,EAAkBhL,GACvB,MAAwB,kBAAVA,EAAqBA,EAAQi6B,EAAcj6B,IAAU,EACvE,C,qCCnDYS,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAACA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OACbZ,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQmiB,cAAgBA,EACxBniB,EAAQkiB,YAAcA,EACtBliB,EAAQ26B,MAAQA,EAChB36B,EAAQ46B,YAAcA,EACtB,MAAMC,EAAWn6B,EAAQ,MACnBoL,EAAQpL,EAAQ,OACtB,SAASyhB,EAAc2Y,EAAQC,EAAW,QACtC,MAAMC,EAAOC,EAAMF,GAEnB,IADA,EAAIjvB,EAAM3G,UAAU,yBACf61B,EACD,MAAM,IAAIv2B,MAAM,yBAAyBs2B,MAE7C,OAAOC,EAAKE,QAAQjO,OAAO,GAAG+N,EAAKzY,SAASuY,IAChD,CACA,SAAS5Y,EAAYiZ,EAAOJ,EAAW,QACnC,MAAMC,EAAOC,EAAMF,GAEnB,IADA,EAAIjvB,EAAM3G,UAAU,uBACf61B,EACD,MAAM,IAAIv2B,MAAM,yBAAyBs2B,MAE7C,OAAOC,EAAKI,QAAQhe,OAAO+d,GAAOT,UAAU,EAChD,CACA,SAASC,EAAMvkB,EAAO,GAClB,OAAO,IAAI8Y,WAAW9Y,EAC1B,CACA,SAASwkB,EAAYxkB,EAAO,GACxB,OAAO,IAAI8Y,WAAW9Y,EAC1B,CACA,SAASilB,EAAYtpB,EAAMwQ,EAAQnF,EAAQ6P,GACvC,MAAO,CACHlb,OACAwQ,SACA6Y,QAAS,CACLrpB,OACAwQ,SACAnF,UAEJ8d,QAAS,CAAEjO,UAEnB,CACA,MAAM6N,EAASO,EAAY,OAAQ,KAAKC,IACpC,MAAMJ,EAAU,IAAIlO,YAAY,QAChC,MAAO,IAAMkO,EAAQjO,OAAOqO,EAAI,IACjCrZ,IACC,MAAMmZ,EAAU,IAAIje,YACpB,OAAOie,EAAQhe,OAAO6E,EAAIyY,UAAU,GAAG,IAErCa,EAAQF,EAAY,QAAS,KAAKC,IACpC,IAAIx5B,EAAS,IACb,IAAK,IAAIyS,EAAI,EAAGA,EAAI+mB,EAAIrzB,OAAQsM,IAAK,CACjC,IAAIinB,EAASF,EAAI/mB,GACbinB,GAAUje,OAAOC,aAAage,KAC9B15B,GAAUyb,OAAOC,aAAage,GAEtC,CACA,OAAO15B,CAAM,IACdmgB,IACCA,EAAMA,EAAIyY,UAAU,GACpB,MAAMY,EAAMV,EAAY3Y,EAAIha,QAC5B,IAAK,IAAIsM,EAAI,EAAGA,EAAI0N,EAAIha,OAAQsM,IAC5B+mB,EAAI/mB,GAAK0N,EAAIwZ,WAAWlnB,GAE5B,OAAO+mB,CAAG,IAERL,EAAQn7B,OAAO+b,OAAO,CAAE6f,KAAMZ,EAAQ,QAASA,EAAQa,IAAKd,EAASe,MAAMC,OAAQC,OAAQP,EAAOA,MAAOA,EAAOQ,OAAQR,GAASV,EAASe,M,qCCjEhJ,IAAIj2B,EAAIwJ,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EADhB9O,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAACA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAEbZ,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQg8B,cAAgBA,EACxBh8B,EAAQ0M,QAAUA,EAClB1M,EAAQi8B,oBAAsBA,EAC9Bj8B,EAAQk8B,WAAaA,EACrBl8B,EAAQm8B,qBAAuBA,EAC/Bn8B,EAAQyzB,eAAiBA,EACzB,MAAMznB,EAAQtL,EAAQ,OAChBoL,EAAQpL,EAAQ,OAChBiD,EAAajD,EAAQ,OACrBi0B,EAAYj0B,EAAQ,MAC1B,IAAI07B,EAAa,CAAC,EAClB,IACI,IAAIC,EAAehL,SAASiL,KAAK/2B,WACjC62B,EAAaG,EAAmBF,EACpC,CACA,MAAOv5B,GAAK,CACZ,IAAI05B,EAAc,UAIlB,IAHmB,OAAfJ,QAAsC,IAAfA,OAAwB,EAASA,EAAWK,oBACnED,EAAqD,QAAtC72B,EAAKy2B,EAAWK,wBAAqC,IAAP92B,EAAgBA,EAAK,WAElE,YAAhB62B,EAA2B,CAC3B,MAAMpL,GAAS,EAAIplB,EAAMosB,aACzBoE,EAAuM,QAAxLntB,EAAsI,QAAhID,EAAgF,QAA1ED,EAAgB,OAAXiiB,QAA8B,IAAXA,OAAoB,EAASA,EAAOsL,gBAA6B,IAAPvtB,OAAgB,EAASA,EAAGwtB,cAA2B,IAAPvtB,OAAgB,EAASA,EAAG4pB,gBAA6B,IAAP3pB,EAAgBA,EAAK,SACxO,CACA,IAAIutB,EAAgB,MAIpB,IAHmB,OAAfR,QAAsC,IAAfA,OAAwB,EAASA,EAAWS,mBACnED,EAAgBR,EAAWS,kBAE1BD,EAAe,CAChB,MAAMxL,GAAS,EAAIplB,EAAMosB,aACzBwE,EAAwM,QAAvLptB,EAAsI,QAAhID,EAAgF,QAA1ED,EAAgB,OAAX8hB,QAA8B,IAAXA,OAAoB,EAASA,EAAOsL,gBAA6B,IAAPptB,OAAgB,EAASA,EAAGqtB,cAA2B,IAAPptB,OAAgB,EAASA,EAAGqoB,eAA4B,IAAPpoB,EAAgBA,EAAK,KACzO,CAKA,SAASwsB,KAAiBc,GACtB,OAAOA,EAAU7jB,SAASujB,EAC9B,CAIA,SAAS9vB,IACL,IAAI/G,EACJ,MAAuB,YAAhB62B,MAAkE,QAAjC72B,GAAK,EAAIqG,EAAMosB,oBAAiC,IAAPzyB,OAAgB,EAASA,EAAGo3B,qBACjH,CAIA,SAASd,IACL,IAAIt2B,EACJ,MAAMq3B,KAAyD,QAAjCr3B,GAAK,EAAIqG,EAAMosB,oBAAiC,IAAPzyB,OAAgB,EAASA,EAAGs3B,iBACnG,OAAQvwB,KAAaswB,IAAsC,YAAhBR,CAC/C,CAIA,SAASN,IACLgB,EAAU,iBAAkB,CAAC,EACjC,CAMA,SAASf,EAAqBgB,EAAMC,GAChC,MAAMr5B,EAAM,IAAIs5B,IAAIF,GACpB,GAAqB,UAAjBp5B,EAAIysB,UAAyC,WAAjBzsB,EAAIysB,SAAuB,CACvD,GAAI4M,EACA,OAAOA,IAEX,MAAM,IAAIz5B,EAAWqF,gBAAgBrF,EAAWsF,wBAAwBuW,cAAe,kCAAkCzb,IAC7H,CACA,GAAqB,SAAjBA,EAAIutB,SAAqB,CACzB,GAAI8L,EACA,OAAOA,IAEX,MAAM,IAAIz5B,EAAWqF,gBAAgBrF,EAAWsF,wBAAwBuW,cAAe,8BAA8Bzb,IACzH,CACA,MAAMu5B,EAAWv5B,EAAI40B,SAAW50B,EAAIw5B,OAChCC,KAAcC,EAAe,OAC7BP,EAAU,uBAAwB,CAAEQ,UAAWJ,KAG/C,EAAI3I,EAAUb,eAAe,eAAiBwJ,EAEtD,CACA,SAASE,IACL,IACI,MAAMpM,GAAS,EAAIplB,EAAMosB,aACzB,QAAKhH,IAGmB,MAAjBA,EAAOuM,QAAkBvM,IAAWA,EAAOuM,OACtD,CACA,MAAO76B,GACH,OAAO,CACX,CACJ,CACA,SAASo6B,EAAUU,EAAWC,GAC1B,IACI,MAAMzM,GAAS,EAAIplB,EAAMosB,aACzB,IAAKhH,EACD,MAAM,IAAIztB,EAAWqF,gBAAgBrF,EAAWsF,wBAAwBuW,cAAe,4DAE3F,QAAoCte,IAAhCkwB,EAAO2L,sBACP,EAAIjxB,EAAM3G,UAAU,YAAay4B,EAAWC,GAC5CzM,EAAO2L,qBAAqBG,UAAUU,EAAWjiB,KAAKC,UAAUiiB,SAE/D,GAAIzM,EAAO0M,UAAY,WAAY1M,EAAO0M,UAC3C,EAAIhyB,EAAM3G,UAAU,YAAay4B,EAAWC,GAC5CzM,EAAO0M,SAASC,OAAOpiB,KAAKC,UAAU,CAAEgiB,UAAWA,EAAWC,UAAWA,SAExE,KAAIL,IAOL,MAAM,IAAI75B,EAAWqF,gBAAgBrF,EAAWsF,wBAAwBuW,cAAe,2BAPtE,CACjB,MAAMwe,EAAgB,IAChB5zB,EAAUuR,KAAKC,UAAU,CAAEgiB,UAAWA,EAAWC,UAAWA,KAClE,EAAI/xB,EAAM3G,UAAU,YAAay4B,EAAWC,GAC5CzM,EAAOuM,OAAOM,YAAY7zB,EAAS4zB,EACvC,CAGA,CACJ,CACA,MAAOl7B,IACH,EAAIgJ,EAAM5E,UAAU,sCAAsCpE,IAC9D,CACJ,CACA,SAASy5B,EAAmBF,GACxBA,EAAeA,EAAa3pB,QAAQ,KAAM,IAC1C,IAAIxI,EAAS,CAAC,EACd,IAAKmyB,EAAap0B,OACd,OAAOiC,EAEX,GAAImyB,EAAa6B,QAAQ,KAAO,GAAK7B,EAAa6B,QAAQ,KAAO,EAE7D,OADAh0B,EAAOi0B,MAAQC,EAAc/B,GACtBnyB,EAEX,IAAIm0B,EAAShC,EAAa6B,QAAQ,KAClC,GAAIG,GAAU,EAAG,CACb,IAAIC,EAAYjC,EAAakC,OAAO,EAAGF,GACvCn0B,EAAOi0B,MAAQC,EAAcE,GAC7BjC,EAAeA,EAAakC,OAAOF,EAAS,EAChD,CACA,IAAIG,EAAeC,EAAoBpC,GACvC,IAAK,IAAIr7B,KAAKw9B,EACVt0B,EAAOlJ,GAAKw9B,EAAax9B,GAE7B,OAAOkJ,CACX,CACA,SAASk0B,EAAcM,GACnB,IAEI,OADAA,EAAaA,EAAWhsB,QAAQ,MAAO,OAChCisB,mBAAmBD,EAC9B,CACA,MAAO57B,GACH,OAAO47B,CACX,CACJ,CACA,SAASD,EAAoBG,GACzB,IAAI10B,EAAS,CAAC,EACd,IAAK00B,EAAY32B,OACb,OAAOiC,EAEX,IACIqK,EAAG1J,EAAOg0B,EAAWC,EADrBC,EAAoBH,EAAYnc,MAAM,KAE1C,IAAKlO,EAAI,EAAGA,EAAIwqB,EAAkB92B,OAAQsM,IACtC1J,EAAQk0B,EAAkBxqB,GAAGkO,MAAM,KACnCoc,EAAYT,EAAcvzB,EAAM,IAChCi0B,EAAyB,MAAZj0B,EAAM,GAAa,KAAOuzB,EAAcvzB,EAAM,IAC3DX,EAAO20B,GAAaC,EAExB,OAAO50B,CACX,CACA,SAASupB,EAAeuL,EAAIC,GACN,kBAAPD,IACPA,EAAK,IACS,kBAAPC,IACPA,EAAK,IACT,IAEI1mB,EAAGhE,EAAG2qB,EAAIC,EAFVC,EAASJ,EAAGtsB,QAAQ,aAAc,IAAI+P,MAAM,KAC5C4c,EAASJ,EAAGvsB,QAAQ,aAAc,IAAI+P,MAAM,KAGhD,IADAlK,EAAI+K,KAAKgc,IAAIF,EAAOn3B,OAAQo3B,EAAOp3B,QAC9BsM,EAAI,EAAGA,EAAIgE,EAAGhE,IAGf,GAFA2qB,EAAKK,SAASH,EAAO7qB,KAAO,EAC5B4qB,EAAKI,SAASF,EAAO9qB,KAAO,EACxB2qB,IAAOC,EAEX,OAAID,EAAKC,EACE,GACH,EAEZ,OAAO,CACX,CACA,SAAS1B,EAAe+B,GACpB,OAAO/L,EAAemJ,EAAe4C,IAAQ,CACjD,C,qCCrMA,IAAI75B,EAAIwJ,EAAIC,EAAIC,EADJ3O,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAACA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAEbZ,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQy/B,mBAAqBA,EAC7Bz/B,EAAQ0/B,aAAeA,EACvB1/B,EAAQge,iBAAmBA,EAC3Bhe,EAAQw0B,gBAAkBA,EAC1Bx0B,EAAQuf,qBAAuBA,EAC/Bvf,EAAQ6d,4BAA8BA,EACtC7d,EAAQo4B,UAAYA,EACpBp4B,EAAQu0B,cAAgBA,EACxBv0B,EAAQs0B,4BAA8BA,EACtCt0B,EAAQ4e,oBAAsBA,EAC9B5e,EAAQm0B,0BAA4BA,EACpCn0B,EAAQq0B,qBAAuBA,EAC/Br0B,EAAQk0B,0BAA4BA,EACpCl0B,EAAQo0B,wBAA0BA,EAClCp0B,EAAQqf,iCAAmCA,EAC3Crf,EAAQ0M,QAAUA,EAClB1M,EAAQi8B,oBAAsBA,EAC9Bj8B,EAAQif,WAAaA,EACrB,MAAMtb,EAAajD,EAAQ,OACrBoL,EAAQpL,EAAQ,OAChB0C,EAAc1C,EAAQ,MACtB6C,EAAU7C,EAAQ,OAClBk0B,EAAYl0B,EAAQ,OACpBi/B,EAAcj/B,EAAQ,OAC5B,SAAS++B,EAAmB17B,GACxB,MAAsB,MAAlBA,EAAIqT,OAAO,GACJrT,EAAIqT,MAAM,GAAI,GAElBrT,CACX,CACA,SAAS27B,EAAa37B,EAAK20B,GACvB,OAAO+G,EAAmB17B,GAAO,IAAM20B,CAC3C,CACA,SAAS1a,EAAiBP,GACtB,MAAMmiB,EAAoBC,mBAAmBpiB,GAE7C,OADAyX,QAAQxxB,IAAI,0CAA2CC,EAAWotB,uBAC3D,GAAGptB,EAAWotB,kCAAkC6O,GAC3D,CACA,SAASpL,EAAgB/W,GACrB,IAAI9X,EACJ,MAAMm6B,EAAU9hB,EAAiBP,GAC3BsiB,KAAuC,QAAtBp6B,EAAKyyB,WAAgC,IAAPzyB,OAAgB,EAASA,EAAGo3B,sBAEjF,GADA7H,QAAQxxB,IAAI,2BAA4Bo8B,IACnC,EAAIv8B,EAAQqa,SAUb2B,EAAqBugB,OAVE,CACvB,IAAIE,EAAY,KACZD,EACAC,EAAY5O,OAAOrE,KAAKtP,EAAa,UAGrC2T,OAAOC,SAAS4O,KAAOxiB,CAE/B,CAIJ,CACA,SAAS8B,EAAqBugB,IACrB,EAAIv8B,EAAQqa,SAQTlR,IACA0kB,OAAOrE,KAAK+S,EAAS,WAGrB5K,QAAQxxB,IAAI,uBAAwB2B,KAAKC,OAC1B,OAAX8rB,aAA8B,IAAXA,QAA6BA,OAAO+D,YACvD/D,OAAOrE,KAAK+S,EAAS,UAKzB5K,QAAQxxB,IAAI,sBAAuB2B,KAAKC,QAjB5C8rB,OAAOrE,KAAK+S,EAAS,SAoB7B,CACA,SAASjiB,EAA4BJ,GACjC,IAAI9X,EACJ,MAAMm6B,EAAU9hB,EAAiBP,GAC3BsiB,KAAuC,QAAtBp6B,EAAKyyB,WAAgC,IAAPzyB,OAAgB,EAASA,EAAGo3B,sBACjF7H,QAAQxxB,IAAI,uCAAwCo8B,GACpD,IAAII,GAAiB,EACrB,MAAMC,EAAkB,IAClBrP,EAAcntB,EAAWotB,sBAE/B,GADAmE,QAAQxxB,IAAI,qDAAsDC,EAAWotB,wBACxE,EAAIxtB,EAAQqa,SA6BTmiB,EACA3O,OAAOrE,KAAK+S,EAAS,WAGrB5K,QAAQxxB,IAAI,uBAAwB2B,KAAKC,QAC1B,OAAX8rB,aAA8B,IAAXA,YAAoB,EAASA,OAAO+D,aACvD/D,OAAOrE,KAAK+S,EAAS,UAGrB1O,OAAOrE,KAAK+S,EAAS,SAEzB5K,QAAQxxB,IAAI,sBAAuB2B,KAAKC,YAxCrB,CACvB,IAAI06B,EAAY,KAChB,IAAII,EAAyBA,KACpBF,IACGF,EACAA,EAAUjT,KAAK+D,EAAa,SAG5BM,OAAOrE,KAAK+D,EAAa,UAEjC,EAEAiP,EACAC,EAAY5O,OAAOrE,KAAKtP,EAAa,UAGrC2T,OAAOC,SAAS4O,KAAOxiB,EAE3B1W,WAAWq5B,EAAwBD,GACnC/O,OAAO/nB,iBAAiB,QAAQ,KAC5B62B,GAAiB,CAAI,GACtB,CAAEp3B,MAAM,IACXH,SAASU,iBAAiB,oBAAoB,KACT,WAA7BV,SAASC,kBACTs3B,GAAiB,EACrB,GAER,CAgBJ,CACA,SAAS9H,IACL,GAAsB,qBAAXhH,OACP,OAAOA,MAGf,CACA,SAASmD,EAAc4I,GACnB,IAAKA,EACD,OAAO,EAEX,MAAMp5B,EAAM,IAAIs5B,IAAIF,GACpB,MAAwB,QAAjBp5B,EAAIysB,UAAuC,SAAjBzsB,EAAIutB,QACzC,CACA,SAASgD,EAA4B+L,GACjC,IAAIC,EAAoBD,EAOxB,OANAC,EAAoBA,EAAkB5tB,QAAQ,MAAO,OACrD4tB,EAAoBA,EAAkB5tB,QAAQ,KAAM,OACpD4tB,EAAoBA,EAAkB5tB,QAAQ,KAAM,OACpD4tB,EAAoBA,EAAkB5tB,QAAQ,KAAM,KACpD4tB,EAAoBA,EAAkB5tB,QAAQ,KAAM,MACpD4tB,EAAoBA,EAAkB5tB,QAAQ,KAAM,MAC7C4tB,CACX,CACA,SAAS1hB,EAAoBlC,GACzB,IAAI6jB,EAA4BzgC,OAAO+b,OAAO/b,OAAO+b,OAAO,CAAC,EAAGa,GAAiB,CAAE7J,gBAAiB8sB,EAAY1lB,uBAChH,MAAMgD,EAAoBtB,KAAKC,UAAU2kB,IACzC,EAAIz0B,EAAM3G,UAAU,6CAA8C8X,GAClE,MAAMC,GAAY,IAAIC,aAAcC,OAAOH,GACrCI,EAAgBC,KAAKC,OAAOC,gBAAgBN,IAKlD,OADA,EAAIpR,EAAM3G,UAAU,yCAA0CkY,GACvDA,CACX,CACA,SAAS8W,EAA0BzX,GAC/B,MAAMO,EAAoBtB,KAAKC,UAAU,CAAEjN,MAAO+N,EAAe/N,MAAOyC,SAAUsL,EAAetL,YACjG,EAAItF,EAAM3G,UAAU,4CAA6C8X,GACjE,MAAMC,GAAY,IAAIC,aAAcC,OAAOH,GACrCI,EAAgBC,KAAKC,OAAOC,gBAAgBN,IAClD,OAAOG,CACX,CACA,SAASgX,EAAqBmM,GAC1B,MAAO,GAAG78B,EAAW+Z,0BAA0B8iB,GACnD,CACA,SAAStM,EAA0BvlB,EAAOyC,GACtC,MAAO,GAAGhO,EAAY8tB,4BAA4BviB,KAAQ,EAAIpL,EAAQk9B,mBAAmBrvB,IAC7F,CAEA,SAASgjB,EAAwBoM,EAAcE,GAC3C,IAAIjX,EAAgB,CAAEkX,WAAY,GAAIhiB,SAAU,GAAIiiB,YAAa,IAC7DJ,IACA/W,EAAckX,WAAaH,GAE3BE,IACAjX,EAAc9K,SAAW+hB,GAE7B,IAAIG,EAAmBllB,KAAKC,UAAU6N,GACtC,MAAMvM,GAAY,IAAIC,aAAcC,OAAOyjB,GACrCxjB,EAAgBC,KAAKC,OAAOC,gBAAgBN,IAC5C4jB,GAAgB,EAAIv9B,EAAQywB,wBAAwB3W,GAE1D,OADA,EAAIvR,EAAM3G,UAAU,mBAAoBskB,EAAepM,GACnDmjB,GAAgBE,EACXh0B,IAKM,gBAAgBtJ,EAAY4tB,+BAA+B8P,IAJ3D,4CAA4CA,IAOtDp0B,IAKM,gBAAgBtJ,EAAY4tB,qBAJ5B,uBAMf,CAEA,SAAS3R,EAAiC0hB,GACtC,IAAIp7B,EAAIwJ,EAAIC,EAAIC,EAAIC,GACpB,EAAIxD,EAAM3G,UAAU,mBAAoB47B,EAAa,eAAgBr0B,KAChEA,KAIkF,QAA9EyC,EAA4B,QAAtBxJ,EAAKyyB,WAAgC,IAAPzyB,OAAgB,EAASA,EAAG+2B,gBAA6B,IAAPvtB,OAAgB,EAASA,EAAGwtB,QACkB,QAApIrtB,EAAoF,QAA9ED,EAA4B,QAAtBD,EAAKgpB,WAAgC,IAAPhpB,OAAgB,EAASA,EAAGstB,gBAA6B,IAAPrtB,OAAgB,EAASA,EAAGstB,cAA2B,IAAPrtB,GAAyBA,EAAG0xB,iBAAiBD,IAG1L,EAAInM,EAAUuH,sBAAsB4E,GAPxC3P,OAAOrE,KAAKgU,EAAa,SAUjC,CAIA,SAAS3C,EAAcM,GACnB,IAEI,OADAA,EAAaA,EAAWhsB,QAAQ,MAAO,OAChCisB,mBAAmBD,EAC9B,CACA,MAAO57B,GACH,OAAO47B,CACX,CACJ,CACA,SAASD,EAAoBG,GACzB,IAAI10B,EAAS,CAAC,EACd,IAAK00B,EAAY32B,OACb,OAAOiC,EAEX,IACIqK,EAAG1J,EAAOg0B,EAAWC,EADrBC,EAAoBH,EAAYnc,MAAM,KAE1C,IAAKlO,EAAI,EAAGA,EAAIwqB,EAAkB92B,OAAQsM,IACtC1J,EAAQk0B,EAAkBxqB,GAAGkO,MAAM,KACnCoc,EAAYT,EAAcvzB,EAAM,IAChCi0B,EAAyB,MAAZj0B,EAAM,GAAa,KAAOuzB,EAAcvzB,EAAM,IAC3DX,EAAO20B,GAAaC,EAExB,OAAO50B,CACX,CACA,SAASqyB,EAAmBF,GACxBA,EAAeA,EAAa3pB,QAAQ,KAAM,IAC1C,IAAIxI,EAAS,CAAC,EACd,IAAKmyB,EAAap0B,OACd,OAAOiC,EAEX,GAAImyB,EAAa6B,QAAQ,KAAO,GAAK7B,EAAa6B,QAAQ,KAAO,EAE7D,OADAh0B,EAAOi0B,MAAQC,EAAc/B,GACtBnyB,EAEX,IAAIm0B,EAAShC,EAAa6B,QAAQ,KAClC,GAAIG,GAAU,EAAG,CACb,IAAIC,EAAYjC,EAAakC,OAAO,EAAGF,GACvCn0B,EAAOi0B,MAAQC,EAAcE,GAC7BjC,EAAeA,EAAakC,OAAOF,EAAS,EAChD,CACA,IAAIG,EAAeC,EAAoBpC,GACvC,IAAK,IAAIr7B,KAAKw9B,EACVt0B,EAAOlJ,GAAKw9B,EAAax9B,GAE7B,OAAOkJ,CACX,CACA,IAAIkyB,EAAa,CAAC,EAClB,IACI,IAAIC,EAAehL,SAASiL,KAAK/2B,WACjC62B,EAAaG,EAAmBF,EACpC,CACA,MAAOv5B,GAAK,CACZ,IAAI05B,EAAc,UAIlB,IAHmB,OAAfJ,QAAsC,IAAfA,OAAwB,EAASA,EAAWK,oBACnED,EAAqD,QAAtC72B,EAAKy2B,EAAWK,wBAAqC,IAAP92B,EAAgBA,EAAK,WAElE,YAAhB62B,EAA2B,CAC3B,MAAMpL,EAASgH,IACfoE,EAAuM,QAAxLntB,EAAsI,QAAhID,EAAgF,QAA1ED,EAAgB,OAAXiiB,QAA8B,IAAXA,OAAoB,EAASA,EAAOsL,gBAA6B,IAAPvtB,OAAgB,EAASA,EAAGwtB,cAA2B,IAAPvtB,OAAgB,EAASA,EAAG4pB,gBAA6B,IAAP3pB,EAAgBA,EAAK,SACxO,CACA,SAAS3C,IACL,IAAI/G,EACJ,MAAuB,YAAhB62B,MAAuD,QAAtB72B,EAAKyyB,WAAgC,IAAPzyB,OAAgB,EAASA,EAAGo3B,qBACtG,CAIA,SAASd,IACL,IAAIt2B,EACJ,MAAMq3B,KAA8C,QAAtBr3B,EAAKyyB,WAAgC,IAAPzyB,OAAgB,EAASA,EAAGs3B,iBACxF,OAAQvwB,KAAaswB,IAAsC,YAAhBR,CAC/C,CACA,SAASvd,EAAWvC,EAAgBwC,GAAU,EAAOC,GAEjD,IADA,EAAIrT,EAAM3G,UAAU,8CAA8CwW,KAAKC,UAAUc,iBAA8BwC,sBAA4BC,KACvID,EAAS,CACT,IAAI+hB,EAAiB9M,EAA0BzX,GAC/C,OAAO0X,EAAwB6M,EAAiC,OAAjB9hB,QAA0C,IAAjBA,EAA0BA,EAAe,OACrH,CAEI,IAAI,EAAI5b,EAAQ+b,gBACZ,OAAO4U,EAA0BxX,EAAe/N,MAAO+N,EAAetL,UAErE,CACD,MAAMiM,EAAgBuB,EAAoBlC,GAC1C,MAAO,GAAG/Y,EAAW+Z,0BAA0BL,GACnD,CAER,C,qCCjUY3c,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAACA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OACb,IAAIwU,EAAmBtU,MAAQA,KAAKsU,iBAAoB,SAAUrT,GAC9D,OAAQA,GAAOA,EAAIR,WAAcQ,EAAM,CAAE,QAAWA,EACxD,EACA/B,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQi0B,cAAgBj0B,EAAQkhC,cAAgBlhC,EAAQ0zB,UAAY1zB,EAAQulB,oBAAsBvlB,EAAQmhC,gBAAkBnhC,EAAQwH,oBAAsBxH,EAAQ6D,oCAAiC,EACnM7D,EAAQuO,eAAiBA,EACzBvO,EAAQmO,YAAcA,EACtBnO,EAAQqsB,kBAAoBA,EAC5BrsB,EAAQ6sB,mBAAqBA,EAC7B7sB,EAAQwsB,aAAeA,EACvBxsB,EAAQyoB,aAAeA,EACvBzoB,EAAQwE,WAAaA,EACrBxE,EAAQohC,QAAUA,EAClBphC,EAAQqhC,sBAAwBA,EAChCrhC,EAAQiR,cAAgBA,EACxBjR,EAAQsX,gBAAkBA,EAC1BtX,EAAQ4d,MAAQA,EAChB5d,EAAQygC,kBAAoBA,EAC5BzgC,EAAQg0B,uBAAyBA,EACjCh0B,EAAQsf,aAAeA,EACvB,MAAMwC,EAAc5M,EAAgBxU,EAAQ,QACtC4gC,EAAmBpsB,EAAgBxU,EAAQ,QAC3C6gC,EAAc7gC,EAAQ,MACtB8gC,EAAW9gC,EAAQ,OACnBmL,EAAanL,EAAQ,OACrBoL,EAAQpL,EAAQ,OAChBqhB,EAAgBrhB,EAAQ,OACxBykB,EAAcjQ,EAAgBxU,EAAQ,QACtC+gC,EAAS,SACf,SAASlzB,EAAemzB,GACpB,GAAIA,EAAUz5B,OAAS,IAAM,EACzB,MAAM,IAAIxD,MAAM,kBAAkBi9B,mBAEtC,MAAM5/B,EAAS,IAAIotB,WAAWwS,EAAUz5B,OAAS,GACjD,IAAK,IAAIsM,EAAI,EAAGA,EAAImtB,EAAUz5B,OAAQsM,GAAK,EACvCzS,EAAOyS,EAAI,GAAKgrB,SAASmC,EAAUtqB,MAAM7C,EAAGA,EAAI,GAAI,IAExD,OAAOzS,CACX,CACA,SAASqM,EAAYwzB,GACjB,IAAID,EAAY,GAIhB,OAHAC,EAAU/wB,SAAQgxB,IACdF,IAAc,KAAc,IAAPE,GAAar8B,SAAS,KAAK6R,OAAO,EAAE,IAEtDsqB,CACX,CACA,SAASrV,EAAkBwV,EAASC,GAChC,MAAMC,EAAc,IAAI7S,WAAW2S,EAAQ55B,OAAS65B,EAAQ75B,QAG5D,OAFA85B,EAAYlrB,IAAIgrB,GAChBE,EAAYlrB,IAAIirB,EAASD,EAAQ55B,QAC1B85B,CACX,CACA,SAASlV,EAAmBsO,EAAO1jB,GAC/B,GAAIA,GAAS0jB,EAAMlzB,OACf,MAAM,IAAIxD,MAAM,0BAEpB,MAAMu9B,EAAY7G,EAAM/jB,MAAM,EAAGK,GAC3BwqB,EAAY9G,EAAM/jB,MAAMK,GAC9B,MAAO,CAACuqB,EAAWC,EACvB,CACA,SAASC,EAAiBjiC,EAAOkiC,GAC7B,MAAMxf,EAAU2e,EAAiBvrB,QAAQqsB,aAAaniC,GACtD,OAAKkiC,EAGEtC,mBAAmBld,GAFfA,CAGf,CACA,SAAS0f,EAAmBpiC,EAAOkiC,GAI/B,OAHIA,IACAliC,EAAQ0+B,mBAAmB1+B,IAExBqhC,EAAiBvrB,QAAQusB,aAAariC,EACjD,CACA,SAASusB,EAAavsB,EAAOkiC,GACzB,IAAII,EAUJ,OATItiC,aAAiBivB,WACjBqT,EAAatiC,GAGQ,kBAAVA,IACPA,GAAQ,EAAI4L,EAAWZ,mBAAmBhL,IAE9CsiC,EAAajB,EAAiBvrB,QAAQysB,WAAWviC,IAE9CiiC,EAAiBK,EAAYJ,EACxC,CACA,SAAS1Z,EAAaxoB,EAAOkiC,GACzB,MAAMM,EAAoBJ,EAAmBpiC,EAAOkiC,GACpD,MAAO,CACH58B,QAAAA,GACI,OAAO+7B,EAAiBvrB,QAAQ2sB,WAAWD,EAC/C,EACA9Y,QAAAA,GACI,IACI,OAAO,EAAI9d,EAAW5B,eAAeq3B,EAAiBvrB,QAAQ2sB,WAAWD,GAC7E,CACA,MAAO3/B,GACH,OAAO,IACX,CACJ,EACA6pB,YAAAA,GACI,OAAO8V,CACX,EAER,CACA,SAASj+B,EAAWT,GAChB,MAAMgsB,EAAQhsB,EAAIgsB,MAAM,IAAIM,OAAO,QAAS,OAC5C,IAAKN,IAAUA,EAAM9nB,OACjB,OAAO,EAEX,IAAI06B,EAAS5S,EAAM,GACnB,YAAe7uB,IAAXyhC,GAGG,IAAItS,OAAO,UAAUI,KAAKkS,EACrC,CACA,MAAM9+B,EAAiCA,IACV,qBAAd+C,UACAA,UAEgB,qBAAXg8B,EAAAA,GAAsD,qBAArBA,EAAAA,EAAOh8B,UAC7Cg8B,EAAAA,EAAOh8B,UAES,qBAAXwqB,QAAsD,qBAArBA,OAAOxqB,UAC7CwqB,OAAOxqB,UAEO,qBAATi8B,MAAkD,qBAAnBA,KAAKj8B,UACzCi8B,KAAKj8B,UAETA,UAIX5G,EAAQ6D,+BAAiCA,EACzC,MAAM2D,EAAsBA,IAA2B,qBAAdZ,WAClB,qBAAXg8B,EAAAA,GAAsD,qBAArBA,EAAAA,EAAOh8B,WAC7B,qBAAXwqB,QAAsD,qBAArBA,OAAOxqB,WAC/B,qBAATi8B,MAAkD,qBAAnBA,KAAKj8B,UAChD5G,EAAQwH,oBAAsBA,EAC9B,MAAM25B,EAAkBA,IAAyB,qBAAXyB,EAAAA,GAA0D,qBAAxBA,EAAAA,EAAOtd,cACxD,qBAAX8L,QAAyD,qBAAxBA,OAAO9L,aACpDtlB,EAAQmhC,gBAAkBA,EAC1B,MAAM5b,EAAsBA,IACF,qBAAXqd,EAAAA,GAAyD,qBAAxBA,EAAAA,EAAOtd,aACxCsd,EAAAA,EAAOtd,aAES,qBAAX8L,QAAyD,qBAAxBA,OAAO9L,aAC7C8L,OAAO9L,aAEXA,aAEXtlB,EAAQulB,oBAAsBA,EAC9B,MAAMmO,EAAYA,IAAwB,qBAAXtC,OAG/B,SAASgQ,EAAQzsB,EAAKyI,EAASqkB,IAC3B,EAAI31B,EAAM3G,UAAU,mBAAmBwP,KACvC,MAAM7S,GAAS,EAAI0/B,EAASlF,OAAM,EAAIva,EAAcI,eAAexN,EAAKyI,IACxE,OAAO,EAAImkB,EAAYh8B,UAAUzD,EAAQsb,EAC7C,CACA,SAASikB,IACL,OAAOvf,EAAY/L,QAAQ8Q,YAAY7mB,EAAQkhC,cACnD,CACA,SAASjwB,IACL,IAAI6xB,EAAgBzB,IAEpB,OADA,EAAIv1B,EAAM3G,UAAU,yBAAyB29B,KACtC1B,GAAQ,EAAIG,EAAYh8B,UAAUu9B,EAAerB,GAC5D,CACA,SAASnqB,IACL,IAAIwrB,EAAgBhhB,EAAY/L,QAAQ8Q,YAAY,IAEpD,OADA,EAAI/a,EAAM3G,UAAU,2BAA2B29B,KACxC1B,GAAQ,EAAIG,EAAYh8B,UAAUu9B,EAAerB,GAC5D,CAnBAzhC,EAAQ0zB,UAAYA,EACpB1zB,EAAQkhC,cAAgB,GAmBxB,MAAMjN,EAAiB8O,GAAQjjC,OAAOkjC,eAAeD,KAASjjC,OAAOiC,WAAajC,OAAO2qB,KAAKsY,GAAK96B,OAEnG,SAAS2V,IACL,MAAMmb,EAAYF,UAAUE,UACtBkK,EAAiBpK,UAAUoK,gBAAkB,EAE7CC,EAAc,mBAAmBzS,KAAKsI,KAAe3H,OAAO+R,SAE5DC,EAAYrK,EAAU9f,SAAS,QAAUgqB,EAAiB,EAGhE,OAFA,EAAIn3B,EAAM3G,UAAU,+BAA+B+9B,qBAA+BE,KAE3EF,GAAeE,CAC1B,CACA,SAAS3C,EAAkBxxB,GAEvB,MAAMqtB,EAAOnX,EAAYpP,QAAQstB,IAAIp0B,GAAO1J,WAE5C,OAAO+2B,EAAKllB,OAAO,EACvB,CACA,SAAS4c,EAAuBsP,GAC5B,OAAOA,EACF5wB,QAAQ,KAAM,IACdA,QAAQ,MAAO,KACfA,QAAQ,MAAO,IACxB,CACA,SAAS4M,IACL,QAAS8R,OAAO9R,YACpB,CA1BAtf,EAAQi0B,cAAgBA,C,oCC9KxB,IAAI/e,EAAmBtU,MAAQA,KAAKsU,iBAAoB,SAAUrT,GAC9D,OAAQA,GAAOA,EAAIR,WAAcQ,EAAM,CAAE,QAAWA,EACxD,EACA/B,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQ+zB,SAAWA,EACnB/zB,EAAQ8zB,cAAgBA,EACxB9zB,EAAQ6zB,yBAA2BA,EACnC7zB,EAAQ4zB,kBAAoBA,EAC5B5zB,EAAQujC,aAAeA,EACvBvjC,EAAQ2zB,KAAOA,EACf3zB,EAAQ0zB,UAAYA,EACpB,MAAM8P,EAAiBtuB,EAAgBxU,EAAQ,QACzCoL,EAAQpL,EAAQ,OACtB,SAASqzB,EAASkM,EAAMwD,EAAS,UAC7B,EAAI33B,EAAM3G,UAAU,WAAY86B,EAAMwD,GACtCrS,OAAOrE,KAAKkT,EAAMwD,EAAQ,sBAC9B,CACA,SAAS3P,EAAcmM,GACnBlM,EAASkM,EAAM,SACnB,CACA,SAASpM,EAAyBoM,EAAM7C,GACpC,MAAMsG,EAAaA,KACXhQ,EAAU,WAAcC,EAAK,YAAcD,EAAU,YAIzD0J,GAAU,EAERuG,EAAkB58B,YAAW,IAAM28B,KAAc,KACvDtS,OAAO/nB,iBAAiB,QAAQ,IAAM5C,aAAak9B,IAAkB,CAAE76B,MAAM,IAC7EirB,EAASkM,EAAM,QACnB,CACA,SAASrM,IACL,IAAIgQ,GAAQ,EAQZ,OAPA,SAAWrrB,IACH,2TAA2TkY,KAAKlY,IAChU,0kDAA0kDkY,KAAKlY,EAAEnB,MAAM,EAAG,OAC1lDwsB,GAAQ,EACf,CAJD,CAIG/K,UAAUE,WACTF,UAAUgL,QACVzS,OAAO0S,OACJF,CACX,CACA,SAASL,IACL,IAAI59B,EAAIwJ,EAAIC,EACZ,MAAMkqB,GAAU,IAAIkK,EAAeztB,SAAUguB,YACvCC,EAAoC,QAA1Br+B,EAAK2zB,EAAQ2K,GAAGlyB,YAAyB,IAAPpM,OAAgB,EAASA,EAAGu+B,cACxEC,EAA8C,QAA/Bh1B,EAAKmqB,EAAQ8K,OAAOC,aAA0B,IAAPl1B,OAAgB,EAASA,EAAG+0B,cACxF,IAAID,EACJ,QAAQ,GACJ,IAAqB,SAAhBE,EACDF,EAAK,OACL,MACJ,IAAgB,QAAXD,EACDC,EAAK,MACL,MACJ,IAAgB,YAAXD,EACDC,EAAK,UACL,MACJ,IAAgB,WAAXD,EACDC,EAAK,QACL,MACJ,IAAgB,UAAXD,EACDC,EAAK,QACL,MACJ,KAAgB,OAAXD,QAA8B,IAAXA,OAAoB,EAASA,EAAO/qB,SAAS,WACjEgrB,EAAK,UACL,MAER,MAAMK,EAA8C,QAA/Bl1B,EAAKkqB,EAAQiL,QAAQxyB,YAAyB,IAAP3C,OAAgB,EAASA,EAAG80B,cACxF,IAAIK,EACJ,QAAQ,GACJ,IAAqB,WAAhBD,EACDC,EAAU,SACV,MACJ,IAAqB,YAAhBD,EACDC,EAAU,UACV,MACJ,KAAqB,OAAhBD,QAAwC,IAAhBA,OAAyB,EAASA,EAAYrrB,SAAS,UAChFsrB,EAAU,SACV,MACJ,KAAqB,OAAhBD,QAAwC,IAAhBA,OAAyB,EAASA,EAAYrrB,SAAS,SAChFsrB,EAAU,QACV,MAER,MAAO,CACHN,KACAM,UAER,CACA,SAAS5Q,KAAQsQ,GACb,OAAOA,EAAGhrB,SAASsqB,IAAeU,GACtC,CACA,SAASvQ,KAAa6Q,GAClB,OAAOA,EAAQtrB,SAASsqB,IAAegB,QAC3C,C,qCC/FA,IAAI5jC,EAAmBC,MAAQA,KAAKD,kBAAqBb,OAAOe,OAAU,SAASC,EAAGC,EAAGC,EAAGC,QAC7EC,IAAPD,IAAkBA,EAAKD,GAC3B,IAAIG,EAAOrB,OAAOsB,yBAAyBL,EAAGC,GACzCG,KAAS,QAASA,GAAQJ,EAAEM,WAAaF,EAAKG,UAAYH,EAAKI,gBAClEJ,EAAO,CAAEK,YAAY,EAAMC,IAAK,WAAa,OAAOV,EAAEC,EAAI,IAE5DlB,OAAOC,eAAee,EAAGG,EAAIE,EACjC,EAAM,SAASL,EAAGC,EAAGC,EAAGC,QACTC,IAAPD,IAAkBA,EAAKD,GAC3BF,EAAEG,GAAMF,EAAEC,EACd,GACIksB,EAAgBtsB,MAAQA,KAAKssB,cAAiB,SAASnsB,EAAGf,GAC1D,IAAK,IAAImtB,KAAKpsB,EAAa,YAANosB,GAAoBrtB,OAAOiC,UAAUC,eAAeC,KAAKjC,EAASmtB,IAAIxsB,EAAgBX,EAASe,EAAGosB,EAC3H,EACArtB,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQwkC,sBAAwBxkC,EAAQy/B,mBAAqBz/B,EAAQ0/B,aAAe1/B,EAAQykC,kBAAoBzkC,EAAQ0kC,uBAAyB1kC,EAAQ2kC,oCAAsC3kC,EAAQ4kC,6BAA+B5kC,EAAQ6kC,uCAAyC7kC,EAAQ8kC,yBAA2B9kC,EAAQ+kC,6BAA+B/kC,EAAQglC,sCAAwChlC,EAAQilC,oCAAsCjlC,EAAQklC,wCAA0CllC,EAAQmlC,2BAA6BnlC,EAAQolC,+BAAiCplC,EAAQqlC,2BAA6BrlC,EAAQslC,0BAA4BtlC,EAAQulC,yCAA2CvlC,EAAQwlC,mBAAgB,EACntB,IAAIC,EAAoB/kC,EAAQ,OAChCZ,OAAOC,eAAeC,EAAS,gBAAiB,CAAEwB,YAAY,EAAMC,IAAK,WAAc,OAAOgkC,EAAkBD,aAAe,IAC/HtY,EAAaxsB,EAAQ,OAAqBV,GAC1C,IAAI0lC,EAAYhlC,EAAQ,OACxBZ,OAAOC,eAAeC,EAAS,2CAA4C,CAAEwB,YAAY,EAAMC,IAAK,WAAc,OAAOikC,EAAUH,wCAA0C,IAC7KzlC,OAAOC,eAAeC,EAAS,4BAA6B,CAAEwB,YAAY,EAAMC,IAAK,WAAc,OAAOikC,EAAUJ,yBAA2B,IAC/IxlC,OAAOC,eAAeC,EAAS,6BAA8B,CAAEwB,YAAY,EAAMC,IAAK,WAAc,OAAOikC,EAAUL,0BAA4B,IACjJvlC,OAAOC,eAAeC,EAAS,iCAAkC,CAAEwB,YAAY,EAAMC,IAAK,WAAc,OAAOikC,EAAUN,8BAAgC,IACzJtlC,OAAOC,eAAeC,EAAS,6BAA8B,CAAEwB,YAAY,EAAMC,IAAK,WAAc,OAAOikC,EAAUP,0BAA4B,IACjJrlC,OAAOC,eAAeC,EAAS,0CAA2C,CAAEwB,YAAY,EAAMC,IAAK,WAAc,OAAOikC,EAAUR,uCAAyC,IAC3KplC,OAAOC,eAAeC,EAAS,sCAAuC,CAAEwB,YAAY,EAAMC,IAAK,WAAc,OAAOikC,EAAUT,mCAAqC,IACnKnlC,OAAOC,eAAeC,EAAS,wCAAyC,CAAEwB,YAAY,EAAMC,IAAK,WAAc,OAAOikC,EAAUV,qCAAuC,IACvKllC,OAAOC,eAAeC,EAAS,+BAAgC,CAAEwB,YAAY,EAAMC,IAAK,WAAc,OAAOikC,EAAUX,4BAA8B,IACrJjlC,OAAOC,eAAeC,EAAS,2BAA4B,CAAEwB,YAAY,EAAMC,IAAK,WAAc,OAAOikC,EAAUZ,wBAA0B,IAC7IhlC,OAAOC,eAAeC,EAAS,yCAA0C,CAAEwB,YAAY,EAAMC,IAAK,WAAc,OAAOikC,EAAUb,sCAAwC,IACzK/kC,OAAOC,eAAeC,EAAS,+BAAgC,CAAEwB,YAAY,EAAMC,IAAK,WAAc,OAAOikC,EAAUd,4BAA8B,IACrJ9kC,OAAOC,eAAeC,EAAS,sCAAuC,CAAEwB,YAAY,EAAMC,IAAK,WAAc,OAAOikC,EAAUf,mCAAqC,IACnK7kC,OAAOC,eAAeC,EAAS,yBAA0B,CAAEwB,YAAY,EAAMC,IAAK,WAAc,OAAOikC,EAAUhB,sBAAwB,IACzI5kC,OAAOC,eAAeC,EAAS,oBAAqB,CAAEwB,YAAY,EAAMC,IAAK,WAAc,OAAOikC,EAAUjB,iBAAmB,IAC/H,IAAIlhC,EAAU7C,EAAQ,OACtBZ,OAAOC,eAAeC,EAAS,eAAgB,CAAEwB,YAAY,EAAMC,IAAK,WAAc,OAAO8B,EAAQm8B,YAAc,IACnH5/B,OAAOC,eAAeC,EAAS,qBAAsB,CAAEwB,YAAY,EAAMC,IAAK,WAAc,OAAO8B,EAAQk8B,kBAAoB,IAC/H3/B,OAAOC,eAAeC,EAAS,wBAAyB,CAAEwB,YAAY,EAAMC,IAAK,WAAc,OAAO8B,EAAQihC,qBAAuB,G,qCCvCzH9jC,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAACA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OACb,IAAIwB,EAAatB,MAAQA,KAAKsB,WAAc,SAAUC,EAASC,EAAYC,EAAGC,GAC1E,SAASC,EAAMtC,GAAS,OAAOA,aAAiBoC,EAAIpC,EAAQ,IAAIoC,GAAE,SAAUG,GAAWA,EAAQvC,EAAQ,GAAI,CAC3G,OAAO,IAAKoC,IAAMA,EAAII,WAAU,SAAUD,EAASE,GAC/C,SAASC,EAAU1C,GAAS,IAAM2C,EAAKN,EAAUO,KAAK5C,GAAS,CAAE,MAAO6C,GAAKJ,EAAOI,EAAI,CAAE,CAC1F,SAASC,EAAS9C,GAAS,IAAM2C,EAAKN,EAAU,SAASrC,GAAS,CAAE,MAAO6C,GAAKJ,EAAOI,EAAI,CAAE,CAC7F,SAASF,EAAKd,GAAUA,EAAOkB,KAAOR,EAAQV,EAAO7B,OAASsC,EAAMT,EAAO7B,OAAOgD,KAAKN,EAAWI,EAAW,CAC7GH,GAAMN,EAAYA,EAAUY,MAAMf,EAASC,GAAc,KAAKS,OAClE,GACJ,EACI8iC,EAAU/kC,MAAQA,KAAK+kC,QAAW,SAAUC,EAAG9iC,GAC/C,IAAI+iC,EAAI,CAAC,EACT,IAAK,IAAI1Y,KAAKyY,EAAO9lC,OAAOiC,UAAUC,eAAeC,KAAK2jC,EAAGzY,IAAMrqB,EAAEo7B,QAAQ/Q,GAAK,IAC9E0Y,EAAE1Y,GAAKyY,EAAEzY,IACb,GAAS,MAALyY,GAAqD,oBAAjC9lC,OAAOgmC,sBACtB,KAAIvxB,EAAI,EAAb,IAAgB4Y,EAAIrtB,OAAOgmC,sBAAsBF,GAAIrxB,EAAI4Y,EAAEllB,OAAQsM,IAC3DzR,EAAEo7B,QAAQ/Q,EAAE5Y,IAAM,GAAKzU,OAAOiC,UAAUgkC,qBAAqB9jC,KAAK2jC,EAAGzY,EAAE5Y,MACvEsxB,EAAE1Y,EAAE5Y,IAAMqxB,EAAEzY,EAAE5Y,IAF4B,CAItD,OAAOsxB,CACX,EACA/lC,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQgmC,wBAAqB,EAC7B,MAAMC,EAAoBvlC,EAAQ,MAC5BwlC,EAASxlC,EAAQ,OACjBylC,EAAoBzlC,EAAQ,OAC5B0lC,EAAwB1lC,EAAQ,OAChC2lC,EAA4B3lC,EAAQ,OACpC4lC,EAA8B5lC,EAAQ,OACtC0C,EAAc1C,EAAQ,OAC5B,MAAMslC,EACFliC,WAAAA,CAAYkvB,GAMR,GALApyB,KAAK2lC,QAAU,KACf3lC,KAAK4lC,SAAW,KAChB5lC,KAAK6lC,0BAA4B,GACjC7lC,KAAK8lC,+BAAiC,GACtC9lC,KAAK4b,oBAAoB5b,KAAK4lC,UAAW5lC,KAAK4lC,SAAShqB,mBAClDwW,EAAQ2T,SAET,MADA,EAAIT,EAAO/gC,UAAU,4DACf,IAAI+gC,EAAOl9B,gBAAgBk9B,EAAOj9B,wBAAwBuW,cAAe,kCAEnF,EAAI0mB,EAAO/gC,UAAU,qCAAsCwW,KAAKC,UAAUoX,IAC1EpyB,KAAKgmC,aAAe,CAChBD,SAAU7mC,OAAO+b,OAAO/b,OAAO+b,OAAO,CAAC,EAAGmX,EAAQ2T,UAAW,CAAE5iC,IAAKqtB,OAAOC,SAASC,SAAU/I,OAAQ6I,OAAOC,SAAS9I,UAE1H3nB,KAAKimC,QAAU,IAAIT,EAAsBU,kBAAkB,CACvDC,wBAAyB3jC,EAAY2jC,0BAEzCnmC,KAAK42B,QAAU,IAAI0O,EAAOrhC,QAAQzB,EAAYokB,qBAAuB5mB,KAAKgmC,aAAaD,SAAS50B,KAAM3O,EAAYokB,sBAClH5mB,KAAKomC,wBAA0B,IAAIV,EAA4BW,wBAAwBrmC,KAAK42B,QAChG,CAIA,aAAI0P,GACA,OAAwB,OAAjBtmC,KAAK2lC,OAChB,CAIA,WAAIY,GACA,IAAIxhC,EACJ,OAAgC,QAAvBA,EAAK/E,KAAK2lC,eAA4B,IAAP5gC,OAAgB,EAASA,EAAGwhC,UAAY,IACpF,CAIA,UAAI/oB,GACA,OAAOxd,KAAK2lC,OAChB,CACA,UAAInoB,CAAOne,GACPW,KAAK2lC,QAAUtmC,EACfW,KAAK6lC,0BAA0B71B,SAAQjG,GAAYA,EAAS/J,KAAK2lC,UACrE,CACAp9B,OAAAA,CAAQqS,GACJ,OAAOtZ,EAAUtB,UAAM,OAAQ,GAAQ,YACnC,IAAI+E,EAWJ,OAVA,EAAIugC,EAAO/gC,UAAU,yCAA0CqW,GAC3D5a,KAAKsmC,YACL,EAAIhB,EAAOh/B,UAAU,8EAEO,QAAxBvB,EAAK/E,KAAK4lC,gBAA6B,IAAP7gC,OAAgB,EAASA,EAAGyhC,iBAAgB,GAAO,GACtFxmC,KAAK4lC,WACN5lC,KAAK4lC,SAAW,IAAIP,EAAkBoB,eAAezmC,KAAK42B,QAAS52B,KAAKgmC,aAAaD,SAAS50B,OAElGnR,KAAK4lC,SAASc,OAAO1mC,KAAK2mC,qBAAqBvgC,KAAKpG,OACpDA,KAAKimC,QAAQW,+BACA5mC,KAAK4lC,SAASr9B,QAAQvI,KAAK6mC,qBAAqBjsB,GAAsB,OAAZA,QAAgC,IAAZA,OAAqB,EAASA,EAAQmD,SAAsB,OAAZnD,QAAgC,IAAZA,OAAqB,EAASA,EAAQgB,kBAA+B,OAAZhB,QAAgC,IAAZA,OAAqB,EAASA,EAAQ2D,aACtR,GACJ,CACAooB,oBAAAA,CAAqBzkC,GAEjB,QADA,EAAIojC,EAAO/gC,UAAU,gDAAiDrC,GAC9DA,EAAE4C,OACN,IAAK,UACD9E,KAAK8mC,kBAAkB5kC,EAAEkD,SACzB,MACJ,IAAK,gBACDpF,KAAK+mC,qBAAqB7kC,EAAEkD,SAC5B,MACJ,IAAK,aACDpF,KAAKgnC,qBAAqB,UAEtC,CACAF,iBAAAA,CAAkBG,IACd,EAAI3B,EAAO/gC,UAAU,wDAAyD0iC,GAC9E,MAAMC,EAAiBD,EAAaE,MAAMnoB,MAAK5H,GAAsB,aAAdA,EAAKjG,OACtDi2B,EAAeH,EAAaE,MAAMnoB,MAAK5H,GAAsB,cAAdA,EAAKjG,OAC1D,IAAK+1B,EACD,MAAM,IAAI5B,EAAOl9B,gBAAgBk9B,EAAOj9B,wBAAwBuW,cAAe,0CAEnF,MAAMpB,EAAS,CACXgmB,OAAQyD,EAAazD,OACrBoC,SAAU5lC,KAAK4lC,SAAS5W,KACxBuX,QAAS,CACL9iB,QAASyjB,EAAezjB,QACxBY,MAAO6iB,EAAexjB,QACtB2jB,gBAAiBH,EAAeG,gBAChC/5B,UAAW45B,EAAe55B,YAG9B85B,IACA5pB,EAAO8pB,aAAe,CAClB9jB,SAAU4jB,IAGlBpnC,KAAKwd,OAASA,GACd,EAAI8nB,EAAO/gC,UAAU,kDAAmDiZ,GACxExd,KAAKimC,QAAQsB,yBAAyB/pB,EAC1C,CACAupB,oBAAAA,CAAqBS,GACjB,IAAIziC,GACJ,EAAIugC,EAAO/gC,UAAU,gEAAiEijC,GACtF,MAAMt2B,EAAQ,IAAIo0B,EAAOl9B,gBAAgBo/B,EAAkBviC,KAAMuiC,EAAkBh+B,UACnF,EAAI87B,EAAO/gC,UAAU,oDAAqD2M,GAC1ElR,KAAK8lC,+BAA+B91B,SAAQy3B,GAAiBA,EAAcv2B,KAC3ElR,KAAKimC,QAAQyB,qBAA0D,QAApC3iC,EAAKyiC,EAAkBh+B,eAA4B,IAAPzE,EAAgBA,EAAK,GAAIyiC,EAAkBviC,KAC9H,CACA+hC,oBAAAA,CAAqBW,GACjB3nC,KAAKimC,QAAQ2B,mBAAmB5nC,KAAKwd,OAAQmqB,GAC7C3nC,KAAKwd,OAAS,IAClB,CACA9U,UAAAA,GACI,OAAOpH,EAAUtB,UAAM,OAAQ,GAAQ,YACnC,IAAI+E,EAEJ,IADA,EAAIugC,EAAO/gC,UAAU,kCAChBvE,KAAKsmC,UACN,MAAM,IAAIhB,EAAOl9B,gBAAgBk9B,EAAOj9B,wBAAwBgpB,oBAAqB,4BAEzF,EAAIiU,EAAO/gC,UAAU,mCACrBvE,KAAKgnC,qBAAqB,cACM,QAAxBjiC,EAAK/E,KAAK4lC,gBAA6B,IAAP7gC,OAAgB,EAASA,EAAG2D,YACxE,GACJ,CACAm/B,cAAAA,CAAe99B,EAAU09B,GAKrB,OAJAznC,KAAK6lC,0BAA0BtvB,KAAKxM,GAChC09B,GACAznC,KAAK8lC,+BAA+BvvB,KAAKkxB,GAEtC,KACHznC,KAAK6lC,0BAA4B7lC,KAAK6lC,0BAA0BztB,QAAOhB,GAAQA,IAASrN,IACpF09B,IACAznC,KAAK8lC,+BAAiC9lC,KAAK8lC,+BAA+B1tB,QAAOhB,GAAQA,IAASqwB,IACtG,CAER,CACAK,iBAAAA,GACI,OAAOxmC,EAAUtB,UAAM,OAAQ,GAAQ,YACnC,IAAI+E,GACJ,EAAIugC,EAAO/gC,UAAU,wCACrBvE,KAAKimC,QAAQ8B,kCACb,IAAInC,EAAW,KACf,IACIA,QAAiBP,EAAkBoB,eAAeuB,YAAYhoC,KAAK42B,QAAS52B,KAAKgmC,aAAaD,SAAS50B,KAC3G,CACA,MAAO5C,GAKH,OAJAvO,KAAKimC,QAAQgC,8BAA8B,kCACrCjoC,KAAKomC,wBAAwB8B,mBACtB,OAAbtC,QAAkC,IAAbA,GAA+BA,EAASY,uBAC7DZ,EAAW,KAEf,CACA,IAAKA,EAGD,OAFA,EAAIN,EAAOh/B,UAAU,iCACrBtG,KAAKimC,QAAQgC,8BAA8B,6BAG/C,EAAI3C,EAAO/gC,UAAU,mEACI,QAAxBQ,EAAK/E,KAAK4lC,gBAA6B,IAAP7gC,GAAyBA,EAAGyhC,iBAAgB,GAAM,GACnFxmC,KAAK4lC,SAAWA,EAChBA,EAASc,OAAO1mC,KAAK2mC,qBAAqBvgC,KAAKpG,aACzCA,KAAK4lC,SAASkC,oBAChB9nC,KAAKsmC,UACLtmC,KAAKimC,QAAQkC,kCAAkCnoC,KAAKwd,QAGpDxd,KAAKimC,QAAQgC,8BAA8B,8BAEnD,GACJ,CACAG,eAAAA,CAAgBC,EAAajW,GACzB,OAAO9wB,EAAUtB,UAAM,OAAQ,GAAQ,YACnC,IAAI+E,GACJ,EAAIugC,EAAO/gC,UAAU,qCAAsC8jC,GAC3DroC,KAAKsoC,mBACL,EAAI/C,EAAkBgD,6BAA6BvoC,KAAKwd,OAAOgmB,OAAOgF,SAAU,CAC5EC,uBAAwBJ,EAAYK,SAASrhC,SAEjDrH,KAAKimC,QAAQ0C,iCAAiC3oC,KAAKwd,OAAQ6qB,IAC3D,EAAI/C,EAAO/gC,UAAU,wDACrB,MAAM,WAAEqkC,GAAeP,EAAaQ,EAAK9D,EAAOsD,EAAa,CAAC,eACxD1e,EAAO0e,EAAY1e,MAAQ3pB,KAAKumC,QAAQ9iB,QAC9C,IAAIC,EAAU1jB,KAAKumC,QAAQliB,OAC3B,EAAIihB,EAAO/gC,UAAU,4DAA6Dmf,IAC9E,EAAI4hB,EAAOtoB,YAA0B,OAAZoV,QAAgC,IAAZA,OAAqB,EAASA,EAAQ0W,mBAC1D,QAAxB/jC,EAAK/E,KAAK4lC,gBAA6B,IAAP7gC,GAAyBA,EAAGgkC,iBAEjE,MAAM1tB,QAAiBrb,KAAK4lC,SAASoD,YAAYvD,EAA0BwD,sBAAsBC,oBAAoBhqC,OAAO+b,OAAO/b,OAAO+b,OAAO,CAAC,EAAG4tB,GAAK,CAAEM,YAAaP,EAAYjf,OACjLjG,aAAa,CACb0lB,cAAeA,KACX,IAAIrkC,EAAIwJ,GACH,EAAI+2B,EAAOtoB,WAA0B,OAAZoV,QAAgC,IAAZA,OAAqB,EAASA,EAAQ0W,kBAC3D,QAAxB/jC,EAAK/E,KAAK4lC,gBAA6B,IAAP7gC,GAAyBA,EAAGgkC,gBAEkB,QAAlFx6B,EAAiB,OAAZ6jB,QAAgC,IAAZA,OAAqB,EAASA,EAAQgX,qBAAkC,IAAP76B,GAAyBA,EAAGlN,KAAK+wB,EAAQ,IAI5I,IADA,EAAIkT,EAAO/gC,UAAU,+DAAgE8W,GACjFoqB,EAA0BwD,sBAAsBI,QAAQhuB,GAExD,MADArb,KAAKimC,QAAQqD,8BAA8BtpC,KAAKwd,OAAQ6qB,EAAahtB,EAASnK,MAAM1H,QAAS6R,EAASnK,MAAMjM,MACtG,IAAIqgC,EAAOl9B,gBAAgBiT,EAASnK,MAAMjM,KAAMoW,EAASnK,MAAM1H,SAEzE,MAAMtI,EAASukC,EAA0BwD,sBAAsBM,uBAAuBluB,GAEtF,OADArb,KAAKimC,QAAQuD,uBAAuBxpC,KAAKwd,OAAQ6qB,EAAannC,GACvDA,CACX,GACJ,CACAonC,eAAAA,GAEI,IADA,EAAIhD,EAAO/gC,UAAU,qCAChBvE,KAAKsmC,UACN,MAAM,IAAIhB,EAAOl9B,gBAAgBk9B,EAAOj9B,wBAAwBgpB,oBAAqB,uBAE7F,CACAwV,oBAAAA,CAAqBjsB,IACjB,EAAI0qB,EAAO/gC,UAAU,yCACrB,MAAM+E,EAAS,CACXqa,SAAU,CACNxS,KAAM,aASd,OANgB,OAAZyJ,QAAgC,IAAZA,OAAqB,EAASA,EAAQ4I,YAC1Dla,EAAOsa,UAAY,CACfzS,KAAM,YACN/L,QAASwV,EAAQ4I,WAGlB,CACHrH,SAAUnc,KAAKgmC,aAAaD,SAC5Bz8B,OAAQA,EAEhB,CACA,iBAAOmgC,GACH,OAAOzpC,KAAK0pC,WAChB,EAEJtqC,EAAQgmC,mBAAqBA,EAC7BA,EAAmBsE,YAAc,EAAC,EAAIpE,EAAOvY,sB,qCCxQ7C,IAAIzrB,EAAatB,MAAQA,KAAKsB,WAAc,SAAUC,EAASC,EAAYC,EAAGC,GAC1E,SAASC,EAAMtC,GAAS,OAAOA,aAAiBoC,EAAIpC,EAAQ,IAAIoC,GAAE,SAAUG,GAAWA,EAAQvC,EAAQ,GAAI,CAC3G,OAAO,IAAKoC,IAAMA,EAAII,WAAU,SAAUD,EAASE,GAC/C,SAASC,EAAU1C,GAAS,IAAM2C,EAAKN,EAAUO,KAAK5C,GAAS,CAAE,MAAO6C,GAAKJ,EAAOI,EAAI,CAAE,CAC1F,SAASC,EAAS9C,GAAS,IAAM2C,EAAKN,EAAU,SAASrC,GAAS,CAAE,MAAO6C,GAAKJ,EAAOI,EAAI,CAAE,CAC7F,SAASF,EAAKd,GAAUA,EAAOkB,KAAOR,EAAQV,EAAO7B,OAASsC,EAAMT,EAAO7B,OAAOgD,KAAKN,EAAWI,EAAW,CAC7GH,GAAMN,EAAYA,EAAUY,MAAMf,EAASC,GAAc,KAAKS,OAClE,GACJ,EACA/C,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQwlC,mBAAgB,EACxB,MAAMU,EAASxlC,EAAQ,OACjB6pC,EAA0B7pC,EAAQ,OACxC,MAAM8kC,EACF1hC,WAAAA,CAAYkvB,GACR,KACI,EAAIkT,EAAO/gC,UAAU,oCACjBisB,QAAUA,OAAOoZ,0BAA4BpZ,OAAOoZ,oCAAoCD,EAAwBvE,oBAChHplC,KAAK6pC,SAAWrZ,OAAOoZ,0BACvB,EAAItE,EAAO/gC,UAAU,0CAGrBvE,KAAK6pC,SAAW,IAAIF,EAAwBvE,mBAAmBhT,IAC/D,EAAIkT,EAAO/gC,UAAU,wCACjBisB,SACAA,OAAOoZ,yBAA2B5pC,KAAK6pC,UAGnD,CACA,MAAO34B,GACH,MAAMA,CACV,CACJ,CAIA,aAAIo1B,GACA,OAAOtmC,KAAK6pC,SAASvD,SACzB,CACA,qBAAI1qB,GACA,OAAO5b,KAAK6pC,SAASjuB,iBACzB,CACA,YAAIgqB,GACA,OAAO5lC,KAAK6pC,SAASjE,QACzB,CAIA,WAAIW,GACA,OAAOvmC,KAAK6pC,SAAStD,OACzB,CAIA,UAAI/oB,GACA,OAAOxd,KAAK6pC,SAASrsB,MACzB,CACA,UAAIA,CAAOne,GACPW,KAAK6pC,SAASrsB,OAASne,CAC3B,CACAkJ,OAAAA,CAAQqS,GACJ,OAAOtZ,EAAUtB,UAAM,OAAQ,GAAQ,YACnC,OAAOA,KAAK6pC,SAASthC,QAAQqS,EACjC,GACJ,CACAlS,UAAAA,GACI,OAAOpH,EAAUtB,UAAM,OAAQ,GAAQ,YACnC,OAAOA,KAAK6pC,SAASnhC,YACzB,GACJ,CACAm/B,cAAAA,CAAe99B,EAAU09B,GACrB,OAAOznC,KAAK6pC,SAAShC,eAAe99B,EAAU09B,EAClD,CACAK,iBAAAA,GACI,OAAOxmC,EAAUtB,UAAM,OAAQ,GAAQ,YACnC,OAAOA,KAAK6pC,SAAS/B,mBACzB,GACJ,CACAM,eAAAA,CAAgBC,EAAajW,GACzB,OAAO9wB,EAAUtB,UAAM,OAAQ,GAAQ,YACnC,OAAOA,KAAK6pC,SAASzB,gBAAgBC,EAAajW,EACtD,GACJ,CACA,iBAAOqX,GACH,OAAOE,EAAwBvE,mBAAmBqE,YACtD,EAEJrqC,EAAQwlC,cAAgBA,C,mCCvFxB1lC,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQ0qC,eAAY,EACpB,MAAMA,EACFT,OAAAA,CAAQhuB,GACJ,MAAO,UAAWA,CACtB,EAEJjc,EAAQ0qC,UAAYA,C,qCCPpB,IAAI/E,EAAU/kC,MAAQA,KAAK+kC,QAAW,SAAUC,EAAG9iC,GAC/C,IAAI+iC,EAAI,CAAC,EACT,IAAK,IAAI1Y,KAAKyY,EAAO9lC,OAAOiC,UAAUC,eAAeC,KAAK2jC,EAAGzY,IAAMrqB,EAAEo7B,QAAQ/Q,GAAK,IAC9E0Y,EAAE1Y,GAAKyY,EAAEzY,IACb,GAAS,MAALyY,GAAqD,oBAAjC9lC,OAAOgmC,sBACtB,KAAIvxB,EAAI,EAAb,IAAgB4Y,EAAIrtB,OAAOgmC,sBAAsBF,GAAIrxB,EAAI4Y,EAAEllB,OAAQsM,IAC3DzR,EAAEo7B,QAAQ/Q,EAAE5Y,IAAM,GAAKzU,OAAOiC,UAAUgkC,qBAAqB9jC,KAAK2jC,EAAGzY,EAAE5Y,MACvEsxB,EAAE1Y,EAAE5Y,IAAMqxB,EAAEzY,EAAE5Y,IAF4B,CAItD,OAAOsxB,CACX,EACA/lC,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQ6pC,2BAAwB,EAChC,MAAMc,EAAejqC,EAAQ,OAC7B,MAAMkqC,UAA8BD,EAAaD,UAC7CZ,mBAAAA,CAAoBtuB,GAChB,MAAM,SAAEmD,GAAanD,EAAStR,EAASy7B,EAAOnqB,EAAS,CAAC,aACxD,MAAO,CACHhJ,OAAQ,sBACRmM,SAAUA,EACVzU,OAAQA,EAEhB,CACAigC,sBAAAA,CAAuBU,GACnB,MAAO,CACHC,IAAKD,EAAY/oC,OAAOyD,WAEhC,EAEJvF,EAAQ6pC,sBAAwB,IAAIe,C,qCC7BpC,IAAI1oC,EAAatB,MAAQA,KAAKsB,WAAc,SAAUC,EAASC,EAAYC,EAAGC,GAC1E,SAASC,EAAMtC,GAAS,OAAOA,aAAiBoC,EAAIpC,EAAQ,IAAIoC,GAAE,SAAUG,GAAWA,EAAQvC,EAAQ,GAAI,CAC3G,OAAO,IAAKoC,IAAMA,EAAII,WAAU,SAAUD,EAASE,GAC/C,SAASC,EAAU1C,GAAS,IAAM2C,EAAKN,EAAUO,KAAK5C,GAAS,CAAE,MAAO6C,GAAKJ,EAAOI,EAAI,CAAE,CAC1F,SAASC,EAAS9C,GAAS,IAAM2C,EAAKN,EAAU,SAASrC,GAAS,CAAE,MAAO6C,GAAKJ,EAAOI,EAAI,CAAE,CAC7F,SAASF,EAAKd,GAAUA,EAAOkB,KAAOR,EAAQV,EAAO7B,OAASsC,EAAMT,EAAO7B,OAAOgD,KAAKN,EAAWI,EAAW,CAC7GH,GAAMN,EAAYA,EAAUY,MAAMf,EAASC,GAAc,KAAKS,OAClE,GACJ,EACA/C,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQinC,6BAA0B,EAClC,MAAMf,EAASxlC,EAAQ,OACvB,MAAMumC,EACFnjC,WAAAA,CAAY0zB,GACR52B,KAAK42B,QAAUA,EACf52B,KAAK6kB,SAAW,oCACpB,CACAslB,eAAAA,CAAgBC,GACZ,OAAO9oC,EAAUtB,UAAM,OAAQ,GAAQ,YAEnC,OADA,EAAIslC,EAAO/gC,UAAU,gEAAiE6lC,GAC/EpqC,KAAK42B,QAAQ/uB,YAAYkT,KAAKC,UAAUovB,GAAapqC,KAAK6kB,SACrE,GACJ,CACAqjB,gBAAAA,GACI,OAAO5mC,EAAUtB,UAAM,OAAQ,GAAQ,YAEnC,OADA,EAAIslC,EAAO/gC,UAAU,iDACdvE,KAAK42B,QAAQxpB,WAAWpN,KAAK6kB,SACxC,GACJ,CACAwlB,aAAAA,GACI,OAAO/oC,EAAUtB,UAAM,OAAQ,GAAQ,YACnC,MAAMsqC,EAAStqC,KAAK42B,QAAQxnB,QAAQpP,KAAK6kB,UAEzC,IADA,EAAIygB,EAAO/gC,UAAU,gEAAiEvE,KAAK42B,UACtF0T,KAAuB,OAAXA,QAA8B,IAAXA,OAAoB,EAASA,EAAOn9B,SACpE,OAAO,KAEX,IACI,MAAMA,EAAqB,OAAXm9B,QAA8B,IAAXA,OAAoB,EAASA,EAAOn9B,QACvE,GAAIA,EAAS,CACT,IAAIi9B,EAGJ,OAFAA,EAAarvB,KAAK6e,MAAMzsB,IACxB,EAAIm4B,EAAO/gC,UAAU,8DAA+D6lC,GAC7EA,CACX,CAEI,OAAO,IAEf,CACA,MAAOl5B,GACH,OAAO,IACX,CACJ,GACJ,CACAq5B,iBAAAA,GACI,OAAOjpC,EAAUtB,UAAM,OAAQ,GAAQ,YACnC,MAAMoqC,QAAmBpqC,KAAKqqC,gBAC9B,IAAKD,EACD,MAAM,IAAI9E,EAAOl9B,gBAAgBk9B,EAAOj9B,wBAAwBuW,cAAe,iEAEnF,OAAOwrB,CACX,GACJ,CACAI,sBAAAA,CAAuBrlC,GACnB,OAAO7D,EAAUtB,UAAM,OAAQ,GAAQ,YACnC,MAAMoqC,QAAmBpqC,KAAKqqC,gBAC9B,GAAID,GAAe,iBAAkBA,EAEjC,OADAA,EAAWK,kBAAoBtlC,EACxBnF,KAAKmqC,gBAAgBC,EAEpC,GACJ,CACAM,oBAAAA,GACI,OAAOppC,EAAUtB,UAAM,OAAQ,GAAQ,YACnC,MAAMoqC,QAAmBpqC,KAAKqqC,gBAC9B,GAAID,GAAc,sBAAuBA,EACrC,OAAOA,EAAWK,iBAG1B,GACJ,EAEJrrC,EAAQinC,wBAA0BA,C,oCClFtBvmC,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAACA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OACb,IAAIwB,EAAatB,MAAQA,KAAKsB,WAAc,SAAUC,EAASC,EAAYC,EAAGC,GAC1E,SAASC,EAAMtC,GAAS,OAAOA,aAAiBoC,EAAIpC,EAAQ,IAAIoC,GAAE,SAAUG,GAAWA,EAAQvC,EAAQ,GAAI,CAC3G,OAAO,IAAKoC,IAAMA,EAAII,WAAU,SAAUD,EAASE,GAC/C,SAASC,EAAU1C,GAAS,IAAM2C,EAAKN,EAAUO,KAAK5C,GAAS,CAAE,MAAO6C,GAAKJ,EAAOI,EAAI,CAAE,CAC1F,SAASC,EAAS9C,GAAS,IAAM2C,EAAKN,EAAU,SAASrC,GAAS,CAAE,MAAO6C,GAAKJ,EAAOI,EAAI,CAAE,CAC7F,SAASF,EAAKd,GAAUA,EAAOkB,KAAOR,EAAQV,EAAO7B,OAASsC,EAAMT,EAAO7B,OAAOgD,KAAKN,EAAWI,EAAW,CAC7GH,GAAMN,EAAYA,EAAUY,MAAMf,EAASC,GAAc,KAAKS,OAClE,GACJ,EACA/C,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQqnC,oBAAiB,EACzB,MAAMkE,EAAsB7qC,EAAQ,OAC9BwlC,EAASxlC,EAAQ,OACjB4lC,EAA8B5lC,EAAQ,OACtC0C,EAAc1C,EAAQ,OACtB0lC,EAAwB1lC,EAAQ,OACtC,MAAM2mC,EACFvjC,WAAAA,CAAY0zB,EAAStrB,OAAUhL,GAC3BN,KAAK42B,QAAUA,EACf52B,KAAKgvB,KAAO,OACZhvB,KAAK4qC,UAAY,GACjB5qC,KAAK6qC,uBAAyB,CAAE,cAAiBvF,EAAOnV,uBACxDnwB,KAAK4b,mBAAoB,EACzB5b,KAAK8qC,eAAiB,IAAIxF,EAAO36B,kBAAkBW,GACnDtL,KAAK+qC,OAAS,IAAIzF,EAAO3rB,OAAO3Z,KAAK8qC,gBACrC9qC,KAAKgrC,kBAAoB,IAAItF,EAA4BW,wBAAwBzP,GACjF52B,KAAKimC,QAAU,IAAIT,EAAsBU,kBAAkB,CACvDC,wBAAyB3jC,EAAY2jC,2BAEzC,EAAIb,EAAOtrB,sBAAsB+c,qBAAqB,eAAgB,OAAQzrB,EAClF,CACA,kBAAO08B,CAAYtlC,GACf,OAAOpB,EAAUtB,KAAMiI,eAAW,GAAQ,UAAW2uB,EAAStrB,OAAUhL,IACpE,EAAIglC,EAAO/gC,UAAU,gDAAiDqyB,IACtE,EAAI0O,EAAOv5B,WAAW,oCACtB,MAAMq6B,EAA0B,IAAIV,EAA4BW,wBAAwBzP,GAClFwT,QAAmBhE,EAAwBmE,oBACjD,IAAI,EAAII,EAAoBM,yBAAyBb,GACjD,OAAO,KAEX,MAAMxE,EAAW,IAAIa,EAAe7P,EAAStrB,GAE7C,OADAs6B,EAAShqB,kBAAoBwuB,EAAWxuB,kBACjCgqB,CACX,GACJ,CACAr9B,OAAAA,CAAQiB,EAASuU,EAAUnC,EAAmB2C,GAC1C,OAAOjd,EAAUtB,UAAM,OAAQ,GAAQ,YAMnC,OALA,EAAIslC,EAAO/gC,UAAU,8CAA+CiF,IACpE,EAAI87B,EAAO/gC,UAAU,+CAAgDwZ,IACrE,EAAIunB,EAAO/gC,UAAU,wDAAyDqX,IAC9E,EAAI0pB,EAAO/gC,UAAU,mDAAoDga,IACzE,EAAI+mB,EAAOv5B,WAAW,gCACf,IAAIlK,SAAQ,CAACD,EAASE,KACzB,IACI9B,KAAK4b,kBAAoBA,OACMtb,IAA3BN,KAAK4b,oBACL5b,KAAK4b,mBAAoB,EAAI0pB,EAAOtS,sBAExC,IAAIkY,EAAe,CACfpnB,UAAW,MACXI,OAAQ,CAAC,YACT5a,OAAQE,EAAQF,QAEhBsU,EAAa,CACbzM,KAAM,kBACNg6B,mBAAoB,CAACD,IAErBE,EAAgB,GAEhB5hC,EAAQF,OAAOqa,UACfynB,EAAc70B,KAAK/M,EAAQF,OAAOqa,UAElCna,EAAQF,OAAOsa,WACfwnB,EAAc70B,KAAK/M,EAAQF,OAAOsa,WAEtCwnB,EAAc70B,KAAKqH,GACnB,IAAIytB,EAAS,CACTlvB,SAAU3S,EAAQ2S,SAClBN,iBAAkB7b,KAAK4b,kBACvBmC,SAAUA,EACVQ,aAAcA,GAElBve,KAAK+qC,OAAOrtB,iBAAiB0tB,EAAeC,GAAS/6B,KACjD,EAAIg1B,EAAO/gC,UAAU,sCAAsCwW,KAAKC,UAAU1K,MAC1E,IACI,IAAKA,EAAK2N,kBACN,MAAM,IAAIqnB,EAAOl9B,gBAAgBk9B,EAAOj9B,wBAAwBuW,cAAe,oEAEnF,MAAMnC,GAAgB,EAAI6oB,EAAOtnB,qBAAqB1N,EAAK2N,mBACrDqtB,GAAW,EAAIhG,EAAO7R,sBAAsBhX,GAC5C8uB,GAAe,EAAIjG,EAAOloB,kBAAkBkuB,GAClDtrC,KAAKimC,QAAQuF,8BAA8Bl7B,GAC3C1O,EAAQ2pC,EACZ,CACA,MAAOr6B,GACHpP,EAAOoP,EACX,KACD7O,MAAM6a,KACL,EAAIooB,EAAO/gC,UAAU,yCAAyCwW,KAAKC,UAAUkC,MAC7Eld,KAAKyrC,qBAAqBvuB,EAAQ,IACnCzL,OAAOvP,KACN,EAAIojC,EAAO/gC,UAAU,uCAAuCwW,KAAKC,UAAU9Y,MAC3E,MAAMwpC,EAAe,CACjB5mC,MAAO,gBACP4V,UAAWsB,OAAOvX,KAAKC,OACvBU,QAAS,CACLH,KAAM/C,EAAE+C,KACRuE,QAAStH,EAAEsH,WAGnB,EAAI87B,EAAO/gC,UAAU,4DAA6DmnC,GAClF1rC,KAAK4qC,UAAU56B,SAAQ9F,GAAYA,EAASwhC,KAC5C5pC,EAAOI,EAAE,GAEjB,CACA,MAAOgP,GACHojB,QAAQpjB,MAAM,8CAA+C6J,KAAKC,UAAU9J,IAC5EpP,EAAOoP,EACX,IAER,GACJ,CACAw1B,MAAAA,CAAO38B,GAEH,OADA/J,KAAK4qC,UAAUr0B,KAAKxM,GACb,IAAO/J,KAAK4qC,UAAY5qC,KAAK4qC,UAAUxyB,QAAOlO,GAAYA,IAAaH,GAClF,CACAgQ,kBAAAA,GACI,OAAOzY,EAAUtB,UAAM,OAAQ,GAAQ,aACnC,EAAIslC,EAAO/gC,UAAU,4CACrB,EAAI+gC,EAAOv5B,WAAW,2CACtB,MAAM4/B,EAAoB,CACtB7mC,MAAO,aACP4V,UAAWsB,OAAO,GAClB5W,QAAS,CAAC,GAEdpF,KAAK4qC,UAAU56B,SAAQ9F,GAAYA,EAASyhC,WACtC3rC,KAAKwmC,iBACf,GACJ,CACAiF,oBAAAA,CAAqBpwB,GACjB,OAAO/Z,EAAUtB,UAAM,OAAQ,GAAQ,YACnC,IAAI+E,EAAIwJ,EACR,IACI,MAAM+O,EAA4C,QAA9BvY,EAAKsW,EAASiC,kBAA+B,IAAPvY,OAAgB,EAASA,EAAG,OAChFK,EAAUkY,EAAWlY,QACrBoY,EAASnC,EAASmC,OACxB,IAAKF,IAAelY,IAAYoY,IAAWpY,EAAQue,SAC/C,MAAM,IAAI2hB,EAAOl9B,gBAAgBk9B,EAAOj9B,wBAAwBuW,eAEnDxZ,EAAQue,SAAzB,MACMjI,EAAgBL,EAASK,cAC/B,IAAIkwB,EAAU,GACVxmC,EAAQue,UACRioB,EAAQr1B,KAAKnR,EAAQue,UAErBve,EAAQwe,WACRgoB,EAAQr1B,KAAKnR,EAAQwe,WAEzB,MAAMioB,EAAgB,CAClBzT,SAAU5a,EAAO4a,SACjBnB,QAASzZ,EAAOyZ,QAChB6U,WAAYtuB,EAAOsuB,WACnBruB,mBAAoBD,EAAOC,mBAC3B+qB,SAAU,CAAC,wBAETuD,EAAiB,CACnB/c,KAAM,OACNyb,kBAAmBzuB,OAAOvX,KAAKC,OAC/BuiC,aAAc,CACVniC,MAAO,UACPM,QAAS,CACL+hC,MAAOyE,EACPpI,OAAQqI,IAGhBG,iBAAkBhsC,KAAK6qC,uBACvBt6B,UAAW8K,EAAStN,MACpB6N,kBAAqC,OAAlBF,QAA4C,IAAlBA,OAA2B,EAASA,EAAcG,mBAEnG,EAAIypB,EAAO/gC,UAAU,mEAAoEwnC,SACnF/rC,KAAKgrC,kBAAkBb,gBAAgB4B,GACtB,QAAtBx9B,EAAKvO,KAAK+qC,cAA2B,IAAPx8B,GAAyBA,EAAG6L,sBAAsBpa,KAAK+Z,mBAAmB3T,KAAKpG,OAC9G,MAAMisC,EAAiB,CACnBnnC,MAAO,UACP4V,UAAWqxB,EAAetB,kBAC1BrlC,QAAS2mC,EAAe9E,aAAa7hC,UAEzC,EAAIkgC,EAAO/gC,UAAU,qEAAsE0nC,GAC3FjsC,KAAK4qC,UAAU56B,SAAQ9F,GAAYA,EAAS+hC,IAChD,CACA,MAAO/6B,IACH,EAAIo0B,EAAO/gC,UAAU,yDAA0D2M,GAC/E,MAAMw6B,EAAe,CACjB5mC,MAAO,gBACP4V,UAAWsB,OAAOvX,KAAKC,OACvBU,QAAS,CACLH,KAAMqgC,EAAOj9B,wBAAwBuW,cACrCpV,QAAS,0DAGjB,EAAI87B,EAAO/gC,UAAU,iEAAkEmnC,GACvF1rC,KAAK4qC,UAAU56B,SAAQ9F,GAAYA,EAASwhC,IAChD,CACJ,GACJ,CACAlF,eAAAA,GACI,OAAOllC,EAAUtB,KAAMiI,eAAW,GAAQ,UAAWyI,GAAc,EAAOw7B,GAAc,GACpF,IAAInnC,EAAIwJ,GACR,EAAI+2B,EAAO/gC,UAAU,wDAAyDmM,EAAa,gBAAiBw7B,IAC5G,EAAI5G,EAAOv5B,WAAW,wCACtB/L,KAAK4qC,UAAY,GACZsB,UACqC,QAA9BnnC,EAAK/E,KAAK8qC,sBAAmC,IAAP/lC,OAAgB,EAASA,EAAG2D,WAAWgI,IAEpFA,IACsB,QAAtBnC,EAAKvO,KAAK+qC,cAA2B,IAAPx8B,GAAyBA,EAAG7F,mBACrD1I,KAAKgrC,kBAAkB9C,mBAErC,GACJ,CACAJ,iBAAAA,GACI,OAAOxmC,EAAUtB,UAAM,OAAQ,GAAQ,YACnC,IAAI+E,GACJ,EAAIugC,EAAO/gC,UAAU,6CACrB,EAAI+gC,EAAOv5B,WAAW,0CACtB,MAAMogC,QAAyBnsC,KAAKgrC,kBAAkBT,oBACtD,GAAK4B,KAGD,EAAIxB,EAAoBM,yBAAyBkB,GAIrD,IADA,EAAI7G,EAAO/gC,UAAU,2EAA4E4nC,EAAiB57B,WAC9G47B,EAAiB57B,UACjB,IACI,MAAM07B,EAAiB,CACnBnnC,MAAO,UACP4V,UAAWsB,OAAO,GAClB5W,QAAS+mC,EAAiBlF,aAAa7hC,SAE3CpF,KAAK4qC,UAAU56B,SAAQ9F,GAAYA,EAAS+hC,KAC5C,MAAM17B,EAAY47B,EAAiB57B,WACnC,EAAI+0B,EAAO/gC,UAAU,mFAAoFgM,GAClF,QAAtBxL,EAAK/E,KAAK+qC,cAA2B,IAAPhmC,GAAyBA,EAAGqV,sBAAsBpa,KAAK+Z,mBAAmB3T,KAAKpG,aACxGA,KAAK8qC,eAAe36B,eAAeI,EAC7C,CACA,MAAOrO,IACH,EAAIojC,EAAO/gC,UAAU,wEACfvE,KAAKwmC,iBACf,MAGA,EAAIlB,EAAO/gC,UAAU,wEACfvE,KAAKwmC,iBAEnB,GACJ,CACAuC,aAAAA,IACI,EAAIzD,EAAO/gC,UAAU,qCAAsCvE,KAAK4b,oBAChE,EAAI0pB,EAAOv5B,WAAW,sCAClB/L,KAAK4b,oBACL,EAAI0pB,EAAO1R,iBAAiB0R,EAAOxoB,iBAE3C,CACApU,UAAAA,GACI,OAAOpH,EAAUtB,UAAM,OAAQ,GAAQ,YAGnC,OAFA,EAAIslC,EAAO/gC,UAAU,sCACrB,EAAI+gC,EAAOv5B,WAAW,mCACf,IAAIlK,SAASD,GAAYN,EAAUtB,UAAM,OAAQ,GAAQ,YAC5D,IAAIosC,GAAS,EACb,MAAMhD,EAAgBA,KACbgD,IACDA,GAAS,EACTpsC,KAAKwmC,kBAAkBnkC,KAAKT,GAChC,EAEJ,UACU5B,KAAKgpC,YAAY,CAAEp3B,OAAQ,cAAgB,CAAEw3B,cAAeA,EAAe/W,SAAU,GAC/F,CACA,MAAOnwB,GACEkqC,GACDpsC,KAAKwmC,kBAAkBnkC,KAAKT,EAEpC,CAAC,QAEGwnC,GACJ,CACJ,KACJ,GACJ,CACAJ,WAAAA,CAAYpuB,EAASwX,EAAS3f,GAG1B,OAFA,EAAI6yB,EAAO/gC,UAAU,qCACrB,EAAI+gC,EAAOv5B,WAAW,oCACf,IAAIlK,SAAQ,CAACD,EAASE,IAAWR,EAAUtB,UAAM,OAAQ,GAAQ,YACpE,IAAI+E,EACJ,UACkC,QAAtBA,EAAK/E,KAAK+qC,cAA2B,IAAPhmC,OAAgB,EAASA,EAAGmB,KAAK0U,EAAS,CAC5EhZ,QAAS,SAAUyZ,GACfzZ,EAAQyZ,EACZ,EACAH,MAAO,WACH,IAAInW,EAC+E,QAAlFA,EAAiB,OAAZqtB,QAAgC,IAAZA,OAAqB,EAASA,EAAQgX,qBAAkC,IAAPrkC,GAAyBA,EAAG1D,KAAK+wB,EAChI,GACD,CAAEC,SAAsB,OAAZD,QAAgC,IAAZA,OAAqB,EAASA,EAAQC,UAAY5f,EACzF,CACA,MAAOvQ,GACHJ,EAAOI,EACX,CACJ,KACJ,EAEJ9C,EAAQqnC,eAAiBA,C,mCCtTzB,SAASwE,EAAwBb,GAC7B,QAAS,iBAAkBA,EAC/B,CAJAlrC,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQ6rC,wBAA0BA,C,mCCDlC,IAAI3pC,EAAatB,MAAQA,KAAKsB,WAAc,SAAUC,EAASC,EAAYC,EAAGC,GAC1E,SAASC,EAAMtC,GAAS,OAAOA,aAAiBoC,EAAIpC,EAAQ,IAAIoC,GAAE,SAAUG,GAAWA,EAAQvC,EAAQ,GAAI,CAC3G,OAAO,IAAKoC,IAAMA,EAAII,WAAU,SAAUD,EAASE,GAC/C,SAASC,EAAU1C,GAAS,IAAM2C,EAAKN,EAAUO,KAAK5C,GAAS,CAAE,MAAO6C,GAAKJ,EAAOI,EAAI,CAAE,CAC1F,SAASC,EAAS9C,GAAS,IAAM2C,EAAKN,EAAU,SAASrC,GAAS,CAAE,MAAO6C,GAAKJ,EAAOI,EAAI,CAAE,CAC7F,SAASF,EAAKd,GAAUA,EAAOkB,KAAOR,EAAQV,EAAO7B,OAASsC,EAAMT,EAAO7B,OAAOgD,KAAKN,EAAWI,EAAW,CAC7GH,GAAMN,EAAYA,EAAUY,MAAMf,EAASC,GAAc,KAAKS,OAClE,GACJ,EACA/C,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQ0kC,4BAAyB,EAIjC,MAAMA,EACF5gC,WAAAA,GAKIlD,KAAKwwB,OAASA,MAClB,CAOA6b,aAAAA,CAAcC,EAAWC,GACrB,OAAOjrC,EAAUtB,UAAM,OAAQ,GAAQ,YACnC,IAAI+E,EACJ,MAAMD,EAAQ,IAAI0nC,YAAYF,EAAW,CAAEG,OAAQF,IAC5B,QAAtBxnC,EAAK/E,KAAKwwB,cAA2B,IAAPzrB,GAAyBA,EAAGsnC,cAAcvnC,EAC7E,GACJ,CAQA2D,gBAAAA,CAAiB6jC,EAAWpiC,EAAUkoB,GAClC,OAAO9wB,EAAUtB,UAAM,OAAQ,GAAQ,YACnC,IAAI+E,EAEJ,OADuB,QAAtBA,EAAK/E,KAAKwwB,cAA2B,IAAPzrB,GAAyBA,EAAG0D,iBAAiB6jC,EAAWpiC,EAAUkoB,GAC1F,KACH,IAAIrtB,EACJ,OAA8B,QAAtBA,EAAK/E,KAAKwwB,cAA2B,IAAPzrB,OAAgB,EAASA,EAAGyD,oBAAoB8jC,EAAWpiC,EAAS,CAElH,GACJ,EAEJ9K,EAAQ0kC,uBAAyBA,C,qCCrDjC5kC,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQ0kC,uBAAyB1kC,EAAQykC,kBAAoBzkC,EAAQ2kC,oCAAsC3kC,EAAQ4kC,6BAA+B5kC,EAAQ6kC,uCAAyC7kC,EAAQ8kC,yBAA2B9kC,EAAQ+kC,6BAA+B/kC,EAAQglC,sCAAwChlC,EAAQilC,oCAAsCjlC,EAAQklC,wCAA0CllC,EAAQmlC,2BAA6BnlC,EAAQolC,+BAAiCplC,EAAQqlC,2BAA6BrlC,EAAQslC,0BAA4BtlC,EAAQulC,8CAA2C,EACvmB,IAAI+H,EAAsB5sC,EAAQ,OAClCZ,OAAOC,eAAeC,EAAS,2CAA4C,CAAEwB,YAAY,EAAMC,IAAK,WAAc,OAAO6rC,EAAoB/H,wCAA0C,IACvL,IAAIgI,EAAU7sC,EAAQ,OACtBZ,OAAOC,eAAeC,EAAS,4BAA6B,CAAEwB,YAAY,EAAMC,IAAK,WAAc,OAAO8rC,EAAQjI,yBAA2B,IAC7IxlC,OAAOC,eAAeC,EAAS,6BAA8B,CAAEwB,YAAY,EAAMC,IAAK,WAAc,OAAO8rC,EAAQlI,0BAA4B,IAC/IvlC,OAAOC,eAAeC,EAAS,iCAAkC,CAAEwB,YAAY,EAAMC,IAAK,WAAc,OAAO8rC,EAAQnI,8BAAgC,IACvJtlC,OAAOC,eAAeC,EAAS,6BAA8B,CAAEwB,YAAY,EAAMC,IAAK,WAAc,OAAO8rC,EAAQpI,0BAA4B,IAC/IrlC,OAAOC,eAAeC,EAAS,0CAA2C,CAAEwB,YAAY,EAAMC,IAAK,WAAc,OAAO8rC,EAAQrI,uCAAyC,IACzKplC,OAAOC,eAAeC,EAAS,sCAAuC,CAAEwB,YAAY,EAAMC,IAAK,WAAc,OAAO8rC,EAAQtI,mCAAqC,IACjKnlC,OAAOC,eAAeC,EAAS,wCAAyC,CAAEwB,YAAY,EAAMC,IAAK,WAAc,OAAO8rC,EAAQvI,qCAAuC,IACrKllC,OAAOC,eAAeC,EAAS,+BAAgC,CAAEwB,YAAY,EAAMC,IAAK,WAAc,OAAO8rC,EAAQxI,4BAA8B,IACnJjlC,OAAOC,eAAeC,EAAS,2BAA4B,CAAEwB,YAAY,EAAMC,IAAK,WAAc,OAAO8rC,EAAQzI,wBAA0B,IAC3IhlC,OAAOC,eAAeC,EAAS,yCAA0C,CAAEwB,YAAY,EAAMC,IAAK,WAAc,OAAO8rC,EAAQ1I,sCAAwC,IACvK/kC,OAAOC,eAAeC,EAAS,+BAAgC,CAAEwB,YAAY,EAAMC,IAAK,WAAc,OAAO8rC,EAAQ3I,4BAA8B,IACnJ9kC,OAAOC,eAAeC,EAAS,sCAAuC,CAAEwB,YAAY,EAAMC,IAAK,WAAc,OAAO8rC,EAAQ5I,mCAAqC,IACjK7kC,OAAOC,eAAeC,EAAS,oBAAqB,CAAEwB,YAAY,EAAMC,IAAK,WAAc,OAAO8rC,EAAQ9I,iBAAmB,IAC7H,IAAI+I,EAA6B9sC,EAAQ,OACzCZ,OAAOC,eAAeC,EAAS,yBAA0B,CAAEwB,YAAY,EAAMC,IAAK,WAAc,OAAO+rC,EAA2B9I,sBAAwB,G,qCCnB1J,IAAIxiC,EAAatB,MAAQA,KAAKsB,WAAc,SAAUC,EAASC,EAAYC,EAAGC,GAC1E,SAASC,EAAMtC,GAAS,OAAOA,aAAiBoC,EAAIpC,EAAQ,IAAIoC,GAAE,SAAUG,GAAWA,EAAQvC,EAAQ,GAAI,CAC3G,OAAO,IAAKoC,IAAMA,EAAII,WAAU,SAAUD,EAASE,GAC/C,SAASC,EAAU1C,GAAS,IAAM2C,EAAKN,EAAUO,KAAK5C,GAAS,CAAE,MAAO6C,GAAKJ,EAAOI,EAAI,CAAE,CAC1F,SAASC,EAAS9C,GAAS,IAAM2C,EAAKN,EAAU,SAASrC,GAAS,CAAE,MAAO6C,GAAKJ,EAAOI,EAAI,CAAE,CAC7F,SAASF,EAAKd,GAAUA,EAAOkB,KAAOR,EAAQV,EAAO7B,OAASsC,EAAMT,EAAO7B,OAAOgD,KAAKN,EAAWI,EAAW,CAC7GH,GAAMN,EAAYA,EAAUY,MAAMf,EAASC,GAAc,KAAKS,OAClE,GACJ,EACA/C,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQ8mC,uBAAoB,EAC5B,MAAMyG,EAAU7sC,EAAQ,OAClB8sC,EAA6B9sC,EAAQ,OAoB3C,MAAMomC,EAIF,WAAIlP,GACA,OAAO,EAAI2V,EAAQ9I,mBAAmB,CAClCgJ,wBAAyB7sC,KAAKmmC,wBAC9B2G,mBAAoB9sC,KAAK+sC,qBAEjC,CACA7pC,WAAAA,CAAYkvB,GAKRpyB,KAAKgtC,YAAc,mBACnBhtC,KAAK+sC,oBAAsB,KAC3B/sC,KAAKitC,gBAAkB,IAAIL,EAA2B9I,uBACtD9jC,KAAKmmC,wBAA0B/T,EAAQ+T,wBACvCnmC,KAAKsR,OAAOG,OAChB,CACAH,IAAAA,GACI,OAAOhQ,EAAUtB,UAAM,OAAQ,GAAQ,YACnC,UACUA,KAAKktC,2BACXltC,KAAK+sC,0BAA4B/sC,KAAKmtC,4BAC1C,CACA,MAAOjrC,GAAK,CAChB,GACJ,CAKAgrC,wBAAAA,GACI,OAAO5rC,EAAUtB,UAAM,OAAQ,GAAQ,kBAC7BA,KAAKitC,gBAAgBxkC,iBAAiB,mCAAmC,IAAMnH,EAAUtB,UAAM,OAAQ,GAAQ,kBAC3GA,KAAKitC,gBAAgBZ,cAAc,oCAAoC,EAAIM,EAAQlI,4BAA4BzkC,KAAKmmC,yBAC9H,KACJ,GACJ,CAKAgH,0BAAAA,GACI,OAAO7rC,EAAUtB,UAAM,OAAQ,GAAQ,YACnC,OAAO,IAAI6B,SAAQ,CAACD,EAASE,IAAWR,EAAUtB,UAAM,OAAQ,GAAQ,YACpE,UACUA,KAAKitC,gBAAgBxkC,iBAAiB,mCAAoC3D,IAC5ElD,EAAQkD,EAAM2nC,OAAOzV,QAAQ,GAC9B,CAAE9uB,MAAM,UACLlI,KAAKitC,gBAAgBZ,cAAc,kCAAkC,EAAIM,EAAQjI,6BAC3F,CACA,MAAOxiC,GACHJ,EAAOI,EACX,CACJ,KACJ,GACJ,CAMAkrC,uBAAAA,CAAwBb,GACpB,IACIvsC,KAAKitC,gBACAZ,cAAc,GAAGrsC,KAAKgtC,cAAcT,EAAavd,OAAQud,GACzD96B,OACT,CACA,MAAOvP,GAAK,CAChB,CAKA0kC,sBAAAA,IAA0BvS,GACtB,IACI,MAAMvvB,GAAQ,EAAI6nC,EAAQxI,8BAA8BnkC,KAAKg3B,WAAY3C,GACzEr0B,KAAKotC,wBAAwBtoC,EACjC,CACA,MAAO5C,GAAK,CAChB,CAKAmrC,uBAAAA,IAA2BhZ,GACvB,IACI,MAAMvvB,GAAQ,EAAI6nC,EAAQW,kCAAkCjZ,GAC5Dr0B,KAAKotC,wBAAwBtoC,EACjC,CACA,MAAO5C,GAAK,CAChB,CAKAqlC,wBAAAA,IAA4BlT,GACxB,IACI,MAAMvvB,GAAQ,EAAI6nC,EAAQnI,gCAAgCxkC,KAAKg3B,WAAY3C,GAC3Er0B,KAAKotC,wBAAwBtoC,EACjC,CACA,MAAO5C,GAAK,CAChB,CACAspC,6BAAAA,CAA8BnX,GAC1B,IACI,MAAMvvB,GAAQ,EAAI6nC,EAAQY,qCAAqClZ,GAC/Dr0B,KAAKotC,wBAAwBtoC,EACjC,CACA,MAAO5C,GAAK,CAChB,CAKAwlC,oBAAAA,IAAwBrT,GACpB,IACI,MAAMvvB,GAAQ,EAAI6nC,EAAQpI,4BAA4BvkC,KAAKg3B,WAAY3C,GACvEr0B,KAAKotC,wBAAwBtoC,EACjC,CACA,MAAO5C,GAAK,CAChB,CAKA6lC,+BAAAA,IAAmC1T,GAC/B,IACI,MAAMvvB,GAAQ,EAAI6nC,EAAQvI,uCAAuCpkC,KAAKg3B,WAAY3C,GAClFr0B,KAAKotC,wBAAwBtoC,EACjC,CACA,MAAO5C,GAAK,CAChB,CAKAimC,iCAAAA,IAAqC9T,GACjC,IACI,MAAMvvB,GAAQ,EAAI6nC,EAAQrI,yCAAyCtkC,KAAKg3B,WAAY3C,GACpFr0B,KAAKotC,wBAAwBtoC,EACjC,CACA,MAAO5C,GAAK,CAChB,CAKA+lC,6BAAAA,IAAiC5T,GAC7B,IACI,MAAMvvB,GAAQ,EAAI6nC,EAAQtI,qCAAqCrkC,KAAKg3B,WAAY3C,GAChFr0B,KAAKotC,wBAAwBtoC,EACjC,CACA,MAAO5C,GAAK,CAChB,CAKA0lC,kBAAAA,IAAsBvT,GAClB,IACI,MAAMvvB,GAAQ,EAAI6nC,EAAQzI,0BAA0BlkC,KAAKg3B,WAAY3C,GACrEr0B,KAAKotC,wBAAwBtoC,EACjC,CACA,MAAO5C,GAAK,CAChB,CAKAymC,gCAAAA,IAAoCtU,GAChC,IACI,MAAMvvB,GAAQ,EAAI6nC,EAAQ1I,wCAAwCjkC,KAAKg3B,WAAY3C,GACnFr0B,KAAKotC,wBAAwBtoC,EACjC,CACA,MAAO5C,GAAK,CAChB,CAKAsnC,sBAAAA,IAA0BnV,GACtB,IACI,MAAMvvB,GAAQ,EAAI6nC,EAAQ3I,8BAA8BhkC,KAAKg3B,WAAY3C,GACzEr0B,KAAKotC,wBAAwBtoC,EACjC,CACA,MAAO5C,GAAK,CAChB,CAKAonC,6BAAAA,IAAiCjV,GAC7B,IACI,MAAMvvB,GAAQ,EAAI6nC,EAAQ5I,qCAAqC/jC,KAAKg3B,WAAY3C,GAChFr0B,KAAKotC,wBAAwBtoC,EACjC,CACA,MAAO5C,GAAK,CAChB,EAEJ9C,EAAQ8mC,kBAAoBA,C,mCCxO5B,IAAIvB,EAFJzlC,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQulC,8CAA2C,EAEnD,SAAWA,GACPA,EAAyC,8BAAgC,qCACzEA,EAAyC,gCAAkC,uCAC3EA,EAAyC,4BAA8B,mCACvEA,EAAyC,wCAA0C,+CACnFA,EAAyC,0CAA4C,iDACrFA,EAAyC,sCAAwC,6CACjFA,EAAyC,yBAA2B,gCACpEA,EAAyC,0CAA4C,iDACrFA,EAAyC,8BAAgC,qCACzEA,EAAyC,sCAAwC,4CACpF,CAXD,CAWGA,IAA6CvlC,EAAQulC,yCAA2CA,EAA2C,CAAC,G,qCCK/I,SAASD,IACL,MAAO,CACH1V,KAAM,kBAEd,CAKA,SAASyV,EAA2BzN,GAChC,MAAO,CACHhI,KAAM,mBACNgI,QAASA,EAEjB,CAKA,SAAS6M,EAAkB7M,GACvB,MAAO,CACH6V,wBAAyB7V,EAAQ6V,wBACjCC,mBAAoB9V,EAAQ8V,mBAEpC,CACA,SAASU,EAAqBxW,EAASxZ,GACnC,IAAIzY,EAAIwJ,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAChC,MAAM4+B,GAA6F,QAA9E1oC,EAAgB,OAAXyY,QAA8B,IAAXA,OAAoB,EAASA,EAAO8pB,oBAAiC,IAAPviC,OAAgB,EAASA,EAAGye,WAAa,UAAWhG,EAAO8pB,aAAa9jB,SAC7KkqB,EAAWD,EAAa,YAAc,WAC5C,MAAO,CACHE,eAAiJ,QAAhIn/B,EAA+E,QAAzED,EAAgB,OAAXiP,QAA8B,IAAXA,OAAoB,EAASA,EAAO+oB,eAA4B,IAAPh4B,OAAgB,EAASA,EAAGkV,eAA4B,IAAPjV,EAAgBA,EAAK,KAC9Ko/B,YAA8F,QAAhFn/B,EAAgB,OAAX+O,QAA8B,IAAXA,OAAoB,EAASA,EAAOgmB,OAAOvM,eAA4B,IAAPxoB,EAAgBA,EAAK,KAC3Ho/B,eAAoG,QAAnFn/B,EAAgB,OAAX8O,QAA8B,IAAXA,OAAoB,EAASA,EAAOgmB,OAAOsI,kBAA+B,IAAPp9B,EAAgBA,EAAK,KACjIo/B,UAAWJ,EACXK,YAAa7uC,OAAO+b,OAAO,CAAE+yB,SAAyI,QAA9Hp/B,EAA+E,QAAzED,EAAgB,OAAX6O,QAA8B,IAAXA,OAAoB,EAASA,EAAO+oB,eAA4B,IAAP53B,OAAgB,EAASA,EAAG0V,aAA0B,IAAPzV,EAAgBA,EAAK,KAAMg3B,SAAqF,QAA1E/2B,EAAgB,OAAX2O,QAA8B,IAAXA,OAAoB,EAASA,EAAOooB,gBAA6B,IAAP/2B,EAAgBA,EAAK,MAAQg1B,EAAkB7M,IAE7V,CAIA,SAASmN,EAA6BnN,GAClC,MAAO,CACHhI,KAAM,qBACN+e,YAAalK,EAAkB7M,GAEvC,CAIA,SAASsW,EAA8BzwB,GACnC,MAAO,CACHmS,KAAM,0BACNnS,YAAaA,EAErB,CAEA,SAAS0wB,EAAoC5xB,GACzC,MAAO,CACHqT,KAAM,8BACNrT,YAAaA,EAErB,CAMA,SAAS6oB,EAA+BxN,EAASxZ,GAC7C,OAAOte,OAAO+b,OAAO,CAAE+T,KAAM,uBAAwBif,YAAY,GAAQT,EAAqBxW,EAASxZ,GAC3G,CAOA,SAAS+mB,EAA2BvN,EAASkX,EAAeC,GACxD,MAAO,CACHnf,KAAM,mBACNif,YAAY,EACZC,cAAeA,EACfE,WAA0B,OAAdD,QAAoC,IAAdA,EAAuBA,EAAY,KACrEJ,YAAalK,EAAkB7M,GAEvC,CAIA,SAASoN,EAAsCpN,GAC3C,MAAO,CACHhI,KAAM,+BACN+e,YAAalK,EAAkB7M,GAEvC,CAMA,SAASsN,EAAwCtN,EAASxZ,GACtD,OAAOte,OAAO+b,OAAO,CAAE+T,KAAM,iCAAkCif,YAAY,GAAQT,EAAqBxW,EAASxZ,GACrH,CAMA,SAAS6mB,EAAoCrN,EAAS0U,GAClD,MAAO,CACH1c,KAAM,6BACNif,YAAY,EACZC,cAAexC,EACfqC,YAAalK,EAAkB7M,GAEvC,CACA,SAASqX,EAAsB7wB,EAAQ6qB,GACnC,IAAItjC,EAAIwJ,EAAIC,EAAIC,EAChB,MAAO,CACH06B,YAAuD,QAAzCpkC,EAAK4X,OAAO0rB,EAAYO,mBAAgC,IAAP7jC,EAAgBA,EAAK,KACpF4kB,KAAgM,QAAzLlb,EAAiC,QAA3BF,EAAK85B,EAAY1e,YAAyB,IAAPpb,EAAgBA,EAA+E,QAAzEC,EAAgB,OAAXgP,QAA8B,IAAXA,OAAoB,EAASA,EAAO+oB,eAA4B,IAAP/3B,OAAgB,EAASA,EAAGiV,eAA4B,IAAPhV,EAAgBA,EAAK,KAC7Ni6B,SAAUL,EAAYK,SAAS9xB,KAAIpN,IAC/B,IAAIzE,EAAIwJ,EACR,MAAQ,CACJkV,QAAoC,QAA1B1e,EAAKyE,EAAQia,eAA4B,IAAP1e,EAAgBA,EAAK,KACjEupC,OAAkC,QAAzB//B,EAAK/E,EAAQ8kC,cAA2B,IAAP//B,EAAgBA,EAAK,KAClE,IAGb,CAOA,SAAS01B,EAAuCjN,EAASxZ,EAAQ6qB,GAC7D,OAAOnpC,OAAO+b,OAAO/b,OAAO+b,OAAO,CAAE+T,KAAM,kCAAoCwe,EAAqBxW,EAASxZ,IAAU6wB,EAAsB7wB,EAAQ6qB,GACzJ,CAQA,SAASrE,EAA6BhN,EAASxZ,EAAQ6qB,EAAakG,GAChE,OAAOrvC,OAAO+b,OAAO/b,OAAO+b,OAAO,CAAE+T,KAAM,qBAAsBif,YAAY,EAAMO,mBAAoBD,EAAkBrE,KAAOsD,EAAqBxW,EAASxZ,IAAU6wB,EAAsB7wB,EAAQ6qB,GAC1M,CASA,SAAStE,EAAoC/M,EAASxZ,EAAQ6qB,EAAaqD,EAAcyC,GACrF,OAAOjvC,OAAO+b,OAAO/b,OAAO+b,OAAO,CAAE+T,KAAM,6BAA8Bif,YAAY,EAAOC,cAAexC,EAAc0C,WAA0B,OAAdD,QAAoC,IAAdA,EAAuBA,EAAY,MAAQX,EAAqBxW,EAASxZ,IAAU6wB,EAAsB7wB,EAAQ6qB,GAChR,CAQA,SAASnE,EAAyBlN,EAASxZ,EAAQmqB,GAC/C,OAAOzoC,OAAO+b,OAAO,CAAE+T,KAAM,gBAAiB2Y,MAAOA,GAAS6F,EAAqBxW,EAASxZ,GAChG,CA5LY1d,EAAA,OAACA,EAAA,OACbZ,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQslC,0BAA4BA,EACpCtlC,EAAQqlC,2BAA6BA,EACrCrlC,EAAQykC,kBAAoBA,EAC5BzkC,EAAQ+kC,6BAA+BA,EACvC/kC,EAAQkuC,8BAAgCA,EACxCluC,EAAQmuC,oCAAsCA,EAC9CnuC,EAAQolC,+BAAiCA,EACzCplC,EAAQmlC,2BAA6BA,EACrCnlC,EAAQglC,sCAAwCA,EAChDhlC,EAAQklC,wCAA0CA,EAClDllC,EAAQilC,oCAAsCA,EAC9CjlC,EAAQ6kC,uCAAyCA,EACjD7kC,EAAQ4kC,6BAA+BA,EACvC5kC,EAAQ2kC,oCAAsCA,EAC9C3kC,EAAQ8kC,yBAA2BA,C,qCChBvBpkC,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAACA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OACbZ,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQwkC,sBAAwBA,EAChC,MAAM0B,EAASxlC,EAAQ,OACjB2uC,EAAkB,GAClBC,EAAc,IAMpB,SAAS9K,EAAsB+K,EAAYC,GAAW,GAClD,MAAM,GAAEC,EAAE,IAAE9T,GAAQ+T,EAAgBH,GACpC,IAAII,EAAMN,EACNG,IACAG,GAAOL,GAEX,MAAMM,EAAO,IAAIC,UAAU,IAC3BD,EAAK,GAAKD,EACVC,EAAK,GAAKH,EACVG,EAAK/4B,IAAI8kB,EAAK,GACd,MAAMmU,EAAsB,IAAI5gB,WAAW,IAC3C4gB,EAAoBj5B,IAAI+4B,GACxBE,EAAoBj5B,IAAIk5B,EAAMH,GAAO,IAErC,IAAII,GAAgB,EAAI9J,EAAO1Z,cAAcsjB,GAAqB,GAClE,OAAOE,EAAct9B,QAAQ,MAAO,KAAKA,QAAQ,MAAO,IAC5D,CACA,SAASg9B,EAAgBH,GACrB,IAAKA,EAAWt2B,SAAS,KACrB,MAAM,IAAIxU,MAAM,iBAAiB8qC,gCAErC,MAAMU,EAAQV,EAAW9sB,MAAM,KAC/B,GAAqB,IAAjBwtB,EAAMhoC,OACN,MAAM,IAAIxD,MAAM,iBAAiB8qC,0CAErC,MAAME,EAAKlQ,SAAS0Q,EAAM,IAC1B,GAAW,IAAPR,IAAoB,IAARA,EACZ,MAAM,IAAIhrC,MAAM,iBAAiB8qC,iCAA0CE,eAE/E,MAAM9T,EAAMsU,EAAM,GAClB,GAA+D,MAAlD,OAARtU,QAAwB,IAARA,OAAiB,EAASA,EAAI1zB,QAC/C,MAAM,IAAIxD,MAAM,iBAAiB8qC,2CAA4D,OAAR5T,QAAwB,IAARA,OAAiB,EAASA,EAAI1zB,oBAEvI,MAAO,CACHwnC,KACA9T,IAAKuU,EAAWvU,GAExB,CACA,SAASoU,EAAM7qC,GACX,MAAMirC,EAAO,KACb,IAAIC,EAAM,EACV,MAAMhmC,EAAU,IAAI8kB,WAAWhqB,EAAK+C,OAAS,GAC7CmC,EAAQyM,IAAI3R,GACZ,IAAK,IAAI08B,KAAQx3B,EAAS,CACtB,IAAIimC,EAAO,IACX,MAAOA,EAAO,EACVD,IAAQ,EACJxO,EAAOyO,IACPD,GAAO,GAEXC,IAAS,EACLD,EAAM,QACNA,GAAO,MACPA,GAAOD,EAGnB,CACA,OAAO,IAAIjhB,WAAW,CAAC5L,KAAKC,MAAM6sB,EAAM,KAAMA,EAAM,KACxD,CACA,MAAME,EAAY,CAAC,EACnB,IAAK,IAAIC,EAAM,EAAGA,GAAO,IAAMA,IAAO,CAClC,IAAI3K,EAAI2K,EAAIhrC,SAAS,IACjBqgC,EAAE39B,OAAS,IACX29B,EAAI,IAAMA,GAEd0K,EAAU1K,GAAK2K,CACnB,CACA,SAASL,EAAWvU,GAChBA,EAAMA,EAAIuI,cACV,MAAMsM,EAAU7U,EAAI1zB,OACpB,GAAIuoC,EAAU,IAAM,EAChB,MAAM,IAAI/rC,MAAM,gDAAkDk3B,GAEtE,MAAM1zB,EAASuoC,EAAU,EACnB1uC,EAAS,IAAIotB,WAAWjnB,GAC9B,IAAK,IAAIsM,EAAI,EAAGA,EAAItM,EAAQsM,IAAK,CAC7B,MAAMk8B,EAAc,EAAJl8B,EACVm8B,EAAe/U,EAAIjB,UAAU+V,EAASA,EAAU,GACtD,IAAKH,EAAUtuC,eAAe0uC,GAC1B,MAAM,IAAIjsC,MAAM,0BAA4BisC,GAEhD5uC,EAAOyS,GAAK+7B,EAAUI,EAC1B,CACA,OAAO5uC,CACX,C,mCC9FAhC,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQwnB,qBAAuBxnB,EAAQ+mC,6BAA0B,EACjE/mC,EAAQ+mC,wBAA0B,IAClC/mC,EAAQwnB,qBAAuB,gB,qCCH/B1nB,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQmpC,4BAA8BA,EACtC,MAAMjD,EAASxlC,EAAQ,OACvB,SAASyoC,EAA4BC,EAAUpW,GAC3C,MAAM2d,EAA2CvH,EAASnwB,SAAS,uBACnE,IAAK03B,EACD,MAAM,IAAIzK,EAAOl9B,gBAAgBk9B,EAAOj9B,wBAAwBmpB,qBAAsB,mDAE1F,GAAI,EAAIY,EAAQqW,uBACZ,MAAM,IAAInD,EAAOl9B,gBAAgBk9B,EAAOj9B,wBAAwBmpB,qBAAsB,oGAAuGY,EAAQqW,sCAE7M,C,qCCXAvpC,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQwkC,sBAAwBxkC,EAAQy/B,mBAAqBz/B,EAAQ0/B,kBAAe,EACpF,IAAI1zB,EAAQtL,EAAQ,OACpBZ,OAAOC,eAAeC,EAAS,eAAgB,CAAEwB,YAAY,EAAMC,IAAK,WAAc,OAAOuK,EAAM0zB,YAAc,IACjH5/B,OAAOC,eAAeC,EAAS,qBAAsB,CAAEwB,YAAY,EAAMC,IAAK,WAAc,OAAOuK,EAAMyzB,kBAAoB,IAC7H,IAAImR,EAAYlwC,EAAQ,OACxBZ,OAAOC,eAAeC,EAAS,wBAAyB,CAAEwB,YAAY,EAAMC,IAAK,WAAc,OAAOmvC,EAAUpM,qBAAuB,G,mCCHvI,SAAS/E,EAAmB17B,GACxB,MAAsB,MAAlBA,EAAIqT,OAAO,GACJrT,EAAIqT,MAAM,GAAI,GAElBrT,CACX,CACA,SAAS27B,EAAa37B,EAAK20B,GACvB,OAAO+G,EAAmB17B,GAAO,IAAM20B,CAC3C,CAXA54B,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQy/B,mBAAqBA,EAC7Bz/B,EAAQ0/B,aAAeA,C,qCCHXh/B,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAACA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OACb,IAAIwB,EAAatB,MAAQA,KAAKsB,WAAc,SAAUC,EAASC,EAAYC,EAAGC,GAC1E,SAASC,EAAMtC,GAAS,OAAOA,aAAiBoC,EAAIpC,EAAQ,IAAIoC,GAAE,SAAUG,GAAWA,EAAQvC,EAAQ,GAAI,CAC3G,OAAO,IAAKoC,IAAMA,EAAII,WAAU,SAAUD,EAASE,GAC/C,SAASC,EAAU1C,GAAS,IAAM2C,EAAKN,EAAUO,KAAK5C,GAAS,CAAE,MAAO6C,GAAKJ,EAAOI,EAAI,CAAE,CAC1F,SAASC,EAAS9C,GAAS,IAAM2C,EAAKN,EAAU,SAASrC,GAAS,CAAE,MAAO6C,GAAKJ,EAAOI,EAAI,CAAE,CAC7F,SAASF,EAAKd,GAAUA,EAAOkB,KAAOR,EAAQV,EAAO7B,OAASsC,EAAMT,EAAO7B,OAAOgD,KAAKN,EAAWI,EAAW,CAC7GH,GAAMN,EAAYA,EAAUY,MAAMf,EAASC,GAAc,KAAKS,OAClE,GACJ,EACA/C,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQ6wC,oBAAiB,EACzB,MAAMC,EAAKpwC,EAAQ,MACnB,MAAMmwC,EACF/sC,WAAAA,CAAY0iC,GACR5lC,KAAKmwC,KAAO,CACR,cACA,mBAEJnwC,KAAK4lC,SAAWA,CACpB,CACAwK,oBAAAA,CAAqBC,GACjB,IAAItrC,EAAIwJ,EACR,IAAI+hC,EAAKtwC,KAAKuwC,aAAaF,GAC3B,QAAU/vC,GAANgwC,EACA,MAAM,IAAIJ,EAAG9nC,gBAAgB8nC,EAAG7nC,wBAAwBuW,cAAe,mBAE3E,IAAIiF,EAA6G,QAAjGtV,EAAsC,QAAhCxJ,EAAK/E,KAAK4lC,SAAS1oB,eAA4B,IAAPnY,OAAgB,EAASA,EAAGuY,WAAW,cAA2B,IAAP/O,OAAgB,EAASA,EAAGsV,SAASzL,QAAO,SAAUmuB,GAC3K,OAAOA,EAAQj0B,WAAW+9B,EAC9B,IACA,QAAgB/vC,GAAZujB,GAAyBA,EAASxc,OAAS,EAC3C,MAAM,IAAI6oC,EAAG9nC,gBAAgB8nC,EAAG7nC,wBAAwBuW,cAAe,wBAE3E,IAAI2nB,EAAU1iB,EAAS,GACvB,MAAMJ,EAAU8iB,EAAQ1kB,MAAM,KAAK,GACnC,OAAO4B,CACX,CACA+sB,UAAAA,CAAWH,GACP,IAAItrC,EAAIwJ,EAAIC,EACZ,IAAI8hC,EAAKtwC,KAAKuwC,aAAaF,GAC3B,QAAU/vC,GAANgwC,EACA,MAAM,IAAIJ,EAAG9nC,gBAAgB8nC,EAAG7nC,wBAAwBuW,cAAe,mBAE3E,IAAIqF,EAA4J,QAAnJzV,EAAoG,QAA9FD,EAAsC,QAAhCxJ,EAAK/E,KAAK4lC,SAAS1oB,eAA4B,IAAPnY,OAAgB,EAASA,EAAGuY,WAAWgzB,UAAwB,IAAP/hC,OAAgB,EAASA,EAAG0V,aAA0B,IAAPzV,OAAgB,EAASA,EAAG6hC,GAChM/iC,EAAY,GAIhB,YAHahN,GAAT2jB,IACA3W,EAAY2W,EAAM,cAEf,CACHR,QAASzjB,KAAKowC,qBAAqBC,GACnC/iC,UAAWA,EAEnB,CAQAmjC,WAAAA,CAAYJ,EAASK,EAAS1hB,GAC1B,OAAO1tB,EAAUtB,UAAM,OAAQ,GAAQ,YACnC,IAAIswC,EAAKtwC,KAAKuwC,aAAaF,GAC3B,QAAU/vC,GAANgwC,EACA,MAAM,IAAIJ,EAAG9nC,gBAAgB8nC,EAAG7nC,wBAAwBuW,cAAe,mBAE3E,GAAgB,cAAZ8xB,EACA,MAAM,IAAIR,EAAG9nC,gBAAgB8nC,EAAG7nC,wBAAwBuW,cAAe,uCAE3E,IAAItV,EAAS,CACTonC,QAASA,EACT/mB,KAAM3pB,KAAKowC,qBAAqBC,IAEhCrhB,IACA1lB,EAAO0lB,KAAOA,GAElB,IACI,MAAM2hB,QAAY3wC,KAAK4lC,SAAShrB,QAAQ,CACpChJ,OAAQ,kBACRtI,OAAQA,GACT+mC,GACH,GAAI,WAAYM,EACZ,OAAOA,EAAIzvC,OAEV,CACD,IAAI0vC,EAAYD,EAChB,OAAOC,EAAU1/B,KACrB,CACJ,CACA,MAAOA,GACH,MAAM,IAAIg/B,EAAG9nC,gBAAgB8nC,EAAG7nC,wBAAwBuW,cAAe,2CAC3E,CACJ,GACJ,CASAiyB,WAAAA,CAAYR,EAASS,EAAWC,EAAU3e,GACtC,OAAO9wB,EAAUtB,UAAM,OAAQ,GAAQ,YACnC,IAAIswC,EAAKtwC,KAAKuwC,aAAaF,GAC3B,QAAU/vC,GAANgwC,EACA,MAAM,IAAIJ,EAAG9nC,gBAAgB8nC,EAAG7nC,wBAAwBuW,cAAe,mBAE3E,IAAItV,EAAS,CACTqgB,KAAM3pB,KAAKowC,qBAAqBC,GAChCW,GAAIF,EACJzxC,OAAQ0xC,EAAW,KAAWpsC,aAElB,OAAZytB,QAAgC,IAAZA,OAAqB,EAASA,EAAQ6e,WAC1D3nC,EAAO,YAAc8oB,EAAQ6e,QAAQtsC,YAEzC,IAAIzD,QAAelB,KAAKkG,KAAKmqC,EAAS/mC,GACtC,YAAehJ,IAAXY,GAAyB,WAAYA,EAE9BA,EAAOgwC,OAGXhwC,CACX,GACJ,CAOAgF,IAAAA,CAAKmqC,EAAShiC,GACV,OAAO/M,EAAUtB,UAAM,OAAQ,GAAQ,YACnC,IAAIswC,EAAKtwC,KAAKuwC,aAAaF,GAC3B,QAAU/vC,GAANgwC,EACA,MAAM,IAAIJ,EAAG9nC,gBAAgB8nC,EAAG7nC,wBAAwBuW,cAAe,mBAE3E,IAAK5e,KAAKmxC,gBAAgB9iC,EAAO,KAAM,SACnC,MAAM,IAAI6hC,EAAG9nC,gBAAgB8nC,EAAG7nC,wBAAwBuW,cAAe,iCAE3EvQ,EAAM,QAAUrO,KAAKowC,qBAAqBC,GAC1C,IACI,MAAMM,QAAY3wC,KAAK4lC,SAAShrB,QAAQ,CACpChJ,OAAQ,WACRtI,OAAQ+E,GACTgiC,GACH,GAAI,WAAYM,EACZ,MAAO,CACHO,OAAQP,EAAIzvC,QAGf,CACD,IAAI0vC,EAAYD,EAChB,OAAOC,EAAU1/B,KACrB,CACJ,CACA,MAAOA,GACH,MAAM,IAAIg/B,EAAG9nC,gBAAgB8nC,EAAG7nC,wBAAwBuW,cAAe,kCAAkC1N,IAC7G,CACJ,GACJ,CAMAkgC,QAAAA,CAASf,EAASgB,EAASjf,GACvB,OAAO9wB,EAAUtB,UAAM,OAAQ,GAAQ,YACnC,OAAO,IAAI6B,SAAQ,CAACD,EAASE,KACzB9B,KAAKsxC,UAAUjB,EAAS,CAACgB,GAAU,CAACjf,IAAU/vB,MAAKkvC,IAC/C,IAAI7Y,EAAU3d,KAAK6e,MAAM2X,GACzB3vC,EAAQ82B,EAAQ,GAAG,IACpBjnB,OAAMP,IACLpP,EAAOoP,EAAM,GACf,GAEV,GACJ,CAQAogC,SAAAA,CAAUjB,EAASmB,EAAUpf,GACzB,OAAO9wB,EAAUtB,UAAM,OAAQ,GAAQ,YACnC,IAAIswC,EAAKtwC,KAAKuwC,aAAaF,GAC3B,QAAU/vC,GAANgwC,EACA,MAAM,IAAIJ,EAAG9nC,gBAAgB8nC,EAAG7nC,wBAAwBuW,cAAe,mBAE3E,QAAiBte,IAAbkxC,EACA,MAAM,IAAItB,EAAG9nC,gBAAgB8nC,EAAG7nC,wBAAwBuW,cAAe,qCAE3E,IAAItV,EAAS,CACTkoC,SAAUA,EACVpf,QAASA,GAEb9oB,EAAOqgB,KAAO3pB,KAAKowC,qBAAqBC,GACxC,IACI,MAAMM,QAAY3wC,KAAK4lC,SAAShrB,QAAQ,CACpChJ,OAAQ,gBACRtI,OAAQA,GACT+mC,GACH,GAAI,WAAYM,EACZ,OAAOA,EAAIzvC,OAEV,CACD,IAAI0vC,EAAYD,EAChB,OAAOC,EAAU1/B,KACrB,CACJ,CACA,MAAOA,GACH,MAAM,IAAIg/B,EAAG9nC,gBAAgB8nC,EAAG7nC,wBAAwBuW,cAAe,kCAAkC1N,IAC7G,CACJ,GACJ,CAQAugC,eAAAA,CAAgBpB,EAASgB,EAASjf,GAC9B,OAAO9wB,EAAUtB,UAAM,OAAQ,GAAQ,YACnC,IAAIswC,EAAKtwC,KAAKuwC,aAAaF,GAC3B,QAAU/vC,GAANgwC,EACA,MAAM,IAAIJ,EAAG9nC,gBAAgB8nC,EAAG7nC,wBAAwBuW,cAAe,mBAE3E,QAAgBte,IAAZ+wC,EACA,MAAM,IAAInB,EAAG9nC,gBAAgB8nC,EAAG7nC,wBAAwBuW,cAAe,qCAE3E,IAAItV,EAAS,CACT+nC,QAASA,EACTjf,QAASA,GAEb9oB,EAAOqgB,KAAO3pB,KAAKowC,qBAAqBC,GACxC,IACI,MAAMM,QAAY3wC,KAAK4lC,SAAShrB,QAAQ,CACpChJ,OAAQ,sBACRtI,OAAQA,GACT+mC,GACH,GAAI,WAAYM,EACZ,OAAO51B,KAAK6e,MAAM+W,EAAIzvC,QAErB,CACD,IAAI0vC,EAAYD,EAChB,OAAOC,EAAU1/B,KACrB,CACJ,CACA,MAAOA,GACH,MAAM,IAAIg/B,EAAG9nC,gBAAgB8nC,EAAG7nC,wBAAwBuW,cAAe,kCAAkC1N,IAC7G,CACJ,GACJ,CAOAwgC,eAAAA,CAAgBrB,EAAS5sB,EAASkuB,EAAevf,GAC7C,OAAO9wB,EAAUtB,UAAM,OAAQ,GAAQ,YACnC,IAAI4xC,EAAY,CACZnuB,QAASA,EACTkuB,cAAeA,EACfvf,QAASA,GAETke,EAAKtwC,KAAKuwC,aAAaF,GAC3B,QAAU/vC,GAANgwC,EACA,MAAM,IAAIJ,EAAG9nC,gBAAgB8nC,EAAG7nC,wBAAwBuW,cAAe,mBAE3E,GAAgB,cAAZ6E,EACA,MAAM,IAAIysB,EAAG9nC,gBAAgB8nC,EAAG7nC,wBAAwBuW,cAAe,2CAE3E,IAAIqyB,EAAU,EACV7e,GAAY,YAAaA,IACzB6e,EAAU7e,EAAQ6e,SAEtB,IAAIY,EAAS,GACTloB,EAAO3pB,KAAKowC,qBAAqBC,GACrC,IAAIyB,EAAa,EACjB,GAAsB,cAAlBH,EAA+B,CAC/B,IAAII,EAAe,aACfC,EAAiB,aACC,OAAlBL,QAA4C,IAAlBA,OAA2B,EAASA,EAAcrO,cAAc2O,SAASF,EAAazO,iBAChHwO,EAAa,EACbH,EAAgB3xC,KAAKkyC,aAAaP,EAAeI,KAE1B,OAAlBJ,QAA4C,IAAlBA,OAA2B,EAASA,EAAcrO,cAAc2O,SAASD,EAAe1O,kBACvHqO,EAAgB3xC,KAAKkyC,aAAaP,EAAeK,GAEzD,CACA,IAAI1oC,EAAS,CACT6oC,SAAU,EACVlB,QAASA,EACTmB,OAAQ,KACRpB,GAAIvtB,EACJ4uB,UAAW,CACP,CACIC,WAAY,IACZC,MAAOZ,EACPG,WAAYA,EACZD,OAAQA,EACRF,cAAe,GACfhoB,KAAMA,IAGdioB,UAAWA,GAEf,IACI,MAAMjB,QAAY3wC,KAAK4lC,SAAShrB,QAAQ,CACpChJ,OAAQ,sBACRtI,OAAQA,GACT+mC,GACH,GAAI,WAAYM,EACZ,OAAOA,EAAIzvC,OAEV,CACD,IAAI0vC,EAAYD,EAChB,OAAOC,EAAU1/B,KACrB,CACJ,CACA,MAAOA,GACH,MAAM,IAAIg/B,EAAG9nC,gBAAgB8nC,EAAG7nC,wBAAwBuW,cAAe,2CAC3E,CACJ,GACJ,CACAszB,YAAAA,CAAa7wB,EAAKmxB,GACd,OAAInxB,EAAI4wB,SAASO,GACNnxB,EAAI7K,MAAM,EAAG6K,EAAIha,OAASmrC,EAAOnrC,QAErCga,CACX,CACA8vB,eAAAA,CAAgB7nC,KAAWugB,GACvB,IAAI4oB,EAAc,GAMlB,OALA5oB,EAAK7Z,SAAQ+D,IACH,GAAGA,MAASzK,GACdmpC,EAAYl8B,KAAKxC,EACrB,MAEA0+B,EAAYprC,OAAS,KACrBitB,QAAQxxB,IAAI,iBAAkB2vC,EAAYv6B,KAAK,OACxC,EAGf,CAMAq4B,YAAAA,CAAaF,GACT,GAAIrwC,KAAKmwC,KAAK93B,SAASg4B,GAAU,CAC7B,IAAKqC,EAAcrc,GAAKga,EAAQxuB,MAAM,KACtC,OAAO6wB,CACX,CAEJ,EAEJtzC,EAAQ6wC,eAAiBA,EACzB7wC,EAAAA,WAAkB6wC,C,qCC1WNnwC,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAACA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OACb,IAAIwB,EAAatB,MAAQA,KAAKsB,WAAc,SAAUC,EAASC,EAAYC,EAAGC,GAC1E,SAASC,EAAMtC,GAAS,OAAOA,aAAiBoC,EAAIpC,EAAQ,IAAIoC,GAAE,SAAUG,GAAWA,EAAQvC,EAAQ,GAAI,CAC3G,OAAO,IAAKoC,IAAMA,EAAII,WAAU,SAAUD,EAASE,GAC/C,SAASC,EAAU1C,GAAS,IAAM2C,EAAKN,EAAUO,KAAK5C,GAAS,CAAE,MAAO6C,GAAKJ,EAAOI,EAAI,CAAE,CAC1F,SAASC,EAAS9C,GAAS,IAAM2C,EAAKN,EAAU,SAASrC,GAAS,CAAE,MAAO6C,GAAKJ,EAAOI,EAAI,CAAE,CAC7F,SAASF,EAAKd,GAAUA,EAAOkB,KAAOR,EAAQV,EAAO7B,OAASsC,EAAMT,EAAO7B,OAAOgD,KAAKN,EAAWI,EAAW,CAC7GH,GAAMN,EAAYA,EAAUY,MAAMf,EAASC,GAAc,KAAKS,OAClE,GACJ,EACA/C,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQuzC,uBAAoB,EAC5B,MAAMrN,EAASxlC,EAAQ,OACvB,MAAM6yC,EACFzvC,WAAAA,CAAY0iC,GACR5lC,KAAK4lC,SAAWA,CACpB,CACA4K,UAAAA,CAAWH,GACP,IAAItrC,EAAIwJ,EAAIC,EAAIC,EAAIC,EAAIC,GACxB,EAAI22B,EAAO/gC,UAAU,wCAAyC8rC,IAC9D,EAAI/K,EAAO/gC,UAAU,2CAA4CwW,KAAKC,UAA2C,QAAhCjW,EAAK/E,KAAK4lC,SAAS1oB,eAA4B,IAAPnY,OAAgB,EAASA,EAAGuY,aACrJ,IAAIipB,EAAgI,QAArH/3B,EAAsC,QAAhCD,EAAKvO,KAAK4lC,SAAS1oB,eAA4B,IAAP3O,OAAgB,EAASA,EAAG+O,WAAWgoB,EAAO5T,2BAAwC,IAAPljB,OAAgB,EAASA,EAAGqV,SAASzL,QAAO,SAAUmuB,GAC9L,OAAOA,EAAQj0B,WAAW+9B,EAC9B,IAAG,GAEH,IADA,EAAI/K,EAAO/gC,UAAU,wCAAyCwW,KAAKC,UAAUurB,KACxEA,EAID,OAEJ,MAAMqM,EAAerM,EAAQ1kB,MAAM,KAC7B4B,EAAU8iB,EAAQ1kB,MAAM,KAAK,IACnC,EAAIyjB,EAAO/gC,UAAU,wCAAyCkf,GAC9D,IAAIQ,EAAmL,QAA1KtV,EAA2H,QAArHD,EAAsC,QAAhCD,EAAKzO,KAAK4lC,SAAS1oB,eAA4B,IAAPzO,OAAgB,EAASA,EAAG6O,WAAWgoB,EAAO5T,2BAAwC,IAAPhjB,OAAgB,EAASA,EAAGuV,aAA0B,IAAPtV,OAAgB,EAASA,EAAI,GAAGikC,EAAa,MAAMA,EAAa,MAC3PtlC,EAAY,GAKhB,YAJahN,GAAT2jB,IACA3W,EAAY2W,EAAM,aAClBqQ,QAAQxxB,IAAI,kBAAmBwK,IAE9BmW,EAME,CACHovB,KAAM,YACNpvB,QAASA,EACTqvB,cAAervB,EACfsvB,OAAQ/yC,KAAKgzC,gBAAgB1lC,SAVjC,CAYJ,CACA2lC,aAAAA,CAAc5C,EAAS6C,EAAe5uC,GAClC,OAAOhD,EAAUtB,UAAM,OAAQ,GAAQ,YACnC,MAAMyc,EAAgB+T,OAAO9T,KAAKpY,GAC5B6uC,EAAU,CACZnF,SAAU,GACVoF,eAAgB,IAChBC,SAAU,IACVC,IAAK,CACDC,IAAK,IACLjF,OAAQ,IAEZkF,KAAM,CAAC,CACC,KAAQ,mBACR,MAAS,CACL,OAAUN,EACV,KAAQz2B,KAGpBg3B,KAAM,IAEV,IAAIC,EAAW,CACX,QAAWrD,EACX,OAAU,uBACV,OAAU,CACN,OAAU6C,EACV,SAAY7C,EAAQxuB,MAAM,KAAK,GAC/B,KAAQsxB,IAGhB,IACI,MAAMxC,QAAY3wC,KAAK4lC,SAAShrB,QAAQ84B,EAAUrD,GAClD,GAAI,WAAYM,EACZ,MAAyB,iBAAdA,EAAIzvC,OACJ6Z,KAAK6e,MAAM+W,EAAIzvC,QAGfyvC,EAAIzvC,OAGd,CACD,IAAI0vC,EAAYD,EAChB,OAAOC,EAAU1/B,KACrB,CACJ,CACA,MAAOA,GACH,OAAOA,CAEX,CACJ,GACJ,CACAyiC,SAAAA,CAAUtD,EAAS6C,EAAeC,EAASS,GACvC,OAAOtyC,EAAUtB,UAAM,OAAQ,GAAQ,YACnC,GAA4B,oBAAxBmzC,EAAQK,KAAK,GAAGxkB,KAA4B,CAC5C,IAAI0kB,EAAW,CACX,QAAWrD,EACX,OAAU,uBACV,OAAU,CACN,OAAU6C,EACV,SAAY7C,EAAQxuB,MAAM,KAAK,GAC/B,KAAQsxB,IAGhB,IACI,MAAMxC,QAAY3wC,KAAK4lC,SAAShrB,QAAQ84B,EAAUrD,GAClD,GAAI,WAAYM,EACZ,OAAOA,EAAIzvC,OAEV,CACD,IAAI0vC,EAAYD,EAChB,OAAOC,EAAU1/B,KACrB,CACJ,CACA,MAAOA,GACH,OAAOA,CAEX,CACJ,KACK,CACD,IAAIwiC,EAAW,CACX,QAAWrD,EACX,OAAU,mBACV,OAAU,CACN,OAAU6C,EACV,QAAW7C,EAAQxuB,MAAM,KAAK,GAC9B,SAAYsxB,EACZ,YAAeS,IAGvB,IACI,MAAMjD,QAAY3wC,KAAK4lC,SAAShrB,QAAQ84B,EAAUrD,GAClD,GAAI,WAAYM,EAAK,CACjB,MAAMkD,EAAU94B,KAAK6e,MAAM+W,EAAIzvC,QAG/B,OAFAozB,QAAQxxB,IAAI,UAAWqwC,EAASU,EAAQV,SACxCA,EAAQG,IAAMO,EAAQV,QAAQG,IACvB,CAAEQ,OAAQX,EAASlxB,UAAW4xB,EAAQ5xB,UACjD,CACK,CACD,IAAI2uB,EAAYD,EAChB,OAAOC,EAAU1/B,KACrB,CACJ,CACA,MAAOA,GAEH,OAAOA,CACX,CACJ,CACJ,GACJ,CACA6iC,UAAAA,CAAW1D,EAAS6C,EAAeC,EAASS,GACxC,OAAOtyC,EAAUtB,UAAM,OAAQ,GAAQ,YACnC,MAAMoU,EAAS,CACX4/B,UAAWh0C,KAAKi0C,YAAYd,EAAQa,WACpCE,cAAel0C,KAAKi0C,YAAYd,EAAQe,eACxC7D,QAAS8C,EAAQ9C,QACjB8D,cAAehB,EAAQgB,cAAgBhB,EAAQgB,cAAcxvC,WAAa,KAC1EivC,YAAaA,GAA4B,MAE7C,IAAItvC,EAAO,CACP,QAAW+rC,EACX,OAAU,oBACV,OAAU,CACN,OAAU6C,EACV,QAAW7C,EAAQxuB,MAAM,KAAK,GAC9B,SAAYzN,IAGpB,IACI,MAAMu8B,QAAY3wC,KAAK4lC,SAAShrB,QAAQtW,EAAM+rC,GAC9C,GAAI,WAAYM,EAAK,CACjB,MAAM9Y,EAAM9c,KAAK6e,MAAM+W,EAAIzvC,QAG3B,OAFAozB,QAAQxxB,IAAI,oBAAqB+0B,GACjCsb,EAAQe,cAAgBl0C,KAAKo0C,gBAAgBvc,EAAIsb,QAAQe,eAClD,CAAEJ,OAAQX,EAASlxB,UAAW4V,EAAI5V,UAC7C,CACJ,CACA,MAAO/Q,GACH,OAAOA,CAEX,CACJ,GACJ,CACAkjC,eAAAA,CAAgB5qC,GACZ,IAAI6qC,EAAS/lB,WAAW3E,KAAK,IAC7B,IAEQ0qB,EADmB,kBAAZ7qC,EACExJ,KAAKgzC,gBAAgBxpC,EAAQsI,QAAQ,KAAM,KAG3Cwc,WAAW3E,KAAKngB,EAEjC,CACA,MAAOrB,GACHmsB,QAAQxxB,IAAI,0BAA0BqF,IAC1C,CACA,OAAOksC,CACX,CACAJ,WAAAA,CAAYK,GACR,IAAIC,EAAS,IAAI,IAAIjmB,WAAWgmB,IAC3B19B,KAAI49B,GAAKA,EAAE7vC,SAAS,IAAI8vC,SAAS,EAAG,OACpCv8B,KAAK,IACV,MAAO,KAAOq8B,CAClB,CACAvB,eAAAA,CAAgBlS,GACZ,GAAIA,EAAUz5B,OAAS,IAAM,EACzB,KAAM,oBAGV,IADA,IAAIqtC,EAAc,IAAIpmB,WAAWwS,EAAUz5B,OAAS,GAC3CsM,EAAI,EAAGA,EAAImtB,EAAUz5B,OAAQsM,GAAK,EAAG,CAC1C,IAAIghC,EAAYhW,SAASmC,EAAUnD,OAAOhqB,EAAG,GAAI,IACjD,GAAIihC,MAAMD,GACN,KAAM,oBAEVD,EAAY/gC,EAAI,GAAKghC,CACzB,CACA,OAAOD,CACX,EAEJt1C,EAAQuzC,kBAAoBA,C,qCCtOhB7yC,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAACA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OACb,IAAIwB,EAAatB,MAAQA,KAAKsB,WAAc,SAAUC,EAASC,EAAYC,EAAGC,GAC1E,SAASC,EAAMtC,GAAS,OAAOA,aAAiBoC,EAAIpC,EAAQ,IAAIoC,GAAE,SAAUG,GAAWA,EAAQvC,EAAQ,GAAI,CAC3G,OAAO,IAAKoC,IAAMA,EAAII,WAAU,SAAUD,EAASE,GAC/C,SAASC,EAAU1C,GAAS,IAAM2C,EAAKN,EAAUO,KAAK5C,GAAS,CAAE,MAAO6C,GAAKJ,EAAOI,EAAI,CAAE,CAC1F,SAASC,EAAS9C,GAAS,IAAM2C,EAAKN,EAAU,SAASrC,GAAS,CAAE,MAAO6C,GAAKJ,EAAOI,EAAI,CAAE,CAC7F,SAASF,EAAKd,GAAUA,EAAOkB,KAAOR,EAAQV,EAAO7B,OAASsC,EAAMT,EAAO7B,OAAOgD,KAAKN,EAAWI,EAAW,CAC7GH,GAAMN,EAAYA,EAAUY,MAAMf,EAASC,GAAc,KAAKS,OAClE,GACJ,EACA/C,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQy1C,oBAAiB,EACzB,MAAM3E,EAAKpwC,EAAQ,MACbwlC,EAASxlC,EAAQ,OACvB,MAAM+0C,EACF3xC,WAAAA,CAAYxB,GACR1B,KAAK6lC,0BAA4B,GACjC7lC,KAAK8lC,+BAAiC,GACtC9lC,KAAK4lC,SAAWlkC,EAChB1B,KAAK4lC,SAAS7+B,GAAG,WAAW,KACxB,IAAI+tC,EAAY90C,KAAKwd,UACrB,EAAI8nB,EAAO/gC,UAAU,gCAAiCwW,KAAKC,UAAU85B,IACrE90C,KAAK6lC,0BAA0B71B,SAAQjG,GAAYA,EAAS+qC,IAAW,IAE3E90C,KAAK4lC,SAAS7+B,GAAG,aAAa,KAC1B,IAAI+tC,EAAY90C,KAAKwd,UACrB,EAAI8nB,EAAO/gC,UAAU,kCAAmCwW,KAAKC,UAAU85B,IACvE90C,KAAK6lC,0BAA0B71B,SAAQjG,GAAYA,EAAS+qC,IAAW,IAE3E90C,KAAK4lC,SAAS7+B,GAAG,cAAc,MAC3B,EAAIu+B,EAAO/gC,UAAU,oCACrBvE,KAAK6lC,0BAA0B71B,SAAQjG,GAAYA,EAAS,OAAM,IAEtE/J,KAAK4lC,SAAS7+B,GAAG,iBAAkBmK,KAC/B,EAAIo0B,EAAO/gC,UAAU,sCAAuCwW,KAAKC,UAAU9J,IAC3ElR,KAAK8lC,+BAA+B91B,SAAQy3B,GAAiBA,EAAcv2B,IAAO,GAE1F,CACAo1B,SAAAA,GACI,QAAItmC,KAAK4lC,SAASU,eACLtmC,KAAK4lC,SAAS1oB,QAAQI,WAAW,MAGlD,CACAipB,OAAAA,GACI,IACI,IAAKvmC,KAAK4lC,SAAS1oB,QACf,OAAO,KAEX,IAAIguB,EAAelrC,KAAK4lC,SAAS1oB,QAAQI,WAAW,OACpD,IAAK4tB,IAAiBA,EAAa9lC,UAAY8lC,EAAa9lC,QAAQue,SAChE,OAAO,KAEX,IAAIA,EAAWunB,EAAa9lC,QAAQue,SACpC,MAAO,CACHF,QAASE,EAASF,QAClBY,MAAOV,EAASD,QAChB2jB,gBAAiB1jB,EAAS0jB,gBAC1B/5B,UAAWqW,EAASrW,UAE5B,CACA,MAAOpL,GAEH,OADA,EAAIojC,EAAO/gC,UAAU,iCAAkCwW,KAAKC,UAAU9Y,IAC/D,IACX,CACJ,CACAsb,MAAAA,GACI,GAAIxd,KAAKsmC,YACL,IACI,IAAIyO,EAAgB/0C,KAAK4lC,SAAS1oB,QAAQM,OACtCquB,EAAgB,CAChBzT,SAAU2c,EAAc3c,SACxBnB,QAAS8d,EAAc9d,QACvB6U,WAAYiJ,EAAcjJ,WAC1BruB,mBAAoBs3B,EAAct3B,mBAClC+qB,SAAU,CAAC,wBAEf,MAAMhrB,EAAS,CACXgmB,OAAQqI,EACRjG,SAAU,OACVW,QAASvmC,KAAKumC,WAElB,IAAI2E,EAAelrC,KAAK4lC,SAAS1oB,QAAQI,WAAW,OAOpD,OANI4tB,GAAgBA,EAAa9lC,SAAW8lC,EAAa9lC,QAAQwe,YAC7DpG,EAAO8pB,aAAe,CAClB9jB,SAAU0nB,EAAa9lC,QAAQwe,aAGvC,EAAI0hB,EAAO/gC,UAAU,0BAA2BwW,KAAKC,UAAUwC,IACxDA,CACX,CACA,MAAOtb,GAEH,OADA,EAAIojC,EAAO/gC,UAAU,gCAAiCwW,KAAKC,UAAU9Y,IAC9D,IACX,CAEJ,OAAO,IACX,CACA2lC,cAAAA,CAAe99B,EAAU09B,GAKrB,OAJAznC,KAAK6lC,0BAA0BtvB,KAAKxM,GAChC09B,GACAznC,KAAK8lC,+BAA+BvvB,KAAKkxB,GAEtC,KACHznC,KAAK6lC,0BAA4B7lC,KAAK6lC,0BAA0BztB,QAAOhB,GAAQA,IAASrN,IACpF09B,IACAznC,KAAK8lC,+BAAiC9lC,KAAK8lC,+BAA+B1tB,QAAOhB,GAAQA,IAASqwB,IACtG,CAER,CACAW,eAAAA,CAAgBC,GACZ,OAAO/mC,EAAUtB,UAAM,OAAQ,GAAQ,YACnC,GAAIqoC,EAAY3kB,SAAW2kB,EAAY3kB,UAAY4hB,EAAOvV,SAASilB,QAC/D,MAAM,IAAI9E,EAAG9nC,gBAAgB8nC,EAAG7nC,wBAAwBuW,cAAe,gDAK3E,GAHKypB,EAAY3kB,UACb2kB,EAAY3kB,QAAU4hB,EAAOvV,SAASilB,SAEtCh1C,KAAK4lC,SAAS1oB,UACTmrB,EAAY1e,KAAM,CACnB,MAAM9F,EAAW7jB,KAAK4lC,SAASqP,6BAA6B,OAC5D5M,EAAY1e,KAAO9F,EAAS,EAChC,CAEJ,MAAMqxB,EAAgB,CAClBtjC,OAAQ,sBACRtI,OAAQ++B,GAEZ,IAAIhkB,EAAQ,OAASihB,EAAOvV,SAASilB,QAErC,OADA,EAAI1P,EAAO/gC,UAAU,kDAAmD8f,EAAOtJ,KAAKC,UAAUk6B,IACvFl1C,KAAK4lC,SAAShrB,QAAQs6B,EAAe7wB,EAChD,GACJ,EAEJjlB,EAAQy1C,eAAiBA,EACzBz1C,EAAAA,WAAkBy1C,C,qCCvIN/0C,EAAA,OAAAA,EAAA,OAACA,EAAA,OAAAA,EAAA,OACb,IAAIwB,EAAatB,MAAQA,KAAKsB,WAAc,SAAUC,EAASC,EAAYC,EAAGC,GAC1E,SAASC,EAAMtC,GAAS,OAAOA,aAAiBoC,EAAIpC,EAAQ,IAAIoC,GAAE,SAAUG,GAAWA,EAAQvC,EAAQ,GAAI,CAC3G,OAAO,IAAKoC,IAAMA,EAAII,WAAU,SAAUD,EAASE,GAC/C,SAASC,EAAU1C,GAAS,IAAM2C,EAAKN,EAAUO,KAAK5C,GAAS,CAAE,MAAO6C,GAAKJ,EAAOI,EAAI,CAAE,CAC1F,SAASC,EAAS9C,GAAS,IAAM2C,EAAKN,EAAU,SAASrC,GAAS,CAAE,MAAO6C,GAAKJ,EAAOI,EAAI,CAAE,CAC7F,SAASF,EAAKd,GAAUA,EAAOkB,KAAOR,EAAQV,EAAO7B,OAASsC,EAAMT,EAAO7B,OAAOgD,KAAKN,EAAWI,EAAW,CAC7GH,GAAMN,EAAYA,EAAUY,MAAMf,EAASC,GAAc,KAAKS,OAClE,GACJ,EACA/C,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQ+1C,qBAAkB,EAC1B,MAAM7P,EAASxlC,EAAQ,OACvB,MAAMq1C,EACFjyC,WAAAA,CAAY0iC,GACR5lC,KAAKo1C,cAAgB,eACrBp1C,KAAK4lC,SAAWA,CACpB,CACAyP,QAAAA,CAAShF,GAIL,GAHe,MAAXA,IACAA,EAAUrwC,KAAKo1C,eAEf/E,GAAWrwC,KAAKo1C,cAChB,MAAM,IAAI9P,EAAOl9B,gBAAgBk9B,EAAOj9B,wBAAwBitC,oBAAqB,eAAiBjF,EAAU,gCAEpH,OAAOA,CACX,CACAG,UAAAA,CAAWH,GACP,IAAItrC,EAAIwJ,EAAIC,EAAIC,EAAIC,EACpB2hC,EAAUrwC,KAAKq1C,SAAShF,GACxB,IAAI9J,EAA8H,QAAnHh4B,EAAsC,QAAhCxJ,EAAK/E,KAAK4lC,SAAS1oB,eAA4B,IAAPnY,OAAgB,EAASA,EAAGuY,WAAWgoB,EAAO7T,yBAAsC,IAAPljB,OAAgB,EAASA,EAAGsV,SAASzL,QAAO,SAAUmuB,GAC5L,OAAOA,EAAQj0B,WAAW+9B,EAC9B,IAAG,GACH,IAAK9J,EAID,OAEJ,MAAMqM,EAAerM,EAAQ1kB,MAAM,KAC7B4B,EAAU8iB,EAAQ1kB,MAAM,KAAK,GACnC,IAAIoC,EAAiL,QAAxKvV,EAAyH,QAAnHD,EAAsC,QAAhCD,EAAKxO,KAAK4lC,SAAS1oB,eAA4B,IAAP1O,OAAgB,EAASA,EAAG8O,WAAWgoB,EAAO7T,yBAAsC,IAAPhjB,OAAgB,EAASA,EAAGwV,aAA0B,IAAPvV,OAAgB,EAASA,EAAI,GAAGkkC,EAAa,MAAMA,EAAa,MACzPtlC,EAAY,GAIhB,YAHahN,GAAT2jB,IACA3W,EAAY2W,EAAM,cAEjBR,EAME,CACHA,QAASA,QAPb,CASJ,CACA8xB,WAAAA,CAAYl0B,GACR,IAAI0Z,EAAM,GACV,IAAK,IAAIpnB,EAAI,EAAGA,EAAI0N,EAAIha,OAAQsM,IAC5BonB,GAAO1Z,EAAIwZ,WAAWlnB,GAAGhP,SAAS,IAAI8vC,SAAS,EAAG,KAEtD,OAAO1Z,CACX,CACA0V,WAAAA,CAAYnsC,EAAM+rC,GACd,OAAO/uC,EAAUtB,UAAM,OAAQ,GAAQ,YACnCqwC,EAAUrwC,KAAKq1C,SAAShF,GACxB,IAAIqD,EAAW,CACX,QAAWrD,EACX,OAAU,mBACV,OAAU,CACN,QAAWrwC,KAAKu1C,YAAYjxC,KAGpC,IACI,MAAMqsC,QAAY3wC,KAAK4lC,SAAShrB,QAAQ84B,EAAUrD,GAClD,GAAI,WAAYM,EACZ,OAAOA,EAAIzvC,OAEV,CACD,IAAI0vC,EAAYD,EAChB,OAAOC,EAAU1/B,KACrB,CACJ,CACA,MAAOA,GACH,OAAOA,CAEX,CACJ,GACJ,CACAskC,aAAAA,CAAclxC,EAAM+rC,GAChB,OAAO/uC,EAAUtB,UAAM,OAAQ,GAAQ,YACnCqwC,EAAUrwC,KAAKq1C,SAAShF,GACxB,IAAIqD,EAAW,CACX,QAAWrD,EACX,OAAU,qBACV,OAAU,CACN,QAAW/rC,IAGnB,IACI,MAAMqsC,QAAY3wC,KAAK4lC,SAAShrB,QAAQ84B,EAAUrD,GAClD,GAAI,WAAYM,EACZ,OAAOA,EAAIzvC,OAEV,CACD,IAAI0vC,EAAYD,EAChB,OAAOC,EAAU1/B,KACrB,CACJ,CACA,MAAOA,GACH,OAAOA,CAEX,CACJ,GACJ,CACAukC,eAAAA,CAAgBpN,EAAagI,GACzB,OAAO/uC,EAAUtB,UAAM,OAAQ,GAAQ,YACnCqwC,EAAUrwC,KAAKq1C,SAAShF,GACxB,IAAI/rC,EAAO,CACP,OAAU,uBACV,OAAU+jC,GAEd,IACI,MAAMsI,QAAY3wC,KAAK4lC,SAAShrB,QAAQtW,EAAM+rC,GAC9C,GAAI,WAAYM,EAAK,CACjB,IAAI+E,EAEAA,EADqB,iBAAd/E,EAAIzvC,OACA6Z,KAAK6e,MAAM+W,EAAIzvC,QAGfyvC,EAAIzvC,OAEnB,IAAIy0C,EAAa,CAAC,EAClBA,EAAWC,QAAUF,EAASE,QAC9BD,EAAWE,KAAOH,EAASG,KAC3B,IAAIC,EAAU,CAAC,EASf,OARAA,EAAQC,SAAWL,EAASM,SAASD,SACrCD,EAAQG,WAAaP,EAASM,SAASC,WACvCH,EAAQI,gBAAkBR,EAASM,SAASE,gBAC5CJ,EAAQK,eAAiBT,EAASM,SAASG,eAC3CL,EAAQxwB,UAAYowB,EAASM,SAAS1wB,UACtCqwB,EAAWK,SAAWF,EACtBH,EAAWS,aAAeV,EAASU,aACnCT,EAAW1zB,UAAYyzB,EAASzzB,UACzB0zB,CACX,CACJ,CACA,MAAOzkC,GACH,OAAOA,CAEX,CACJ,GACJ,CACAmlC,sBAAAA,CAAuBhO,EAAagI,GAChC,OAAO/uC,EAAUtB,UAAM,OAAQ,GAAQ,YACnCqwC,EAAUrwC,KAAKq1C,SAAShF,GACxB,IAAI/rC,EAAO,CACP,OAAU,8BACV,OAAU+jC,GAEd,IACI,MAAMsI,QAAY3wC,KAAK4lC,SAAShrB,QAAQtW,EAAM+rC,GAC9C,GAAI,WAAYM,EACZ,OAAOA,EAAIzvC,MAEnB,CACA,MAAOgQ,GACH,OAAOA,CAEX,CACJ,GACJ,EAEJ9R,EAAQ+1C,gBAAkBA,C,qCC7Kdr1C,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAACA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OACb,IAAIwB,EAAatB,MAAQA,KAAKsB,WAAc,SAAUC,EAASC,EAAYC,EAAGC,GAC1E,SAASC,EAAMtC,GAAS,OAAOA,aAAiBoC,EAAIpC,EAAQ,IAAIoC,GAAE,SAAUG,GAAWA,EAAQvC,EAAQ,GAAI,CAC3G,OAAO,IAAKoC,IAAMA,EAAII,WAAU,SAAUD,EAASE,GAC/C,SAASC,EAAU1C,GAAS,IAAM2C,EAAKN,EAAUO,KAAK5C,GAAS,CAAE,MAAO6C,GAAKJ,EAAOI,EAAI,CAAE,CAC1F,SAASC,EAAS9C,GAAS,IAAM2C,EAAKN,EAAU,SAASrC,GAAS,CAAE,MAAO6C,GAAKJ,EAAOI,EAAI,CAAE,CAC7F,SAASF,EAAKd,GAAUA,EAAOkB,KAAOR,EAAQV,EAAO7B,OAASsC,EAAMT,EAAO7B,OAAOgD,KAAKN,EAAWI,EAAW,CAC7GH,GAAMN,EAAYA,EAAUY,MAAMf,EAASC,GAAc,KAAKS,OAClE,GACJ,EACIqS,EAAmBtU,MAAQA,KAAKsU,iBAAoB,SAAUrT,GAC9D,OAAQA,GAAOA,EAAIR,WAAcQ,EAAM,CAAE,QAAWA,EACxD,EACA/B,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQk3C,0BAAuB,EAC/B,MAAMC,EAAWz2C,EAAQ,OACnB02C,EAAQ12C,EAAQ,OAChB0C,EAAc1C,EAAQ,OACtB+C,EAAkByR,EAAgBxU,EAAQ,QAC1C22C,EAAW32C,EAAQ,OACnBwlC,EAASxlC,EAAQ,OACjB42C,EAAe52C,EAAQ,OACvB62C,EAAWriC,EAAgBxU,EAAQ,QACnC82C,EAAQtiC,EAAgBxU,EAAQ,QAChC+2C,EAAUviC,EAAgBxU,EAAQ,QAClCg3C,EAAQxiC,EAAgBxU,EAAQ,QAChCi3C,EAAWziC,EAAgBxU,EAAQ,QACnCk3C,EAAS1iC,EAAgBxU,EAAQ,QACjC6C,EAAU7C,EAAQ,OAClBm3C,EAAan3C,EAAQ,OACrBo3C,EAAap3C,EAAQ,OAC3B,MAAMw2C,EACF,WAAOhlC,CAAK6lC,GACR,OAAO71C,EAAUtB,UAAM,OAAQ,GAAQ,YAInC,IAAI4lC,EAcJ,OAjBA,EAAIN,EAAO/gC,UAAU,uCAErB,EAAI5B,EAAQy0C,WAAW,uBAAuB,GAE1C5mB,QAAUA,OAAO6mB,6BAA+B7mB,OAAO6mB,uCAAuCf,IAC9F,EAAIhR,EAAO/gC,UAAU,yCACrBqhC,EAAWpV,OAAO6mB,+BAGlB,EAAI/R,EAAO/gC,UAAU,yCACrBqhC,EAAW,IAAI0Q,EAAqBa,SAC9BvR,EAAS0R,aACX9mB,SACAA,OAAO6mB,4BAA8BzR,KAG7C,EAAIN,EAAOtrB,sBAAsB+c,qBAAqB,0BAA2B,OAAQ6O,EAAS2R,aAAaC,aAAarmC,MACrHy0B,CACX,GACJ,CACA1iC,WAAAA,CAAYi0C,GACRn3C,KAAKy3C,aAAe,CAAC,EACrBz3C,KAAKoD,OAAS,IAAIP,EAAgBsS,QAClCnV,KAAKu3C,aAAeJ,CACxB,CACAv8B,OAAAA,CAAQyZ,EAAMhQ,GACV,OAAO/iB,EAAUtB,UAAM,OAAQ,GAAQ,YAGnC,IAFA,EAAIslC,EAAO/gC,UAAU,0CACrB,EAAI+gC,EAAOv5B,WAAW,0CACjB/L,KAAKsmC,YACN,MAAM,IAAIhB,EAAOl9B,gBAAgBk9B,EAAOj9B,wBAAwBgpB,qBAEpE,MAAM,UAAEvN,EAAS,aAAE4zB,GAAiB13C,KAAK23C,6BAA6BtjB,EAAMhQ,GAC5E,aAAarkB,KAAK43C,YAAY9zB,GAAWlJ,QAAQ88B,EACrD,GACJ,CACAC,4BAAAA,CAA6BtjB,EAAMhQ,GAC/B,IAAItf,GACJ,EAAIugC,EAAO/gC,UAAU,2CAA4C8f,EAAOtJ,KAAKC,UAAUqZ,IACvF,IAAKvQ,EAAWusB,GAAWrwC,KAAK63C,cAAcxzB,GAC9C,IAAKrkB,KAAKkd,QACN,MAAM,IAAIooB,EAAOl9B,gBAAgBk9B,EAAOj9B,wBAAwBuW,cAAe,0CAEnF,IAAIk5B,EAAS54C,OAAO2qB,KAAK7pB,KAAKkd,QAAQI,YACtC,IAAK+G,GAASyzB,GAAUA,EAAOzwC,OAAS,EACpC,MAAM,IAAIi+B,EAAOl9B,gBAAgBk9B,EAAOj9B,wBAAwBgpB,oBAAqB,uEAExE,SAAbvN,GAAmC,WAAXusB,IACxBvsB,EAAY,QACZusB,EAAU,OAEG,YAAbvsB,GAAsC,WAAXusB,IAC3BvsB,EAAY,QACZusB,EAAU,YAEd,MAAMqH,EAAex4C,OAAO+b,OAAO/b,OAAO+b,OAAO,CAAC,EAAGoZ,GAAO,CAAEgc,QAAS,GAAGvsB,KAAausB,IAAWtyB,SAAmC,QAAxBhZ,EAAKsvB,EAAKtW,gBAA6B,IAAPhZ,EAAgBA,EAAK/E,KAAK0b,cAAcqC,WACrL,MAAO,CAAE+F,YAAW4zB,eACxB,CACAK,MAAAA,GACI,OAAOz2C,EAAUtB,UAAM,OAAQ,GAAQ,YACnC,IAAKA,KAAK6sB,OACN,MAAM,IAAIyY,EAAOl9B,gBAAgBk9B,EAAOj9B,wBAAwBuW,cAAe,+BAEnF,IAAK5e,KAAKkd,QAAS,CACf,IAAIld,KAAKg4C,YAIL,MAAM,IAAI1S,EAAOl9B,gBAAgBk9B,EAAOj9B,wBAAwBuW,cAAe,qCAHzE5e,KAAKuI,QAAQvI,KAAKg4C,YAKhC,CACA,MAAMn0B,QAAiB7jB,KAAKi4C,kBAC5B,OAAOp0B,CACX,GACJ,CACAnb,UAAAA,GACI,OAAOpH,EAAUtB,UAAM,OAAQ,GAAQ,YAGnC,IAFA,EAAIslC,EAAO/gC,UAAU,6CACrB,EAAI+gC,EAAOv5B,WAAW,+BACjB/L,KAAKkd,QACN,MAAM,IAAIooB,EAAOl9B,gBAAgBk9B,EAAOj9B,wBAAwBgpB,qBAEpE,OAAO,IAAIxvB,SAASD,GAAYN,EAAUtB,UAAM,OAAQ,GAAQ,YAC5D,IAAIosC,GAAS,EACb,MAAMhD,EAAgBA,IAAM9nC,EAAUtB,UAAM,OAAQ,GAAQ,YACnDosC,IACDA,GAAS,QACHpsC,KAAKk4C,0BACLl4C,KAAKm4C,UACXv2C,KACA,EAAI0jC,EAAO/gC,UAAU,8CACrB,EAAI+gC,EAAOv5B,WAAW,oCAE9B,IACA,UACU/L,KAAK6sB,OAAOnkB,mBACZ0gC,GACV,CACA,MAAOlnC,SACGknC,GACV,CACJ,KACJ,GACJ,CACA8O,iBAAAA,GACI,IAAInzC,EAAIwJ,EACRvO,KAAK6sB,OAAOke,OAAOlxB,kBAAkBnR,aACrC1I,KAAKoD,OAAOwB,KAAK,aAAc,CAAEmJ,MAA+B,QAAvBhJ,EAAK/E,KAAKkd,eAA4B,IAAPnY,OAAgB,EAASA,EAAGgJ,QACpG/N,KAAKoD,OAAOwB,KAAK,iBAAkB,CAAEmJ,MAA+B,QAAvBQ,EAAKvO,KAAKkd,eAA4B,IAAP3O,OAAgB,EAASA,EAAGR,OAC5G,CACAqqC,yBAAAA,CAA0B/H,GACtB,MAAe,iBAAXA,EACO,YAES,oBAAXA,EACE,iBAGAA,CAEf,CACAgI,YAAAA,CAAalB,GACT,IAAIpyC,EAAIwJ,EACR,IAAI+pC,EAA4C,QAA1BvzC,EAAKoyC,EAAK75B,kBAA+B,IAAPvY,OAAgB,EAASA,EAAG,SACpF,QAAsBzE,GAAlBg4C,EAA6B,CAC7B,IAAIC,EAASv4C,KAAKw4C,kBAAkBF,QACbh4C,GAAnB62C,EAAK75B,YAA2B,UAAW65B,EAAK75B,iBAAwBhd,GAAVi4C,IAC9DpB,EAAK75B,WAAWm7B,MAAQF,EAEhC,CACA,IAAIG,EAA0D,QAAlCnqC,EAAK4oC,EAAKwB,0BAAuC,IAAPpqC,OAAgB,EAASA,EAAG,SAClG,QAA4BjO,GAAxBo4C,EAAmC,CACnC,IAAIE,EAAe54C,KAAKw4C,kBAAkBE,QACXp4C,GAA3B62C,EAAKwB,oBAAmC,UAAWxB,EAAKwB,yBAAsCr4C,GAAhBs4C,IAC9EzB,EAAKwB,mBAAmBF,MAAQG,EAExC,CACA,OAAOzB,CACX,CACAqB,iBAAAA,CAAkBF,GACd,IAAIvzC,EASJ,YARsBzE,GAAlBg4C,IACAA,EAAep0B,OAA0C,QAAhCnf,EAAKuzC,EAAep0B,cAA2B,IAAPnf,OAAgB,EAASA,EAAG6R,KAAIy5B,GACtFrwC,KAAKo4C,0BAA0B/H,UAEP/vC,GAA/Bg4C,EAAeO,eACfP,EAAeO,aAAe74C,KAAKo4C,0BAA0BE,EAAeO,gBAG7EP,CACX,CACAQ,gCAAAA,CAAiCzI,GAO7B,OANIA,EAAQh4B,SAAS,aACjBg4B,EAAUA,EAAQv+B,QAAQ,YAAa,iBAElCu+B,EAAQh4B,SAAS,oBACtBg4B,EAAUA,EAAQv+B,QAAQ,iBAAkB,qBAEzCu+B,CACX,CACA0I,mBAAAA,CAAoB77B,GAChB,IAAInY,EACJ,IAAIuY,EAA6F,QAA/EvY,EAAiB,OAAZmY,QAAgC,IAAZA,OAAqB,EAASA,EAAQI,kBAA+B,IAAPvY,OAAgB,EAASA,EAAG,SACrI,QAAkBzE,GAAdgd,QAAgDhd,GAArBgd,EAAW4G,OAAqB,CAC3D5G,EAAW4G,OAAS5G,EAAW4G,OAAOtN,KAAIyN,GAC/BrkB,KAAK84C,iCAAiCz0B,KAEjD/G,EAAWuG,SAAWvG,EAAWuG,SAASjN,KAAK2vB,GACpCvmC,KAAK84C,iCAAiCvS,KAEjD,IAAItiB,EAAQ,CAAC,EACb/kB,OAAO2qB,KAAKvM,EAAW2G,OAAS,CAAC,GAAGjU,SAAQ,CAAC+D,EAAK8C,KACjC7W,KAAK84C,iCAAiC/kC,GACnDkQ,EAAMjkB,KAAK84C,iCAAiC/kC,IAAQ7U,OAAOkwB,QAAoB,OAAZlS,QAAgC,IAAZA,OAAqB,EAASA,EAAQI,WAAW,SAAS2G,QAAU,CAAC,GAAGpN,EAAM,IAEzKyG,EAAW2G,MAAQA,CACvB,EACA,EAAIqhB,EAAO/gC,UAAU,sBAAuB2Y,EAChD,CACAopB,SAAAA,IACI,EAAIhB,EAAO/gC,UAAU,4CACrB,EAAI+gC,EAAOv5B,WAAW,6BACtB,IAAIitC,EAAkBA,KAClB,IACIh5C,KAAKm4C,UACLn4C,KAAK6sB,OAAOke,OAAOlxB,kBAAkBnR,YACzC,CACA,MAAOxG,IACH,EAAIojC,EAAO/gC,UAAU,2BAA4BrC,EACrD,GAEJ,IACI,QAAKlC,KAAKkd,YAELld,KAAK6sB,OAAOke,OAAOlxB,kBAAkBxF,8BACtC2kC,KACO,GAGf,CACA,MAAO92C,GAEH,OADA82C,KACO,CACX,CACJ,CACAC,cAAAA,CAAe9B,EAAM+B,GACjB,OAAO53C,EAAUtB,UAAM,OAAQ,GAAQ,aACnC,EAAIslC,EAAO/gC,UAAU,gDACrB,MAAM40C,EAAcj6C,OAAO+b,OAAO/b,OAAO+b,OAAO,CAAC,EAAGk8B,GAAO,CAAE+B,gBAG7D,OAFA,EAAI5T,EAAO/gC,UAAU,8CAA+CwW,KAAKC,UAAUm8B,KACnF,EAAI7R,EAAO/gC,UAAU,qDAAsDwW,KAAKC,UAAUk+B,UAC7El5C,KAAKuI,QAAQ4wC,EAC9B,GACJ,CACA5wC,OAAAA,CAAQ4uC,GACJ,OAAO71C,EAAUtB,UAAM,OAAQ,GAAQ,YAGnC,IAFA,EAAIslC,EAAO/gC,UAAU,0CACrB,EAAI+gC,EAAOv5B,WAAW,4BACjB/L,KAAK6sB,OACN,MAAM,IAAIyY,EAAOl9B,gBAAgBk9B,EAAOj9B,wBAAwBuW,cAAe,+BAEnF,GAAI5e,KAAKsmC,YACL,OAAOtmC,KAAKkd,QAEhBi6B,EAAOn3C,KAAKq4C,aAAalB,IACzB,EAAI7R,EAAO/gC,UAAU,oCAAqCwW,KAAKC,UAAUm8B,SAC9C72C,IAAvB62C,EAAKz7B,gBACLy7B,EAAKz7B,cAAgB,CAAC,QAEkBpb,IAAxC62C,EAAKz7B,cAAcG,mBACnBs7B,EAAKz7B,cAAcG,kBAAmB,EAAIypB,EAAOtS,sBAErDhzB,KAAKo5C,cAAcjC,GACnB,KACI,EAAI7R,EAAO/gC,UAAU,kDAAkDwW,KAAKC,UAAUm8B,MACtF,IAAIj6B,QAAgBld,KAAK6sB,OAAOtkB,QAAQ4uC,GAGxC,GAFAn3C,KAAK+4C,oBAAoB77B,IACzB,EAAIooB,EAAO/gC,UAAU,2CAA2CwW,KAAKC,UAAUkC,MAC3EA,EAAS,CAKT,GAJAld,KAAKkd,QAAUA,EACfld,KAAK6sB,OAAO3P,QAAUA,GACtB,EAAIooB,EAAO/gC,UAAU,gDAAiDwW,KAAKC,UAAUm8B,IACrFn3C,KAAKmd,YACDg6B,EAAK+B,aAAe/B,EAAK+B,YAAY7xC,OAAS,EAAG,CACjD,IAAIgyC,EAAclC,EAAK+B,YAAY,GAC/BI,EAAmB,GACD,qBAAX9oB,QAA0BA,QAAUA,OAAO+oB,gCAClD,EAAIjU,EAAO/gC,UAAU,uDACjBvE,KAAKkd,QAAQgC,cAAgBlf,KAAKkd,QAAQgC,aAAa7X,OAAS,IAChEiyC,EAAmBt5C,KAAKkd,QAAQgC,iBAIpC,EAAIomB,EAAO/gC,UAAU,8DACjBvE,KAAKkd,QAAQgC,cAAgBlf,KAAKkd,QAAQgC,aAAa7X,OAAS,EAChEiyC,EAAmBt5C,KAAKkd,QAAQgC,aAGhCo6B,EAAiB/iC,MAAK,EAAI0gC,EAAWuC,iCAAiCH,MAG9E,EAAI/T,EAAO/gC,UAAU,+DAA+DwW,KAAKC,UAAUs+B,MACnGnzC,YAAW,KACPnG,KAAKoD,OAAOwB,KAAK,uBAAwB00C,EAAiB,GAC3D,IACP,CACA,OAAOp8B,CACX,CACA,MACJ,CACA,MAAOhM,GAEH,MADA,EAAIo0B,EAAO/gC,UAAU,yCAA0CwW,KAAKC,UAAU9J,IACxEA,CACV,CACJ,GACJ,CACAuoC,gBAAAA,GACI,OAAOn4C,EAAUtB,UAAM,OAAQ,GAAQ,YACnC,IAAI,EAAIk3C,EAAWwC,sBAAsB15C,KAAKkd,QAAQM,QAClD,OAAOxd,KAAK6sB,OAAO8sB,iBAGnB,MAAM,IAAIrU,EAAOl9B,gBAAgBk9B,EAAOj9B,wBAAwBmpB,qBAExE,GACJ,CACAzqB,EAAAA,CAAGjC,EAAOoF,GACNlK,KAAKoD,OAAO2D,GAAGjC,EAAOoF,EAC1B,CACAhC,IAAAA,CAAKpD,EAAOoF,GACRlK,KAAKoD,OAAO8E,KAAKpD,EAAOoF,EAC5B,CACAf,cAAAA,CAAerE,EAAOoF,GAClBlK,KAAKoD,OAAO+F,eAAerE,EAAOoF,EACtC,CACAC,GAAAA,CAAIrF,EAAOoF,GACPlK,KAAKoD,OAAO+G,IAAIrF,EAAOoF,EAC3B,CACA0vC,eAAAA,CAAgBv1B,EAAOw1B,IACnB,EAAIvU,EAAO/gC,UAAU,iDAErB,IAEI,IAAKvE,KAAKsmC,YACN,OACJ,MAAOxiB,EAAWusB,GAAWrwC,KAAK63C,cAAcxzB,GAC1CuhB,EAAW5lC,KAAK43C,YAAY9zB,GAClC8hB,EAASgU,gBAAgBvJ,EAASwJ,EACtC,CACA,MAAO3oC,GAEH,IAAK,sBAAsB2e,KAAK3e,EAAM1H,SAClC,MAAM0H,CACd,CACJ,CACA4oC,YAAAA,GACI,OAAOx4C,EAAUtB,UAAM,OAAQ,GAAQ,YACnC,IAAI+5C,QAAuB/5C,KAAKg6C,aAAa,kBAE7C,IADA,EAAI1U,EAAO/gC,UAAUw1C,GACjBA,EAAgB,CAChB,IAAI3+B,EAAc2+B,EAClB/5C,KAAKkd,QAAU9B,EACfpb,KAAK6sB,OAAO3P,QAAUld,KAAKkd,QAC3Bld,KAAK0b,cAAgBN,EAAYM,cACjC1b,KAAK6sB,OAAOnR,cAAgB1b,KAAK0b,eACjC,EAAI4pB,EAAO/gC,UAAU,mCAAoCvE,KAAKkd,eACxDld,KAAK6sB,OAAOtR,eAAeH,GACjCpb,KAAKi6C,kBACLj6C,KAAKk6C,yBACL/zC,YAAW,KACPnG,KAAKoD,OAAOwB,KAAK,YAAa,CAAEsY,QAASld,KAAKkd,SAAU,GACzD,KACHld,KAAKk6C,wBACT,CACJ,GACJ,CACA5C,UAAAA,GACI,OAAOh2C,EAAUtB,UAAM,OAAQ,GAAQ,aACnC,EAAIslC,EAAO/gC,UAAU,6CACrB,EAAI+gC,EAAOv5B,WAAW,8BACtB,MAAMzH,EAAOpF,OAAO+b,OAAO,CAAE9X,IAAKqtB,OAAOC,SAASC,SAAU/I,OAAQ6I,OAAOC,SAAS9I,QAAU3nB,KAAKu3C,aAAaC,cAChHx3C,KAAK6sB,OAAS,IAAI4pB,EAAS0D,WAAW71C,EAAMtE,KAAKoD,cAC3CpD,KAAK85C,cACf,GACJ,CACAG,eAAAA,GACI,IAAKj6C,KAAK6sB,OACN,MAAM,IAAIyY,EAAOl9B,gBAAgBk9B,EAAOj9B,wBAAwBuW,cAAe,+BAEnF,IAAK5e,KAAKsmC,YACN,MAAM,IAAIhB,EAAOl9B,gBAAgBk9B,EAAOj9B,wBAAwBuW,cAAe,kEAEnF,MAAMw7B,EAAoB,IACnB,IAAI5iC,IAAItY,OAAO2qB,KAAK7pB,KAAKkd,QAAQI,YAAY1G,KAAKkN,IAAc,EAAI4yB,EAAa2D,mBAAmBv2B,OAE3Gs2B,EAAkBpqC,SAAS8T,IACvB,IAAK9jB,KAAKkd,QACN,OACJ,MAAMo9B,EAAkBt6C,KAAKkd,QAAQI,WAC/Bi9B,EAAmBD,EAAgBx2B,GAEzC,QADA,EAAIwhB,EAAO/gC,UAAU,kBAAmBg2C,GAChCz2B,GACJ,IAAK,SACD,MAAMqzB,EAAO,CACTrzB,UAAWy2B,GAEfv6C,KAAKy3C,aAAa3zB,GAAa,IAAIyyB,EAASiE,eAAerD,EAAMn3C,KAAK6sB,OAAQ7sB,KAAKoD,QACnF,MACJ,IAAK,SACD,MAAMq3C,EAAQ,CACV32B,UAAWy2B,GAEf,IAAIG,EAAiB,IAAI/D,EAASxhC,QAAQslC,EAAO,SAAUz6C,KAAK6sB,OAAQ7sB,KAAKoD,QAC7EpD,KAAKy3C,aAAa3zB,GAAa42B,EAC/B,IAAIC,EAAgB,IAAIhE,EAASxhC,QAAQslC,EAAO,QAASz6C,KAAK6sB,OAAQ7sB,KAAKoD,QAC3EpD,KAAKy3C,aAAa,SAAWkD,EAC7B,IAAIC,EAAc,IAAIjE,EAASxhC,QAAQslC,EAAO,MAAOz6C,KAAK6sB,OAAQ7sB,KAAKoD,QACvEpD,KAAKy3C,aAAa,OAASmD,EAE3B,MACJ,IAAK,MACD,MAAMC,EAAU,CACZ/2B,UAAWy2B,GAEf,IAAIO,EAAc,IAAIhE,EAAM3hC,QAAQ0lC,EAAS76C,KAAK6sB,OAAQ7sB,KAAKoD,QAC/DpD,KAAKy3C,aAAa3zB,GAAag3B,EAC/B,MACJ,IAAK,MACD,MAAMC,EAAU,CACZj3B,UAAWy2B,GAEf,IAAIS,EAAc,IAAIxE,EAAMyE,YAAYF,EAAS/6C,KAAK6sB,OAAQ7sB,KAAKoD,QACnE43C,EAAY7pC,KAAO,MACnBnR,KAAKy3C,aAAa3zB,GAAak3B,EAC/B,MACJ,IAAK,MACD,MAAME,EAAU,CACZp3B,UAAWy2B,GAEf,IAAIY,EAAc,IAAIvE,EAAMzhC,QAAQ+lC,EAAS,MAAOl7C,KAAK6sB,OAAQ7sB,KAAKoD,QACtEpD,KAAKy3C,aAAa,OAAS0D,EAC3B,IAAIC,EAAa,IAAIxE,EAAMzhC,QAAQ+lC,EAAS,UAAWl7C,KAAK6sB,OAAQ7sB,KAAKoD,QACzEpD,KAAKy3C,aAAa,WAAa2D,EAC/B,MACJ,IAAK,QACD,IAAIC,EAAgB,IAAIxE,EAAQ1hC,QAAQ,CACpC2O,UAAWy2B,GACZ,QAASv6C,KAAK6sB,OAAQ7sB,KAAKoD,QAC9BpD,KAAKy3C,aAAa3zB,GAAau3B,EAC/B,IAAIC,EAAe,IAAIzE,EAAQ1hC,QAAQ,CACnC2O,UAAWy2B,GACZ,WAAYv6C,KAAK6sB,OAAQ7sB,KAAKoD,QACjCpD,KAAKy3C,aAAa,YAAc6D,EAChC,MACJ,IAAK,SACD,IAAIC,EAAiB,IAAIxE,EAAS5hC,QAAQ,CACtC2O,UAAWy2B,GACZv6C,KAAK6sB,OAAQ7sB,KAAKoD,QACrBpD,KAAKy3C,aAAa3zB,GAAay3B,EAC/B,MACJ,IAAK,OACD,IAAIC,EAAe,IAAIxE,EAAO7hC,QAAQ,CAClC2O,UAAWy2B,GACZv6C,KAAK6sB,OAAQ7sB,KAAKoD,QACrBpD,KAAKy3C,aAAa3zB,GAAa03B,EAC/B,MACR,GAER,CACAtB,sBAAAA,GACI,GAA2B,qBAAhBl6C,KAAK6sB,OACZ,MAAM,IAAIyY,EAAOl9B,gBAAgBk9B,EAAOj9B,wBAAwBuW,cAAe,kCAEnF5e,KAAK6sB,OAAOke,OAAO3wB,uBAAsB,KACrCpa,KAAKk4C,oBACLl4C,KAAKm4C,SAAS,IAElBn4C,KAAK+G,GAAGvE,EAAYi5C,gBAAgBC,uBAAwBC,IACxD37C,KAAK47C,eAAeD,EAAa,IAErC37C,KAAK+G,GAAGvE,EAAYi5C,gBAAgBI,mBAAoBC,IACpD,GAAIA,EAAY,CACZ,MAAMC,EAAe78C,OAAO2qB,KAAKiyB,GAAY,GACzC97C,KAAKkd,UACLld,KAAKkd,QAAQI,WAAWy+B,GAAgBD,EAAWC,GAC/C/7C,KAAKkd,UACLld,KAAKg8C,QAAQ,iBAAkBh8C,KAAKkd,SACpCld,KAAKoD,OAAOwB,KAAK,iBAAkB5E,KAAKkd,WAE5C,EAAIooB,EAAO/gC,UAAU,yDAA0DwW,KAAKC,UAAUhb,KAAKkd,UAE3G,IAER,CACA06B,WAAAA,CAAY9zB,GAGR,OAFA,EAAIwhB,EAAO/gC,UAAU,wBAAyBvE,KAAKy3C,eACnD,EAAInS,EAAO/gC,UAAU,oBAAqBuf,GACnC9jB,KAAKy3C,aAAa3zB,EAC7B,CACAs1B,aAAAA,CAAc9vC,GACVtJ,KAAKg4C,YAAc1uC,EACnB,MAAM,WAAEgU,EAAU,cAAE5B,GAAkBpS,EAChChF,EAAO,CACTqjB,OAAQ6I,OAAOC,SAAS9I,OACxBxkB,IAAKqtB,OAAOC,SAASC,SACrBvf,KAAMnR,KAAKu3C,aAAaC,aAAarmC,KACrC8qC,KAAMj8C,KAAKu3C,aAAaC,aAAayE,MAEzCj8C,KAAK0b,cAAgBxc,OAAO+b,OAAO,CAAEkB,SAAU7X,GAAQoX,IACvD,EAAI4pB,EAAO/gC,UAAU,iCAAkCvE,KAAK0b,eAC5D1b,KAAK6sB,OAAOnR,cAAgB1b,KAAK0b,cACjC1b,KAAKg8C,QAAQ,gBAAiBtgC,EAClC,CACAm8B,aAAAA,CAAcxzB,GACV,IAAItf,EACJ,IAAK+e,EAAWusB,IAAsB,OAAVhsB,QAA4B,IAAVA,OAAmB,EAASA,EAAMxC,MAAM,OAAS,CAAC,GAAI,IACpG,IAAK7hB,KAAKkd,UAAYld,KAAKkd,QAAQI,aAAepe,OAAO2qB,KAAK7pB,KAAKkd,QAAQI,YAAYjW,OAEnF,OADA,EAAIi+B,EAAO/gC,UAAU,mBAAoBuf,EAAWusB,GAC7C,CAACvsB,EAAWusB,GAEvB,GAAIvsB,EAAW,CACX,IAAK9jB,KAAKk8C,0BAA0Bp4B,GAChC,MAAM,IAAIwhB,EAAOl9B,gBAAgBk9B,EAAOj9B,wBAAwBgpB,oBAAqB,cAAcvN,4EAEvG,GAAIusB,GAAWhsB,EAAO,EAClB,EAAIihB,EAAO/gC,UAAU,mCAAiCuf,EAAW/I,KAAKC,UAAUhb,KAAKkd,QAAQI,aAC7F,MAAM6+B,EAA0D,QAA7Cp3C,EAAK/E,KAAKkd,QAAQI,WAAWwG,UAA+B,IAAP/e,OAAgB,EAASA,EAAGmf,OAEpG,IADA,EAAIohB,EAAO/gC,UAAU,wBAAyBwW,KAAKC,UAAUmhC,GAAY93B,GACrE83B,IAAcA,EAAU9jC,SAASgM,GACjC,MAAM,IAAIihB,EAAOl9B,gBAAgBk9B,EAAOj9B,wBAAwBgpB,oBAAqB,oCAAoChN,KAEjI,CACJ,CACA,GAAIP,GAAausB,EAEb,OADA,EAAI/K,EAAO/gC,UAAU,mBAAoBuf,EAAWusB,GAC7C,CAACvsB,EAAWusB,GAEvB,IAAI+L,GAAmB,EAAI1F,EAAa2D,mBAAmBn7C,OAAO2qB,KAAK7pB,KAAKkd,QAAQI,YAAY,IAChG,MAAMu7B,EAAe74C,KAAKy3C,aAAa2E,GAAkBC,kBAEzD,OADA,EAAI/W,EAAO/gC,UAAU,qBAAsBs0C,GACpC,CAACuD,EAAkBvD,EAC9B,CACAqD,yBAAAA,CAA0BI,GACtB,IAAIv3C,EAAIwJ,EACR,GAAIrP,OAAO2qB,MAA8B,QAAvB9kB,EAAK/E,KAAKkd,eAA4B,IAAPnY,OAAgB,EAASA,EAAGuY,aAAe,CAAC,GACxF1G,KAAK7C,IAAQ,EAAI2iC,EAAa2D,mBAAmBtmC,KACjDsE,SAASikC,GACV,OAAO,EAEX,IAAIJ,GAA4B,EAShC,OARAh9C,OAAOkwB,QAAgC,QAAvB7gB,EAAKvO,KAAKkd,eAA4B,IAAP3O,OAAgB,EAASA,EAAG+O,aAAe,CAAC,GACtFtN,SAAQ8T,IACTA,EAAUI,OAAOlU,SAAQqU,IACjBA,EAAMxC,MAAM,KAAK,IAAMy6B,IACvBJ,GAA4B,EAChC,GACF,IAECA,CACX,CACAjH,4BAAAA,CAA6BnxB,GACzB,OAAO9jB,KAAK43C,YAAY9zB,GAAWm0B,iBACvC,CACAsE,gCAAAA,CAAiCz4B,GAC7B,OAAO9jB,KAAK43C,YAAY9zB,GAAWu4B,iBACvC,CACApE,eAAAA,GACI,OAAO32C,EAAUtB,UAAM,OAAQ,GAAQ,YACnC,MAAO8jB,GAAa9jB,KAAK63C,gBACzB,aAAa73C,KAAK43C,YAAY9zB,GAAWm0B,iBAC7C,GACJ,CACA2D,cAAAA,CAAeY,GACX,IAAIz3C,EACJ,KAA8B,QAAvBA,EAAK/E,KAAKkd,eAA4B,IAAPnY,OAAgB,EAASA,EAAGuY,YAC9D,OACJ,MAAOwG,EAAWusB,GAAWrwC,KAAK63C,cAAc2E,GAC3CnM,IAEDrwC,KAAKkd,QAAQI,WAAWwG,KACxB9jB,KAAKkd,QAAQI,WAAWwG,GAAW+0B,aAAexI,EAClDrwC,KAAKg8C,QAAQ,iBAAkBh8C,KAAKkd,UAExCld,KAAKoD,OAAOwB,KAAK,eAAgByrC,GACrC,CACAlzB,SAAAA,GACInd,KAAKi6C,kBACDj6C,KAAKkd,SACLld,KAAKg8C,QAAQ,iBAAkBh8C,KAAKkd,SAExCld,KAAKoD,OAAOwB,KAAK,UAAW,CAAEsY,QAASld,KAAKkd,UAC5Cld,KAAKk6C,wBACT,CACA/B,OAAAA,GACI,OAAO72C,EAAUtB,UAAM,OAAQ,GAAQ,YACnCA,KAAKkd,aAAU5c,EACfN,KAAK6sB,OAAO3P,aAAU5c,EACtBN,KAAKy8C,uBAAoBn8C,EACzBN,KAAKg8C,QAAQ,0BAAsB17C,GACnCN,KAAKg8C,QAAQ,yBAAqB17C,GAClCN,KAAKg8C,QAAQ,sBAAkB17C,EACnC,GACJ,CACA07C,OAAAA,CAAQjoC,EAAKzP,GAET,OADA,EAAIghC,EAAO/gC,UAAU,iCAAkCwP,EAAKzP,GACrDtE,KAAK6sB,OAAOke,OAAOlxB,kBAAkB/F,mBAAmBC,EAAKzP,EACxE,CACA01C,YAAAA,CAAajmC,GACT,OAAOzS,EAAUtB,UAAM,OAAQ,GAAQ,YACnC,OAAOA,KAAK6sB,OAAOke,OAAOlxB,kBAAkB3F,kBAAkBH,EAClE,GACJ,CACA2oC,gBAAAA,CAAiBroB,EAAMhQ,GACnB,IACI,MAAM,UAAEP,EAAS,aAAE4zB,GAAiB13C,KAAK23C,6BAA6BtjB,EAAMhQ,GAC5E,OAAOrkB,KAAK43C,YAAY9zB,GAAW44B,iBAAiBhF,EACxD,CACA,MAAOx1C,GACH,OAAO,CACX,CACJ,EAEJ9C,EAAQk3C,qBAAuBA,EAC/Bl3C,EAAAA,WAAkBk3C,C,oCCxmBlB,IAAIv2C,EAAmBC,MAAQA,KAAKD,kBAAqBb,OAAOe,OAAU,SAASC,EAAGC,EAAGC,EAAGC,QAC7EC,IAAPD,IAAkBA,EAAKD,GAC3B,IAAIG,EAAOrB,OAAOsB,yBAAyBL,EAAGC,GACzCG,KAAS,QAASA,GAAQJ,EAAEM,WAAaF,EAAKG,UAAYH,EAAKI,gBAClEJ,EAAO,CAAEK,YAAY,EAAMC,IAAK,WAAa,OAAOV,EAAEC,EAAI,IAE5DlB,OAAOC,eAAee,EAAGG,EAAIE,EACjC,EAAM,SAASL,EAAGC,EAAGC,EAAGC,QACTC,IAAPD,IAAkBA,EAAKD,GAC3BF,EAAEG,GAAMF,EAAEC,EACd,GACIksB,EAAgBtsB,MAAQA,KAAKssB,cAAiB,SAASnsB,EAAGf,GAC1D,IAAK,IAAImtB,KAAKpsB,EAAa,YAANosB,GAAoBrtB,OAAOiC,UAAUC,eAAeC,KAAKjC,EAASmtB,IAAIxsB,EAAgBX,EAASe,EAAGosB,EAC3H,EACArtB,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQ+1C,gBAAkB/1C,EAAQy1C,eAAiBz1C,EAAQuzC,kBAAoBvzC,EAAQ6wC,eAAiB7wC,EAAQk3C,0BAAuB,EACvIhqB,EAAaxsB,EAAQ,OAAqBV,GAC1CktB,EAAaxsB,EAAQ,OAAeV,GACpC,IAAIu9C,EAAyB78C,EAAQ,OACrCZ,OAAOC,eAAeC,EAAS,uBAAwB,CAAEwB,YAAY,EAAMC,IAAK,WAAc,OAAO87C,EAAuBrG,oBAAsB,IAClJ,IAAIsG,EAAmB98C,EAAQ,OAC/BZ,OAAOC,eAAeC,EAAS,iBAAkB,CAAEwB,YAAY,EAAMC,IAAK,WAAc,OAAO+7C,EAAiB3M,cAAgB,IAChI,IAAI4M,EAAsB/8C,EAAQ,OAClCZ,OAAOC,eAAeC,EAAS,oBAAqB,CAAEwB,YAAY,EAAMC,IAAK,WAAc,OAAOg8C,EAAoBlK,iBAAmB,IACzI,IAAImK,EAAmBh9C,EAAQ,OAC/BZ,OAAOC,eAAeC,EAAS,iBAAkB,CAAEwB,YAAY,EAAMC,IAAK,WAAc,OAAOi8C,EAAiBjI,cAAgB,IAChI,IAAIkI,EAAoBj9C,EAAQ,OAChCZ,OAAOC,eAAeC,EAAS,kBAAmB,CAAEwB,YAAY,EAAMC,IAAK,WAAc,OAAOk8C,EAAkB5H,eAAiB,IACnI7oB,EAAaxsB,EAAQ,OAAqBV,E,qCC5B1C,IAAIW,EAAmBC,MAAQA,KAAKD,kBAAqBb,OAAOe,OAAU,SAASC,EAAGC,EAAGC,EAAGC,QAC7EC,IAAPD,IAAkBA,EAAKD,GAC3B,IAAIG,EAAOrB,OAAOsB,yBAAyBL,EAAGC,GACzCG,KAAS,QAASA,GAAQJ,EAAEM,WAAaF,EAAKG,UAAYH,EAAKI,gBAClEJ,EAAO,CAAEK,YAAY,EAAMC,IAAK,WAAa,OAAOV,EAAEC,EAAI,IAE5DlB,OAAOC,eAAee,EAAGG,EAAIE,EACjC,EAAM,SAASL,EAAGC,EAAGC,EAAGC,QACTC,IAAPD,IAAkBA,EAAKD,GAC3BF,EAAEG,GAAMF,EAAEC,EACd,GACIksB,EAAgBtsB,MAAQA,KAAKssB,cAAiB,SAASnsB,EAAGf,GAC1D,IAAK,IAAImtB,KAAKpsB,EAAa,YAANosB,GAAoBrtB,OAAOiC,UAAUC,eAAeC,KAAKjC,EAASmtB,IAAIxsB,EAAgBX,EAASe,EAAGosB,EAC3H,EACArtB,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDitB,EAAaxsB,EAAQ,OAAYV,E,qCChBrBU,EAAA,OAACA,EAAA,OACb,IAAIwB,EAAatB,MAAQA,KAAKsB,WAAc,SAAUC,EAASC,EAAYC,EAAGC,GAC1E,SAASC,EAAMtC,GAAS,OAAOA,aAAiBoC,EAAIpC,EAAQ,IAAIoC,GAAE,SAAUG,GAAWA,EAAQvC,EAAQ,GAAI,CAC3G,OAAO,IAAKoC,IAAMA,EAAII,WAAU,SAAUD,EAASE,GAC/C,SAASC,EAAU1C,GAAS,IAAM2C,EAAKN,EAAUO,KAAK5C,GAAS,CAAE,MAAO6C,GAAKJ,EAAOI,EAAI,CAAE,CAC1F,SAASC,EAAS9C,GAAS,IAAM2C,EAAKN,EAAU,SAASrC,GAAS,CAAE,MAAO6C,GAAKJ,EAAOI,EAAI,CAAE,CAC7F,SAASF,EAAKd,GAAUA,EAAOkB,KAAOR,EAAQV,EAAO7B,OAASsC,EAAMT,EAAO7B,OAAOgD,KAAKN,EAAWI,EAAW,CAC7GH,GAAMN,EAAYA,EAAUY,MAAMf,EAASC,GAAc,KAAKS,OAClE,GACJ,EACA/C,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQ+6C,gBAAa,EACrB,MAAM7U,EAASxlC,EAAQ,OACjB42C,EAAe52C,EAAQ,OACvBk9C,EAAuBl9C,EAAQ,OAC/B0C,EAAc1C,EAAQ,OAC5B,MAAMq6C,UAAmB7U,EAAO7Y,YAC5BvpB,WAAAA,CAAY6iC,EAAU3iC,GAClBwpB,MAAMmZ,GAEN/lC,KAAKuI,QAAWe,GAAWhI,EAAUtB,UAAM,OAAQ,GAAQ,YACvD,OAAO,IAAI6B,SAAQ,CAACD,EAASE,IAAWR,EAAUtB,UAAM,OAAQ,GAAQ,YACpE,IACI,IAAI8b,EAAiB,IACrB,EAAIwpB,EAAO/gC,UAAU,4BAA6BwW,KAAKC,UAAU1R,IACjE,IAAI2zC,EAAqB,CACrB9rC,KAAM,kBACNg6B,oBAAoB,EAAIuL,EAAawG,mCAAmC5zC,EAAOgU,YAC/Eq7B,oBAAoB,EAAIjC,EAAawG,mCAAmC5zC,EAAOqvC,qBAEnF34C,KAAK+qC,OAAOzwB,8BAA6B,MACrC,EAAIgrB,EAAO/gC,UAAU,iCACrBvE,KAAKoD,OAAOwB,KAAKpC,EAAYi5C,gBAAgB0B,mBAAmB,IAEhE7zC,EAAO4vC,cACP+D,EAAmBh+B,4BAA8B,EAAI+9B,EAAqBI,sCAAsC9zC,EAAO4vC,YAAa+D,EAAmB9R,qBAE3JrvB,EAAevF,KAAK0mC,IACpB,EAAI3X,EAAO/gC,UAAU,oCAAqCwW,KAAKC,UAAUc,IACzE9b,KAAK+qC,OAAOrtB,iBAAiB5B,EAAgB5c,OAAO+b,OAAO,CAAEkB,SAAUnc,KAAKq9C,UAAY/zC,EAAOoS,gBAAiBpL,IACxGA,GAAQA,EAAKwL,kBACb,EAAIwpB,EAAO/gC,UAAU,wCAAyC+L,EAAKwL,iBACnE,EAAIwpB,EAAO/gC,UAAU,wBAAwB,EAAI+gC,EAAOjnB,YAAY/N,EAAKwL,eAAgB9b,KAAK0b,cAAc4C,UAC5Gte,KAAKoD,OAAOwB,KAAK,eAAe,EAAI0gC,EAAOjnB,YAAY/N,EAAKwL,eAAgB9b,KAAK0b,cAAc4C,UAC/Fte,KAAKoD,OAAOwB,KAAK,qBAAqB,EAAI0gC,EAAOhS,2BAA2BhjB,EAAKwL,eAAe/N,MAAOuC,EAAKwL,eAAetL,YAC3H,EAAI80B,EAAO/gC,UAAU,sCAAsCwW,KAAKC,UAAU1K,MAC1EtQ,KAAKoD,OAAOwB,KAAK,4BAA6B0L,GAClD,IACDjO,MAAM6a,GAAY5b,EAAUtB,UAAM,OAAQ,GAAQ,aACjD,EAAI02C,EAAa4G,qBAAqBpgC,EAAS5T,EAAOgU,WAAYhU,EAAOqvC,mBAAoB34C,KAAK0b,gBAClG,EAAI4pB,EAAO/gC,UAAU,gCAAgCwW,KAAKC,UAAUkC,MAChE5T,EAAO4vC,oBACD,EAAI8D,EAAqBO,8BAA8BrgC,EAAS5T,EAAO4vC,cAEjFt3C,EAAQsb,EACZ,MAAIzL,OAAOvP,KACP,EAAIojC,EAAO/gC,UAAU,8BAA8BwW,KAAKC,UAAU9Y,MAClElC,KAAKoD,OAAOwB,KAAK,gBAAiB1C,GAClCJ,EAAOI,EAAE,GAEjB,CACA,MAAOgP,IACH,EAAIo0B,EAAO/gC,UAAU,yBAAyBwW,KAAKC,UAAU9J,MAC7DpP,EAAOoP,EACX,CACJ,KACJ,IACAlR,KAAKub,eAAkBG,GAAkBpa,EAAUtB,UAAM,OAAQ,GAAQ,YACrE,OAAO,IAAI6B,SAAQ,CAACD,EAASE,KACzB9B,KAAK+qC,OAAOxvB,eAAeG,GAAgBwB,IACvCtb,EAAQsb,EAAQ,GAClB,GAEV,IACAld,KAAK8B,OAAUwH,GAAWhI,EAAUtB,UAAM,OAAQ,GAAQ,YAMtD,IAYJA,KAAK4a,QAAWtR,GAAWhI,EAAUtB,UAAM,OAAQ,GAAQ,YACvD,OAAO,IAAI6B,SAAQ,CAACD,EAASE,IAAWR,EAAUtB,UAAM,OAAQ,GAAQ,YACpE,IAAI+E,EAAIwJ,GACR,EAAI+2B,EAAO/gC,UAAU,+BAAgCvE,KAAK+qC,OAAOlxB,kBAAkBxF,4BAA2D,QAA7BtP,EAAK/E,KAAK0b,qBAAkC,IAAP3W,OAAgB,EAASA,EAAG8W,iBAAkBd,KAAKC,UAAU1R,IACnN,KAEuC,QAA7BiF,EAAKvO,KAAK0b,qBAAkC,IAAPnN,OAAgB,EAASA,EAAGsN,oBAAqB,EAAIypB,EAAOtoB,UACnGhd,KAAK+oC,sBAEH/oC,KAAK+qC,OAAO7kC,KAAKoD,EAAQ,CAC3B1H,QAAUyZ,IAGN,UAFOA,EAASX,WAChB,EAAI4qB,EAAO/gC,UAAU,6BAA8BwW,KAAKC,UAAUK,IAC7D,UAAWA,GAAaA,EAASnK,MAAO,CACzC,IAAIA,EAAQmK,EAASnK,MACrBpP,EAAO,IAAIwjC,EAAOl9B,gBAAgBiT,EAASnK,MAAMjM,KAAMoW,EAASzJ,OAAS,IAAMV,EAAM1H,SACzF,MAEI5H,EAAQyZ,EACZ,EAEJH,MAAOA,KACH,IAAInW,IACC,EAAIugC,EAAOtoB,WAA2C,QAA7BjY,EAAK/E,KAAK0b,qBAAkC,IAAP3W,OAAgB,EAASA,EAAG8W,mBAC3F7b,KAAK+oC,eACT,GAGZ,CACA,MAAO7mC,GACHJ,EAAOI,EACX,CACJ,KACJ,IAQAlC,KAAK0I,WAAa,IAAMpH,EAAUtB,UAAM,OAAQ,GAAQ,YACpD,OAAO,IAAI6B,SAAQ,CAACD,EAASE,KACzB9B,KAAK+qC,OAAO7kC,KAAK,CACb0L,OAAQ,cACT,CACCsJ,MAAOA,KACHtZ,GAAS,QAEdtB,EAAW,OAAUmR,OAAOP,IAC3BojB,QAAQxxB,IAAI,gBAAgBiY,KAAKC,UAAU9J,MAC3CpP,EAAOoP,EAAM,GACf,GAEV,IACAlR,KAAK+qC,OAAS,IAAIzF,EAAO3rB,OAAO,IAAI2rB,EAAO36B,kBAAkBo7B,EAAS50B,OACtEnR,KAAKoD,OAASA,EACdpD,KAAKq9C,SAAWtX,CACpB,CACAgD,aAAAA,GACI,IAAIhkC,EAGJ,IADA,EAAIugC,EAAO/gC,UAAU,kCACa,QAA7BQ,EAAK/E,KAAK0b,qBAAkC,IAAP3W,OAAgB,EAASA,EAAGuZ,QAAS,CAC3E,IAAInb,GAAM,EAAImiC,EAAO9R,8BAAyBlzB,EAAWN,KAAK0b,cAAc6C,eAC5E,EAAI+mB,EAAO7mB,kCAAkCtb,EACjD,MAEI,EAAImiC,EAAO1R,iBAAiB0R,EAAOxoB,iBAG3C,CACA68B,cAAAA,GACI,OAAOr4C,EAAUtB,UAAM,OAAQ,GAAQ,YACnC,OAAO,IAAI6B,SAAQ,CAACD,EAASE,KACzB9B,KAAK+qC,OAAO7kC,KAAK,CACb0L,OAAQ,sBACT,CACChQ,QAAUyZ,IAGN,UAFOA,EAASX,WAChB,EAAI4qB,EAAO/gC,UAAU,oCAAqCwW,KAAKC,UAAUK,IACpE,UAAWA,GAAaA,EAASnK,MAAO,CACzC,IAAIA,EAAQmK,EAASnK,MACrBpP,EAAO,IAAIwjC,EAAOl9B,gBAAgBiT,EAASnK,MAAMjM,KAAMoW,EAASzJ,OAAS,IAAMV,EAAM1H,SACzF,KACK,CACD,IAAIg0C,EAAgBniC,EAASna,OAC7BU,GAAQ,EAAIo7C,EAAqBS,uBAAuBD,GAC5D,KAEL/rC,OAAOP,IACNojB,QAAQxxB,IAAI,gBAAgBiY,KAAKC,UAAU9J,MAC3CpP,EAAOoP,EAAM,GACf,GAEV,GACJ,EAEJ9R,EAAQ+6C,WAAaA,C,qCC9LTr6C,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAACA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OACb,IAAIwB,EAAatB,MAAQA,KAAKsB,WAAc,SAAUC,EAASC,EAAYC,EAAGC,GAC1E,SAASC,EAAMtC,GAAS,OAAOA,aAAiBoC,EAAIpC,EAAQ,IAAIoC,GAAE,SAAUG,GAAWA,EAAQvC,EAAQ,GAAI,CAC3G,OAAO,IAAKoC,IAAMA,EAAII,WAAU,SAAUD,EAASE,GAC/C,SAASC,EAAU1C,GAAS,IAAM2C,EAAKN,EAAUO,KAAK5C,GAAS,CAAE,MAAO6C,GAAKJ,EAAOI,EAAI,CAAE,CAC1F,SAASC,EAAS9C,GAAS,IAAM2C,EAAKN,EAAU,SAASrC,GAAS,CAAE,MAAO6C,GAAKJ,EAAOI,EAAI,CAAE,CAC7F,SAASF,EAAKd,GAAUA,EAAOkB,KAAOR,EAAQV,EAAO7B,OAASsC,EAAMT,EAAO7B,OAAOgD,KAAKN,EAAWI,EAAW,CAC7GH,GAAMN,EAAYA,EAAUY,MAAMf,EAASC,GAAc,KAAKS,OAClE,GACJ,EACIqS,EAAmBtU,MAAQA,KAAKsU,iBAAoB,SAAUrT,GAC9D,OAAQA,GAAOA,EAAIR,WAAcQ,EAAM,CAAE,QAAWA,EACxD,EACA/B,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQs+C,2BAAwB,EAChCt+C,EAAQo6C,gCAAkCA,EAC1Cp6C,EAAQu+C,8BAAgCA,EACxCv+C,EAAQm+C,6BAA+BA,EACvCn+C,EAAQg+C,qCAAuCA,EAC/Ch+C,EAAQq+C,sBAAwBA,EAChC,MAAMnY,EAASxlC,EAAQ,OACjB89C,EAAStpC,EAAgBxU,EAAQ,QACjC+9C,EAAsB/9C,EAAQ,OAC9Bo3C,EAAap3C,EAAQ,OAC3B,SAASg+C,EAAQz+C,GACb,MAAwB,kBAAVA,GAAgC,OAAVA,GAAkBiY,MAAMwmC,QAAQz+C,EACxE,CACA,SAAS0+C,EAAS1+C,GACd,MAAwB,kBAAVA,GAAgC,OAAVA,IAAmBiY,MAAMwmC,QAAQz+C,EACzE,CAcA,SAASm6C,EAAgCtE,GACrC,IAAI8I,EAAkB,IAAI1Y,EAAOl9B,gBAAgBk9B,EAAOj9B,wBAAwBmpB,sBAChF,IAAIysB,EAAY,CACZrsC,OAAQsjC,EAActjC,OACtBy+B,QAAS6E,EAAc7E,QACvBn/B,MAAO,CACHjM,KAAM+4C,EAAgB/4C,KACtBuE,QAASw0C,EAAgBx0C,UAGjC,OAAOy0C,CACX,CACA,SAASN,EAA8BzI,EAAeh4B,GAClD,OAAO5b,EAAUtB,UAAM,OAAQ,GAAQ,YACnC,IAAI+E,EAAIwJ,EAAIC,EAAIC,EAAIC,EACpB,KACI,EAAI42B,EAAO/gC,UAAU,+CAAgDwW,KAAKC,UAAUk6B,IACpF,IAAIgJ,EAAiB,CAAC,EACtB,GAA6B,uBAAzBhJ,EAActjC,OAAiC,CAC/C,IAAIusC,EAAmE,QAArDp5C,EAAKmY,EAAQI,WAAWgoB,EAAOvT,wBAAqC,IAAPhtB,OAAgB,EAASA,EAAG8e,SAASzL,QAAO,SAAUgmC,GACjI,OAAOA,EAAS9rC,WAAW4iC,EAAc7E,QAC7C,IAAG,GACH,MAAMgO,GAAa,EAAInH,EAAWoH,sBAAsBH,GACxD,GAAIjJ,EAAc5rC,QAAU+0C,GAAc,YAAanJ,EAAc5rC,OAAQ,CACzE,IAAIi1C,EAAcrJ,EAAc5rC,OAAOE,QAavC,MAZ+E,eAAhD,QAAzB+E,EAAK2O,EAAQM,cAA2B,IAAPjP,OAAgB,EAASA,EAAG0oB,WAC/DsnB,EAAcX,EAAOzoC,QAAQqH,QAAO,EAAIqhC,EAAoBW,oBAAoBD,KAEpFrJ,EAAc5rC,OAAS,CACnBE,QAAS+0C,EACT,OAAUF,GAEdH,EAAiB,CACb5wC,UAAW+wC,IAEf,EAAI/Y,EAAO/gC,UAAU,0CAA2CwW,KAAKC,UAAUmjC,GAAaE,IAC5F,EAAI/Y,EAAO/gC,UAAU,qCAAsCwW,KAAKC,UAAUkjC,IACnEA,CACX,CAEI,MAAM,IAAI5Y,EAAOl9B,gBAAgBk9B,EAAOj9B,wBAAwBmpB,qBAExE,CACK,GAA6B,oBAAzB0jB,EAActjC,QAAyD,4BAAzBsjC,EAActjC,OAAsC,CACvG,GAAI,YAAasjC,EAAc5rC,QAAU4rC,EAAc5rC,OAAOE,QAAS,CACnE,IAAIi1C,EAAa1jC,KAAK6e,MAAM7e,KAAKC,UAAUk6B,EAAc5rC,OAAOE,UAC5Dk1C,EAAiBx/C,OAAOkwB,OAAOqvB,GAC/B9c,EAAa,IAAIrT,WAAWowB,GAC5BpkB,EAAU,IAAIlO,YAAY,QAC1BuyB,EAAajiC,KAAK4d,EAAQjO,OAAOsV,IAkBrC,OAjBAuT,EAAc5rC,OAAS,CACnBE,QAASo1C,KAAKD,IAElBrqB,QAAQxxB,IAAI,gDAAiDiY,KAAKC,UAAUk6B,EAAc5rC,QAASq1C,GACtE,oBAAzBzJ,EAActjC,OACdssC,EAAiB,CACb,aAAgBS,EAChB,UAAa,IAGa,4BAAzBzJ,EAActjC,SACnBssC,EAAiB,CACb,MAASS,EACT,UAAa,MAGrB,EAAIrZ,EAAO/gC,UAAU,0DAA2DwW,KAAKC,UAAUkjC,IACxFA,CACX,CAEI,MAAM,IAAI5Y,EAAOl9B,gBAAgBk9B,EAAOj9B,wBAAwBmpB,qBAExE,CACK,GAA6B,oBAAzB0jB,EAActjC,OAA8B,CACjD,IAAIitC,EAAoE,QAArDrwC,EAAK0O,EAAQI,WAAWgoB,EAAO1T,wBAAqC,IAAPpjB,OAAgB,EAASA,EAAGqV,SAASzL,QAAO,SAAU0mC,GAClI,OAAOA,EAASxsC,WAAW4iC,EAAc7E,QAC7C,IACI0O,EAAaF,EAAY,GAC7B,MAAMG,GAAa,EAAI9H,EAAWoH,sBAAsBS,GAExD,IADA,EAAIzZ,EAAO/gC,UAAU,uCAAwCwW,KAAKC,UAAU+jC,GAAaC,GACrFA,EAGA,OAFA9J,EAAc5rC,OAAO,QAAU01C,GAC/B,EAAI1Z,EAAO/gC,UAAU,kCAAmCwW,KAAKC,UAAUkjC,IAChEA,EAGP,MAAM,IAAI5Y,EAAOl9B,gBAAgBk9B,EAAOj9B,wBAAwBmpB,qBAExE,CACK,GAA6B,sBAAzB0jB,EAActjC,OAAgC,CACnD,IAAIqtC,EAAY/J,EAAc5rC,OAC1B41C,EAAuE,QAAvDzwC,EAAKyO,EAAQI,WAAWgoB,EAAO3T,0BAAuC,IAAPljB,OAAgB,EAASA,EAAGoV,SAASzL,QAAO,SAAU+mC,GACrI,OAAOA,EAAS7sC,WAAW4iC,EAAc7E,QAC7C,IAAG,GACC+O,GAAe,EAAIlI,EAAWoH,sBAAsBY,GACxD,GAAID,GAAaG,EAAc,CAC3B,IAAIz9B,EAAS,QACTnY,EAAU,GAAI8hB,EAAQ,GAC1B,IAAI+zB,EAAc19B,EAClB,IAAI29B,EAAc9uB,OAAOC,SAASb,SAAW,KAAOY,OAAOC,SAASC,SAChE,YAAauuB,GAAaA,EAAUx7B,UACpC47B,GAAe,cAAgBD,GAE/B,gBAAiBH,GAAaA,EAAUK,cACxCD,GAAe,kBAAoBC,GAEvC,IAAIC,EAAe,EACf,YAAaN,GAAaA,EAAU5O,UACX,iBAArB4O,EAAU5O,QACVkP,EAAe,EAEW,oBAArBN,EAAU5O,UACfkP,EAAe,GAEnBF,GAAe,cAAgBE,GAE/B,YAAaN,IACbI,GAAe,cAAgBJ,EAAUz1C,QACzCA,EAAUy1C,EAAUz1C,SAEpB,UAAWy1C,IACXI,GAAe,YAAcJ,EAAU3zB,MACvCA,EAAQ2zB,EAAU3zB,OAEtB,MAAMhP,GAAY,IAAIC,aAAcC,OAAO6iC,GACrCtkB,EAAMzjB,MAAMqS,KAAKrN,GAClB1F,KAAIoqB,GAAQA,EAAKr8B,SAAS,IAAI8vC,SAAS,EAAG,OAC1Cv8B,KAAK,IAgBV,OAfAg9B,EAAc5rC,OAAS,CACnB,QAAWyxB,IAEf,EAAIuK,EAAO/gC,UAAU,mCAAoCwW,KAAKC,UAAUk6B,IACxEgJ,EAAiB,CACbz6B,QAAS27B,EACTE,YAAaA,EACbjP,QAASkP,EACTF,YAAaA,EACb71C,QAASA,EACT8hB,MAAOA,EACP3J,OAAQA,EACRM,UAAW,KAEf,EAAIqjB,EAAO/gC,UAAU,oCAAqCwW,KAAKC,UAAUkjC,IAClEA,CACX,CAEI,MAAM,IAAI5Y,EAAOl9B,gBAAgBk9B,EAAOj9B,wBAAwBmpB,qBAExE,CACK,GAA6B,yBAAzB0jB,EAActjC,OAAmC,CACtD,IAAI4tC,EAA2H,QAA1G9wC,EAAiB,OAAZwO,QAAgC,IAAZA,OAAqB,EAASA,EAAQI,WAAWgoB,EAAO5T,2BAAwC,IAAPhjB,OAAgB,EAASA,EAAGmV,SAASzL,QAAO,SAAUqnC,GACzL,OAAOA,EAAentC,WAAW4iC,EAAc7E,QACnD,IAAG,GACH,MAAMqP,GAAgB,EAAIxI,EAAWoH,sBAAsBkB,GAC3D,IAAIG,EAAazK,EAAc5rC,OAAO,WACtC,MAAMs2C,GAAsB,EAAI/B,EAAoBgC,gBAAgBF,GAGpE,IAFA,EAAIra,EAAO/gC,UAAU,4CAA6CwW,KAAKC,UAAUwkC,GAAgBE,IACjG,EAAIpa,EAAO/gC,UAAU,4CAA6Cq7C,GAC9DD,GAAcD,EAAe,CAC7B,MAAMvM,EAAU,CACZnF,SAAU,GACVoF,eAAgB,IAChBC,SAAU,IACVC,IAAK,CACDC,IAAK,IACLjF,OAAQ,IAEZkF,KAAM,CAAC,CACC,KAAQ,mBACR,MAAS,CACL,OAAUkM,EACV,KAAQE,KAGpBnM,KAAM,IAQV,OANAyB,EAAc5rC,OAAS,CACnB,OAAUo2C,EACV,SAAYxK,EAAc7E,QAAQxuB,MAAM,KAAK,GAC7C,KAAQsxB,IAEZ,EAAI7N,EAAO/gC,UAAU,uCAAwCwW,KAAKC,UAAUkjC,IACrEA,CACX,CAEI,MAAM,IAAI5Y,EAAOl9B,gBAAgBk9B,EAAOj9B,wBAAwBmpB,qBAExE,EACA,EAAI8T,EAAO/gC,UAAU,sCAAuCwW,KAAKC,UAAUk6B,GAC/E,CACA,MAAOhkC,GACH,MAAMA,CACV,CACJ,GACJ,CACA,SAASqsC,EAA6BrgC,EAASg4B,GAC3C,OAAO5zC,EAAUtB,UAAM,OAAQ,GAAQ,YACnC,IAAI+E,EACJ,IACI,GAAImY,EAAQgC,aAAc,EACtB,EAAIomB,EAAO/gC,UAAU,6CAA8CwW,KAAKC,UAAUkC,EAAQgC,gBAC1F,EAAIomB,EAAO/gC,UAAU,mDAAoDwW,KAAKC,UAAUkC,EAAQI,aAChG,IAAK,MAAMwiC,KAAc5iC,EAAQgC,aAE7B,IADA,EAAIomB,EAAO/gC,UAAU,2CAA4CwW,KAAKC,UAAU8kC,IAC5E,WAAYA,EACZ,GAA0B,uBAAtBA,EAAWluC,OAAiC,CAC5C,IAAImuC,EAAoBD,EAAW5+C,QACnC,EAAIokC,EAAO/gC,UAAU,yCAA0Cu7C,EAAWzP,SAC1E,IAAI9J,EAAgE,QAArDxhC,EAAKmY,EAAQI,WAAWgoB,EAAOvT,wBAAqC,IAAPhtB,OAAgB,EAASA,EAAG8e,SAASzL,QAAO,SAAUmuB,GAE9H,OADA,EAAIjB,EAAO/gC,UAAU,8BAA+BgiC,GAC7CA,EAAQj0B,WAAWwtC,EAAWzP,QACzC,IAAG,IACH,EAAI/K,EAAO/gC,UAAU,qCAAsCw7C,EAAmBxZ,GAC1EwZ,GAAqBxZ,IACrBuZ,EAAW5+C,OAAS,CAChB,UAAa08C,EAAOzoC,QAAQkX,OAAO0zB,GACnC,WAAa,EAAI7I,EAAWoH,sBAAsB/X,IAG9D,MACK,GAA0B,oBAAtBuZ,EAAWluC,QAAsD,4BAAtBkuC,EAAWluC,OAAsC,CACjG,IAAIouC,EAAY9K,EAAc98B,QAAO,SAAU6nC,GAC3C,OAAOA,EAAcruC,SAAWkuC,EAAWluC,MAC/C,IAAG,GACH,GAAIouC,GAAaA,EAAU12C,QAAU,YAAa02C,EAAU12C,OAAQ,CAChE,IAAIm1C,EAAauB,EAAU12C,OAAOE,QAC9B02C,EAAgBxjC,KAAK+hC,GACzBnqB,QAAQxxB,IAAI,gDAAiD27C,EAAYyB,GAC/C,oBAAtBJ,EAAWluC,OACXkuC,EAAW5+C,OAAS,CAChB,aAAgBg/C,EAChB,UAAaJ,EAAW5+C,QAGD,4BAAtB4+C,EAAWluC,SAChBkuC,EAAW5+C,OAAS,CAChB,MAASg/C,EACT,UAAaJ,EAAW5+C,QAGpC,CACJ,MACK,GAA0B,sBAAtB4+C,EAAWluC,OAAgC,CAShD,GAR2B,cAAvBkuC,EAAWzP,QACXyP,EAAWzP,QAAU,gBAEO,mBAAvByP,EAAWzP,UAChByP,EAAWzP,QAAU,oBAEzByP,EAAW5+C,OAAS6Z,KAAK6e,MAAMkmB,EAAW5+C,QAC1CozB,QAAQxxB,IAAI,yDAA0DiY,KAAKC,UAAU8kC,EAAW5+C,SAC5F4+C,EAAW5+C,QAAU,cAAe4+C,EAAW5+C,OAAQ,CACvD,IAAIi/C,EAAiBL,EAAW5+C,OAAO+gB,UACnCk+B,GAAkBA,EAAe7tC,WAAW,QAC5C6tC,EAAiBA,EAAe3pC,MAAM,EAAG2pC,EAAe94C,QACxDy4C,EAAW5+C,OAAO+gB,UAAYk+B,EAEtC,CACA7rB,QAAQxxB,IAAI,wDAAyDiY,KAAKC,UAAU8kC,EAAW5+C,QACnG,KAC+B,yBAAtB4+C,EAAWluC,OAChBkuC,EAAW5+C,OAAS6Z,KAAK6e,MAAMkmB,EAAW5+C,QAEhB,sBAArB4+C,EAAWluC,SAChBkuC,EAAW5+C,OAASu8C,EAAsBqC,EAAW5+C,QAIrE,CACJ,CACA,MAAOgQ,GAEH,MADA,EAAIo0B,EAAO/gC,UAAU,mDAAoDwW,KAAKC,UAAU9J,IAClFA,CACV,CACJ,GACJ,CACA,SAASksC,EAAqC9zC,EAAQ82C,GAClD,OAAO9+C,EAAUtB,UAAM,OAAQ,GAAQ,YACnC,KACI,EAAIslC,EAAO/gC,UAAU,uDAAwDwW,KAAKC,UAAU1R,IAC5F,MAAMpI,EAAS,GAEf,GAAIoI,GAAUA,EAAOjC,OAAS,EAC1B,MAAM,IAAIi+B,EAAOl9B,gBAAgBk9B,EAAOj9B,wBAAwBuW,cAAe,gDAEnF,IAAKwhC,GAAoB92C,GAAUA,EAAOjC,OAAS,EAC/C,MAAM,IAAIi+B,EAAOl9B,gBAAgBk9B,EAAOj9B,wBAAwBuW,cAAe,6FAGnF,IAAK,MAAMkhC,KAAcx2C,EAUrB,GAT0B,sBAAtBw2C,EAAWluC,SACgB,kBAAvBkuC,EAAWzP,QACXyP,EAAWzP,QAAU,YAEO,qBAAvByP,EAAWzP,UAChByP,EAAWzP,QAAU,mBAIH,4BAAtByP,EAAWluC,OAAsC,CACjD,IAAIyuC,EAAqC,OAArBD,QAAkD,IAArBA,OAA8B,EAASA,EAAiBE,MAAKC,GAASA,EAAMz8B,UAAUzL,SAAS,YAChJ,IAAKgoC,EACD,MAAM,IAAI/a,EAAOl9B,gBAAgBk9B,EAAOj9B,wBAAwBuW,cAAe,6CAA6CkhC,EAAWluC,+DAE/I,MACK,GAA0B,uBAAtBkuC,EAAWluC,OAAiC,CACjD,KAAI,EAAIslC,EAAWsJ,4BAIf,MAAM,IAAIlb,EAAOl9B,gBAAgBk9B,EAAOj9B,wBAAwBmpB,sBAHhEsuB,EAAWzP,QAAU,EAK7B,KACK,CACD,MAAMoQ,KAAuC,OAArBL,QAAkD,IAArBA,OAA8B,EAASA,EAAiBE,MAAKC,GAASA,EAAMr8B,OAAOo8B,MAAKj8B,GAASA,EAAMhM,SAAS,GAAGynC,EAAWzP,gBACnL,IAAKoQ,EACD,MAAM,IAAInb,EAAOl9B,gBAAgBk9B,EAAOj9B,wBAAwBuW,cAAe,6CAA6CkhC,EAAWluC,oCAAoCkuC,EAAWzP,WAE9L,CAEJ,IAAK,MAAMj5B,KAAQ9N,EAAQ,CACvB,IAAKlK,EAAQs+C,sBAAsBrlC,SAASjB,EAAKxF,QAC7C,MAAM,IAAI0zB,EAAOl9B,gBAAgBk9B,EAAOj9B,wBAAwBuW,cAAe,uDAAuDxH,EAAKxF,WAE/I,GAAoB,4BAAhBwF,EAAKxF,QACL,GAAI0F,MAAMwmC,QAAQ1mC,EAAK9N,QAAS,CAC5B,MAAMo3C,EAAYtpC,EAAK9N,OACvB,IAAIo3C,GAAkC,IAArBA,EAAUr5C,OAMtB,MAAIq5C,GAAaA,EAAUr5C,OAAS,EAC/B,IAAIi+B,EAAOl9B,gBAAgBk9B,EAAOj9B,wBAAwBuW,cAAe,0DAA0DxH,EAAKxF,WAGxI,IAAI0zB,EAAOl9B,gBAAgBk9B,EAAOj9B,wBAAwBuW,cAAe,2CAA2CxH,EAAKxF,WAV1F,CACrC,MAAM+uC,EAAaD,EAAU,GACzB3C,EAAS4C,KACTvpC,EAAK9N,OAASq3C,EAEtB,CAOJ,OAEC,GAAoB,kBAAhBvpC,EAAKxF,QACV,GAAIksC,EAAQ1mC,EAAK9N,QAAS,CACtB,GAAI8N,EAAK9N,QAAiC,IAAvB8N,EAAK9N,OAAOjC,OAC3B,MAAM,IAAIi+B,EAAOl9B,gBAAgBk9B,EAAOj9B,wBAAwBuW,cAAe,2CAA2CxH,EAAKxF,YAEnI,IAAIgvC,EAAWxpC,EAAK9N,OAAO,GAC3B,IAAIs3C,GAAgC,kBAAbA,EAMnB,MAAM,IAAItb,EAAOl9B,gBAAgBk9B,EAAOj9B,wBAAwBuW,cAAe,8CAA8CxH,EAAKxF,YALlIwF,EAAK9N,OAAS,CACVE,QAASo3C,EAMrB,OAEC,GAAoB,oBAAhBxpC,EAAKxF,QAAgD,4BAAhBwF,EAAKxF,OAAsC,CACrF,IAAImsC,EAAS3mC,EAAK9N,WAAW,YAAa8N,EAAK9N,QAe3C,MAAM,IAAIg8B,EAAOl9B,gBAAgBk9B,EAAOj9B,wBAAwBuW,cAAe,8CAA8CxH,EAAKxF,YAdlI,IAAIwF,EAAK9N,OAAOE,QAUZ,MAAM,IAAI87B,EAAOl9B,gBAAgBk9B,EAAOj9B,wBAAwBuW,cAAe,8CAA8CxH,EAAKxF,YAV7G,EACrB,EAAI0zB,EAAO/gC,UAAU,wCAAyC6S,EAAK9N,OAAOE,SAC1E,IAAIA,EAAUuR,KAAK6e,MAAM7e,KAAKC,UAAU5D,EAAK9N,OAAOE,UAChDk1C,EAAiBx/C,OAAOkwB,OAAO5lB,GAC/Bm4B,EAAa,IAAIrT,WAAWowB,GAC5BpkB,EAAU,IAAIlO,YAAY,QAC1BuyB,EAAajiC,KAAK4d,EAAQjO,OAAOsV,IACrCvqB,EAAK9N,OAAOE,QAAUo1C,KAAKD,EAC/B,CAQR,MACK,GAAoB,uBAAhBvnC,EAAKxF,OAAiC,CAC3C,IAAImsC,EAAS3mC,EAAK9N,WAAW,YAAa8N,EAAK9N,QAS3C,MAAM,IAAIg8B,EAAOl9B,gBAAgBk9B,EAAOj9B,wBAAwBuW,cAAe,8CAA8CxH,EAAKxF,YARlI,IAAIwF,EAAK9N,OAAOE,SAA0C,kBAAxB4N,EAAK9N,OAAOE,QAI1C,MAAM,IAAI87B,EAAOl9B,gBAAgBk9B,EAAOj9B,wBAAwBuW,cAAe,8CAA8CxH,EAAKxF,YAHlIwF,EAAK9N,OAAO,eAAiBs0C,EAAOzoC,QAAQqH,QAAO,EAAIqhC,EAAoBW,oBAAoBpnC,EAAK9N,OAAOE,SASvH,MACK,GAAoB,sBAAhB4N,EAAKxF,OAAgC,CAC1C,IAAImsC,EAAS3mC,EAAK9N,QAsBd,MAAM,IAAIg8B,EAAOl9B,gBAAgBk9B,EAAOj9B,wBAAwBuW,cAAe,8CAA8CxH,EAAKxF,YArBlI,IAAIwF,EAAKi5B,SAA6B,cAAjBj5B,EAAKi5B,SAA4C,mBAAjBj5B,EAAKi5B,QAiBtD,MAAM,IAAI/K,EAAOl9B,gBAAgBk9B,EAAOj9B,wBAAwBuW,cAAe,sDAAsDxH,EAAKxF,YAjBrD,CACrF,IAAIivC,EAAczpC,EAAK9N,OACnBw3C,EAAatwB,OAAOC,SAASb,SAAW,KAAOY,OAAOC,SAASC,SACnE,IAAIqwB,EAAc,EACG,cAAjB3pC,EAAKi5B,SAEiB,mBAAjBj5B,EAAKi5B,UACV0Q,EAAc,GAElB3pC,EAAK9N,OAAS,CACVhF,KAAMu8C,EACNG,eAAgBF,EAChBn/B,OAAQ,QACR49B,aAAcwB,EAEtB,CAQR,MACK,GAAoB,yBAAhB3pC,EAAKxF,OAAmC,CAC7C,IAAImsC,EAAS3mC,EAAK9N,QAmCd,MAAM,IAAIg8B,EAAOl9B,gBAAgBk9B,EAAOj9B,wBAAwBuW,cAAe,8CAA8CxH,EAAKxF,YAlClI,IAAIwF,EAAK9N,OAAOE,SAA0C,kBAAxB4N,EAAK9N,OAAOE,QA8B1C,MAAM,IAAI87B,EAAOl9B,gBAAgBk9B,EAAOj9B,wBAAwBuW,cAAe,sDAAsDxH,EAAKxF,YA9B1E,CAChE,MAAM6K,GAAgB,EAAIohC,EAAoBgC,gBAAgBzoC,EAAK9N,OAAOE,SAC1E,IAAIy3C,EAAc7pC,EAAKi5B,QAAQxuB,MAAM,KAAK,GAC1C,IAAIo/B,EAuBA,MAAM,IAAI3b,EAAOl9B,gBAAgBk9B,EAAOj9B,wBAAwBuW,cAAe,sDAAsDxH,EAAKxF,YAtB1IwF,EAAK9N,OAAS,CACV0kC,SAAUiT,EACV38C,KAAM,CACF0pC,SAAU,GACVoF,eAAgB,IAChBC,SAAU,IACVC,IAAK,CACDC,IAAK,IACLjF,OAAQ,IAEZkF,KAAM,CAAC,CACC,KAAQ,mBACR,MAAS,CACL,OAAU,GACV,KAAQ/2B,KAGpBg3B,KAAM,IAOtB,CAQR,MACK,GAAmB,oBAAfr8B,EAAKxF,OAA8B,CACxC,IAAImsC,EAAS3mC,EAAK9N,QASd,MAAM,IAAIg8B,EAAOl9B,gBAAgBk9B,EAAOj9B,wBAAwBuW,cAAe,8CAA8CxH,EAAKxF,YARlI,KAAI,YAAawF,EAAK9N,UAAU8N,EAAK9N,OAAOE,SAA0C,kBAAxB4N,EAAK9N,OAAOE,QAItE,MAAM,IAAI87B,EAAOl9B,gBAAgBk9B,EAAOj9B,wBAAwBuW,cAAe,8CAA8CxH,EAAKxF,YAHlIwF,EAAK9N,OAAOE,QAAU+rC,EAAYn+B,EAAK9N,OAAOE,QAS1D,EACA,EAAI87B,EAAO/gC,UAAU,6CAA8CwW,KAAKC,UAAU5D,IAClFlW,EAAOqV,KAAKa,EAChB,CACA,OAAOlW,CACX,CACA,MAAOgQ,GACH,MAAMA,CACV,CACJ,GACJ,CACA,SAASqkC,EAAYl0B,GACjB,IAAI0Z,EAAM,GACV,IAAK,IAAIpnB,EAAI,EAAGA,EAAI0N,EAAIha,OAAQsM,IAC5BonB,GAAO1Z,EAAIwZ,WAAWlnB,GAAGhP,SAAS,IAAI8vC,SAAS,EAAG,KAEtD,OAAO1Z,CACX,CACA,SAAS0iB,EAAsByD,GAC3B,MAAMC,EAAapmC,KAAK6e,MAAMsnB,GACxBhgD,EAAS,CACX8tB,KAAMmyB,EAAWnyB,KACjBoyB,MAAOD,EAAWC,MAClBviC,WAAYsiC,EAAWtiC,WACvBwiC,WAAYF,EAAWE,WACvBt9B,UAAWo9B,EAAWp9B,UAAUnN,KAAKo4B,IAAI,CACrC6C,OAAQ7C,EAAKsS,GACb79B,QAASurB,EAAKr3B,GAAgB,SAAXq3B,EAAKr3B,EAAeq3B,EAAKr3B,EAAIwpC,EAAWI,gBAGnE,OAAOrgD,CACX,CA7fA9B,EAAQs+C,sBAAwBx+C,OAAOsiD,OAAO,CAC1C,gBACA,qBACA,kBACA,0BACA,kBACA,oBACA,uBACA,mBACA,qBACA,sB,qCCxCJtiD,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQo6C,gCAAkCp6C,EAAQu+C,mCAAgC,EAClF,IAAIX,EAAuBl9C,EAAQ,OACnCZ,OAAOC,eAAeC,EAAS,gCAAiC,CAAEwB,YAAY,EAAMC,IAAK,WAAc,OAAOm8C,EAAqBW,6BAA+B,IAClKz+C,OAAOC,eAAeC,EAAS,kCAAmC,CAAEwB,YAAY,EAAMC,IAAK,WAAc,OAAOm8C,EAAqBxD,+BAAiC,G,qCCL1J15C,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAACA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OACbZ,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQqiD,kBAAoBA,EAC5BriD,EAAQ89C,kCAAoCA,EAC5C99C,EAAQk+C,oBAAsBA,EAC9Bl+C,EAAQsiD,gBAAkBA,EAC1BtiD,EAAQi7C,kBAAoBA,EAC5B,MAAM/U,EAASxlC,EAAQ,OACvB,SAAS2hD,EAAkB59B,GACvB,MAAMK,EAAS,GAKf,OAJAL,EAAS7T,SAASu2B,IACd,MAAOliB,EAAOgsB,GAAW9J,EAAQ1kB,MAAM,KACvCqC,EAAO3N,KAAK,GAAG8N,KAASgsB,IAAU,IAE/BnsB,CACX,CACA,SAASg5B,EAAkC5/B,GACvC,IAAIpc,EAAS,GACb,OAAKoc,GAGLpe,OAAO2qB,KAAKvM,GAAYtN,SAAS+D,IACzBA,IAAQuxB,EAAOtT,oBAAsBje,IAAQuxB,EAAOvT,iBAAmBhe,IAAQuxB,EAAOzT,iBAAmB9d,IAAQuxB,EAAO3T,mBACrH5d,GAAOuxB,EAAO1T,iBAAmB7d,IAAQuxB,EAAOxT,iBAAmB/d,IAAQuxB,EAAO5T,oBAAsB3d,IAAQuxB,EAAO7T,kBACtHnU,EAAWvJ,GAAKmQ,QAChBhjB,EAAOqV,KAAK,CACRuN,UAAW/P,EACXmQ,OAAQ5G,EAAWvJ,GAAKmQ,OACxB5a,OAAQgU,EAAWvJ,GAAKzK,QAGpC,IAEGpI,GAdIA,CAef,CACA,SAASo8C,EAAoBpgC,EAASI,EAAYq7B,EAAoBj9B,GAElE,MAAMimC,EAAcA,CAACC,EAAcC,KAC/B3iD,OAAO+b,OAAO2mC,EAAcC,EAAa,EAGvCC,EAAkBA,CAACjf,EAAQkf,KAC7B,IAAK,MAAMhuC,KAAOguC,EACVA,EAAO3gD,eAAe2S,IAAQguC,EAAOhuC,GAAKiuC,SACtCD,EAAOhuC,GAAKiuC,SACPnf,EAAO9uB,GAAKiuC,SACbnf,EAAO9uB,GAAKiuC,OAAS,CAAC,GAG1BL,EAAY9e,EAAO9uB,GAAKiuC,OAAQD,EAAOhuC,GAAKiuC,SAE5CD,EAAOhuC,GAAK8kC,mBAA6Cv4C,IAA7BuiC,EAAO9uB,GAAK8kC,cAEpChW,EAAO9uB,GAAKmQ,OAAOo8B,MAAKj8B,GAASA,EAAMxC,MAAM,KAAK,KAAOkgC,EAAOhuC,GAAK8kC,iBACrEhW,EAAO9uB,GAAK8kC,aAAekJ,EAAOhuC,GAAK8kC,cAIvD,EAGAv7B,GACAwkC,EAAgB5kC,EAAQI,WAAYA,GAGpCq7B,GACAmJ,EAAgB5kC,EAAQI,WAAYq7B,GAExCz7B,EAAQxB,cAAgBA,CAC5B,CA8GA,SAASgmC,EAAgB59B,GACrB,OAAOA,EAAUzL,SAAS,IAC9B,CACA,SAASgiC,EAAkBv2B,GACvB,OAAO49B,EAAgB59B,GAAaA,EAAUjC,MAAM,KAAK,GAAKiC,CAClE,C,mCCvLA5kB,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQq8C,qBAAkB,EAC1Br8C,EAAQq8C,gBAAkB,CACtBC,sBAAuB,wBACvBG,kBAAmB,qBACnBsB,mBAAoB,qB,qCCLxB,IAAIp9C,EAAmBC,MAAQA,KAAKD,kBAAqBb,OAAOe,OAAU,SAASC,EAAGC,EAAGC,EAAGC,QAC7EC,IAAPD,IAAkBA,EAAKD,GAC3B,IAAIG,EAAOrB,OAAOsB,yBAAyBL,EAAGC,GACzCG,KAAS,QAASA,GAAQJ,EAAEM,WAAaF,EAAKG,UAAYH,EAAKI,gBAClEJ,EAAO,CAAEK,YAAY,EAAMC,IAAK,WAAa,OAAOV,EAAEC,EAAI,IAE5DlB,OAAOC,eAAee,EAAGG,EAAIE,EACjC,EAAM,SAASL,EAAGC,EAAGC,EAAGC,QACTC,IAAPD,IAAkBA,EAAKD,GAC3BF,EAAEG,GAAMF,EAAEC,EACd,GACIksB,EAAgBtsB,MAAQA,KAAKssB,cAAiB,SAASnsB,EAAGf,GAC1D,IAAK,IAAImtB,KAAKpsB,EAAa,YAANosB,GAAoBrtB,OAAOiC,UAAUC,eAAeC,KAAKjC,EAASmtB,IAAIxsB,EAAgBX,EAASe,EAAGosB,EAC3H,EACArtB,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDitB,EAAaxsB,EAAQ,OAAaV,GAClCktB,EAAaxsB,EAAQ,OAAaV,E,mCChBlCF,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQ6iD,yBAA2B7iD,EAAQ8iD,QAAU9iD,EAAQ+iD,QAAU/iD,EAAQgjD,QAAUhjD,EAAQijD,WAAajjD,EAAQkjD,SAAWljD,EAAQmjD,UAAYnjD,EAAQojD,YAAS,EACtKpjD,EAAQojD,OAAS,QACjBpjD,EAAQmjD,UAAY,gCACpBnjD,EAAQkjD,SAAW,KACnBljD,EAAQijD,WAAa,EACrBjjD,EAAQgjD,QAAU,qBAClBhjD,EAAQ+iD,QAAU,GAAG/iD,EAAQkjD,YAAYljD,EAAQijD,cAAcjjD,EAAQgjD,WACvEhjD,EAAQ8iD,QAAU,oCAClB9iD,EAAQ6iD,yBAA2B,S,qCCTnC,IAAIliD,EAAmBC,MAAQA,KAAKD,kBAAqBb,OAAOe,OAAU,SAASC,EAAGC,EAAGC,EAAGC,QAC7EC,IAAPD,IAAkBA,EAAKD,GAC3B,IAAIG,EAAOrB,OAAOsB,yBAAyBL,EAAGC,GACzCG,KAAS,QAASA,GAAQJ,EAAEM,WAAaF,EAAKG,UAAYH,EAAKI,gBAClEJ,EAAO,CAAEK,YAAY,EAAMC,IAAK,WAAa,OAAOV,EAAEC,EAAI,IAE5DlB,OAAOC,eAAee,EAAGG,EAAIE,EACjC,EAAM,SAASL,EAAGC,EAAGC,EAAGC,QACTC,IAAPD,IAAkBA,EAAKD,GAC3BF,EAAEG,GAAMF,EAAEC,EACd,GACIksB,EAAgBtsB,MAAQA,KAAKssB,cAAiB,SAASnsB,EAAGf,GAC1D,IAAK,IAAImtB,KAAKpsB,EAAa,YAANosB,GAAoBrtB,OAAOiC,UAAUC,eAAeC,KAAKjC,EAASmtB,IAAIxsB,EAAgBX,EAASe,EAAGosB,EAC3H,EACArtB,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDitB,EAAaxsB,EAAQ,OAAYV,GACjCktB,EAAaxsB,EAAQ,OAAYV,E,qCCjBrBU,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAACA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OACb,IAAIwB,EAAatB,MAAQA,KAAKsB,WAAc,SAAUC,EAASC,EAAYC,EAAGC,GAC1E,SAASC,EAAMtC,GAAS,OAAOA,aAAiBoC,EAAIpC,EAAQ,IAAIoC,GAAE,SAAUG,GAAWA,EAAQvC,EAAQ,GAAI,CAC3G,OAAO,IAAKoC,IAAMA,EAAII,WAAU,SAAUD,EAASE,GAC/C,SAASC,EAAU1C,GAAS,IAAM2C,EAAKN,EAAUO,KAAK5C,GAAS,CAAE,MAAO6C,GAAKJ,EAAOI,EAAI,CAAE,CAC1F,SAASC,EAAS9C,GAAS,IAAM2C,EAAKN,EAAU,SAASrC,GAAS,CAAE,MAAO6C,GAAKJ,EAAOI,EAAI,CAAE,CAC7F,SAASF,EAAKd,GAAUA,EAAOkB,KAAOR,EAAQV,EAAO7B,OAASsC,EAAMT,EAAO7B,OAAOgD,KAAKN,EAAWI,EAAW,CAC7GH,GAAMN,EAAYA,EAAUY,MAAMf,EAASC,GAAc,KAAKS,OAClE,GACJ,EACA/C,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtD,MAAMmD,EAAc1C,EAAQ,OACtBwlC,EAASxlC,EAAQ,OACjB6C,EAAU7C,EAAQ,OAClB2iD,EAAsB3iD,EAAQ,OAC9B4iD,EAAoB5iD,EAAQ,OAClC,MAAM6iD,EACFz/C,WAAAA,CAAYi0C,EAAMhmC,EAAM0b,EAAQzpB,GAC5BpD,KAAKmR,KAAO,QACZnR,KAAK8jB,UAAYqzB,EAAKrzB,UACtB9jB,KAAKoD,OAASA,EACdpD,KAAK6sB,OAASA,EACd7sB,KAAKqwC,QAAUrwC,KAAKq8C,kBACpBr8C,KAAK4iD,cAAgB5iD,KAAK6iD,sBAC1B7iD,KAAKmR,KAAOA,CAChB,CACA2xC,eAAAA,CAAgBh/B,GACZ9jB,KAAK8jB,UAAY5kB,OAAO+b,OAAOjb,KAAK8jB,UAAWA,EACnD,CACAm0B,eAAAA,GACI,OAAOj4C,KAAK+iD,aAChB,CACAnoC,OAAAA,CAAQyZ,GACJ,OAAO/yB,EAAUtB,UAAM,OAAQ,GAAQ,YAGnC,IAFA,EAAIslC,EAAO/gC,UAAU,iCAAkCwW,KAAKC,UAAUqZ,KACtE,EAAIiR,EAAO/gC,UAAU,8BAA+BvE,KAAK8jB,WACrD9jB,KAAK8jB,UAAUE,QAAQ3L,SAASgc,EAAKziB,QACrC,OAAO5R,KAAK6sB,OAAOjS,QAAQyZ,GAG3B,MAAM,IAAIiR,EAAOl9B,gBAAgBk9B,EAAOj9B,wBAAwBmpB,qBAAsB,yBAE9F,GACJ,CACAooB,eAAAA,CAAgBvJ,EAASwJ,GAEhB75C,KAAK4iD,cAAcvS,IACpBrwC,KAAKgjD,gBAAgB3S,EAASwJ,GAElC75C,KAAKqwC,QAAUA,EACfrwC,KAAKoD,OAAOwB,KAAKpC,EAAYi5C,gBAAgBC,sBAAuB,GAAG17C,KAAKmR,QAAQk/B,IACxF,CACAgM,eAAAA,GACI,GAAIr8C,KAAKqwC,QACL,OAAOrwC,KAAKqwC,QAChB,GAAIrwC,KAAK8jB,UAAU+0B,aACf,OAAO74C,KAAK8jB,UAAU+0B,aAC1B,MAAMxI,EAAUrwC,KAAK8jB,UAAUI,OAAO,GACtC,IAAKmsB,EACD,MAAM,IAAIxsC,MAAM,qBACpB,OAAOwsC,EAAQxuB,MAAM,KAAK,EAC9B,CAEAkhC,WAAAA,GACI,MAAMl/B,EAAW7jB,KAAK8jB,UAAUD,SAChC,OAAKA,EAGE,IACA,IAAIrM,IAAIqM,EAENzL,QAAQmuB,GAAYA,EAAQ1kB,MAAM,KAAK,KAAO7hB,KAAKqwC,QAAQ1rC,aAE3DiS,KAAK2vB,GAAYA,EAAQ1kB,MAAM,KAAK,OAPlC,EASf,CACAghC,mBAAAA,GACI,MAAMI,EAAO,CAAC,EASd,OARAjjD,KAAK8jB,UAAUI,OAAOlU,SAASqU,IAC3B,MAAM6+B,GAAgB,EAAIvgD,EAAQwgD,YAAY9+B,GACxC++B,GAAY,EAAIzgD,EAAQ0gD,WAAWh/B,EAAOrkB,KAAK8jB,WACrD,IAAIw/B,EAAetjD,KAAKujD,mBAAmBL,EAAeE,GACtDE,IACAL,EAAKC,GAAiBI,EAC1B,IAEGL,CACX,CACAO,eAAAA,GACI,MAAMn/B,EAAQ,GAAGrkB,KAAKqwC,UAChB4S,EAAOjjD,KAAK4iD,cAAcv+B,GAChC,GAAoB,qBAAT4+B,EACP,MAAM,IAAIp/C,MAAM,yBAAyBwgB,eAE7C,OAAO4+B,CACX,CACAD,eAAAA,CAAgB3S,EAASwJ,GACrB,MAAMoJ,EAAOjjD,KAAKujD,mBAAmBlT,EAASwJ,GAC1CoJ,IACAjjD,KAAK4iD,cAAcvS,GAAW4S,EAEtC,CACAM,kBAAAA,CAAmBlT,EAASwJ,GAExB,MAAM4J,EAAM5J,EACZ,GAAK4J,EAIA,CACD,MAAMR,EAAO,IAAIP,EAAkBgB,gBAAgB,IAAIjB,EAAoBkB,kBAAkBF,GAAK,EAAI9gD,EAAQihD,WAAW,yBACzH,OAAOX,CACX,CACJ,CACAvG,gBAAAA,CAAiBroB,GACb,OAAO,CACX,EAEJj1B,EAAAA,WAAkBujD,C,qCCtHN7iD,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAACA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OACb,IAAIwB,EAAatB,MAAQA,KAAKsB,WAAc,SAAUC,EAASC,EAAYC,EAAGC,GAC1E,SAASC,EAAMtC,GAAS,OAAOA,aAAiBoC,EAAIpC,EAAQ,IAAIoC,GAAE,SAAUG,GAAWA,EAAQvC,EAAQ,GAAI,CAC3G,OAAO,IAAKoC,IAAMA,EAAII,WAAU,SAAUD,EAASE,GAC/C,SAASC,EAAU1C,GAAS,IAAM2C,EAAKN,EAAUO,KAAK5C,GAAS,CAAE,MAAO6C,GAAKJ,EAAOI,EAAI,CAAE,CAC1F,SAASC,EAAS9C,GAAS,IAAM2C,EAAKN,EAAU,SAASrC,GAAS,CAAE,MAAO6C,GAAKJ,EAAOI,EAAI,CAAE,CAC7F,SAASF,EAAKd,GAAUA,EAAOkB,KAAOR,EAAQV,EAAO7B,OAASsC,EAAMT,EAAO7B,OAAOgD,KAAKN,EAAWI,EAAW,CAC7GH,GAAMN,EAAYA,EAAUY,MAAMf,EAASC,GAAc,KAAKS,OAClE,GACJ,EACA/C,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtD,MAAMmD,EAAc1C,EAAQ,OACtBwlC,EAASxlC,EAAQ,OACjB6C,EAAU7C,EAAQ,OAClB2iD,EAAsB3iD,EAAQ,OAC9B4iD,EAAoB5iD,EAAQ,OAClC,MAAM+jD,EACF3gD,WAAAA,CAAYi0C,EAAMhmC,EAAM0b,EAAQzpB,GAC5BpD,KAAKmR,KAAOm0B,EAAO1T,gBACnB5xB,KAAK8jB,UAAYqzB,EAAKrzB,UACtB9jB,KAAKoD,OAASA,EACdpD,KAAK6sB,OAASA,EACd7sB,KAAKqwC,QAAUrwC,KAAKq8C,kBACpBr8C,KAAK4iD,cAAgB5iD,KAAK6iD,sBAC1B7iD,KAAKmR,KAAOA,CAChB,CACA2xC,eAAAA,CAAgBh/B,GACZ9jB,KAAK8jB,UAAY5kB,OAAO+b,OAAOjb,KAAK8jB,UAAWA,EACnD,CACAm0B,eAAAA,GACI,OAAOj4C,KAAK+iD,aAChB,CACAnoC,OAAAA,CAAQyZ,GACJ,OAAO/yB,EAAUtB,UAAM,OAAQ,GAAQ,YAGnC,OAFA,EAAIslC,EAAO/gC,UAAU,8BAA+BwW,KAAKC,UAAUqZ,KACnE,EAAIiR,EAAO/gC,UAAU,2BAA4BwW,KAAKC,UAAUhb,KAAK8jB,YACjE9jB,KAAK8jB,UAAUE,QAAQ3L,SAASgc,EAAKziB,QAC9B5R,KAAK6sB,OAAOjS,QAAQyZ,GAExBr0B,KAAKwjD,kBAAkB5oC,QAAQyZ,EAC1C,GACJ,CACAulB,eAAAA,CAAgBvJ,EAASwJ,GAEhB75C,KAAK4iD,cAAcvS,IACpBrwC,KAAKgjD,gBAAgB3S,EAASwJ,GAElC75C,KAAKqwC,QAAUA,EACfrwC,KAAKoD,OAAOwB,KAAKpC,EAAYi5C,gBAAgBC,sBAAuB,GAAG17C,KAAKmR,QAAQk/B,IACxF,CACAgM,eAAAA,GACI,GAAIr8C,KAAKqwC,QACL,OAAOrwC,KAAKqwC,QAChB,GAAIrwC,KAAK8jB,UAAU+0B,aACf,OAAO74C,KAAK8jB,UAAU+0B,aAC1B,MAAMxI,EAAUrwC,KAAK8jB,UAAUI,OAAO,GACtC,IAAKmsB,EACD,MAAM,IAAIxsC,MAAM,qBACpB,OAAOwsC,EAAQxuB,MAAM,KAAK,EAC9B,CAEAkhC,WAAAA,GACI,MAAMl/B,EAAW7jB,KAAK8jB,UAAUD,SAChC,OAAKA,EAGE,IACA,IAAIrM,IAAIqM,EAENzL,QAAQmuB,GAAYA,EAAQ1kB,MAAM,KAAK,KAAO7hB,KAAKqwC,QAAQ1rC,aAE3DiS,KAAK2vB,GAAYA,EAAQ1kB,MAAM,KAAK,OAPlC,EASf,CACAghC,mBAAAA,GACI,MAAMI,EAAO,CAAC,EASd,OARAjjD,KAAK8jB,UAAUI,OAAOlU,SAASqU,IAC3B,MAAM6+B,GAAgB,EAAIvgD,EAAQwgD,YAAY9+B,GACxC++B,GAAY,EAAIzgD,EAAQ0gD,WAAWh/B,EAAOrkB,KAAK8jB,WACrD,IAAIw/B,EAAetjD,KAAKujD,mBAAmBL,EAAeE,GACtDE,IACAL,EAAKC,GAAiBI,EAC1B,IAEGL,CACX,CACAO,eAAAA,GACI,MAAMn/B,EAAQ,GAAGrkB,KAAKqwC,UAChB4S,EAAOjjD,KAAK4iD,cAAcv+B,GAChC,GAAoB,qBAAT4+B,EACP,MAAM,IAAIp/C,MAAM,yBAAyBwgB,eAE7C,OAAO4+B,CACX,CACAD,eAAAA,CAAgB3S,EAASwJ,GACrB,MAAMoJ,EAAOjjD,KAAKujD,mBAAmBlT,EAASwJ,GAC1CoJ,IACAjjD,KAAK4iD,cAAcvS,GAAW4S,EAEtC,CACAM,kBAAAA,CAAmBlT,EAASwJ,GAExB,MAAM4J,EAAM5J,EACZ,GAAK4J,EAIA,CACD,MAAMR,EAAO,IAAIP,EAAkBgB,gBAAgB,IAAIjB,EAAoBkB,kBAAkBF,GAAK,EAAI9gD,EAAQihD,WAAW,yBACzH,OAAOX,CACX,EANI,EAAI3d,EAAOh/B,UAAU,oCAAoC+pC,IAOjE,CACAqM,gBAAAA,CAAiBroB,GACb,OAAO,CACX,EAEJj1B,EAAAA,WAAkBykD,C,qCCpHN/jD,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAACA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OACb,IAAIwB,EAAatB,MAAQA,KAAKsB,WAAc,SAAUC,EAASC,EAAYC,EAAGC,GAC1E,SAASC,EAAMtC,GAAS,OAAOA,aAAiBoC,EAAIpC,EAAQ,IAAIoC,GAAE,SAAUG,GAAWA,EAAQvC,EAAQ,GAAI,CAC3G,OAAO,IAAKoC,IAAMA,EAAII,WAAU,SAAUD,EAASE,GAC/C,SAASC,EAAU1C,GAAS,IAAM2C,EAAKN,EAAUO,KAAK5C,GAAS,CAAE,MAAO6C,GAAKJ,EAAOI,EAAI,CAAE,CAC1F,SAASC,EAAS9C,GAAS,IAAM2C,EAAKN,EAAU,SAASrC,GAAS,CAAE,MAAO6C,GAAKJ,EAAOI,EAAI,CAAE,CAC7F,SAASF,EAAKd,GAAUA,EAAOkB,KAAOR,EAAQV,EAAO7B,OAASsC,EAAMT,EAAO7B,OAAOgD,KAAKN,EAAWI,EAAW,CAC7GH,GAAMN,EAAYA,EAAUY,MAAMf,EAASC,GAAc,KAAKS,OAClE,GACJ,EACA/C,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtD,MAAMmD,EAAc1C,EAAQ,OACtBwlC,EAASxlC,EAAQ,OACjB6C,EAAU7C,EAAQ,OAClB2iD,EAAsB3iD,EAAQ,OAC9B4iD,EAAoB5iD,EAAQ,OAClC,MAAMgkD,EACF5gD,WAAAA,CAAYi0C,EAAMtqB,EAAQzpB,GACtBpD,KAAKmR,KAAOm0B,EAAO5T,mBACnB1xB,KAAK8jB,UAAYqzB,EAAKrzB,UACtB9jB,KAAKoD,OAASA,EACdpD,KAAK6sB,OAASA,EACd7sB,KAAKqwC,QAAUrwC,KAAKq8C,kBACpBr8C,KAAK4iD,cAAgB5iD,KAAK6iD,qBAC9B,CACAC,eAAAA,CAAgBh/B,GACZ9jB,KAAK8jB,UAAY5kB,OAAO+b,OAAOjb,KAAK8jB,UAAWA,EACnD,CACAm0B,eAAAA,GACI,OAAOj4C,KAAK+iD,aAChB,CACAnoC,OAAAA,CAAQyZ,GACJ,OAAO/yB,EAAUtB,UAAM,OAAQ,GAAQ,YAGnC,IAFA,EAAIslC,EAAO/gC,UAAU,iCAAkCwW,KAAKC,UAAUqZ,KACtE,EAAIiR,EAAO/gC,UAAU,8BAA+BwW,KAAKC,UAAUhb,KAAK8jB,YACpE9jB,KAAK8jB,UAAUE,QAAQ3L,SAASgc,EAAKziB,QACrC,OAAO5R,KAAK6sB,OAAOjS,QAAQyZ,GAG3B,MAAM,IAAIiR,EAAOl9B,gBAAgBk9B,EAAOj9B,wBAAwBmpB,qBAAsB,yBAE9F,GACJ,CACAooB,eAAAA,CAAgBvJ,EAASwJ,GAEhB75C,KAAK4iD,cAAcvS,IACpBrwC,KAAKgjD,gBAAgB3S,EAASwJ,GAElC75C,KAAKqwC,QAAUA,EACfrwC,KAAKoD,OAAOwB,KAAKpC,EAAYi5C,gBAAgBC,sBAAuB,GAAG17C,KAAKmR,QAAQk/B,IACxF,CACAgM,eAAAA,GACI,GAAIr8C,KAAKqwC,QACL,OAAOrwC,KAAKqwC,QAChB,GAAIrwC,KAAK8jB,UAAU+0B,aACf,OAAO74C,KAAK8jB,UAAU+0B,aAC1B,MAAMxI,EAAUrwC,KAAK8jB,UAAUI,OAAO,GACtC,IAAKmsB,EACD,MAAM,IAAIxsC,MAAM,qBACpB,OAAOwsC,EAAQxuB,MAAM,KAAK,EAC9B,CAEAkhC,WAAAA,GACI,MAAMl/B,EAAW7jB,KAAK8jB,UAAUD,SAChC,OAAKA,EAGE,IACA,IAAIrM,IAAIqM,EAENzL,QAAQmuB,GAAYA,EAAQ1kB,MAAM,KAAK,KAAO7hB,KAAKqwC,QAAQ1rC,aAE3DiS,KAAK2vB,GAAYA,EAAQ1kB,MAAM,KAAK,OAPlC,EASf,CACAghC,mBAAAA,GACI,MAAMI,EAAO,CAAC,EASd,OARAjjD,KAAK8jB,UAAUI,OAAOlU,SAASqU,IAC3B,MAAM6+B,GAAgB,EAAIvgD,EAAQwgD,YAAY9+B,GACxC++B,GAAY,EAAIzgD,EAAQ0gD,WAAWh/B,EAAOrkB,KAAK8jB,WACrD,IAAIw/B,EAAetjD,KAAKujD,mBAAmBL,EAAeE,GACtDE,IACAL,EAAKC,GAAiBI,EAC1B,IAEGL,CACX,CACAO,eAAAA,GACI,MAAMn/B,EAAQ,GAAGrkB,KAAKqwC,UAChB4S,EAAOjjD,KAAK4iD,cAAcv+B,GAChC,GAAoB,qBAAT4+B,EACP,MAAM,IAAIp/C,MAAM,yBAAyBwgB,eAE7C,OAAO4+B,CACX,CACAD,eAAAA,CAAgB3S,EAASwJ,GACrB,MAAMoJ,EAAOjjD,KAAKujD,mBAAmBlT,EAASwJ,GAC1CoJ,IACAjjD,KAAK4iD,cAAcvS,GAAW4S,EAEtC,CACAM,kBAAAA,CAAmBlT,EAASwJ,GAExB,MAAM4J,EAAM5J,EACZ,GAAK4J,EAIA,CACD,MAAMR,EAAO,IAAIP,EAAkBgB,gBAAgB,IAAIjB,EAAoBkB,kBAAkBF,GAAK,EAAI9gD,EAAQihD,WAAW,yBACzH,OAAOX,CACX,CACJ,CACAvG,gBAAAA,CAAiBroB,GACb,OAAO,CACX,EAEJj1B,EAAAA,WAAkB0kD,C,qCCrHNhkD,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAACA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OACb,IAAIwB,EAAatB,MAAQA,KAAKsB,WAAc,SAAUC,EAASC,EAAYC,EAAGC,GAC1E,SAASC,EAAMtC,GAAS,OAAOA,aAAiBoC,EAAIpC,EAAQ,IAAIoC,GAAE,SAAUG,GAAWA,EAAQvC,EAAQ,GAAI,CAC3G,OAAO,IAAKoC,IAAMA,EAAII,WAAU,SAAUD,EAASE,GAC/C,SAASC,EAAU1C,GAAS,IAAM2C,EAAKN,EAAUO,KAAK5C,GAAS,CAAE,MAAO6C,GAAKJ,EAAOI,EAAI,CAAE,CAC1F,SAASC,EAAS9C,GAAS,IAAM2C,EAAKN,EAAU,SAASrC,GAAS,CAAE,MAAO6C,GAAKJ,EAAOI,EAAI,CAAE,CAC7F,SAASF,EAAKd,GAAUA,EAAOkB,KAAOR,EAAQV,EAAO7B,OAASsC,EAAMT,EAAO7B,OAAOgD,KAAKN,EAAWI,EAAW,CAC7GH,GAAMN,EAAYA,EAAUY,MAAMf,EAASC,GAAc,KAAKS,OAClE,GACJ,EACA/C,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQo7C,oBAAiB,EACzB,MAAM73C,EAAU7C,EAAQ,OAClB0C,EAAc1C,EAAQ,OACtBwlC,EAASxlC,EAAQ,OACjB4iD,EAAoB5iD,EAAQ,OAC5B2iD,EAAsB3iD,EAAQ,OACpC,MAAM06C,EACFt3C,WAAAA,CAAYi0C,EAAMtqB,EAAQzpB,GACtBpD,KAAKmR,KAAO,SACZnR,KAAK8jB,UAAYqzB,EAAKrzB,UACtB9jB,KAAKoD,OAASA,EACdpD,KAAK6sB,OAASA,EACd7sB,KAAKqwC,QAAU1R,SAAS3+B,KAAKq8C,mBAE7Br8C,KAAK4iD,cAAgB5iD,KAAK6iD,uBAC1B,EAAIvd,EAAO/gC,UAAU,4CAA0C4yC,EAAKrzB,UACxE,CACAi6B,QAAAA,CAAS1+C,GACL,MAAwB,kBAAVA,GAAgC,OAAVA,IAAmBiY,MAAMwmC,QAAQz+C,EACzE,CACAy+C,OAAAA,CAAQz+C,GACJ,MAAwB,kBAAVA,GAAgC,OAAVA,GAAkBiY,MAAMwmC,QAAQz+C,EACxE,CACA0kD,mBAAAA,CAAoB1vB,GAChB,IAAI2vB,EAAQ3vB,EAAK/qB,QAAiC,kBAAhB+qB,EAAK/qB,SAAwBgO,MAAMwmC,QAAQzpB,EAAK/qB,QAClF,GAAoB,+BAAhB+qB,EAAKziB,OAAyC,CAC9C,MAAMqyC,EAAgB5vB,EAAKgc,QAAQxuB,MAAM,KAAK,GAExCqiC,EAAgBvlB,SAASslB,EAAe,IAC9C,GAAIrP,MAAMsP,GACN,MAAM,IAAI5e,EAAOl9B,gBAAgBk9B,EAAOj9B,wBAAwBgpB,oBAAqB,sCAAsC4yB,OAE/H,GAAK5vB,EAAK/qB,OAGL,KAAI06C,EAQL,MAAM,IAAI1e,EAAOl9B,gBAAgBk9B,EAAOj9B,wBAAwBgpB,oBAAqB,oCAAoCgD,EAAKziB,YARlH,CACZ,IAAItI,EAAS+qB,EAAK/qB,OACZ,YAAaA,IACfA,EAAO,WAAa,KAAO46C,EAAcv/C,SAAS,IAClD0vB,EAAK/qB,OAASA,EAEtB,CAGA,MAXI+qB,EAAK/qB,OAAS,CAAE+mC,QAAS,KAAO6T,EAAcv/C,SAAS,IAY/D,MACK,GAAoB,kBAAhB0vB,EAAKziB,QACS,yBAAhByiB,EAAKziB,QACW,wBAAhByiB,EAAKziB,QACW,sBAAhByiB,EAAKziB,OAAgC,CACxC,IAAKyiB,EAAK/qB,OACN,MAAM,IAAIg8B,EAAOl9B,gBAAgBk9B,EAAOj9B,wBAAwBgpB,oBAAqB,mCAAmCgD,EAAKziB,WAEjI,IAAI5R,KAAK+9C,SAAS1pB,EAAK/qB,QA0BnB,MAAM,IAAIg8B,EAAOl9B,gBAAgBk9B,EAAOj9B,wBAAwBgpB,oBAAqB,yCAAyCgD,EAAKziB,WA1BvG,CAC5B,IAAItI,EAAS+qB,EAAK/qB,OAElB,IADA,EAAIg8B,EAAO/gC,UAAU,qCAAsCwW,KAAKC,UAAU1R,IACtE,YAAaA,EAAQ,CACrB,MAAM66C,EAAkB9vB,EAAKgc,QAAQxuB,MAAM,KAAK,GAC1CuiC,EAAWzlB,SAASwlB,EAAiB,IAC3C,IACIE,EADAC,EAAoB3nC,OAAOrT,EAAO+mC,SAEtC,GAAIiU,EAAkBhyC,WAAWtS,KAAKmR,OAASkjB,EAAKgc,UAAYiU,EAC5DD,EAAgBD,OAEf,GAAIE,EAAkBhyC,WAAW,MAClC+xC,EAAgB1lB,SAAS2lB,EAAmB,QAE3C,IAAK1P,MAAM54B,OAAOsoC,IAInB,MAAM,IAAIhf,EAAOl9B,gBAAgBk9B,EAAOj9B,wBAAwBgpB,oBAAqB,2CAA2CgD,EAAKziB,WAHrIyyC,EAAgB1lB,SAAS2lB,EAAmB,GAIhD,CACA,GAAIF,IAAaC,EACb,MAAM,IAAI/e,EAAOl9B,gBAAgBk9B,EAAOj9B,wBAAwBgpB,oBAAqB,qDAAqDgD,EAAKziB,WAEvJ,CACJ,CAIJ,CACJ,CAEA2yC,UAAAA,CAAWlwB,GACP,GAAoB,+BAAhBA,EAAKziB,QACc,4BAAhByiB,EAAKziB,QACW,sBAAhByiB,EAAKziB,QACW,wBAAhByiB,EAAKziB,QACR,GAAI5R,KAAK89C,QAAQzpB,EAAK/qB,QAAS,CAC3B,IAAIo3C,EAAYrsB,EAAK/qB,OACrB,GAAIo3C,EAAW,CACX,GAAyB,IAArBA,EAAUr5C,OAMT,MAAIq5C,EAAUr5C,OAAS,EAClB,IAAIi+B,EAAOl9B,gBAAgBk9B,EAAOj9B,wBAAwBuW,cAAe,mDAAmDyV,EAAKziB,YAGjI,IAAI0zB,EAAOl9B,gBAAgBk9B,EAAOj9B,wBAAwBuW,cAAe,oCAAoCyV,EAAKziB,YAVhG,CACxB,IAAI+uC,EAAatsB,EAAK/qB,OAAO,GACzBtJ,KAAK+9C,SAAS4C,KACdtsB,EAAK/qB,OAASq3C,EAEtB,CAOJ,CACJ,OAEC,GAAoB,yBAAhBtsB,EAAKziB,QACV,GAAI5R,KAAK89C,QAAQzpB,EAAK/qB,QAAS,CAC3B,IAAIo3C,EAAYrsB,EAAK/qB,OACrB,GAAIo3C,GAAaA,EAAUr5C,OAAS,EAChC,MAAM,IAAIi+B,EAAOl9B,gBAAgBk9B,EAAOj9B,wBAAwBuW,cAAe,mDAAmDyV,EAAKziB,YAEtI,GAAI8uC,GAAkC,IAArBA,EAAUr5C,OAC5B,MAAM,IAAIi+B,EAAOl9B,gBAAgBk9B,EAAOj9B,wBAAwBuW,cAAe,oCAAoCyV,EAAKziB,YAE5H,IAAIiE,EAAa,CAAC,EAClB,GAAI6qC,GAAkC,IAArBA,EAAUr5C,OAAc,CACrC,IAAIm9C,EAAanwB,EAAK/qB,OAAO,GAC7B,IAAIk7C,GAAoC,kBAAfA,EAoBrB,MAAM,IAAIlf,EAAOl9B,gBAAgBk9B,EAAOj9B,wBAAwBuW,cAAe,wDAAwDyV,EAAKziB,YApB9F,CAC9C,IAAI6yC,GAAU,EAQd,GAPAzkD,KAAK8jB,UAAUD,SAAS7T,SAASu2B,IAC7B,IAAIme,GAAe,EAAI/hD,EAAQ27C,sBAAsB/X,GACjDme,EAAaphB,gBAAkBkhB,EAAWlhB,gBAC1CmhB,GAAU,EACd,KAEJ,EAAInf,EAAO/gC,UAAU,sDAAuDkgD,IACvEA,EACD,MAAM,IAAInf,EAAOl9B,gBAAgBk9B,EAAOj9B,wBAAwBuW,cAAe,sDAAsDyV,EAAKziB,YAE9I,IAAI5R,KAAK+9C,SAAS1pB,EAAK/qB,OAAO,IAI1B,MAAM,IAAIg8B,EAAOl9B,gBAAgBk9B,EAAOj9B,wBAAwBuW,cAAe,gDAAgDyV,EAAKziB,YAHpIiE,EAAawe,EAAK/qB,OAAO,EAKjC,CAIJ,MACK,GAAIo3C,GAAkC,IAArBA,EAAUr5C,OAAc,CAC1C,IAAIrH,KAAK+9C,SAAS1pB,EAAK/qB,OAAO,IAI1B,MAAM,IAAIg8B,EAAOl9B,gBAAgBk9B,EAAOj9B,wBAAwBuW,cAAe,gDAAgDyV,EAAKziB,YAHpIiE,EAAawe,EAAK/qB,OAAO,EAKjC,CACA,IACI,IAAIo/B,EAAW3tB,KAAKC,UAAUnF,GAC9Bwe,EAAK/qB,OAAS,CACVq7C,cAAejc,EAEvB,CACA,MAAOvgC,GACH,MAAM,IAAIm9B,EAAOl9B,gBAAgBk9B,EAAOj9B,wBAAwBuW,cAAe,0DAA0DyV,EAAKziB,WAClJ,CACJ,OAEC,GAAoB,kBAAhByiB,EAAKziB,QACN5R,KAAK89C,QAAQzpB,EAAK/qB,QAAS,CAC3B,GAAI+qB,EAAK/qB,QAAU+qB,EAAK/qB,OAAOjC,OAAS,EACpC,MAAM,IAAIi+B,EAAOl9B,gBAAgBk9B,EAAOj9B,wBAAwBuW,cAAe,mCAAmCyV,EAAKziB,YAEtH,GAAIyiB,EAAK/qB,QAAiC,IAAvB+qB,EAAK/qB,OAAOjC,OAChC,MAAM,IAAIi+B,EAAOl9B,gBAAgBk9B,EAAOj9B,wBAAwBuW,cAAe,oCAAoCyV,EAAKziB,YAE5H,IAAIgvC,EAAWvsB,EAAK/qB,OAAO,GACvBs7C,EAAYvwB,EAAK/qB,OAAO,GAC5B,GAAIs7C,GAAkC,kBAAdA,EAAwB,CAC5C,IAAIH,GAAU,EAQd,GAPAzkD,KAAK8jB,UAAUD,SAAS7T,SAASu2B,IAC7B,IAAIme,GAAe,EAAI/hD,EAAQ27C,sBAAsB/X,GACjDme,EAAaphB,gBAAkBshB,EAAUthB,gBACzCmhB,GAAU,EACd,KAEJ,EAAInf,EAAO/gC,UAAU,+CAAgDkgD,IAChEA,EACD,MAAM,IAAInf,EAAOl9B,gBAAgBk9B,EAAOj9B,wBAAwBuW,cAAe,2CAA2CyV,EAAKziB,WAEvI,CACA,IAAIgvC,GAAgC,kBAAbA,EAMnB,MAAM,IAAItb,EAAOl9B,gBAAgBk9B,EAAOj9B,wBAAwBuW,cAAe,sCAAsCyV,EAAKziB,YAL1HyiB,EAAK/qB,OAAS,CACVE,QAASo3C,EAMrB,CAER,CACAlE,gBAAAA,CAAiBroB,GACb,OAAQA,EAAKziB,QACT,IAAK,sBACL,IAAK,eACL,IAAK,cACD,OAAO,EACX,IAAK,sBACL,IAAK,sBACL,IAAK,WACL,IAAK,gBACL,IAAK,oBACL,IAAK,0BACL,IAAK,oBACL,IAAK,uBACD,OAAO,EACX,IAAK,6BAA8B,CAC/B5R,KAAKukD,WAAWlwB,GAChBr0B,KAAK+jD,oBAAoB1vB,GACzB,MAAM,cAAE6uB,EAAa,WAAE2B,GAAe7kD,KAAK8kD,yBAAyBzwB,GACpE,OAAQr0B,KAAK+kD,gBAAgB7B,EACjC,CACA,QACI,OAAO,EAEf,OAAO,CACX,CACAtoC,OAAAA,CAAQyZ,GACJ,OAAO/yB,EAAUtB,UAAM,OAAQ,GAAQ,YAKnC,OAJAA,KAAKukD,WAAWlwB,IAChB,EAAIiR,EAAO/gC,UAAU,iCAAkCwW,KAAKC,UAAUqZ,IACtEr0B,KAAK+jD,oBAAoB1vB,IACzB,EAAIiR,EAAO/gC,UAAU,mCAAoCwW,KAAKC,UAAUqZ,IAChEA,EAAKziB,QACT,IAAK,sBACD,OAAO5R,KAAK+iD,cAChB,IAAK,eACD,OAAO/iD,KAAK+iD,cAChB,IAAK,cACD,OAAOpkB,SAAS3+B,KAAKq8C,mBACzB,IAAK,6BACD,aAAcr8C,KAAKglD,kBAAkB3wB,GAEzC,IAAK,0BACD,OAAOr0B,KAAKilD,iBAAiB5wB,GACjC,QACI,MAER,IAAIr0B,KAAK8jB,UAAUE,QAAQ3L,SAASgc,EAAKziB,QA2BrC,OADA,EAAI0zB,EAAO/gC,UAAU,6BACRvE,KAAKwjD,kBAAkB5oC,QAAQyZ,GAtB5C,IACI,MAAMhZ,QAAiBrb,KAAK6sB,OAAOjS,QAAQyZ,GAE3C,IADA,EAAIiR,EAAO/gC,UAAU,uCAAwCwW,KAAKC,UAAUK,IACxErb,KAAK+9C,SAAS1iC,IACV,WAAYA,EAAU,CACtB,IAAIna,EAASma,EAASna,OACtB,OAAIA,GAA4B,kBAAXA,GAAmC,SAAXA,GAAgC,UAAXA,EAI3Dma,EAASna,SAHZ,EAAIokC,EAAO/gC,UAAU,yCAAqD,SAAXrD,GAC5C,SAAXA,EAGhB,CAEJ,OAAOma,CACX,CACA,MAAOnZ,GAEH,MADA,EAAIojC,EAAO/gC,UAAU,2EAA2ErC,aAAaojC,EAAOl9B,kBAAmB2S,KAAKC,UAAU9Y,IAChJA,CACV,CAMR,GACJ,CACA+iD,gBAAAA,CAAiB5wB,GACb,OAAO/yB,EAAUtB,UAAM,OAAQ,GAAQ,YACnC,IAAIklD,QAAoBllD,KAAK6sB,OAAOjS,QAAQyZ,GAC5C,IACI,GAAI,WAAY6wB,EAAY,CACxB,IACI3e,EAAU2e,EAAWhkD,OACzB,GAAIqlC,EAAS,CACT,MAAM4e,EAAY5e,EAAQ1kB,MAAM,KAAK,GAC/BwuB,EAAU9J,EAAQ1kB,MAAM,KAAK,GAC7BwC,EAAQ8gC,EAAY,IAAM9U,EACbrwC,KAAK8jB,UAGxB,GAFA9jB,KAAK8jB,UAAUD,SAAStN,KAAKgwB,GAC7BvmC,KAAK8jB,UAAUI,OAAO3N,KAAK8N,GACvBrkB,KAAK+9C,SAAS1pB,EAAK/qB,SACf,YAAa+qB,EAAK/qB,OAAQ,CAC1B,IAAI87C,EAAU/wB,EAAK/qB,OAAO87C,QACtBvL,EAASuL,EAAUA,EAAQ,QAAK9kD,EAChCu5C,IACI75C,KAAK8jB,UAAUk+B,OACfhiD,KAAK8jB,UAAUk+B,OAAO3R,GAAWwJ,EAGjC75C,KAAK8jB,UAAUk+B,OAAS,CACpB,CAAC3R,GAAUwJ,GAGnB75C,KAAKgjD,gBAAgB3S,EAASwJ,GAEtC,CAEJ75C,KAAKoD,OAAOwB,KAAKpC,EAAYi5C,gBAAgBI,kBAAmB,CAC5DwJ,OAAQrlD,KAAK8jB,WAErB,CACJ,MAEI,IAAIwhB,EAAOl9B,gBAAgBk9B,EAAOj9B,wBAAwBuW,cAAe,cAAcyV,EAAKziB,uBAEpG,CACA,MAAOV,GACH,MAAM,IAAIo0B,EAAOl9B,gBAAgBk9B,EAAOj9B,wBAAwBuW,cAAe,cAAcyV,EAAKziB,wBACtG,CACA,OAAO,IACX,GACJ,CACAkxC,eAAAA,CAAgBh/B,GACZ9jB,KAAK8jB,UAAY5kB,OAAO+b,OAAOjb,KAAK8jB,UAAWA,EACnD,CACA81B,eAAAA,CAAgBvJ,EAASwJ,GAGrB,GAFA75C,KAAKqwC,QAAU1R,SAAS0R,IAEnBrwC,KAAK4iD,cAAcvS,GAAU,CAC9B,MAAMoT,EAAM5J,IAAU,EAAIl3C,EAAQ0gD,WAAW,GAAGrjD,KAAKmR,QAAQk/B,IAAWrwC,KAAK8jB,WACxE2/B,EAKDzjD,KAAKgjD,gBAAgB3S,EAASoT,IAH9B,EAAIne,EAAOh/B,UAAU,oCAAoC+pC,IAKjE,CACArwC,KAAKoD,OAAOwB,KAAKpC,EAAYi5C,gBAAgBC,sBAAuB,GAAG17C,KAAKmR,QAAQk/B,IACxF,CACA4H,eAAAA,GACI,OAAOj4C,KAAK+iD,aAChB,CACA1G,eAAAA,GACI,GAAIr8C,KAAKqwC,QACL,OAAOrwC,KAAKqwC,QAAQ1rC,WACxB,GAAI3E,KAAK8jB,UAAU+0B,aACf,OAAO74C,KAAK8jB,UAAU+0B,aAC1B,MAAMxI,EAAUrwC,KAAK8jB,UAAUI,OAAO,GACtC,IAAKmsB,EACD,MAAM,IAAIxsC,MAAM,qBACpB,OAAOwsC,EAAQxuB,MAAM,KAAK,EAC9B,CAEAkhC,WAAAA,GACI,MAAMl/B,EAAW7jB,KAAK8jB,UAAUD,SAEhC,OADA,EAAIyhB,EAAO/gC,UAAU,sBAAuBsf,EAAU7jB,KAAKqwC,SACtDxsB,EAGE,IACA,IAAIrM,IAAIqM,EAENzL,QAAQmuB,GAAYA,EAAQ1kB,MAAM,KAAK,KAAO7hB,KAAKqwC,QAAQ1rC,aAE3DiS,KAAK2vB,IACC,EAAI5jC,EAAQ27C,sBAAsB/X,OARtC,EAWf,CACAue,wBAAAA,CAAyBzwB,GACrB,IAAI/qB,EAAS+qB,EAAK/qB,OACdu7C,EAAa,MACbv7C,GAAU,YAAaA,IACvBu7C,EAAav7C,EAAO+mC,SAExBwU,EAAaA,EAAWvyC,WAAW,MAAQuyC,EAAa,KAAKA,KAC7D,EAAIvf,EAAO/gC,UAAU,gCAA8B8vB,IACnD,EAAIiR,EAAO/gC,UAAU,sCAAoCsgD,GACzD,MAAM3B,EAAgBvkB,SAASkmB,EAAY,IAE3C,OADA,EAAIvf,EAAO/gC,UAAU,yCAAuC2+C,GACrD,CAAEA,gBAAe2B,aAC5B,CACAG,iBAAAA,CAAkB3wB,GACd,OAAO/yB,EAAUtB,UAAM,OAAQ,GAAQ,YACnC,MAAM,cAAEkjD,EAAa,WAAE2B,GAAe7kD,KAAK8kD,yBAAyBzwB,GACpE,GAAIr0B,KAAK+kD,gBAAgB7B,GACrBljD,KAAK45C,gBAAgB,GAAGsJ,SAEvB,CACD,MAAMgC,QAAoBllD,KAAK6sB,OAAOjS,QAAQ,CAC1ChJ,OAAQ,6BACRy+B,QAAShc,EAAKgc,QACd/mC,OAAQ,CACJ+mC,QAASwU,KAGjB,IACI,GAAI,WAAYK,EAAY,CACxB,IACI3e,EAAU2e,EAAWhkD,OACzB,GAAIqlC,EAAS,CACT,MAAM4e,EAAY5e,EAAQ1kB,MAAM,KAAK,GAC/BwuB,EAAU9J,EAAQ1kB,MAAM,KAAK,GAC7BwC,EAAQ8gC,EAAY,IAAM9U,EACbrwC,KAAK8jB,UACxB9jB,KAAK8jB,UAAUD,SAAStN,KAAKgwB,GAC7BvmC,KAAK8jB,UAAUI,OAAO3N,KAAK8N,IAC3B,EAAIihB,EAAO/gC,UAAU,sDAAoD2gD,GACzEllD,KAAK45C,gBAAgB,GAAGsJ,KACxBljD,KAAKoD,OAAOwB,KAAKpC,EAAYi5C,gBAAgBI,kBAAmB,CAC5DwJ,OAAQrlD,KAAK8jB,WAErB,CACJ,MAEI,IAAIwhB,EAAOl9B,gBAAgBk9B,EAAOj9B,wBAAwBuW,cAAe,cAAcyV,EAAKziB,uBAEpG,CACA,MAAOV,GACH,MAAM,IAAIo0B,EAAOl9B,gBAAgBk9B,EAAOj9B,wBAAwBuW,cAAe,cAAcyV,EAAKziB,wBACtG,CACJ,CACA,OAAO,IACX,GACJ,CACAmzC,eAAAA,CAAgB1U,GACZ,OAAOrwC,KAAK8jB,UAAUI,OAAO7L,SAAS,GAAGrY,KAAKmR,QAAQk/B,IAC1D,CAEAkT,kBAAAA,CAAmBlT,EAASwJ,GAExB,MAAM4J,EAAM5J,EACZ,GAAK4J,EAIA,CACD,MAAMR,EAAO,IAAIP,EAAkBgB,gBAAgB,IAAIjB,EAAoBkB,kBAAkBF,GAAK,EAAI9gD,EAAQihD,WAAW,yBACzH,OAAOX,CACX,EANI,EAAI3d,EAAOh/B,UAAU,oCAAoC+pC,IAOjE,CACAwS,mBAAAA,GACI,MAAMI,EAAO,CAAC,EAWd,OAVAjjD,KAAK8jB,UAAUI,OAAOlU,SAASqU,IAC3B,MAAM6+B,GAAgB,EAAIvgD,EAAQwgD,YAAY9+B,GACxC++B,GAAY,EAAIzgD,EAAQ0gD,WAAWh/B,EAAOrkB,KAAK8jB,YACrD,EAAIwhB,EAAO/gC,UAAU,4BAA6B2+C,EAAeE,GACjE,IAAIE,EAAetjD,KAAKujD,mBAAmBL,EAAeE,GACtDE,IACAL,EAAKC,GAAiBI,EAC1B,KAEJ,EAAIhe,EAAO/gC,UAAU,wBAAyB0+C,GACvCA,CACX,CACAD,eAAAA,CAAgB3S,EAASwJ,GACrB,MAAMoJ,EAAOjjD,KAAKujD,mBAAmBlT,EAASwJ,GAC1CoJ,IACAjjD,KAAK4iD,cAAcvS,GAAW4S,EAEtC,CACAO,eAAAA,GACI,MAAMn/B,EAAQ,GAAGrkB,KAAKqwC,UAChB4S,EAAOjjD,KAAK4iD,cAAcv+B,GAEhC,IADA,EAAIihB,EAAO/gC,UAAU,2BAA4B8f,EAAO4+B,GACpC,qBAATA,EACP,MAAM,IAAIp/C,MAAM,yBAAyBwgB,eAE7C,OAAO4+B,CACX,EAEJ7jD,EAAQo7C,eAAiBA,EACzBp7C,EAAAA,WAAkBo7C,C,qCChelB,IAAIl5C,EAAatB,MAAQA,KAAKsB,WAAc,SAAUC,EAASC,EAAYC,EAAGC,GAC1E,SAASC,EAAMtC,GAAS,OAAOA,aAAiBoC,EAAIpC,EAAQ,IAAIoC,GAAE,SAAUG,GAAWA,EAAQvC,EAAQ,GAAI,CAC3G,OAAO,IAAKoC,IAAMA,EAAII,WAAU,SAAUD,EAASE,GAC/C,SAASC,EAAU1C,GAAS,IAAM2C,EAAKN,EAAUO,KAAK5C,GAAS,CAAE,MAAO6C,GAAKJ,EAAOI,EAAI,CAAE,CAC1F,SAASC,EAAS9C,GAAS,IAAM2C,EAAKN,EAAU,SAASrC,GAAS,CAAE,MAAO6C,GAAKJ,EAAOI,EAAI,CAAE,CAC7F,SAASF,EAAKd,GAAUA,EAAOkB,KAAOR,EAAQV,EAAO7B,OAASsC,EAAMT,EAAO7B,OAAOgD,KAAKN,EAAWI,EAAW,CAC7GH,GAAMN,EAAYA,EAAUY,MAAMf,EAASC,GAAc,KAAKS,OAClE,GACJ,EACIqS,EAAmBtU,MAAQA,KAAKsU,iBAAoB,SAAUrT,GAC9D,OAAQA,GAAOA,EAAIR,WAAcQ,EAAM,CAAE,QAAWA,EACxD,EACA/B,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQukD,uBAAoB,EAC5B,MAAM9gD,EAAkB/C,EAAQ,OAC1Bg1B,EAAgBxgB,EAAgBxU,EAAQ,QACxCwlC,EAASxlC,EAAQ,OACjBwlD,EAASxlD,EAAQ,OACjBq1B,EAAuB,CACzBC,OAAQ,mBACR,eAAgB,oBAEdC,EAAsB,OACtBC,EAAqB,CACvBC,QAASJ,EACTvjB,OAAQyjB,GAIZ,MAAMsuB,EACFzgD,WAAAA,CAAYC,EAAKoiD,GAAsB,GAMnC,GALAvlD,KAAKmD,IAAMA,EACXnD,KAAKulD,oBAAsBA,EAC3BvlD,KAAKoD,OAAS,IAAIP,EAAgBQ,aAClCrD,KAAKwlD,aAAc,EACnBxlD,KAAKylD,aAAc,IACd,EAAIH,EAAOj4B,WAAWlqB,GACvB,MAAM,IAAIU,MAAM,wDAAwDV,KAE5EnD,KAAKmD,IAAMA,EACXnD,KAAKulD,oBAAsBA,CAC/B,CACA,aAAIjf,GACA,OAAOtmC,KAAKwlD,WAChB,CACA,cAAIrhD,GACA,OAAOnE,KAAKylD,WAChB,CACA1+C,EAAAA,CAAGjC,EAAOoF,GACNlK,KAAKoD,OAAO2D,GAAGjC,EAAOoF,EAC1B,CACAhC,IAAAA,CAAKpD,EAAOoF,GACRlK,KAAKoD,OAAO8E,KAAKpD,EAAOoF,EAC5B,CACAC,GAAAA,CAAIrF,EAAOoF,GACPlK,KAAKoD,OAAO+G,IAAIrF,EAAOoF,EAC3B,CACAf,cAAAA,CAAerE,EAAOoF,GAClBlK,KAAKoD,OAAO+F,eAAerE,EAAOoF,EACtC,CACAiiB,IAAAA,GACI,OAAO7qB,EAAUtB,KAAMiI,eAAW,GAAQ,UAAW9E,EAAMnD,KAAKmD,WACtDnD,KAAK0lD,SAASviD,EACxB,GACJ,CACA2D,KAAAA,GACI,OAAOxF,EAAUtB,UAAM,OAAQ,GAAQ,YACnC,IAAKA,KAAKwlD,YACN,MAAM,IAAI3hD,MAAM,6BAEpB7D,KAAK6E,SACT,GACJ,CACAqB,IAAAA,CAAKd,GACD,OAAO9D,EAAUtB,UAAM,OAAQ,GAAQ,YAC9BA,KAAKwlD,oBACAxlD,KAAK0lD,YAEf,IACI,MAAM9tB,GAAO,EAAI0N,EAAOj7B,mBAAmBjF,GACrCyyB,QAAY,EAAI/C,EAAc3f,SAASnV,KAAKmD,IAAKjE,OAAO+b,OAAO/b,OAAO+b,OAAO,CAAC,EAAGqa,GAAqB,CAAEsC,UACxGtzB,QAAauzB,EAAI2B,OACvBx5B,KAAKqE,UAAU,CAAEC,QACrB,CACA,MAAOpC,GACHlC,KAAKkF,QAAQE,EAAQD,GAAIjD,EAC7B,CACJ,GACJ,CAEAwjD,QAAAA,GACI,OAAOpkD,EAAUtB,KAAMiI,eAAW,GAAQ,UAAW9E,EAAMnD,KAAKmD,KAC5D,KAAK,EAAImiD,EAAOj4B,WAAWlqB,GACvB,MAAM,IAAIU,MAAM,wDAAwDV,KAE5E,GAAInD,KAAKylD,YACL,OAAO,IAAI5jD,SAAQ,CAACD,EAASE,KACzB9B,KAAKoD,OAAO8E,KAAK,kBAAmBgJ,IAChCpP,EAAOoP,EAAM,IAEjBlR,KAAKoD,OAAO8E,KAAK,QAAQ,KACrB,GAAgC,qBAArBlI,KAAKwlD,YACZ,OAAO1jD,EAAO,IAAI+B,MAAM,0CAE5BjC,GAAS,GACX,IAGV5B,KAAKmD,IAAMA,EACXnD,KAAKylD,aAAc,EACnB,IACI,IAAKzlD,KAAKulD,oBAAqB,CAC3B,MAAM3tB,GAAO,EAAI0N,EAAOj7B,mBAAmB,CAAElF,GAAI,EAAGuM,QAAS,MAAOE,OAAQ,OAAQtI,OAAQ,WACtF,EAAIwrB,EAAc3f,SAAShS,EAAKjE,OAAO+b,OAAO/b,OAAO+b,OAAO,CAAC,EAAGqa,GAAqB,CAAEsC,SACjG,CACA53B,KAAKyK,QACT,CACA,MAAOvI,GACH,MAAMgP,EAAQlR,KAAK2lD,WAAWzjD,GAG9B,MAFAlC,KAAKoD,OAAOwB,KAAK,iBAAkBsM,GACnClR,KAAK6E,UACCqM,CACV,CACJ,GACJ,CACAzG,MAAAA,GACIzK,KAAKwlD,aAAc,EACnBxlD,KAAKylD,aAAc,EACnBzlD,KAAKoD,OAAOwB,KAAK,OACrB,CACAC,OAAAA,GACI7E,KAAKwlD,aAAc,EACnBxlD,KAAKylD,aAAc,EACnBzlD,KAAKoD,OAAOwB,KAAK,QACrB,CACAP,SAAAA,CAAUnC,GACN,GAAsB,qBAAXA,EAAEoC,KACT,OACJ,MAAMc,EAA4B,kBAAXlD,EAAEoC,MAAoB,EAAIghC,EAAOj8B,eAAenH,EAAEoC,MAAQpC,EAAEoC,KACnFtE,KAAKoD,OAAOwB,KAAK,UAAWQ,EAChC,CACAF,OAAAA,CAAQC,EAAIjD,GACR,MAAMgP,EAAQlR,KAAK2lD,WAAWzjD,GACxBsH,EAAU0H,EAAM1H,SAAW0H,EAAMvM,WACjCS,GAAU,EAAIkgD,EAAOh4B,oBAAoBnoB,EAAIqE,GACnDxJ,KAAKoD,OAAOwB,KAAK,UAAWQ,EAChC,CACAugD,UAAAA,CAAWzjD,EAAGiB,EAAMnD,KAAKmD,KACrB,OAAO,EAAImiD,EAAOl4B,sBAAsBlrB,EAAGiB,EAAK,OACpD,EAEJ/D,EAAQukD,kBAAoBA,C,qCCvJ5B,IAAIriD,EAAatB,MAAQA,KAAKsB,WAAc,SAAUC,EAASC,EAAYC,EAAGC,GAC1E,SAASC,EAAMtC,GAAS,OAAOA,aAAiBoC,EAAIpC,EAAQ,IAAIoC,GAAE,SAAUG,GAAWA,EAAQvC,EAAQ,GAAI,CAC3G,OAAO,IAAKoC,IAAMA,EAAII,WAAU,SAAUD,EAASE,GAC/C,SAASC,EAAU1C,GAAS,IAAM2C,EAAKN,EAAUO,KAAK5C,GAAS,CAAE,MAAO6C,GAAKJ,EAAOI,EAAI,CAAE,CAC1F,SAASC,EAAS9C,GAAS,IAAM2C,EAAKN,EAAU,SAASrC,GAAS,CAAE,MAAO6C,GAAKJ,EAAOI,EAAI,CAAE,CAC7F,SAASF,EAAKd,GAAUA,EAAOkB,KAAOR,EAAQV,EAAO7B,OAASsC,EAAMT,EAAO7B,OAAOgD,KAAKN,EAAWI,EAAW,CAC7GH,GAAMN,EAAYA,EAAUY,MAAMf,EAASC,GAAc,KAAKS,OAClE,GACJ,EACA/C,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQskD,qBAAkB,EAC1B,MAAM7gD,EAAkB/C,EAAQ,OAC1B6sC,EAAU7sC,EAAQ,OAClBwlC,EAASxlC,EAAQ,OACjBwlD,EAASxlD,EAAQ,OACvB,MAAM4jD,UAAwB/W,EAAQiZ,iBAClC1iD,WAAAA,CAAYknC,GACRxd,MAAMwd,GACNpqC,KAAKoD,OAAS,IAAIP,EAAgBQ,aAClCrD,KAAKsmC,WAAY,EACjBtmC,KAAKmE,YAAa,EAClBnE,KAAK6lD,6BAA8B,EACnC7lD,KAAKoqC,WAAapqC,KAAK8lD,cAAc1b,GACjCpqC,KAAKoqC,WAAW9D,WAChBtmC,KAAKk6C,wBAEb,CACA3xC,OAAAA,GACI,OAAOjH,EAAUtB,KAAMiI,eAAW,GAAQ,UAAWmiC,EAAapqC,KAAKoqC,kBAC7DpqC,KAAKmsB,KAAKie,EACpB,GACJ,CACA1hC,UAAAA,GACI,OAAOpH,EAAUtB,UAAM,OAAQ,GAAQ,kBAC7BA,KAAK8G,OACf,GACJ,CACAC,EAAAA,CAAGjC,EAAOoF,GACNlK,KAAKoD,OAAO2D,GAAGjC,EAAOoF,EAC1B,CACAhC,IAAAA,CAAKpD,EAAOoF,GACRlK,KAAKoD,OAAO8E,KAAKpD,EAAOoF,EAC5B,CACAC,GAAAA,CAAIrF,EAAOoF,GACPlK,KAAKoD,OAAO+G,IAAIrF,EAAOoF,EAC3B,CACAf,cAAAA,CAAerE,EAAOoF,GAClBlK,KAAKoD,OAAO+F,eAAerE,EAAOoF,EACtC,CACA0Q,OAAAA,CAAQA,EAASmrC,GACb,OAAOzkD,EAAUtB,UAAM,OAAQ,GAAQ,YACnC,OAAOA,KAAKgmD,eAAc,EAAI1gB,EAAOrY,sBAAsBrS,EAAQhJ,OAAQgJ,EAAQtR,QAAU,IAAI,EAAIg8B,EAAOtY,kBAAkBroB,YAC9HohD,EACJ,GACJ,CAEAC,aAAAA,CAAcprC,EAASmrC,GACnB,OAAOzkD,EAAUtB,UAAM,OAAQ,GAAQ,YACnC,OAAO,IAAI6B,SAAQ,CAACD,EAASE,IAAWR,EAAUtB,UAAM,OAAQ,GAAQ,YACpE,IAAKA,KAAKoqC,WAAW9D,UACjB,UACUtmC,KAAKmsB,MACf,CACA,MAAOjqB,GACHJ,EAAOI,EACX,CAEJlC,KAAKoD,OAAO2D,GAAG,GAAG6T,EAAQzV,MAAOkW,KACzB,EAAIiqB,EAAOpY,gBAAgB7R,GAC3BvZ,EAAOuZ,EAASnK,OAGhBtP,EAAQyZ,EAASna,OACrB,IAEJ,KACI,EAAIokD,EAAO/gD,UAAU,yBAA0BqW,EAASmrC,SAClD/lD,KAAKoqC,WAAWlkC,KAAK0U,EAASmrC,EACxC,CACA,MAAO7jD,GACHJ,EAAOI,EACX,CACJ,KACJ,GACJ,CACA4jD,aAAAA,CAAc1b,EAAapqC,KAAKoqC,YAC5B,OAAOA,CACX,CACA/lC,SAAAA,CAAUe,GACNpF,KAAKoD,OAAOwB,KAAK,UAAWQ,IACxB,EAAIkgC,EAAOnY,mBAAmB/nB,GAC9BpF,KAAKoD,OAAOwB,KAAK,GAAGQ,EAAQD,KAAMC,GAGlCpF,KAAKoD,OAAOwB,KAAK,UAAW,CACxBoqB,KAAM5pB,EAAQwM,OACdtN,KAAMc,EAAQkE,QAG1B,CACAzE,OAAAA,CAAQC,GAEAA,GAAwB,MAAfA,EAAMG,MACfjF,KAAKoD,OAAOwB,KAAK,QAAS,IAAIf,MAAM,qDAAqDiB,EAAMG,QAAQH,EAAMyO,OAAS,IAAIzO,EAAMyO,UAAY,OAEhJvT,KAAKoD,OAAOwB,KAAK,aACrB,CACAunB,IAAAA,GACI,OAAO7qB,EAAUtB,KAAMiI,eAAW,GAAQ,UAAWmiC,EAAapqC,KAAKoqC,YAC/DpqC,KAAKoqC,aAAeA,GAAcpqC,KAAKoqC,WAAW9D,YAElDtmC,KAAKoqC,WAAW9D,WAChBtmC,KAAK8G,QACiB,kBAAfsjC,UACDpqC,KAAKoqC,WAAWje,KAAKie,GAC3BA,EAAapqC,KAAKoqC,YAEtBpqC,KAAKoqC,WAAapqC,KAAK8lD,cAAc1b,SAC/BpqC,KAAKoqC,WAAWje,OACtBnsB,KAAKk6C,yBACLl6C,KAAKoD,OAAOwB,KAAK,WACrB,GACJ,CACAkC,KAAAA,GACI,OAAOxF,EAAUtB,UAAM,OAAQ,GAAQ,kBAC7BA,KAAKoqC,WAAWtjC,OAC1B,GACJ,CAEAozC,sBAAAA,GACQl6C,KAAK6lD,8BAET7lD,KAAKoqC,WAAWrjC,GAAG,WAAY3B,GAAYpF,KAAKqE,UAAUe,KAC1DpF,KAAKoqC,WAAWrjC,GAAG,SAAUjC,GAAU9E,KAAK6E,QAAQC,KACpD9E,KAAKoqC,WAAWrjC,GAAG,SAAUmK,GAAUlR,KAAKoD,OAAOwB,KAAK,QAASsM,KACjElR,KAAKoqC,WAAWrjC,GAAG,kBAAmBk/C,GAAWjmD,KAAK6E,YACtD7E,KAAK6lD,6BAA8B,EACvC,EAEJzmD,EAAQskD,gBAAkBA,C,qCC5Id5jD,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAACA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OACb,IAAIwB,EAAatB,MAAQA,KAAKsB,WAAc,SAAUC,EAASC,EAAYC,EAAGC,GAC1E,SAASC,EAAMtC,GAAS,OAAOA,aAAiBoC,EAAIpC,EAAQ,IAAIoC,GAAE,SAAUG,GAAWA,EAAQvC,EAAQ,GAAI,CAC3G,OAAO,IAAKoC,IAAMA,EAAII,WAAU,SAAUD,EAASE,GAC/C,SAASC,EAAU1C,GAAS,IAAM2C,EAAKN,EAAUO,KAAK5C,GAAS,CAAE,MAAO6C,GAAKJ,EAAOI,EAAI,CAAE,CAC1F,SAASC,EAAS9C,GAAS,IAAM2C,EAAKN,EAAU,SAASrC,GAAS,CAAE,MAAO6C,GAAKJ,EAAOI,EAAI,CAAE,CAC7F,SAASF,EAAKd,GAAUA,EAAOkB,KAAOR,EAAQV,EAAO7B,OAASsC,EAAMT,EAAO7B,OAAOgD,KAAKN,EAAWI,EAAW,CAC7GH,GAAMN,EAAYA,EAAUY,MAAMf,EAASC,GAAc,KAAKS,OAClE,GACJ,EACA/C,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQ8mD,oBAAiB,EACzB,MAAM1jD,EAAc1C,EAAQ,OACtBwlC,EAASxlC,EAAQ,OACjB6C,EAAU7C,EAAQ,OAClB2iD,EAAsB3iD,EAAQ,OAC9B4iD,EAAoB5iD,EAAQ,OAClC,MAAMomD,EACFhjD,WAAAA,CAAYi0C,EAAMhmC,EAAM0b,EAAQzpB,GAC5BpD,KAAKmR,KAAO,SACZnR,KAAK8jB,UAAYqzB,EAAKrzB,UACtB9jB,KAAKoD,OAASA,EACdpD,KAAK6sB,OAASA,EACd7sB,KAAKqwC,QAAUrwC,KAAKq8C,kBACpBr8C,KAAK4iD,cAAgB5iD,KAAK6iD,sBAC1B7iD,KAAKmR,KAAOA,CAChB,CACA2xC,eAAAA,CAAgBh/B,GACZ9jB,KAAK8jB,UAAY5kB,OAAO+b,OAAOjb,KAAK8jB,UAAWA,EACnD,CACAm0B,eAAAA,GACI,OAAOj4C,KAAK+iD,aAChB,CACAnoC,OAAAA,CAAQyZ,GACJ,OAAO/yB,EAAUtB,UAAM,OAAQ,GAAQ,YAGnC,IAFA,EAAIslC,EAAO/gC,UAAU,iCAAkCwW,KAAKC,UAAUqZ,KACtE,EAAIiR,EAAO/gC,UAAU,8BAA+BvE,KAAK8jB,WACrD9jB,KAAK8jB,UAAUE,QAAQ3L,SAASgc,EAAKziB,QACrC,OAAO5R,KAAK6sB,OAAOjS,QAAQyZ,GAG3B,MAAM,IAAIiR,EAAOl9B,gBAAgBk9B,EAAOj9B,wBAAwBmpB,qBAAsB,yBAE9F,GACJ,CACAooB,eAAAA,CAAgBvJ,EAASwJ,GAEhB75C,KAAK4iD,cAAcvS,IACpBrwC,KAAKgjD,gBAAgB3S,EAASwJ,GAElC75C,KAAKqwC,QAAUA,EACfrwC,KAAKoD,OAAOwB,KAAKpC,EAAYi5C,gBAAgBC,sBAAuB,GAAG17C,KAAKmR,QAAQk/B,IACxF,CACAgM,eAAAA,GACI,GAAIr8C,KAAKqwC,QACL,OAAOrwC,KAAKqwC,QAChB,GAAIrwC,KAAK8jB,UAAU+0B,aACf,OAAO74C,KAAK8jB,UAAU+0B,aAC1B,MAAMxI,EAAUrwC,KAAK8jB,UAAUI,OAAO,GACtC,IAAKmsB,EACD,MAAM,IAAIxsC,MAAM,qBACpB,OAAOwsC,EAAQxuB,MAAM,KAAK,EAC9B,CAEAkhC,WAAAA,GACI,MAAMl/B,EAAW7jB,KAAK8jB,UAAUD,SAChC,OAAKA,EAGE,IACA,IAAIrM,IAAIqM,EAENzL,QAAQmuB,GAAYA,EAAQ1kB,MAAM,KAAK,KAAO7hB,KAAKqwC,QAAQ1rC,aAE3DiS,KAAK2vB,GAAYA,EAAQ1kB,MAAM,KAAK,OAPlC,EASf,CACAghC,mBAAAA,GACI,MAAMI,EAAO,CAAC,EASd,OARAjjD,KAAK8jB,UAAUI,OAAOlU,SAASqU,IAC3B,MAAM6+B,GAAgB,EAAIvgD,EAAQwgD,YAAY9+B,GACxC++B,GAAY,EAAIzgD,EAAQ0gD,WAAWh/B,EAAOrkB,KAAK8jB,WACrD,IAAIw/B,EAAetjD,KAAKujD,mBAAmBL,EAAeE,GACtDE,IACAL,EAAKC,GAAiBI,EAC1B,IAEGL,CACX,CACAO,eAAAA,GACI,MAAMn/B,EAAQ,GAAGrkB,KAAKqwC,UAChB4S,EAAOjjD,KAAK4iD,cAAcv+B,GAChC,GAAoB,qBAAT4+B,EACP,MAAM,IAAIp/C,MAAM,yBAAyBwgB,eAE7C,OAAO4+B,CACX,CACAD,eAAAA,CAAgB3S,EAASwJ,GACrB,MAAMoJ,EAAOjjD,KAAKujD,mBAAmBlT,EAASwJ,GAC1CoJ,IACAjjD,KAAK4iD,cAAcvS,GAAW4S,EAEtC,CACAM,kBAAAA,CAAmBlT,EAASwJ,GAExB,MAAM4J,EAAM5J,EACZ,GAAK4J,EAIA,CACD,MAAMR,EAAO,IAAIP,EAAkBgB,gBAAgB,IAAIjB,EAAoBkB,kBAAkBF,GAAK,EAAI9gD,EAAQihD,WAAW,yBACzH,OAAOX,CACX,CACJ,CACAkD,SAAAA,CAAU9V,GACN,OAAOrwC,KAAKomD,iBAAiB/V,EACjC,CAWA+V,gBAAAA,CAAiB/V,GAOb,OANKA,IACDA,EAAUrwC,KAAK8jB,UAAU+0B,cACP,OAAZxI,QAAgC,IAAZA,OAAqB,EAASA,EAAQ/9B,WAAW,aACvE+9B,EAAU,UAAUA,MAGrBrwC,KAAK8jB,UAAUD,SAASzL,QAAO,SAAUmuB,GAC5C,IAAI8f,EAAa9f,EAAQ1kB,MAAM,KAC/B,OAAOwkC,EAAWh/C,OAAS,GAAKk/B,EAAQj0B,WAAW+9B,EACvD,IAAGz5B,KAAI,SAAU2vB,GACb,IAAI8f,EAAa9f,EAAQ1kB,MAAM,KAC/B,OAAOwkC,EAAW,EACtB,IAAG,EACP,CACA3J,gBAAAA,CAAiBroB,GACb,OAAO,CACX,EAEJj1B,EAAQ8mD,eAAiBA,EACzB9mD,EAAAA,WAAkB8mD,C,qCCpJNpmD,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAACA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OACb,IAAIwB,EAAatB,MAAQA,KAAKsB,WAAc,SAAUC,EAASC,EAAYC,EAAGC,GAC1E,SAASC,EAAMtC,GAAS,OAAOA,aAAiBoC,EAAIpC,EAAQ,IAAIoC,GAAE,SAAUG,GAAWA,EAAQvC,EAAQ,GAAI,CAC3G,OAAO,IAAKoC,IAAMA,EAAII,WAAU,SAAUD,EAASE,GAC/C,SAASC,EAAU1C,GAAS,IAAM2C,EAAKN,EAAUO,KAAK5C,GAAS,CAAE,MAAO6C,GAAKJ,EAAOI,EAAI,CAAE,CAC1F,SAASC,EAAS9C,GAAS,IAAM2C,EAAKN,EAAU,SAASrC,GAAS,CAAE,MAAO6C,GAAKJ,EAAOI,EAAI,CAAE,CAC7F,SAASF,EAAKd,GAAUA,EAAOkB,KAAOR,EAAQV,EAAO7B,OAASsC,EAAMT,EAAO7B,OAAOgD,KAAKN,EAAWI,EAAW,CAC7GH,GAAMN,EAAYA,EAAUY,MAAMf,EAASC,GAAc,KAAKS,OAClE,GACJ,EACA/C,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQ67C,iBAAc,EACtB,MAAMz4C,EAAc1C,EAAQ,OACtBwlC,EAASxlC,EAAQ,OACjB6C,EAAU7C,EAAQ,OAClB2iD,EAAsB3iD,EAAQ,OAC9B4iD,EAAoB5iD,EAAQ,OAClC,MAAMm7C,EACF/3C,WAAAA,CAAYi0C,EAAMtqB,EAAQzpB,GACtBpD,KAAKmR,KAAOm0B,EAAOzT,gBACnB7xB,KAAK8jB,UAAYqzB,EAAKrzB,UACtB9jB,KAAKoD,OAASA,EACdpD,KAAK6sB,OAASA,EACd7sB,KAAKqwC,QAAUrwC,KAAKq8C,kBACpBr8C,KAAK4iD,cAAgB5iD,KAAK6iD,qBAC9B,CACAC,eAAAA,CAAgBh/B,GACZ9jB,KAAK8jB,UAAY5kB,OAAO+b,OAAOjb,KAAK8jB,UAAWA,EACnD,CACAlJ,OAAAA,CAAQyZ,GACJ,OAAO/yB,EAAUtB,UAAM,OAAQ,GAAQ,YAGnC,OAFA,EAAIslC,EAAO/gC,UAAU,8BAA+BwW,KAAKC,UAAUqZ,KACnE,EAAIiR,EAAO/gC,UAAU,2BAA4BvE,KAAK8jB,WAClD9jB,KAAK8jB,UAAUE,QAAQ3L,SAASgc,EAAKziB,QAC9B5R,KAAK6sB,OAAOjS,QAAQyZ,GAExBr0B,KAAKwjD,kBAAkB5oC,QAAQyZ,EAC1C,GACJ,CACA4jB,eAAAA,GACI,OAAOj4C,KAAK+iD,aAChB,CACAnJ,eAAAA,CAAgBvJ,EAASwJ,GAChB75C,KAAK4iD,cAAcvS,IACpBrwC,KAAKgjD,gBAAgB3S,EAASwJ,GAElC75C,KAAKqwC,QAAUA,EACfrwC,KAAKoD,OAAOwB,KAAKpC,EAAYi5C,gBAAgBC,sBAAuB,GAAG17C,KAAKmR,QAAQk/B,IACxF,CACAgM,eAAAA,GACI,GAAIr8C,KAAKqwC,QACL,OAAOrwC,KAAKqwC,QAChB,GAAIrwC,KAAK8jB,UAAU+0B,aACf,OAAO74C,KAAK8jB,UAAU+0B,aAC1B,MAAMxI,EAAUrwC,KAAK8jB,UAAUI,OAAO,GACtC,IAAKmsB,EACD,MAAM,IAAIxsC,MAAM,qBACpB,OAAOwsC,EAAQxuB,MAAM,KAAK,EAC9B,CAEAkhC,WAAAA,GACI,MAAMl/B,EAAW7jB,KAAK8jB,UAAUD,SAChC,OAAKA,EAGE,IACA,IAAIrM,IAAIqM,EAENzL,QAAQmuB,GAAYA,EAAQ1kB,MAAM,KAAK,KAAO7hB,KAAKqwC,QAAQ1rC,aAE3DiS,KAAK2vB,GAAYA,EAAQ1kB,MAAM,KAAK,OAPlC,EASf,CACAghC,mBAAAA,GACI,MAAMI,EAAO,CAAC,EASd,OARAjjD,KAAK8jB,UAAUI,OAAOlU,SAASqU,IAC3B,MAAM6+B,GAAgB,EAAIvgD,EAAQwgD,YAAY9+B,GACxC++B,GAAY,EAAIzgD,EAAQ0gD,WAAWh/B,EAAOrkB,KAAK8jB,WACrD,IAAIw/B,EAAetjD,KAAKujD,mBAAmBL,EAAeE,GACtDE,IACAL,EAAKC,GAAiBI,EAC1B,IAEGL,CACX,CACAO,eAAAA,GACI,MAAMn/B,EAAQ,GAAGrkB,KAAKqwC,UAChB4S,EAAOjjD,KAAK4iD,cAAcv+B,GAEhC,IADA,EAAIihB,EAAO/gC,UAAU,2BAA4B8f,EAAO4+B,GACpC,qBAATA,EACP,MAAM,IAAIp/C,MAAM,yBAAyBwgB,eAE7C,OAAO4+B,CACX,CACAD,eAAAA,CAAgB3S,EAASwJ,GACrB,MAAMoJ,EAAOjjD,KAAKujD,mBAAmBlT,EAASwJ,GAC1CoJ,KACA,EAAI3d,EAAO/gC,UAAU,kBAAmB8rC,EAASwJ,GACjD75C,KAAK4iD,cAAcvS,GAAW4S,EAEtC,CACAM,kBAAAA,CAAmBlT,EAASwJ,GAExB,MAAM4J,EAAM5J,EACZ,GAAK4J,EAIA,CACD,MAAMR,EAAO,IAAIP,EAAkBgB,gBAAgB,IAAIjB,EAAoBkB,kBAAkBF,GAAK,EAAI9gD,EAAQihD,WAAW,yBACzH,OAAOX,CACX,EANI,EAAI3d,EAAOh/B,UAAU,oCAAoC+pC,IAOjE,CACA8V,SAAAA,CAAU9V,GACN,OAAOrwC,KAAKomD,iBAAiB/V,EACjC,CACA+V,gBAAAA,CAAiB/V,GAOb,OANKA,IACDA,EAAUrwC,KAAK8jB,UAAU+0B,cACP,OAAZxI,QAAgC,IAAZA,OAAqB,EAASA,EAAQ/9B,WAAW,UACvE+9B,EAAU,OAAOA,MAGlBrwC,KAAK8jB,UAAUD,SAASzL,QAAO,SAAUmuB,GAC5C,IAAI8f,EAAa9f,EAAQ1kB,MAAM,KAC/B,OAAOwkC,EAAWh/C,OAAS,GAAKk/B,EAAQj0B,WAAW+9B,EACvD,IAAGz5B,KAAI,SAAU2vB,GACb,IAAI8f,EAAa9f,EAAQ1kB,MAAM,KAC/B,OAAOwkC,EAAW,EACtB,IAAG,EACP,CACA3J,gBAAAA,CAAiBroB,GACb,OAAQA,EAAKziB,QACT,IAAK,kBACL,IAAK,0BACL,IAAK,2BACL,IAAK,qCACD,OAAO,EACX,QACI,OAAO,EAEf,OAAO,CACX,EAEJxS,EAAQ67C,YAAcA,EACtB77C,EAAAA,WAAkB67C,C,qCCjJNn7C,EAAA,OAAAA,EAAA,OAACA,EAAA,OAAAA,EAAA,OACb,IAAIwB,EAAatB,MAAQA,KAAKsB,WAAc,SAAUC,EAASC,EAAYC,EAAGC,GAC1E,SAASC,EAAMtC,GAAS,OAAOA,aAAiBoC,EAAIpC,EAAQ,IAAIoC,GAAE,SAAUG,GAAWA,EAAQvC,EAAQ,GAAI,CAC3G,OAAO,IAAKoC,IAAMA,EAAII,WAAU,SAAUD,EAASE,GAC/C,SAASC,EAAU1C,GAAS,IAAM2C,EAAKN,EAAUO,KAAK5C,GAAS,CAAE,MAAO6C,GAAKJ,EAAOI,EAAI,CAAE,CAC1F,SAASC,EAAS9C,GAAS,IAAM2C,EAAKN,EAAU,SAASrC,GAAS,CAAE,MAAO6C,GAAKJ,EAAOI,EAAI,CAAE,CAC7F,SAASF,EAAKd,GAAUA,EAAOkB,KAAOR,EAAQV,EAAO7B,OAASsC,EAAMT,EAAO7B,OAAOgD,KAAKN,EAAWI,EAAW,CAC7GH,GAAMN,EAAYA,EAAUY,MAAMf,EAASC,GAAc,KAAKS,OAClE,GACJ,EACI8iC,EAAU/kC,MAAQA,KAAK+kC,QAAW,SAAUC,EAAG9iC,GAC/C,IAAI+iC,EAAI,CAAC,EACT,IAAK,IAAI1Y,KAAKyY,EAAO9lC,OAAOiC,UAAUC,eAAeC,KAAK2jC,EAAGzY,IAAMrqB,EAAEo7B,QAAQ/Q,GAAK,IAC9E0Y,EAAE1Y,GAAKyY,EAAEzY,IACb,GAAS,MAALyY,GAAqD,oBAAjC9lC,OAAOgmC,sBACtB,KAAIvxB,EAAI,EAAb,IAAgB4Y,EAAIrtB,OAAOgmC,sBAAsBF,GAAIrxB,EAAI4Y,EAAEllB,OAAQsM,IAC3DzR,EAAEo7B,QAAQ/Q,EAAE5Y,IAAM,GAAKzU,OAAOiC,UAAUgkC,qBAAqB9jC,KAAK2jC,EAAGzY,EAAE5Y,MACvEsxB,EAAE1Y,EAAE5Y,IAAMqxB,EAAEzY,EAAE5Y,IAF4B,CAItD,OAAOsxB,CACX,EACA/lC,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtD,MAAMmD,EAAc1C,EAAQ,OACtBwlC,EAASxlC,EAAQ,OACjB6C,EAAU7C,EAAQ,OAClB2iD,EAAsB3iD,EAAQ,OAC9B4iD,EAAoB5iD,EAAQ,OAClC,MAAMwmD,EACFpjD,WAAAA,CAAYi0C,EAAMtqB,EAAQzpB,GACtBpD,KAAKmR,KAAOm0B,EAAOxT,gBACnB9xB,KAAK8jB,UAAYqzB,EAAKrzB,UACtB9jB,KAAKoD,OAASA,EACdpD,KAAK6sB,OAASA,EACd7sB,KAAKqwC,QAAUrwC,KAAKq8C,kBACpBr8C,KAAK4iD,cAAgB5iD,KAAK6iD,qBAC9B,CACAC,eAAAA,CAAgBh/B,GACZ9jB,KAAK8jB,UAAY5kB,OAAO+b,OAAOjb,KAAK8jB,UAAWA,EACnD,CACAi6B,QAAAA,CAAS1+C,GACL,MAAwB,kBAAVA,GAAgC,OAAVA,IAAmBiY,MAAMwmC,QAAQz+C,EACzE,CACAub,OAAAA,CAAQyZ,GACJ,OAAO/yB,EAAUtB,UAAM,OAAQ,GAAQ,YACnC,IAAI+E,EAAIwJ,EAAIC,EAAIC,EAGhB,IAFA,EAAI62B,EAAO/gC,UAAU,sCAAuCwW,KAAKC,UAAUqZ,KAC3E,EAAIiR,EAAO/gC,UAAU,2CAA4CvE,KAAK8jB,WAClE9jB,KAAK8jB,UAAUE,QAAQ3L,SAASgc,EAAKziB,QAAS,CAC9C,IAAKyiB,EAAK/qB,OACN,MAAM,IAAIg8B,EAAOl9B,gBAAgBk9B,EAAOj9B,wBAAwBuW,cAAe,6BAEnF,GAAI5e,KAAK+9C,SAAS1pB,EAAK/qB,QAAS,CAC5B,MAAMoF,EAAK2lB,EAAK/qB,QAAQ,WAAEs/B,GAAel6B,EAAI63C,EAAYxhB,EAAOr2B,EAAI,CAAC,eACrE,IAAI83C,EAAwG,QAAzFj4C,EAAuC,QAAjCxJ,EAAK/E,KAAK8jB,UAAU1e,eAA4B,IAAPL,OAAgB,EAASA,EAAG4e,gBAA6B,IAAPpV,OAAgB,EAASA,EAAGkV,QAC5I,SAAU8iC,IACVC,EAAcD,EAAU58B,OAAmG,QAAzFlb,EAAuC,QAAjCD,EAAKxO,KAAK8jB,UAAU1e,eAA4B,IAAPoJ,OAAgB,EAASA,EAAGmV,gBAA6B,IAAPlV,OAAgB,EAASA,EAAGgV,UAEnK4Q,EAAK/qB,OAAO,QAAUk9C,EACtBnyB,EAAK/qB,OAAO,WAAatJ,KAAKq8C,kBAC9BhoB,EAAK/qB,OAAO,eAAiBs/B,EAC7B,IAAIvtB,QAAiBrb,KAAK6sB,OAAOjS,QAAQyZ,GACzC,GAAIr0B,KAAK+9C,SAAS1iC,IAAa,WAAYA,EAAU,CACjD,MAAMna,EAAS,CACXgpC,IAAK7uB,EAASna,OAAOyD,YAIzB,OAFA,EAAI2gC,EAAO/gC,UAAU,0CAA2CwW,KAAKC,UAAUK,KAC/E,EAAIiqB,EAAO/gC,UAAU,wCAAyCwW,KAAKC,UAAU9Z,IACtEA,CACX,CACA,MAAM,IAAIokC,EAAOl9B,gBAAgBk9B,EAAOj9B,wBAAwBuW,cAAe,mCACnF,CAEI,MAAM,IAAI0mB,EAAOl9B,gBAAgBk9B,EAAOj9B,wBAAwBuW,cAAe,kCAEvF,CACA,OAAO5e,KAAKwjD,kBAAkB5oC,QAAQyZ,EAC1C,GACJ,CACA4jB,eAAAA,GACI,OAAOj4C,KAAK+iD,aAChB,CACAnJ,eAAAA,CAAgBvJ,EAASwJ,GAChB75C,KAAK4iD,cAAcvS,IACpBrwC,KAAKgjD,gBAAgB3S,EAASwJ,GAElC75C,KAAKqwC,QAAUA,EACfrwC,KAAKoD,OAAOwB,KAAKpC,EAAYi5C,gBAAgBC,sBAAuB,GAAG17C,KAAKmR,QAAQk/B,IACxF,CACAgM,eAAAA,GACI,GAAIr8C,KAAKqwC,QACL,OAAOrwC,KAAKqwC,QAChB,GAAIrwC,KAAK8jB,UAAU+0B,aACf,OAAO74C,KAAK8jB,UAAU+0B,aAC1B,MAAMxI,EAAUrwC,KAAK8jB,UAAUI,OAAO,GACtC,IAAKmsB,EACD,MAAM,IAAIxsC,MAAM,qBACpB,OAAOwsC,EAAQxuB,MAAM,KAAK,EAC9B,CAEAkhC,WAAAA,GACI,IAAIh+C,EAAIwJ,EACR,MAAMsV,EAAW7jB,KAAK8jB,UAAUD,SAGhC,IAFA,EAAIyhB,EAAO/gC,UAAU,6BAA8Bsf,IACnD,EAAIyhB,EAAO/gC,UAAU,+BAAgCwW,KAAKC,UAAUhb,KAAK8jB,aACpED,EACD,MAAO,GAEX,IAAIJ,EAAoG,QAAzFlV,EAAuC,QAAjCxJ,EAAK/E,KAAK8jB,UAAU1e,eAA4B,IAAPL,OAAgB,EAASA,EAAG4e,gBAA6B,IAAPpV,OAAgB,EAASA,EAAGkV,QAE5I,OADA,EAAI6hB,EAAO/gC,UAAU,4BAA6Bkf,GAC9CA,EACO,CACHA,GAGD,EACX,CACAo/B,mBAAAA,GACI,MAAMI,EAAO,CAAC,EASd,OARAjjD,KAAK8jB,UAAUI,OAAOlU,SAASqU,IAC3B,MAAM6+B,GAAgB,EAAIvgD,EAAQwgD,YAAY9+B,GACxC++B,GAAY,EAAIzgD,EAAQ0gD,WAAWh/B,EAAOrkB,KAAK8jB,WACrD,IAAIw/B,EAAetjD,KAAKujD,mBAAmBL,EAAeE,GACtDE,IACAL,EAAKC,GAAiBI,EAC1B,IAEGL,CACX,CACAO,eAAAA,GACI,MAAMn/B,EAAQ,GAAGrkB,KAAKqwC,UAChB4S,EAAOjjD,KAAK4iD,cAAcv+B,GAEhC,IADA,EAAIihB,EAAO/gC,UAAU,2BAA4B8f,EAAO4+B,GACpC,qBAATA,EACP,MAAM,IAAIp/C,MAAM,yBAAyBwgB,eAE7C,OAAO4+B,CACX,CACAD,eAAAA,CAAgB3S,EAASwJ,GACrB,MAAMoJ,EAAOjjD,KAAKujD,mBAAmBlT,EAASwJ,GAC1CoJ,KACA,EAAI3d,EAAO/gC,UAAU,kBAAmB8rC,EAASwJ,GACjD75C,KAAK4iD,cAAcvS,GAAW4S,EAEtC,CACAM,kBAAAA,CAAmBlT,EAASwJ,GAExB,MAAM4J,EAAM5J,EACZ,GAAK4J,EAIA,CACD,MAAMR,EAAO,IAAIP,EAAkBgB,gBAAgB,IAAIjB,EAAoBkB,kBAAkBF,GAAK,EAAI9gD,EAAQihD,WAAW,yBACzH,OAAOX,CACX,EANI,EAAI3d,EAAOh/B,UAAU,oCAAoC+pC,IAOjE,CACAqM,gBAAAA,CAAiBroB,GACb,OAAQA,EAAKziB,QACT,IAAK,sBACD,OAAO,EACX,QACI,OAAO,EAEf,OAAO,CACX,EAEJxS,EAAAA,WAAkBknD,C,qCCtKNxmD,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAACA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OACb,IAAIwB,EAAatB,MAAQA,KAAKsB,WAAc,SAAUC,EAASC,EAAYC,EAAGC,GAC1E,SAASC,EAAMtC,GAAS,OAAOA,aAAiBoC,EAAIpC,EAAQ,IAAIoC,GAAE,SAAUG,GAAWA,EAAQvC,EAAQ,GAAI,CAC3G,OAAO,IAAKoC,IAAMA,EAAII,WAAU,SAAUD,EAASE,GAC/C,SAASC,EAAU1C,GAAS,IAAM2C,EAAKN,EAAUO,KAAK5C,GAAS,CAAE,MAAO6C,GAAKJ,EAAOI,EAAI,CAAE,CAC1F,SAASC,EAAS9C,GAAS,IAAM2C,EAAKN,EAAU,SAASrC,GAAS,CAAE,MAAO6C,GAAKJ,EAAOI,EAAI,CAAE,CAC7F,SAASF,EAAKd,GAAUA,EAAOkB,KAAOR,EAAQV,EAAO7B,OAASsC,EAAMT,EAAO7B,OAAOgD,KAAKN,EAAWI,EAAW,CAC7GH,GAAMN,EAAYA,EAAUY,MAAMf,EAASC,GAAc,KAAKS,OAClE,GACJ,EACA/C,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtD,MAAMmD,EAAc1C,EAAQ,OACtBwlC,EAASxlC,EAAQ,OACjB6C,EAAU7C,EAAQ,OAClB2iD,EAAsB3iD,EAAQ,OAC9B4iD,EAAoB5iD,EAAQ,OAClC,MAAM2mD,EACFvjD,WAAAA,CAAYi0C,EAAMtqB,EAAQzpB,GACtBpD,KAAKmR,KAAOm0B,EAAO7T,iBACnBzxB,KAAK8jB,UAAYqzB,EAAKrzB,UACtB9jB,KAAKoD,OAASA,EACdpD,KAAK6sB,OAASA,EACd7sB,KAAKqwC,QAAUrwC,KAAKq8C,kBACpBr8C,KAAK4iD,cAAgB5iD,KAAK6iD,qBAC9B,CACAC,eAAAA,CAAgBh/B,GACZ9jB,KAAK8jB,UAAY5kB,OAAO+b,OAAOjb,KAAK8jB,UAAWA,EACnD,CACAm0B,eAAAA,GACI,OAAOj4C,KAAK+iD,aAChB,CACAnoC,OAAAA,CAAQyZ,GACJ,OAAO/yB,EAAUtB,UAAM,OAAQ,GAAQ,YAGnC,IAFA,EAAIslC,EAAO/gC,UAAU,+BAAgCwW,KAAKC,UAAUqZ,KACpE,EAAIiR,EAAO/gC,UAAU,4BAA6BwW,KAAKC,UAAUhb,KAAK8jB,YAClE9jB,KAAK8jB,UAAUE,QAAQ3L,SAASgc,EAAKziB,QACrC,OAAO5R,KAAK6sB,OAAOjS,QAAQyZ,GAG3B,MAAM,IAAIiR,EAAOl9B,gBAAgBk9B,EAAOj9B,wBAAwBmpB,qBAAsB,yBAE9F,GACJ,CACAooB,eAAAA,CAAgBvJ,EAASwJ,GAEhB75C,KAAK4iD,cAAcvS,IACpBrwC,KAAKgjD,gBAAgB3S,EAASwJ,GAElC75C,KAAKqwC,QAAUA,EACfrwC,KAAKoD,OAAOwB,KAAKpC,EAAYi5C,gBAAgBC,sBAAuB,GAAG17C,KAAKmR,QAAQk/B,IACxF,CACAgM,eAAAA,GACI,GAAIr8C,KAAKqwC,QACL,OAAOrwC,KAAKqwC,QAChB,GAAIrwC,KAAK8jB,UAAU+0B,aACf,OAAO74C,KAAK8jB,UAAU+0B,aAC1B,MAAMxI,EAAUrwC,KAAK8jB,UAAUI,OAAO,GACtC,IAAKmsB,EACD,MAAM,IAAIxsC,MAAM,qBACpB,OAAOwsC,EAAQxuB,MAAM,KAAK,EAC9B,CAEAkhC,WAAAA,GACI,MAAMl/B,EAAW7jB,KAAK8jB,UAAUD,SAChC,OAAKA,EAGE,IACA,IAAIrM,IAAIqM,EAENzL,QAAQmuB,GAAYA,EAAQ1kB,MAAM,KAAK,KAAO7hB,KAAKqwC,QAAQ1rC,aAE3DiS,KAAK2vB,GAAYA,EAAQ1kB,MAAM,KAAK,OAPlC,EASf,CACAghC,mBAAAA,GACI,MAAMI,EAAO,CAAC,EASd,OARAjjD,KAAK8jB,UAAUI,OAAOlU,SAASqU,IAC3B,MAAM6+B,GAAgB,EAAIvgD,EAAQwgD,YAAY9+B,GACxC++B,GAAY,EAAIzgD,EAAQ0gD,WAAWh/B,EAAOrkB,KAAK8jB,WACrD,IAAIw/B,EAAetjD,KAAKujD,mBAAmBL,EAAeE,GACtDE,IACAL,EAAKC,GAAiBI,EAC1B,IAEGL,CACX,CACAO,eAAAA,GACI,MAAMn/B,EAAQ,GAAGrkB,KAAKqwC,UAChB4S,EAAOjjD,KAAK4iD,cAAcv+B,GAChC,GAAoB,qBAAT4+B,EACP,MAAM,IAAIp/C,MAAM,yBAAyBwgB,eAE7C,OAAO4+B,CACX,CACAD,eAAAA,CAAgB3S,EAASwJ,GACrB,MAAMoJ,EAAOjjD,KAAKujD,mBAAmBlT,EAASwJ,GAC1CoJ,IACAjjD,KAAK4iD,cAAcvS,GAAW4S,EAEtC,CACAM,kBAAAA,CAAmBlT,EAASwJ,GAExB,MAAM4J,EAAM5J,EACZ,GAAK4J,EAIA,CACD,MAAMR,EAAO,IAAIP,EAAkBgB,gBAAgB,IAAIjB,EAAoBkB,kBAAkBF,GAAK,EAAI9gD,EAAQihD,WAAW,yBACzH,OAAOX,CACX,CACJ,CACAvG,gBAAAA,CAAiBroB,GACb,OAAO,CACX,EAEJj1B,EAAAA,WAAkBqnD,C,qCCpHlB,IAAI1mD,EAAmBC,MAAQA,KAAKD,kBAAqBb,OAAOe,OAAU,SAASC,EAAGC,EAAGC,EAAGC,QAC7EC,IAAPD,IAAkBA,EAAKD,GAC3B,IAAIG,EAAOrB,OAAOsB,yBAAyBL,EAAGC,GACzCG,KAAS,QAASA,GAAQJ,EAAEM,WAAaF,EAAKG,UAAYH,EAAKI,gBAClEJ,EAAO,CAAEK,YAAY,EAAMC,IAAK,WAAa,OAAOV,EAAEC,EAAI,IAE5DlB,OAAOC,eAAee,EAAGG,EAAIE,EACjC,EAAM,SAASL,EAAGC,EAAGC,EAAGC,QACTC,IAAPD,IAAkBA,EAAKD,GAC3BF,EAAEG,GAAMF,EAAEC,EACd,GACIksB,EAAgBtsB,MAAQA,KAAKssB,cAAiB,SAASnsB,EAAGf,GAC1D,IAAK,IAAImtB,KAAKpsB,EAAa,YAANosB,GAAoBrtB,OAAOiC,UAAUC,eAAeC,KAAKjC,EAASmtB,IAAIxsB,EAAgBX,EAASe,EAAGosB,EAC3H,EACArtB,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDitB,EAAaxsB,EAAQ,OAAgBV,GACrCktB,EAAaxsB,EAAQ,OAAWV,E,mCChBhCF,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,G,mCCAtDH,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQwmD,iBAAmBxmD,EAAQsnD,wBAAqB,EACxD,MAAMA,GAENtnD,EAAQsnD,mBAAqBA,EAC7B,MAAMd,EACF1iD,WAAAA,CAAYyjD,GACZ,EAEJvnD,EAAQwmD,iBAAmBA,C,mCCT3B1mD,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQg4C,UAAYh4C,EAAQwkD,eAAY,EACxC,MAAMgD,EAAU,CAAC,EACXhD,EAAa7vC,GACR6yC,EAAQ7yC,GAEnB3U,EAAQwkD,UAAYA,EACpB,MAAMxM,EAAYA,CAACrjC,EAAK1U,KACpBunD,EAAQ7yC,GAAO1U,CAAK,EAExBD,EAAQg4C,UAAYA,C,qCCVpB,IAAIr3C,EAAmBC,MAAQA,KAAKD,kBAAqBb,OAAOe,OAAU,SAASC,EAAGC,EAAGC,EAAGC,QAC7EC,IAAPD,IAAkBA,EAAKD,GAC3B,IAAIG,EAAOrB,OAAOsB,yBAAyBL,EAAGC,GACzCG,KAAS,QAASA,GAAQJ,EAAEM,WAAaF,EAAKG,UAAYH,EAAKI,gBAClEJ,EAAO,CAAEK,YAAY,EAAMC,IAAK,WAAa,OAAOV,EAAEC,EAAI,IAE5DlB,OAAOC,eAAee,EAAGG,EAAIE,EACjC,EAAM,SAASL,EAAGC,EAAGC,EAAGC,QACTC,IAAPD,IAAkBA,EAAKD,GAC3BF,EAAEG,GAAMF,EAAEC,EACd,GACIksB,EAAgBtsB,MAAQA,KAAKssB,cAAiB,SAASnsB,EAAGf,GAC1D,IAAK,IAAImtB,KAAKpsB,EAAa,YAANosB,GAAoBrtB,OAAOiC,UAAUC,eAAeC,KAAKjC,EAASmtB,IAAIxsB,EAAgBX,EAASe,EAAGosB,EAC3H,EACArtB,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDitB,EAAaxsB,EAAQ,OAAWV,GAChCktB,EAAaxsB,EAAQ,OAAcV,E,qCCjBvBU,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAACA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OACbZ,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQikD,UAAYA,EACpBjkD,EAAQ+jD,WAAaA,EACrB/jD,EAAQk/C,qBAAuBA,EAC/Bl/C,EAAQynD,uBAAyBA,EACjCznD,EAAQ0nD,aAAeA,EACvB1nD,EAAQ2nD,YAAcA,EACtB3nD,EAAQs6C,qBAAuBA,EAC/Bt6C,EAAQohD,yBAA2BA,EACnC,MAAMlb,EAASxlC,EAAQ,OACvB,SAASujD,EAAUhT,EAASoT,EAAKuD,GAC7B,IAAIjiD,EACJ,MAAMsf,EAAQyiC,EAAazW,GAE3B,OAA+B,QAArBtrC,EAAK0+C,EAAIzB,cAA2B,IAAPj9C,OAAgB,EAASA,EAAGsf,EAAM4iC,aACrE,EACR,CACA,SAAS9D,EAAW9+B,GAChB,OAAOA,EAAMhM,SAAS,KAAOgM,EAAMxC,MAAM,KAAK,GAAKwC,CACvD,CACA,SAASi6B,EAAqB/X,GAC1B,IAAKA,EACD,MAAO,GAEX,IACI,IAAIniB,EAAamiB,EAAQ1kB,MAAM,KAAKrL,MAAM,GACtCiN,EAAUW,EAAW/c,OAAS,EAAI+c,EAAWlM,KAAK,KAAO,GAE7D,OADA,EAAIotB,EAAO/gC,UAAU,4CAA6Ckf,EAAS8iB,GACpE9iB,CACX,CACA,MAAOvhB,GAEH,OADA,EAAIojC,EAAOh/B,UAAU,8BAA+BigC,GAC7C,EACX,CACJ,CA8FA,SAASsgB,EAAuBxW,GAC5B,MAAuB,kBAAZA,EACAA,EACPA,EAAQh4B,SAAS,MACVsmB,SAAS0R,EAAS,KAE7BA,EAAUA,EAAQh4B,SAAS,KAAOg4B,EAAQxuB,MAAM,KAAK,GAAKwuB,EACnDuE,MAAM54B,OAAOq0B,IAAYA,EAAUr0B,OAAOq0B,GACrD,CACA,MAAM6W,EAAiB,IACvB,SAASJ,EAAaziC,GAClB,MAAOP,EAAWmjC,GAAa5iC,EAAMxC,MAAMqlC,GAC3C,MAAO,CAAEpjC,YAAWmjC,YACxB,CACA,SAASF,EAAYpvC,EAAI,GAAIC,EAAI,IAC7B,MAAO,IAAI,IAAIJ,IAAI,IAAIG,KAAMC,IACjC,CACA,SAAS8hC,EAAqBl8B,GAC1B,QAAKA,IAGkB,eAAnBA,EAAOyZ,aAGP,EAAIqO,EAAOzS,gBAAgB,SAAUrV,EAAOsuB,YAAc,IAGvD0U,KACX,CACA,SAASA,IACL,IACI,QAAUhwB,OAAO22B,SACrB,CACA,MAAOjlD,GACH,OAAO,CACX,CACJ,C,sGCpKOiD,GAAG,O,ueAARiiD,EAAAA,EAAAA,IAqxBM,MArxBNC,EAqxBM,EApxBJC,EAAAA,EAAAA,IAmxBeC,EAAA,MArxBnBpyC,SAAAqyC,EAAAA,EAAAA,KAGM,IAAkC,EAAlCF,EAAAA,EAAAA,IAAkCG,EAAA,MAHxCtyC,SAAAqyC,EAAAA,EAAAA,KAGiB,IAAWE,EAAA,MAAAA,EAAA,MAH5BC,EAAAA,EAAAA,IAGiB,mBAHjBtxB,EAAA,KAIMixB,EAAAA,EAAAA,IAgxBUM,EAAA,MApxBhBzyC,SAAAqyC,EAAAA,EAAAA,KAKQ,IAgBU,EAhBVF,EAAAA,EAAAA,IAgBUO,EAAA,CAhBDC,MAAM,eAAa,CACf9lC,QAAMwlC,EAAAA,EAAAA,KACf,IAAiDE,EAAA,MAAAA,EAAA,MAAjDK,EAAAA,EAAAA,IAAiD,OAA5CC,MAAA,wBAA2B,eAAW,OAPvD7yC,SAAAqyC,EAAAA,EAAAA,KASU,IAIS,EAJTF,EAAAA,EAAAA,IAISW,EAAA,CAJDH,MAAM,YAAU,CATlC3yC,SAAAqyC,EAAAA,EAAAA,KAUY,IAES,EAFTF,EAAAA,EAAAA,IAESY,EAAA,CAFAC,KAAM,IAAE,CAV7BhzC,SAAAqyC,EAAAA,EAAAA,KAWc,IAAgC,gBAAhCO,EAAAA,EAAAA,IAAgC,cAAxB,mBAAe,KAXrCJ,EAAAA,EAAAA,IAW8C,KAACS,EAAAA,EAAAA,IAAGC,EAAAjC,kBAAgB,MAXlE/vB,EAAA,OAAAA,EAAA,KAeUixB,EAAAA,EAAAA,IAISW,EAAA,CAJDH,MAAM,YAAU,CAflC3yC,SAAAqyC,EAAAA,EAAAA,KAgBY,IAES,EAFTF,EAAAA,EAAAA,IAESY,EAAA,CAFAC,KAAM,IAAE,CAhB7BhzC,SAAAqyC,EAAAA,EAAAA,KAiBc,IAAyB,gBAAzBO,EAAAA,EAAAA,IAAyB,cAAjB,YAAQ,KAjB9BJ,EAAAA,EAAAA,IAiBuC,KAACS,EAAAA,EAAAA,IAAGE,EAAA1/C,eAAa,MAjBxDytB,EAAA,OAAAA,EAAA,OAAAA,EAAA,KAuBQixB,EAAAA,EAAAA,IAwOUO,EAAA,CAxODC,MAAM,kBAAgB,CAClB9lC,QAAMwlC,EAAAA,EAAAA,KACf,IAAoDE,EAAA,MAAAA,EAAA,MAApDK,EAAAA,EAAAA,IAAoD,OAA/CC,MAAA,wBAA2B,kBAAc,OAzB1D7yC,SAAAqyC,EAAAA,EAAAA,KA4BU,IAUS,EAVTF,EAAAA,EAAAA,IAUSW,EAAA,CAVDH,MAAM,YAAU,CA5BlC3yC,SAAAqyC,EAAAA,EAAAA,KA6BY,IAGS,EAHTF,EAAAA,EAAAA,IAGSY,EAAA,CAHAC,KAAM,IAAE,CA7B7BhzC,SAAAqyC,EAAAA,EAAAA,KA8Bc,IACuB,EADvBF,EAAAA,EAAAA,IACuBiB,EAAA,CA/BrCC,WA8BoCF,EAAAG,OA9BpC,sBAAAf,EAAA,KAAAA,EAAA,GAAAgB,GA8BoCJ,EAAAG,OAAMC,GAAGC,SAAQL,EAAAM,c,CA9BrDzzC,SAAAqyC,EAAAA,EAAAA,KA8BmE,IAC5CE,EAAA,MAAAA,EAAA,MA/BvBC,EAAAA,EAAAA,IA8BmE,gBA9BnEtxB,EAAA,G,gCAAAA,EAAA,KAkCYixB,EAAAA,EAAAA,IAGSY,EAAA,CAHAC,KAAM,IAAE,CAlC7BhzC,SAAAqyC,EAAAA,EAAAA,KAmCc,IAC+B,EAD/BF,EAAAA,EAAAA,IAC+BiB,EAAA,CApC7CC,WAmCoCF,EAAAO,cAnCpC,sBAAAnB,EAAA,KAAAA,EAAA,GAAAgB,GAmCoCJ,EAAAO,cAAaH,GAAGC,SAAQL,EAAAQ,qB,CAnC5D3zC,SAAAqyC,EAAAA,EAAAA,KAmCiF,IAClDE,EAAA,MAAAA,EAAA,MApC/BC,EAAAA,EAAAA,IAmCiF,wBAnCjFtxB,EAAA,G,gCAAAA,EAAA,OAAAA,EAAA,KAyCUixB,EAAAA,EAAAA,IAWSW,EAAA,CAXDD,MAAA,0BAA2B,CAzC7C7yC,SAAAqyC,EAAAA,EAAAA,KA0CY,IAES,EAFTF,EAAAA,EAAAA,IAESY,EAAA,CAFAC,KAAM,GAAC,CA1C5BhzC,SAAAqyC,EAAAA,EAAAA,KA2Cc,IAAqCE,EAAA,MAAAA,EAAA,MAArCK,EAAAA,EAAAA,IAAqC,KAAlCC,MAAA,sBAAwB,UAAM,OA3C/C3xB,EAAA,KA6CYixB,EAAAA,EAAAA,IAMSY,EAAA,CANAC,KAAM,IAAE,CA7C7BhzC,SAAAqyC,EAAAA,EAAAA,KA8Cc,IAIY,EAJZF,EAAAA,EAAAA,IAIYyB,EAAA,CAlD1BP,WA8CkCF,EAAAU,OA9ClC,sBAAAtB,EAAA,KAAAA,EAAA,GAAAgB,GA8CkCJ,EAAAU,OAAMN,GAAEO,YAAY,SAAUN,SAAQN,EAAAa,mBAAoBC,SAAA,I,CA9C5Fh0C,SAAAqyC,EAAAA,EAAAA,KA+CgB,IAA2C,EAA3CF,EAAAA,EAAAA,IAA2C8B,EAAA,CAAhCC,MAAM,SAAShqD,MAAM,YAChCioD,EAAAA,EAAAA,IAA6C8B,EAAA,CAAlCC,MAAM,UAAUhqD,MAAM,aACjCioD,EAAAA,EAAAA,IAAyC8B,EAAA,CAA9BC,MAAM,QAAQhqD,MAAM,aAjD/Cg3B,EAAA,G,gCAAAA,EAAA,OAAAA,EAAA,KAsDUixB,EAAAA,EAAAA,IA6BSW,EAAA,CA7BDD,MAAA,4DAA4D,CAtD9E7yC,SAAAqyC,EAAAA,EAAAA,KAuDY,IAGS,EAHTF,EAAAA,EAAAA,IAGSY,EAAA,CAHAC,KAAM,EAAGH,MAAA,a,CAvD9B7yC,SAAAqyC,EAAAA,EAAAA,KAwDc,IAA2DE,EAAA,MAAAA,EAAA,MAA3DK,EAAAA,EAAAA,IAA2D,KAAxDC,MAAA,mCAAqC,mBAAe,IACvDD,EAAAA,EAAAA,IAAwD,KAArDC,MAAA,kCAAoC,iBAAa,OAzDlE3xB,EAAA,KA2DYixB,EAAAA,EAAAA,IAaSY,EAAA,CAbAC,KAAM,IAAE,CA3D7BhzC,SAAAqyC,EAAAA,EAAAA,KA4Dc,IAWY,EAXZF,EAAAA,EAAAA,IAWYyB,EAAA,CAvE1BP,WA6DyBF,EAAAgB,eA7DzB,sBAAA5B,EAAA,KAAAA,EAAA,GAAAgB,GA6DyBJ,EAAAgB,eAAcZ,GACtBC,SAAQN,EAAAkB,2BACTN,YAAY,mB,CA/D5B9zC,SAAAqyC,EAAAA,EAAAA,KAkEkB,IAAoC,gBADtCJ,EAAAA,EAAAA,IAKEoC,EAAAA,GAAA,MAtElBC,EAAAA,EAAAA,IAkEqCnB,EAAAoB,kBAAZC,K,WADTC,EAAAA,EAAAA,IAKER,EAAA,CAHCr1C,IAAG,iCAAmC41C,IACtCN,MAAOM,EACPtqD,MAAOsqD,G,sCArE1BtzB,EAAA,G,gCAAAA,EAAA,KAyEYixB,EAAAA,EAAAA,IASSY,EAAA,CATAC,KAAM,IAAE,CAzE7BhzC,SAAAqyC,EAAAA,EAAAA,KA0Ec,IAOE,CANyB,aAAnBc,EAAAgB,iBAAc,WADtBM,EAAAA,EAAAA,IAOEC,EAAA,CAjFhB91C,IAAA,EAAAy0C,WA4EyBF,EAAAwB,SA5EzB,sBAAApC,EAAA,KAAAA,EAAA,GAAAgB,GA4EyBJ,EAAAwB,SAAQpB,GAChBC,SAAQN,EAAA0B,6BACTd,YAAY,WACXe,SAA6B,aAAnB1B,EAAAgB,eACXtB,MAAA,gB,+CAhFhBiC,EAAAA,EAAAA,IAAA,UAAA5zB,EAAA,OAAAA,EAAA,KAqFUixB,EAAAA,EAAAA,IAUSW,EAAA,CAVDD,MAAA,0BAA2B,CArF7C7yC,SAAAqyC,EAAAA,EAAAA,KAsFY,IAES,EAFTF,EAAAA,EAAAA,IAESY,EAAA,CAFAC,KAAM,GAAC,CAtF5BhzC,SAAAqyC,EAAAA,EAAAA,KAuFc,IAAmCE,EAAA,MAAAA,EAAA,MAAnCK,EAAAA,EAAAA,IAAmC,KAAhCC,MAAA,sBAAwB,QAAI,OAvF7C3xB,EAAA,KAyFYixB,EAAAA,EAAAA,IAKSY,EAAA,CALAC,KAAM,IAAE,CAzF7BhzC,SAAAqyC,EAAAA,EAAAA,KA0Fc,IAGY,EAHZF,EAAAA,EAAAA,IAGYyB,EAAA,CA7F1BP,WA0FkCF,EAAAtwB,SA1FlC,sBAAA0vB,EAAA,KAAAA,EAAA,GAAAgB,GA0FkCJ,EAAAtwB,SAAQ0wB,GAAGC,SAAQN,EAAA6B,qBAAsBjB,YAAY,Y,CA1FvF9zC,SAAAqyC,EAAAA,EAAAA,KA2F2B,IAAyB,gBAApCJ,EAAAA,EAAAA,IACoBoC,EAAAA,GAAA,MA5FpCC,EAAAA,EAAAA,IA2F4CnB,EAAA6B,SAAVC,K,WAAlBR,EAAAA,EAAAA,IACoBR,EAAA,CADkBr1C,IAAG,0BAA4Bq2C,IAAWf,MAAOe,EACpF/qD,MAAO+qD,G,sCA5F1B/zB,EAAA,G,gCAAAA,EAAA,OAAAA,EAAA,KAiGUixB,EAAAA,EAAAA,IAUSW,EAAA,CAVDD,MAAA,0BAA2B,CAjG7C7yC,SAAAqyC,EAAAA,EAAAA,KAkGY,IAES,EAFTF,EAAAA,EAAAA,IAESY,EAAA,CAFAC,KAAM,GAAC,CAlG5BhzC,SAAAqyC,EAAAA,EAAAA,KAmGc,IAAoCE,EAAA,MAAAA,EAAA,MAApCK,EAAAA,EAAAA,IAAoC,KAAjCC,MAAA,sBAAwB,SAAK,OAnG9C3xB,EAAA,KAqGYixB,EAAAA,EAAAA,IAKSY,EAAA,CALAC,KAAM,IAAE,CArG7BhzC,SAAAqyC,EAAAA,EAAAA,KAsGc,IAGY,EAHZF,EAAAA,EAAAA,IAGYyB,EAAA,CAzG1BP,WAsGkCF,EAAA+B,MAtGlC,sBAAA3C,EAAA,KAAAA,EAAA,GAAAgB,GAsGkCJ,EAAA+B,MAAK3B,GAAGC,SAAQN,EAAAiC,kBAAmBrB,YAAY,S,CAtGjF9zC,SAAAqyC,EAAAA,EAAAA,KAuGgB,IAAgD,EAAhDF,EAAAA,EAAAA,IAAgD8B,EAAA,CAArCC,MAAM,QAAShqD,MAAOipD,EAAAiC,MAAMC,O,mBACvClD,EAAAA,EAAAA,IAA8C8B,EAAA,CAAnCC,MAAM,OAAQhqD,MAAOipD,EAAAiC,MAAME,M,qBAxGtDp0B,EAAA,G,gCAAAA,EAAA,OAAAA,EAAA,KA4HUixB,EAAAA,EAAAA,IAqBSW,EAAA,CArBDD,MAAA,0BAA2B,CA5H7C7yC,SAAAqyC,EAAAA,EAAAA,KA6HY,IAGS,EAHTF,EAAAA,EAAAA,IAGSY,EAAA,CAHAC,KAAM,GAAC,CA7H5BhzC,SAAAqyC,EAAAA,EAAAA,KA8Hc,IAAsCE,EAAA,MAAAA,EAAA,MAAtCK,EAAAA,EAAAA,IAAsC,KAAnCC,MAAA,sBAAwB,WAAO,IAClCD,EAAAA,EAAAA,IAAsC,KAAnCC,MAAA,sBAAwB,WAAO,OA/HhD3xB,EAAA,KAiIYixB,EAAAA,EAAAA,IAeSY,EAAA,CAfAC,KAAM,IAAE,CAjI7BhzC,SAAAqyC,EAAAA,EAAAA,KAkIc,IAOY,EAPZF,EAAAA,EAAAA,IAOYyB,EAAA,CAzI1BP,WAkIkCF,EAAAoC,eAlIlC,sBAAAhD,EAAA,KAAAA,EAAA,GAAAgB,GAkIkCJ,EAAAoC,eAAchC,GAAGC,SAAQN,EAAAsC,2BAA4BxB,SAAA,GAASF,YAAY,W,CAlI5G9zC,SAAAqyC,EAAAA,EAAAA,KAoIoB,IAA8B,gBADlCJ,EAAAA,EAAAA,IAKYoC,EAAAA,GAAA,MAxI5BC,EAAAA,EAAAA,IAoImCnB,EAAAsC,gBAARxzC,K,WADXwyC,EAAAA,EAAAA,IAKYR,EAAA,CAHPr1C,IAAKqD,EACLiyC,MAAOjyC,EACP/X,MAAO+X,G,sCAvI5Bif,EAAA,G,gCAAAA,EAAA,OAAAA,EAAA,KAmJUixB,EAAAA,EAAAA,IAOSW,EAAA,CAPDD,MAAA,0BAA2B,CAnJ7C7yC,SAAAqyC,EAAAA,EAAAA,KAoJY,IAES,EAFTF,EAAAA,EAAAA,IAESY,EAAA,CAFAC,KAAM,GAAC,CApJ5BhzC,SAAAqyC,EAAAA,EAAAA,KAqJc,IAAwCE,EAAA,MAAAA,EAAA,MAAxCK,EAAAA,EAAAA,IAAwC,KAArCC,MAAA,sBAAwB,aAAS,OArJlD3xB,EAAA,KAuJYixB,EAAAA,EAAAA,IAESY,EAAA,CAFAC,KAAM,IAAE,CAvJ7BhzC,SAAAqyC,EAAAA,EAAAA,KAwJc,IAA4E,EAA5EF,EAAAA,EAAAA,IAA4EuC,EAAA,CAxJ1FrB,WAwJiCF,EAAAuC,cAxJjC,sBAAAnD,EAAA,KAAAA,EAAA,GAAAgB,GAwJiCJ,EAAAuC,cAAanC,GAAGO,YAAY,mB,0BAxJ7D5yB,EAAA,OAAAA,EAAA,KA6JUixB,EAAAA,EAAAA,IAeSW,EAAA,CAfA6C,OAAQ,GAAIC,MAAM,U,CA7JrC51C,SAAAqyC,EAAAA,EAAAA,KA8JY,IAES,EAFTF,EAAAA,EAAAA,IAESY,EAAA,CAFAC,KAAM,IAAE,CA9J7BhzC,SAAAqyC,EAAAA,EAAAA,KA+Jc,IAA4DE,EAAA,MAAAA,EAAA,MAA5DK,EAAAA,EAAAA,IAA4D,OAAvDC,MAAA,wBAA2B,0BAAsB,OA/JpE3xB,EAAA,M,aAiKY+wB,EAAAA,EAAAA,IAUSoC,EAAAA,GAAA,MA3KrBC,EAAAA,EAAAA,IAmK6BvqD,OAAO2qB,KAAKy+B,EAAA0C,kBAApB5zC,K,WAFTwyC,EAAAA,EAAAA,IAUS1B,EAAA,CATNC,KAAM,EAENp0C,IAAKqD,G,CApKpBjC,SAAAqyC,EAAAA,EAAAA,KAsKc,IAIC,EAJDF,EAAAA,EAAAA,IAICiB,EAAA,CA1KfC,WAuKyBF,EAAA0C,gBAAgB5zC,GAAM6zC,QAvK/C,sBAAAvC,GAuKyBJ,EAAA0C,gBAAgB5zC,GAAM6zC,QAAOvC,EACrCsB,UAAW1B,EAAA4C,e,CAxK5B/1C,SAAAqyC,EAAAA,EAAAA,KAyKiB,IAAgC,EAzKjDG,EAAAA,EAAAA,KAAAS,EAAAA,EAAAA,IAyKoBE,EAAA0C,gBAAgB5zC,GAAMjG,MAAI,MAzK9CklB,EAAA,G,yDAAAA,EAAA,G,kBAAAA,EAAA,KA8KUixB,EAAAA,EAAAA,IAmBSW,EAAA,CAnBA6C,OAAQ,GAAIC,MAAM,SAAS/C,MAAA,uB,CA9K9C7yC,SAAAqyC,EAAAA,EAAAA,KA+KY,IAES,EAFTF,EAAAA,EAAAA,IAESY,EAAA,CAFAC,KAAM,IAAE,CA/K7BhzC,SAAAqyC,EAAAA,EAAAA,KAgLc,IAA4DE,EAAA,MAAAA,EAAA,MAA5DK,EAAAA,EAAAA,IAA4D,OAAvDC,MAAA,wBAA2B,0BAAsB,OAhLpE3xB,EAAA,KAkLYixB,EAAAA,EAAAA,IAGSY,EAAA,CAHAC,KAAM,GAAC,CAlL5BhzC,SAAAqyC,EAAAA,EAAAA,KAmLc,IACoB,EADpBF,EAAAA,EAAAA,IACoBiB,EAAA,CADN0C,QAAS3C,EAAA6C,kBAAkB,OAASxC,SAAMjB,EAAA,KAAAA,EAAA,OAAQY,EAAA8C,mBAAmB,S,CAnLjGj2C,SAAAqyC,EAAAA,EAAAA,KAmLyG,IACrFE,EAAA,MAAAA,EAAA,MApLpBC,EAAAA,EAAAA,IAmLyG,aAnLzGtxB,EAAA,G,kBAAAA,EAAA,KAsLYixB,EAAAA,EAAAA,IAESY,EAAA,CAFAC,KAAM,GAAC,CAtL5BhzC,SAAAqyC,EAAAA,EAAAA,KAuLc,IAAqG,EAArGF,EAAAA,EAAAA,IAAqGiB,EAAA,CAAvF0C,QAAS3C,EAAA6C,kBAAkB,IAAMxC,SAAMjB,EAAA,MAAAA,EAAA,QAAQY,EAAA8C,mBAAmB,M,CAvL9Fj2C,SAAAqyC,EAAAA,EAAAA,KAuLmG,IAAEE,EAAA,MAAAA,EAAA,MAvLrGC,EAAAA,EAAAA,IAuLmG,UAvLnGtxB,EAAA,G,kBAAAA,EAAA,KAyLYixB,EAAAA,EAAAA,IAGSY,EAAA,CAHAC,KAAM,GAAC,CAzL5BhzC,SAAAqyC,EAAAA,EAAAA,KA0Lc,IACoB,EADpBF,EAAAA,EAAAA,IACoBiB,EAAA,CADN0C,QAAS3C,EAAA6C,kBAAkB,MAAQxC,SAAMjB,EAAA,MAAAA,EAAA,QAAQY,EAAA8C,mBAAmB,Q,CA1LhGj2C,SAAAqyC,EAAAA,EAAAA,KA0LuG,IACnFE,EAAA,MAAAA,EAAA,MA3LpBC,EAAAA,EAAAA,IA0LuG,aA1LvGtxB,EAAA,G,kBAAAA,EAAA,KA6LYixB,EAAAA,EAAAA,IAGSY,EAAA,CAHAC,KAAM,GAAC,CA7L5BhzC,SAAAqyC,EAAAA,EAAAA,KA8Lc,IACqE,EADrEF,EAAAA,EAAAA,IACqEiB,EAAA,CADvD0C,QAAS3C,EAAA6C,kBAAkB,UACtCxC,SAAMjB,EAAA,MAAAA,EAAA,QAAQY,EAAA8C,mBAAmB,Y,CA/LlDj2C,SAAAqyC,EAAAA,EAAAA,KA+L6D,IAAQE,EAAA,MAAAA,EAAA,MA/LrEC,EAAAA,EAAAA,IA+L6D,gBA/L7DtxB,EAAA,G,kBAAAA,EAAA,OAAAA,EAAA,KAmMUixB,EAAAA,EAAAA,IAUSW,EAAA,CAVA6C,OAAQ,GAAIhD,MAAM,c,CAnMrC3yC,SAAAqyC,EAAAA,EAAAA,KAoMY,IAQS,EARTF,EAAAA,EAAAA,IAQSY,EAAA,CARAC,KAAM,IAAE,CApM7BhzC,SAAAqyC,EAAAA,EAAAA,KAqMc,IAMC,EANDF,EAAAA,EAAAA,IAMC+D,EAAA,CALGr8B,KAAK,UACJs8B,QAAOjD,EAAAkD,eACRtP,KAAK,qBACJ+N,UAAW1B,EAAA4C,e,CAzM9B/1C,SAAAqyC,EAAAA,EAAAA,KA0Me,IAAoB,EA1MnCG,EAAAA,EAAAA,KAAAS,EAAAA,EAAAA,IA0MkBE,EAAAkD,gBAAc,MA1MhCn1B,EAAA,G,6BAAAA,EAAA,OAAAA,EAAA,KA+MUixB,EAAAA,EAAAA,IAUSW,EAAA,CAVA6C,OAAQ,GAAIhD,MAAM,c,CA/MrC3yC,SAAAqyC,EAAAA,EAAAA,KAgNY,IAQS,EARTF,EAAAA,EAAAA,IAQSY,EAAA,CARAC,KAAM,IAAE,CAhN7BhzC,SAAAqyC,EAAAA,EAAAA,KAiNc,IAMC,EANDF,EAAAA,EAAAA,IAMC+D,EAAA,CALCr8B,KAAK,UACJs8B,QAAOjD,EAAAoD,kBACRxP,KAAK,qBACJ+N,UAAW1B,EAAA4C,e,CArN5B/1C,SAAAqyC,EAAAA,EAAAA,KAsNiB,IAAsB,EAtNvCG,EAAAA,EAAAA,KAAAS,EAAAA,EAAAA,IAsNoBE,EAAAoD,kBAAgB,MAtNpCr1B,EAAA,G,6BAAAA,EAAA,OAAAA,EAAA,KA4NUixB,EAAAA,EAAAA,IAUSW,EAAA,CAVA6C,OAAQ,GAAIhD,MAAM,c,CA5NrC3yC,SAAAqyC,EAAAA,EAAAA,KA6NY,IAQS,EARTF,EAAAA,EAAAA,IAQSY,EAAA,CARAC,KAAM,IAAE,CA7N7BhzC,SAAAqyC,EAAAA,EAAAA,KA8Nc,IAMC,EANDF,EAAAA,EAAAA,IAMC+D,EAAA,CALGr8B,KAAK,UACJs8B,QAAOjD,EAAAsD,oBACR1P,KAAK,qBACJ+N,UAAW1B,EAAA4C,e,CAlO9B/1C,SAAAqyC,EAAAA,EAAAA,KAmOe,IAAuB,EAnOtCG,EAAAA,EAAAA,KAAAS,EAAAA,EAAAA,IAmOkBE,EAAAsD,mBAAiB,MAnOnCv1B,EAAA,G,6BAAAA,EAAA,OAAAA,EAAA,KAwOUixB,EAAAA,EAAAA,IAUSW,EAAA,CAVA6C,OAAQ,GAAIhD,MAAM,c,CAxOrC3yC,SAAAqyC,EAAAA,EAAAA,KAyOY,IAQS,EARTF,EAAAA,EAAAA,IAQSY,EAAA,CARAC,KAAM,IAAE,CAzO7BhzC,SAAAqyC,EAAAA,EAAAA,KA0Oc,IAMC,EANDF,EAAAA,EAAAA,IAMC+D,EAAA,CALCr8B,KAAK,SACJs8B,QAAOjD,EAAAwD,iBACR5P,KAAK,wBACJ+N,UAAW1B,EAAA4C,eAAyC,GAAxB5C,EAAAwD,cAAczkD,Q,CA9O3D8N,SAAAqyC,EAAAA,EAAAA,KA+OiB,IAAyB,EA/O1CG,EAAAA,EAAAA,KAAAS,EAAAA,EAAAA,IA+OoBE,EAAAyD,qBAAmB,MA/OvC11B,EAAA,G,6BAAAA,EAAA,OAAAA,EAAA,M,WAoPUuzB,EAAAA,EAAAA,IAUWoC,EAAAA,GAAA,CAVDhb,GAAG,QAAM,CACNsX,EAAA2D,YAAS,WAApB7E,EAAAA,EAAAA,IAQM,OA7PlBrzC,IAAA,EAqPkC+zC,MAAM,gBAAiBwD,QAAK5D,EAAA,MAAAA,EAAA,QAAArzB,IAAEg0B,EAAA6D,YAAA7D,EAAA6D,cAAA73B,K,EAClD0zB,EAAAA,EAAAA,IAMM,OANDD,MAAM,gBAAiBwD,QAAK5D,EAAA,MAAAA,EAAA,KAtP/CyE,EAAAA,EAAAA,KAsPyC,QAAW,Y,EACpCpE,EAAAA,EAAAA,IAES,UAFDD,MAAM,eAAgBwD,QAAK5D,EAAA,MAAAA,EAAA,QAAArzB,IAAEg0B,EAAA6D,YAAA7D,EAAA6D,cAAA73B,KAAY,OAEjD,eACA0zB,EAAAA,EAAAA,IAAwB,UAApB,mBAAe,KACnBT,EAAAA,EAAAA,IAAqD8E,EAAA,CAAxC/sD,MAAOipD,EAAA+D,QAAU72C,KAAM,IAAK82C,MAAM,K,wBA3P/DrC,EAAAA,EAAAA,IAAA,aAAA5zB,EAAA,KAkQQixB,EAAAA,EAAAA,IAihBUO,EAAA,CAjhBDC,MAAM,kBAAgB,CAClB9lC,QAAMwlC,EAAAA,EAAAA,KACf,IAAkDE,EAAA,MAAAA,EAAA,MAAlDK,EAAAA,EAAAA,IAAkD,OAA7CC,MAAA,wBAA2B,gBAAY,OApQxD7yC,SAAAqyC,EAAAA,EAAAA,KAuQU,IAodU,EApdVF,EAAAA,EAAAA,IAodUiF,EAAA,CA3tBpB/D,WAuQ4BF,EAAAkE,UAvQ5B,sBAAA9E,EAAA,MAAAA,EAAA,IAAAgB,GAuQ4BJ,EAAAkE,UAAS9D,GAAE15B,KAAK,cAAey9B,WAAWpE,EAAAqE,gB,CAvQtEv3C,SAAAqyC,EAAAA,EAAAA,KAyQY,IA4Dc,EA5DdF,EAAAA,EAAAA,IA4DcqF,EAAA,CA5DDtD,MAAM,MAAMl4C,KAAK,Y,CAzQ1CgE,SAAAqyC,EAAAA,EAAAA,KA0Qc,IAIS,EAJTF,EAAAA,EAAAA,IAISW,EAAA,CAJA6C,OAAQ,GAAIhD,MAAM,c,CA1QzC3yC,SAAAqyC,EAAAA,EAAAA,KA2QgB,IAES,EAFTF,EAAAA,EAAAA,IAESY,EAAA,CAFAC,KAAM,IAAE,CA3QjChzC,SAAAqyC,EAAAA,EAAAA,KA4QkB,IAA2F,EAA3FF,EAAAA,EAAAA,IAA2F+D,EAAA,CAAhFr8B,KAAK,UAAWs8B,QAAOjD,EAAAuE,qB,CA5QpDz3C,SAAAqyC,EAAAA,EAAAA,KA4QyE,IAAwBE,EAAA,MAAAA,EAAA,MA5QjGC,EAAAA,EAAAA,IA4QyE,gCA5QzEtxB,EAAA,G,kBAAAA,EAAA,OAAAA,EAAA,KAgRcixB,EAAAA,EAAAA,IAISW,EAAA,CAJA6C,OAAQ,GAAIhD,MAAM,c,CAhRzC3yC,SAAAqyC,EAAAA,EAAAA,KAiRgB,IAES,EAFTF,EAAAA,EAAAA,IAESY,EAAA,CAFAC,KAAM,IAAE,CAjRjChzC,SAAAqyC,EAAAA,EAAAA,KAkRkB,IAA6E,EAA7EF,EAAAA,EAAAA,IAA6E+D,EAAA,CAAlEr8B,KAAK,UAAWs8B,QAAK5D,EAAA,MAAAA,EAAA,IAAAgB,GAAEL,EAAAwE,gB,CAlRpD13C,SAAAqyC,EAAAA,EAAAA,KAkRmE,IAAgBE,EAAA,MAAAA,EAAA,MAlRnFC,EAAAA,EAAAA,IAkRmE,wBAlRnEtxB,EAAA,OAAAA,EAAA,OAAAA,EAAA,KAsRcixB,EAAAA,EAAAA,IAKSW,EAAA,CALA6C,OAAQ,GAAIhD,MAAM,c,CAtRzC3yC,SAAAqyC,EAAAA,EAAAA,KAuRgB,IAGS,EAHTF,EAAAA,EAAAA,IAGSY,EAAA,CAHAC,KAAM,IAAE,CAvRjChzC,SAAAqyC,EAAAA,EAAAA,KAwRkB,IAC6F,EAD7FF,EAAAA,EAAAA,IAC6F+D,EAAA,CADlFr8B,KAAK,UACbs8B,QAAK5D,EAAA,MAAAA,EAAA,IAAAgB,GAAEL,EAAAyE,+B,CAzR5B33C,SAAAqyC,EAAAA,EAAAA,KAyR0D,IAAyCE,EAAA,MAAAA,EAAA,MAzRnGC,EAAAA,EAAAA,IAyR0D,iDAzR1DtxB,EAAA,OAAAA,EAAA,OAAAA,EAAA,KA4RcixB,EAAAA,EAAAA,IAISW,EAAA,CAJA6C,OAAQ,GAAIhD,MAAM,c,CA5RzC3yC,SAAAqyC,EAAAA,EAAAA,KA6RgB,IAES,EAFTF,EAAAA,EAAAA,IAESY,EAAA,CAFAC,KAAM,IAAE,CA7RjChzC,SAAAqyC,EAAAA,EAAAA,KA8RkB,IAAgG,EAAhGF,EAAAA,EAAAA,IAAgG+D,EAAA,CAArFr8B,KAAK,UAAWs8B,QAAK5D,EAAA,MAAAA,EAAA,IAAAgB,GAAEL,EAAA0E,4B,CA9RpD53C,SAAAqyC,EAAAA,EAAAA,KA8R+E,IAAuBE,EAAA,MAAAA,EAAA,MA9RtGC,EAAAA,EAAAA,IA8R+E,+BA9R/EtxB,EAAA,OAAAA,EAAA,OAAAA,EAAA,KAiScixB,EAAAA,EAAAA,IAISW,EAAA,CAJA6C,OAAQ,GAAIhD,MAAM,c,CAjSzC3yC,SAAAqyC,EAAAA,EAAAA,KAkSgB,IAES,EAFTF,EAAAA,EAAAA,IAESY,EAAA,CAFAC,KAAM,IAAE,CAlSjChzC,SAAAqyC,EAAAA,EAAAA,KAmSkB,IAA4E,EAA5EF,EAAAA,EAAAA,IAA4E+D,EAAA,CAAjEr8B,KAAK,UAAWs8B,QAAK5D,EAAA,MAAAA,EAAA,IAAAgB,GAAEL,EAAA2E,kB,CAnSpD73C,SAAAqyC,EAAAA,EAAAA,KAmSqE,IAAaE,EAAA,MAAAA,EAAA,MAnSlFC,EAAAA,EAAAA,IAmSqE,qBAnSrEtxB,EAAA,OAAAA,EAAA,OAAAA,EAAA,KAsScixB,EAAAA,EAAAA,IAISW,EAAA,CAJA6C,OAAQ,GAAIhD,MAAM,c,CAtSzC3yC,SAAAqyC,EAAAA,EAAAA,KAuSgB,IAES,EAFTF,EAAAA,EAAAA,IAESY,EAAA,CAFAC,KAAM,IAAE,CAvSjChzC,SAAAqyC,EAAAA,EAAAA,KAwSkB,IAA0F,EAA1FF,EAAAA,EAAAA,IAA0F+D,EAAA,CAA/Er8B,KAAK,UAAWs8B,QAAK5D,EAAA,MAAAA,EAAA,IAAAgB,GAAEL,EAAA4E,yB,CAxSpD93C,SAAAqyC,EAAAA,EAAAA,KAwS4E,IAAoBE,EAAA,MAAAA,EAAA,MAxShGC,EAAAA,EAAAA,IAwS4E,4BAxS5EtxB,EAAA,OAAAA,EAAA,OAAAA,EAAA,KA2ScixB,EAAAA,EAAAA,IAISW,EAAA,CAJA6C,OAAQ,GAAIhD,MAAM,c,CA3SzC3yC,SAAAqyC,EAAAA,EAAAA,KA4SgB,IAES,EAFTF,EAAAA,EAAAA,IAESY,EAAA,CAFAC,KAAM,IAAE,CA5SjChzC,SAAAqyC,EAAAA,EAAAA,KA6SkB,IAAyG,EAAzGF,EAAAA,EAAAA,IAAyG+D,EAAA,CAA9Fr8B,KAAK,UAAWs8B,QAAOjD,EAAA6E,8B,CA7SpD/3C,SAAAqyC,EAAAA,EAAAA,KA6SkF,IAA6BE,EAAA,MAAAA,EAAA,MA7S/GC,EAAAA,EAAAA,IA6SkF,qCA7SlFtxB,EAAA,G,kBAAAA,EAAA,OAAAA,EAAA,KAiTcixB,EAAAA,EAAAA,IAKSW,EAAA,CALA6C,OAAQ,GAAIhD,MAAM,c,CAjTzC3yC,SAAAqyC,EAAAA,EAAAA,KAkTgB,IAGS,EAHTF,EAAAA,EAAAA,IAGSY,EAAA,CAHAC,KAAM,IAAE,CAlTjChzC,SAAAqyC,EAAAA,EAAAA,KAmTkB,IACuF,EADvFF,EAAAA,EAAAA,IACuF+D,EAAA,CAD5Er8B,KAAK,UACbs8B,QAAOjD,EAAA8E,6B,CApT5Bh4C,SAAAqyC,EAAAA,EAAAA,KAoTyD,IAAoCE,EAAA,MAAAA,EAAA,MApT7FC,EAAAA,EAAAA,IAoTyD,4CApTzDtxB,EAAA,G,kBAAAA,EAAA,OAAAA,EAAA,KAwTcixB,EAAAA,EAAAA,IAKSW,EAAA,CALA6C,OAAQ,GAAIhD,MAAM,c,CAxTzC3yC,SAAAqyC,EAAAA,EAAAA,KAyTgB,IAGS,EAHTF,EAAAA,EAAAA,IAGSY,EAAA,CAHAC,KAAM,IAAE,CAzTjChzC,SAAAqyC,EAAAA,EAAAA,KA0TkB,IACkB,EADlBF,EAAAA,EAAAA,IACkB+D,EAAA,CADPr8B,KAAK,UAAWs8B,QAAOjD,EAAA+E,0B,CA1TpDj4C,SAAAqyC,EAAAA,EAAAA,KA0T8E,IACtDE,EAAA,MAAAA,EAAA,MA3TxBC,EAAAA,EAAAA,IA0T8E,yCA1T9EtxB,EAAA,G,kBAAAA,EAAA,OAAAA,EAAA,KA+TcixB,EAAAA,EAAAA,IAKSW,EAAA,CALA6C,OAAQ,GAAIhD,MAAM,c,CA/TzC3yC,SAAAqyC,EAAAA,EAAAA,KAgUgB,IAGS,EAHTF,EAAAA,EAAAA,IAGSY,EAAA,CAHAC,KAAM,IAAE,CAhUjChzC,SAAAqyC,EAAAA,EAAAA,KAiUkB,IACY,EADZF,EAAAA,EAAAA,IACY+D,EAAA,CADDr8B,KAAK,UAAWs8B,QAAK5D,EAAA,MAAAA,EAAA,IAAAgB,GAAEL,EAAAgF,sB,CAjUpDl4C,SAAAqyC,EAAAA,EAAAA,KAiUyE,IACvDE,EAAA,MAAAA,EAAA,MAlUlBC,EAAAA,EAAAA,IAiUyE,uCAjUzEtxB,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,KAuUYixB,EAAAA,EAAAA,IAWcqF,EAAA,CAXDtD,MAAM,MAAMl4C,KAAK,Y,CAvU1CgE,SAAAqyC,EAAAA,EAAAA,KAwUc,IAIS,EAJTF,EAAAA,EAAAA,IAISW,EAAA,CAJA6C,OAAQ,GAAIhD,MAAM,c,CAxUzC3yC,SAAAqyC,EAAAA,EAAAA,KAyUgB,IAES,EAFTF,EAAAA,EAAAA,IAESY,EAAA,CAFAC,KAAM,IAAE,CAzUjChzC,SAAAqyC,EAAAA,EAAAA,KA0UkB,IAA4E,EAA5EF,EAAAA,EAAAA,IAA4E+D,EAAA,CAAjEr8B,KAAK,UAAWs8B,QAAOjD,EAAAiF,gB,CA1UpDn4C,SAAAqyC,EAAAA,EAAAA,KA0UoE,IAAcE,EAAA,MAAAA,EAAA,MA1UlFC,EAAAA,EAAAA,IA0UoE,sBA1UpEtxB,EAAA,G,kBAAAA,EAAA,OAAAA,EAAA,KA6UcixB,EAAAA,EAAAA,IAISW,EAAA,CAJA6C,OAAQ,GAAIhD,MAAM,c,CA7UzC3yC,SAAAqyC,EAAAA,EAAAA,KA8UgB,IAES,EAFTF,EAAAA,EAAAA,IAESY,EAAA,CAFAC,KAAM,IAAE,CA9UjChzC,SAAAqyC,EAAAA,EAAAA,KA+UkB,IAAsF,EAAtFF,EAAAA,EAAAA,IAAsF+D,EAAA,CAA3Er8B,KAAK,UAAWs8B,QAAOjD,EAAAkF,qB,CA/UpDp4C,SAAAqyC,EAAAA,EAAAA,KA+UyE,IAAmBE,EAAA,MAAAA,EAAA,MA/U5FC,EAAAA,EAAAA,IA+UyE,2BA/UzEtxB,EAAA,G,kBAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,KAqVYixB,EAAAA,EAAAA,IA6CcqF,EAAA,CA7CDtD,MAAM,MAAMl4C,KAAK,2C,CArV1CgE,SAAAqyC,EAAAA,EAAAA,KAsVc,IAIS,EAJTF,EAAAA,EAAAA,IAISW,EAAA,CAJA6C,OAAQ,GAAIhD,MAAM,c,CAtVzC3yC,SAAAqyC,EAAAA,EAAAA,KAuVgB,IAES,EAFTF,EAAAA,EAAAA,IAESY,EAAA,CAFAC,KAAM,IAAE,CAvVjChzC,SAAAqyC,EAAAA,EAAAA,KAwVkB,IAAiF,EAAjFF,EAAAA,EAAAA,IAAiF+D,EAAA,CAAtEr8B,KAAK,UAAWs8B,QAAOjD,EAAAmF,iB,CAxVpDr4C,SAAAqyC,EAAAA,EAAAA,KAwVqE,IAAkBE,EAAA,MAAAA,EAAA,MAxVvFC,EAAAA,EAAAA,IAwVqE,0BAxVrEtxB,EAAA,G,kBAAAA,EAAA,OAAAA,EAAA,KA4VcixB,EAAAA,EAAAA,IAISW,EAAA,CAJA6C,OAAQ,GAAIhD,MAAM,c,CA5VzC3yC,SAAAqyC,EAAAA,EAAAA,KA6VgB,IAES,EAFTF,EAAAA,EAAAA,IAESY,EAAA,CAFAC,KAAM,IAAE,CA7VjChzC,SAAAqyC,EAAAA,EAAAA,KA8VkB,IAAyF,EAAzFF,EAAAA,EAAAA,IAAyF+D,EAAA,CAA9Er8B,KAAK,UAAWs8B,QAAOjD,EAAAoF,qB,CA9VpDt4C,SAAAqyC,EAAAA,EAAAA,KA8VyE,IAAsBE,EAAA,MAAAA,EAAA,MA9V/FC,EAAAA,EAAAA,IA8VyE,8BA9VzEtxB,EAAA,G,kBAAAA,EAAA,OAAAA,EAAA,KAkWcixB,EAAAA,EAAAA,IAKSW,EAAA,CALA6C,OAAQ,GAAIhD,MAAM,c,CAlWzC3yC,SAAAqyC,EAAAA,EAAAA,KAmWgB,IAGS,EAHTF,EAAAA,EAAAA,IAGSY,EAAA,CAHAC,KAAM,IAAE,CAnWjChzC,SAAAqyC,EAAAA,EAAAA,KAoWkB,IAC4F,EAD5FF,EAAAA,EAAAA,IAC4F+D,EAAA,CADjFr8B,KAAK,UACJs8B,QAAOjD,EAAAqF,8B,CArWrCv4C,SAAAqyC,EAAAA,EAAAA,KAqWmE,IAA+BE,EAAA,MAAAA,EAAA,MArWlGC,EAAAA,EAAAA,IAqWmE,uCArWnEtxB,EAAA,G,kBAAAA,EAAA,OAAAA,EAAA,KAyWcixB,EAAAA,EAAAA,IAISW,EAAA,CAJA6C,OAAQ,GAAIhD,MAAM,c,CAzWzC3yC,SAAAqyC,EAAAA,EAAAA,KA0WgB,IAES,EAFTF,EAAAA,EAAAA,IAESY,EAAA,CAFAC,KAAM,IAAE,CA1WjChzC,SAAAqyC,EAAAA,EAAAA,KA2WkB,IAA8F,EAA9FF,EAAAA,EAAAA,IAA8F+D,EAAA,CAAnFr8B,KAAK,UAAWs8B,QAAOjD,EAAAsF,yB,CA3WpDx4C,SAAAqyC,EAAAA,EAAAA,KA2W6E,IAAuBE,EAAA,MAAAA,EAAA,MA3WpGC,EAAAA,EAAAA,IA2W6E,+BA3W7EtxB,EAAA,G,kBAAAA,EAAA,OAAAA,EAAA,KA+WcixB,EAAAA,EAAAA,IAKSW,EAAA,CALA6C,OAAQ,GAAIhD,MAAM,c,CA/WzC3yC,SAAAqyC,EAAAA,EAAAA,KAgXgB,IAGS,EAHTF,EAAAA,EAAAA,IAGSY,EAAA,CAHAC,KAAM,IAAE,CAhXjChzC,SAAAqyC,EAAAA,EAAAA,KAiXkB,IACiG,EADjGF,EAAAA,EAAAA,IACiG+D,EAAA,CADtFr8B,KAAK,UACJs8B,QAAOjD,EAAAuF,kC,CAlXrCz4C,SAAAqyC,EAAAA,EAAAA,KAkXuE,IAAgCE,EAAA,MAAAA,EAAA,MAlXvGC,EAAAA,EAAAA,IAkXuE,wCAlXvEtxB,EAAA,G,kBAAAA,EAAA,OAAAA,EAAA,KAsXcixB,EAAAA,EAAAA,IAISW,EAAA,CAJA6C,OAAQ,GAAIhD,MAAM,c,CAtXzC3yC,SAAAqyC,EAAAA,EAAAA,KAuXgB,IAES,EAFTF,EAAAA,EAAAA,IAESY,EAAA,CAFAC,KAAM,IAAE,CAvXjChzC,SAAAqyC,EAAAA,EAAAA,KAwXkB,IAAoG,EAApGF,EAAAA,EAAAA,IAAoG+D,EAAA,CAAzFr8B,KAAK,UAAWs8B,QAAOjD,EAAAwF,4B,CAxXpD14C,SAAAqyC,EAAAA,EAAAA,KAwXgF,IAA0BE,EAAA,MAAAA,EAAA,MAxX1GC,EAAAA,EAAAA,IAwXgF,kCAxXhFtxB,EAAA,G,kBAAAA,EAAA,OAAAA,EAAA,KA4XcixB,EAAAA,EAAAA,IAKSW,EAAA,CALA6C,OAAQ,GAAIhD,MAAM,c,CA5XzC3yC,SAAAqyC,EAAAA,EAAAA,KA6XgB,IAGS,EAHTF,EAAAA,EAAAA,IAGSY,EAAA,CAHAC,KAAM,IAAE,CA7XjChzC,SAAAqyC,EAAAA,EAAAA,KA8XkB,IACmG,EADnGF,EAAAA,EAAAA,IACmG+D,EAAA,CADxFr8B,KAAK,UACJs8B,QAAOjD,EAAAyF,qC,CA/XrC34C,SAAAqyC,EAAAA,EAAAA,KA+X0E,IAA+BE,EAAA,MAAAA,EAAA,MA/XzGC,EAAAA,EAAAA,IA+X0E,uCA/X1EtxB,EAAA,G,kBAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,KAqYYixB,EAAAA,EAAAA,IAEcqF,EAAA,CAFDtD,MAAM,MAAMl4C,KAAK,e,CArY1CgE,SAAAqyC,EAAAA,EAAAA,KAsYc,IAAuE,EAAvEF,EAAAA,EAAAA,IAAuEyG,EAAA,CAA5DC,4BAA2B3F,EAAA4F,+BAA6B,2CAtYjF53B,EAAA,KAyYYixB,EAAAA,EAAAA,IAEcqF,EAAA,CAFDtD,MAAM,MAAMl4C,KAAK,e,CAzY1CgE,SAAAqyC,EAAAA,EAAAA,KA0Yc,IAAuE,EAAvEF,EAAAA,EAAAA,IAAuE4G,EAAA,CAA5DF,4BAA2B3F,EAAA8F,+BAA6B,2CA1YjF93B,EAAA,KA8YYixB,EAAAA,EAAAA,IAEcqF,EAAA,CAFDtD,MAAM,UAAUl4C,KAAK,mB,CA9Y9CgE,SAAAqyC,EAAAA,EAAAA,KA+Yc,IAA+E,EAA/EF,EAAAA,EAAAA,IAA+E8G,EAAA,CAAhEJ,4BAA2B3F,EAAAgG,mCAAiC,2CA/YzFh4B,EAAA,KAkZYixB,EAAAA,EAAAA,IAIcqF,EAAA,CAJDtD,MAAM,OAAOl4C,KAAK,gB,CAlZ3CgE,SAAAqyC,EAAAA,EAAAA,KAmZc,IAE6D,EAF7DF,EAAAA,EAAAA,IAE6DgH,EAAA,CADxDN,4BAA2B3F,EAAAkG,+BAC3BC,4BAA2BnG,EAAAoG,2B,yEArZ9Cp4B,EAAA,KAwZYixB,EAAAA,EAAAA,IAoBcqF,EAAA,CApBDtD,MAAM,QAAQl4C,KAAK,iB,CAxZ5CgE,SAAAqyC,EAAAA,EAAAA,KAyZc,IAIS,EAJTF,EAAAA,EAAAA,IAISW,EAAA,CAJA6C,OAAQ,GAAIhD,MAAM,c,CAzZzC3yC,SAAAqyC,EAAAA,EAAAA,KA0ZgB,IAES,EAFTF,EAAAA,EAAAA,IAESY,EAAA,CAFAC,KAAM,IAAE,CA1ZjChzC,SAAAqyC,EAAAA,EAAAA,KA2ZkB,IAAkF,EAAlFF,EAAAA,EAAAA,IAAkF+D,EAAA,CAAvEr8B,KAAK,UAAWs8B,QAAOjD,EAAAqG,mB,CA3ZpDv5C,SAAAqyC,EAAAA,EAAAA,KA2ZuE,IAAiBE,EAAA,MAAAA,EAAA,MA3ZxFC,EAAAA,EAAAA,IA2ZuE,yBA3ZvEtxB,EAAA,G,kBAAAA,EAAA,OAAAA,EAAA,KA+ZcixB,EAAAA,EAAAA,IAISW,EAAA,CAJA6C,OAAQ,GAAIhD,MAAM,c,CA/ZzC3yC,SAAAqyC,EAAAA,EAAAA,KAgagB,IAES,EAFTF,EAAAA,EAAAA,IAESY,EAAA,CAFAC,KAAM,IAAE,CAhajChzC,SAAAqyC,EAAAA,EAAAA,KAiakB,IAA0F,EAA1FF,EAAAA,EAAAA,IAA0F+D,EAAA,CAA/Er8B,KAAK,UAAWs8B,QAAOjD,EAAAsG,uB,CAjapDx5C,SAAAqyC,EAAAA,EAAAA,KAia2E,IAAqBE,EAAA,MAAAA,EAAA,MAjahGC,EAAAA,EAAAA,IAia2E,6BAja3EtxB,EAAA,G,kBAAAA,EAAA,OAAAA,EAAA,KAqacixB,EAAAA,EAAAA,IAKSW,EAAA,CALA6C,OAAQ,GAAIhD,MAAM,c,CArazC3yC,SAAAqyC,EAAAA,EAAAA,KAsagB,IAGS,EAHTF,EAAAA,EAAAA,IAGSY,EAAA,CAHAC,KAAM,IAAE,CAtajChzC,SAAAqyC,EAAAA,EAAAA,KAuakB,IAC6F,EAD7FF,EAAAA,EAAAA,IAC6F+D,EAAA,CADlFr8B,KAAK,UACJs8B,QAAOjD,EAAAuG,gC,CAxarCz5C,SAAAqyC,EAAAA,EAAAA,KAwaqE,IAA8BE,EAAA,MAAAA,EAAA,MAxanGC,EAAAA,EAAAA,IAwaqE,sCAxarEtxB,EAAA,G,kBAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,KA8aYixB,EAAAA,EAAAA,IAmBcqF,EAAA,CAnBDtD,MAAM,SAASl4C,KAAK,sB,CA9a7CgE,SAAAqyC,EAAAA,EAAAA,KA+ac,IAIS,EAJTF,EAAAA,EAAAA,IAISW,EAAA,CAJA6C,OAAQ,GAAIhD,MAAM,c,CA/azC3yC,SAAAqyC,EAAAA,EAAAA,KAgbgB,IAES,EAFTF,EAAAA,EAAAA,IAESY,EAAA,CAFAC,KAAM,IAAE,CAhbjChzC,SAAAqyC,EAAAA,EAAAA,KAibkB,IAAwF,EAAxFF,EAAAA,EAAAA,IAAwF+D,EAAA,CAA7Er8B,KAAK,UAAWs8B,QAAOjD,EAAAwG,sB,CAjbpD15C,SAAAqyC,EAAAA,EAAAA,KAib0E,IAAoBE,EAAA,MAAAA,EAAA,MAjb9FC,EAAAA,EAAAA,IAib0E,4BAjb1EtxB,EAAA,G,kBAAAA,EAAA,OAAAA,EAAA,KAqbcixB,EAAAA,EAAAA,IAISW,EAAA,CAJA6C,OAAQ,GAAIhD,MAAM,c,CArbzC3yC,SAAAqyC,EAAAA,EAAAA,KAsbgB,IAES,EAFTF,EAAAA,EAAAA,IAESY,EAAA,CAFAC,KAAM,IAAE,CAtbjChzC,SAAAqyC,EAAAA,EAAAA,KAubkB,IAAgF,EAAhFF,EAAAA,EAAAA,IAAgF+D,EAAA,CAArEr8B,KAAK,UAAWs8B,QAAOjD,EAAAyG,kB,CAvbpD35C,SAAAqyC,EAAAA,EAAAA,KAubsE,IAAgBE,EAAA,MAAAA,EAAA,MAvbtFC,EAAAA,EAAAA,IAubsE,wBAvbtEtxB,EAAA,G,kBAAAA,EAAA,OAAAA,EAAA,KA2bcixB,EAAAA,EAAAA,IAISW,EAAA,CAJA6C,OAAQ,GAAIhD,MAAM,c,CA3bzC3yC,SAAAqyC,EAAAA,EAAAA,KA4bgB,IAES,EAFTF,EAAAA,EAAAA,IAESY,EAAA,CAFAC,KAAM,IAAE,CA5bjChzC,SAAAqyC,EAAAA,EAAAA,KA6bkB,IAAkF,EAAlFF,EAAAA,EAAAA,IAAkF+D,EAAA,CAAvEr8B,KAAK,UAAWs8B,QAAOjD,EAAA0G,mB,CA7bpD55C,SAAAqyC,EAAAA,EAAAA,KA6buE,IAAiBE,EAAA,MAAAA,EAAA,MA7bxFC,EAAAA,EAAAA,IA6buE,yBA7bvEtxB,EAAA,G,kBAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,KAocYixB,EAAAA,EAAAA,IAgFcqF,EAAA,CAhFDtD,MAAM,UAAUl4C,KAAK,c,CApc9CgE,SAAAqyC,EAAAA,EAAAA,KAqcc,IAIS,EAJTF,EAAAA,EAAAA,IAISW,EAAA,CAJA6C,OAAQ,GAAIhD,MAAM,c,CArczC3yC,SAAAqyC,EAAAA,EAAAA,KAscgB,IAES,EAFTF,EAAAA,EAAAA,IAESY,EAAA,CAFAC,KAAM,IAAE,CAtcjChzC,SAAAqyC,EAAAA,EAAAA,KAuckB,IAAsF,EAAtFF,EAAAA,EAAAA,IAAsF+D,EAAA,CAA3Er8B,KAAK,UAAWs8B,QAAOjD,EAAAuE,qB,CAvcpDz3C,SAAAqyC,EAAAA,EAAAA,KAucyE,IAAmBE,EAAA,MAAAA,EAAA,MAvc5FC,EAAAA,EAAAA,IAucyE,2BAvczEtxB,EAAA,G,kBAAAA,EAAA,OAAAA,EAAA,KA2ccixB,EAAAA,EAAAA,IAISW,EAAA,CAJA6C,OAAQ,GAAIhD,MAAM,c,CA3czC3yC,SAAAqyC,EAAAA,EAAAA,KA4cgB,IAES,EAFTF,EAAAA,EAAAA,IAESY,EAAA,CAFAC,KAAM,IAAE,CA5cjChzC,SAAAqyC,EAAAA,EAAAA,KA6ckB,IAAwE,EAAxEF,EAAAA,EAAAA,IAAwE+D,EAAA,CAA7Dr8B,KAAK,UAAWs8B,QAAK5D,EAAA,MAAAA,EAAA,IAAAgB,GAAEL,EAAAwE,gB,CA7cpD13C,SAAAqyC,EAAAA,EAAAA,KA6cmE,IAAWE,EAAA,MAAAA,EAAA,MA7c9EC,EAAAA,EAAAA,IA6cmE,mBA7cnEtxB,EAAA,OAAAA,EAAA,OAAAA,EAAA,KAidcixB,EAAAA,EAAAA,IAISW,EAAA,CAJA6C,OAAQ,GAAIhD,MAAM,c,CAjdzC3yC,SAAAqyC,EAAAA,EAAAA,KAkdgB,IAES,EAFTF,EAAAA,EAAAA,IAESY,EAAA,CAFAC,KAAM,IAAE,CAldjChzC,SAAAqyC,EAAAA,EAAAA,KAmdkB,IAAsG,EAAtGF,EAAAA,EAAAA,IAAsG+D,EAAA,CAA3Fr8B,KAAK,UAAWs8B,QAAK5D,EAAA,MAAAA,EAAA,IAAAgB,GAAEL,EAAAyE,+B,CAndpD33C,SAAAqyC,EAAAA,EAAAA,KAmdkF,IAA0BE,EAAA,MAAAA,EAAA,MAnd5GC,EAAAA,EAAAA,IAmdkF,kCAndlFtxB,EAAA,OAAAA,EAAA,OAAAA,EAAA,KAsdcixB,EAAAA,EAAAA,IAISW,EAAA,CAJA6C,OAAQ,GAAIhD,MAAM,c,CAtdzC3yC,SAAAqyC,EAAAA,EAAAA,KAudgB,IAES,EAFTF,EAAAA,EAAAA,IAESY,EAAA,CAFAC,KAAM,IAAE,CAvdjChzC,SAAAqyC,EAAAA,EAAAA,KAwdkB,IAAgG,EAAhGF,EAAAA,EAAAA,IAAgG+D,EAAA,CAArFr8B,KAAK,UAAWs8B,QAAK5D,EAAA,MAAAA,EAAA,IAAAgB,GAAEL,EAAA0E,4B,CAxdpD53C,SAAAqyC,EAAAA,EAAAA,KAwd+E,IAAuBE,EAAA,MAAAA,EAAA,MAxdtGC,EAAAA,EAAAA,IAwd+E,+BAxd/EtxB,EAAA,OAAAA,EAAA,OAAAA,EAAA,KA2dcixB,EAAAA,EAAAA,IAISW,EAAA,CAJA6C,OAAQ,GAAIhD,MAAM,c,CA3dzC3yC,SAAAqyC,EAAAA,EAAAA,KA4dgB,IAES,EAFTF,EAAAA,EAAAA,IAESY,EAAA,CAFAC,KAAM,IAAE,CA5djChzC,SAAAqyC,EAAAA,EAAAA,KA6dkB,IAA4E,EAA5EF,EAAAA,EAAAA,IAA4E+D,EAAA,CAAjEr8B,KAAK,UAAWs8B,QAAK5D,EAAA,MAAAA,EAAA,IAAAgB,GAAEL,EAAA2E,kB,CA7dpD73C,SAAAqyC,EAAAA,EAAAA,KA6dqE,IAAaE,EAAA,MAAAA,EAAA,MA7dlFC,EAAAA,EAAAA,IA6dqE,qBA7drEtxB,EAAA,OAAAA,EAAA,OAAAA,EAAA,KAgecixB,EAAAA,EAAAA,IAISW,EAAA,CAJA6C,OAAQ,GAAIhD,MAAM,c,CAhezC3yC,SAAAqyC,EAAAA,EAAAA,KAiegB,IAES,EAFTF,EAAAA,EAAAA,IAESY,EAAA,CAFAC,KAAM,IAAE,CAjejChzC,SAAAqyC,EAAAA,EAAAA,KAkekB,IAA0F,EAA1FF,EAAAA,EAAAA,IAA0F+D,EAAA,CAA/Er8B,KAAK,UAAWs8B,QAAK5D,EAAA,MAAAA,EAAA,IAAAgB,GAAEL,EAAA4E,yB,CAlepD93C,SAAAqyC,EAAAA,EAAAA,KAke4E,IAAoBE,EAAA,MAAAA,EAAA,MAlehGC,EAAAA,EAAAA,IAke4E,4BAle5EtxB,EAAA,OAAAA,EAAA,OAAAA,EAAA,KAqecixB,EAAAA,EAAAA,IAISW,EAAA,CAJA6C,OAAQ,GAAIhD,MAAM,c,CArezC3yC,SAAAqyC,EAAAA,EAAAA,KAsegB,IAES,EAFTF,EAAAA,EAAAA,IAESY,EAAA,CAFAC,KAAM,IAAE,CAtejChzC,SAAAqyC,EAAAA,EAAAA,KAuekB,IAAyG,EAAzGF,EAAAA,EAAAA,IAAyG+D,EAAA,CAA9Fr8B,KAAK,UAAWs8B,QAAOjD,EAAA6E,8B,CAvepD/3C,SAAAqyC,EAAAA,EAAAA,KAuekF,IAA6BE,EAAA,MAAAA,EAAA,MAve/GC,EAAAA,EAAAA,IAuekF,qCAvelFtxB,EAAA,G,kBAAAA,EAAA,OAAAA,EAAA,KA2ecixB,EAAAA,EAAAA,IAISW,EAAA,CAJA6C,OAAQ,GAAIhD,MAAM,c,CA3ezC3yC,SAAAqyC,EAAAA,EAAAA,KA4egB,IAES,EAFTF,EAAAA,EAAAA,IAESY,EAAA,CAFAC,KAAM,IAAE,CA5ejChzC,SAAAqyC,EAAAA,EAAAA,KA6ekB,IAA6G,EAA7GF,EAAAA,EAAAA,IAA6G+D,EAAA,CAAlGr8B,KAAK,UAAWs8B,QAAOjD,EAAA8E,6B,CA7epDh4C,SAAAqyC,EAAAA,EAAAA,KA6eiF,IAAkCE,EAAA,MAAAA,EAAA,MA7enHC,EAAAA,EAAAA,IA6eiF,0CA7ejFtxB,EAAA,G,kBAAAA,EAAA,OAAAA,EAAA,KAifcixB,EAAAA,EAAAA,IAKSW,EAAA,CALA6C,OAAQ,GAAIhD,MAAM,c,CAjfzC3yC,SAAAqyC,EAAAA,EAAAA,KAkfgB,IAGS,EAHTF,EAAAA,EAAAA,IAGSY,EAAA,CAHAC,KAAM,IAAE,CAlfjChzC,SAAAqyC,EAAAA,EAAAA,KAmfkB,IACkB,EADlBF,EAAAA,EAAAA,IACkB+D,EAAA,CADPr8B,KAAK,UAAWs8B,QAAOjD,EAAA+E,0B,CAnfpDj4C,SAAAqyC,EAAAA,EAAAA,KAmf8E,IACtDE,EAAA,OAAAA,EAAA,OApfxBC,EAAAA,EAAAA,IAmf8E,6CAnf9EtxB,EAAA,G,kBAAAA,EAAA,OAAAA,EAAA,KAwfcixB,EAAAA,EAAAA,IAKSW,EAAA,CALA6C,OAAQ,GAAIhD,MAAM,c,CAxfzC3yC,SAAAqyC,EAAAA,EAAAA,KAyfgB,IAGS,EAHTF,EAAAA,EAAAA,IAGSY,EAAA,CAHAC,KAAM,IAAE,CAzfjChzC,SAAAqyC,EAAAA,EAAAA,KA0fkB,IACY,EADZF,EAAAA,EAAAA,IACY+D,EAAA,CADDr8B,KAAK,UAAWs8B,QAAK5D,EAAA,MAAAA,EAAA,IAAAgB,GAAEL,EAAAgF,sB,CA1fpDl4C,SAAAqyC,EAAAA,EAAAA,KA0fyE,IACvDE,EAAA,OAAAA,EAAA,OA3flBC,EAAAA,EAAAA,IA0fyE,oCA1fzEtxB,EAAA,OAAAA,EAAA,OAAAA,EAAA,KA+fcixB,EAAAA,EAAAA,IAISW,EAAA,CAJA6C,OAAQ,GAAIhD,MAAM,c,CA/fzC3yC,SAAAqyC,EAAAA,EAAAA,KAggBgB,IAES,EAFTF,EAAAA,EAAAA,IAESY,EAAA,CAFAC,KAAM,IAAE,CAhgBjChzC,SAAAqyC,EAAAA,EAAAA,KAigBkB,IAAuF,EAAvFF,EAAAA,EAAAA,IAAuF+D,EAAA,CAA5Er8B,KAAK,UAAWs8B,QAAK5D,EAAA,MAAAA,EAAA,IAAAgB,GAAEL,EAAA2G,mB,CAjgBpD75C,SAAAqyC,EAAAA,EAAAA,KAigBsE,IAAuBE,EAAA,OAAAA,EAAA,OAjgB7FC,EAAAA,EAAAA,IAigBsE,+BAjgBtEtxB,EAAA,OAAAA,EAAA,OAAAA,EAAA,KAqgBcixB,EAAAA,EAAAA,IAMSW,EAAA,CANA6C,OAAQ,GAAIhD,MAAM,c,CArgBzC3yC,SAAAqyC,EAAAA,EAAAA,KAsgBgB,IAIS,EAJTF,EAAAA,EAAAA,IAISY,EAAA,CAJAC,KAAM,IAAE,CAtgBjChzC,SAAAqyC,EAAAA,EAAAA,KAugBkB,IAEC,EAFDF,EAAAA,EAAAA,IAEC+D,EAAA,CAFUr8B,KAAK,UAAWs8B,QAAOjD,EAAA6E,8B,CAvgBpD/3C,SAAAqyC,EAAAA,EAAAA,KAwgBmB,IAA2BE,EAAA,OAAAA,EAAA,OAxgB9CC,EAAAA,EAAAA,IAwgBmB,mCAxgBnBtxB,EAAA,G,kBAAAA,EAAA,OAAAA,EAAA,KA6gBcixB,EAAAA,EAAAA,IAMSW,EAAA,CANA6C,OAAQ,GAAIhD,MAAM,c,CA7gBzC3yC,SAAAqyC,EAAAA,EAAAA,KA8gBgB,IAIS,EAJTF,EAAAA,EAAAA,IAISY,EAAA,CAJAC,KAAM,IAAE,CA9gBjChzC,SAAAqyC,EAAAA,EAAAA,KA+gBkB,IAEC,EAFDF,EAAAA,EAAAA,IAEC+D,EAAA,CAFUr8B,KAAK,UAAWs8B,QAAOjD,EAAA8E,6B,CA/gBpDh4C,SAAAqyC,EAAAA,EAAAA,KAghBmB,IAA2BE,EAAA,OAAAA,EAAA,OAhhB9CC,EAAAA,EAAAA,IAghBmB,mCAhhBnBtxB,EAAA,G,kBAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,KAuhBYixB,EAAAA,EAAAA,IA2DcqF,EAAA,CA3DDtD,MAAM,MAAMl4C,KAAK,a,CAvhB1CgE,SAAAqyC,EAAAA,EAAAA,KAwhBc,IAIS,EAJTF,EAAAA,EAAAA,IAISW,EAAA,CAJA6C,OAAQ,GAAIhD,MAAM,c,CAxhBzC3yC,SAAAqyC,EAAAA,EAAAA,KAyhBgB,IAES,EAFTF,EAAAA,EAAAA,IAESY,EAAA,CAFAC,KAAM,IAAE,CAzhBjChzC,SAAAqyC,EAAAA,EAAAA,KA0hBkB,IAA2F,EAA3FF,EAAAA,EAAAA,IAA2F+D,EAAA,CAAhFr8B,KAAK,UAAWs8B,QAAOjD,EAAAuE,qB,CA1hBpDz3C,SAAAqyC,EAAAA,EAAAA,KA0hByE,IAAwBE,EAAA,OAAAA,EAAA,OA1hBjGC,EAAAA,EAAAA,IA0hByE,gCA1hBzEtxB,EAAA,G,kBAAAA,EAAA,OAAAA,EAAA,KA8hBcixB,EAAAA,EAAAA,IAISW,EAAA,CAJA6C,OAAQ,GAAIhD,MAAM,c,CA9hBzC3yC,SAAAqyC,EAAAA,EAAAA,KA+hBgB,IAES,EAFTF,EAAAA,EAAAA,IAESY,EAAA,CAFAC,KAAM,IAAE,CA/hBjChzC,SAAAqyC,EAAAA,EAAAA,KAgiBkB,IAA6E,EAA7EF,EAAAA,EAAAA,IAA6E+D,EAAA,CAAlEr8B,KAAK,UAAWs8B,QAAK5D,EAAA,MAAAA,EAAA,IAAAgB,GAAEL,EAAAwE,gB,CAhiBpD13C,SAAAqyC,EAAAA,EAAAA,KAgiBmE,IAAgBE,EAAA,OAAAA,EAAA,OAhiBnFC,EAAAA,EAAAA,IAgiBmE,wBAhiBnEtxB,EAAA,OAAAA,EAAA,OAAAA,EAAA,KAoiBcixB,EAAAA,EAAAA,IAKSW,EAAA,CALA6C,OAAQ,GAAIhD,MAAM,c,CApiBzC3yC,SAAAqyC,EAAAA,EAAAA,KAqiBgB,IAGS,EAHTF,EAAAA,EAAAA,IAGSY,EAAA,CAHAC,KAAM,IAAE,CAriBjChzC,SAAAqyC,EAAAA,EAAAA,KAsiBkB,IAC6F,EAD7FF,EAAAA,EAAAA,IAC6F+D,EAAA,CADlFr8B,KAAK,UACbs8B,QAAK5D,EAAA,MAAAA,EAAA,IAAAgB,GAAEL,EAAAyE,+B,CAviB5B33C,SAAAqyC,EAAAA,EAAAA,KAuiB0D,IAAyCE,EAAA,OAAAA,EAAA,OAviBnGC,EAAAA,EAAAA,IAuiB0D,iDAviB1DtxB,EAAA,OAAAA,EAAA,OAAAA,EAAA,KA0iBcixB,EAAAA,EAAAA,IAISW,EAAA,CAJA6C,OAAQ,GAAIhD,MAAM,c,CA1iBzC3yC,SAAAqyC,EAAAA,EAAAA,KA2iBgB,IAES,EAFTF,EAAAA,EAAAA,IAESY,EAAA,CAFAC,KAAM,IAAE,CA3iBjChzC,SAAAqyC,EAAAA,EAAAA,KA4iBkB,IAAgG,EAAhGF,EAAAA,EAAAA,IAAgG+D,EAAA,CAArFr8B,KAAK,UAAWs8B,QAAK5D,EAAA,MAAAA,EAAA,IAAAgB,GAAEL,EAAA0E,4B,CA5iBpD53C,SAAAqyC,EAAAA,EAAAA,KA4iB+E,IAAuBE,EAAA,OAAAA,EAAA,OA5iBtGC,EAAAA,EAAAA,IA4iB+E,+BA5iB/EtxB,EAAA,OAAAA,EAAA,OAAAA,EAAA,KA+iBcixB,EAAAA,EAAAA,IAISW,EAAA,CAJA6C,OAAQ,GAAIhD,MAAM,c,CA/iBzC3yC,SAAAqyC,EAAAA,EAAAA,KAgjBgB,IAES,EAFTF,EAAAA,EAAAA,IAESY,EAAA,CAFAC,KAAM,IAAE,CAhjBjChzC,SAAAqyC,EAAAA,EAAAA,KAijBkB,IAA4E,EAA5EF,EAAAA,EAAAA,IAA4E+D,EAAA,CAAjEr8B,KAAK,UAAWs8B,QAAK5D,EAAA,MAAAA,EAAA,IAAAgB,GAAEL,EAAA2E,kB,CAjjBpD73C,SAAAqyC,EAAAA,EAAAA,KAijBqE,IAAaE,EAAA,OAAAA,EAAA,OAjjBlFC,EAAAA,EAAAA,IAijBqE,qBAjjBrEtxB,EAAA,OAAAA,EAAA,OAAAA,EAAA,KAojBcixB,EAAAA,EAAAA,IAISW,EAAA,CAJA6C,OAAQ,GAAIhD,MAAM,c,CApjBzC3yC,SAAAqyC,EAAAA,EAAAA,KAqjBgB,IAES,EAFTF,EAAAA,EAAAA,IAESY,EAAA,CAFAC,KAAM,IAAE,CArjBjChzC,SAAAqyC,EAAAA,EAAAA,KAsjBkB,IAA0F,EAA1FF,EAAAA,EAAAA,IAA0F+D,EAAA,CAA/Er8B,KAAK,UAAWs8B,QAAK5D,EAAA,MAAAA,EAAA,IAAAgB,GAAEL,EAAA4E,yB,CAtjBpD93C,SAAAqyC,EAAAA,EAAAA,KAsjB4E,IAAoBE,EAAA,OAAAA,EAAA,OAtjBhGC,EAAAA,EAAAA,IAsjB4E,4BAtjB5EtxB,EAAA,OAAAA,EAAA,OAAAA,EAAA,KAyjBcixB,EAAAA,EAAAA,IAISW,EAAA,CAJA6C,OAAQ,GAAIhD,MAAM,c,CAzjBzC3yC,SAAAqyC,EAAAA,EAAAA,KA0jBgB,IAES,EAFTF,EAAAA,EAAAA,IAESY,EAAA,CAFAC,KAAM,IAAE,CA1jBjChzC,SAAAqyC,EAAAA,EAAAA,KA2jBkB,IAAyG,EAAzGF,EAAAA,EAAAA,IAAyG+D,EAAA,CAA9Fr8B,KAAK,UAAWs8B,QAAOjD,EAAA6E,8B,CA3jBpD/3C,SAAAqyC,EAAAA,EAAAA,KA2jBkF,IAA6BE,EAAA,OAAAA,EAAA,OA3jB/GC,EAAAA,EAAAA,IA2jBkF,qCA3jBlFtxB,EAAA,G,kBAAAA,EAAA,OAAAA,EAAA,KA+jBcixB,EAAAA,EAAAA,IAKSW,EAAA,CALA6C,OAAQ,GAAIhD,MAAM,c,CA/jBzC3yC,SAAAqyC,EAAAA,EAAAA,KAgkBgB,IAGS,EAHTF,EAAAA,EAAAA,IAGSY,EAAA,CAHAC,KAAM,IAAE,CAhkBjChzC,SAAAqyC,EAAAA,EAAAA,KAikBkB,IACoF,EADpFF,EAAAA,EAAAA,IACoF+D,EAAA,CADzEr8B,KAAK,UACbs8B,QAAOjD,EAAA8E,6B,CAlkB5Bh4C,SAAAqyC,EAAAA,EAAAA,KAkkByD,IAAiCE,EAAA,OAAAA,EAAA,OAlkB1FC,EAAAA,EAAAA,IAkkByD,yCAlkBzDtxB,EAAA,G,kBAAAA,EAAA,OAAAA,EAAA,KAskBcixB,EAAAA,EAAAA,IAKSW,EAAA,CALA6C,OAAQ,GAAIhD,MAAM,c,CAtkBzC3yC,SAAAqyC,EAAAA,EAAAA,KAukBgB,IAGS,EAHTF,EAAAA,EAAAA,IAGSY,EAAA,CAHAC,KAAM,IAAE,CAvkBjChzC,SAAAqyC,EAAAA,EAAAA,KAwkBkB,IACY,EADZF,EAAAA,EAAAA,IACY+D,EAAA,CADDr8B,KAAK,UAAWs8B,QAAK5D,EAAA,MAAAA,EAAA,IAAAgB,GAAEL,EAAAgF,sB,CAxkBpDl4C,SAAAqyC,EAAAA,EAAAA,KAwkByE,IACvDE,EAAA,OAAAA,EAAA,OAzkBlBC,EAAAA,EAAAA,IAwkByE,mCAxkBzEtxB,EAAA,OAAAA,EAAA,OAAAA,EAAA,KA6kBcixB,EAAAA,EAAAA,IAISW,EAAA,CAJA6C,OAAQ,GAAIhD,MAAM,c,CA7kBzC3yC,SAAAqyC,EAAAA,EAAAA,KA8kBgB,IAES,EAFTF,EAAAA,EAAAA,IAESY,EAAA,CAFAC,KAAM,IAAE,CA9kBjChzC,SAAAqyC,EAAAA,EAAAA,KA+kBkB,IAAoG,EAApGF,EAAAA,EAAAA,IAAoG+D,EAAA,CAAzFr8B,KAAK,UAAWs8B,QAAK5D,EAAA,MAAAA,EAAA,IAAAgB,GAAEL,EAAA2G,mB,CA/kBpD75C,SAAAqyC,EAAAA,EAAAA,KA+kBsE,IAAoCE,EAAA,OAAAA,EAAA,OA/kB1GC,EAAAA,EAAAA,IA+kBsE,4CA/kBtEtxB,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,KAolBYixB,EAAAA,EAAAA,IA4BcqF,EAAA,CA5BDtD,MAAM,OAAOl4C,KAAK,c,CAplB3CgE,SAAAqyC,EAAAA,EAAAA,KAqlBc,IAIS,EAJTF,EAAAA,EAAAA,IAISW,EAAA,CAJA6C,OAAQ,GAAIhD,MAAM,c,CArlBzC3yC,SAAAqyC,EAAAA,EAAAA,KAslBgB,IAES,EAFTF,EAAAA,EAAAA,IAESY,EAAA,CAFAC,KAAM,IAAE,CAtlBjChzC,SAAAqyC,EAAAA,EAAAA,KAulBkB,IAAsF,EAAtFF,EAAAA,EAAAA,IAAsF+D,EAAA,CAA3Er8B,KAAK,UAAWs8B,QAAOjD,EAAAuE,qB,CAvlBpDz3C,SAAAqyC,EAAAA,EAAAA,KAulByE,IAAmBE,EAAA,OAAAA,EAAA,OAvlB5FC,EAAAA,EAAAA,IAulByE,2BAvlBzEtxB,EAAA,G,kBAAAA,EAAA,OAAAA,EAAA,KA2lBcixB,EAAAA,EAAAA,IAISW,EAAA,CAJA6C,OAAQ,GAAIhD,MAAM,c,CA3lBzC3yC,SAAAqyC,EAAAA,EAAAA,KA4lBgB,IAES,EAFTF,EAAAA,EAAAA,IAESY,EAAA,CAFAC,KAAM,IAAE,CA5lBjChzC,SAAAqyC,EAAAA,EAAAA,KA6lBkB,IAAwE,EAAxEF,EAAAA,EAAAA,IAAwE+D,EAAA,CAA7Dr8B,KAAK,UAAWs8B,QAAK5D,EAAA,MAAAA,EAAA,IAAAgB,GAAEL,EAAAwE,gB,CA7lBpD13C,SAAAqyC,EAAAA,EAAAA,KA6lBmE,IAAWE,EAAA,OAAAA,EAAA,OA7lB9EC,EAAAA,EAAAA,IA6lBmE,mBA7lBnEtxB,EAAA,OAAAA,EAAA,OAAAA,EAAA,KAimBcixB,EAAAA,EAAAA,IAISW,EAAA,CAJA6C,OAAQ,GAAIhD,MAAM,c,CAjmBzC3yC,SAAAqyC,EAAAA,EAAAA,KAkmBgB,IAES,EAFTF,EAAAA,EAAAA,IAESY,EAAA,CAFAC,KAAM,IAAE,CAlmBjChzC,SAAAqyC,EAAAA,EAAAA,KAmmBkB,IAA4E,EAA5EF,EAAAA,EAAAA,IAA4E+D,EAAA,CAAjEr8B,KAAK,UAAWs8B,QAAK5D,EAAA,MAAAA,EAAA,IAAAgB,GAAEL,EAAA2E,kB,CAnmBpD73C,SAAAqyC,EAAAA,EAAAA,KAmmBqE,IAAaE,EAAA,OAAAA,EAAA,OAnmBlFC,EAAAA,EAAAA,IAmmBqE,qBAnmBrEtxB,EAAA,OAAAA,EAAA,OAAAA,EAAA,KAsmBcixB,EAAAA,EAAAA,IAISW,EAAA,CAJA6C,OAAQ,GAAIhD,MAAM,c,CAtmBzC3yC,SAAAqyC,EAAAA,EAAAA,KAumBgB,IAES,EAFTF,EAAAA,EAAAA,IAESY,EAAA,CAFAC,KAAM,IAAE,CAvmBjChzC,SAAAqyC,EAAAA,EAAAA,KAwmBkB,IAA0F,EAA1FF,EAAAA,EAAAA,IAA0F+D,EAAA,CAA/Er8B,KAAK,UAAWs8B,QAAK5D,EAAA,MAAAA,EAAA,IAAAgB,GAAEL,EAAA4E,yB,CAxmBpD93C,SAAAqyC,EAAAA,EAAAA,KAwmB4E,IAAoBE,EAAA,OAAAA,EAAA,OAxmBhGC,EAAAA,EAAAA,IAwmB4E,4BAxmB5EtxB,EAAA,OAAAA,EAAA,OAAAA,EAAA,KA2mBcixB,EAAAA,EAAAA,IAISW,EAAA,CAJA6C,OAAQ,GAAIhD,MAAM,c,CA3mBzC3yC,SAAAqyC,EAAAA,EAAAA,KA4mBgB,IAES,EAFTF,EAAAA,EAAAA,IAESY,EAAA,CAFAC,KAAM,IAAE,CA5mBjChzC,SAAAqyC,EAAAA,EAAAA,KA6mBkB,IAAiG,EAAjGF,EAAAA,EAAAA,IAAiG+D,EAAA,CAAtFr8B,KAAK,UAAWs8B,QAAOjD,EAAA4G,0B,CA7mBpD95C,SAAAqyC,EAAAA,EAAAA,KA6mB8E,IAAyBE,EAAA,OAAAA,EAAA,OA7mBvGC,EAAAA,EAAAA,IA6mB8E,iCA7mB9EtxB,EAAA,G,kBAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,KAknBYixB,EAAAA,EAAAA,IA+BcqF,EAAA,CA/BDtD,MAAM,gBAAgBl4C,KAAK,gB,CAlnBpDgE,SAAAqyC,EAAAA,EAAAA,KAmnBc,IAIS,EAJTF,EAAAA,EAAAA,IAISW,EAAA,CAJA6C,OAAQ,GAAIhD,MAAM,c,CAnnBzC3yC,SAAAqyC,EAAAA,EAAAA,KAonBgB,IAES,EAFTF,EAAAA,EAAAA,IAESY,EAAA,CAFAC,KAAM,IAAE,CApnBjChzC,SAAAqyC,EAAAA,EAAAA,KAqnBkB,IAAiF,EAAjFF,EAAAA,EAAAA,IAAiF+D,EAAA,CAAtEr8B,KAAK,UAAWs8B,QAAOjD,EAAAmF,iB,CArnBpDr4C,SAAAqyC,EAAAA,EAAAA,KAqnBqE,IAAkBE,EAAA,OAAAA,EAAA,OArnBvFC,EAAAA,EAAAA,IAqnBqE,0BArnBrEtxB,EAAA,G,kBAAAA,EAAA,OAAAA,EAAA,KAynBcixB,EAAAA,EAAAA,IAISW,EAAA,CAJA6C,OAAQ,GAAIhD,MAAM,c,CAznBzC3yC,SAAAqyC,EAAAA,EAAAA,KA0nBgB,IAES,EAFTF,EAAAA,EAAAA,IAESY,EAAA,CAFAC,KAAM,IAAE,CA1nBjChzC,SAAAqyC,EAAAA,EAAAA,KA2nBkB,IAAyF,EAAzFF,EAAAA,EAAAA,IAAyF+D,EAAA,CAA9Er8B,KAAK,UAAWs8B,QAAOjD,EAAAoF,qB,CA3nBpDt4C,SAAAqyC,EAAAA,EAAAA,KA2nByE,IAAsBE,EAAA,OAAAA,EAAA,OA3nB/FC,EAAAA,EAAAA,IA2nByE,8BA3nBzEtxB,EAAA,G,kBAAAA,EAAA,OAAAA,EAAA,KA+nBcixB,EAAAA,EAAAA,IAISW,EAAA,CAJA6C,OAAQ,GAAIhD,MAAM,c,CA/nBzC3yC,SAAAqyC,EAAAA,EAAAA,KAgoBgB,IAES,EAFTF,EAAAA,EAAAA,IAESY,EAAA,CAFAC,KAAM,IAAE,CAhoBjChzC,SAAAqyC,EAAAA,EAAAA,KAioBkB,IAA8F,EAA9FF,EAAAA,EAAAA,IAA8F+D,EAAA,CAAnFr8B,KAAK,UAAWs8B,QAAOjD,EAAAsF,yB,CAjoBpDx4C,SAAAqyC,EAAAA,EAAAA,KAioB6E,IAAuBE,EAAA,OAAAA,EAAA,OAjoBpGC,EAAAA,EAAAA,IAioB6E,+BAjoB7EtxB,EAAA,G,kBAAAA,EAAA,OAAAA,EAAA,KAqoBcixB,EAAAA,EAAAA,IAISW,EAAA,CAJA6C,OAAQ,GAAIhD,MAAM,c,CAroBzC3yC,SAAAqyC,EAAAA,EAAAA,KAsoBgB,IAES,EAFTF,EAAAA,EAAAA,IAESY,EAAA,CAFAC,KAAM,IAAE,CAtoBjChzC,SAAAqyC,EAAAA,EAAAA,KAuoBkB,IAAoG,EAApGF,EAAAA,EAAAA,IAAoG+D,EAAA,CAAzFr8B,KAAK,UAAWs8B,QAAOjD,EAAAwF,4B,CAvoBpD14C,SAAAqyC,EAAAA,EAAAA,KAuoBgF,IAA0BE,EAAA,OAAAA,EAAA,OAvoB1GC,EAAAA,EAAAA,IAuoBgF,kCAvoBhFtxB,EAAA,G,kBAAAA,EAAA,OAAAA,EAAA,KA2oBcixB,EAAAA,EAAAA,IAKSW,EAAA,CALA6C,OAAQ,GAAIhD,MAAM,c,CA3oBzC3yC,SAAAqyC,EAAAA,EAAAA,KA4oBgB,IAGS,EAHTF,EAAAA,EAAAA,IAGSY,EAAA,CAHAC,KAAM,IAAE,CA5oBjChzC,SAAAqyC,EAAAA,EAAAA,KA6oBkB,IACmG,EADnGF,EAAAA,EAAAA,IACmG+D,EAAA,CADxFr8B,KAAK,UACJs8B,QAAOjD,EAAAyF,qC,CA9oBrC34C,SAAAqyC,EAAAA,EAAAA,KA8oB0E,IAA+BE,EAAA,OAAAA,EAAA,OA9oBzGC,EAAAA,EAAAA,IA8oB0E,uCA9oB1EtxB,EAAA,G,kBAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,KAmpBYixB,EAAAA,EAAAA,IAoBcqF,EAAA,CApBDtD,MAAM,WAAWl4C,KAAK,oB,CAnpB/CgE,SAAAqyC,EAAAA,EAAAA,KAopBc,IAIS,EAJTF,EAAAA,EAAAA,IAISW,EAAA,CAJA6C,OAAQ,GAAIhD,MAAM,c,CAppBzC3yC,SAAAqyC,EAAAA,EAAAA,KAqpBgB,IAES,EAFTF,EAAAA,EAAAA,IAESY,EAAA,CAFAC,KAAM,IAAE,CArpBjChzC,SAAAqyC,EAAAA,EAAAA,KAspBkB,IAAkF,EAAlFF,EAAAA,EAAAA,IAAkF+D,EAAA,CAAvEr8B,KAAK,UAAWs8B,QAAOjD,EAAAqG,mB,CAtpBpDv5C,SAAAqyC,EAAAA,EAAAA,KAspBuE,IAAiBE,EAAA,OAAAA,EAAA,OAtpBxFC,EAAAA,EAAAA,IAspBuE,yBAtpBvEtxB,EAAA,G,kBAAAA,EAAA,OAAAA,EAAA,KA0pBcixB,EAAAA,EAAAA,IAISW,EAAA,CAJA6C,OAAQ,GAAIhD,MAAM,c,CA1pBzC3yC,SAAAqyC,EAAAA,EAAAA,KA2pBgB,IAES,EAFTF,EAAAA,EAAAA,IAESY,EAAA,CAFAC,KAAM,IAAE,CA3pBjChzC,SAAAqyC,EAAAA,EAAAA,KA4pBkB,IAAwF,EAAxFF,EAAAA,EAAAA,IAAwF+D,EAAA,CAA7Er8B,KAAK,UAAWs8B,QAAOjD,EAAA6G,sB,CA5pBpD/5C,SAAAqyC,EAAAA,EAAAA,KA4pB0E,IAAoBE,EAAA,OAAAA,EAAA,OA5pB9FC,EAAAA,EAAAA,IA4pB0E,4BA5pB1EtxB,EAAA,G,kBAAAA,EAAA,OAAAA,EAAA,KAgqBcixB,EAAAA,EAAAA,IAKSW,EAAA,CALA6C,OAAQ,GAAIhD,MAAM,c,CAhqBzC3yC,SAAAqyC,EAAAA,EAAAA,KAiqBgB,IAGS,EAHTF,EAAAA,EAAAA,IAGSY,EAAA,CAHAC,KAAM,IAAE,CAjqBjChzC,SAAAqyC,EAAAA,EAAAA,KAkqBkB,IACkF,EADlFF,EAAAA,EAAAA,IACkF+D,EAAA,CADvEr8B,KAAK,UACbs8B,QAAOjD,EAAA8G,+B,CAnqB5Bh6C,SAAAqyC,EAAAA,EAAAA,KAmqB2D,IAA6BE,EAAA,OAAAA,EAAA,OAnqBxFC,EAAAA,EAAAA,IAmqB2D,qCAnqB3DtxB,EAAA,G,kBAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,KA0qBYixB,EAAAA,EAAAA,IAmBcqF,EAAA,CAnBDtD,MAAM,QAAQl4C,KAAK,oB,CA1qB5CgE,SAAAqyC,EAAAA,EAAAA,KA2qBc,IAIS,EAJTF,EAAAA,EAAAA,IAISW,EAAA,CAJA6C,OAAQ,GAAIhD,MAAM,c,CA3qBzC3yC,SAAAqyC,EAAAA,EAAAA,KA4qBgB,IAES,EAFTF,EAAAA,EAAAA,IAESY,EAAA,CAFAC,KAAM,IAAE,CA5qBjChzC,SAAAqyC,EAAAA,EAAAA,KA6qBkB,IAAwF,EAAxFF,EAAAA,EAAAA,IAAwF+D,EAAA,CAA7Er8B,KAAK,UAAWs8B,QAAOjD,EAAAwG,sB,CA7qBpD15C,SAAAqyC,EAAAA,EAAAA,KA6qB0E,IAAoBE,EAAA,OAAAA,EAAA,OA7qB9FC,EAAAA,EAAAA,IA6qB0E,4BA7qB1EtxB,EAAA,G,kBAAAA,EAAA,OAAAA,EAAA,KAirBcixB,EAAAA,EAAAA,IAISW,EAAA,CAJA6C,OAAQ,GAAIhD,MAAM,c,CAjrBzC3yC,SAAAqyC,EAAAA,EAAAA,KAkrBgB,IAES,EAFTF,EAAAA,EAAAA,IAESY,EAAA,CAFAC,KAAM,IAAE,CAlrBjChzC,SAAAqyC,EAAAA,EAAAA,KAmrBkB,IAAgF,EAAhFF,EAAAA,EAAAA,IAAgF+D,EAAA,CAArEr8B,KAAK,UAAWs8B,QAAOjD,EAAAyG,kB,CAnrBpD35C,SAAAqyC,EAAAA,EAAAA,KAmrBsE,IAAgBE,EAAA,OAAAA,EAAA,OAnrBtFC,EAAAA,EAAAA,IAmrBsE,wBAnrBtEtxB,EAAA,G,kBAAAA,EAAA,OAAAA,EAAA,KAurBcixB,EAAAA,EAAAA,IAISW,EAAA,CAJA6C,OAAQ,GAAIhD,MAAM,c,CAvrBzC3yC,SAAAqyC,EAAAA,EAAAA,KAwrBgB,IAES,EAFTF,EAAAA,EAAAA,IAESY,EAAA,CAFAC,KAAM,IAAE,CAxrBjChzC,SAAAqyC,EAAAA,EAAAA,KAyrBkB,IAAkF,EAAlFF,EAAAA,EAAAA,IAAkF+D,EAAA,CAAvEr8B,KAAK,UAAWs8B,QAAOjD,EAAA0G,mB,CAzrBpD55C,SAAAqyC,EAAAA,EAAAA,KAyrBuE,IAAiBE,EAAA,OAAAA,EAAA,OAzrBxFC,EAAAA,EAAAA,IAyrBuE,yBAzrBvEtxB,EAAA,G,kBAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,KA+rBYixB,EAAAA,EAAAA,IAmBcqF,EAAA,CAnBDtD,MAAM,MAAMl4C,KAAK,oB,CA/rB1CgE,SAAAqyC,EAAAA,EAAAA,KAgsBc,IAIS,EAJTF,EAAAA,EAAAA,IAISW,EAAA,CAJA6C,OAAQ,GAAIhD,MAAM,c,CAhsBzC3yC,SAAAqyC,EAAAA,EAAAA,KAisBgB,IAES,EAFTF,EAAAA,EAAAA,IAESY,EAAA,CAFAC,KAAM,IAAE,CAjsBjChzC,SAAAqyC,EAAAA,EAAAA,KAksBkB,IAAwF,EAAxFF,EAAAA,EAAAA,IAAwF+D,EAAA,CAA7Er8B,KAAK,UAAWs8B,QAAOjD,EAAAwG,sB,CAlsBpD15C,SAAAqyC,EAAAA,EAAAA,KAksB0E,IAAoBE,EAAA,OAAAA,EAAA,OAlsB9FC,EAAAA,EAAAA,IAksB0E,4BAlsB1EtxB,EAAA,G,kBAAAA,EAAA,OAAAA,EAAA,KAssBcixB,EAAAA,EAAAA,IAISW,EAAA,CAJA6C,OAAQ,GAAIhD,MAAM,c,CAtsBzC3yC,SAAAqyC,EAAAA,EAAAA,KAusBgB,IAES,EAFTF,EAAAA,EAAAA,IAESY,EAAA,CAFAC,KAAM,IAAE,CAvsBjChzC,SAAAqyC,EAAAA,EAAAA,KAwsBkB,IAAgF,EAAhFF,EAAAA,EAAAA,IAAgF+D,EAAA,CAArEr8B,KAAK,UAAWs8B,QAAOjD,EAAAyG,kB,CAxsBpD35C,SAAAqyC,EAAAA,EAAAA,KAwsBsE,IAAgBE,EAAA,OAAAA,EAAA,OAxsBtFC,EAAAA,EAAAA,IAwsBsE,wBAxsBtEtxB,EAAA,G,kBAAAA,EAAA,OAAAA,EAAA,KA4sBcixB,EAAAA,EAAAA,IAISW,EAAA,CAJA6C,OAAQ,GAAIhD,MAAM,c,CA5sBzC3yC,SAAAqyC,EAAAA,EAAAA,KA6sBgB,IAES,EAFTF,EAAAA,EAAAA,IAESY,EAAA,CAFAC,KAAM,IAAE,CA7sBjChzC,SAAAqyC,EAAAA,EAAAA,KA8sBkB,IAAkF,EAAlFF,EAAAA,EAAAA,IAAkF+D,EAAA,CAAvEr8B,KAAK,UAAWs8B,QAAOjD,EAAA0G,mB,CA9sBpD55C,SAAAqyC,EAAAA,EAAAA,KA8sBuE,IAAiBE,EAAA,OAAAA,EAAA,OA9sBxFC,EAAAA,EAAAA,IA8sBuE,yBA9sBvEtxB,EAAA,G,kBAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,KAotBYixB,EAAAA,EAAAA,IAMcqF,EAAA,CANDtD,MAAM,QAAQl4C,KAAK,U,CAptB5CgE,SAAAqyC,EAAAA,EAAAA,KAqtBc,IAIS,EAJTF,EAAAA,EAAAA,IAISW,EAAA,CAJA6C,OAAQ,GAAIhD,MAAM,c,CArtBzC3yC,SAAAqyC,EAAAA,EAAAA,KAstBgB,IAES,EAFTF,EAAAA,EAAAA,IAESY,EAAA,CAFAC,KAAM,IAAE,CAttBjChzC,SAAAqyC,EAAAA,EAAAA,KAutBkB,IAAkF,EAAlFF,EAAAA,EAAAA,IAAkF+D,EAAA,CAAvEr8B,KAAK,UAAWs8B,QAAOjD,EAAA+G,mB,CAvtBpDj6C,SAAAqyC,EAAAA,EAAAA,KAutBuE,IAAiBE,EAAA,OAAAA,EAAA,OAvtBxFC,EAAAA,EAAAA,IAutBuE,yBAvtBvEtxB,EAAA,G,kBAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,G,gCA6tBUixB,EAAAA,EAAAA,IAqCSY,EAAA,CArCAmH,GAAI,GAAKC,GAAI,GAAItH,MAAA,qB,CA7tBpC7yC,SAAAqyC,EAAAA,EAAAA,KA8tBY,IA6BS,EA7BTF,EAAAA,EAAAA,IA6BSW,EAAA,CA7BDD,MAAA,kFAAgF,CA9tBpG7yC,SAAAqyC,EAAAA,EAAAA,KA+tBc,IAES,EAFTF,EAAAA,EAAAA,IAESY,EAAA,CAFAC,KAAM,GAAC,CA/tB9BhzC,SAAAqyC,EAAAA,EAAAA,KAguBgB,IAAgHE,EAAA,OAAAA,EAAA,OAAhHK,EAAAA,EAAAA,IAAgH,KAA7GC,MAAA,wDAAwD,qDAAiD,OAhuB5H3xB,EAAA,KAkuBcixB,EAAAA,EAAAA,IAcSY,EAAA,CAdAC,KAAM,GAAC,CAluB9BhzC,SAAAqyC,EAAAA,EAAAA,KAmuBgB,IAYY,EAZZF,EAAAA,EAAAA,IAYYyB,EAAA,CA/uB5BP,WAouB2BF,EAAAvqC,SApuB3B,sBAAA2pC,EAAA,MAAAA,EAAA,IAAAgB,GAouB2BJ,EAAAvqC,SAAQ2qC,GAChBC,SAAQN,EAAAkH,qBACTtG,YAAY,kBACXe,UAAW3B,EAAAmH,4B,CAvuB9Br6C,SAAAqyC,EAAAA,EAAAA,KA0uBoB,IAAoC,gBADtCJ,EAAAA,EAAAA,IAKEoC,EAAAA,GAAA,MA9uBpBC,EAAAA,EAAAA,IA0uBuCnB,EAAAoB,kBAAZC,K,WADTC,EAAAA,EAAAA,IAKER,EAAA,CAHCr1C,IAAG,iCAAmC41C,IACtCN,MAAOM,EACPtqD,MAAOsqD,G,sCA7uB5BtzB,EAAA,G,2CAAAA,EAAA,KAivBcixB,EAAAA,EAAAA,IASSY,EAAA,CATAC,KAAM,IAAE,CAjvB/BhzC,SAAAqyC,EAAAA,EAAAA,KAkvBgB,IAOE,CANmB,aAAbc,EAAAvqC,WAAQ,WADhB6rC,EAAAA,EAAAA,IAOEC,EAAA,CAzvBlB91C,IAAA,EAAAy0C,WAovB2BF,EAAAmH,iBApvB3B,sBAAA/H,EAAA,MAAAA,EAAA,IAAAgB,GAovB2BJ,EAAAmH,iBAAgB/G,GACxBC,SAAQN,EAAAqH,uBACTzG,YAAY,WACXe,UAAW3B,EAAAmH,4BAA2C,aAAblH,EAAAvqC,SAC1CiqC,MAAA,gB,+CAxvBlBiC,EAAAA,EAAAA,IAAA,UAAA5zB,EAAA,OAAAA,EAAA,KA4vBYixB,EAAAA,EAAAA,IAKY+D,EAAA,CAJVr8B,KAAK,UAAWs8B,QAAK5D,EAAA,MAAAA,EAAA,IAAAgB,GAAEL,EAAAsH,oBACtB3F,UAAW3B,EAAAmH,6BAA+BlH,EAAAsH,iB,CA9vBzDz6C,SAAAqyC,EAAAA,EAAAA,KA+vBa,IAEDE,EAAA,OAAAA,EAAA,OAjwBZC,EAAAA,EAAAA,IA+vBa,oCA/vBbtxB,EAAA,G,mBAAAA,EAAA,KAowBUixB,EAAAA,EAAAA,IAGSY,EAAA,CAHAmH,GAAI,GAAKC,GAAI,I,CApwBhCn6C,SAAAqyC,EAAAA,EAAAA,KAqwBY,IAAoC,kBAApCO,EAAAA,EAAAA,IAAoC,OAA/BD,MAAM,eAAc,SAAK,KAC9BR,EAAAA,EAAAA,IAAwGuC,EAAA,CAtwBpHrB,WAswB+BF,EAAAsH,gBAtwB/B,sBAAAlI,EAAA,MAAAA,EAAA,IAAAgB,GAswB+BJ,EAAAsH,gBAAelH,GAAE15B,KAAK,WAAY6gC,KAAM,EAAG5G,YAAY,oB,0BAtwBtF5yB,EAAA,KAwwBUixB,EAAAA,EAAAA,IAGSY,EAAA,CAHAmH,GAAI,GAAKC,GAAI,I,CAxwBhCn6C,SAAAqyC,EAAAA,EAAAA,KAywBY,IAAuC,kBAAvCO,EAAAA,EAAAA,IAAuC,OAAlCD,MAAM,eAAc,YAAQ,KACjCR,EAAAA,EAAAA,IAAmFuC,EAAA,CA1wB/FrB,WA0wB+BF,EAAAwH,QA1wB/B,sBAAApI,EAAA,MAAAA,EAAA,IAAAgB,GA0wB+BJ,EAAAwH,QAAOpH,GAAE15B,KAAK,WAAY6gC,KAAM,EAAG5G,YAAY,O,0BA1wB9E5yB,EAAA,KA4wBUixB,EAAAA,EAAAA,IAMSW,EAAA,CANA6C,OAAQ,GAAIhD,MAAM,c,CA5wBrC3yC,SAAAqyC,EAAAA,EAAAA,KA6wBY,IAIS,EAJTF,EAAAA,EAAAA,IAISY,EAAA,CAJAC,KAAM,IAAE,CA7wB7BhzC,SAAAqyC,EAAAA,EAAAA,KA8wBc,IAEgB,EAFhBF,EAAAA,EAAAA,IAEgB+D,EAAA,CAFLr8B,KAAK,UAAWs8B,QAAK5D,EAAA,MAAAA,EAAA,IAAAgB,GAAEL,EAAAjgB,oB,CA9wBhDjzB,SAAAqyC,EAAAA,EAAAA,KA8wBmE,IAEjD,EAhxBlBG,EAAAA,EAAAA,KAAAS,EAAAA,EAAAA,IA+wBgBE,EAAAyH,oBAAkB,MA/wBlC15B,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,K,gZCCEuzB,EAAAA,EAAAA,IAqDS3B,EAAA,CArDA6C,OAAQ,IAAE,CADrB31C,SAAAqyC,EAAAA,EAAAA,KAEI,IAES,EAFTF,EAAAA,EAAAA,IAESY,EAAA,CAFAC,KAAM,IAAE,CAFrBhzC,SAAAqyC,EAAAA,EAAAA,KAGM,IAAsG,EAAtGF,EAAAA,EAAAA,IAAsG+D,EAAA,CAA3FvD,MAAM,eAAe94B,KAAK,UAAWs8B,QAAK5D,EAAA,KAAAA,EAAA,GAAAgB,GAAEL,EAAA2H,oB,CAH7D76C,SAAAqyC,EAAAA,EAAAA,KAGgF,IAAgBE,EAAA,MAAAA,EAAA,MAHhGC,EAAAA,EAAAA,IAGgF,wBAHhFtxB,EAAA,OAAAA,EAAA,I,eAKI0xB,EAAAA,EAAAA,IAAwB,OAAnBD,MAAM,QAAM,WACjBR,EAAAA,EAAAA,IAOSY,EAAA,CAPAC,KAAM,IAAE,CANrBhzC,SAAAqyC,EAAAA,EAAAA,KAOM,IAA0E,gBAA1EO,EAAAA,EAAAA,IAA0E,OAArEC,MAAA,mCAAsC,6BAAyB,KACpEV,EAAAA,EAAAA,IAAwFuC,EAAA,CAA9E/B,MAAM,eARtBU,WAQ8CyH,EAAAC,WAR9C,sBAAAxI,EAAA,KAAAA,EAAA,GAAAgB,GAQ8CuH,EAAAC,WAAUxH,GAAEyH,UAAA,GAAUlH,YAAY,a,wBAC1E3B,EAAAA,EAAAA,IAAwF+D,EAAA,CAA7EvD,MAAM,eAAe94B,KAAK,UAAWs8B,QAAK5D,EAAA,KAAAA,EAAA,GAAAgB,GAAEL,EAAA+H,a,CAT7Dj7C,SAAAqyC,EAAAA,EAAAA,KASyE,IAASE,EAAA,MAAAA,EAAA,MATlFC,EAAAA,EAAAA,IASyE,iBATzEtxB,EAAA,I,eAUM0xB,EAAAA,EAAAA,IAAI,qBACJT,EAAAA,EAAAA,IAAuGuC,EAAA,CAA7F/B,MAAM,eAXtBU,WAW8CyH,EAAAI,mBAX9C,sBAAA3I,EAAA,KAAAA,EAAA,GAAAgB,GAW8CuH,EAAAI,mBAAkB3H,GAAEyH,UAAA,GAAUlH,YAAY,oB,wBAClF3B,EAAAA,EAAAA,IAAsG+D,EAAA,CAA3FvD,MAAM,eAAe94B,KAAK,UAAWs8B,QAAK5D,EAAA,KAAAA,EAAA,GAAAgB,GAAEL,EAAAiI,oB,CAZ7Dn7C,SAAAqyC,EAAAA,EAAAA,KAYgF,IAAgBE,EAAA,MAAAA,EAAA,MAZhGC,EAAAA,EAAAA,IAYgF,wBAZhFtxB,EAAA,OAAAA,EAAA,I,eAcI0xB,EAAAA,EAAAA,IAAwB,OAAnBD,MAAM,QAAM,WACjBR,EAAAA,EAAAA,IAqBSY,EAAA,CArBAC,KAAM,IAAE,CAfrBhzC,SAAAqyC,EAAAA,EAAAA,KAgBM,IAAuF,EAAvFF,EAAAA,EAAAA,IAAuFuC,EAAA,CAA7E/B,MAAM,eAhBtBU,WAgB8CyH,EAAA5e,QAhB9C,sBAAAqW,EAAA,KAAAA,EAAA,GAAAgB,GAgB8CuH,EAAA5e,QAAOqX,GAAEyH,UAAA,GAAUlH,YAAY,e,wBACvE3B,EAAAA,EAAAA,IAAqG+D,EAAA,CAA1FvD,MAAM,eAAe94B,KAAK,UAAWs8B,QAAK5D,EAAA,KAAAA,EAAA,GAAAgB,GAAEL,EAAAkI,oB,CAjB7Dp7C,SAAAqyC,EAAAA,EAAAA,KAiBgF,IAAeE,EAAA,MAAAA,EAAA,MAjB/FC,EAAAA,EAAAA,IAiBgF,uBAjBhFtxB,EAAA,I,eAkBM0xB,EAAAA,EAAAA,IAAI,qBACJT,EAAAA,EAAAA,IACsE+D,EAAA,CAD3DvD,MAAM,eAAe94B,KAAK,UAClCs8B,QAAK5D,EAAA,KAAAA,EAAA,GAAAgB,GAAEL,EAAAmI,2B,CApBhBr7C,SAAAqyC,EAAAA,EAAAA,KAoB0C,IAAsBE,EAAA,MAAAA,EAAA,MApBhEC,EAAAA,EAAAA,IAoB0C,8BApB1CtxB,EAAA,I,eAqBM0xB,EAAAA,EAAAA,IAAI,mCACJA,EAAAA,EAAAA,IAaM,OAbDC,MAAA,+FAA0F,EAC7FD,EAAAA,EAAAA,IAEK,UAFD,sCAGJA,EAAAA,EAAAA,IAEK,UAFD,0BAGJA,EAAAA,EAAAA,IAEK,UAFD,kCAGJA,EAAAA,EAAAA,IAEK,UAFD,2DAEJ,OAlCR1xB,EAAA,I,eAqCI0xB,EAAAA,EAAAA,IAAwB,OAAnBD,MAAM,QAAM,WACjBR,EAAAA,EAAAA,IAeSY,EAAA,CAfAC,KAAM,IAAE,CAtCrBhzC,SAAAqyC,EAAAA,EAAAA,KAuCM,IAAuF,EAAvFF,EAAAA,EAAAA,IAAuFuC,EAAA,CAA7E/B,MAAM,eAvCtBU,WAuC8CyH,EAAA1d,MAvC9C,sBAAAmV,EAAA,KAAAA,EAAA,GAAAgB,GAuC8CuH,EAAA1d,MAAKmW,GAAEyH,UAAA,GAAUlH,YAAY,iB,wBACrE3B,EAAAA,EAAAA,IAAoFuC,EAAA,CAA1E/B,MAAM,eAxCtBU,WAwC8CyH,EAAAQ,SAxC9C,sBAAA/I,EAAA,KAAAA,EAAA,GAAAgB,GAwC8CuH,EAAAQ,SAAQ/H,GAAEyH,UAAA,GAAUlH,YAAY,W,wBACxE3B,EAAAA,EAAAA,IAA8G+D,EAAA,CAAnGvD,MAAM,eAAe94B,KAAK,UAAWs8B,QAAK5D,EAAA,MAAAA,EAAA,IAAAgB,GAAEL,EAAAqI,wB,CAzC7Dv7C,SAAAqyC,EAAAA,EAAAA,KAyCoF,IAAoBE,EAAA,MAAAA,EAAA,MAzCxGC,EAAAA,EAAAA,IAyCoF,4BAzCpFtxB,EAAA,I,eA0CM0xB,EAAAA,EAAAA,IAUM,OAVDC,MAAA,+FAA0F,EAC7FD,EAAAA,EAAAA,IAEK,UAFD,uCAGJA,EAAAA,EAAAA,IAEK,UAFD,uCAGJA,EAAAA,EAAAA,IAEK,UAFD,yCAEJ,OAnDR1xB,EAAA,OAAAA,EAAA,G,gBA4DA,GACEllB,KAAM,sBACNw/C,MAAO,CACLtrD,IAAKsX,QAEPi0C,KAAAA,GACE,MAAMre,GAAQse,EAAAA,EAAAA,IAAI,IACZX,GAAaW,EAAAA,EAAAA,IAAI,OACjBR,GAAqBQ,EAAAA,EAAAA,IAAI,OACzBxf,GAAUwf,EAAAA,EAAAA,IAAI,IACdJ,GAAWI,EAAAA,EAAAA,IAAI,IACrB,MAAO,CACLte,QACAke,WACApf,UACA6e,aACAG,qBAEJ,EACArsC,QAAS,CACPgsC,eAAAA,GACE,IAAI1mD,EAAS,CACXqgB,KAAM,iEACN+mB,QAAS,kBAEX1wC,KAAK8wD,MAAM,4BAA6BxnD,EAAQ,kBAClD,EAEA8mD,QAAAA,GACE,GAAuB,GAAnBpwD,KAAKkwD,WAEP,YADAa,MAAM,QAGR,IAAIznD,EAAS,CACXqgB,KAAM,GACNqnB,GAAI,qCACJ3xC,MAAO,GAAGW,KAAKkwD,cAEjBlwD,KAAK8wD,MAAM,4BAA6BxnD,EAAQ,WAClD,EAEAgnD,eAAAA,GACE,GAAuB,GAAnBtwD,KAAKkwD,WAEP,YADAa,MAAM,QAIR,IAAIznD,EAAS,CACXqgB,KAAM,GACNmnB,UAAW,qCACXC,SAAU,GAAG/wC,KAAKqwD,qBAClBj+B,QAAS,CACP6e,QAAS,KAGbjxC,KAAK8wD,MAAM,4BAA6BxnD,EAAQ,kBAClD,EAEAinD,eAAAA,GACOvwD,KAAKqxC,QAIVrxC,KAAK8wD,MAAM,4BAA6B,CACtCzf,QAASrxC,KAAKqxC,QACdjf,QAAS,CACP4+B,eAAe,IAEhB,gBARDD,MAAM,UASV,EAEAP,sBAAAA,GACOxwD,KAAKqxC,QAIVrxC,KAAK8wD,MAAM,4BAA6B,CACtCzf,QAASrxC,KAAKqxC,QACdjf,QAAS,CACP4+B,eAAe,IAEhB,uBARDD,MAAM,UASV,EAEAL,mBAAAA,GACO1wD,KAAKuyC,MAKLvyC,KAAKywD,SAKVzwD,KAAK8wD,MAAM,4BAA6B,CACtCrtC,QAASzjB,KAAKywD,SACd9e,cAAe3xC,KAAKuyC,MACpBngB,QAAS,CACP6e,QAAS,OAEV,uBAVD8f,MAAM,YALNA,MAAM,YAgBV,I,WC3JJ,MAAME,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAAS,GAAQ,CAAC,YAAY,qBAEzF,Q,yICRErH,EAAAA,EAAAA,IAuDS3B,EAAA,CAvDA6C,OAAQ,IAAE,CADrB31C,SAAAqyC,EAAAA,EAAAA,KAEI,IAES,EAFTF,EAAAA,EAAAA,IAESY,EAAA,CAFAC,KAAM,IAAE,CAFrBhzC,SAAAqyC,EAAAA,EAAAA,KAGM,IAA8G,EAA9GF,EAAAA,EAAAA,IAA8G+D,EAAA,CAAnGvD,MAAM,eAAe94B,KAAK,UAAWs8B,QAAK5D,EAAA,KAAAA,EAAA,GAAAgB,GAAEL,EAAA6I,wB,CAH7D/7C,SAAAqyC,EAAAA,EAAAA,KAGoF,IAAoBE,EAAA,MAAAA,EAAA,MAHxGC,EAAAA,EAAAA,IAGoF,4BAHpFtxB,EAAA,OAAAA,EAAA,I,eAKI0xB,EAAAA,EAAAA,IAAwB,OAAnBD,MAAM,QAAM,WACjBR,EAAAA,EAAAA,IAQSY,EAAA,CARAC,KAAM,IAAE,CANrBhzC,SAAAqyC,EAAAA,EAAAA,KAOM,IAA0E,gBAA1EO,EAAAA,EAAAA,IAA0E,OAArEC,MAAA,mCAAsC,6BAAyB,KACpEV,EAAAA,EAAAA,IAAwFuC,EAAA,CAA9E/B,MAAM,eARtBU,WAQ8CyH,EAAAC,WAR9C,sBAAAxI,EAAA,KAAAA,EAAA,GAAAgB,GAQ8CuH,EAAAC,WAAUxH,GAAEyH,UAAA,GAAUlH,YAAY,a,wBAC1E3B,EAAAA,EAAAA,IAAgG+D,EAAA,CAArFvD,MAAM,eAAe94B,KAAK,UAAWs8B,QAAK5D,EAAA,KAAAA,EAAA,GAAAgB,GAAEL,EAAA8I,iB,CAT7Dh8C,SAAAqyC,EAAAA,EAAAA,KAS6E,IAAaE,EAAA,MAAAA,EAAA,MAT1FC,EAAAA,EAAAA,IAS6E,qBAT7EtxB,EAAA,I,eAUM0xB,EAAAA,EAAAA,IAAI,qBACJT,EAAAA,EAAAA,IAAuGuC,EAAA,CAA7F/B,MAAM,eAXtBU,WAW8CyH,EAAAI,mBAX9C,sBAAA3I,EAAA,KAAAA,EAAA,GAAAgB,GAW8CuH,EAAAI,mBAAkB3H,GAAEyH,UAAA,GAAUlH,YAAY,oB,wBAClF3B,EAAAA,EAAAA,IAA8G+D,EAAA,CAAnGvD,MAAM,eAAe94B,KAAK,UAAWs8B,QAAK5D,EAAA,KAAAA,EAAA,GAAAgB,GAAEL,EAAA+I,wB,CAZ7Dj8C,SAAAqyC,EAAAA,EAAAA,KAYoF,IAAoBE,EAAA,MAAAA,EAAA,MAZxGC,EAAAA,EAAAA,IAYoF,4BAZpFtxB,EAAA,OAAAA,EAAA,I,eAeI0xB,EAAAA,EAAAA,IAAwB,OAAnBD,MAAM,QAAM,WACjBR,EAAAA,EAAAA,IAqBSY,EAAA,CArBAC,KAAM,IAAE,CAhBrBhzC,SAAAqyC,EAAAA,EAAAA,KAiBM,IAAuF,EAAvFF,EAAAA,EAAAA,IAAuFuC,EAAA,CAA7E/B,MAAM,eAjBtBU,WAiB8CyH,EAAA5e,QAjB9C,sBAAAqW,EAAA,KAAAA,EAAA,GAAAgB,GAiB8CuH,EAAA5e,QAAOqX,GAAEyH,UAAA,GAAUlH,YAAY,e,wBACvE3B,EAAAA,EAAAA,IAAyG+D,EAAA,CAA9FvD,MAAM,eAAe94B,KAAK,UAAWs8B,QAAK5D,EAAA,KAAAA,EAAA,GAAAgB,GAAEL,EAAAgJ,wB,CAlB7Dl8C,SAAAqyC,EAAAA,EAAAA,KAkBoF,IAAeE,EAAA,MAAAA,EAAA,MAlBnGC,EAAAA,EAAAA,IAkBoF,uBAlBpFtxB,EAAA,I,eAmBM0xB,EAAAA,EAAAA,IAAI,qBACJT,EAAAA,EAAAA,IAC0E+D,EAAA,CAD/DvD,MAAM,eAAe94B,KAAK,UAClCs8B,QAAK5D,EAAA,KAAAA,EAAA,GAAAgB,GAAEL,EAAAiJ,+B,CArBhBn8C,SAAAqyC,EAAAA,EAAAA,KAqB8C,IAAsBE,EAAA,MAAAA,EAAA,MArBpEC,EAAAA,EAAAA,IAqB8C,8BArB9CtxB,EAAA,I,eAsBM0xB,EAAAA,EAAAA,IAAI,mCACJA,EAAAA,EAAAA,IAaM,OAbDC,MAAA,+FAA0F,EAC7FD,EAAAA,EAAAA,IAEK,UAFD,0CAGJA,EAAAA,EAAAA,IAEK,UAFD,0BAGJA,EAAAA,EAAAA,IAEK,UAFD,kCAGJA,EAAAA,EAAAA,IAEK,UAFD,2DAEJ,OAnCR1xB,EAAA,I,eAsCI0xB,EAAAA,EAAAA,IAAwB,OAAnBD,MAAM,QAAM,WACjBR,EAAAA,EAAAA,IAgBSY,EAAA,CAhBAC,KAAM,IAAE,CAvCrBhzC,SAAAqyC,EAAAA,EAAAA,KAwCM,IAAuF,EAAvFF,EAAAA,EAAAA,IAAuFuC,EAAA,CAA7E/B,MAAM,eAxCtBU,WAwC8CyH,EAAA1d,MAxC9C,sBAAAmV,EAAA,KAAAA,EAAA,GAAAgB,GAwC8CuH,EAAA1d,MAAKmW,GAAEyH,UAAA,GAAUlH,YAAY,iB,wBACrE3B,EAAAA,EAAAA,IAAoFuC,EAAA,CAA1E/B,MAAM,eAzCtBU,WAyC8CyH,EAAAQ,SAzC9C,sBAAA/I,EAAA,KAAAA,EAAA,GAAAgB,GAyC8CuH,EAAAQ,SAAQ/H,GAAEyH,UAAA,GAAUlH,YAAY,W,wBACxE3B,EAAAA,EAAAA,IACyE+D,EAAA,CAD9DvD,MAAM,eAAe94B,KAAK,UAClCs8B,QAAK5D,EAAA,MAAAA,EAAA,IAAAgB,GAAEL,EAAAkJ,4B,CA3ChBp8C,SAAAqyC,EAAAA,EAAAA,KA2C2C,IAAwBE,EAAA,MAAAA,EAAA,MA3CnEC,EAAAA,EAAAA,IA2C2C,gCA3C3CtxB,EAAA,I,eA4CM0xB,EAAAA,EAAAA,IAUM,OAVDC,MAAA,+FAA0F,EAC7FD,EAAAA,EAAAA,IAEK,UAFD,2CAGJA,EAAAA,EAAAA,IAEK,UAFD,uCAGJA,EAAAA,EAAAA,IAEK,UAFD,yCAEJ,OArDR1xB,EAAA,OAAAA,EAAA,G,CA8DA,OACEllB,KAAM,sBACNw/C,MAAO,CACLtrD,IAAKsX,QAEPi0C,KAAAA,GACE,MAAMre,GAAQse,EAAAA,EAAAA,IAAI,IACZX,GAAaW,EAAAA,EAAAA,IAAI,OACjBR,GAAqBQ,EAAAA,EAAAA,IAAI,OACzBxf,GAAUwf,EAAAA,EAAAA,IAAI,IACdJ,GAAWI,EAAAA,EAAAA,IAAI,IACrB,MAAO,CACLte,QACAke,WACApf,UACA6e,aACAG,qBAEJ,EACArsC,QAAS,CACPktC,mBAAAA,GACE,IAAI5nD,EAAS,CACXqgB,KAAM,iEACN+mB,QAAS,gcAEX1wC,KAAK8wD,MAAM,4BAA6BxnD,EAAQ,sBAClD,EAEA6nD,YAAAA,GACE,GAAuB,GAAnBnxD,KAAKkwD,WAEP,YADAa,MAAM,QAGR,IAAIznD,EAAS,CACXqgB,KAAM,GACNqnB,GAAI,qCACJ3xC,MAAO,GAAGW,KAAKkwD,cAEjBlwD,KAAK8wD,MAAM,4BAA6BxnD,EAAQ,eAClD,EAEA8nD,mBAAAA,GACE,GAAuB,GAAnBpxD,KAAKkwD,WAEP,YADAa,MAAM,QAIR,IAAIznD,EAAS,CACXqgB,KAAM,GACNmnB,UAAW,qCACXC,SAAU,GAAG/wC,KAAKqwD,qBAClBj+B,QAAS,CACP6e,QAAS,KAGbjxC,KAAK8wD,MAAM,4BAA6BxnD,EAAQ,sBAClD,EAEA+nD,mBAAAA,GACOrxD,KAAKqxC,QAIVrxC,KAAK8wD,MAAM,4BAA6B,CACtCzf,QAASrxC,KAAKqxC,QACdjf,QAAS,CACP4+B,eAAe,IAEhB,oBARDD,MAAM,UASV,EAEAO,0BAAAA,GACOtxD,KAAKqxC,QAIVrxC,KAAK8wD,MAAM,4BAA6B,CACtCzf,QAASrxC,KAAKqxC,QACdjf,QAAS,CACP4+B,eAAe,IAEhB,2BARDD,MAAM,UASV,EAEAQ,uBAAAA,GACOvxD,KAAKuyC,MAKLvyC,KAAKywD,SAKVzwD,KAAK8wD,MAAM,4BAA6B,CACtCrtC,QAASzjB,KAAKywD,SACd9e,cAAe3xC,KAAKuyC,MACpBngB,QAAS,CACP6e,QAAS,OAEV,2BAVD8f,MAAM,YALNA,MAAM,YAgBV,IC7JJ,MAAM,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAAS,GAAQ,CAAC,YAAY,qBAEzF,Q,kHCsNEnH,EAAAA,EAAAA,IAmCS3B,EAAA,CAnCA6C,OAAQ,GAAIhD,MAAM,c,CA/N7B3yC,SAAAqyC,EAAAA,EAAAA,KAgOI,IAES,EAFTF,EAAAA,EAAAA,IAESY,EAAA,CAFAC,KAAM,IAAE,CAhOrBhzC,SAAAqyC,EAAAA,EAAAA,KAiOM,IAAoG,EAApGF,EAAAA,EAAAA,IAAoG+D,EAAA,CAAzFvD,MAAM,eAAe94B,KAAK,UAAWs8B,QAAK5D,EAAA,KAAAA,EAAA,GAAAgB,GAAEL,EAAAmJ,mB,CAjO7Dr8C,SAAAqyC,EAAAA,EAAAA,KAiO+E,IAAeE,EAAA,KAAAA,EAAA,KAjO9FC,EAAAA,EAAAA,IAiO+E,uBAjO/EtxB,EAAA,OAAAA,EAAA,KAmOIixB,EAAAA,EAAAA,IAESY,EAAA,CAFAC,KAAM,IAAE,CAnOrBhzC,SAAAqyC,EAAAA,EAAAA,KAoOM,IAAsG,EAAtGF,EAAAA,EAAAA,IAAsG+D,EAAA,CAA3FvD,MAAM,eAAe94B,KAAK,UAAWs8B,QAAK5D,EAAA,KAAAA,EAAA,GAAAgB,GAAEL,EAAAoJ,oB,CApO7Dt8C,SAAAqyC,EAAAA,EAAAA,KAoOgF,IAAgBE,EAAA,KAAAA,EAAA,KApOhGC,EAAAA,EAAAA,IAoOgF,wBApOhFtxB,EAAA,OAAAA,EAAA,KAsOIixB,EAAAA,EAAAA,IAESY,EAAA,CAFAC,KAAM,IAAE,CAtOrBhzC,SAAAqyC,EAAAA,EAAAA,KAuOM,IAAsH,EAAtHF,EAAAA,EAAAA,IAAsH+D,EAAA,CAA3GvD,MAAM,eAAe94B,KAAK,UAAWs8B,QAAK5D,EAAA,KAAAA,EAAA,GAAAgB,GAAEL,EAAAqJ,4B,CAvO7Dv8C,SAAAqyC,EAAAA,EAAAA,KAuOwF,IAAwBE,EAAA,MAAAA,EAAA,MAvOhHC,EAAAA,EAAAA,IAuOwF,gCAvOxFtxB,EAAA,OAAAA,EAAA,KAyOIixB,EAAAA,EAAAA,IAESY,EAAA,CAFAC,KAAM,IAAE,CAzOrBhzC,SAAAqyC,EAAAA,EAAAA,KA0OM,IAA+G,EAA/GF,EAAAA,EAAAA,IAA+G+D,EAAA,CAApGvD,MAAM,eAAe94B,KAAK,UAAWs8B,QAAK5D,EAAA,KAAAA,EAAA,GAAAgB,GAAEL,EAAAsJ,yB,CA1O7Dx8C,SAAAqyC,EAAAA,EAAAA,KA0OqF,IAAoBE,EAAA,MAAAA,EAAA,MA1OzGC,EAAAA,EAAAA,IA0OqF,4BA1OrFtxB,EAAA,OAAAA,EAAA,KA6OIixB,EAAAA,EAAAA,IAGSY,EAAA,CAHAC,KAAM,IAAE,CA7OrBhzC,SAAAqyC,EAAAA,EAAAA,KA8OM,IAAwH,EAAxHF,EAAAA,EAAAA,IAAwH+D,EAAA,CAA7GvD,MAAM,eAAe94B,KAAK,UAAWs8B,QAAK5D,EAAA,KAAAA,EAAA,GAAAgB,GAAEL,EAAAuJ,kC,CA9O7Dz8C,SAAAqyC,EAAAA,EAAAA,KA8O8F,IAAoBE,EAAA,MAAAA,EAAA,MA9OlHC,EAAAA,EAAAA,IA8O8F,4BA9O9FtxB,EAAA,I,eA+OM0xB,EAAAA,EAAAA,IAA8E,OAAzEC,MAAA,mCAAsC,iCAA6B,OA/O9E3xB,EAAA,KAkPIixB,EAAAA,EAAAA,IAISY,EAAA,CAJAC,KAAM,IAAE,CAlPrBhzC,SAAAqyC,EAAAA,EAAAA,KAmPM,IAAmG,EAAnGF,EAAAA,EAAAA,IAAmG+D,EAAA,CAAxFvD,MAAM,eAAe94B,KAAK,UAAWs8B,QAAK5D,EAAA,KAAAA,EAAA,GAAAgB,GAAEL,EAAAwJ,mB,CAnP7D18C,SAAAqyC,EAAAA,EAAAA,KAmP+E,IAAcE,EAAA,MAAAA,EAAA,MAnP7FC,EAAAA,EAAAA,IAmP+E,sBAnP/EtxB,EAAA,I,eAoPM0xB,EAAAA,EAAAA,IAA6E,OAAxEC,MAAA,mCAAsC,gCAA4B,mBACvED,EAAAA,EAAAA,IAAkH,OAA7GC,MAAA,mCAAqC,sEAAkE,OArPlH3xB,EAAA,I,eAwPI0xB,EAAAA,EAAAA,IAAwB,OAAnBD,MAAM,QAAM,WACjBR,EAAAA,EAAAA,IAGSY,EAAA,CAHAC,KAAM,IAAE,CAzPrBhzC,SAAAqyC,EAAAA,EAAAA,KA0PM,IACkG,EADlGF,EAAAA,EAAAA,IACkG+D,EAAA,CADvFvD,MAAM,eAAe94B,KAAK,UACzBs8B,QAAK5D,EAAA,KAAAA,EAAA,GAAAgB,GAAEL,EAAAyJ,sC,CA3PzB38C,SAAAqyC,EAAAA,EAAAA,KA2P8D,IAA8BE,EAAA,MAAAA,EAAA,MA3P5FC,EAAAA,EAAAA,IA2P8D,sCA3P9DtxB,EAAA,OAAAA,EAAA,KA8PIixB,EAAAA,EAAAA,IAGSY,EAAA,CAHAC,KAAM,IAAE,CA9PrBhzC,SAAAqyC,EAAAA,EAAAA,KA+PM,IAC4G,EAD5GF,EAAAA,EAAAA,IAC4G+D,EAAA,CADjGvD,MAAM,eAAe94B,KAAK,UACzBs8B,QAAK5D,EAAA,KAAAA,EAAA,GAAAgB,GAAEL,EAAA0J,gD,CAhQzB58C,SAAAqyC,EAAAA,EAAAA,KAgQwE,IAA8BE,EAAA,MAAAA,EAAA,MAhQtGC,EAAAA,EAAAA,IAgQwE,sCAhQxEtxB,EAAA,OAAAA,EAAA,OAAAA,EAAA,G,2DAKA,GACEllB,KAAM,sBACN6S,QAAS,CACPwtC,cAAAA,GACExxD,KAAK8wD,MAAM,4BAA6B,GAAI,iBAC9C,EAGA,qBAAMW,GACJ,MAAMntD,EAAO,CACX,GAAI,IAAK,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,IAClE,IAAK,IAAK,IAAK,KAEXq9B,EAAa,IAAIrT,WAAWhqB,GAClC,IAAI+J,EAAQ,CACV7E,QAASm4B,GAEX3hC,KAAK8wD,MAAM,4BAA6BziD,EAAO,kBACjD,EAEA,6BAAMqjD,GACJ,MAAMptD,EAAO,CACX,GAAI,IAAK,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,IAClE,IAAK,IAAK,IAAK,KAEXq9B,EAAa,IAAIrT,WAAWhqB,GAClC,IAAI+J,EAAQ,CACV7E,QAASm4B,GAEX3hC,KAAK8wD,MAAM,4BAA6BziD,EAAO,0BACjD,EAEAsjD,oBAAAA,GAEE,MAAMrjB,EAAS,IAET0jB,EACF,qEAGEnpB,EAAK,IAAIopB,EAAAA,GACRC,GAAQrpB,EAAGspB,WAAWtpB,EAAG0K,IAAK,CAACjF,IACtCzF,EAAGupB,gBAAgB,CAACF,GAAOF,GAC3B,MAAM3jD,EAAQ,CACZgkD,iBAAkBxpB,EAClBtC,QAAS,CAAC,EACVliB,MAAO,cACP+N,QAAS,CACPkgC,aAAa,IAIjBtyD,KAAK8wD,MAAM,4BAA6BziD,EAAO,sBACjD,EAEA,oBAAMwjD,GACJ,IAAIjsB,EAAWpV,OAAOoV,SACtBA,EAASgU,gBACL,cACA,uCAEJ,IAAIt1C,EAAO,CACTsN,OAAQ,kBACRtI,OAAQ,CACN,qEACA,2DAIJtJ,KAAK8wD,MAAM,4BAA6BxsD,EAAM,cAChD,EAGA,uCAAMwtD,GAEJ,MAAMxjB,EAAS,IAET0jB,EACF,qEAGEnpB,EAAK,IAAIopB,EAAAA,GACRC,GAAQrpB,EAAGspB,WAAWtpB,EAAG0K,IAAK,CAACjF,IACtCzF,EAAGupB,gBAAgB,CAACF,GAAOF,GAC3B,MAAM3jD,EAAQ,CACZgkD,iBAAkBxpB,EAClBzW,QAAS,CACPkgC,aAAa,KAKVC,EAASC,SAAqBxyD,KAAKyyD,4BACtCpkD,GAEJA,EAAMkkD,QAAUA,EAChBlkD,EAAMmkD,YAAcA,EAEpBxyD,KAAK8wD,MAAM,4BAA6BziD,EAAO,sBACjD,EAGA,iDAAM0jD,GAEJ,MAAMzjB,EAAS,IAET0jB,EACF,qEAGEnpB,EAAK,IAAIopB,EAAAA,GACRC,GAAQrpB,EAAGspB,WAAWtpB,EAAG0K,IAAK,CAACjF,IACtCzF,EAAGupB,gBAAgB,CAACF,GAAOF,GAE3B,MAAM3jD,EAAQ,CACZgkD,iBAAkBxpB,EAClBzW,QAAS,CACPkgC,aAAa,KAKVC,EAASC,SAAqBxyD,KAAKyyD,4BACtCpkD,GAEJA,EAAMkkD,QAAUA,EAChBlkD,EAAMmkD,YAAcA,EACpBxyD,KAAK8wD,MAAM,4BAA6BziD,EAAO,gCACjD,EAGA,iCAAMokD,CAA4BpkD,GAEhC,IAAIqkD,EAAc,CAAC,GAAI,IAWvB,GATI,YAAarkD,GACbA,EAAMkkD,QAAQlrD,OAAS,GACvB,gBAAiBgH,GACjBA,EAAMmkD,YAAYnrD,OAAS,IAE7BqrD,EAAc,CAACrkD,EAAMkkD,QAASlkD,EAAMmkD,gBAIhC,qBAAsBnkD,GAC1B,OAAO,IAAIxM,SAASD,IAClBA,EAAQ8wD,EAAY,IAWxB,IAAIC,EAAiBniC,OAAOoV,SAASqP,6BAA6B,OAClE,GAA6B,GAAzB0d,EAAetrD,OACjB,OAAO,IAAIxF,SAASD,IAClBA,EAAQ8wD,EAAY,IAIxB,IACE,IAAI7Y,GAAS+Y,EAAAA,EAAAA,GAAe,WAC5B/Y,EAAS,gDACT,MAAMgZ,EAAY,IAAIC,EAAAA,EAAU,CAAE3vD,IAAK02C,IAGvCxrC,EAAMgkD,iBAAiBU,UAAUJ,EAAe,IAChD,MAAMzxD,QAAemN,EAAMgkD,iBAAiBW,MAAM,CAChDnmC,OAAQgmC,IAEJN,EAAUU,EAAO/xD,GAAQyD,SAAS,UAClC6tD,QAAoBP,EAAAA,EAAetoC,KAAK4oC,GAASrhC,SACvDwhC,EAAc,CAACH,EAASC,EAC1B,CAAE,MAAOthD,GACP,OAAO,IAAIrP,SAASD,IAClBA,EAAQ8wD,EAAY,GAExB,CAEA,OAAO,IAAI7wD,SAASD,IAClBA,EAAQ8wD,EAAY,GAExB,EAGAd,6BAAAA,GAEE,MAAMtjB,EAAS,IAET0jB,EACJ,qEAGInpB,EAAK,IAAIopB,EAAAA,GACRC,GAAQrpB,EAAGspB,WAAWtpB,EAAG0K,IAAK,CAACjF,IACtCzF,EAAGupB,gBAAgB,CAACF,GAAOF,GAC3B,MAAM3jD,EAAQ,CACZgkD,iBAAkBxpB,EAClBtC,QAAS,CAAC,EACVliB,MAAO,cACP+N,QAAS,CACPkgC,aAAa,IAIjBtyD,KAAK4vD,gBAAkB70C,KAAKC,UAAU3M,GACtCrO,KAAKkzD,sBAAwB7kD,EAC7BrO,KAAKmzD,iBAAmB,+BAC1B,IClNJ,MAAM,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAAS,GAAQ,CAAC,YAAY,qBAEzF,Q,2LCoJEvJ,EAAAA,EAAAA,IAmDS3B,EAAA,CAnDA6C,OAAQ,GAAIhD,MAAM,c,CA7J7B3yC,SAAAqyC,EAAAA,EAAAA,KA8JI,IAES,EAFTF,EAAAA,EAAAA,IAESY,EAAA,CAFAC,KAAM,IAAE,CA9JrBhzC,SAAAqyC,EAAAA,EAAAA,KA+JM,IAAuG,EAAvGF,EAAAA,EAAAA,IAAuG+D,EAAA,CAA5FvD,MAAM,eAAe94B,KAAK,UAAWs8B,QAAK5D,EAAA,KAAAA,EAAA,GAAAgB,GAAEL,EAAA+K,qB,CA/J7Dj+C,SAAAqyC,EAAAA,EAAAA,KA+JiF,IAAgBE,EAAA,KAAAA,EAAA,KA/JjGC,EAAAA,EAAAA,IA+JiF,wBA/JjFtxB,EAAA,OAAAA,EAAA,KAiKIixB,EAAAA,EAAAA,IAESY,EAAA,CAFAC,KAAM,IAAE,CAjKrBhzC,SAAAqyC,EAAAA,EAAAA,KAkKM,IAA2G,EAA3GF,EAAAA,EAAAA,IAA2G+D,EAAA,CAAhGvD,MAAM,eAAe94B,KAAK,UAAWs8B,QAAK5D,EAAA,KAAAA,EAAA,GAAAgB,GAAEL,EAAAgL,uB,CAlK7Dl+C,SAAAqyC,EAAAA,EAAAA,KAkKmF,IAAkBE,EAAA,KAAAA,EAAA,KAlKrGC,EAAAA,EAAAA,IAkKmF,0BAlKnFtxB,EAAA,OAAAA,EAAA,I,eAqKI0xB,EAAAA,EAAAA,IAAwB,OAAnBD,MAAM,QAAM,WAGjBR,EAAAA,EAAAA,IAISY,EAAA,CAJAC,KAAM,IAAE,CAxKrBhzC,SAAAqyC,EAAAA,EAAAA,KAyKM,IAEY,EAFZF,EAAAA,EAAAA,IAEY+D,EAAA,CAFDvD,MAAM,eAAe94B,KAAK,UAAWs8B,QAAK5D,EAAA,KAAAA,EAAA,GAAAgB,GAAEL,EAAAiL,sBAAqB,K,CAzKlFn+C,SAAAqyC,EAAAA,EAAAA,KAyKyF,IAEnFE,EAAA,MAAAA,EAAA,MA3KNC,EAAAA,EAAAA,IAyKyF,wCAzKzFtxB,EAAA,OAAAA,EAAA,KA8KIixB,EAAAA,EAAAA,IAISY,EAAA,CAJAC,KAAM,IAAE,CA9KrBhzC,SAAAqyC,EAAAA,EAAAA,KA+KM,IAEY,EAFZF,EAAAA,EAAAA,IAEY+D,EAAA,CAFDvD,MAAM,eAAe94B,KAAK,UAAWs8B,QAAK5D,EAAA,KAAAA,EAAA,GAAAgB,GAAEL,EAAAkL,qCAAoC,K,CA/KjGp+C,SAAAqyC,EAAAA,EAAAA,KA+KwG,IAElGE,EAAA,MAAAA,EAAA,MAjLNC,EAAAA,EAAAA,IA+KwG,wCA/KxGtxB,EAAA,OAAAA,EAAA,KAoLIixB,EAAAA,EAAAA,IAISY,EAAA,CAJAC,KAAM,IAAE,CApLrBhzC,SAAAqyC,EAAAA,EAAAA,KAqLM,IAEY,EAFZF,EAAAA,EAAAA,IAEY+D,EAAA,CAFDvD,MAAM,eAAe94B,KAAK,UAAWs8B,QAAK5D,EAAA,KAAAA,EAAA,GAAAgB,GAAEL,EAAAmL,oCAAmC,K,CArLhGr+C,SAAAqyC,EAAAA,EAAAA,KAqLuG,IAEjGE,EAAA,MAAAA,EAAA,MAvLNC,EAAAA,EAAAA,IAqLuG,uCArLvGtxB,EAAA,OAAAA,EAAA,I,eA0LI0xB,EAAAA,EAAAA,IAAwB,OAAnBD,MAAM,QAAM,WAGjBR,EAAAA,EAAAA,IAISY,EAAA,CAJAC,KAAM,IAAE,CA7LrBhzC,SAAAqyC,EAAAA,EAAAA,KA8LM,IAEY,EAFZF,EAAAA,EAAAA,IAEY+D,EAAA,CAFDvD,MAAM,eAAe94B,KAAK,UAAWs8B,QAAK5D,EAAA,KAAAA,EAAA,GAAAgB,GAAEL,EAAAiL,sBAAqB,K,CA9LlFn+C,SAAAqyC,EAAAA,EAAAA,KA8L0F,IAEpFE,EAAA,MAAAA,EAAA,MAhMNC,EAAAA,EAAAA,IA8L0F,+CA9L1FtxB,EAAA,OAAAA,EAAA,KAmMIixB,EAAAA,EAAAA,IAISY,EAAA,CAJAC,KAAM,IAAE,CAnMrBhzC,SAAAqyC,EAAAA,EAAAA,KAoMM,IAEY,EAFZF,EAAAA,EAAAA,IAEY+D,EAAA,CAFDvD,MAAM,eAAe94B,KAAK,UAAWs8B,QAAK5D,EAAA,KAAAA,EAAA,GAAAgB,GAAEL,EAAAkL,qCAAoC,K,CApMjGp+C,SAAAqyC,EAAAA,EAAAA,KAoMyG,IAEnGE,EAAA,MAAAA,EAAA,MAtMNC,EAAAA,EAAAA,IAoMyG,+CApMzGtxB,EAAA,OAAAA,EAAA,KAyMIixB,EAAAA,EAAAA,IAISY,EAAA,CAJAC,KAAM,IAAE,CAzMrBhzC,SAAAqyC,EAAAA,EAAAA,KA0MM,IAEY,EAFZF,EAAAA,EAAAA,IAEY+D,EAAA,CAFDvD,MAAM,eAAe94B,KAAK,UAAWs8B,QAAK5D,EAAA,KAAAA,EAAA,GAAAgB,GAAEL,EAAAmL,oCAAmC,K,CA1MhGr+C,SAAAqyC,EAAAA,EAAAA,KA0MwG,IAElGE,EAAA,MAAAA,EAAA,MA5MNC,EAAAA,EAAAA,IA0MwG,8CA1MxGtxB,EAAA,OAAAA,EAAA,OAAAA,EAAA,G,qCAMA,GACEllB,KAAM,uBACN6S,QAAS,CAEP,sBAAMovC,GACJpzD,KAAK8wD,MAAM,4BAA6B,cACxC,IAAIlrB,EAAW,IAAIuP,EAAAA,gBAAgB3kB,OAAOoV,UACtC/N,QAAY+N,EAAS6K,YAAY,aAAc,gBACnD,GAAI5Y,EAAI5yB,KAEN,YADAjF,KAAK8wD,MAAM,4BAA6Bj5B,EAAK,oBAG/C,IAAI47B,EAAU,IAAIC,EAAAA,GAAQ,CACxB,SAAY,0BACZ,QAAW,CAAC,EACZ,WAAc,KAGhB,MAAMxwC,QAAeuwC,EAAQE,IAAIC,cAAc,KAAOX,EAAOtpC,KAAK,cAAchlB,SAAS,OAAQkzB,EAAK+N,EAAS4K,WAAW,gBAAgB/sB,SAC1IzjB,KAAK8wD,MAAM,4BAA6B,UAAY5tC,EAAS,KAAO2U,EAAK,mBAC3E,EAEA,wBAAMw7B,GACJrzD,KAAK8wD,MAAM,4BAA6B,cACxC,IAAIlrB,EAAW,IAAIuP,EAAAA,gBAAgB3kB,OAAOoV,UACtC/N,QAAY+N,EAAS4P,cAAc,aAAc,gBACrD,GAAI3d,EAAI5yB,KAEN,YADAjF,KAAK8wD,MAAM,4BAA6Bj5B,EAAK,oBAG/C,IAAI47B,EAAU,IAAIC,EAAAA,GAAQ,CACxB,SAAY,0BACZ,QAAW,CAAC,EACZ,WAAc,KAEhB,MAAMG,QAAsBJ,EAAQE,IAAIG,gBAAgB,aAAcj8B,GACtEvD,QAAQxxB,IAAI,mCAAoC+wD,GAChDv/B,QAAQxxB,IAAI,6BAA8B8iC,EAAS4K,WAAW,gBAAgB/sB,SAC9E,MAAMP,EAAS2wC,IAAkBjuB,EAAS4K,WAAW,gBAAgB/sB,QACrEzjB,KAAK8wD,MAAM,4BAA6B,UAAY5tC,EAAS,KAAQ2U,EAAK,mBAC5E,EAEA,0BAAMy7B,CAAqBS,GACzB,IAAInuB,EAAW,IAAIuP,EAAAA,gBAAgB3kB,OAAOoV,UACpC6tB,EAAU,IAAIC,EAAAA,GAAQ,CACxB,SAAY,0BACZ,QAAW,CAAC,EACZ,WAAc,KAEdjwC,EAAUmiB,EAAS4K,WAAW,gBAAgB/sB,QAClD,MAAM4kB,QAAoBorB,EAAQO,mBAAmBC,QAAQ,qCAAsC,IAAMxwC,GAGzG,GAFAzjB,KAAK8wD,MAAM,4BAA6BzoB,GAEpC0rB,EAAY,CACd,IAAIl8B,QAAY+N,EAAS6P,gBAAiBpN,EAAa,gBACvDroC,KAAK8wD,MAAM,4BAA6Bj5B,EAAK,uBAC/C,KAAO,CACL,IAAIgR,QAAWjD,EAASyQ,uBAAuBhO,EAAY,gBAC3DroC,KAAK8wD,MAAM,4BAA6BjoB,EAAI,0BAC9C,CACF,EAEA,iBAAMqrB,GACJ,IAAIT,EAAU,IAAIC,EAAAA,GAAQ,CACxB,SAAY,0BACZ,QAAW,CAAC,EACZ,WAAc,KAEZS,EAAkB,6CAEtB,IACE,MAAMpe,QAAiB0d,EAAQE,IAAIO,YAAYC,GACzCC,EAAMre,EAASqe,IAAIC,OACzB//B,QAAQxxB,IAAI,WACZwxB,QAAQxxB,IAAIsxD,EACd,CAAE,MAAOljD,GACPojB,QAAQxxB,IAAI,8BAA+BoO,EAC7C,CACF,EAEA,yCAAMqiD,CAAoCQ,GAExC,IAAIN,EAAU,IAAIC,EAAAA,GAAQ,CACxB,SAAY,0BACZ,QAAW,CAAC,EACZ,WAAc,KAEZS,EAAkB,6CAClBvuB,EAAW,IAAIuP,EAAAA,gBAAgB3kB,OAAOoV,UACtCniB,EAAUmiB,EAAS4K,WAAW,gBAAgB/sB,QAClD,MAAM6wC,EAAY,CAChB,CAACtlC,KAAM,UAAW3vB,MAAO,GACzB,CAAC2vB,KAAM,UAAW3vB,MAAO,GACzB,CAAC2vB,KAAM,UAAW3vB,MAAO,IAErBsxC,QAAY8iB,EAAQO,mBAAmBO,qBAAqBJ,EAAiB,iCAAkC,CAAC,EAAGG,EAAW7wC,GAIpI,GAHA6Q,QAAQxxB,IAAI,uBACZwxB,QAAQxxB,IAAI6tC,GACZ3wC,KAAK8wD,MAAM,4BAA6BngB,EAAItI,aACxC0rB,EAAY,CACd,IAAIlrB,QAAWjD,EAAS6P,gBAAiB9E,EAAItI,YAAY,gBACzDroC,KAAK8wD,MAAM,4BAA6BjoB,EAAI,0BAC9C,KAAO,CACL,IAAIA,QAAWjD,EAASyQ,uBAAuB1F,EAAItI,YAAY,gBAC/DroC,KAAK8wD,MAAM,4BAA6BjoB,EAAI,0BAC9C,CACF,EAEA,wCAAM2qB,CAAmCO,GACvC,IAAInuB,EAAW,IAAIuP,EAAAA,gBAAgB3kB,OAAOoV,UAEtCyC,EAAc,CAChB,SAAW,EACX,KAAQ,mEACR,SAAY,CACV,SAAY,CAAC,CACX,UAAa,CACX,MAAS,CACP,KAAQ,2IACR,cAAiB,6CACjB,iBAAoB,8CAEtB,SAAY,qDAEd,KAAQ,yBAEV,gBAAmB,OACnB,eAAkB,mBAClB,WAAc5jC,KAAKC,MAAQ,IAC3B,UAAa,KACb,UAAaD,KAAKC,OAEpB,aAAgB,0aAIlB,GAFA1E,KAAK8wD,MAAM,4BAA6BzoB,GAEpC0rB,EAAY,CACd,IAAIlrB,QAAWjD,EAAS6P,gBAAgBpN,EAAY,gBACpDroC,KAAK8wD,MAAM,4BAA6BjoB,EAAI,0BAC9C,KAAO,CACL,IAAIA,QAAWjD,EAASyQ,uBAAuBhO,EAAY,gBAC3DroC,KAAK8wD,MAAM,4BAA6BjoB,EAAI,0BAC9C,CAEF,IC/IJ,MAAM,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAAS,GAAQ,CAAC,YAAY,qBAEzF,Q,qBR+8BA,MAAM,iBAAE2rB,GAAqB10D,EAAQ,QAC/B,WAAE20D,GAAe30D,EAAQ,OAK/B,IAAI40D,KAEJ,MAAMC,EAAY,CAChB,EAAG,CAAExjD,KAAM,MAAO85C,SAAS,GAC3B,GAAI,CAAE95C,KAAM,MAAO85C,SAAS,GAC5B,IAAK,CAAE95C,KAAM,UAAW85C,SAAS,GACjC,IAAK,CAAE95C,KAAM,OAAQ85C,SAAS,GAC9B,WAAW,CAAC95C,KAAM,MAAM85C,SAAS,GACjC,cAAe,CAAE95C,KAAM,MAAO85C,SAAS,GACvC,cAAe,CAAE95C,KAAM,MAAO85C,SAAS,GACvC,gBAAiB,CAAE95C,KAAM,QAAS85C,SAAS,GAC3C,0CAA2C,CACzC95C,KAAM,SACN85C,SAAS,GAEX,0CAA2C,CACzC95C,KAAM,cACN85C,SAAS,GAEX,eAAgB,CACd95C,KAAM,gBACN85C,SAAS,GAEX,mBAAoB,CAAE95C,KAAM,WAAY85C,SAAS,GACjD,kBAAmB,CAAE95C,KAAM,UAAW85C,SAAS,GAC/C,mBAAoB,CAAC95C,KAAM,QAAS85C,SAAS,GAC7C,qBAAsB,CAAC95C,KAAM,SAAU85C,SAAS,GAChD,mBAAoB,CAAC95C,KAAM,MAAO85C,SAAS,GAC3C,iBAAkB,CAAC95C,KAAM,iBAAkB85C,SAAS,GACpD,eAAgB,CAAC95C,KAAM,OAAQ85C,SAAS,GACxC,OAAQ,CAAE95C,KAAM,kBAAmB85C,SAAS,IAGxC2J,EAAgC,CACpC,OAGF,IAAIC,EAAe,IAAIr9C,IAAI,IACvBs9C,GAAiB,CAAC,SAAU,UAAW,SACvCC,GAAyB,OACzBC,GAAmB,eACnBC,GAAmB,QACnBC,GAAgB3K,EAAAA,MAAMC,MAG1B,IACEr5C,KAAM,MACNk1C,WAAY,CACV8O,qBAAoB,EACpBC,UAAS,KACTC,SAAQ,EACRC,aAAY,EACZC,SAAQA,GAGVjxD,KAAMA,KACG,CACLkoD,UAAW,WACXgJ,UAAW,GACXC,cAAe,GACfC,iBAAkB,GAClB7K,cAAc,GACd8K,gBAAiB,IACjBC,QAAS,GACTC,cAAc,EACdnK,iBAAkB,UAClBE,kBAAmB,iBACnBJ,eAAgB,YAChBO,oBAAqB,aACrB+J,YAAa,GACbC,YAAa,GACbnG,gBAAiB,GACjBoG,cAAe,WACfjG,mBAAoB,OACpBjE,cAAe,GACfgE,QAAS,GACTmG,mBAAoB,GACpBhK,WAAW,EACXiK,eAAe,EACf7J,QAAS,+BACTzjD,cAAe,GACfsiD,eAAe,EACfF,gBAAiB2J,EACjBxJ,kBAAoB9a,GACXwkB,EAAasB,IAAI9lB,GAE1BoY,OAA+C,SAAvC/jC,aAAatV,QAAQ,eAC7By5C,cAAwD,SAAzCnkC,aAAatV,QAAQ,iBACpC45C,OAAQ8L,GACRpL,iBAAkB,CAAC,OAAQ,OAAQ,YACnCJ,eAAgByL,GAChBjL,SAAUkL,GACV7K,QAAS,CACP,QACA,QACA,QACA,KACA,QACA,QACA,QACA,QACA,SACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,SAEFO,eAAe,GACf0L,mBAAmB,GACnBxL,eAAe,CACb,+BACA,qBACA,kCACA,+BACA,uCACA,uBACA,mCACA,kCACA,0BACA,mBACA,qBACA,sBAGF5yB,SAAUi9B,GACV5K,MAAO6K,GACP3K,MAAOA,EAAAA,MACPxsC,SAAUg3C,GACVtF,iBAAkBuF,GAClBpM,aAAeyN,IACb3xC,aAAaxL,QAAQ,cAAe,GAAGm9C,KACvC5lC,SAAS6lC,QAAQ,EAEnBxN,oBAAsBuN,IACpB3xC,aAAaxL,QAAQ,gBAAiB,GAAGm9C,IAAY,EAEvDjL,mBAAqB/a,IACfwkB,EAAasB,IAAI9lB,GACnBwkB,EAAav5C,OAAO+0B,GAEpBwkB,EAAap9C,IAAI44B,EACnB,IAINkmB,SAAU,CACRnQ,iBAAkB,WAChB,OAAOpmD,KAAK8rD,aACd,GAEF9nC,QAAS,CACPqyC,SAAAA,CAAUhmB,GACR,OAAOrwC,KAAKw2D,eAAeL,IAAI9lB,EACjC,EAEAomB,UAAAA,CAAWC,GACT,GAAIA,EAAUrvD,OAAS,EAAG,CACxB,MAAMsvD,EAAgBz3D,OAAO+b,OAAO,CAAC,EAAGjb,KAAKgrD,iBAC7C,IAAK,MAAM3a,KAAWqmB,EAChBC,EAActmB,KAChBsmB,EAActmB,GAAS4a,SAAW0L,EAActmB,GAAS4a,SAG7DjrD,KAAKgrD,gBAAkB2L,CACzB,CAEA32D,KAAKkrD,eAAgB,CACvB,EAEA,oBAAMwB,CAAekK,GACnB,MAAMC,EAAUD,EAAIjG,MAAQiG,EAAIjG,MAAMx/C,KAAOylD,EAAIzlD,KACjDnR,KAAKg2D,cAAgBa,EACrBviC,QAAQxxB,IAAI,UAAW+zD,GAElBrmC,OAAOoV,UACVtR,QAAQpjB,MAAM,aAGhBsf,OAAOoV,SAASgU,gBAAgB55C,KAAKg2D,cACvC,EAEA,oBAAMzK,GACJ,IAAIuL,EASFA,EARG92D,KAAKyoD,OAQGsO,EAAAA,sBAAsBzlD,KAAK,CACpCkmC,aAAc,CACZyE,KAAM,kEACN9qC,KAAM,6BAER6lD,qBAAsB,CACpB1N,eAAgByL,GAChB/L,OAAQ,OAEVhxB,SAAUi9B,GACVgC,cAAe,CACb5M,MAAO6K,MAlBA5e,EAAAA,qBAAqBhlC,KAAK,CACnCkmC,aAAc,CACZrmC,KAAM,mBACN8qC,KAAM,sDAoBZ6a,EAASz0D,MAAMujC,IAmBb,GAlBApV,OAAOoV,SAAWA,EAClBpV,OAAOsqB,YAAc,IAAIjG,EAAAA,eAAerkB,OAAOoV,UAC/CpV,OAAOsqB,YAAYjT,gBAAgBqvB,IAC7B5iC,QAAQxxB,IAAI,gCAAiCiY,KAAKC,UAAUk8C,GAAY,IACtE/uD,IACFmsB,QAAQxxB,IAAI,sCAAuCqF,EAAI,IAIzDqoB,OAAOoV,oBAAoBmxB,EAAAA,uBAC7BvmC,OAAOoV,SAASuxB,oBAAoB7zD,IAClCgxB,QAAQxxB,IAAI,wBAAwBiY,KAAKC,UAAU1X,KAAS,IAIhEgxB,QAAQxxB,IAAI,iBAAkB8iC,GAC9BtR,QAAQxxB,IAAI,yBAA0BiY,KAAKC,UAAU4qB,EAAS1oB,UAE1D0oB,EAAS1oB,SAASI,WAAY,CAChC,MAAMo5C,EAAY,GAClBpiC,QAAQxxB,IAAI,aAAc8iC,EAAS1oB,QAAQI,YAC3Cpe,OAAOwW,QAAQkwB,EAAS1oB,QAAQI,YAAYtN,SAAQ,EAAE+D,EAAK1U,MAC7C,WAAR0U,EACF1U,EAAM6kB,OAAOlU,SAASqU,IACpBqyC,EAAUngD,KAAKooB,SAASta,EAAMyV,UAAU,IAAI,IAI9Cz6B,EAAM6kB,OAAOlU,SAASqU,IACpBqyC,EAAUngD,KAAK8N,EAAM,GAEzB,IAGFiQ,QAAQxxB,IAAI,mBAAoB4zD,GAChC12D,KAAKy2D,WAAWC,EAClB,MACE12D,KAAKy2D,WAAW,IAGlB7wB,EAAS7+B,GAAG,eAAgBqwD,KACrB14C,EAAAA,EAAAA,iBACC1e,KAAKq3D,UACHD,GAAQp3D,KAAKyoD,QAAWzoD,KAAK6oD,gBAC/B7oD,KAAKqsD,QAAU+K,EACfp3D,KAAKisD,WAAY,IAIvB33B,QAAQxxB,IAAI,yBAA0Bs0D,EAAI,IAG5CxxB,EAAS7+B,GAAG,wBAAyBogC,IACnC7S,QAAQxxB,IAAI,kCAAmCiY,KAAKC,UAAUmsB,IAC9DnnC,KAAK4zD,cAAczsB,EAAM,IAG3BvB,EAAS7+B,GAAG,qBAAsBqwD,KAC5B14C,EAAAA,EAAAA,iBACE1e,KAAKq3D,UACHD,GAAQp3D,KAAKyoD,QAAWzoD,KAAK6oD,gBAC/B7oD,KAAKqsD,QAAU+K,EACfp3D,KAAKisD,WAAY,IAIvB33B,QAAQxxB,IAAI,+BAAgCs0D,EAAI,IAIlDxxB,EAAS7+B,GAAG,sBAAsB,MAC5B2X,EAAAA,EAAAA,iBACFqyC,MAAM,sBAERz8B,QAAQxxB,IAAI,gCAAgC,IAG9C8iC,EAAS7+B,GAAG,WAAYmW,IACtBoX,QAAQxxB,IAAI,2BAA4Boa,EAAQ,IAElD0oB,EAAS7+B,GAAG,aAAcmW,IACxBoX,QAAQxxB,IAAI,6BAA8Boa,GAC1Cld,KAAK8rD,cAAgB,WAAW,IAElClmB,EAAS7+B,GAAG,cAAc,EAAGgH,YAC3BumB,QAAQxxB,IAAI,wBAAwBiL,KACpC/N,KAAK8rD,cAAgB,kBAAkB,IAEzClmB,EAAS7+B,GAAG,kBAAkB,EAAGgH,YAC/BumB,QAAQxxB,IAAI,4BAA4BiL,IAAQ,IAElD63B,EAAS7+B,GAAG,kBAAmBmW,IAC7BoX,QAAQxxB,IAAI,2BAA4BiY,KAAKC,UAAUkC,GAAS,GAChE,GAEN,EAEA,uBAAMuuC,GACJn3B,QAAQxxB,IAAI,wCAAwC2B,KAAKC,SACrD8rB,OAAOoV,SACT5lC,KAAKs3D,aAELhjC,QAAQxxB,IAAI,6CAEhB,EAEA,yBAAM6oD,GAEJ,GADAr3B,QAAQxxB,IAAI,wCAAwC2B,KAAKC,SACrD8rB,OAAOoV,UACT,GAAIpV,OAAOoV,oBAAoB0Q,EAAAA,qBAC7B,GAAI9lB,OAAOoV,SAASU,YAClB,IACE,IAAI98B,QAAgBgnB,OAAOoV,SAAS6T,mBAElCz5C,KAAK8vD,QADe,iBAAXtmD,EACMA,EAEAuR,KAAKC,UAAUxR,EAElC,CAAC,MAAOtH,GACNlC,KAAK8vD,QAAU/0C,KAAKC,UAAU9Y,EAChC,MAEAlC,KAAK8vD,QAAU,qBAKnBx7B,QAAQxxB,IAAI,0CAEhB,EAEA,sBAAM+oD,GACJ,IACEv3B,QAAQxxB,IAAI,qCAEZ,IAAI8iC,EAAWpV,OAAOoV,eAChBA,EAASl9B,aACf1I,KAAK8rD,cAAgB,cACvB,CAAE,MAAO56C,GACPojB,QAAQxxB,IAAI,0BAA2BoO,EAAM1H,SAC7CxJ,KAAK4I,cAAgBsI,EAAM1H,OAC7B,CACF,EAEA,yBAAMojD,GACJ,IAAItoD,EAAO,CAAEsN,OAAQ,uBACrB5R,KAAK4vD,gBAAkB70C,KAAKC,UAAU1W,EACxC,EACA,iBAAMuoD,GACJ,IAAIvoD,EAAO,CAAEsN,OAAQ,eACrB5R,KAAK4vD,gBAAkB70C,KAAKC,UAAU1W,EACxC,EACA,gCAAMwoD,GACJ,IAAIxoD,EAAO,CAAEsN,OAAQ,8BACrB5R,KAAK4vD,gBAAkB70C,KAAKC,UAAU1W,EACxC,EAEA,6BAAMyoD,GACJ,IAAIzoD,EAAO,CACTsN,OAAQ,0BACRtI,OAAQ,CACNiuD,kBAAmB,CAAC,4BACpBlnB,QAAS,OACTmnB,UAAW,OACXC,eAAgB,CAAEtmD,KAAM,OAAQumD,OAAQ,OAAQC,SAAU,IAC1DvS,QAAS,CAAC,yBAIdplD,KAAK4vD,gBAAkB70C,KAAKC,UAAU1W,EACxC,EACA,mBAAM0oD,GACJ,GAA2B,aAAvBhtD,KAAKg2D,cAA8B,CASrC,IAAInyC,QAAiB2M,OAAOoV,SAAShrB,QACnC,CAAEhJ,OAAQ,uBACV,YAEE6R,EAAUI,EAAS,GACvByQ,QAAQxxB,IAAI,UAAW2gB,EAAS1I,KAAKC,UAAU6I,IAE/C,IAAI+zC,EAAU,CACZhmD,OAAQ,gBACRtI,OAAQ,CACN,qFACAma,IAIJzjB,KAAK4vD,gBAAkB70C,KAAKC,UAAU48C,EACxC,MAAO,GACkB,eAAvB53D,KAAKg2D,eACkB,eAAvBh2D,KAAKg2D,cACL,CAUA,IAAI6B,EAAc,CAChBjmD,OAAQ,gBACRtI,OAAQ,CACNE,QACE,uFAGNxJ,KAAK4vD,gBAAkB70C,KAAKC,UAAU68C,EACxC,MAAO,GAA2B,cAAvB73D,KAAKg2D,cAA+B,CAC7C,IAAI1xD,EAAO,CACTsN,OAAQ,gBACRtI,OAAQ,CACNE,QACE,uFAINxJ,KAAK4vD,gBAAkB70C,KAAKC,UAAU1W,EACxC,CACF,EAEA,8BAAM2qD,GACJ,IAAI3qD,EAAO,CACTsN,OAAQ,sBACRy+B,QAAS,aACT/mC,OAAQ,CACNjK,MAAO,kBACPk0C,IAAK,UACLvC,GAAI,6CACJrnB,KAAM,6CACNrlB,KAAM,+sBAGVtE,KAAK4vD,gBAAkB70C,KAAKC,UAAU1W,EACxC,EAEA,0BAAM2oD,GAiBJ,IAAIppC,QAAiB2M,OAAOoV,SAAShrB,QACnC,CAAEhJ,OAAQ,uBACV,UAEE6R,EAAUI,EAAS,GACvByQ,QAAQxxB,IAAI,UAAW2gB,EAAS1I,KAAKC,UAAU6I,IAE/C,IAAIvf,EAAO,CACTsN,OAAQ,uBACRtI,OAAQ,CACNma,EACA,CACEq0C,MAAO,CACLC,aAAc,CACZ,CACE5mD,KAAM,OACN6d,KAAM,UAER,CACE7d,KAAM,UACN6d,KAAM,UAER,CACE7d,KAAM,UACN6d,KAAM,WAER,CACE7d,KAAM,oBACN6d,KAAM,YAGVgpC,OAAQ,CACN,CACE7mD,KAAM,OACN6d,KAAM,UAER,CACE7d,KAAM,SACN6d,KAAM,YAGVipC,KAAM,CACJ,CACE9mD,KAAM,OACN6d,KAAM,UAER,CACE7d,KAAM,KACN6d,KAAM,UAER,CACE7d,KAAM,WACN6d,KAAM,YAIZkpC,YAAa,OACbC,OAAQ,CACNhnD,KAAM,aACN6lB,QAAS,IACTqZ,QAAS,EACT+nB,kBAAmB,8CAErB5uD,QAAS,CACPmgB,KAAM,CACJxY,KAAM,MACNqM,OAAQ,8CAEVwzB,GAAI,CACF7/B,KAAM,MACNqM,OAAQ,8CAEV66C,SAAU,kBAMlBr4D,KAAK4vD,gBAAkB70C,KAAKC,UAAU1W,EACxC,EACA,kCAAM4oD,GACJ,IAAI5oD,EAAO,CAAC,EACe,aAAvBtE,KAAKg2D,cACP1xD,EAAO,CACLsN,OAAQ,sBACRtI,OAAQ,CACNqgB,KAAM,6CACN0mB,QAAS,MACTW,GAAI,6CACJ3xC,MAAO,iBACPi5D,qBAAsB,aACtB/kB,IAAK,SACLglB,aAAc,gBAGc,eAAvBv4D,KAAKg2D,cACd1xD,EAAO,CACLsN,OAAQ,sBACRtI,OAAQ,CACNkvD,SAAU,eACVltC,MAAO,SACPhnB,KAAM,KACNjF,MAAO,OACP2xC,GAAI,6CACJynB,SAAU,SACV9uC,KAAM,+CAGsB,cAAvB3pB,KAAKg2D,cACd1xD,EAAO,CACLsN,OAAQ,sBACRtI,OAAQ,CACNiqC,IAAK,SACLl0C,MAAO,iBACPsqB,KAAM,6CACN6uC,SAAU,aACVxnB,GAAI,6CACJX,QAAS,SAGiB,eAAvBrwC,KAAKg2D,gBACX1xD,EAAS,CACRsN,OAAQ,sBACRtI,OAAQ,CACNqgB,KAAM,6CACNqnB,GAAI,6CACJ3xC,MAAO,MACPgxC,QAAS,UAKf,IAAIxsB,QAAiB2M,OAAOoV,SAAShrB,QACnC,CAAEhJ,OAAQ,uBACV,UAEE6R,EAAUI,EAAS,GACvByQ,QAAQxxB,IAAI,eAAgB2gB,GAC5Bnf,EAAKgF,OAAO,MAAQma,EACpBnf,EAAKgF,OAAO,QAAUma,EACtBzjB,KAAK4vD,gBAAkB70C,KAAKC,UAAU1W,EACxC,EAEA,iCAAM6oD,GACJ,IAAI7oD,EAAO,CAAC,EAEe,aAAvBtE,KAAKg2D,cACP1xD,EAAO,CACLsN,OAAQ,sBACRtI,OAAQ,CACNqgB,KAAM,6CACNrlB,KAAM,6IACN0sC,GAAI,+CAGwB,eAAvBhxC,KAAKg2D,cACd1xD,EAAO,CACLsN,OAAQ,sBACRtI,OAAQ,CACNqgB,KAAM,6CACNrlB,KAAM,6IACN0sC,GAAI,+CAGwB,cAAvBhxC,KAAKg2D,cACd1xD,EAAO,CACLsN,OAAQ,sBACRtI,OAAQ,CACNqgB,KAAM,6CACNtqB,MAAO,MACPk0C,IAAK,SACLilB,SAAU,aACVl0D,KAAM,6IACN0sC,GAAI,+CAGuB,eAAvBhxC,KAAKg2D,gBACb1xD,EAAO,CACLsN,OAAQ,sBACRtI,OAAQ,CACNqgB,KAAM,6CACNrlB,KAAM,6IACN0sC,GAAI,gDAKV,IAAIntB,QAAiB2M,OAAOoV,SAAShrB,QACnC,CAAEhJ,OAAQ,uBACV,UAEE6R,EAAUI,EAAS,GACvByQ,QAAQxxB,IAAI,eAAgB2gB,GAC5Bnf,EAAKgF,OAAO,QAAUma,EACtBzjB,KAAK4vD,gBAAkB70C,KAAKC,UAAU1W,EACxC,EAEA,8BAAM8oD,GACJ,IAAI9oD,EAAO,CAAC,EACe,aAAvBtE,KAAKg2D,cACP1xD,EAAO,CACLsN,OAAQ,sBACRtI,OAAQ,CACNiqC,IAAK,UACLjvC,KAAM,60GACN0sC,GAAI,6CACJ3xC,MAAO,MACPsqB,KAAM,+CAGsB,eAAvB3pB,KAAKg2D,gBACd1xD,EAAO,CACLsN,OAAQ,sBACRtI,OAAQ,CACNiqC,IAAK,UACLjvC,KAAM,60GACN0sC,GAAI,6CACJ3xC,MAAO,MACPsqB,KAAM,gDAKZ,IAAItI,EAAMtG,KAAKC,UAAU1W,GACzBgwB,QAAQxxB,IAAI,iBAAeue,EAAIha,QAC/B,IAAIwc,QAAiB2M,OAAOoV,SAAShrB,QACnC,CAAEhJ,OAAQ,uBACV,UAEE6R,EAAUI,EAAS,GACvByQ,QAAQxxB,IAAI,eAAgB2gB,GAC5Bnf,EAAKgF,OAAO,QAAUma,EACtBzjB,KAAK4vD,gBAAkB70C,KAAKC,UAAU1W,EACxC,EAEA,oBAAM0qD,GACJ,IAAIppB,EAAWpV,OAAOoV,SACtBA,EAASgU,gBACP,YACA,yEAEF,IAAIt1C,EAAO,CACTsN,OAAQ,iBACRtI,OAAQ,CAAC,6CAA8C,WAEzDtJ,KAAK4vD,gBAAkB70C,KAAKC,UAAU1W,EACxC,EACA,uBAAM+oD,GACJ,IAAI/oD,EAAO,CAAC,EACe,aAAvBtE,KAAKg2D,cACP1xD,EAAO,CACLsN,OAAQ,oBACRtI,OAAQ,CACN0lB,KAAM,QACNoD,QAAS,CACP3O,QAAS,6CACTi0C,OAAQ,UACRgB,MACE,0FACFf,SAAU,KAIgB,eAAvB33D,KAAKg2D,cACd1xD,EAAO,CACLsN,OAAQ,oBACRtI,OAAQ,CACN0lB,KAAM,QACNoD,QAAS,CACP3O,QAAS,6CACTi0C,OAAQ,OACRgB,MAAO,yDACPf,SAAU,KAIgB,cAAvB33D,KAAKg2D,gBACd1xD,EAAO,CACLsN,OAAQ,oBACRtI,OAAQ,CACN0lB,KAAM,QACNoD,QAAS,CACP3O,QAAS,6CACTi0C,OAAQ,MACRgB,MAAO,gDACPf,SAAU,OAMlB33D,KAAK4vD,gBAAkB70C,KAAKC,UAAU1W,EACxC,EAEA,yBAAMipD,GACJ,IAAIjpD,EAAQ,CACV,SAAW,CAAC,CAAC,QAAU,mDAAmD,OAAS,YAAY,QAAU,6MACzG,WAAa,WACb,QAAU,QACZtE,KAAK4vD,gBAAkB70C,KAAKC,UAAU1W,EACxC,EACAgpD,cAAAA,GACEttD,KAAK4vD,gBAAkB,0BACvB,IAAI1uD,EAAWsvB,OAAOsqB,YAAYvU,UAEhCvmC,KAAK8vD,QADH5uD,EACa6Z,KAAKC,UAAU9Z,GAEf,MAEnB,EAEA,qBAAMy3D,GACJrkC,QAAQxxB,IAAI,kCAAkC0tB,OAAOsqB,YAAYxU,aACjEhS,QAAQxxB,IAAI,gCAAgCiY,KAAKC,UAAUwV,OAAOsqB,YAAYvU,YAC9EjS,QAAQxxB,IAAI,+BAA+BiY,KAAKC,UAAUwV,OAAOsqB,YAAYt9B,UAC/E,EAEA,0BAAMo7C,GAEJ,MAAMv9C,QAAiBw9C,MAAM,4GACvBv0D,QAAa+W,EAASme,OAC5BlF,QAAQxxB,IAAI,WAAWiY,KAAKC,UAAU1W,UAChCtE,KAAKgtD,gBACP8L,QAAQ,kCACV94D,KAAKooC,iBAIT,EAEA,qBAAMA,GACJ,KAAIpoC,KAAKg2D,cAAc1jD,WAAW,UAC3BtS,KAAKg2D,cAAc1jD,WAAW,aAC9BtS,KAAKg2D,cAAc1jD,WAAW,WAC9BtS,KAAKg2D,cAAc1jD,WAAW,UAC9BtS,KAAKg2D,cAAc1jD,WAAW,WASrC,GANAgiB,QAAQxxB,IAAI,kBAAmB0tB,OAAOoV,UACtCtR,QAAQxxB,IAAI,4BAA6B9C,KAAK4vD,iBACzCp/B,OAAOoV,UACVtR,QAAQpjB,MAAM,aAGZlR,KAAK4vD,iBAAmBp/B,OAAOoV,SAAU,CAE3C,MAAMmzB,EAAWh+C,KAAK6e,MAAM55B,KAAK4vD,iBACjC,IACEt7B,QAAQxxB,IAAI,iCAAkCi2D,EAASnnD,QAEvD,IAAIy+B,EAAU,WASd,GARIrwC,KAAKg2D,gBACP3lB,EAAUrwC,KAAKg2D,cACf1hC,QAAQxxB,IACN,2CACA9C,KAAKg2D,gBAGT1hC,QAAQxxB,IAAI,wBAAyB2B,KAAKC,OAC3B,eAAX2rC,EAA0B,CAC5B,MAAM2oB,EAAU,IAAIC,EAAAA,EAAWzoC,OAAOoV,UACtC,IAAIszB,EAAY,iBAChB,GAA6B,kBAAzBl5D,KAAKmzD,iBAAsC,CAC7C,IAAIjyD,EAAS83D,EAAQxoB,aAEnBxwC,KAAK8vD,QADc,iBAAV5uD,EACMA,EAEA6Z,KAAKC,UAAU9Z,EAElC,CACA,GAA6B,uBAAzBlB,KAAKmzD,iBACP+F,QAAkBF,EAAQvjB,gBACxBz1C,KAAKkzD,uBAEPlzD,KAAK8vD,QAAU/0C,KAAKC,UAAUk+C,QACzB,GAA6B,iCAAzBl5D,KAAKmzD,iBACd+F,QAAkBF,EAAQG,0BACxBn5D,KAAKkzD,uBAEPlzD,KAAK8vD,QAAU/0C,KAAKC,UAAUk+C,QACzB,GAA6B,mBAAzBl5D,KAAKmzD,iBACd7+B,QAAQxxB,IAAI,kBAAmB9C,KAAKkzD,uBACpCgG,QAAkBF,EAAQvoB,YAAYzwC,KAAKkzD,uBAC3ClzD,KAAK8vD,QAAU/0C,KAAKC,UAAUk+C,GAE9Bl5D,KAAKo5D,oBAAoBF,GAAW72D,MAAKsuC,IACvC3wC,KAAK8vD,QAAU,qBAAqBnf,EAAIzvC,WAAWyvC,EAAItrC,UAAUrF,KAAK8vD,SAAQ,SAE3E,GAA6B,2BAAzB9vD,KAAKmzD,iBACd7+B,QAAQxxB,IACN,0BACA9C,KAAKkzD,uBAEPgG,QAAkBF,EAAQK,oBACxBr5D,KAAKkzD,uBAEPlzD,KAAK8vD,QAAU/0C,KAAKC,UAAUk+C,GAE9Bl5D,KAAKo5D,oBAAoBF,GAAW72D,MAAKsuC,IACvC3wC,KAAK8vD,QAAU,qBAAqBnf,EAAIzvC,WAAWyvC,EAAItrC,UAAUrF,KAAK8vD,SAAQ,SAE3E,GAA6B,eAAzB9vD,KAAKmzD,iBAAmC,CACjD7+B,QAAQxxB,IAAI,eAAgB9C,KAAKkzD,uBACjC5+B,QAAQxxB,IACN,yBAAsBiY,KAAKC,UAAU+9C,MAEvC,MAAMlhC,QAAYrH,OAAOoV,SAAShrB,QAAQm+C,EAAU1oB,GACpD/b,QAAQxxB,IAAI,yBAAsBiY,KAAKC,UAAU9Z,MAE/ClB,KAAK8vD,QADW,iBAAPj4B,EACMA,EAEA9c,KAAKC,UAAU6c,EAElC,CAEA,YADAvD,QAAQxxB,IAAI,wBAAyB2B,KAAKC,MAE5C,CAAM,GAAe,aAAZ2rC,EAAuB,CAC9B/b,QAAQxxB,IACJ,wCAAqCiY,KAAKC,UAAU+9C,MAExD,IAAI73D,QAAgBsvB,OAAOsqB,YAAY1S,gBAAgB2wB,GASvD,OARAzkC,QAAQxxB,IACJ,qCAAkCiY,KAAKC,UAAU9Z,WAGnDlB,KAAK8vD,QADc,iBAAV5uD,EACMA,EAEA6Z,KAAKC,UAAU9Z,GAGlC,CAEA,GAAe,eAAXmvC,EAA0B,CAC5B,MAAMipB,EAAa,IAAIrpB,EAAAA,eAAezf,OAAOoV,UAC7C,IAAI2zB,EAAY,iBA8BhB,YA5B6B,mBAAzBv5D,KAAKw5D,kBACPD,QAAkBD,EAAW7oB,YAAYJ,EAASrwC,KAAKy5D,sBAAsB,YAC7Ez5D,KAAK8vD,QAAU/0C,KAAKC,UAAUu+C,IACI,YAAzBv5D,KAAKw5D,kBACdD,QAAkBD,EAAWpzD,KAAKmqC,EAASrwC,KAAKy5D,uBAChDz5D,KAAK8vD,QAAU/0C,KAAKC,UAAUu+C,IACI,gBAAzBv5D,KAAKw5D,kBACdD,QAAkBD,EAAWloB,SAASf,EAASrwC,KAAKy5D,sBAAsBpoB,QAASrxC,KAAKy5D,sBAAsBrnC,SAE9GpyB,KAAK05D,YAAYH,GAAWl3D,MAAKs3D,IAC/B35D,KAAK8vD,QAAU/0C,KAAKC,UAAU2+C,EAAQ,IACrCloD,OAAMP,IACPlR,KAAK8vD,QAAU5+C,CAAI,KAEa,iBAAzBlR,KAAKw5D,kBACdD,QAAkBD,EAAWhoB,UAAUjB,EAASrwC,KAAKy5D,sBAAsBjoB,SAAUxxC,KAAKy5D,sBAAsBrnC,SAChHpyB,KAAK8vD,QAAU/0C,KAAKC,UAAUu+C,IACI,uBAAzBv5D,KAAKw5D,kBACdD,QAAkBD,EAAW5nB,gBAAgBrB,EAASrwC,KAAKy5D,sBAAsBh2C,QAASzjB,KAAKy5D,sBAAsB9nB,cAAe3xC,KAAKy5D,sBAAsBrnC,SAC/JpyB,KAAK8vD,QAAU/0C,KAAKC,UAAUu+C,IACI,uBAAzBv5D,KAAKw5D,kBACdD,QAAkBD,EAAW7nB,gBAAgBpB,EAASrwC,KAAKy5D,sBAAsBpoB,QAASrxC,KAAKy5D,sBAAsBrnC,SACrHpyB,KAAK8vD,QAAU/0C,KAAKC,UAAUu+C,IACG,mBAAzBv5D,KAAKw5D,mBACbD,QAAkBD,EAAWzoB,YAAYR,EAASrwC,KAAKy5D,sBAAsB3oB,UAAW9wC,KAAKy5D,sBAAsB1oB,SAAU/wC,KAAKy5D,sBAAsBrnC,SAExJpyB,KAAK8vD,QAAU/0C,KAAKC,UAAUu+C,IAGlC,CAEA,GAAe,mBAAXlpB,EAA8B,CAChC,MAAMipB,EAAa,IAAIrpB,EAAAA,eAAezf,OAAOoV,UAC7C,IAAIg0B,EAAgB,iBA8BpB,YA5BiC,uBAA7B55D,KAAK65D,sBACPD,QAAsBN,EAAW7oB,YAAYJ,EAASrwC,KAAK85D,0BAA0B,YACrF95D,KAAK8vD,QAAU/0C,KAAKC,UAAU4+C,IACQ,gBAA7B55D,KAAK65D,sBACdD,QAAsBN,EAAWpzD,KAAKmqC,EAASrwC,KAAK85D,2BACpD95D,KAAK8vD,QAAU/0C,KAAKC,UAAU4+C,IACQ,oBAA7B55D,KAAK65D,sBACdD,QAAsBN,EAAWloB,SAASf,EAASrwC,KAAK85D,0BAA0BzoB,QAASrxC,KAAK85D,0BAA0B1nC,SAC1HpyB,KAAK05D,YAAYE,GAAev3D,MAAKs3D,IACnC35D,KAAK8vD,QAAU/0C,KAAKC,UAAU2+C,EAAQ,IACrCloD,OAAMP,IACPlR,KAAK8vD,QAAU5+C,CAAI,KAEiB,qBAA7BlR,KAAK65D,sBACdD,QAAsBN,EAAWhoB,UAAUjB,EAASrwC,KAAK85D,0BAA0BtoB,SAAUxxC,KAAK85D,0BAA0B1nC,SAC5HpyB,KAAK8vD,QAAU/0C,KAAKC,UAAU4+C,IACQ,2BAA7B55D,KAAK65D,sBACdD,QAAsBN,EAAW5nB,gBAAgBrB,EAASrwC,KAAK85D,0BAA0Br2C,QAASzjB,KAAK85D,0BAA0BnoB,cAAe3xC,KAAK85D,0BAA0B1nC,SAC/KpyB,KAAK8vD,QAAU/0C,KAAKC,UAAU4+C,IACQ,2BAA7B55D,KAAK65D,sBACdD,QAAsBN,EAAW7nB,gBAAgBpB,EAASrwC,KAAK85D,0BAA0BzoB,QAASrxC,KAAK85D,0BAA0B1nC,SACjIpyB,KAAK8vD,QAAU/0C,KAAKC,UAAU4+C,IACO,uBAA7B55D,KAAK65D,uBACbD,QAAsBN,EAAWzoB,YAAYR,EAASrwC,KAAK85D,0BAA0BhpB,UAAW9wC,KAAK85D,0BAA0B/oB,SAAU/wC,KAAK85D,0BAA0B1nC,SAExKpyB,KAAK8vD,QAAU/0C,KAAKC,UAAU4+C,IAIlC,CAEAtlC,QAAQxxB,IAAI,qCAAkCiY,KAAKC,UAAU+9C,MAC7D,IAAI73D,QAAesvB,OAAOoV,SAAShrB,QAAQm+C,EAAU1oB,GACrD/b,QAAQxxB,IAAI,qCAAkCiY,KAAKC,UAAU9Z,MAE7DozB,QAAQxxB,IAAI,wBAAyB2B,KAAKC,OAExC1E,KAAK8vD,QADc,iBAAV5uD,EACMA,EAEA6Z,KAAKC,UAAU9Z,GAEhCozB,QAAQxxB,IAAI,0BAA2B9C,KAAK8vD,QAC9C,CAAE,MAAO5+C,GACPojB,QAAQpjB,MAAM,qBAAsBA,EAAM1H,SAEtC0H,EAAMjM,OAASoD,EAAAA,wBAAwBkpB,mBACzCvxB,KAAK8vD,QAAU5+C,EAAM1H,QAErBxJ,KAAK8vD,QAAU,mBAAqB5+C,EAAM1H,OAE9C,CACF,MACEunD,MAAM,gCAEV,EAEA2I,WAAAA,CAAYK,GAEV,IADA,IAAIj4C,EAAQ,GACHnO,EAAI,EAAGA,EAAIomD,EAAO1yD,OAAQsM,GAAK,EACtCmO,EAAMvL,KAAKooB,SAASo7B,EAAOp8B,OAAOhqB,EAAG,GAAI,KAE3C,MAAM0gC,EAAS,IAAI/lB,WAAWxM,GACxBk4C,EAAO,IAAIC,KAAK,CAAC5lB,IACvB,OAAO,IAAIxyC,SAAQ,CAACD,EAASE,KAC3B,MAAMo4D,EAAS,IAAIC,WACnBD,EAAOE,OAAS,SAAUl4D,GACxB,IAAIm4D,EAAan4D,EAAE2gC,OAAO3hC,OAAO2gB,MAAM,KAAK,GAC5CjgB,EAAQy4D,EACV,EACAH,EAAOrzD,QAAU,SAAU3E,GACzBJ,EAAOI,EACT,EACAg4D,EAAOI,cAAcN,EAAK,GAE9B,EACA5K,iBAAAA,GACE,IAAImL,EAAW,CAAC,YAAc,EAAE,MAAQ,mEAAmE,SAAW,mEAAmE,UAAY,gBAAgB,SAAW,CAAC,IAAM,mBAAmB,OAAS,2BAA2B,KAAO,mBAAmB,KAAO,oDAAoD,SAAW,CAAC,CAAC,KAAO,kBAAkB,mBAAqB,CAAC,CAAC,UAAY,QAAQ,OAAS,CAAC,eAAe,mBAAqB,GAAG,sBAAwB,CAAC,CAAC,QAAU,YAAY,OAAS,oBAAoB,OAAS,CAAC,KAAO,CAAC,SAAU,EAAK,aAAc,EAAK,SAAU,EAAK,QAAU,YAAY,MAAQ,QAAQ,eAAiB,2BAA2B,OAAS,QAAQ,aAAe,SAAS,SAAW,QACvwB/gC,EAAOze,KAAKC,UAAUu/C,GAC1B,MAAMj+C,GAAY,IAAIC,aAAcC,OAAOgd,GAC3C,IAAI2B,EAAS,GACb7e,EAAUtM,SAAQgxB,IAChB7F,GAAUxe,OAAOC,aAAaokB,EAAK,IAGrC,IAAIw5B,EAAY99C,KAAKye,GACrB7G,QAAQxxB,IAAI,aAAa03D,GACzBA,EAAWA,EAAS1oD,QAAQ,MAAO,KACnCwiB,QAAQxxB,IAAI,aAAa03D,GACzBA,EAAWA,EAAS1oD,QAAQ,MAAO,KACnCwiB,QAAQxxB,IAAI,aAAa03D,GACzBA,EAAWA,EAAS1oD,QAAQ,MAAO,IACnCwiB,QAAQxxB,IAAI,aAAa03D,GAEzB,IAAIC,GAAWr9C,EAAAA,EAAAA,mBAAiBqW,EAAAA,EAAAA,sBAAqB+mC,IACrDlmC,QAAQxxB,IAAI,aAAa23D,GACzBz6D,KAAKqsD,QAAUoO,EACfz6D,KAAKisD,WAAY,CACnB,EAGA,gBAAMqL,GAGJ,IAQIoD,EAAWC,EAAWC,EAAQC,EAAQC,EAAUC,EAAQC,EARxDC,EAAmB,GACnBC,EAAiB,GAEjBC,EAAe,CACjB,0CACA,0CACA,gBAEqEC,GAAU,EAE7EC,EAAY,CACd,eAGEC,EAAY,CACd,cACA,mBAGF,MAAMp3C,EAAShlB,OAAOwW,QAAQ1V,KAAKgrD,iBAC9B5yC,QAAQiM,GAAUA,EAAM,GAAG4mC,UAC3Br0C,KAAKyN,GAAUA,EAAM,KAC1BiQ,QAAQxxB,IAAI,gBAAgBohB,EAAOkL,YACnClL,EAAOlU,SAAQ,SAAUqgC,GAGvB,OAFA/b,QAAQxxB,IAAI,gCAAgCutC,KAExC8qB,EAAa9iD,SAASg4B,IACxB4qB,EAAiB1kD,KAAK85B,QACtBsqB,GAAY,IAGQ,iBAAXtqB,GAAuBA,EAAQ/9B,WAAW,QACnD2oD,EAAiB1kD,KAAK85B,QACtB0qB,GAAS,IAGW,iBAAX1qB,IAAwBA,EAAQ/9B,WAAW,UAAY+9B,EAAQ/9B,WAAW,cACnF2oD,EAAiB1kD,KAAK85B,QACtByqB,GAAW,IAGS,iBAAXzqB,GAAuBA,EAAQ/9B,WAAW,QACnD2oD,EAAiB1kD,KAAK85B,QACtBsqB,GAAY,IAGQ,iBAAXtqB,GAAuBA,EAAQ/9B,WAAW,WACnD2oD,EAAiB1kD,KAAK85B,QACtB2qB,GAAY,IAGQ,iBAAX3qB,GAAuBA,EAAQ/9B,WAAW,SACnD2oD,EAAiB1kD,KAAK85B,QACtB+qB,GAAU,IAIRC,EAAUhjD,SAASg4B,IACrB/b,QAAQxxB,IAAI,+BAA+ButC,KAC3C4qB,EAAiB1kD,KAAK85B,QACtBuqB,GAAS,IAIPU,EAAUjjD,SAASg4B,IACrB/b,QAAQxxB,IAAI,+BAA+ButC,KAC3C4qB,EAAiB1kD,KAAK85B,QACtBwqB,GAAS,KAIXH,GAAY,OACZO,EAAiB1kD,KAAK,UAAU85B,KAClC,IAGAwkB,EAAa7kD,SAAQ,SAAUqgC,GAC7B,IAAI8qB,EAAa9iD,SAASg4B,GAI1B,MAAsB,iBAAXA,GAAuBA,EAAQ/9B,WAAW,QACnD2oD,EAAiB1kD,KAAK85B,QACtBsqB,GAAY,SAGVU,EAAUhjD,SAASg4B,IAKnBirB,EAAUjjD,SAASg4B,GAJrB6qB,EAAe3kD,KAAK85B,GAStB6qB,EAAe3kD,KAAK,UAAU85B,MAlB5B6qB,EAAe3kD,KAAK85B,EAmBxB,IAEA/b,QAAQxxB,IAAI,yBAAyBiY,KAAKC,UAAUigD,MACpD,IAqIIM,EArIAC,EAAc,CAAC,EACnB,GAAIP,GAAoBA,EAAiB5zD,OAAS,EAAG,CACnD,IAAIo0D,EAAc,CAAC,EAqDnB,GAnDIf,IACFe,EAAYpW,OAAS,CACnBnhC,OAAQ+2C,EAAiB7iD,QAAQhB,GAC/BA,EAAK9E,WAAW,YAElBumC,aAAcoiB,EAAiB7iD,QAAQhB,GACrCA,EAAK9E,WAAW,YAChB,KAGFqoD,IACFc,EAAYC,OAAS,CACnBx3C,OAAQ+2C,EAAiB7iD,QACtBhB,GACCA,EAAK9E,WAAW,WAChB8E,EAAK9E,WAAW,UAChB8E,EAAK9E,WAAW,SAEpBumC,aAAcoiB,EAAiB7iD,QAC5BhB,GACCA,EAAK9E,WAAW,WAChB8E,EAAK9E,WAAW,UAChB8E,EAAK9E,WAAW,SAClB,KAIF0oD,IACFS,EAAYE,OAAS,CACnBz3C,OAAQ+2C,EAAiB7iD,QACpBhB,GACGA,EAAK9E,WAAW,YAExBumC,aAAcoiB,EAAiB7iD,QAC1BhB,GACGA,EAAK9E,WAAW,YACtB,KAGF8oD,IACFK,EAAYG,KAAO,CACjB13C,OAAQ+2C,EAAiB7iD,QACpBhB,GACGA,EAAK9E,WAAW,UAExBumC,aAAcoiB,EAAiB7iD,QAC1BhB,GACGA,EAAK9E,WAAW,UACtB,KAGFyoD,EAAQ,CAGV,IAAIc,EAAY,CACdl4C,SAAS,CACPxS,KAAM,aAGNnR,KAAK6qD,gBACPgR,EAAY,CACVl4C,SAAS,CACPxS,KAAM,YAERyS,UAAU,CACRzS,KAAM,YACN/L,QAASpF,KAAK6qD,iBAMpB4Q,EAAYK,IAAM,CAChB53C,OAAQ+2C,EAAiB7iD,QAAOhB,GAAQA,EAAK9E,WAAW,SACxDumC,aAAcoiB,EAAiB7iD,QAAOhB,GAAQA,EAAK9E,WAAW,SAAQ,GACtEhJ,OAAOuyD,EAEX,CAoBA,GAlBIjB,IACFa,EAAYM,IAAM,CAChB73C,OAAQ+2C,EAAiB7iD,QAAQhB,GAASA,EAAK9E,WAAW,SAC1DumC,aAAcoiB,EAAiB7iD,QAAQhB,GACrCA,EAAK9E,WAAW,SAChB,GACF0vC,OAAQ,CACN,cAAe,mDAIjB8Y,IACFW,EAAYhjB,MAAQ,CAClBv0B,OAAQ+2C,EAAiB7iD,QAAOhB,GAAQA,EAAK9E,WAAW,UAAY8E,EAAK9E,WAAW,cACpFumC,aAAcoiB,EAAiB7iD,QAAOhB,GAAQA,EAAK9E,WAAW,UAAY8E,EAAK9E,WAAW,cAAa,KAIvGuoD,EAAQ,CACV,IAAIS,EAAYL,EAAiB7iD,QAAOhB,GAAQA,EAAK9E,WAAW,QAAU8E,EAAK9E,WAAW,aAC1FmpD,EAAYO,IAAM,CAChB93C,OAAQo3C,EACRziB,aAAcyiB,EAAU,GAE5B,CACAhnC,QAAQxxB,IAAI,qBAAqBiY,KAAKC,UAAUygD,MAChDD,EAAY,cAAgBC,EAC5BnnC,QAAQxxB,IAAIiY,KAAKC,UAAUwgD,GAC7B,CAEA,GAAIN,GAAkBA,EAAe7zD,OAAS,EAAG,CAC/C,IAAI40D,EAAU,CACZ5W,OAAQ,CACNnhC,OAAQg3C,EAAe9iD,QAAQhB,GAASA,EAAK9E,WAAW,YACxDumC,aAAcqiB,EAAe9iD,QAAQhB,GACnCA,EAAK9E,WAAW,YAChB,KAGNkpD,EAAY,sBAAwBS,CACtC,CAEA,GAAgC,IAA5BhB,EAAiB5zD,QAA0C,IAA1B6zD,EAAe7zD,OAGlD,YADA0pD,MAAM,gDAGRz8B,QAAQxxB,IAAI,sBACZwxB,QAAQxxB,IAAI04D,GAGZ,IAAIU,EAAcl8D,KAAKm8D,+BACnB3rC,OAAOoV,oBAAoBmxB,EAAAA,sBAE3BwE,EADEW,GAAeA,EAAY70D,OAAO,EACpBmpB,OAAOoV,SAASw2B,iBAAiBZ,EAAYU,GAE7C1rC,OAAOoV,SAASy2B,UAAUb,IAGxCx7D,KAAK6oD,cACP2S,EAAY9/C,cAAgB,CAC1B4C,SAAQ,EACRzC,kBAAiB,EACjB0C,aAAa,QAGfi9C,EAAY9/C,cAAgB,CAC1BqC,SAAUg3C,IAIZwG,EADEW,GAAeA,EAAY70D,OAAO,EACpBmpB,OAAOoV,SAASqT,eAAeuiB,EAAYU,GAE3C1rC,OAAOoV,SAASr9B,QAAQizD,UAItCD,EACHl5D,MAAMnB,IAUL,GARAlB,KAAK8rD,cAAgB,YACjB9rD,KAAKq3D,SACPr3D,KAAKisD,WAAY,GAEf/qD,IACFlB,KAAK8vD,QAAU/0C,KAAKC,UAAU9Z,IAG5BsvB,OAAOoV,SAAS1oB,SAAWsT,OAAOoV,SAAS1oB,QAAQI,WAAW,CAChE,IAAIw+C,EAAMtrC,OAAOoV,SAAS1oB,QAAQI,WAAW,OAC/CgX,QAAQxxB,IAAI,UAAUg5D,GAChBA,GACF97D,KAAK24D,iBAET,KAKDlnD,OAAOP,IACFA,EAAM1H,SACRunD,MAAM7/C,EAAM1H,SAGd8qB,QAAQpjB,MAAM,SAAUA,EAAM,GAEpC,EAEAirD,4BAAAA,GACE,IAAIG,EAAa,GAmJjB,OAlJAt8D,KAAK0qD,eAAe16C,SAAQ4B,IAC1B,OAAQA,GACN,IAAK,+BACH0qD,EAAW/lD,KAAK,CACd3E,OAAQ,0BACRy+B,QAAQ,WACR/mC,OAAQ,CACNiuD,kBAAmB,CAAC,4BACpBlnB,QAAS,OACTmnB,UAAW,OACXC,eAAgB,CAAEtmD,KAAM,OAAQumD,OAAQ,OAAQC,SAAU,IAC1DvS,QAAS,CAAC,0BAGd,MACF,IAAK,qBACHkX,EAAW/lD,KACT,CACE3E,OAAQ,gBACRy+B,QAAS,WACT/mC,OAAQ,CACN,wFAGN,MACF,IAAK,kCACHgzD,EAAW/lD,KACT,CACE,QAAW,0CACX,OAAU,qBACV,OAAU,CACR,QAAW,kBAIjB,MACF,IAAK,+BACL,IAAK,uCAAwC,CAC3C,IAAIgmD,EAAU,CACZ,GAAI,IAAK,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,IAClE,IAAK,IAAK,IAAK,KAEb56B,EAAa,IAAIrT,WAAWiuC,GAC5BC,EAAgB,kBACpBx8D,KAAKkzD,sBAAwB,CAC3B1pD,QAAQm4B,GAGP/vB,EAAOU,WAAW,6BACnBkqD,EAAgB,2BAElBF,EAAW/lD,KACP,CACE3E,OAAQ4qD,EACRnsB,QAAS,cACT/mC,OAAQ,CACNE,QAASm4B,KAIjB,KACF,CACA,IAAK,uBACH26B,EAAW/lD,KACT,CACE3E,OAAQ,kBACRy+B,QAAS,cACT/mC,OAAQ,CACNonC,QAAS,oBAIf,MACF,IAAK,mCACH4rB,EAAW/lD,KACT,CACE,QAAW,gBACX,OAAU,oBACV,OAAU,CACRkN,SAAS,EACT67B,aAAa,EACbjP,SAAS,EACT7mC,QAAS,cACT8hB,MAAO,UAIb,MACF,IAAK,kCACHgxC,EAAW/lD,KACP,CACE,QAAW,qBACX,OAAU,uBACV,OAAU,CACR/M,QAAS,iBAKjB,MACF,IAAK,0BACH8yD,EAAW/lD,KACP,CACE85B,QAAS,WACTz+B,OAAQ,qBACRtI,OAAQ,CACNE,QAAS,gBAIjB,MACF,IAAK,qBACH8yD,EAAW/lD,KACP,CACE3E,OAAQ,uBAEd,MACF,IAAK,mBACH0qD,EAAW/lD,KACP,CACE85B,QAAQ,eACRz+B,OAAQ,mBACRtI,OAAQ,CACNE,QAAS,gBAIjB,MACF,IAAK,qBACH8yD,EAAW/lD,KACP,CACE85B,QAAQ,eACRz+B,OAAQ,qBACRtI,OAAQ,CACNE,QAAS,gBAIjB,MAEF,QAEE,MACJ,IAEFxJ,KAAKo2D,mBAAqBkG,EACnBA,CAET,EAGApQ,UAAAA,GACElsD,KAAKisD,WAAY,CACnB,EAEAoL,IAAAA,GACE,MAAMoF,EAAgBxkC,UAAUE,UAChC7D,QAAQxxB,IAAI,4BAA6B25D,GAEzC,MAAMC,EAAS,CACb,UACA,SACA,YACA,gBACA,OACA,QAEF,IAAIC,GAAO,EACX,IAAK,IAAI57D,EAAI,EAAGA,EAAI27D,EAAOr1D,OAAQtG,IACjC,GAAI07D,EAAcn/B,QAAQo/B,EAAO37D,IAAM,EAAG,CACxC47D,GAAO,EACP,KACF,CAEF,OAAOA,CACT,EACAC,gBAAAA,GACE,MAAMH,EAAgBxkC,UAAUE,UAC1BukC,EAAS,CAAC,SAAU,UAC1B,IAAIC,GAAO,EACX,IAAK,IAAI57D,EAAI,EAAGA,EAAI27D,EAAOr1D,OAAQtG,IACjC,GAAI07D,EAAcn/B,QAAQo/B,EAAO37D,IAAM,EAAG,CACxC47D,GAAO,EACP,KACF,CAEF,OAAOA,CACT,EAGA,qBAAMnP,GAEJ,IAAIlpD,EAAO,CACTsN,OAAQ,qBACRtI,OAAQ,CACNE,QAAS,eACTqzD,OAAQ,KAGZ78D,KAAK4vD,gBAAkB70C,KAAKC,UAAU1W,GACtC,IAAIshC,EAAW,IAAIk3B,EAAAA,EAAkBtsC,OAAOoV,UAExCp8B,QAAgBo8B,EAAS6K,YACzB,eACAzwC,KAAKg2D,eAET1hC,QAAQxxB,IAAI,6BAA6BiY,KAAKC,UAAUxR,IACxD,MAAMuzD,EAAUC,IAAAA,KAAU/5C,SAASC,QAC/B,IAAI3G,aAAcC,OAAO,gBACzBhT,EAAQyY,UACR,IAAIg7C,EAAAA,UAAUzzD,EAAQ8D,WAAW4vD,WAErC5oC,QAAQxxB,IAAIi6D,GAGV/8D,KAAK8vD,QAAUiN,CAInB,EAEA,uBAAMrO,GAEJ,IAAIpqD,EAAO,CACTmf,SAAS,EACT67B,aAAa,EACbjP,SAAS,EACT7mC,QAAS,cACT8hB,MAAO,QAGLsa,EAAW,IAAIu3B,EAAAA,EAAiB3sC,OAAOoV,UACvCp8B,QAAgBo8B,EAAS6K,YAAYnsC,EAAMtE,KAAKg2D,eACpDh2D,KAAK4vD,gBAAkB70C,KAAKC,UAAU1W,GAEpCtE,KAAK8vD,QADe,iBAAXtmD,EACMA,EAEAuR,KAAKC,UAAUxR,EAElC,EAEA,2BAAMmlD,GACJ,IAAI/oB,EAAW,IAAIu3B,EAAAA,EAAiB3sC,OAAOoV,UAC3C,MAAMyF,EAAS,IAAI+xB,EAAAA,IAAY,CAAE15C,QAAS25C,EAAAA,IAAQroB,UAC5CyD,EAAQ,IAAI6kB,EAAAA,IAAMjyB,GAmBlBhD,QAAoBoQ,EAAMpQ,YAAY2qB,MAAMuK,OAAO,CACvDC,OAAQ53B,EAAS4K,WAAWxwC,KAAKg2D,eAAevyC,QAChDnf,KAAM,CAEJm5D,SAAU,0GAEVC,cAAe,CAAC,6BAA8B,6FAA8F,2FAA4F,4FACxOC,kBAAmB,CAAC,QAAS,CAAC,QAAS,CAAC,KAAM,CAAC,YAInD39D,KAAK4vD,iBAAkBvlD,EAAAA,EAAAA,mBAAkBg+B,GAEzC,IAAI7+B,QAAgBo8B,EAAS6P,gBAAgBpN,EAAaroC,KAAKg2D,eAE7Dh2D,KAAK8vD,QADe,iBAAXtmD,EACMA,EAEAuR,KAAKC,UAAUxR,EAElC,EAEA,0BAAM0lD,GACJ,IAAItpB,EAAW,IAAIu3B,EAAAA,EAAiB3sC,OAAOoV,UAC3C,MAAMyF,EAAS,IAAI+xB,EAAAA,IAAY,CAAE15C,QAAS25C,EAAAA,IAAQroB,UAC5CyD,EAAQ,IAAI6kB,EAAAA,IAAMjyB,GAmBlBhD,QAAoBoQ,EAAMpQ,YAAY2qB,MAAMuK,OAAO,CACvDC,OAAQ53B,EAAS4K,WAAWxwC,KAAKg2D,eAAevyC,QAChDnf,KAAM,CAEJm5D,SAAU,oFAEVC,cAAe,CAAC,6BAA8B,mFAAoF,4FAClIC,kBAAmB,CAAC,QAAS,SAIjC39D,KAAK4vD,iBAAkBvlD,EAAAA,EAAAA,mBAAkBg+B,GAEzC,IAAI7+B,QAAgBo8B,EAAS6P,gBAAgBpN,EAAaroC,KAAKg2D,eAE7Dh2D,KAAK8vD,QADe,iBAAXtmD,EACMA,EAEAuR,KAAKC,UAAUxR,EAElC,EAEA,mCAAM2lD,GACJ,IAAIvpB,EAAW,IAAIu3B,EAAAA,EAAiB3sC,OAAOoV,UAC3C,MAAMyF,EAAS,IAAI+xB,EAAAA,IAAY,CAAE15C,QAAS25C,EAAAA,IAAQroB,UAC5CyD,EAAQ,IAAI6kB,EAAAA,IAAMjyB,GAmBlBhD,QAAoBoQ,EAAMpQ,YAAY2qB,MAAMuK,OAAO,CACvDC,OAAQ53B,EAAS4K,WAAWxwC,KAAKg2D,eAAevyC,QAChDnf,KAAM,CAEJm5D,SAAU,oFAEVC,cAAe,CAAC,6BAA8B,mFAAoF,4FAClIC,kBAAmB,CAAC,QAAS,SAIjC39D,KAAK4vD,iBAAkBvlD,EAAAA,EAAAA,mBAAkBg+B,GAEzC,IAAI7+B,QAAgBo8B,EAASg4B,yBAAyBv1B,EAAaroC,KAAKg2D,eAEtEh2D,KAAK8vD,QADe,iBAAXtmD,EACMA,EAEAuR,KAAKC,UAAUxR,EAElC,EAEA,oCAAMolD,GACJ,IAAIhpB,EAAW,IAAIu3B,EAAAA,EAAiB3sC,OAAOoV,UAC3C,MAAMyF,EAAS,IAAI+xB,EAAAA,IAAY,CAAE15C,QAAS25C,EAAAA,IAAQroB,UAC5CyD,EAAQ,IAAI6kB,EAAAA,IAAMjyB,GAClBhD,QAAoBoQ,EAAMpQ,YAAY2qB,MAAMuK,OAAO,CACvDC,OAAQ53B,EAAS4K,WAAWxwC,KAAKg2D,eAAevyC,QAChDnf,KAAM,CAEJm5D,SAAU,0GAEVC,cAAe,CAAC,6BAA8B,6FAA8F,2FAA4F,4FACxOC,kBAAmB,CAAC,QAAS,CAAC,QAAS,CAAC,KAAM,CAAC,YAUnD39D,KAAK4vD,iBAAkBvlD,EAAAA,EAAAA,mBAAkBg+B,GAEzC,IAAI7+B,QAAgBo8B,EAASg4B,yBAAyBv1B,EAAaroC,KAAKg2D,eAEtEh2D,KAAK8vD,QADe,iBAAXtmD,EACMA,EAEAuR,KAAKC,UAAUxR,EAElC,EAEA,kCAAMkkD,GACJ,IAAI9nB,EAAW,IAAIk3B,EAAAA,EAAkBtsC,OAAOoV,UAExCi3B,EAAS,IAAII,EAAAA,UACfr3B,EAAS4K,WAAW,2CAA2C/sB,SAEjE,MAAM2mB,EAAa,IAAIyzB,EAAAA,WAAW79D,KAAK89D,kBACjC,UAAEC,SAAoB3zB,EAAW4zB,qBACjCC,EAA8B,IAAIC,EAAAA,mBAAmB,CACzDC,SAAUtB,EACTuB,gBAAiBL,EAClBM,aAAc,CACZC,EAAAA,cAAcC,SAAS,CACrBC,WAAY,IAAIvB,EAAAA,UAAUr3B,EAAS4K,aAAa/sB,SAChDg7C,SAAU,IAAIxB,EAAAA,UAAUr3B,EAAS4K,aAAa/sB,SAC9Ci7C,SAAU,WAGbC,qBAEH,IAAIt2B,EAAc,IAAIu2B,EAAAA,qBAAqBX,GAC3Cj+D,KAAK4vD,iBAAkBvlD,EAAAA,EAAAA,mBAAkBg+B,GAEzC,IAAInnC,QAAe0kC,EAAS6P,gBAC1BpN,EACAroC,KAAKg2D,eAEP1hC,QAAQxxB,IAAI,6BAA8BiY,KAAKC,UAAU9Z,IAEvDlB,KAAK8vD,QADc,iBAAV5uD,EACMA,EAEA6Z,KAAKC,UAAU9Z,EAElC,EAEA,yCAAM4sD,GACJ,IAAIloB,EAAW,IAAIk3B,EAAAA,EAAkBtsC,OAAOoV,UAExCi3B,EAAS,IAAII,EAAAA,UAAUr3B,EAAS4K,aAAa/sB,SACjD,MAAM2mB,EAAa,IAAIyzB,EAAAA,WAAW79D,KAAK89D,kBACjC,UAAEC,SAAoB3zB,EAAW4zB,qBACjCC,EAA8B,IAAIC,EAAAA,mBAAmB,CACzDC,SAAUtB,EACVuB,gBAAiBL,EACjBM,aAAc,CACZC,EAAAA,cAAcC,SAAS,CACrBC,WAAY,IAAIvB,EAAAA,UAAUr3B,EAAS4K,aAAa/sB,SAChDg7C,SAAU,IAAIxB,EAAAA,UAAUr3B,EAAS4K,aAAa/sB,SAC9Ci7C,SAAU,WAGbC,qBAEH,IAAIt2B,EAAc,IAAIu2B,EAAAA,qBAAqBX,GAC3Cj+D,KAAK4vD,iBAAkBvlD,EAAAA,EAAAA,mBAAkBg+B,GAEzC,IAAInnC,QAAe0kC,EAASyQ,uBAC1BhO,EACAroC,KAAKg2D,eAEP1hC,QAAQxxB,IAAI,6BAA8BiY,KAAKC,UAAU9Z,IAEvDlB,KAAK8vD,QADc,iBAAV5uD,EACMA,EAEA6Z,KAAKC,UAAU9Z,EAElC,EAEA,sCAAM0sD,GACJ,IAAIhoB,EAAW,IAAIk3B,EAAAA,EAAkBtsC,OAAOoV,UAC5C,MAAMwE,EAAa,IAAIyzB,EAAAA,WAAW79D,KAAK89D,kBACjC,UAAEC,SAAoB3zB,EAAW4zB,qBACvC,IAAInB,EAAS,IAAII,EAAAA,UAAUr3B,EAAS4K,aAAa/sB,SACjD,MAAMw6C,EAA8B,IAAIC,EAAAA,mBAAmB,CACzDC,SAAUtB,EACVuB,gBAAiBL,EACjBM,aAAc,CACZC,EAAAA,cAAcC,SAAS,CACrBC,WAAY,IAAIvB,EAAAA,UAAUr3B,EAAS4K,aAAa/sB,SAChDg7C,SAAU,IAAIxB,EAAAA,UAAUr3B,EAAS4K,aAAa/sB,SAC9Ci7C,SAAU,WAGbC,qBAEH,IAAIt2B,EAAc,IAAIu2B,EAAAA,qBAAqBX,GAC3Cj+D,KAAK4vD,iBAAkBvlD,EAAAA,EAAAA,mBAAkBg+B,GAEzC,IAAInnC,QAAe0kC,EAASi5B,oBAC1B,CAACx2B,GACDroC,KAAKg2D,eAEP1hC,QAAQxxB,IAAI,6BAA8BiY,KAAKC,UAAU9Z,IAEvDlB,KAAK8vD,QADc,iBAAV5uD,EACMA,EAEA6Z,KAAKC,UAAU9Z,EAElC,EAEA,yBAAMusD,GACJ,MAAMrjB,EAAa,IAAIyzB,EAAAA,WAAW79D,KAAK89D,kBACjC,UAAEC,SAAoB3zB,EAAW4zB,qBACvC,IAAIp4B,EAAW,IAAIk3B,EAAAA,EAAkBtsC,OAAOoV,UAC5C,MAAMyC,EAAc,IAAIy2B,EAAAA,YAAY,CAClCC,SAAU,IAAI9B,EAAAA,UAAUr3B,EAAS4K,aAAa/sB,SAC7C26C,gBAAiBL,IACjBtmD,IACD6mD,EAAAA,cAAcC,SAAS,CACrBC,WAAY,IAAIvB,EAAAA,UAAUr3B,EAAS4K,aAAa/sB,SAChDg7C,SAAU,IAAIxB,EAAAA,UAAUr3B,EAAS4K,aAAa/sB,SAC9Ci7C,SAAU,OAId1+D,KAAK4vD,iBAAkBvlD,EAAAA,EAAAA,mBAAkBg+B,GACzC,IAAInnC,QAAe0kC,EAAS6P,gBAC1BpN,EACAroC,KAAKg2D,eAEP1hC,QAAQxxB,IAAI,6BAA8BiY,KAAKC,UAAU9Z,IAEvDlB,KAAK8vD,QADc,iBAAV5uD,EACMA,EAEA6Z,KAAKC,UAAU9Z,EAElC,EAEA,6BAAMysD,GACJ,MAAMvjB,EAAa,IAAIyzB,EAAAA,WAAW79D,KAAK89D,kBACjC,UAAEC,SAAoB3zB,EAAW4zB,qBAEvC,IAAIp4B,EAAW,IAAIk3B,EAAAA,EAAkBtsC,OAAOoV,UAC5C,MAAMyC,EAAc,IAAIy2B,EAAAA,YAAY,CAClCC,SAAU,IAAI9B,EAAAA,UAAUr3B,EAAS4K,aAAa/sB,SAC9C26C,gBAAiBL,IAChBtmD,IACD6mD,EAAAA,cAAcC,SAAS,CACrBC,WAAY,IAAIvB,EAAAA,UAAUr3B,EAAS4K,aAAa/sB,SAChDg7C,SAAU,IAAIxB,EAAAA,UAAUr3B,EAAS4K,aAAa/sB,SAC9Ci7C,SAAU,SAGd1+D,KAAK4vD,iBAAkBvlD,EAAAA,EAAAA,mBAAkBg+B,GAEzC,IAAInnC,QAAe0kC,EAASi5B,oBAC1B,CAACx2B,GACDroC,KAAKg2D,eAGLh2D,KAAK8vD,QADc,iBAAV5uD,EACMA,EAEA6Z,KAAKC,UAAU9Z,EAElC,EAEA48D,aAAAA,GACE,IAAIra,EAAM,gDAQV,MAP2B,4CAAvBzjD,KAAKg2D,cACPvS,EAAM,iDAC0B,4CAAvBzjD,KAAKg2D,cACdvS,EAAM,uDAC0B,iBAAvBzjD,KAAKg2D,gBACdvS,EAAM,2DAEDA,CACT,EAEA,gCAAMoK,GAEJ,MAAMzjB,EAAa,IAAIyzB,EAAAA,WAAW79D,KAAK89D,kBACjC,UAAEC,SAAoB3zB,EAAW4zB,qBAEvC,IAAIp4B,EAAW,IAAIk3B,EAAAA,EAAkBtsC,OAAOoV,UAC5C,MAAMyC,EAAc,IAAIy2B,EAAAA,YAAY,CAClCC,SAAU,IAAI9B,EAAAA,UAAUr3B,EAAS4K,aAAa/sB,SAC9C26C,gBAAiBL,IAChBtmD,IACD6mD,EAAAA,cAAcC,SAAS,CACrBC,WAAY,IAAIvB,EAAAA,UAAUr3B,EAAS4K,aAAa/sB,SAChDg7C,SAAU,IAAIxB,EAAAA,UAAUr3B,EAAS4K,aAAa/sB,SAC9Ci7C,SAAU,SAGd1+D,KAAK4vD,iBAAkBvlD,EAAAA,EAAAA,mBAAkBg+B,GAEzC,IAAInnC,QAAe0kC,EAASyQ,uBAC1BhO,EACAroC,KAAKg2D,eAGLh2D,KAAK8vD,QADc,iBAAV5uD,EACMA,EAEA6Z,KAAKC,UAAU9Z,EAElC,EAEA,0BAAM2tD,GACJ,IAAIjpB,EAAW,IAAI+M,EAAAA,kBAAkBniB,OAAOoV,UACxCp8B,QAAgBo8B,EAASqN,cAAcjzC,KAAKg2D,cAAepwB,EAAS4K,WAAWxwC,KAAKg2D,eAAevyC,QAAS,eAChH,GAAsB,iBAAXja,EACTxJ,KAAK8vD,QAAUtmD,MACV,CACL,IAAIw1D,QAAiBh/D,KAAKi/D,2BAA2Br5B,EAAS4K,WAAWxwC,KAAKg2D,eAAevyC,QAAQ,cAAcja,EAAQyY,UAAWzY,EAAQ01D,QAAQ7/D,OACtJi1B,QAAQxxB,IAAI,SAASk8D,GACrBh/D,KAAK8vD,QAAU,UAAYkP,EAAUjkD,KAAKC,UAAUxR,EACtD,CACF,EAEA,gCAAMy1D,CAA2BE,EAAQ76D,EAAM2d,EAAW46C,GACxD,IACEvoC,QAAQxxB,IAAI,qCAAqCq8D,GACjD7qC,QAAQxxB,IAAI,mCAAmCiY,KAAKC,UAAU1W,IAC9DgwB,QAAQxxB,IAAI,wCAAwCmf,GACpDqS,QAAQxxB,IAAI,qCAAqC+5D,GAGjD,MAAOl7C,OAAQy9C,GAAa3K,EAAW0K,GAEjCE,EAAkBpM,EAAOtpC,KAAK1H,EAAW,UAEzCq9C,EAAiB,IAAIhxC,WAAW+wC,GAEhCE,EAAoBtM,EAAOtpC,KAAKkzC,EAAQ,UAExC2C,EAAmB,IAAIlxC,WAAWixC,GAGxC,aAAa/K,EACT4K,EACAD,EACA76D,EACAk7D,EACAF,EAEN,CAAE,MAAOn3D,GAEP,OADAmsB,QAAQpjB,MAAM,uBAAwB/I,IAC/B,CACT,CACF,EAEA,sBAAM2mD,GACJ,IAAIlpB,EAAW,IAAI+M,EAAAA,kBAAkBniB,OAAOoV,UAgBxCuN,EAAU,CACZ,SAAY,YACZ,eAAkB,SAClB,SAAY,MACZ,IAAO,CAAC,IAAO,SAAU,OAAU,CAAC,CAAC,MAAS,QAAS,OAAU,UACjE,KAAQ,CAAC,CACP,KAAQ,2CACR,MAAS,CACP,OAAU,8CACV,OAAU,CAAC,CACT,QAAW,OACX,gBAAmB,wEAClB,CACD,QAAW,MACX,gBAAmB,yEAErB,SAAY,CAAC,MAAS,QAAS,OAAU,OACzC,qBAAwB,OAG5B,KAAQ,KACR,eAAkB,WAClB,YAAe,CACb,oBAAsB,EACtB,gBAAkB,EAClB,IAAO,CAAC,IAAO,SAAU,OAAU,CAAC,CAAC,MAAS,QAAS,OAAU,YAoBrEnzC,KAAK4vD,iBAAkBvlD,EAAAA,EAAAA,mBAAkB8oC,GACzC,IAAItb,QAAY+N,EAAS+N,UAAU3zC,KAAKg2D,cAAepwB,EAAS4K,WAAWxwC,KAAKg2D,eAAevyC,QAAS0vB,GAGtGnzC,KAAK8vD,QADW,iBAAPj4B,EACMA,EAKA9c,KAAKC,UAAU6c,EAElC,EAEAuc,eAAAA,CAAgB5qC,GACd,IAAI6qC,EAAS4e,EAAOtpC,KAAK,IACzB,IAEI0qB,EADqB,kBAAZ7qC,EACAypD,EAAOtpC,KAAKngB,EAAQsI,QAAQ,KAAM,IAAK,OAEvCmhD,EAAOtpC,KAAKngB,EAEzB,CAAE,MAAOrB,GACPmsB,QAAQxxB,IAAI,0BAA0BqF,IACxC,CACA,OAAOksC,CACT,EAIA,uBAAM0a,GACJ,IAAInpB,EAAW,IAAI+M,EAAAA,kBAAkBniB,OAAOoV,UAExCuN,EAAU,CACZ,UAAanzC,KAAKo0C,gBAAgB,8YAClC,cAAiBp0C,KAAKo0C,gBAAgB,wNACtC,QAAW,YACX,cAAiB,UAInBp0C,KAAK4vD,iBAAkBvlD,EAAAA,EAAAA,mBAAkB8oC,GACzC,IAAItb,QAAY+N,EAASmO,WAAW/zC,KAAKg2D,cAAepwB,EAAS4K,WAAWxwC,KAAKg2D,eAAevyC,QAAS0vB,GAEvGnzC,KAAK8vD,QADW,iBAAPj4B,EACMA,EAIA9c,KAAKC,UAAU6c,EAElC,EAEAo2B,6BAAAA,CAA8B3kD,EAAQqzD,GACpC38D,KAAK4vD,gBAAkB70C,KAAKC,UAAU1R,GACtCtJ,KAAKkzD,sBAAwB5pD,EAC7BtJ,KAAKmzD,iBAAmBwJ,CAC1B,EAEAxO,6BAAAA,CAA8B7kD,EAAQqzD,GACpC38D,KAAK4vD,gBAAkB70C,KAAKC,UAAU1R,GACtCtJ,KAAKy5D,sBAAwBnwD,EAC7BtJ,KAAKw5D,iBAAmBmD,EACxBroC,QAAQxxB,IAAI,QAASwG,GACrBgrB,QAAQxxB,IAAI,SAAU65D,EACxB,EAEAtO,iCAAAA,CAAkC/kD,EAAQqzD,GACxC38D,KAAK4vD,gBAAkB70C,KAAKC,UAAU1R,GACtCtJ,KAAK85D,0BAA4BxwD,EACjCtJ,KAAK65D,qBAAuB8C,EAC5BroC,QAAQxxB,IAAI,QAASwG,GACrBgrB,QAAQxxB,IAAI,SAAU65D,EACxB,EACAlO,yBAAAA,CAA0BvtD,GAEtBlB,KAAK8vD,QADc,iBAAV5uD,EACMA,EAEA6Z,KAAKC,UAAU9Z,EAElC,EACAqtD,8BAAAA,CAA+BjlD,GAE3BtJ,KAAK4vD,gBADc,iBAAVtmD,EACcA,EAEAyR,KAAKC,UAAU1R,EAE1C,EACA4/C,kBAAAA,CAAmBF,GACjB8L,GAAiB9L,EACbhpD,KAAKyoD,SACPj4B,OAAOoV,SAAS65B,UAAY,CAC1BzI,qBAAsB,CACpB1N,eAAgByL,GAChB/L,OAA0B,IAAlBA,EAAO3hD,OAAe,MAAQ2hD,GAExChxB,SAAUi9B,GACVgC,cAAe,CACb5M,MAAO6K,KAIf,EAEA3L,0BAAAA,CAA2BD,GACzByL,GAA4C,aAAnBzL,EAAgCtpD,KAAK8pD,SAAWR,EAErEtpD,KAAKyoD,OACPj4B,OAAOoV,SAAS65B,UAAY,CAC1BzI,qBAAsB,CACpB1N,eAAgByL,GAChB/L,OAAkC,IAA1B8L,GAAeztD,OAAe,MAAQytD,IAEhD98B,SAAUi9B,GACVgC,cAAe,CACb5M,MAAO6K,KAIP1kC,OAAOoV,SAASlqB,cAClB8U,OAAOoV,SAASlqB,cAAcqC,SAAWg3C,GAEzCvkC,OAAOoV,SAASlqB,cAAgB,CAC9BqC,SAAUg3C,GAIlB,EAEAhL,4BAAAA,CAA6BD,GAC3Bx1B,QAAQxxB,IAAI,+BAAgCgnD,GAC5CiL,GAAyBjL,EAErB9pD,KAAKyoD,OACPj4B,OAAOoV,SAAS65B,UAAY,CAC1BzI,qBAAsB,CACpB1N,eAAgBQ,EAChBd,OAAkC,IAA1B8L,GAAeztD,OAAe,MAAQytD,IAEhD98B,SAAUi9B,GACVgC,cAAe,CACb5M,MAAO6K,KAIP1kC,OAAOoV,SAASlqB,cAClB8U,OAAOoV,SAASlqB,cAAcqC,SAAW+rC,EAEzCt5B,OAAOoV,SAASlqB,cAAgB,CAC9BqC,SAAU+rC,EAIlB,EAEAI,oBAAAA,CAAqBlyB,GACnBi9B,GAAmBj9B,EACfh4B,KAAKyoD,SACPj4B,OAAOoV,SAAS65B,UAAY,CAC1BzI,qBAAsB,CACpB1N,eAAgByL,GAChB/L,OAAkC,IAA1B8L,GAAeztD,OAAe,MAAQytD,IAEhD98B,SAAUA,EACVi/B,cAAe,CACb5M,MAAO6K,KAIf,EACAvK,0BAAAA,GACEr2B,QAAQxxB,IAAI,gCAAgC9C,KAAK0qD,eACnD,EAEAgV,iBAAAA,CAAkBl2D,EAASyY,EAAU09C,GAInC,GAHArrC,QAAQxxB,IAAI,iCAAiC0G,GAC7C8qB,QAAQxxB,IAAI,mCAAmCmf,GAC/CqS,QAAQxxB,IAAI,oCAAoC68D,IAC3Cn2D,IAAYyY,EACf,MAAO,GAET,IAAI29C,EAAkBp2D,EACtB,GAAIA,EAAQ8I,WAAW,MAAM,CAC3BstD,EAAkBA,EAAgB9tD,QAAQ,MAAO,IACjD,IAAIuP,EAAM,GACV,IAAK,IAAI1N,EAAI,EAAGA,EAAIisD,EAAgBv4D,OAAQsM,GAAK,EAAG,CAClD,MAAMqtB,EAAO4+B,EAAgBppD,MAAM7C,EAAGA,EAAI,GAC1C0N,GAAO1E,OAAOC,aAAa+hB,SAASqC,EAAM,IAC5C,CACA4+B,EAAkBv+C,CACpB,CACAiT,QAAQxxB,IAAI,yCAAyC88D,GAGrD,MAAMC,EAAmBC,EAAAA,GAA2BF,EAAiB39C,GAErE,OADAqS,QAAQxxB,IAAI,sCAAuC+8D,GAC5CA,EAAiBv8B,gBAAkBq8B,EAAWr8B,aACvD,EAEA,mBAAMswB,CAAcmM,GAEhB,GAAIvvC,OAAOoV,UAAYpV,OAAOoV,SAAS1oB,SAAW6iD,GAAQA,EAAK14D,OAAO,EAAE,CACtE,IAAI24D,EAAa,CAAC,EAClB,IAAK,IAAIlgB,KAAcigB,EACrB,GAAI,WAAYjgB,GAAc,WAAYA,EAAW,CACnD,IAAImgB,EAAcjgE,KAAKo2D,mBAAmBh+C,QAAOhB,GAAQA,EAAKxF,SAAWkuC,EAAWluC,SAAQ,GAG5F,GAFA0iB,QAAQxxB,IAAI,cAAeiY,KAAKC,UAAUilD,IAC1C3rC,QAAQxxB,IAAI,cAAeiY,KAAKC,UAAU8kC,IAChB,kBAAtBA,EAAWluC,OAA2B,CACxC,IAAI+tD,QAAmBnvC,OAAOoV,SAAShrB,QAAQ,CAAEhJ,OAAQ,uBAAwBkuC,EAAWzP,SAC5FsvB,EAAaA,EAAW,GACxBrrC,QAAQxxB,IAAI,iBAAkB68D,GAC9B,IAAIO,EAAaD,EAAY32D,OAAO,GACpCgrB,QAAQxxB,IAAI,iBAAkBiY,KAAKC,UAAUklD,IAC7CF,EAAWlgB,EAAWluC,QAAU5R,KAAK0/D,kBAAkBQ,EAAWpgB,EAAW5+C,OAAOy+D,EACtF,MAAM,GAAyB,uBAAtB7f,EAAWluC,OAAgC,CAClD,IAAIuuD,EAAgBrgB,EAAW5+C,OAC/B,GAAI,cAAei/D,GAAiB,cAAeA,EAAc,CAC/D,MAAMC,EAAYpD,IAAAA,KAAU/5C,SAASC,QACjC,IAAI3G,aAAcC,OAAO,gBACzB2jD,EAAcl+C,UACd,IAAIg7C,EAAAA,UAAUkD,EAAc7yD,WAAW4vD,WAE3C8C,EAAWlgB,EAAWluC,QAAUwuD,CAClC,MACEJ,EAAWlgB,EAAWluC,SAAU,CAEpC,MAAM,GAAyB,4BAAtBkuC,EAAWluC,QAA8D,oBAAtBkuC,EAAWluC,OAA6B,CAClG,IAAIsnD,EAAal5D,KAAKo5D,oBAAoBtZ,EAAW5+C,QACnD8+D,EAAWlgB,EAAWluC,eAAiBsnD,GAAWh4D,MACtD,MAAM,GAAyB,oBAAtB4+C,EAAWluC,OAElBouD,EAAWlgB,EAAWluC,QAAU,wBAE5B,GAAyB,sBAAtBkuC,EAAWluC,OAA+B,CACjD,IAAIyuD,EAAevgB,EAAW5+C,OAC1Bm6C,EAAgB,IAAI8hB,EAAAA,EAAiB3sC,OAAOoV,UAC3C06B,EAAkBjlB,EAAc7K,WAAWsP,EAAWzP,UAAU/iC,UAEjEojC,EAAU2vB,EAAap+C,UACvByuB,EAAQp+B,WAAW,QACrBo+B,EAAUA,EAAQl6B,MAAM,EAAGk6B,EAAQrpC,SAGrCitB,QAAQxxB,IAAI,+CAA+Cw9D,EAAe5vB,GAC1EsvB,EAAWlgB,EAAWluC,QAAUorD,IAAAA,KAAU/5C,SAASC,OAC/C+vC,EAAOtpC,KAAK02C,EAAahhB,aACzB4T,EAAOtpC,KAAK+mB,EAAS,OACrBuiB,EAAOtpC,KAAK22C,EAAgB,OAElC,MAAM,GAAyB,yBAAtBxgB,EAAWluC,OAAkC,CACpD,IAAI2pC,EAAiB,IAAI5I,EAAAA,kBAAkBniB,OAAOoV,UAC9C8Z,EAAgBnE,EAAe/K,WAAWsP,EAAWzP,UAAU5sB,QAC/D88C,EAAgBzgB,EAAW5+C,OAC3B89D,QAAiBh/D,KAAKi/D,2BAA2Bvf,EAAc,cAAc6gB,EAAct+C,UAAWs+C,EAAcrB,QAAQ7/D,OAChI2gE,EAAWlgB,EAAWluC,QAAUotD,CAElC,MAAM,GAA0B,qBAAtBlf,EAAWluC,OAA+B,CAClD,IAAI4uD,EAAc1gB,EAAW5+C,OACzBuyD,EAAU,IAAIC,EAAAA,GAAQ,CACxB,SAAY,0BACZ,QAAW,CAAC,EACZ,WAAc,KAEZ9tB,EAAW,IAAIuP,EAAAA,gBAAgB3kB,OAAOoV,UAC1Co6B,EAAWlgB,EAAWluC,cAAgB6hD,EAAQE,IAAIC,cAAc,KAAOX,EAAOtpC,KAAK,cAAchlB,SAAS,OAAQ67D,EAAa56B,EAAS4K,WAAW,gBAAgB/sB,QACrK,MAAO,GAA0B,uBAAtBq8B,EAAWluC,OAAiC,CACrD,IAAI4uD,EAAc1gB,EAAW5+C,OACzBuyD,EAAU,IAAIC,EAAAA,GAAQ,CACxB,SAAY,0BACZ,QAAW,CAAC,EACZ,WAAc,KAEhB,MAAMG,QAAsBJ,EAAQE,IAAIG,gBAAgB,aAAc0M,GACtE,IAAI56B,EAAW,IAAIuP,EAAAA,gBAAgB3kB,OAAOoV,UAE1Co6B,EAAWlgB,EAAWluC,QAAUiiD,IAAkBjuB,EAAS4K,WAAW,gBAAgB/sB,OACxF,MAEEu8C,EAAWlgB,EAAWluC,QAAU,kBAGpC,KAAS,WAAYkuC,GAAc,UAAWA,IAC5CkgB,EAAWlgB,EAAWluC,QAAUkuC,EAAW5uC,OAK/CojB,QAAQxxB,IAAI,iBAAkBiY,KAAKC,UAAUglD,IAC7ChgE,KAAK4vD,gBAAkB,eAAiB70C,KAAKC,UAAUglD,EACzD,MACE1rC,QAAQxxB,IAAI,uDAIlB,EAEAwnD,iBAAAA,CAAkBD,GAChB6K,GAAgB7K,EACZrqD,KAAKyoD,SACPj4B,OAAOoV,SAAS65B,UAAY,CAC1BzI,qBAAsB,CACpB1N,eAAgByL,GAChB/L,OAAkC,IAA1B8L,GAAeztD,OAAe,MAAQytD,IAEhD98B,SAAUi9B,GACVgC,cAAe,CACb5M,MAAOA,IAIf,EAEA,yBAAM+O,CAAoBqH,GACxB,IAAIC,EAAYD,EACZv/D,GAAS,EACTmE,EAAM,GACV,IAEE,MAAM2zD,EAAU,IAAIC,EAAAA,EAAWzoC,OAAOoV,UACtC,IAAIW,EAAUyyB,EAAQxoB,aACtBlc,QAAQxxB,IAAI,sBAAsByjC,EAAQ9iB,WAG1C,IAAIsvB,QAAe4tB,EAAAA,EAAAA,IAA+B3gE,KAAKkzD,sBAAsB1pD,QAASk3D,EAAUz+C,WAC5FwB,EAAUsvB,EAAO6tB,eACrBtsC,QAAQxxB,IAAI,mBAAmB2gB,KAG/B6Q,QAAQxxB,IAAI,mBAAmByjC,EAAQj5B,aACvCgnB,QAAQxxB,IAAI,kBAAkBiwC,EAAO8tB,cACrC3/D,EAAUqlC,EAAQ9iB,UAAYA,GAAa8iB,EAAQj5B,YAAcylC,EAAO8tB,WAExEx7D,EAAM,mBAAmBkhC,EAAQ9iB,UAAYA,wBAA8B8iB,EAAQj5B,YAAcylC,EAAO8tB,aACxGvsC,QAAQxxB,IAAI,6BAA8BiwC,EAC5C,CAAE,MAAO7wC,GACPoyB,QAAQxxB,IAAI,4BAA6BZ,EAC3C,CACA,MAAO,CACLhB,SACAmE,MAEJ,EAGAkqD,oBAAAA,CAAqBlhD,GACnBrO,KAAK+d,SAAW1P,CAClB,EAEAqhD,sBAAAA,CAAuBrhD,GACrBrO,KAAKyvD,iBAAmBphD,CAC1B,EAEAshD,gBAAAA,GACE,GAAI3vD,KAAK4vD,gBAAiB,CACxB,MAAMkR,EAAiB/lD,KAAK6e,MAAM55B,KAAK4vD,iBACvCkR,EAAe/iD,SAA6B,aAAlB/d,KAAK+d,SAA0B/d,KAAKyvD,iBAAmBzvD,KAAK+d,SACtF/d,KAAK4vD,gBAAkB70C,KAAKC,UAAU8lD,EACxC,CACF,EAEAtR,wBAAAA,GACE,OAAOoF,EAA8BtU,MAAMygB,GAAM/gE,KAAKg2D,cAAc1jD,WAAWyuD,IACjF,GAEFC,OAAAA,GAOE,EAGFC,OAAAA,GAEE,IAAIC,EAAYn5D,SAASo5D,cAAc,UACvCD,EAAUE,IAAM,8CAChBF,EAAU/7D,GAAK,QACf4C,SAASs5D,qBAAqB,QAAQ,GAAGC,YAAYJ,GAErDlhE,KAAK61D,cAAe,EACpB9tD,SAASw5D,MAAQ,cACjBvhE,KAAKurD,gBACP,GSx1GF,MAAM,IAA2B,OAAgB,GAAQ,CAAC,CAAC,SAASiW,GAAQ,CAAC,YAAY,qBAEzF,UCJA,MAAMC,IAAMC,EAAAA,EAAAA,IAAUC,IAEtBF,GAAIG,IAAIC,EAAAA,GACRJ,GAAIK,MAAM,O,4RCPV,IAuDI/8D,EAAIwJ,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAImzD,EAvD5BC,EAAY9iE,OAAOC,eACnB8iE,EAAa/iE,OAAOgjE,iBACpBC,EAAoBjjE,OAAOkjE,0BAC3BC,EAAsBnjE,OAAOgmC,sBAC7Bo9B,EAAepjE,OAAOiC,UAAUC,eAChCmhE,EAAerjE,OAAOiC,UAAUgkC,qBAChCq9B,EAAkB,CAACrgC,EAAKpuB,EAAK1U,IAAU0U,KAAOouB,EAAM6/B,EAAU7/B,EAAKpuB,EAAK,CAAEnT,YAAY,EAAMD,cAAc,EAAMD,UAAU,EAAMrB,UAAW8iC,EAAIpuB,GAAO1U,EACtJojE,EAAiB,CAACC,EAAI9qD,KACxB,IAAK,IAAI+qD,KAAQ/qD,IAAMA,EAAI,CAAC,GACtB0qD,EAAajhE,KAAKuW,EAAG+qD,IACvBH,EAAgBE,EAAIC,EAAM/qD,EAAE+qD,IAChC,GAAIN,EACF,IAAK,IAAIM,KAAQN,EAAoBzqD,GAC/B2qD,EAAalhE,KAAKuW,EAAG+qD,IACvBH,EAAgBE,EAAIC,EAAM/qD,EAAE+qD,IAElC,OAAOD,CAAE,EAEPE,EAAgB,CAACF,EAAI9qD,IAAMqqD,EAAWS,EAAIP,EAAkBvqD,IAa5DirD,EAAgB,CAAC1gC,EAAKpuB,EAAK1U,KAC7BmjE,EAAgBrgC,EAAoB,kBAARpuB,EAAmBA,EAAM,GAAKA,EAAK1U,GACxDA,GAELyjE,EAAU,CAACC,EAAQC,EAAathE,IAC3B,IAAIG,SAAQ,CAACD,EAASE,KAC3B,IAAIC,EAAa1C,IACf,IACE2C,EAAKN,EAAUO,KAAK5C,GACtB,CAAE,MAAO4jE,GACPnhE,EAAOmhE,EACT,GAEE9gE,EAAY9C,IACd,IACE2C,EAAKN,EAAUwhE,MAAM7jE,GACvB,CAAE,MAAO4jE,GACPnhE,EAAOmhE,EACT,GAEEjhE,EAAQwyC,GAAMA,EAAEpyC,KAAOR,EAAQ4yC,EAAEn1C,OAASwC,QAAQD,QAAQ4yC,EAAEn1C,OAAOgD,KAAKN,EAAWI,GACvFH,GAAMN,EAAYA,EAAUY,MAAMygE,EAAQC,IAAc/gE,OAAO,IAInE/C,OAAOgjE,iBAAiB9iE,EAAS,CAAEqB,WAAY,CAAEpB,OAAO,GAAQ,CAAC8jE,OAAOC,aAAc,CAAE/jE,MAAO,YAC/F,MAAMgkE,EAAO,EAAQ,OACfC,EAAS,EAAQ,OACjBC,EAAW,EAAQ,OACnBC,EAAK,EAAQ,OACbC,EAAY,EAAQ,OACpBC,EAAoB,EAAQ,MAC5BC,EAAyBV,GAAOA,GAAoB,kBAAPA,GAAmB,YAAaA,EAAKA,EAAK,CAAE9tD,QAAS8tD,GAClGW,EAAoCD,EAAsBJ,GAC1DM,EAA8BF,EAAsBH,GACpDM,EAAqCH,EAAsBF,GACjE,IAAIlZ,EAAwB,CAAEwZ,IAC5BA,EAAO,QAAU,OACjBA,EAAO,SAAW,QACXA,GAHmB,CAIzBxZ,GAAS,CAAC,GACb,MAAMyZ,UAA0BX,EAAKj7D,gBACnC,WAAAlF,CAAYsG,GACVojB,MAAM,EAAGpjB,EACX,EAEF,MAAMy6D,EAAe,CACnBle,aAAS,EACTme,cAAU,EACVC,aAAS,EACT/hE,MAAM,EACN,YAAAgiE,GACE,OAAOA,EAAapkE,KAAK+lD,QAAQse,MACnC,EACA,gBAAAC,GACE,OAAOF,EAAapkE,KAAK+lD,QAAQse,QACnC,GAEF,SAASD,EAAaC,GACpB,MAAME,EAAM5nD,OAAO0nD,GAAQG,EAAMD,EAAIl9D,OAAS,EAC9C,OAAO48D,EAAale,QAAQ5gD,IAAMq/D,EAAM7nD,OAAOC,aAAa,GAAK4nD,GAAO,IAAMD,CAChF,CACA,MAAME,EAAU,CAAC/B,EAAI9qD,IAAM8qD,IAAO9qD,EAC5B8sD,EAASvB,OAAO,eAChBwB,EAAkC,oBAAVC,MACxBC,EAAS1B,OAAO,eAChB2B,EAAgB,CACpBC,OAAQN,GAEV,IAAIO,EAAaC,GACjB,MAAMC,EAAQ,EACRC,EAAU,EACVC,EAAU,CACdC,MAAO,KACPC,SAAU,KACVvf,QAAS,KACTwf,MAAO,MAET,IAAIC,EAAQ,KACZ,IAAIC,EAAe,KAEfC,EAAW,KACXC,EAAU,KACVC,EAAU,KACVC,EAAY,EAChB,SAASC,EAAW3zC,EAAI4zC,GACtB,MAAM77D,EAAWw7D,EAAUH,EAAQC,EAAOQ,EAAwB,IAAd7zC,EAAG9qB,OAAc4+D,OAA4B,IAAlBF,EAA2BR,EAAQQ,EAAeG,EAAOF,EAAUZ,EAAU,CAC1JC,MAAO,KACPC,SAAU,KACVvf,QAASkgB,EAAUA,EAAQlgB,QAAU,KACrCwf,MAAOU,GACNE,EAAWH,EAAU7zC,EAAK,IAAMA,GAAG,IAAMi0C,IAAQ,IAAMC,GAAUH,OACpEV,EAAQU,EACRR,EAAW,KACX,IACE,OAAOY,GAAWH,GAAU,EAC9B,CAAE,QACAT,EAAWx7D,EACXs7D,EAAQD,CACV,CACF,CACA,SAASgB,EAAalnE,EAAO+yB,GAC3BA,EAAUA,EAAUlzB,OAAO+b,OAAO,CAAC,EAAG6pD,EAAe1yC,GAAW0yC,EAChE,MAAM0B,EAAK,CACTnnE,QACAonE,UAAW,KACXC,cAAe,KACfC,WAAYv0C,EAAQ2yC,aAAU,GAE1B6B,EAAUC,IACQ,oBAAXA,IACTA,EAASA,EAAOL,EAAGnnE,QAEdynE,GAAYN,EAAIK,IAEzB,MAAO,CAACE,GAAW3gE,KAAKogE,GAAKI,EAC/B,CACA,SAASI,EAAe70C,EAAI9yB,EAAO+yB,GACjC,MAAM60C,EAAKC,GAAkB/0C,EAAI9yB,GAAO,EAAM6lE,GAC9CiC,GAAkBF,EACpB,CACA,SAASG,GAAmBj1C,EAAI9yB,EAAO+yB,GACrC,MAAM60C,EAAKC,GAAkB/0C,EAAI9yB,GAAO,EAAO6lE,GAC/CiC,GAAkBF,EACpB,CACA,SAASI,GAAal1C,EAAI9yB,EAAO+yB,GAC/B4yC,EAAasC,GACb,MAAML,EAAKC,GAAkB/0C,EAAI9yB,GAAO,EAAO6lE,GAC1C9yC,GAAYA,EAAQovC,SACvByF,EAAGM,MAAO,GACZ3B,EAAUA,EAAQrvD,KAAK0wD,GAAME,GAAkBF,EACjD,CACA,SAASO,GAAWr1C,EAAI9yB,EAAO+yB,GAC7BA,EAAUA,EAAUlzB,OAAO+b,OAAO,CAAC,EAAG6pD,EAAe1yC,GAAW0yC,EAChE,MAAMmC,EAAKC,GAAkB/0C,EAAI9yB,GAAO,EAAM,GAK9C,OAJA4nE,EAAGR,UAAY,KACfQ,EAAGP,cAAgB,KACnBO,EAAGN,WAAav0C,EAAQ2yC,aAAU,EAClCoC,GAAkBF,GACXF,GAAW3gE,KAAK6gE,EACzB,CACA,SAASQ,GAAMt1C,GACb,OAAOm0C,GAAWn0C,GAAI,EACxB,CACA,SAASi0C,GAAQj0C,GACf,GAAiB,OAAbuzC,EACF,OAAOvzC,IACT,MAAMjoB,EAAWw7D,EACjBA,EAAW,KACX,IAGE,OAAOvzC,GACT,CAAE,QACAuzC,EAAWx7D,CACb,CACF,CACA,SAASw9D,GAAQv1C,GACfk1C,IAAa,IAAMjB,GAAQj0C,IAC7B,CACA,SAASw1C,GAAUx1C,GAOjB,OANc,OAAVqzC,IAEwB,OAAnBA,EAAMF,SACbE,EAAMF,SAAW,CAACnzC,GAElBqzC,EAAMF,SAAS/uD,KAAK4b,IACfA,CACT,CACA,SAASy1C,KACP,OAAOlC,CACT,CACA,SAASmC,KACP,OAAOrC,CACT,CACA,SAASsC,GAAaC,EAAI51C,GACxB,MAAM61C,EAAOxC,EACPyC,EAAevC,EACrBF,EAAQuC,EACRrC,EAAW,KACX,IACE,OAAOY,GAAWn0C,GAAI,EACxB,CAAE,MAAOhqB,GACP+/D,GAAY//D,EACd,CAAE,QACAq9D,EAAQwC,EACRtC,EAAWuC,CACb,CACF,CACA,SAASE,GAAcC,EAAch2C,GACnC,MAAMjtB,EAAKg+D,OAAO,WAClB,MAAO,CACLh+D,KACAkjE,SAAUC,GAAenjE,GACzBijE,eAEJ,CACA,SAASG,GAAWxiB,GAClB,IAAI1mD,EACJ,OAAOmmE,GAASA,EAAMzf,cAAmD,KAAvC1mD,EAAQmmE,EAAMzf,QAAQA,EAAQ5gD,KAAkB9F,EAAQ0mD,EAAQqiB,YACpG,CACA,SAASI,GAASr2C,GAChB,MAAMs2C,EAAYjB,GAAWr1C,GACvBshB,EAAO+zB,IAAW,IAAMkB,GAAgBD,OAK9C,OAJAh1B,EAAKk1B,QAAU,KACb,MAAM1B,EAAKxzB,IACX,OAAOn8B,MAAMwmC,QAAQmpB,GAAMA,EAAW,MAANA,EAAa,CAACA,GAAM,EAAE,EAEjDxzB,CACT,CACA,SAASszB,KACP,GAAI/mE,KAAK4oE,SAAW5oE,KAAKsD,MACvB,GAAItD,KAAKsD,QAAU4hE,EACjBiC,GAAkBnnE,UACf,CACH,MAAM6oE,EAAUlD,EAChBA,EAAU,KACVW,IAAW,IAAMwC,GAAa9oE,QAAO,GACrC2lE,EAAUkD,CACZ,CAEF,GAAInD,EAAU,CACZ,MAAMqD,EAAQ/oE,KAAKymE,UAAYzmE,KAAKymE,UAAUp/D,OAAS,EAClDq+D,EAASkD,SAIZlD,EAASkD,QAAQryD,KAAKvW,MACtB0lE,EAASsD,YAAYzyD,KAAKwyD,KAJ1BrD,EAASkD,QAAU,CAAC5oE,MACpB0lE,EAASsD,YAAc,CAACD,IAKrB/oE,KAAKymE,WAIRzmE,KAAKymE,UAAUlwD,KAAKmvD,GACpB1lE,KAAK0mE,cAAcnwD,KAAKmvD,EAASkD,QAAQvhE,OAAS,KAJlDrH,KAAKymE,UAAY,CAACf,GAClB1lE,KAAK0mE,cAAgB,CAAChB,EAASkD,QAAQvhE,OAAS,GAKpD,CACA,OAAOrH,KAAKX,KACd,CACA,SAASynE,GAAYmC,EAAM5pE,EAAO6pE,GAChC,IAAIjD,EAAUgD,EAAK5pE,MA8BnB,OA7BK4pE,EAAKtC,YAAesC,EAAKtC,WAAWV,EAAS5mE,KAChD4pE,EAAK5pE,MAAQA,EACT4pE,EAAKxC,WAAawC,EAAKxC,UAAUp/D,QACnCi/D,IAAW,KACT,IAAK,IAAI6C,EAAK,EAAGA,EAAKF,EAAKxC,UAAUp/D,OAAQ8hE,GAAM,EAAG,CACpD,MAAMpB,EAAKkB,EAAKxC,UAAU0C,GACpBC,EAAoB3D,GAAgBA,EAAa4D,QACnDD,GAAqB3D,EAAa6D,SAASnT,IAAI4R,IAE/CqB,EAAqBrB,EAAGwB,OAAUxB,EAAGzkE,SACnCykE,EAAGyB,KACL7D,EAAQpvD,KAAKwxD,GAEbnC,EAAQrvD,KAAKwxD,GACXA,EAAGtB,WACLgD,GAAe1B,IAEdqB,IACHrB,EAAGzkE,MAAQ4hE,EACf,CACA,GAAIS,EAAQt+D,OAAS,IAInB,MAHAs+D,EAAU,GAGJ,IAAI9hE,KACZ,IACC,IAGAxE,CACT,CACA,SAAS8nE,GAAkB8B,GACzB,IAAKA,EAAK92C,GACR,OACFk0C,GAAU4C,GACV,MAAMS,EAAO7D,EACb8D,GAAeV,EAAMA,EAAK5pE,MAAOqqE,EACnC,CACA,SAASC,GAAeV,EAAM5pE,EAAOqqE,GACnC,IAAIE,EACJ,MAAMrE,EAAQC,EAAOt7D,EAAWw7D,EAChCA,EAAWF,EAAQyD,EACnB,IACEW,EAAYX,EAAK92C,GAAG9yB,EACtB,CAAE,MAAO8I,GASP,OARI8gE,EAAKO,OAELP,EAAK3lE,MAAQ4hE,EACb+D,EAAK5D,OAAS4D,EAAK5D,MAAMr1D,QAAQq2D,IACjC4C,EAAK5D,MAAQ,MAGjB4D,EAAKY,UAAYH,EAAO,EACjBxB,GAAY//D,EACrB,CAAE,QACAu9D,EAAWx7D,EACXs7D,EAAQD,CACV,GACK0D,EAAKY,WAAaZ,EAAKY,WAAaH,KACjB,MAAlBT,EAAKY,WAAqB,cAAeZ,EAC3CnC,GAAYmC,EAAMW,GAElBX,EAAK5pE,MAAQuqE,EACfX,EAAKY,UAAYH,EAErB,CACA,SAASxC,GAAkB/0C,EAAI7gB,EAAMk4D,EAAMlmE,EAAQ4hE,EAAO9yC,GACxD,MAAM60C,EAAK,CACT90C,KACA7uB,QACAumE,UAAW,KACXxE,MAAO,KACPuD,QAAS,KACTI,YAAa,KACb1D,SAAU,KACVjmE,MAAOiS,EACPi0D,MAAOC,EACPzf,QAASyf,EAAQA,EAAMzf,QAAU,KACjCyjB,QAYF,OAVc,OAAVhE,GAEKA,IAAUJ,IAEVI,EAAMH,MAGTG,EAAMH,MAAM9uD,KAAK0wD,GAFjBzB,EAAMH,MAAQ,CAAC4B,IAKdA,CACT,CACA,SAAS6C,GAAOb,GACd,GAAmB,IAAfA,EAAK3lE,MACP,OACF,GAAI2lE,EAAK3lE,QAAU6hE,EACjB,OAAO2D,GAAaG,GACtB,GAAIA,EAAKc,UAAY3D,GAAQ6C,EAAKc,SAASC,YACzC,OAAOf,EAAKc,SAAS5F,QAAQ5tD,KAAK0yD,GACpC,MAAMgB,EAAY,CAAChB,GACnB,OAAQA,EAAOA,EAAK1D,UAAY0D,EAAKY,WAAaZ,EAAKY,UAAYhE,GAC7DoD,EAAK3lE,OACP2mE,EAAU1zD,KAAK0yD,GAEnB,IAAK,IAAIE,EAAKc,EAAU5iE,OAAS,EAAG8hE,GAAM,EAAGA,IAE3C,GADAF,EAAOgB,EAAUd,GACbF,EAAK3lE,QAAU4hE,EACjBiC,GAAkB8B,QACb,GAAIA,EAAK3lE,QAAU6hE,EAAS,CACjC,MAAM0D,EAAUlD,EAChBA,EAAU,KACVW,IAAW,IAAMwC,GAAaG,EAAMgB,EAAU,MAAK,GACnDtE,EAAUkD,CACZ,CAEJ,CACA,SAASvC,GAAWn0C,EAAI7gB,GACtB,GAAIq0D,EACF,OAAOxzC,IACT,IAAI+3C,GAAO,EACN54D,IACHq0D,EAAU,IACRC,EACFsE,GAAO,EAEPtE,EAAU,GACZC,IACA,IACE,MAAMhuC,EAAM1F,IAEZ,OADAg4C,GAAgBD,GACTryC,CACT,CAAE,MAAO1vB,GACF+hE,IACHtE,EAAU,MACZD,EAAU,KACVuC,GAAY//D,EACd,CACF,CACA,SAASgiE,GAAgBD,GAKvB,GAJIvE,IACFV,GAASU,GACTA,EAAU,MAERuE,EACF,OACF,MAAMjH,EAAK2C,EACXA,EAAU,KACN3C,EAAG57D,QACLi/D,IAAW,IAAMtB,EAAW/B,KAAK,EACrC,CACA,SAASgC,GAASmF,GAChB,IAAK,IAAIjB,EAAK,EAAGA,EAAKiB,EAAM/iE,OAAQ8hE,IAClCW,GAAOM,EAAMjB,GACjB,CACA,SAAS7B,GAAe8C,GACtB,IAAIjB,EAAIkB,EAAa,EACrB,IAAKlB,EAAK,EAAGA,EAAKiB,EAAM/iE,OAAQ8hE,IAAM,CACpC,MAAMlG,EAAKmH,EAAMjB,GACZlG,EAAGsE,KAGN6C,EAAMC,KAAgBpH,EAFtB6G,GAAO7G,EAGX,CACA,IAAKkG,EAAK,EAAGA,EAAKkB,EAAYlB,IAC5BW,GAAOM,EAAMjB,GACjB,CACA,SAASL,GAAaG,EAAMqB,GAC1BrB,EAAK3lE,MAAQ,EACb,IAAK,IAAI6lE,EAAK,EAAGA,EAAKF,EAAKL,QAAQvhE,OAAQ8hE,GAAM,EAAG,CAClD,MAAMpnB,EAASknB,EAAKL,QAAQO,GAC5B,GAAIpnB,EAAO6mB,QAAS,CAClB,MAAMtlE,EAAQy+C,EAAOz+C,MACjBA,IAAU4hE,EACRnjB,IAAWuoB,KAAYvoB,EAAO8nB,WAAa9nB,EAAO8nB,UAAYhE,IAChEiE,GAAO/nB,GACAz+C,IAAU6hE,GACnB2D,GAAa/mB,EAAQuoB,EACzB,CACF,CACF,CACA,SAASb,GAAeR,GACtB,IAAK,IAAIE,EAAK,EAAGA,EAAKF,EAAKxC,UAAUp/D,OAAQ8hE,GAAM,EAAG,CACpD,MAAMpB,EAAKkB,EAAKxC,UAAU0C,GACrBpB,EAAGzkE,QACNykE,EAAGzkE,MAAQ6hE,EACP4C,EAAGyB,KACL7D,EAAQpvD,KAAKwxD,GAEbnC,EAAQrvD,KAAKwxD,GACfA,EAAGtB,WAAagD,GAAe1B,GAEnC,CACF,CACA,SAAS1B,GAAU4C,GACjB,IAAIE,EACJ,GAAIF,EAAKL,QACP,MAAOK,EAAKL,QAAQvhE,OAAQ,CAC1B,MAAM06C,EAASknB,EAAKL,QAAQ2B,MAAO1zD,EAAQoyD,EAAKD,YAAYuB,MAAOC,EAAMzoB,EAAO0kB,UAChF,GAAI+D,GAAOA,EAAInjE,OAAQ,CACrB,MAAMojE,EAAKD,EAAID,MAAO/D,EAAKzkB,EAAO2kB,cAAc6D,MAC5C1zD,EAAQ2zD,EAAInjE,SACdojE,EAAGzB,YAAYxC,GAAM3vD,EACrB2zD,EAAI3zD,GAAS4zD,EACb1oB,EAAO2kB,cAAc7vD,GAAS2vD,EAElC,CACF,CAEF,GAAIyC,EAAKyB,OAAQ,CACf,IAAKvB,EAAKF,EAAKyB,OAAOrjE,OAAS,EAAG8hE,GAAM,EAAGA,IACzC9C,GAAU4C,EAAKyB,OAAOvB,WACjBF,EAAKyB,MACd,CACA,GAAIzB,EAAK5D,MAAO,CACd,IAAK8D,EAAKF,EAAK5D,MAAMh+D,OAAS,EAAG8hE,GAAM,EAAGA,IACxC9C,GAAU4C,EAAK5D,MAAM8D,IACvBF,EAAK5D,MAAQ,IACf,CACA,GAAI4D,EAAK3D,SAAU,CACjB,IAAK6D,EAAKF,EAAK3D,SAASj+D,OAAS,EAAG8hE,GAAM,EAAGA,IAC3CF,EAAK3D,SAAS6D,KAChBF,EAAK3D,SAAW,IAClB,CACA2D,EAAK3lE,MAAQ,CACf,CACA,SAASqnE,GAAUxiE,GACjB,OAAIA,aAAetE,MACVsE,EACF,IAAItE,MAAqB,kBAARsE,EAAmBA,EAAM,gBAAiB,CAChEyiE,MAAOziE,GAEX,CACA,SAAS+/D,GAAY//D,EAAKo9D,EAAQC,GAChC,MAAMt0D,EAAQy5D,GAAUxiE,GACxB,MAAM+I,CACR,CACA,SAASw3D,GAAgBD,GACvB,GAAyB,oBAAdA,IAA6BA,EAAUphE,OAChD,OAAOqhE,GAAgBD,KACzB,GAAInxD,MAAMwmC,QAAQ2qB,GAAY,CAC5B,MAAM/vC,EAAU,GAChB,IAAK,IAAIywC,EAAK,EAAGA,EAAKV,EAAUphE,OAAQ8hE,IAAM,CAC5C,MAAMjoE,EAASwnE,GAAgBD,EAAUU,IACzC7xD,MAAMwmC,QAAQ58C,GAAUw3B,EAAQniB,KAAKjU,MAAMo2B,EAASx3B,GAAUw3B,EAAQniB,KAAKrV,EAC7E,CACA,OAAOw3B,CACT,CACA,OAAO+vC,CACT,CACA,SAASH,GAAenjE,EAAIitB,GAC1B,OAAO,SAAkBu+B,GACvB,IAAI94B,EAOJ,OANAuvC,IAAmB,IAAMvvC,EAAMuuC,IAAQ,KACrCZ,EAAMzf,QAAU6c,EAAcH,EAAe,CAAC,EAAG+C,EAAMzf,SAAU,CAC/D,CAAC5gD,GAAKwrD,EAAMtxD,QAEPmpE,IAAS,IAAM7X,EAAM6X,oBAC1B,GACG3wC,CACT,CACF,CACA,SAASgzC,GAAgBC,EAAMna,GAC7B,OAAOyV,IAAQ,IAAM0E,EAAKna,GAAS,CAAC,IACtC,CACA,SAASoa,KACP,OAAO,CACT,CACA,MAAMC,GAAY,CAChB,GAAAnqE,CAAIw1B,EAAG40C,EAAUxa,GACf,OAAIwa,IAAavG,EACRjU,EACFp6B,EAAEx1B,IAAIoqE,EACf,EACA,GAAA9U,CAAI9/B,EAAG40C,GACL,OAAIA,IAAavG,GAEVruC,EAAE8/B,IAAI8U,EACf,EACAh1D,IAAK80D,GACLG,eAAgBH,GAChB,wBAAAvqE,CAAyB61B,EAAG40C,GAC1B,MAAO,CACLtqE,cAAc,EACdC,YAAY,EACZ,GAAAC,GACE,OAAOw1B,EAAEx1B,IAAIoqE,EACf,EACAh1D,IAAK80D,GACLG,eAAgBH,GAEpB,EACA,OAAAI,CAAQ90C,GACN,OAAOA,EAAExM,MACX,GAEF,SAASuhD,GAAc5E,GACrB,OAASA,EAAmB,oBAAPA,EAAoBA,IAAOA,GAAWA,EAAL,CAAC,CACzD,CACA,SAAS6E,KACP,IAAK,IAAIlC,EAAK,EAAG9hE,EAASrH,KAAKqH,OAAQ8hE,EAAK9hE,IAAU8hE,EAAI,CACxD,MAAMpoE,EAAIf,KAAKmpE,KACf,QAAU,IAANpoE,EACF,OAAOA,CACX,CACF,CACA,SAASuqE,MAAc1C,GACrB,IAAI2C,GAAQ,EACZ,IAAK,IAAIpC,EAAK,EAAGA,EAAKP,EAAQvhE,OAAQ8hE,IAAM,CAC1C,MAAM3C,EAAKoC,EAAQO,GACnBoC,EAAQA,KAAW/E,GAAM9B,KAAU8B,EACnCoC,EAAQO,GAAoB,oBAAP3C,GAAqB+E,GAAQ,EAAM/D,GAAWhB,IAAOA,CAC5E,CACA,GAAI7B,GAAkB4G,EACpB,OAAO,IAAI3G,MAAM,CACf,GAAA/jE,CAAIoqE,GACF,IAAK,IAAI9B,EAAKP,EAAQvhE,OAAS,EAAG8hE,GAAM,EAAGA,IAAM,CAC/C,MAAMpoE,EAAIqqE,GAAcxC,EAAQO,IAAK8B,GACrC,QAAU,IAANlqE,EACF,OAAOA,CACX,CACF,EACA,GAAAo1D,CAAI8U,GACF,IAAK,IAAI9B,EAAKP,EAAQvhE,OAAS,EAAG8hE,GAAM,EAAGA,IACzC,GAAI8B,KAAYG,GAAcxC,EAAQO,IACpC,OAAO,EAEX,OAAO,CACT,EACA,IAAAt/C,GACE,MAAMA,EAAO,GACb,IAAK,IAAIs/C,EAAK,EAAGA,EAAKP,EAAQvhE,OAAQ8hE,IACpCt/C,EAAKtT,QAAQrX,OAAO2qB,KAAKuhD,GAAcxC,EAAQO,MACjD,MAAO,IAAI,IAAI3xD,IAAIqS,GACrB,GACCmhD,IAEL,MAAMQ,EAAa,CAAC,EACdC,EAA0BvsE,OAAOe,OAAO,MAC9C,IAAK,IAAIkpE,EAAKP,EAAQvhE,OAAS,EAAG8hE,GAAM,EAAGA,IAAM,CAC/C,MAAMpnB,EAAS6mB,EAAQO,GACvB,IAAKpnB,EACH,SACF,MAAM2pB,EAAaxsE,OAAOysE,oBAAoB5pB,GAC9C,IAAK,IAAI6pB,EAAKF,EAAWrkE,OAAS,EAAGukE,GAAM,EAAGA,IAAM,CAClD,MAAM73D,EAAM23D,EAAWE,GACvB,GAAY,cAAR73D,GAA+B,gBAARA,EACzB,SACF,MAAMxT,EAAOrB,OAAOsB,yBAAyBuhD,EAAQhuC,GACrD,GAAK03D,EAAQ13D,GAMN,CACL,MAAM83D,EAAWL,EAAWz3D,GACxB83D,IACEtrE,EAAKM,IACPgrE,EAASt1D,KAAKhW,EAAKM,IAAIuF,KAAK27C,SACN,IAAfxhD,EAAKlB,OACZwsE,EAASt1D,MAAK,IAAMhW,EAAKlB,QAE/B,MAbEosE,EAAQ13D,GAAOxT,EAAKM,IAAM,CACxBD,YAAY,EACZD,cAAc,EACdE,IAAKwqE,GAAejlE,KAAKolE,EAAWz3D,GAAO,CAACxT,EAAKM,IAAIuF,KAAK27C,WACzC,IAAfxhD,EAAKlB,MAAmBkB,OAAO,CAUvC,CACF,CACA,MAAMsiC,EAAS,CAAC,EACVipC,EAAc5sE,OAAO2qB,KAAK4hD,GAChC,IAAK,IAAItC,EAAK2C,EAAYzkE,OAAS,EAAG8hE,GAAM,EAAGA,IAAM,CACnD,MAAMp1D,EAAM+3D,EAAY3C,GAAK5oE,EAAOkrE,EAAQ13D,GACxCxT,GAAQA,EAAKM,IACf3B,OAAOC,eAAe0jC,EAAQ9uB,EAAKxT,GAEnCsiC,EAAO9uB,GAAOxT,EAAOA,EAAKlB,WAAQ,CACtC,CACA,OAAOwjC,CACT,CACA,SAASkpC,GAAWpb,KAAU9mC,GAC5B,GAAI86C,GAAkBD,KAAU/T,EAAO,CACrC,MAAMqb,EAAU,IAAIx0D,IAAIqS,EAAKxiB,OAAS,EAAIwiB,EAAKoiD,OAASpiD,EAAK,IACvDgO,EAAMhO,EAAKjT,KAAKxW,GACb,IAAIwkE,MAAM,CACf,GAAA/jE,CAAIoqE,GACF,OAAO7qE,EAAEiY,SAAS4yD,GAAYta,EAAMsa,QAAY,CAClD,EACA,GAAA9U,CAAI8U,GACF,OAAO7qE,EAAEiY,SAAS4yD,IAAaA,KAAYta,CAC7C,EACA,IAAA9mC,GACE,OAAOzpB,EAAEgY,QAAQ6yD,GAAaA,KAAYta,GAC5C,GACCqa,MAaL,OAXAnzC,EAAIthB,KAAK,IAAIquD,MAAM,CACjB,GAAA/jE,CAAIoqE,GACF,OAAOe,EAAQ7V,IAAI8U,QAAY,EAASta,EAAMsa,EAChD,EACA,GAAA9U,CAAI8U,GACF,OAAOe,EAAQ7V,IAAI8U,IAAoBA,KAAYta,CACrD,EACA,IAAA9mC,GACE,OAAO3qB,OAAO2qB,KAAK8mC,GAAOv4C,QAAQhY,IAAO4rE,EAAQ7V,IAAI/1D,IACvD,GACC4qE,KACInzC,CACT,CACA,MAAMq0C,EAAc,CAAC,EACfC,EAAUtiD,EAAKjT,KAAI,KAAM,CAAG,KAClC,IAAK,MAAMw1D,KAAYltE,OAAOysE,oBAAoBhb,GAAQ,CACxD,MAAMpwD,EAAOrB,OAAOsB,yBAAyBmwD,EAAOyb,GAC9CC,GAAiB9rE,EAAKM,MAAQN,EAAK0V,KAAO1V,EAAKK,YAAcL,EAAKG,UAAYH,EAAKI,aACzF,IAAIqrE,GAAU,EACVM,EAAc,EAClB,IAAK,MAAMlsE,KAAKypB,EACVzpB,EAAEiY,SAAS+zD,KACbJ,GAAU,EACVK,EAAgBF,EAAQG,GAAaF,GAAY7rE,EAAKlB,MAAQH,OAAOC,eAAegtE,EAAQG,GAAcF,EAAU7rE,MAEpH+rE,EAECN,IACHK,EAAgBH,EAAYE,GAAY7rE,EAAKlB,MAAQH,OAAOC,eAAe+sE,EAAaE,EAAU7rE,GAEtG,CACA,MAAO,IAAI4rE,EAASD,EACtB,CACA,MAAMK,GAAiBp7D,GAAS,oBAAoBA,MACpD,SAASq7D,GAAK7b,GACZ,MAAM8b,EAAQ9b,EAAM8b,MACdC,EAAYlF,IAAW,IAAM7W,EAAMgc,WAAM,EAAQ,CACrD5H,OAAQ,CAACrC,EAAI9qD,IAAM60D,EAAQ/J,IAAO9qD,GAAK8qD,KAAQ9qD,IAEjD,OAAO4vD,IAAW,KAChB,MAAMP,EAAKyF,IACX,GAAIzF,EAAI,CACN,MAAM2F,EAAQjc,EAAM6X,SACdr2C,EAAsB,oBAAVy6C,GAAwBA,EAAMvlE,OAAS,EACzD,OAAO8qB,EAAKi0C,IAAQ,IAAMwG,EAAMH,EAAQxF,EAAK,KAC3C,IAAKb,GAAQsG,GACX,MAAMH,GAAc,QACtB,OAAO5b,EAAMgc,IAAI,KACbC,CACR,CACA,OAAOjc,EAAMn0B,QAAQ,QACpB,OAAQ,EACb,CACA,SAASqwC,GAAOlc,GACd,IAAI8b,GAAQ,EACZ,MAAM1H,EAAS,CAACrC,EAAI9qD,KAAO60D,EAAQ/J,EAAG,KAAO9qD,EAAE,IAAM8qD,EAAG,MAAQ9qD,EAAE,KAAO8qD,EAAG,KAAO9qD,EAAE,GAC/Ek1D,EAAatE,IAAS,IAAM7X,EAAM6X,WAAWuE,EAAiBvF,IAAW,KAC7E,IAAIwF,EAAQF,IACPx1D,MAAMwmC,QAAQkvB,KACjBA,EAAQ,CAACA,IACX,IAAK,IAAI7D,EAAK,EAAGA,EAAK6D,EAAM3lE,OAAQ8hE,IAAM,CACxC,MAAMlC,EAAK+F,EAAM7D,GAAIwD,KACrB,GAAI1F,EAEF,OADAwF,IAAUO,EAAM7D,GAAIsD,MACb,CAACtD,EAAIlC,EAAI+F,EAAM7D,GAE1B,CACA,MAAO,EAAE,EAAE,QACV,EAAQ,CACTpE,WAEF,OAAOyC,IAAW,KAChB,MAAO3wD,EAAO81D,EAAMM,GAAQF,IAC5B,GAAIl2D,EAAQ,EACV,OAAO85C,EAAMn0B,SACf,MAAMyqC,EAAKgG,EAAKzE,SACVr2C,EAAmB,oBAAP80C,GAAqBA,EAAG5/D,OAAS,EACnD,OAAO8qB,EAAKi0C,IAAQ,IAAMa,EAAGwF,EAAQE,EAAO,KAC1C,GAAIvG,GAAQ2G,GAAgB,KAAOl2D,EACjC,MAAM01D,GAAc,SACtB,OAAOU,EAAKN,IAAI,KACZ1F,CAAE,QACP,OAAQ,EACb,CACA,SAASiG,GAAMvc,GACb,OAAOA,CACT,CACA,MAAMwc,GAAW,CAAC,kBAAmB,QAAS,YAAa,WAAY,UAAW,WAAY,UAAW,WAAY,iBAAkB,SAAU,gBAAiB,QAAS,QAAS,OAAQ,WAAY,QAAS,WAAY,aAAc,OAAQ,cAAe,WAAY,WAAY,WAAY,WAAY,YAC5SC,GAA6B,IAAI51D,IAAI,CAAC,YAAa,QAAS,WAAY,iBAAkB,QAAS,WAAY,iBAAkB21D,KACjIE,GAAkC,IAAI71D,IAAI,CAAC,YAAa,cAAe,YAAa,aACpF81D,GAA0BpuE,OAAO+b,OAAuB/b,OAAOe,OAAO,MAAO,CACjFstE,UAAW,QACXC,QAAS,QAELC,GAA8BvuE,OAAO+b,OAAuB/b,OAAOe,OAAO,MAAO,CACrF6nD,MAAO,YACP4lB,eAAgB,CACdC,EAAG,iBACHC,OAAQ,EACRC,MAAO,GAETC,MAAO,CACLH,EAAG,QACHI,IAAK,GAEPC,SAAU,CACRL,EAAG,WACHM,OAAQ,GAEVC,YAAa,CACXP,EAAG,cACHQ,MAAO,GAETC,SAAU,CACRT,EAAG,WACHE,MAAO,EACPQ,SAAU,KAGd,SAASC,GAAa3L,EAAM4L,GAC1B,MAAM7L,EAAK+K,GAAY9K,GACvB,MAAqB,kBAAPD,EAAkBA,EAAG6L,GAAW7L,EAAG,UAAO,EAASA,CACnE,CACA,MAAM8L,GAAkC,IAAIh3D,IAAI,CAAC,cAAe,QAAS,WAAY,cAAe,UAAW,WAAY,QAAS,UAAW,QAAS,YAAa,YAAa,WAAY,YAAa,UAAW,cAAe,cAAe,aAAc,cAAe,YAAa,WAAY,YAAa,eACjTi3D,GAA8B,IAAIj3D,IAAI,CAC1C,WACA,cACA,eACA,UACA,eACA,gBACA,mBACA,SACA,WACA,gBACA,SACA,OACA,OACA,UACA,UACA,gBACA,sBACA,cACA,mBACA,oBACA,oBACA,iBACA,eACA,UACA,UACA,UACA,UACA,UACA,iBACA,UACA,UACA,cACA,eACA,WACA,eACA,qBACA,cACA,SACA,eACA,SACA,OACA,YACA,mBACA,iBACA,gBACA,gBACA,gBACA,IACA,QACA,WACA,QACA,QACA,OACA,iBACA,SACA,OACA,WACA,gBACA,QACA,OACA,UACA,UACA,WACA,iBACA,OACA,MACA,OACA,MACA,SACA,SACA,OACA,WACA,OACA,QACA,MACA,OACA,UAEIk3D,GAAe,CACnBC,MAAO,+BACPC,IAAK,wCAEP,SAASC,GAAgBC,EAAYpM,EAAI9qD,GACvC,IAAIm3D,EAAUn3D,EAAEvQ,OAAQ2nE,EAAOtM,EAAGr7D,OAAQ4nE,EAAOF,EAASG,EAAS,EAAGC,EAAS,EAAGC,EAAQ1M,EAAGsM,EAAO,GAAGK,YAAaz4D,EAAM,KAC1H,MAAOs4D,EAASF,GAAQG,EAASF,EAC/B,GAAIvM,EAAGwM,KAAYt3D,EAAEu3D,GAArB,CAKA,MAAOzM,EAAGsM,EAAO,KAAOp3D,EAAEq3D,EAAO,GAC/BD,IACAC,IAEF,GAAID,IAASE,EAAQ,CACnB,MAAMjG,EAAOgG,EAAOF,EAAUI,EAASv3D,EAAEu3D,EAAS,GAAGE,YAAcz3D,EAAEq3D,EAAOE,GAAUC,EACtF,MAAOD,EAASF,EACdH,EAAWQ,aAAa13D,EAAEu3D,KAAWlG,EACzC,MAAO,GAAIgG,IAASE,EAClB,MAAOD,EAASF,EACTp4D,GAAQA,EAAIu/C,IAAIuM,EAAGwM,KACtBxM,EAAGwM,GAAQK,SACbL,SAEG,GAAIxM,EAAGwM,KAAYt3D,EAAEq3D,EAAO,IAAMr3D,EAAEu3D,KAAYzM,EAAGsM,EAAO,GAAI,CACnE,MAAM/F,EAAOvG,IAAKsM,GAAMK,YACxBP,EAAWQ,aAAa13D,EAAEu3D,KAAWzM,EAAGwM,KAAUG,aAClDP,EAAWQ,aAAa13D,IAAIq3D,GAAOhG,GACnCvG,EAAGsM,GAAQp3D,EAAEq3D,EACf,KAAO,CACL,IAAKr4D,EAAK,CACRA,EAAsB,IAAI7B,IAC1B,IAAIo0D,EAAKgG,EACT,MAAOhG,EAAK8F,EACVr4D,EAAIX,IAAI2B,EAAEuxD,GAAKA,IACnB,CACA,MAAMtyD,EAAQD,EAAI/V,IAAI6hE,EAAGwM,IACzB,GAAa,MAATr4D,EACF,GAAIs4D,EAASt4D,GAASA,EAAQo4D,EAAM,CAClC,IAA+BO,EAA3BrG,EAAK+F,EAAQ77B,EAAW,EAC5B,QAAS81B,EAAK6F,GAAQ7F,EAAK8F,EAAM,CAC/B,GAA8B,OAAzBO,EAAK54D,EAAI/V,IAAI6hE,EAAGyG,MAAiBqG,IAAO34D,EAAQw8B,EACnD,MACFA,GACF,CACA,GAAIA,EAAWx8B,EAAQs4D,EAAQ,CAC7B,MAAMlG,EAAOvG,EAAGwM,GAChB,MAAOC,EAASt4D,EACdi4D,EAAWQ,aAAa13D,EAAEu3D,KAAWlG,EACzC,MACE6F,EAAWW,aAAa73D,EAAEu3D,KAAWzM,EAAGwM,KAC5C,MACEA,SAEFxM,EAAGwM,KAAUK,QACjB,CA9CA,MAHEL,IACAC,GAkDN,CACA,MAAMO,GAAW,gBACjB,SAASlO,GAAOv8D,EAAM0qE,EAASr+D,EAAM8gB,EAAU,CAAC,GAC9C,IAAIw9C,EAKJ,OAJA9J,GAAY+J,IACVD,EAAWC,EACXF,IAAY5nE,SAAW9C,IAAS6qE,GAAOH,EAAS1qE,IAAQ0qE,EAAQI,WAAa,UAAO,EAAQz+D,EAAK,GAChG8gB,EAAQmzC,OACJ,KACLqK,IACAD,EAAQK,YAAc,EAAE,CAE5B,CACA,SAASC,GAAWC,EAAMC,EAAcC,GACtC,IAAInH,EACJ,MAAMhpE,EAAS,KACb,MAAMuvE,EAAKznE,SAASo5D,cAAc,YAElC,OADAqO,EAAGa,UAAYH,EACRE,EAAQZ,EAAGriE,QAAQ4iE,WAAWA,WAAaP,EAAGriE,QAAQ4iE,UAAU,EAEnE59C,EAAKg+C,EAAe,IAAM/J,IAAQ,IAAMr+D,SAASuoE,WAAWrH,IAASA,EAAOhpE,MAAW,KAAS,KAAOgpE,IAASA,EAAOhpE,MAAWswE,WAAU,GAElJ,OADAp+C,EAAGo+C,UAAYp+C,EACRA,CACT,CACA,SAASq+C,GAAeC,EAAYC,EAAYlgD,OAAOzoB,UACrD,MAAMk7D,EAAKyN,EAAUhB,MAAcgB,EAAUhB,IAA4B,IAAIl4D,KAC7E,IAAK,IAAI2xD,EAAK,EAAGwH,EAAKF,EAAWppE,OAAQ8hE,EAAKwH,EAAIxH,IAAM,CACtD,MAAMh4D,EAAOs/D,EAAWtH,GACnBlG,EAAG9M,IAAIhlD,KACV8xD,EAAGxrD,IAAItG,GACPu/D,EAAUjoE,iBAAiB0I,EAAMy/D,IAErC,CACF,CACA,SAASC,GAAa5H,EAAM93D,EAAM9R,GACnB,MAATA,EACF4pE,EAAK6H,gBAAgB3/D,GAErB83D,EAAK4H,aAAa1/D,EAAM9R,EAC5B,CACA,SAAS0xE,GAAe9H,EAAMnlD,EAAW3S,EAAM9R,GAChC,MAATA,EACF4pE,EAAK+H,kBAAkBltD,EAAW3S,GAElC83D,EAAK8H,eAAejtD,EAAW3S,EAAM9R,EACzC,CACA,SAAS4xE,GAAiBhI,EAAM93D,EAAM9R,GACpCA,EAAQ4pE,EAAK4H,aAAa1/D,EAAM,IAAM83D,EAAK6H,gBAAgB3/D,EAC7D,CACA,SAASo8D,GAAUtE,EAAM5pE,GACV,MAATA,EACF4pE,EAAK6H,gBAAgB,SAErB7H,EAAKsE,UAAYluE,CACrB,CACA,SAASoJ,GAAiBwgE,EAAM93D,EAAM+/D,EAASC,GAC7C,GAAIA,EACE75D,MAAMwmC,QAAQozB,IAChBjI,EAAK,KAAK93D,KAAU+/D,EAAQ,GAC5BjI,EAAK,KAAK93D,SAAc+/D,EAAQ,IAEhCjI,EAAK,KAAK93D,KAAU+/D,OACjB,GAAI55D,MAAMwmC,QAAQozB,GAAU,CACjC,MAAME,EAAYF,EAAQ,GAC1BjI,EAAKxgE,iBAAiB0I,EAAM+/D,EAAQ,GAAMjO,GAAOmO,EAAU/vE,KAAK4nE,EAAMiI,EAAQ,GAAIjO,GACpF,MACEgG,EAAKxgE,iBAAiB0I,EAAM+/D,EAA4B,oBAAZA,GAA0BA,EAC1E,CACA,SAASG,GAAUpI,EAAM5pE,EAAO2oE,EAAO,CAAC,GACtC,MAAMsJ,EAAYpyE,OAAO2qB,KAAKxqB,GAAS,CAAC,GAAIkyE,EAAWryE,OAAO2qB,KAAKm+C,GACnE,IAAImB,EAAI3E,EACR,IAAK2E,EAAK,EAAG3E,EAAM+M,EAASlqE,OAAQ8hE,EAAK3E,EAAK2E,IAAM,CAClD,MAAMp1D,EAAMw9D,EAASpI,GAChBp1D,GAAe,cAARA,IAAuB1U,EAAM0U,KAEzCy9D,GAAevI,EAAMl1D,GAAK,UACnBi0D,EAAKj0D,GACd,CACA,IAAKo1D,EAAK,EAAG3E,EAAM8M,EAAUjqE,OAAQ8hE,EAAK3E,EAAK2E,IAAM,CACnD,MAAMp1D,EAAMu9D,EAAUnI,GAAKsI,IAAepyE,EAAM0U,GAC3CA,GAAe,cAARA,GAAuBi0D,EAAKj0D,KAAS09D,GAAeA,IAEhED,GAAevI,EAAMl1D,GAAK,GAC1Bi0D,EAAKj0D,GAAO09D,EACd,CACA,OAAOzJ,CACT,CACA,SAAShgB,GAAMihB,EAAM5pE,EAAO2oE,GAC1B,IAAK3oE,EACH,OAAO2oE,EAAO6I,GAAa5H,EAAM,SAAW5pE,EAC9C,MAAMqyE,EAAYzI,EAAKjhB,MACvB,GAAqB,kBAAV3oD,EACT,OAAOqyE,EAAUC,QAAUtyE,EAI7B,IAAI0B,EAAGylE,EACP,IAAKA,IAJW,kBAATwB,IAAsB0J,EAAUC,QAAU3J,OAAO,GACxDA,IAASA,EAAO,CAAC,GACjB3oE,IAAUA,EAAQ,CAAC,GAER2oE,EACI,MAAb3oE,EAAMmnE,IAAekL,EAAUE,eAAepL,UACvCwB,EAAKxB,GAEd,IAAKA,KAAMnnE,EACT0B,EAAI1B,EAAMmnE,GACNzlE,IAAMinE,EAAKxB,KACbkL,EAAUG,YAAYrL,EAAIzlE,GAC1BinE,EAAKxB,GAAMzlE,GAGf,OAAOinE,CACT,CACA,SAAS8J,GAAO7I,EAAMtY,EAAQ,CAAC,EAAGyf,EAAO2B,GACvC,MAAMC,EAAY,CAAC,EAMnB,OALKD,GACH3K,IAAmB,IAAM4K,EAAUxJ,SAAWyJ,GAAiBhJ,EAAMtY,EAAM6X,SAAUwJ,EAAUxJ,YAEjGpB,IAAmB,IAA2B,oBAAdzW,EAAME,KAAsB+Q,GAAIjR,EAAME,IAAKoY,KAC3E7B,IAAmB,IAAMnsD,GAAOguD,EAAMtY,EAAOyf,GAAO,EAAM4B,GAAW,KAC9DA,CACT,CACA,SAASpQ,GAAIzvC,EAAIw9C,EAASuC,GACxB,OAAO9L,IAAQ,IAAMj0C,EAAGw9C,EAASuC,IACnC,CACA,SAASpC,GAAO/yC,EAAQo1C,EAAUC,EAAQC,GAGxC,QAFe,IAAXD,GAAsBC,IACxBA,EAAU,IACY,oBAAbF,EACT,OAAOF,GAAiBl1C,EAAQo1C,EAAUE,EAASD,GACrDhL,IAAoBnB,GAAYgM,GAAiBl1C,EAAQo1C,IAAYlM,EAASmM,IAASC,EACzF,CACA,SAASp3D,GAAOguD,EAAMtY,EAAOyf,EAAO2B,EAAcC,EAAY,CAAC,EAAGM,GAAU,GAC1E3hB,IAAUA,EAAQ,CAAC,GACnB,IAAK,MAAMgS,KAAQqP,EACjB,KAAMrP,KAAQhS,GAAQ,CACpB,GAAa,aAATgS,EACF,SACFqP,EAAUrP,GAAQ4P,GAAWtJ,EAAMtG,EAAM,KAAMqP,EAAUrP,GAAOyN,EAAOkC,EAAS3hB,EAClF,CAEF,IAAK,MAAMgS,KAAQhS,EAAO,CACxB,GAAa,aAATgS,EAAqB,CAClBoP,GACHE,GAAiBhJ,EAAMtY,EAAM6X,UAC/B,QACF,CACA,MAAMnpE,EAAQsxD,EAAMgS,GACpBqP,EAAUrP,GAAQ4P,GAAWtJ,EAAMtG,EAAMtjE,EAAO2yE,EAAUrP,GAAOyN,EAAOkC,EAAS3hB,EACnF,CACF,CACA,SAAS6hB,GAAerhE,GACtB,OAAOA,EAAKmyB,cAAcxxB,QAAQ,aAAa,CAACukB,EAAGo8C,IAAMA,EAAEC,eAC7D,CACA,SAASlB,GAAevI,EAAMl1D,EAAK1U,GACjC,MAAMszE,EAAa5+D,EAAI6+D,OAAO/wD,MAAM,OACpC,IAAK,IAAIsnD,EAAK,EAAG0J,EAAUF,EAAWtrE,OAAQ8hE,EAAK0J,EAAS1J,IAC1DF,EAAKoI,UAAUyB,OAAOH,EAAWxJ,GAAK9pE,EAC1C,CACA,SAASkzE,GAAWtJ,EAAMtG,EAAMtjE,EAAO2oE,EAAMoI,EAAOkC,EAAS3hB,GAC3D,IAAIoiB,EAAMC,EAAQC,EAAaC,EAAWC,EAC1C,GAAa,UAATxQ,EACF,OAAO3a,GAAMihB,EAAM5pE,EAAO2oE,GAC5B,GAAa,cAATrF,EACF,OAAO0O,GAAUpI,EAAM5pE,EAAO2oE,GAChC,GAAI3oE,IAAU2oE,EACZ,OAAOA,EACT,GAAa,QAATrF,EACG2P,GACHjzE,EAAM4pE,QACH,GAAyB,QAArBtG,EAAKnsD,MAAM,EAAG,GAAc,CACrC,MAAMysD,EAAKN,EAAKnsD,MAAM,GACtBwxD,GAAQiB,EAAKzgE,oBAAoBy6D,EAAI+E,EAAsB,oBAATA,GAAuBA,GACzE3oE,GAAS4pE,EAAKxgE,iBAAiBw6D,EAAI5jE,EAAwB,oBAAVA,GAAwBA,EAC3E,MAAO,GAA0B,eAAtBsjE,EAAKnsD,MAAM,EAAG,IAAsB,CAC7C,MAAMysD,EAAKN,EAAKnsD,MAAM,IACtBwxD,GAAQiB,EAAKzgE,oBAAoBy6D,EAAI+E,GAAM,GAC3C3oE,GAAS4pE,EAAKxgE,iBAAiBw6D,EAAI5jE,GAAO,EAC5C,MAAO,GAAyB,OAArBsjE,EAAKnsD,MAAM,EAAG,GAAa,CACpC,MAAMrF,EAAOwxD,EAAKnsD,MAAM,GAAG8sB,cACrB6tC,EAAW3C,GAAgBrY,IAAIhlD,GACrC,IAAKggE,GAAYnJ,EAAM,CACrB,MAAMoL,EAAK97D,MAAMwmC,QAAQkqB,GAAQA,EAAK,GAAKA,EAC3CiB,EAAKzgE,oBAAoB2I,EAAMiiE,EACjC,EACIjC,GAAY9xE,KACdoJ,GAAiBwgE,EAAM93D,EAAM9R,EAAO8xE,GACpCA,GAAYX,GAAe,CAACr/D,IAEhC,MAAO,GAAyB,UAArBwxD,EAAKnsD,MAAM,EAAG,GACvBq6D,GAAa5H,EAAMtG,EAAKnsD,MAAM,GAAInX,QAC7B,GAAyB,UAArBsjE,EAAKnsD,MAAM,EAAG,GACvBy6D,GAAiBhI,EAAMtG,EAAKnsD,MAAM,GAAInX,QACjC,IAAK8zE,EAAiC,UAArBxQ,EAAKnsD,MAAM,EAAG,MAAoBy8D,EAAc5F,GAAgBlX,IAAIwM,MAAWyN,KAAW8C,EAAY5E,GAAa3L,EAAMsG,EAAKsF,YAAcyE,EAAS5F,GAAWjX,IAAIwM,OAAYoQ,EAAO9J,EAAKoK,SAASh7D,SAAS,MAAQ,OAAQs4C,GAChPwiB,IACFxQ,EAAOA,EAAKnsD,MAAM,GAClBw8D,GAAS,GAEE,UAATrQ,GAA6B,cAATA,EACtB4K,GAAUtE,EAAM5pE,IACT0zE,GAASC,GAAWC,EAG3BhK,EAAKiK,GAAavQ,GAAQtjE,EAF1B4pE,EAAKuJ,GAAe7P,IAAStjE,MAG1B,CACL,MAAMixC,EAAK8/B,GAASzN,EAAKrlC,QAAQ,MAAQ,GAAKoxC,GAAa/L,EAAK9gD,MAAM,KAAK,IACvEyuB,EACFygC,GAAe9H,EAAM34B,EAAIqyB,EAAMtjE,GAE/BwxE,GAAa5H,EAAMqE,GAAQ3K,IAASA,EAAMtjE,EAC9C,CACA,OAAOA,CACT,CACA,SAASuxE,GAAa3N,GACpB,IAAIgG,EAAOhG,EAAGpgC,OACd,MAAM9uB,EAAM,KAAKkvD,EAAGj0C,OACdskD,EAAYrQ,EAAGpgC,OACf0wC,EAAmBtQ,EAAGuQ,cACtBC,EAAYp0E,GAAUH,OAAOC,eAAe8jE,EAAI,SAAU,CAC9DtiE,cAAc,EACdtB,UAEIq0E,EAAa,KACjB,MAAMxC,EAAUjI,EAAKl1D,GACrB,GAAIm9D,IAAYjI,EAAKjf,SAAU,CAC7B,MAAM1lD,EAAO2kE,EAAK,GAAGl1D,SAErB,QADS,IAATzP,EAAkB4sE,EAAQ7vE,KAAK4nE,EAAM3kE,EAAM2+D,GAAMiO,EAAQ7vE,KAAK4nE,EAAMhG,GAChEA,EAAG0Q,aACL,MACJ,CAEA,OADA1K,EAAK2K,MAA6B,kBAAd3K,EAAK2K,OAAsB3K,EAAK2K,KAAKC,QAAU5K,EAAK6K,SAAS7Q,EAAGpgC,SAAW4wC,EAASxK,EAAK2K,OACtG,CAAI,EAEPG,EAAa,KACjB,MAAOL,MAAiBzK,EAAOA,EAAK4K,QAAU5K,EAAK6F,YAAc7F,EAAK2K,OACpE,EAQJ,GANA10E,OAAOC,eAAe8jE,EAAI,gBAAiB,CACzCtiE,cAAc,EACd,GAAAE,GACE,OAAOooE,GAAQlhE,QACjB,IAEEk7D,EAAG+Q,aAAc,CACnB,MAAMl8C,EAAOmrC,EAAG+Q,eAChBP,EAAS37C,EAAK,IACd,IAAK,IAAIqxC,EAAK,EAAGA,EAAKrxC,EAAKzwB,OAAS,EAAG8hE,IAAM,CAE3C,GADAF,EAAOnxC,EAAKqxC,IACPuK,IACH,MACF,GAAIzK,EAAK4K,OAAQ,CACf5K,EAAOA,EAAK4K,OACZE,IACA,KACF,CACA,GAAI9K,EAAK6F,aAAeyE,EACtB,KAEJ,CACF,MACEQ,IACFN,EAASH,EACX,CACA,SAASrB,GAAiBl1C,EAAQ19B,EAAO4mE,EAASmM,EAAQ6B,GACxD,MAA0B,oBAAZhO,EACZA,EAAUA,IACZ,GAAI5mE,IAAU4mE,EACZ,OAAOA,EACT,MAAMuJ,SAAYnwE,EAAO60E,OAAmB,IAAX9B,EAEjC,GADAr1C,EAASm3C,GAASjO,EAAQ,IAAMA,EAAQ,GAAG6I,YAAc/xC,EAC9C,WAAPyyC,GAA0B,WAAPA,EAAiB,CACtC,GAAW,WAAPA,IACFnwE,EAAQA,EAAMsF,WACVtF,IAAU4mE,GACZ,OAAOA,EAEX,GAAIiO,EAAO,CACT,IAAIjL,EAAOhD,EAAQ,GACfgD,GAA0B,IAAlBA,EAAKkL,SACflL,EAAK3kE,OAASjF,IAAU4pE,EAAK3kE,KAAOjF,GAEpC4pE,EAAOlhE,SAASqsE,eAAe/0E,GACjC4mE,EAAUoO,GAAct3C,EAAQkpC,EAASmM,EAAQnJ,EACnD,MAEIhD,EADc,KAAZA,GAAqC,kBAAZA,EACjBlpC,EAAOgzC,WAAWzrE,KAAOjF,EAEzB09B,EAAOizC,YAAc3wE,CAErC,MAAO,GAAa,MAATA,GAAwB,YAAPmwE,EAC1BvJ,EAAUoO,GAAct3C,EAAQkpC,EAASmM,OACpC,IAAW,aAAP5C,EAOT,OANApI,IAAmB,KACjB,IAAIrmE,EAAI1B,IACR,MAAoB,oBAAN0B,EACZA,EAAIA,IACNklE,EAAUgM,GAAiBl1C,EAAQh8B,EAAGklE,EAASmM,EAAO,IAEjD,IAAMnM,EACR,GAAI3uD,MAAMwmC,QAAQz+C,GAAQ,CAC/B,MAAMk7B,EAAQ,GACR+5C,EAAerO,GAAW3uD,MAAMwmC,QAAQmoB,GAC9C,GAAIsO,GAAuBh6C,EAAOl7B,EAAO4mE,EAASgO,GAEhD,OADA7M,IAAmB,IAAMnB,EAAUgM,GAAiBl1C,EAAQxC,EAAO0rC,EAASmM,GAAQ,KAC7E,IAAMnM,EAEf,GAAqB,IAAjB1rC,EAAMlzB,QAER,GADA4+D,EAAUoO,GAAct3C,EAAQkpC,EAASmM,GACrC8B,EACF,OAAOjO,OACAqO,EACc,IAAnBrO,EAAQ5+D,OACVmtE,GAAYz3C,EAAQxC,EAAO63C,GAE3BvD,GAAgB9xC,EAAQkpC,EAAS1rC,IAEnC0rC,GAAWoO,GAAct3C,GACzBy3C,GAAYz3C,EAAQxC,IAEtB0rC,EAAU1rC,CACZ,MAAO,GAAIl7B,EAAM80E,SAAU,CACzB,GAAI78D,MAAMwmC,QAAQmoB,GAAU,CAC1B,GAAIiO,EACF,OAAOjO,EAAUoO,GAAct3C,EAAQkpC,EAASmM,EAAQ/yE,GAC1Dg1E,GAAct3C,EAAQkpC,EAAS,KAAM5mE,EACvC,MAAsB,MAAX4mE,GAA+B,KAAZA,GAAmBlpC,EAAOgzC,WAGtDhzC,EAAO0yC,aAAapwE,EAAO09B,EAAOgzC,YAFlChzC,EAAOukC,YAAYjiE,GAGrB4mE,EAAU5mE,CACZ,CACE,CACF,OAAO4mE,CACT,CACA,SAASsO,GAAuBE,EAAYl6C,EAAO0rC,EAASyO,GAC1D,IAAIC,GAAU,EACd,IAAK,IAAIxL,EAAK,EAAG3E,EAAMjqC,EAAMlzB,OAAQ8hE,EAAK3E,EAAK2E,IAAM,CACnD,IAAoEqG,EAAhEp4D,EAAOmjB,EAAM4uC,GAAKnB,EAAO/B,GAAWA,EAAQwO,EAAWptE,QAC3D,GAAY,MAAR+P,IAAyB,IAATA,IAA0B,IAATA,QAEhC,GAA2B,YAAtBo4D,SAAYp4D,IAAsBA,EAAK+8D,SAC/CM,EAAWl+D,KAAKa,QACX,GAAIE,MAAMwmC,QAAQ1mC,GACvBu9D,EAAUJ,GAAuBE,EAAYr9D,EAAM4wD,IAAS2M,OACvD,GAAW,aAAPnF,EACT,GAAIkF,EAAS,CACX,MAAuB,oBAATt9D,EACZA,EAAOA,IACTu9D,EAAUJ,GAAuBE,EAAYn9D,MAAMwmC,QAAQ1mC,GAAQA,EAAO,CAACA,GAAOE,MAAMwmC,QAAQkqB,GAAQA,EAAO,CAACA,KAAU2M,CAC5H,MACEF,EAAWl+D,KAAKa,GAChBu9D,GAAU,MAEP,CACL,MAAMt1E,EAAQsd,OAAOvF,GACjB4wD,GAA0B,IAAlBA,EAAKmM,UAAkBnM,EAAK1jE,OAASjF,EAC/Co1E,EAAWl+D,KAAKyxD,GAEhByM,EAAWl+D,KAAKxO,SAASqsE,eAAe/0E,GAC5C,CACF,CACA,OAAOs1E,CACT,CACA,SAASH,GAAYz3C,EAAQxC,EAAO63C,EAAS,MAC3C,IAAK,IAAIjJ,EAAK,EAAG3E,EAAMjqC,EAAMlzB,OAAQ8hE,EAAK3E,EAAK2E,IAC7CpsC,EAAOuyC,aAAa/0C,EAAM4uC,GAAKiJ,EACnC,CACA,SAASiC,GAAct3C,EAAQkpC,EAASmM,EAAQwC,GAC9C,QAAe,IAAXxC,EACF,OAAOr1C,EAAOizC,YAAc,GAC9B,MAAM/G,EAAO2L,GAAe7sE,SAASqsE,eAAe,IACpD,GAAInO,EAAQ5+D,OAAQ,CAClB,IAAIwtE,GAAW,EACf,IAAK,IAAI1L,EAAKlD,EAAQ5+D,OAAS,EAAG8hE,GAAM,EAAGA,IAAM,CAC/C,MAAM2L,EAAK7O,EAAQkD,GACnB,GAAIF,IAAS6L,EAAI,CACf,MAAMC,EAAWD,EAAGhG,aAAe/xC,EAC9B83C,GAAa1L,EAGhB4L,GAAYD,EAAGvF,SAFfwF,EAAWh4C,EAAO0yC,aAAaxG,EAAM6L,GAAM/3C,EAAOuyC,aAAarG,EAAMmJ,EAGzE,MACEyC,GAAW,CACf,CACF,MACE93C,EAAOuyC,aAAarG,EAAMmJ,GAC5B,MAAO,CAACnJ,EACV,CACA,MAAM+L,GAAgB,6BACtB,SAAS7T,GAAcoN,EAAS6B,GAAQ,GACtC,OAAOA,EAAQroE,SAASktE,gBAAgBD,GAAezG,GAAWxmE,SAASo5D,cAAcoN,EAC3F,CACA,SAAS2G,GAAOvkB,GACd,MAAM,UACJwkB,GACExkB,EAAOyhB,EAASrqE,SAASqsE,eAAe,IAAKtS,EAAQ,IAAMnR,EAAMmR,OAAS/5D,SAAS6vB,KAAM2tC,EAAQsC,KACrG,IAAI16D,EACAioE,IAAcnR,EAAale,QA2B/B,OA1BAshB,IAAa,KACXl6D,IAAYA,EAAU26D,GAAavC,GAAO,IAAMiC,IAAW,IAAM7W,EAAM6X,cACvE,MAAMsM,EAAKhT,IACX,GAAIgT,aAAcO,gBAAiB,CACjC,MAAOC,EAAOC,GAAYhP,GAAa,GACjCpuB,EAAU,IAAMo9B,GAAS,GAC/BzP,GAAY+J,GAAYC,GAAOgF,GAAI,IAAOQ,IAAsBzF,IAAZ1iE,KAAuB,QAC3Ew6D,GAAUxvB,EACZ,KAAO,CACL,MAAMq9B,EAAYrU,GAAcxQ,EAAMyf,MAAQ,IAAM,MAAOzf,EAAMyf,OAAQqF,EAAaN,GAAaK,EAAUE,aAAeF,EAAUE,aAAa,CACjJC,KAAM,SACHH,EACLt2E,OAAOC,eAAeq2E,EAAW,SAAU,CACzC,GAAA30E,GACE,OAAOuxE,EAAOtD,UAChB,EACAnuE,cAAc,IAEhBmvE,GAAO2F,EAAYtoE,GACnB2nE,EAAGxT,YAAYkU,GACf7kB,EAAME,KAAOF,EAAME,IAAI2kB,GACvB7N,IAAU,IAAMmN,EAAGc,YAAYJ,IACjC,SACC,EAAQ,CACThU,QAAS4T,IAEJhD,CACT,CACA,SAASyD,GAAQllB,GACf,MAAOpyB,EAAIu3C,GAAU/J,GAAWpb,EAAO,CAAC,cAClColB,EAASvO,IAAW,IAAMjpC,EAAGy3C,YACnC,OAAOxO,IAAW,KAChB,MAAMwO,EAAYD,IAClB,cAAeC,GACb,IAAK,WACH,OAAO5P,IAAQ,IAAM4P,EAAUF,KACjC,IAAK,SACH,MAAMG,EAAQxH,GAAYtY,IAAI6f,GACxBlB,EAAK3T,GAAc6U,EAAWC,GAEpC,OADAnE,GAAOgD,EAAIgB,EAAQG,GACZnB,EACX,GAEJ,CACA,IAAI5yE,GAAI,CAAEoC,KAAM,IAAM2gC,GAAKuqC,GAAO,iBAAmBh/C,SAAWg/C,EAAKA,EAAG0G,cAAc,YAAc1lD,OAAO2lD,UAAYj3E,OAAO+b,QAAQu0D,GAAMznE,SAASquE,MAAM9U,YAAYv5D,SAASo5D,cAAc,UAAW,CAAEkP,UAAW,IAAKlrE,GAAI,aAAc4qE,WAAaP,GAAMttE,GAAGm0E,GAAI,oEAAqE1+D,GAAI,qBAAsB2+D,GAAI,OAAQp2E,GAAI,CAAC+iE,EAAIuM,KACzX,IAAI+G,EAAI,GAAI5F,EAAK,GAAIjO,EAAK,GAC1B,IAAK,IAAI+H,KAAMxH,EAAI,CACjB,IAAIgE,EAAKhE,EAAGwH,GACZ,KAAOA,EAAG,GAAK,KAAOA,EAAG,GAAK8L,EAAI9L,EAAK,IAAMxD,EAAK,IAAM0J,GAAM,KAAOlG,EAAG,GAAKvqE,GAAE+mE,EAAIwD,GAAMA,EAAK,IAAMvqE,GAAE+mE,EAAI,KAAOwD,EAAG,GAAK,GAAK+E,GAAM,IAAM,iBAAmBvI,EAAK0J,GAAMzwE,GAAE+mE,EAAIuI,EAAKA,EAAG19D,QAAQ,YAAa0kE,GAAO/L,EAAG34D,QAAQ,iCAAkC2kE,GAAO,IAAI5mD,KAAK4mD,GAAMA,EAAG3kE,QAAQ,KAAM0kE,GAAMA,EAAKA,EAAK,IAAMC,EAAKA,MAAOhM,GAAM,MAAQxD,IAAOwD,EAAK,MAAM56C,KAAK46C,GAAMA,EAAKA,EAAG34D,QAAQ,SAAU,OAAOwxB,cAAeo/B,GAAMxiE,GAAEqsB,EAAIrsB,GAAEqsB,EAAEk+C,EAAIxD,GAAMwD,EAAK,IAAMxD,EAAK,IAC/c,CACA,OAAOsP,GAAK/G,GAAM9M,EAAK8M,EAAK,IAAM9M,EAAK,IAAMA,GAAMiO,CAAE,EACpD5P,GAAI,CAAC,EAAG/7B,GAAKi+B,IACd,GAAI,iBAAmBA,EAAI,CACzB,IAAIuM,EAAK,GACT,IAAK,IAAI+G,KAAKtT,EACZuM,GAAM+G,EAAIvxC,GAAEi+B,EAAGsT,IACjB,OAAO/G,CACT,CACA,OAAOvM,CAAE,EACRtvD,GAAI,CAACsvD,EAAIuM,EAAI+G,EAAGpN,EAAI5qC,KACrB,IAAIm4C,EAAK1xC,GAAEi+B,GAAK0T,EAAI5V,GAAE2V,KAAQ3V,GAAE2V,GAAM,CAAEF,IACtC,IAAIC,EAAK,EAAGG,EAAK,GACjB,KAAOH,EAAKD,EAAGnvE,QACbuvE,EAAK,IAAMA,EAAKJ,EAAG37C,WAAW47C,OAAU,EAC1C,MAAO,KAAOG,CACf,EALqC,CAKnCF,IACH,IAAK3V,GAAE4V,GAAI,CACT,IAAIF,EAAKC,IAAOzT,EAAKA,EAAK,CAAEuT,IAC1B,IAAIK,EAAID,EAAI7O,EAAK,CAAC,CAAC,GACnB,KAAO8O,EAAKR,GAAES,KAAKN,EAAG1kE,QAAQ6F,GAAG,MAC/Bk/D,EAAG,GAAK9O,EAAGgP,QAAUF,EAAG,IAAMD,EAAKC,EAAG,GAAG/kE,QAAQwkE,GAAG,KAAK1D,OAAQ7K,EAAGiP,QAAQjP,EAAG,GAAG6O,GAAM7O,EAAG,GAAG6O,IAAO,CAAC,IAAM7O,EAAG,GAAG8O,EAAG,IAAMA,EAAG,GAAG/kE,QAAQwkE,GAAG,KAAK1D,OACnJ,OAAO7K,EAAG,EACX,EALyB,CAKvB9E,GACHlC,GAAE4V,GAAKz2E,GAAEq+B,EAAK,CAAE,CAAC,cAAgBo4C,GAAIF,GAAOA,EAAIF,EAAI,GAAK,IAAMI,EACjE,CACA,IAAIM,EAAIV,GAAKxV,GAAEmW,EAAInW,GAAEmW,EAAI,KACzB,OAAOX,IAAMxV,GAAEmW,EAAInW,GAAE4V,IAAK,EAAEH,EAAIC,EAAIG,EAAIjG,KACtCA,EAAK8F,EAAGnyE,KAAOmyE,EAAGnyE,KAAKwN,QAAQ6+D,EAAI6F,IAAO,IAAMC,EAAGnyE,KAAKg5B,QAAQk5C,KAAQC,EAAGnyE,KAAOsyE,EAAKJ,EAAKC,EAAGnyE,KAAOmyE,EAAGnyE,KAAOkyE,EACjH,EAFyB,CAEvBzV,GAAE4V,GAAInH,EAAIrG,EAAI8N,GAAIN,CAAC,EACrBpqD,GAAI,CAAC02C,EAAIuM,EAAI+G,IAAMtT,EAAGnrD,QAAO,CAAC0+D,EAAI7F,EAAIjO,KACvC,IAAI+H,EAAK+E,EAAG9M,GACZ,GAAI+H,GAAMA,EAAGppE,KAAM,CACjB,IAAI81E,EAAK1M,EAAG8L,GAAIE,EAAKU,GAAMA,EAAGxmB,OAASwmB,EAAGxmB,MAAM4c,WAAa,MAAM19C,KAAKsnD,IAAOA,EAC/E1M,EAAKgM,EAAK,IAAMA,EAAKU,GAAM,iBAAmBA,EAAKA,EAAGxmB,MAAQ,GAAKzwD,GAAEi3E,EAAI,KAAM,IAAUA,EAAK,GAAKA,CACrG,CACA,OAAOX,EAAK7F,GAAM,MAAQlG,EAAK,GAAKA,EAAG,GACtC,IACH,SAAS2M,GAAEnU,GACT,IAAIsT,EAAIv2E,MAAQ,CAAC,EAAG2wE,EAAK1N,EAAG5hE,KAAO4hE,EAAGsT,EAAEhqD,GAAK02C,EAC7C,OAAOtvD,GAAEg9D,EAAGqG,QAAUrG,EAAG0G,IAAM9qD,GAAEokD,EAAI,GAAGn6D,MAAMnV,KAAK4G,UAAW,GAAIsuE,EAAEhqD,GAAKokD,EAAG74D,QAAO,CAAC0+D,EAAIhH,IAAOtwE,OAAO+b,OAAOu7D,EAAIhH,GAAMA,EAAGnuE,KAAOmuE,EAAG+G,EAAEhqD,GAAKijD,IAAK,CAAC,GAAKmB,EAAI1rC,GAAEsxC,EAAE1zC,QAAS0zC,EAAEW,EAAGX,EAAEr2E,EAAGq2E,EAAEn2E,EACrL,CACAg3E,GAAEhxE,KAAK,CAAE8wE,EAAG,IACZ,IAAII,GAAIF,GAAEhxE,KAAK,CAAEhG,EAAG,IACpB,MAAMm3E,GAAepP,KACrB,SAASqP,GAAc7mB,GACrB,OAAOka,GAAgB0M,GAAalP,SAAU,CAC5ChpE,MAAOsxD,EAAMtG,MACb,YAAIme,GACF,OAAO7X,EAAM6X,QACf,GAEJ,CACA,SAASiP,KACP,OAAOlP,GAAWgP,GACpB,CACA,SAASG,GAAW3oC,GAClB,IAAIuZ,EAAOtoD,MAAQ,CAAC,EACpB,MAAO,IAAIq0B,KACT,MAAMsjD,EAAUhnB,IACd,MAAMtG,EAAQke,GAAWgP,IACnBK,EAAYtM,GAAW3a,EAAO,CAAEtG,UAChCwtB,EAAQvM,GAAWsM,EAAW,CAClC,SAAI,GACF,MAAME,EAASF,EAAU9vB,MAAOiwB,EAAS,UAAWH,GAAa,YAAY/nD,KAAKioD,GAClF,IAAIE,EAAaZ,GAAE90E,MACjB,CAAEugC,OAAQylB,EAAKzlB,OAAQ3iC,EAAG63E,EAAQxrD,EAAGqrD,EAAWV,EAAG5uB,EAAK4uB,GACxD7iD,GAEF,MAAO,CAACyjD,EAAQE,GAAY5/D,OAAO6/D,SAAS//D,KAAK,IACnD,KAEKggE,EAAOC,GAAYpM,GAAW8L,EAAO,CAAC,KAAM,UAC7CO,EAAYD,EACZE,EAAYH,EAAMI,IAAMvpC,EAC9B,IAAI+lC,EAaJ,MAZyB,oBAAduD,EACTvD,EAAKuD,EAAUD,GAGC,GAAV9vB,EAAK4uB,GACPpC,EAAK/sE,SAASo5D,cAAckX,GAC5BvG,GAAOgD,EAAIsD,IAEXtD,EAAKe,GAAQvK,GAAW,CAAE0K,UAAWqC,GAAaD,IAIjDtD,CAAE,EAOX,OALA6C,EAAO7vB,MAAS6I,GACPyV,IAAQ,IACNgR,GAAE90E,MAAM,CAAEugC,OAAQylB,EAAKzlB,OAAQtW,EAAGokC,EAAOumB,EAAG5uB,EAAK4uB,GAAK7iD,KAG1DsjD,CAAM,CAEjB,CACA,MAAMY,GAAS,IAAI3T,MAAM8S,GAAY,CACnC,GAAA72E,CAAIgiC,EAAQkM,GACV,OAAOlM,EAAOkM,EAChB,IAEF,SAASypC,KACP,MAAMrmD,EAAKulD,GAAWr2E,KAAK,CAAE61E,EAAG,GAAK,OAAO50E,MAAM,KAAM2F,WACxD,OAAO,SAAuB0oD,GAE5B,OADAx+B,EAAGw+B,GACI,IACT,CACF,CACA,MAAM8nB,GAAkB,YAClBC,GAAqB,sBACrBC,GAAkB,mBAClBC,GAAe,KACnB7wE,SAAS6vB,KAAKnvB,iBAAiB,aAAa,IAAMV,SAAS6vB,KAAKy5C,UAAU55D,IAAIkhE,MAC9E5wE,SAAS6vB,KAAKnvB,iBAAiB,WAAY3D,IACvB,QAAdA,EAAMiP,KACRhM,SAAS6vB,KAAKy5C,UAAU9B,OAAOoJ,GACjC,IAEF,MAAME,EAASL,EAAkB;MAC7BC;;;;;;;;;;;MAWAA;;;;;MAKAA;;;;MAIAA;;;;MAIAA;;;;WAIKC;;;;;;;WAOAC,MAAmBF;;;EAI5B,OAAO5N,GAAgBgO,EAAQ,CAAC,EAAE,EAEpC,SAASC,GAAS/9C,GACD,MAAXA,EAAI,KACNA,EAAMA,EAAIvkB,MAAM,IAElB,MAAMuiE,EAASp6C,SAAS5D,EAAK,IACvBw7C,EAAIwC,GAAU,GAAK,IACnB7B,EAAI6B,GAAU,EAAI,IAClBnhE,EAAa,IAATmhE,EACV,MAAO,CAACxC,EAAGW,EAAGt/D,GAAGM,KAAK,IACxB,CACA,SAAS8gE,GAAKC,EAAOC,GAInB,MAHiB,MAAbD,EAAM,KACRA,EAAQH,GAASG,IAEZ,QAAQA,MAAUC,IAC3B,CACA,SAASC,GAAK95E,GACZ,OAAOA,EAAMsF,WAAa,IAC5B,CACA,MAAMy0E,GAAmB,MACvB,WAAAl2E,GACE2/D,EAAc7iE,KAAM,UAAW,CAAC,EAClC,CACA,kBAAOq5E,GAIL,OAHKD,GAAiBE,WACpBF,GAAiBE,SAAW,IAAIF,IAE3BA,GAAiBE,QAC1B,CACA,UAAIjyE,GACF,OAAOnI,OAAO2qB,KAAK7pB,KAAK42B,SAASvvB,MACnC,CACA,KAAAmT,GACExa,KAAK42B,QAAU,CAAC,CAClB,CACA,OAAAxnB,CAAQ2E,GACN,IAAIwlE,EACJ,OAAoC,OAA5BA,EAAMv5E,KAAK42B,QAAQ7iB,IAAgBwlE,EAAM,IACnD,CACA,GAAAxlE,CAAI8C,GACF,IAAI0iE,EACJ,MAAM1vD,EAAO3qB,OAAO2qB,KAAK7pB,KAAK42B,SAC9B,OAAI/f,EAAQ,GAAKA,GAASgT,EAAKxiB,OACtB,KAEqB,OAAtBkyE,EAAM1vD,EAAKhT,IAAkB0iE,EAAM,IAC7C,CACA,UAAAl0D,CAAWtR,UACF/T,KAAK42B,QAAQ7iB,EACtB,CACA,OAAAmF,CAAQnF,EAAK1U,GACXW,KAAK42B,QAAQ7iB,GAAO1U,CACtB,GAEF,IAAIm6E,GAAkBJ,GACtBvW,EAAc2W,GAAiB,YAC/B,MAAMvlD,IAAQ,EACd,SAAS1vB,MAAY8vB,GAEjB,KACMJ,KAAoB,MAAVzD,YAAiB,EAASA,OAAO+D,eAC7CD,QAAQL,MAAM,0BAA2BI,EAE7C,CAAE,MAAO4uC,GACT,CAEJ,CACA,SAAS38D,MAAY+tB,GAEjB,KACMJ,KAAoB,MAAVzD,YAAiB,EAASA,OAAO+D,eAC7CD,QAAQpjB,MAAM,0BAA2BmjB,EAE7C,CAAE,MAAO4uC,GACT,CAEJ,CACA,SAASpvC,MAAcQ,GAEnB,KACMJ,KAAoB,MAAVzD,YAAiB,EAASA,OAAO+D,eAC7CD,QAAQG,KAAK,0BAA2BJ,EAE5C,CAAE,MAAO4uC,GACT,CAEJ,CACA,SAASwW,GAAKl/C,GACZ,MAAO,IAAI,IAAI/iB,IAAI+iB,GACrB,CACA,IAAIiB,GAAa,CAAC,EAClB,IACE,IAAIC,EAAehL,SAASiL,KAAK/2B,WACjC62B,GAAaG,GAAmBF,EAClC,CAAE,MAAOwnC,IACT,CACA,IAAIrnC,GAAc,UAIlB,IAHkB,MAAdJ,QAAqB,EAASA,GAAWK,oBAC3CD,GAAoD,OAArC72B,EAAKy2B,GAAWK,kBAA4B92B,EAAK,WAE9C,YAAhB62B,GAA2B,CAC7B,MAAM89C,EAAUC,KAChB/9C,GAA8I,OAA/HntB,EAA+F,OAAzFD,EAA2D,OAArDD,EAAgB,MAAXmrE,OAAkB,EAASA,EAAQ59C,eAAoB,EAASvtB,EAAGwtB,aAAkB,EAASvtB,EAAG4pB,UAAoB3pB,EAAK,SAC5J,CACA,IAAIutB,GAAgB,MAIpB,IAHkB,MAAdR,QAAqB,EAASA,GAAWS,mBAC3CD,GAAgBR,GAAWS,kBAExBD,GAAe,CAClB,MAAM09C,EAAUC,KAChB39C,GAA+I,OAA9HptB,EAA+F,OAAzFD,EAA2D,OAArDD,EAAgB,MAAXgrE,OAAkB,EAASA,EAAQ59C,eAAoB,EAASptB,EAAGqtB,aAAkB,EAASptB,EAAGqoB,SAAmBpoB,EAAK,KAC7J,CACA,SAASwsB,MAAiBc,GACxB,OAAOA,EAAU7jB,SAASujB,GAC5B,CACA,SAAS9vB,KACP,IAAIytE,EACJ,MAAuB,YAAhB39C,OAAyD,OAAxB29C,EAAMI,WAAyB,EAASJ,EAAIp9C,qBACtF,CACA,SAASd,KACP,IAAIk+C,EACJ,MAAMn9C,KAAgD,OAAxBm9C,EAAMI,WAAyB,EAASJ,EAAIl9C,iBAC1E,OAAQvwB,MAAaswB,IAAsC,YAAhBR,EAC7C,CACA,SAASN,KACPgB,GAAU,iBAAkB,CAAC,EAC/B,CACA,SAASM,KACP,IACE,MAAM88C,EAAUC,KAChB,QAAKD,IAGoB,MAAlBA,EAAQ38C,QAAkB28C,IAAYA,EAAQ38C,OACvD,CAAE,MAAOkmC,IACP,OAAO,CACT,CACF,CACA,SAAS3mC,GAAUU,EAAWC,GAC5B,IACE,MAAMy8C,EAAUC,KAChB,IAAKD,EACH,MAAM,IAAI1V,EAAkB,4DAE9B,QAAqC,IAAjC0V,EAAQv9C,qBACV53B,GAAS,YAAay4B,EAAWC,GACjCy8C,EAAQv9C,qBAAqBG,UAAUU,EAAWjiB,KAAKC,UAAUiiB,SAC5D,GAAIy8C,EAAQx8C,UAAY,WAAYw8C,EAAQx8C,SACjD34B,GAAS,YAAay4B,EAAWC,GACjCy8C,EAAQx8C,SAASC,OAAOpiB,KAAKC,UAAU,CAAEgiB,YAAWC,mBAC/C,KAAIL,KAMT,MAAM,IAAIonC,EAAkB,2BANP,CACrB,MAAM5mC,EAAgB,IAChB5zB,EAAUuR,KAAKC,UAAU,CAAEgiB,YAAWC,cAC5C14B,GAAS,YAAay4B,EAAWC,GACjCy8C,EAAQ38C,OAAOM,YAAY7zB,EAAS4zB,EACtC,CAEA,CACF,CAAE,MAAO6lC,IACP38D,GAAS,sCAAsC28D,KACjD,CACF,CACA,SAAStnC,GAAmBF,GAC1BA,EAAeA,EAAa3pB,QAAQ,KAAM,IAC1C,IAAIxI,EAAS,CAAC,EACd,IAAKmyB,EAAap0B,OAChB,OAAOiC,EAET,GAAImyB,EAAa6B,QAAQ,KAAO,GAAK7B,EAAa6B,QAAQ,KAAO,EAE/D,OADAh0B,EAAOi0B,MAAQC,GAAc/B,GACtBnyB,EAET,IAAIm0B,EAAShC,EAAa6B,QAAQ,KAClC,GAAIG,GAAU,EAAG,CACf,IAAIC,EAAYjC,EAAakC,OAAO,EAAGF,GACvCn0B,EAAOi0B,MAAQC,GAAcE,GAC7BjC,EAAeA,EAAakC,OAAOF,EAAS,EAC9C,CACA,IAAIG,EAAeC,GAAoBpC,GACvC,IAAK,IAAIr7B,KAAKw9B,EACZt0B,EAAOlJ,GAAKw9B,EAAax9B,GAE3B,OAAOkJ,CACT,CACA,SAASk0B,GAAcM,GACrB,IAEE,OADAA,EAAaA,EAAWhsB,QAAQ,MAAO,OAChCisB,mBAAmBD,EAC5B,CAAE,MAAOmlC,IACP,OAAOnlC,CACT,CACF,CACA,SAASD,GAAoBG,GAC3B,IAAI10B,EAAS,CAAC,EACd,IAAK00B,EAAY32B,OACf,OAAOiC,EAET,IACI6/D,EAAIl/D,EAAOg0B,EAAWC,EADtBC,EAAoBH,EAAYnc,MAAM,KAE1C,IAAKsnD,EAAK,EAAGA,EAAKhrC,EAAkB92B,OAAQ8hE,IAC1Cl/D,EAAQk0B,EAAkBgrC,GAAItnD,MAAM,KACpCoc,EAAYT,GAAcvzB,EAAM,IAChCi0B,EAAyB,MAAZj0B,EAAM,GAAa,KAAOuzB,GAAcvzB,EAAM,IAC3DX,EAAO20B,GAAaC,EAEtB,OAAO50B,CACT,CACA,MAAMswE,GAAW,CACfC,OAAQ,IACRC,OAAQ,MAEV,SAASC,GAASv2C,GAChB,IAAI+1C,EACJ,MAAMG,EAAUC,KAChB,IAAKD,EACH,MAAkB,YAAXl2C,EAET,GAAIpI,GAAc,QAChB,OAAO,EAET,MAAM4+C,EAAQN,EAAQO,WACtB,OAAQz2C,GACN,IAAK,UACH,OAAOw2C,EAAQJ,GAASE,OAC1B,IAAK,SACH,OAAOE,EAAQJ,GAASC,OAC1B,QACA,IAAK,SACH,IAAIK,EAAYF,GAASJ,GAASC,QAAU9mD,GAAK,MAAO,UAAW,QACnE,GAAImnD,EAAW,CACb,MAAM/6C,KAAyC,OAAxBo6C,EAAMI,WAAyB,EAASJ,EAAIp9C,sBAC7DkG,EAAiBpK,UAAUoK,gBAAkB,EAC/ClD,GAAiC,IAAnBkD,IAChB63C,GAAY,GAEd7W,EAAK9+D,SAAS,iDAAkD21E,EAAW/6C,EAAYkD,EACzF,CACA,OAAO63C,EAEb,CACA,SAASC,GAAM32C,GACb,OAAQA,GACN,IAAK,SACH,MAAO,sBAAsBo2C,GAASC,YACxC,IAAK,SACH,MAAO,sBAAsBD,GAASE,yBAAyBF,GAASC,YAC1E,QACA,IAAK,UACH,MAAO,sBAAsBD,GAASE,YAE5C,CACA,MAAMM,GAAa,uBACbC,GAAgB,oCACfC,GAAUC,IAAehU,EAAawT,GAAS,WAChDS,GAAiB,IAAMD,GAAYR,GAAS,WAKlD,SAASU,GAAaC,EAASvpE,GAC7B,QAAKA,IAGEupE,EAAQvpE,KAAKmyB,gBAAkBnyB,EAAKmyB,eAAiBo3C,EAAQzjD,QAAQqM,gBAAkBnyB,EAAKmyB,cACrG,CACA,SAASq3C,KACP,OAAO,CAET,CACA,SAASC,KACP,QAAKD,IAIP,CAnBIhB,OACFnpD,OAAO/nB,iBAAiB,UAAU,IAAM+xE,OACxChqD,OAAO/nB,iBAAiB,QAAQ,IAAM+xE,MAAkB,CAAEtyE,MAAM,KAkBlE,MAAM2yE,GAAkB,CAACxX,EAAKxxC,gBAAiBwxC,EAAKtxC,gBAAiBsxC,EAAKrxC,mBAAoBqxC,EAAKvxC,gBAAiBuxC,EAAKzxC,gBAAiByxC,EAAK1xC,kBAAmB0xC,EAAK5xC,kBACvK,SAASqpD,GAAyCh/B,EAAYi/B,GAC5D,QAAKJ,OAGEK,GAAYl/B,IAAek/B,GAAYD,GAChD,CACA,SAASE,GAAyCC,GAChD,QAAKP,MAGEK,GAAYE,EACrB,CACA,SAASF,GAAYG,GACnB,IACE,IAAKA,EACH,OAAO,EACT,MAAMtxD,EAAO3qB,OAAO2qB,KAAKsxD,GACzB,OAAOtxD,EAAKuxD,OAAOzL,GAAYkL,GAAgBxiE,SAASs3D,IAC1D,CAAE,MAAO1M,IACP,OAAO,CACT,CACF,CACA,SAASoY,GAAyBv/B,EAAYi/B,GAC5C,OAAKD,GAAyCh/B,EAAYi/B,IACjDT,IAGX,CACA,SAASgB,KACP,OAAKV,MACIN,IAGX,CACA,SAASiB,GAAYrkB,GACnB,QAAKA,GAEEA,EAAW/lD,OAASkyD,EAAKt2C,qBAAqB5b,IACvD,CACA,SAASqqE,GAAoBtkB,EAAYukB,EAAcP,GACrD7X,EAAK9+D,SAAS,+BACV02E,GAAyCC,IAC3CQ,GAAWxkB,EAAYukB,EAE3B,CACA,SAASE,GAAczkB,EAAYukB,GACjCpY,EAAK9+D,SAAS,yBACVq2E,MACFc,GAAWxkB,EAAYukB,EAE3B,CACA,SAASC,GAAWxkB,EAAYukB,GAC9BpY,EAAK9+D,SAAS,sBACV2yD,IACEqkB,GAAYrkB,IACdmM,EAAK9+D,SAAS,kDAAkD2yD,EAAW0kB,iBAC3EvY,EAAKzvC,gBAAgBsjC,EAAW5rB,YAEhC+3B,EAAK9+D,SAAS,uDAAuD2yD,EAAW0kB,iBAChFvY,EAAK5kD,iCAAiC4kD,EAAK7vC,6BAAwB,EAAQioD,KAGjF,CACA,SAASI,GAAuB3kB,EAAY14C,GAC1C,OAAK+8D,GAAYrkB,IAGVojB,MAA6B,WAAf97D,CACvB,CACA,SAAS2U,GAASkM,EAAMwD,EAAS,SAC/Bt+B,GAAS,oBAAqB86B,EAAMwD,GACpCrS,OAAOrE,KAAKkT,EAAMwD,EAAQ,sBAC5B,CACA,SAAS3P,GAAcmM,GACrBlM,GAASkM,EAAM,SACjB,CACA,SAASpM,GAAyBoM,EAAM7C,GACtCj4B,GAAS,oCAAoC86B,KAC7C,MAAMyD,EAAa,KACbhQ,GAAU,WAAaC,GAAK,YAAcD,GAAU,YAGxD0J,GAAU,EAENuG,EAAkB58B,YAAW,IAAM28B,KAAc,KACvDtS,OAAO/nB,iBAAiB,QAAQ,IAAM5C,aAAak9B,IAAkB,CAAE76B,MAAM,IACzE6qB,GAAK,YAAc4nD,KACrBxnD,GAASkM,EAAM,UAEflM,GAASkM,EAAM,QAEnB,CACA,SAASy8C,KACP,OAAItrD,OAAOurD,YAAcvrD,OAAOurD,WAAW,iCAAiCvsD,QACnE+6B,EAAMC,MAERD,EAAME,IACf,CACA,SAASuxB,GAAuBjyE,GAC9B,MAAMmnE,EAAWpsE,GAAUiF,EAASjF,EAAM0qB,QAAU+6B,EAAME,KAAOF,EAAMC,OAEvE,OADAh6B,OAAOurD,WAAW,gCAAgCtzE,iBAAiB,SAAUyoE,GACtE,IAAM1gD,OAAOurD,WAAW,gCAAgCvzE,oBAAoB,SAAU0oE,EAC/F,CACA,SAAS+K,KACHl0E,SAASm0E,gBAAgBC,eAAiBp0E,SAASm0E,gBAAgBE,eAGvEr0E,SAAS6vB,KAAKowB,MAAMq0B,IAAMlD,IAAMpxE,SAASm0E,gBAAgBI,WACzDv0E,SAAS6vB,KAAKy5C,UAAU55D,IAAIihE,IAC9B,CACA,SAAS6D,KACPx0E,SAAS6vB,KAAKy5C,UAAU9B,OAAOmJ,IAC/B3wE,SAASm0E,gBAAgBM,SAAS,CAAEH,KAAMI,WAAWC,iBAAiB30E,SAAS6vB,MAAMykD,OACrFt0E,SAAS6vB,KAAKowB,MAAMq0B,IAAM,MAC5B,CACA,SAASM,KACF50E,SAAS6vB,KAAKglD,aAAa,iBAC9B70E,SAAS6vB,KAAKi5C,aAAa,eAAgB,GAE/C,CACA,SAASgM,KACH90E,SAAS6vB,KAAKypC,qBAAqBoX,KAGvCqE,eAAeC,OACbtE,GACA,cAA4BuE,cAGhC,CACA,SAASC,GAAgBlzE,GACvB,OAAO+4D,EAAQ9iE,KAAM,MAAM,kBACnB,IAAI6B,SAASD,GAAYs7E,sBAAsBt7E,KACrDmI,GACF,GACF,CACA,SAASozE,GAAqBpzE,GAC5B,OAAO+4D,EAAQ9iE,KAAM,MAAM,YAEzB,aADM,IAAI6B,SAASD,GAAYs7E,sBAAsBt7E,KAC9CmI,GACT,GACF,CACA,SAASqzE,GAAcC,GACO,aAAxBt1E,SAAShC,WACXyqB,OAAO/nB,iBAAiB,QAAQ,IAAMw0E,IAAgB,IAAMG,GAAcC,MAAU,CAClFn1E,MAAM,IAGRm1E,EAAOrtE,SAASstE,IACd,MAAMrU,EAAO,IAAIz4C,OAAO+sD,MACxBtU,EAAK7H,IAAMkc,CAAG,GAGpB,CACA,SAAS3D,KACP,GAAsB,qBAAXnpD,OACT,OAAOA,MAGX,CACA,SAASgtD,KACP,GAAIC,KACF,OAAO/4D,aAET,GAAIg5D,KACF,MAAM,IAAI1Z,EACR,oEAGJ,OAAOwV,GAAgBH,aACzB,CACA,SAASoE,KACP,IACE,MAA+B,qBAAjB/4D,YAChB,CAAE,MAAOu+C,IACP,OAAO,CACT,CACF,CACA,SAASya,KACP,MAA0B,qBAAZC,SAA+C,MAApBA,QAAQC,UAA6C,MAAzBD,QAAQC,SAAS3U,IACxF,CACA,SAAStmC,KACP,IAAI42C,EAAKsE,EAAKC,EACd,MAAMplD,GAAU,IAAIkrC,EAAkBzuD,SAAUguB,YAC1CC,EAAoC,OAA1Bm2C,EAAM7gD,EAAQ2K,GAAGlyB,WAAgB,EAASooE,EAAIj2C,cACxDC,EAA8C,OAA/Bs6C,EAAMnlD,EAAQ8K,OAAOC,YAAiB,EAASo6C,EAAIv6C,cACxE,IAAID,EACJ,QAAQ,GACN,IAAqB,SAAhBE,EACHF,EAAK,OACL,MACF,IAAgB,QAAXD,EACHC,EAAK,MACL,MACF,IAAgB,YAAXD,EACHC,EAAK,UACL,MACF,IAAgB,WAAXD,EACHC,EAAK,QACL,MACF,IAAgB,UAAXD,EACHC,EAAK,QACL,MACF,KAAgB,MAAVD,OAAiB,EAASA,EAAO/qB,SAAS,WAC9CgrB,EAAK,UACL,MAEJ,MAAMK,EAA8C,OAA/Bo6C,EAAMplD,EAAQiL,QAAQxyB,WAAgB,EAAS2sE,EAAIx6C,cACxE,IAAIK,EACJ,QAAQ,GACN,IAAqB,WAAhBD,EACHC,EAAU,SACV,MACF,IAAqB,YAAhBD,EACHC,EAAU,UACV,MACF,KAAqB,MAAfD,OAAsB,EAASA,EAAYrrB,SAAS,UACxDsrB,EAAU,SACV,MACF,KAAqB,MAAfD,OAAsB,EAASA,EAAYrrB,SAAS,SACxDsrB,EAAU,QACV,MAEJ,MAAO,CACLN,KACAM,UAEJ,CACA,SAAS5Q,MAAQsQ,GACf,OAAOA,EAAGhrB,SAASsqB,KAAeU,GACpC,CACA,SAASvQ,MAAa6Q,GACpB,OAAOA,EAAQtrB,SAASsqB,KAAegB,QACzC,CACA,SAASo6C,GAAWnC,EAAe9xB,GACjC,MAAM3mD,EAAM,IAAIs5B,IAAIm/C,GACpB,OAAO9xB,EAAW3mD,EAAIw5B,MACxB,CACA,MAAMqhD,GACJ,WAAA96E,CAAY+6E,GACVpb,EAAc7iE,KAAM,gBACpB6iE,EAAc7iE,KAAM,aAAc,qCAClCA,KAAK0kB,aAAe84D,KACpBx9E,KAAKi+E,WAAaA,CACpB,CACA,aAAAC,CAAchnB,GACZl3D,KAAK0kB,aAAaxL,QAAQlZ,KAAKi+E,WAAYljE,KAAKC,UAAUk8C,GAC5D,CACA,aAAAinB,GACE,MAAMC,EAAmBp+E,KAAK0kB,aAAatV,QAAQpP,KAAKi+E,YACxD,OAAKG,EAGErjE,KAAK6e,MAAMwkD,GAFT,IAGX,CACA,gBAAAC,GACEr+E,KAAK0kB,aAAaW,WAAWrlB,KAAKi+E,WACpC,EAEF,MAAMK,GACJ,WAAAp7E,GACE2/D,EAAc7iE,KAAM,gBACpB6iE,EAAc7iE,KAAM,aAAc,mDAClCA,KAAK0kB,aAAe84D,IACtB,CACA,yBAAAe,CAA0BrnB,GACxBl3D,KAAK0kB,aAAaxL,QAAQlZ,KAAKi+E,WAAYljE,KAAKC,UAAUk8C,GAC5D,CACA,yBAAAsnB,GACE,MAAMJ,EAAmBp+E,KAAK0kB,aAAatV,QAAQpP,KAAKi+E,YACxD,OAAKG,EAGErjE,KAAK6e,MAAMwkD,GAFT,IAGX,CACA,4BAAAK,GACEz+E,KAAK0kB,aAAaW,WAAWrlB,KAAKi+E,WACpC,EAEF,MAAOS,GAAsBC,IAA2BpY,EAAa,CACnE9vC,OAAQ,SACRmoD,YAAa,OAEfpX,IAAW,IAAwC,WAAlCkX,KAAuBjoD,SACxC,MAAOooD,GAA2BC,IAAgCvY,EAAa,CAC7E9vC,OAAQ,SACRmoD,YAAa,OAETG,GAAkCvX,IACtC,IAA6C,WAAvCqX,KAA4BpoD,SAE9BuoD,GAAoCxX,IAAW,KACnD,MAAMlkE,EAAQu7E,KACd,MAAqB,WAAjBv7E,EAAMmzB,OACDnzB,EAAM4zD,WAER,IAAI,IAEb,IAAI+nB,GAAoD,qBAAXzuD,OAAyB,IAAI8tD,QAAkC,EAC5G,MAAOY,GAA2BC,IAAiC5Y,GAAiD,MAAnC0Y,QAA0C,EAASA,GAAgCT,8BAAgC,MAC9LY,GAAgCloB,IAC/B+nB,KACHA,GAAkC,IAAIX,IAEpCpnB,GACF3yD,GAAS,8CAA8CwW,KAAKC,UAAUk8C,MACtE+nB,GAAgCV,0BAA0BrnB,KAE1D3yD,GAAS,8EACT06E,GAAgCR,gCAElCU,GAA8BjoB,EAAW,GAEpCmoB,GAAWC,IAAgB/Y,EAAa,MACzCgZ,GAAmBhH,GAAOiH,GAAG;wBACV7uB,GAAUA,EAAMtG,MAAMo1B,OAAOC,WAAWC;EAE3DpC,GAAS5sB,IACb,IAAIivB,EACJ,MAAOlnB,EAAOmnB,GAAYtZ,EAAa,MAevC,OAdAc,IAAa,KACX,MAAMiW,EAAM,IAAI9sD,OAAO+sD,MAOvB,OANAD,EAAIlc,IAAMzQ,EAAMyQ,IAChBkc,EAAIwC,IAAMnvB,EAAMmvB,KAAO,GACvBxC,EAAIzM,aAAa,YAAa,SAC1BlgB,EAAM7I,OACRw1B,EAAIjM,UAAU55D,IAAIk5C,EAAM7I,OAEtBw1B,EAAIyC,SACCF,EAASvC,IAElBA,EAAI70E,iBAAiB,QAAQ,IAAMo3E,EAASvC,KACrC,IAAMA,EAAI90E,oBAAoB,QAAQ,IAAMq3E,EAASvC,KAAK,IAE5D,CAACzS,GAAgB2B,GAAM,CAC5B,QAAIG,GACF,OAAOjU,GACT,EACA,YAAI8P,GACF,OAAO9P,GACT,IACEmS,GAAgB2B,GAAM,CACxB,QAAIG,GACF,OAAQjU,GACV,EACA,YAAI8P,GACF,OAAOqC,GAAgB0U,GAAkB,CACvC,IAAK,WACH,OAAO5uB,EAAM7I,KACf,EACA,GAAA+I,CAAImvB,GACF,IAAIC,EAAQL,EACK,oBAAVK,EAAuBA,EAAMD,GAAMJ,EAASI,CACrD,GAEJ,IACC,EAECE,GAAY,CAChB//E,EAAG,QACH6kC,EAAG,MACHm7C,KAAM,KAEFC,GAAc,CAClBp7C,EAAG,IACH7kC,EAAG,KAECkgF,GAAiB9H,GAAO+H,MAAM;eACpB3vB,GAAUA,EAAM4vB,UAAY5vB,EAAM6vB,UAAY,OAAS;WAC3D7vB,GAAUA,EAAM4vB,UAAY5vB,EAAM6vB,UAAY,MAAQ;mBAC9C7vB,GAAUA,EAAM4vB,UAAY5vB,EAAM6vB,UAAY,SAAW;uBACrD7vB,GAAUA,EAAM4vB,UAAY5vB,EAAM6vB,UAAY,gBAAkB;wBAC/D7vB,GAA+B,SAArBA,EAAM8vB,WAAwB,cAAqC,cAArB9vB,EAAM8vB,WAA6B9vB,EAAMtG,MAAMo1B,OAAOC,WAAWgB,KAAO1H,GAAKroB,EAAMtG,MAAMo1B,OAAOkB,OAAQ;aAC3KhwB,GAA+B,cAArBA,EAAM8vB,WAA6B9vB,EAAMtG,MAAMo1B,OAAOmB,KAAKC,QAAUlwB,EAAMtG,MAAMo1B,OAAOkB;;eAEhGhwB,GAA+B,SAArBA,EAAM8vB,WAAwB,IAAM;oBACzC9vB,GAAUA,EAAM4vB,UAAiC,SAArB5vB,EAAM8vB,WAAwB,OAAS;qBAClE9vB,GAAUA,EAAM6vB,WAAkC,SAArB7vB,EAAM8vB,WAAwB,OAAS;;qBAEpE9vB,GAAUuvB,GAAUvvB,EAAMtG,MAAMy2B;cACvCnwB,GAAUA,EAAM3G,SAAW,cAAgB;;;;;;;;MAQpDqwB;;yBAEoB1pB,GAAUA,EAAM3G,SAAW,QAAU,SAAS,EAAIo2B,GAAYzvB,EAAMowB;;;;;qBAKxEpwB,GAAUA,EAAM3G,SAAW,QAAU,SAAS,EAAIo2B,GAAYzvB,EAAMowB;;;MAGpF3G;;yBAEoBzpB,GAAUA,EAAM3G,SAAW,QAAU,SAAS,EAA+B,EAA3Bo2B,GAAYzvB,EAAMowB;;;EAI9F,SAASC,GAAkBrwB,GACzB,MAAM9mC,EAAOu8C,IAAQ,IAAMlnE,OAAO2qB,KAAK8mC,GAAOv4C,QAAQrE,GAAQA,EAAIzB,WAAW,cACtE2uE,GAAalV,GAAWpb,EAAO9mC,GACtC,OAAOo3D,CACT,CACA,MAAMC,GAAUvwB,IACd,MAAMswB,EAAYD,GAAkBrwB,GACpC,OAAOka,GAAgBwV,GAAgB/U,GAAW,CAChD,cAAImV,GACF,OAAO9vB,EAAM8vB,YAAc,SAC7B,EACA,IAAK,WACH,OAAO9vB,EAAM7I,KACf,EACAwD,QAAU2X,IACR,IAAIsW,EACJ,OAAgC,OAAxBA,EAAM5oB,EAAMrF,cAAmB,EAASiuB,EAAIl4E,KAAKsvD,EAAOsS,EAAG,EAErEke,aAAele,IACb,IAAIsW,EACJ,OAAqC,OAA7BA,EAAM5oB,EAAMwwB,mBAAwB,EAAS5H,EAAIl4E,KAAKsvD,EAAOsS,EAAG,EAE1Eme,aAAene,IACb,IAAIsW,EACJ,OAAqC,OAA7BA,EAAM5oB,EAAMywB,mBAAwB,EAAS7H,EAAIl4E,KAAKsvD,EAAOsS,EAAG,EAE1E,GAAApS,CAAImvB,GACF,IAAIC,EAAQtvB,EAAME,IACD,oBAAVovB,EAAuBA,EAAMD,GAAMrvB,EAAME,IAAMmvB,CACxD,EACA,YAAIh2B,GACF,OAAO2G,EAAM3G,QACf,EACA,SAAI+2B,GACF,OAAOpwB,EAAMowB,OAAS,GACxB,EACA,YAAIR,GACF,QAAS5vB,EAAM4vB,QACjB,EACA,aAAIC,GACF,QAAS7vB,EAAM6vB,SACjB,EACA,iBAAkB,QACjBS,EAAW,CACZ,YAAIzY,GACF,MAAO,CAAChB,IAAW,IAAM7W,EAAM4vB,WAAW/Y,IAAW,IAAM7W,EAAM6X,WAAWhB,IAAW,IAAM7W,EAAM6vB,YACrG,IACC,EAEL,SAASa,GAAUlvD,GACjB+qD,uBAAsB,KACpBA,sBAAsB/qD,EAAG,GAE7B,CACA,MAAMmvD,GAAc3wB,IAClB,IAAImkB,EACAyM,GAAQ,EACZ,MAAOC,EAAIC,GAAQlb,KACZC,EAAIkb,GAAQnb,IACbob,EAAWnZ,IAAS,IAAM7X,EAAM6X,YAChC,cACJoZ,EAAa,QACbC,EAAO,aACPC,EAAY,aACZC,EAAY,OACZC,EAAM,YACNC,GACEtxB,EACEuxB,EAAa1a,IAAW,KAC5B,MAAMr2D,EAAOw/C,EAAMx/C,MAAQ,IAC3B,MAAO,CACLgxE,iBAAkBxxB,EAAMwxB,kBAAoBhxE,EAAO,gBACnDixE,WAAYzxB,EAAMyxB,YAAcjxE,EAAO,SACvCkxE,aAAc1xB,EAAM0xB,cAAgBlxE,EAAO,YAC3CmxE,gBAAiB3xB,EAAM2xB,iBAAmBnxE,EAAO,eACjDoxE,UAAW5xB,EAAM4xB,WAAapxE,EAAO,QACrCqxE,YAAa7xB,EAAM6xB,aAAerxE,EAAO,WAC1C,IAEH,SAASsxE,EAAgBC,EAAK1a,GAC5B,IAAKuZ,GAAS5wB,EAAMgyB,OAAQ,CAC1B,IAAIC,EAAgB,SAAS3f,IACvByf,GAASzf,GAAMA,EAAGpgC,SAAW6/C,IAC/BA,EAAIl6E,oBAAoB,gBAAiBo6E,GACzCF,EAAIl6E,oBAAoB,eAAgBo6E,GACxCF,EAAIrR,UAAU9B,UAAUsT,GACxBH,EAAIrR,UAAU9B,UAAUuT,GACxBrb,IAAM,KACJ+Z,MAASkB,GAAOjB,EAAKiB,GACrBlc,MAASkc,GAAOhB,OAAK,EAAO,IAE9BI,GAAgBA,EAAaY,GACV,UAAf/xB,EAAMglB,MACRoN,EAAeL,EAAK1a,GAE1B,EACA,MAAMgb,EAAed,IAAaE,WAAWvgE,MAAM,KAC7CghE,EAAqBX,IAAaC,iBAAiBtgE,MAAM,KACzDihE,EAAiBZ,IAAaG,aAAaxgE,MAAM,KACvD+/D,GAAiBA,EAAcc,GAC/BA,EAAIrR,UAAU55D,OAAOurE,GACrBN,EAAIrR,UAAU55D,OAAOorE,GACrBxB,IAAU,KACRqB,EAAIrR,UAAU9B,UAAUyT,GACxBN,EAAIrR,UAAU55D,OAAOqrE,GACrBjB,GAAWA,EAAQa,GAAK,IAAME,QACzBf,GAAWA,EAAQx6E,OAAS,KAC/Bq7E,EAAIj6E,iBAAiB,gBAAiBm6E,GACtCF,EAAIj6E,iBAAiB,eAAgBm6E,GACvC,GAEJ,CACA5a,IAASrX,EAAMglB,KAAO+L,EAAKgB,GAAOjB,EAAKiB,EACzC,CACA,SAASK,EAAeL,EAAK1a,GAC3B,MAAMib,EAAcf,IAAaK,UAAU1gE,MAAM,KAC3CqhE,EAAoBhB,IAAaI,gBAAgBzgE,MAAM,KACvDshE,EAAgBjB,IAAaM,YAAY3gE,MAAM,KACrD,IAAKmmD,EAAK8G,WACR,OAAO8T,IAaT,SAASA,EAAc3f,GAChBA,GAAMA,EAAGpgC,SAAWmlC,IACvBA,EAAKx/D,oBAAoB,gBAAiBo6E,GAC1C5a,EAAKx/D,oBAAoB,eAAgBo6E,GACzC5a,EAAKqJ,UAAU9B,UAAU2T,GACzBlb,EAAKqJ,UAAU9B,UAAU4T,GACzB3B,MAASxZ,GAAQyZ,OAAK,GACtBQ,GAAeA,EAAYja,GACR,UAAfrX,EAAMglB,MACR8M,EAAgBC,EAAK1a,GAE3B,CAvBA+Z,GAAgBA,EAAa/Z,GAC7BA,EAAKqJ,UAAU55D,OAAOwrE,GACtBjb,EAAKqJ,UAAU55D,OAAOyrE,GACtB7B,IAAU,KACRrZ,EAAKqJ,UAAU9B,UAAU0T,GACzBjb,EAAKqJ,UAAU55D,OAAO0rE,EAAc,IAEtCnB,GAAUA,EAAOha,GAAM,IAAM4a,QACxBZ,GAAUA,EAAO36E,OAAS,KAC7B2gE,EAAKv/D,iBAAiB,gBAAiBm6E,GACvC5a,EAAKv/D,iBAAiB,eAAgBm6E,GAc1C,CAkBA,OAjBA5b,GAAgBgB,IACd8M,EAAK6M,IACL,MAAqB,oBAAP7M,EACZA,EAAKA,IACP,OAAO1O,IAAQ,KACT0O,GAAMA,IAAO9M,IACI,UAAfrX,EAAMglB,KACR8M,EAAgB3N,EAAI9M,GACbuZ,GACPE,EAAK3M,IAEL9M,GAAQA,IAAS8M,GAAqB,UAAfnkB,EAAMglB,MAC/BoN,EAAejO,EAAI9M,GACrBuZ,GAAQ,EACDzM,IACP,IAEG,CAAC0M,EAAIhb,EAAG,EAEjB,SAAS4c,GAAetO,EAAI3C,GAC1B,MAAM7mB,EAAW2X,IACf,IAAIsW,EACJ,OAAQzE,EAAGhB,SAAS7Q,EAAGpgC,UAAkC,OAArB02C,EAAMpH,UAAsB,EAASoH,IAAM,EAEjFxxE,SAAS6vB,KAAKnvB,iBAAiB,QAAS6iD,GACxCqc,IAAU,IAAM5/D,SAAS6vB,KAAKpvB,oBAAoB,QAAS8iD,IAC7D,CACA,SAAS+3B,GAAWhtD,EAAG87C,GACrB,MAAMmR,EAAcrgB,IAClB,IAAIsW,EAAKsE,EACM,WAAX5a,EAAGlvD,MAC6B,OAAjCwlE,EAAMxxE,SAASw7E,gBAAkChK,EAAIiK,OAChC,OAArB3F,EAAM1L,MAA+B0L,IACxC,EAEF91E,SAAS6vB,KAAKnvB,iBAAiB,UAAW66E,GAC1C3b,IAAU,IAAM5/D,SAAS6vB,KAAKpvB,oBAAoB,UAAW86E,IAC/D,CACA,SAASG,GAAqBptD,EAAGgV,GAC/B,MAAM,UACJq4C,EAAS,QACT7+E,GACEwmC,IACJ,IAAKq4C,EACH,OAEF,MAAMC,EAAwC,YAAtBhhD,KAAeU,GACvC,IAAKsgD,EACH,OAEFnzD,OAAOozD,QAAQC,UAAUC,GAAa,IACtC,MAAMC,EAAmBj/E,IACvBA,EAAMk/E,iBACNn/E,GAAS,EAEX2rB,OAAO/nB,iBAAiB,WAAYs7E,EAAiB,CACnD77E,MAAM,IAERy/D,IAAU,KACRn3C,OAAOhoB,oBAAoB,WAAYu7E,GACvC9G,IAAgB,KACd,IAAI1D,GAC2E,KAA1C,OAA/BA,EAAM/oD,OAAOozD,QAAQtgF,YAAiB,EAASi2E,EAAI0K,MACvDzzD,OAAOozD,QAAQM,MACjB,GACA,GAEN,CACA,MAAMD,GAAkB,qBAClBH,GAAc,CAClB,CAACG,KAAkB,GAErB,IAAIE,GAA2BlU,GAAW,2XAA2X,GAAO,GAC5a,MAAMmU,GAAkB,CACtBC,KAAM,EACNhI,IAAK,GACLiI,MAAO,IACPC,OAAQ,KAEJC,GAAa7zB,IACjB,MAAMtG,EAAQotB,KACRgN,EAAO,IAAM9zB,EAAM8zB,MAAQp6B,EAAMo1B,OAAOxjC,KAAK0jC,UAC7C+E,EAAY,IAAM/zB,EAAM+zB,WAAa,OACrCC,EAAMpM,GAAO,MAAM;4BACEqM,GAAWR,GAAgBQ,EAAOC;;MAG7D,OAAOha,GAAgB8Z,EAAK,CAC1BG,MAAO,6BACP9K,MAAO,KACP+K,OAAQ,KACRC,QAAS,YACTP,KAAM,OACN,gBAAII,GACF,OAAOH,GACT,EACA,YAAIlc,GACF,IAAIyc,EAAOd,KAEX,OADA/c,IAAmB,IAAMyJ,GAAaoU,EAAM,OAAQR,OAC7CQ,CACT,GACA,EAEJ,IAAIC,GAA2BjV,GAAW,soBAC1C,MAAMkV,GAAax0B,IACjB,MAAMtG,EAAQotB,KACdlzE,GAAS,cAAc8lD,KACvB,MAAMo6B,EAAO,IAAM9zB,EAAM8zB,MAAQp6B,EAAMo1B,OAAOxjC,KAAK0jC,UACnD,MAAO,MACL,IAAIsF,EAAOC,KAAYE,EAAQH,EAAKlV,WAEpC,OADA3I,IAAmB,IAAMyJ,GAAauU,EAAO,OAAQX,OAC9CQ,CACR,EAJM,EAIH,EAEN,IAAII,GAA2BpV,GAAW,49BAC1C,MAAMqV,GAAW30B,IACf,MAAMtG,EAAQotB,KACRgN,EAAO,IAAM9zB,EAAM8zB,MAAQp6B,EAAMo1B,OAAOxjC,KAAK4kC,QACnD,MAAO,MACL,IAAIoE,EAAOI,KAAYD,EAAQH,EAAKlV,WAEpC,OADA3I,IAAmB,IAAMyJ,GAAauU,EAAO,OAAQX,OAC9CQ,CACR,EAJM,EAIH,EAEN,IAAIM,GAA2BtV,GAAW,mYAAoYuV,GAA4BvV,GAAW,gcAAicwV,GAA4BxV,GAAW,mcAC77B,MAAMyV,GAAe/0B,IACnB,MAAMtG,EAAQotB,KACRkO,EAAQ,IAAMh1B,EAAMn7C,MAAQ,IAC5BivE,EAAO,IAAM9zB,EAAM8zB,MAAQp6B,EAAMo1B,OAAOxjC,KAAKlzC,QACnD,OAAOy+D,IAAW,IAAMA,IAAW,IAAkB,OAAZme,KAAjBne,GAAuC,MAC7D,IAAIyd,EAAOM,KAAYH,EAAQH,EAAKlV,WAAY6V,EAAQR,EAAMrV,WAAY8V,EAAQD,EAAMvW,YAYxF,OAXAjI,IAAoB0e,IAClB,IAAIC,EAAMp1B,EAAM7I,MAAOk+B,EAAOvB,IAAQwB,EAAO57B,EAAMo1B,OAAOyG,SAASC,MAInE,OAHAJ,IAAQD,EAAI5jF,GAAK2uE,GAAaoU,EAAM,QAASa,EAAI5jF,EAAI6jF,GACrDC,IAASF,EAAI7gD,GAAK4rC,GAAa+U,EAAO,OAAQE,EAAI7gD,EAAI+gD,GACtDC,IAASH,EAAInuE,GAAKk5D,GAAagV,EAAO,SAAUC,EAAInuE,EAAIsuE,GACjDH,CAAG,GACT,CACD5jF,OAAG,EACH+iC,OAAG,EACHttB,OAAG,IAEEstE,CACR,EAd8D,GAcxDzd,IAAW,IAAkB,MAAZme,KAAjBne,GAAsC,MAC3C,IAAI4e,EAAQZ,KAAaa,EAAQD,EAAMrW,WAAYuW,EAAQD,EAAMhX,YAYjE,OAXAjI,IAAoB0e,IAClB,IAAIS,EAAO51B,EAAM7I,MAAO0+B,EAAO/B,IAAQgC,EAAOp8B,EAAMo1B,OAAOyG,SAASC,MAIpE,OAHAI,IAAST,EAAI5jF,GAAK2uE,GAAauV,EAAO,QAASN,EAAI5jF,EAAIqkF,GACvDC,IAASV,EAAI7gD,GAAK4rC,GAAawV,EAAO,OAAQP,EAAI7gD,EAAIuhD,GACtDC,IAASX,EAAInuE,GAAKk5D,GAAayV,EAAO,OAAQR,EAAInuE,EAAI8uE,GAC/CX,CAAG,GACT,CACD5jF,OAAG,EACH+iC,OAAG,EACHttB,OAAG,IAEEyuE,CACR,EAd4C,GActC,MACL,IAAIM,EAAQjB,KAAakB,EAAQD,EAAM3W,WAAY6W,EAASD,EAAMtX,YAYlE,OAXAjI,IAAoB0e,IAClB,IAAIe,EAAOl2B,EAAM7I,MAAOg/B,EAAOrC,IAAQsC,EAAO18B,EAAMo1B,OAAOyG,SAASC,MAIpE,OAHAU,IAASf,EAAI5jF,GAAK2uE,GAAa6V,EAAO,QAASZ,EAAI5jF,EAAI2kF,GACvDC,IAAShB,EAAI7gD,GAAK4rC,GAAa8V,EAAO,OAAQb,EAAI7gD,EAAI6hD,GACtDC,IAASjB,EAAInuE,GAAKk5D,GAAa+V,EAAQ,OAAQd,EAAInuE,EAAIovE,GAChDjB,CAAG,GACT,CACD5jF,OAAG,EACH+iC,OAAG,EACHttB,OAAG,IAEE+uE,CACR,EAdM,IAcF,EAEP,IAAIM,GAA2B/W,GAAW,wgCAAygCgX,GAA4BhX,GAAW,sgCAAugCiX,GAA4BjX,GAAW,sgCACxoE,MAAMkX,GAAax2B,IACjB8mB,KACA,MAAMkO,EAAQ,IAAMh1B,EAAMn7C,MAAQ,IAClC,OAAOgyD,IAAW,IAAMA,IAAW,IAAkB,MAAZme,KAAjBne,GAAsCwf,KAAaxf,IAAW,IAAkB,MAAZme,KAAjBne,GAAsCyf,KAAcC,MAAY,EAE7I,IAAIE,GAA2BnX,GAAW,2kBAA4kBoX,GAA4BpX,GAAW,kiBAAmiBqX,GAA0BrX,GAAW,8SACruC,MAAMsX,GAAc52B,IAClB,MAAMtG,EAAQotB,KACRkO,EAAQ,IAAMh1B,EAAMn7C,MAAQ,KAC5BivE,EAAO,IAAM9zB,EAAM8zB,MAAQp6B,EAAMo1B,OAAOxjC,KAAKurC,SAC7CC,EAAkBnQ,EAAC;;;;;;;MAQnBoQ,EAAWtQ,EAAC;qBACCqQ;MAEnB,OAAOjgB,IAAW,IAAMA,IAAW,IAAkB,OAAZme,KAAjBne,GAAuC,MAC7D,IAAIyd,EAAOmC,KAAYhC,EAAQH,EAAKlV,WAUpC,OATA3I,IAAoB0e,IAClB,IAAIC,EAAMliB,EAAY1uD,QAAQuyE,EAAU/2B,EAAM7I,OAAQk+B,EAAOvB,IAG7D,OAFAsB,IAAQD,EAAI5jF,GAAK2uE,GAAaoU,EAAM,QAASa,EAAI5jF,EAAI6jF,GACrDC,IAASF,EAAI7gD,GAAK4rC,GAAauU,EAAO,OAAQU,EAAI7gD,EAAI+gD,GAC/CF,CAAG,GACT,CACD5jF,OAAG,EACH+iC,OAAG,IAEEggD,CACR,EAZ8D,GAYxDzd,IAAW,IAAkB,MAAZme,KAAjBne,GAAsC,MAC3C,IAAIoe,EAAQyB,KAAaxB,EAAQD,EAAM7V,WAUvC,OATA3I,IAAoB0e,IAClB,IAAIG,EAAOpiB,EAAY1uD,QAAQuyE,EAAU/2B,EAAM7I,OAAQy+B,EAAO9B,IAG9D,OAFAwB,IAASH,EAAI5jF,GAAK2uE,GAAa+U,EAAO,QAASE,EAAI5jF,EAAI+jF,GACvDM,IAAST,EAAI7gD,GAAK4rC,GAAagV,EAAO,OAAQC,EAAI7gD,EAAIshD,GAC/CT,CAAG,GACT,CACD5jF,OAAG,EACH+iC,OAAG,IAEE2gD,CACR,EAZ4C,GAYtC,MACL,IAAIQ,EAAQkB,KAAWjB,EAAQD,EAAMrW,WAUrC,OATA3I,IAAoB0e,IAClB,IAAIU,EAAO3iB,EAAY1uD,QAAQuyE,EAAU/2B,EAAM7I,OAAQ2+B,EAAOhC,IAG9D,OAFA+B,IAASV,EAAI5jF,GAAK2uE,GAAauV,EAAO,QAASN,EAAI5jF,EAAIskF,GACvDC,IAASX,EAAI7gD,GAAK4rC,GAAawV,EAAO,SAAUP,EAAI7gD,EAAIwhD,GACjDX,CAAG,GACT,CACD5jF,OAAG,EACH+iC,OAAG,IAEEmhD,CACR,EAZM,IAYF,EAEP,IAAIuB,GAA2B1X,GAAW,g9BAC1C,MAAM2X,GAAgBj3B,IACpB,MAAMtG,EAAQotB,KACRgN,EAAO,IAAM9zB,EAAM8zB,MAAQp6B,EAAMo1B,OAAOxjC,KAAK0jC,UACnD,MAAO,MACL,IAAIsF,EAAO0C,KAAYvC,EAAQH,EAAKlV,WAEpC,OADA3I,IAAmB,IAAMyJ,GAAauU,EAAO,OAAQX,OAC9CQ,CACR,EAJM,EAIH,EAEN,IAAI4C,GAA2B5X,GAAW,m2BAC1C,MAAM6X,GAAazxD,IACjB,MAAMg0B,EAAQotB,KACd,MAAO,MACL,IAAIwN,EAAO4C,KAAYzC,EAAQH,EAAKlV,WAEpC,OADA3I,IAAmB,IAAMyJ,GAAauU,EAAO,OAAQ/6B,EAAMo1B,OAAOmB,KAAKC,WAChEoE,CACR,EAJM,EAIH,EAEN,IAAI8C,GAA2B9X,GAAW,+9LAC1C,MAAM+X,GAAUr3B,IACd,MAAMtG,EAAQotB,KACRgN,EAAO,IAAM9zB,EAAM8zB,MAAQp6B,EAAMo1B,OAAOxjC,KAAK0jC,UACnD,MAAO,MACL,IAAIsF,EAAO8C,KAAY3C,EAAQH,EAAKlV,WAEpC,OADA3I,IAAmB,IAAMyJ,GAAauU,EAAO,OAAQX,OAC9CQ,CACR,EAJM,EAIH,EAEAgD,GAAmB1P,GAAO+H,MAAM;;;;;;;;;;;;;;MAchCjG;;;;;;;;;;MAUAD;;;;;EAMA8N,GAAcv3B,IAClB,MAAMswB,EAAYD,GAAkBrwB,GAC9B1U,EAAO,IAAM0U,EAAM1U,MAAQ,QACjC,OAAO4uB,GAAgBod,GAAkB3c,GAAW,CAClD,IAAK,WACH,OAAO3a,EAAM7I,KACf,EACAwD,QAAS,IAAMqF,EAAMrF,UACrB,sBAAuB,QACtB21B,EAAW,CACZ,YAAIzY,GACF,MAAO,CAACqC,GAAgB2B,GAAM,CAC5B,QAAIG,GACF,QAAShc,EAAM6X,QACjB,EACA,YAAIA,GACF,OAAO7X,EAAM6X,QACf,IACEqC,GAAgB2B,GAAM,CACxB,QAAIG,GACF,OAAQhc,EAAM6X,QAChB,EACA,YAAIA,GACF,OAAOqC,GAAgBgC,GAAQ,CAC7B,YAAIrE,GACF,MAAO,CAACqC,GAAgBqC,GAAO,CAC7B,QAAIP,GACF,MAAkB,UAAX1wB,GACT,EACA,YAAIusB,GACF,OAAOqC,GAAgBsa,GAAW,CAChC,QAAIV,GACF,OAAO9zB,EAAM8zB,IACf,GAEJ,IACE5Z,GAAgBqC,GAAO,CACzB,QAAIP,GACF,MAAkB,UAAX1wB,GACT,EACA,YAAIusB,GACF,OAAOqC,GAAgB2Z,GAAW,CAChC,QAAIC,GACF,OAAO9zB,EAAM8zB,IACf,GAEJ,IACE5Z,GAAgBqC,GAAO,CACzB,QAAIP,GACF,MAAkB,aAAX1wB,GACT,EACA,YAAIusB,GACF,OAAOqC,GAAgB+c,GAAc,CACnC,QAAInD,GACF,OAAO9zB,EAAM8zB,IACf,GAEJ,IACE5Z,GAAgBqC,GAAO,CACzB,QAAIP,GACF,MAAyB,kBAAX1wB,GAChB,EACA,YAAIusB,GACF,OAAOvsB,GACT,IAEJ,GAEJ,IAEJ,IACC,EAECksC,GAAY,CAChBhoF,EAAG,OACH6kC,EAAG,OACHm7C,KAAM,KAEFiI,GAAwB7P,GAAOiH,GAAG;;;;;;;;;;;;IAYpCrF,GAAM;;;EAIJkO,GAAoBjR,EAAC;;;;;IAKvB+C,GAAM;;;;;EAMJmO,GAAkB/P,GAAOiH,GAAG;;;;;;;;sBAQX7uB,GAAUA,EAAMtG,MAAMo1B,OAAOC,WAAWmB;mBAC3ClwB,GAAUw3B,GAAUx3B,EAAMtG,MAAMy2B;;IAEhD3G,GAAM;;;;EAKJoO,GAAoBhQ,GAAO2P,GAAW;;;;EAK5C3P,GAAOiH,GAAG;;;;;uBAKc7uB,GAAUw3B,GAAUx3B,EAAMtG,MAAMy2B;MACjDnwB,GAAUw3B,GAAUx3B,EAAMtG,MAAMy2B;EAEvCvI,GAAO2P,GAAW;sBACKv3B,GAAUqoB,GAAKroB,EAAMtG,MAAMo1B,OAAOxjC,KAAK0jC,UAAW;EAEzE,MAAM6I,GACJ,WAAAtlF,GACE2/D,EAAc7iE,KAAM,cAAe,EACrC,EAEF,MAAMyoF,GAAiB,MACrB,WAAAvlF,GACE2/D,EAAc7iE,KAAM,cAAe,GACnC6iE,EAAc7iE,KAAM,eAAgB,GACpC6iE,EAAc7iE,KAAM,YAAa,MACjC6iE,EAAc7iE,KAAM,WAAY,IAAIwoF,IACpC3lB,EAAc7iE,KAAM,WAAY6B,QAAQD,QAAQ5B,OAChD6iE,EAAc7iE,KAAM,SAAU,MAC9B6iE,EAAc7iE,KAAM,KAAM,IAC1B6iE,EAAc7iE,KAAM,WAAW,GAC/B6iE,EAAc7iE,KAAM,YAAa,YACjC6iE,EAAc7iE,KAAM,eAAgB,UACpC6iE,EAAc7iE,KAAM,QAAS6B,QAAQD,QAAQ5B,OAC7C6iE,EAAc7iE,KAAM,WAAY,MAChC6iE,EAAc7iE,KAAM,WAAY,MAChC6iE,EAAc7iE,KAAM,WAAY,KAClC,CACA,aAAOC,GAOL,OANKwoF,GAAeC,YAClB70D,GACE,0KAEF40D,GAAeC,UAAY,IAAID,IAE1BA,GAAeC,SACxB,CACA,MAAAC,GACA,CACA,MAAAC,GACA,CACA,KAAAC,GACA,CACA,IAAAC,GACA,CACA,OAAAC,GACA,CACA,gBAAAtgF,CAAiBugF,EAAOC,EAAWC,GACnC,CACA,aAAA78C,CAAc88C,GACZ,OAAO,CACT,CACA,mBAAA3gF,CAAoBwgF,EAAOI,EAAWF,GACtC,CACA,kBAAAG,CAAmBC,GACnB,CACA,YAAAC,GACA,CACA,OAAAvtC,GACA,GAEF,IAAIwtC,GAAgBf,GAEpB,SAASgB,GAAQ9Z,EAAS+Z,EAAWt3D,GACnC,MAAI,YAAau9C,EACRA,EAAQ8Z,QAAQC,EAAWt3D,GAE7Bo3D,GAAcvpF,QACvB,CANA4iE,EAAc2mB,GAAe,YAAa,MAO1C,IAAIG,GAA2B1Z,GAAW,SAC1C,MAAM2Z,GAAexG,GACfyG,GAAaxG,GACbyG,GAAqBrG,GACrBsG,GAASp5B,IACb,MAAMtG,EAAQotB,KACRwJ,EAAYD,GAAkBrwB,GAQpC,OAPA0W,IAAa,KACP1W,EAAMq5B,OACR/N,KAEAM,IACF,IAEK1R,GAAgByW,GAAY,CACjCM,cAAgB9M,IACd,MAAMmV,EAAWlQ,GAAS,UAAY,IAAM,IAC5C0P,GAAQ3U,EAAI,CAAC,CACXoE,QAAS,GACR,CACDA,QAAS,IACP,CACF+Q,aAEElQ,GAAS,WACX0P,GAAQ3U,EAAGoV,kBAAmB,CAAC,CAC7BC,UAAW,qBACV,CACDA,UAAW,kBACT,CACFF,YAEJ,EAEFjI,OAAQ,CAAClN,EAAI1yE,KACX,MAAM6nF,EAAWlQ,GAAS,UAAY,IAAM,IACtCqQ,EAAsBX,GAAQ3U,EAAI,CAAC,CACvCoE,QAAS,GACR,CACDA,QAAS,IACP,CACF+Q,aAEF,GAAIlQ,GAAS,UAAW,CACtB,MAAMsQ,EAAmBZ,GAAQ3U,EAAGoV,kBAAmB,CAAC,CACtDC,UAAW,iBACV,CACDA,UAAW,sBACT,CACFF,aAEFpoF,QAAQyoF,IAAI,CAACF,EAAoBG,SAAUF,EAAiBE,WAAWloF,KAAKD,EAC9E,MACEgoF,EAAoBG,SAASloF,KAAKD,EACpC,EAEF,YAAIomE,GACF,OAAOqC,GAAgB2B,GAAM,CAC3B,QAAIG,GACF,OAAOhc,EAAMq5B,MACf,EACA,YAAIxhB,GACF,OAAOqC,GAAgBud,GAAuB9c,GAAW,CACvD,gBAAiB,QAChB2V,EAAW,CACZ,YAAIzY,GACF,IAAIyc,EAAO0E,KA2BX,OA1BA/nB,GAAIkoB,GAAoB7E,GAAM,KAAM,CAClCvB,WAAW,EACX7+E,QAAS,IAAM8rD,EAAM9rD,cAEvB+8D,GAAIioB,GAAY5E,GAAM,IAAM,IAAMt0B,EAAM9rD,YACxC+8D,GAAIgoB,GAAc3E,GAAM,IAAM,IAAMt0B,EAAM9rD,YAC1CirE,GAAOmV,EAAMpa,GAAgByd,GAAiB,CAC5C,IAAK,WACH,OAAO33B,EAAM7I,KACf,EACA,YAAI0gB,GACF,MAAO,CAACqC,GAAgB0d,GAAmB,CACzCtsC,KAAM,QACNqP,QAAS,IAAMqF,EAAM9rD,YACnB2iE,IAAW,IAAM7W,EAAM6X,WAC7B,KAEFpB,IAAmB,IAAMmG,GAAU0X,EAAMphB,EAAY1uD,QAAQkzE,GAAmBjR,EAAC;iDAC9C+Q,GAAU99B,EAAMy2B;oDACbz2B,EAAMo1B,OAAOC,WAAWgB;;kCAE1CvG,GAAM;qDACagO,GAAU99B,EAAMy2B;0CAC3BqH,GAAU99B,EAAMy2B;;kCAGrCmE,CACT,IAEJ,GAEJ,GACA,EAEEuF,GAAsB,CAC1BrqF,EAAG,OACH6kC,EAAG,OACHm7C,KAAM,KAEFsK,GAAqB,CACzBtqF,EAAG,OACH6kC,EAAG,MACHm7C,KAAM,KAER5H,GAAOiH,GAAG;;;;;;;;;qBASY7uB,GAAU65B,GAAoB75B,EAAMtG,MAAMy2B;;wBAEvCnwB,GAAUA,EAAMtG,MAAMo1B,OAAOC,WAAWC;EAEjEpH,GAAOiH,GAAG;;;;;;;;qBAQY7uB,GAAU85B,GAAmB95B,EAAMtG,MAAMy2B;wBACtCnwB,GAAUA,EAAMtG,MAAMo1B,OAAOC,WAAWgL;;iBAE/C/5B,GAAUA,EAAM2zB,MAAQ,mBAAqB;;;EAI/D/L,GAAOlqE,KAAK;;EAGZkqE,GAAOlvB,KAAK;;;;cAIGsH,GAAUA,EAAMg6B,SAAW,UAAY;;;;;qBAKhCh6B,GAAUA,EAAMg6B,SAAW,OAAS;;;;UAI/Ch6B,GAAWA,EAAMg6B,SAA4D,GAAjD,UAAUh6B,EAAMtG,MAAMo1B,OAAOmB,KAAKjB;;EAGzE,MAAMiL,GAAoB,CACxBzqF,EAAG,OACH6kC,EAAG,OACHm7C,KAAM,KAEF0K,GAAe,CACnB1qF,EAAG,OACH6kC,EAAG,MACHm7C,KAAM,KAEF2K,GAAe,IACfC,GAAiB,GACjBC,GAAiB,GACjBC,GAAe,EACfC,GAAiB3S,GAAOiH,GAAG;;;;;;;;;;;;EAa3B2L,GAAmB5S,GAAO+H,MAAM;;;;;wBAKb3vB,GAAUA,EAAMtG,MAAMo1B,OAAOC,WAAW0L;qBAC3Cz6B,GAAUi6B,GAAkBj6B,EAAMtG,MAAMy2B;eAC/C3H,GAAK8R;cACN9R,GAAK2R,GAA8B,EAAfG;;;;;;;MAO5B5Q;;cAEQ6Q,GAAepjC;;;;;;;UAOnBojC,GAAepjC;;;;;MAKnBsyB;;cAEQ8Q,GAAepjC;;;;;EAMvBujC,GAAkB9S,GAAOiH,GAAG;;;;;;;;;;;;;;;;;gBAiBjB7uB,GAAUA,EAAMtG,MAAMo1B,OAAO6L;;EAGxCC,GAAkBhT,GAAOiH,GAAG;;aAErBrG,GAAK4R;cACJ5R,GAAK4R;kBACAp6B,GAAUA,EAAMtG,MAAMo1B,OAAOC,WAAW0L;;;;;EAMrDI,GAAgBjT,GAAOgF,GAAM;aACrB5sB,GAAUwoB,GAAKxoB,EAAMn7C;cACpBm7C,GAAUwoB,GAAKxoB,EAAMn7C;qBACdm7C,GAAUk6B,GAAal6B,EAAMtG,MAAMy2B;wBAChCnwB,GAAUA,EAAMtG,MAAMo1B,OAAOC,WAAW0L;EAEjE7S,GAAOiH,GAAG;;;;;;;;;;;;;;wBAce7uB,GAAUA,EAAMtG,MAAMo1B,OAAOC,WAAWgL;EAEjE,IAAIe,GAAW,CAAErsF,QAAS,CAAC,IAC3B,SAAUssF,GACR,IAAIC,EAAU,WACZ,IAAIC,EAAU,SAASC,EAAYC,GACjC,IAAIC,EAAO,IACPC,EAAO,GACPC,EAAcJ,EACdK,EAAwBC,EAAuBL,GAC/CM,EAAW,KACXC,EAAe,EACfC,EAAa,KACbC,EAAY,GACZC,EAAQ,CAAC,EACTC,EAAW,SAAS58D,EAAM68D,GAC5BL,EAA6B,EAAdJ,EAAkB,GACjCG,EAAW,SAASO,GAElB,IADA,IAAIC,EAAU,IAAIt1E,MAAMq1E,GACfE,EAAM,EAAGA,EAAMF,EAAaE,GAAO,EAAG,CAC7CD,EAAQC,GAAO,IAAIv1E,MAAMq1E,GACzB,IAAK,IAAIG,EAAM,EAAGA,EAAMH,EAAaG,GAAO,EAC1CF,EAAQC,GAAKC,GAAO,IAExB,CACA,OAAOF,CACT,CATW,CASTP,GACFU,EAA0B,EAAG,GAC7BA,EAA0BV,EAAe,EAAG,GAC5CU,EAA0B,EAAGV,EAAe,GAC5CW,IACAC,IACAC,EAAcr9D,EAAM68D,GAChBT,GAAe,GACjBkB,EAAgBt9D,GAEA,MAAdy8D,IACFA,EAAac,EAAWnB,EAAaC,EAAuBK,IAE9Dc,EAAQf,EAAYI,EACtB,EACIK,EAA4B,SAASF,EAAKC,GAC5C,IAAK,IAAIvW,GAAK,EAAGA,GAAK,EAAGA,GAAK,EAC5B,KAAIsW,EAAMtW,IAAM,GAAK8V,GAAgBQ,EAAMtW,GAE3C,IAAK,IAAItP,GAAM,EAAGA,GAAM,EAAGA,GAAM,EAC3B6lB,EAAM7lB,IAAO,GAAKolB,GAAgBS,EAAM7lB,IAG1CmlB,EAASS,EAAMtW,GAAGuW,EAAM7lB,GADtB,GAAKsP,GAAKA,GAAK,IAAY,GAANtP,GAAiB,GAANA,IAAY,GAAKA,GAAMA,GAAM,IAAW,GAALsP,GAAe,GAALA,IAAW,GAAKA,GAAKA,GAAK,GAAK,GAAKtP,GAAMA,GAAM,EAOvI,EACIqmB,EAAqB,WAGvB,IAFA,IAAIC,EAAe,EACfC,EAAU,EACLrkB,EAAK,EAAGA,EAAK,EAAGA,GAAM,EAAG,CAChCsjB,GAAS,EAAMtjB,GACf,IAAIskB,EAAYC,EAAOC,aAAanB,IAC1B,GAANrjB,GAAWokB,EAAeE,KAC5BF,EAAeE,EACfD,EAAUrkB,EAEd,CACA,OAAOqkB,CACT,EACIP,EAAqB,WACvB,IAAK,IAAI1W,EAAI,EAAGA,EAAI8V,EAAe,EAAG9V,GAAK,EACnB,MAAlB6V,EAAS7V,GAAG,KAGhB6V,EAAS7V,GAAG,GAAKA,EAAI,GAAK,GAE5B,IAAK,IAAItP,EAAK,EAAGA,EAAKolB,EAAe,EAAGplB,GAAM,EACrB,MAAnBmlB,EAAS,GAAGnlB,KAGhBmlB,EAAS,GAAGnlB,GAAMA,EAAK,GAAK,EAEhC,EACI+lB,EAA6B,WAE/B,IADA,IAAIY,EAAMF,EAAOG,mBAAmB5B,GAC3B9iB,EAAK,EAAGA,EAAKykB,EAAIvmF,OAAQ8hE,GAAM,EACtC,IAAK,IAAI2kB,EAAI,EAAGA,EAAIF,EAAIvmF,OAAQymF,GAAK,EAAG,CACtC,IAAIjB,EAAMe,EAAIzkB,GACV2jB,EAAMc,EAAIE,GACd,GAA0B,MAAtB1B,EAASS,GAAKC,GAGlB,IAAK,IAAIvW,GAAK,EAAGA,GAAK,EAAGA,GAAK,EAC5B,IAAK,IAAItP,GAAM,EAAGA,GAAM,EAAGA,GAAM,EAE7BmlB,EAASS,EAAMtW,GAAGuW,EAAM7lB,IADhB,GAANsP,GAAgB,GAALA,IAAiB,GAAPtP,GAAkB,GAANA,GAAgB,GAALsP,GAAgB,GAANtP,CAOhE,CAEJ,EACIkmB,EAAkB,SAASt9D,GAE7B,IADA,IAAIxB,EAAOq/D,EAAOK,iBAAiB9B,GAC1B9iB,EAAK,EAAGA,EAAK,GAAIA,GAAM,EAAG,CACjC,IAAIloE,GAAO4uB,GAA4B,IAAnBxB,GAAQ86C,EAAK,GACjCijB,EAAS1pE,KAAKC,MAAMwmD,EAAK,IAAIA,EAAK,EAAIkjB,EAAe,EAAI,GAAKprF,CAChE,CACA,IAASkoE,EAAK,EAAGA,EAAK,GAAIA,GAAM,EAAG,CAC7BloE,GAAO4uB,GAA4B,IAAnBxB,GAAQ86C,EAAK,GACjCijB,EAASjjB,EAAK,EAAIkjB,EAAe,EAAI,GAAG3pE,KAAKC,MAAMwmD,EAAK,IAAMloE,CAChE,CACF,EACIisF,EAAgB,SAASr9D,EAAM68D,GAGjC,IAFA,IAAIpoF,EAAO4nF,GAAyB,EAAIQ,EACpCr+D,EAAOq/D,EAAOM,eAAe1pF,GACxB6kE,EAAK,EAAGA,EAAK,GAAIA,GAAM,EAAG,CACjC,IAAIloE,GAAO4uB,GAA4B,IAAnBxB,GAAQ86C,EAAK,GAC7BA,EAAK,EACPijB,EAASjjB,GAAI,GAAKloE,EACTkoE,EAAK,EACdijB,EAASjjB,EAAK,GAAG,GAAKloE,EAEtBmrF,EAASC,EAAe,GAAKljB,GAAI,GAAKloE,CAE1C,CACA,IAASkoE,EAAK,EAAGA,EAAK,GAAIA,GAAM,EAAG,CAC7BloE,GAAO4uB,GAA4B,IAAnBxB,GAAQ86C,EAAK,GAC7BA,EAAK,EACPijB,EAAS,GAAGC,EAAeljB,EAAK,GAAKloE,EAC5BkoE,EAAK,EACdijB,EAAS,GAAG,GAAKjjB,EAAK,EAAI,GAAKloE,EAE/BmrF,EAAS,GAAG,GAAKjjB,EAAK,GAAKloE,CAE/B,CACAmrF,EAASC,EAAe,GAAG,IAAMx8D,CACnC,EACIw9D,EAAU,SAAS/oF,EAAMooF,GAM3B,IALA,IAAIuB,GAAO,EACPpB,EAAMR,EAAe,EACrB6B,EAAW,EACXC,EAAY,EACZC,EAAWV,EAAOW,gBAAgB3B,GAC7BI,EAAMT,EAAe,EAAGS,EAAM,EAAGA,GAAO,EAAG,CACvC,GAAPA,IACFA,GAAO,GACT,MAAO,EAAM,CACX,IAAK,IAAI7lB,EAAK,EAAGA,EAAK,EAAGA,GAAM,EAC7B,GAA+B,MAA3BmlB,EAASS,GAAKC,EAAM7lB,GAAa,CACnC,IAAIqnB,GAAO,EACPH,EAAY7pF,EAAK+C,SACnBinF,EAA6C,IAArChqF,EAAK6pF,KAAeD,EAAW,IAEzC,IAAIz+C,EAAO2+C,EAASvB,EAAKC,EAAM7lB,GAC3Bx3B,IACF6+C,GAAQA,GAEVlC,EAASS,GAAKC,EAAM7lB,GAAMqnB,EAC1BJ,GAAY,GACK,GAAbA,IACFC,GAAa,EACbD,EAAW,EAEf,CAGF,GADArB,GAAOoB,EACHpB,EAAM,GAAKR,GAAgBQ,EAAK,CAClCA,GAAOoB,EACPA,GAAOA,EACP,KACF,CACF,CACF,CACF,EACIM,EAAc,SAASl6C,EAAQm6C,GAMjC,IALA,IAAIC,EAAU,EACVC,EAAa,EACbC,EAAa,EACbC,EAAS,IAAIt3E,MAAMk3E,EAASnnF,QAC5BwnF,EAAS,IAAIv3E,MAAMk3E,EAASnnF,QACvBkvE,EAAI,EAAGA,EAAIiY,EAASnnF,OAAQkvE,GAAK,EAAG,CAC3C,IAAIuY,EAAUN,EAASjY,GAAGwY,UACtBC,EAAUR,EAASjY,GAAG0Y,WAAaH,EACvCJ,EAAahsE,KAAKgc,IAAIgwD,EAAYI,GAClCH,EAAajsE,KAAKgc,IAAIiwD,EAAYK,GAClCJ,EAAOrY,GAAK,IAAIj/D,MAAMw3E,GACtB,IAAK,IAAI3lB,EAAK,EAAGA,EAAKylB,EAAOrY,GAAGlvE,OAAQ8hE,GAAM,EAC5CylB,EAAOrY,GAAGpN,GAAM,IAAM90B,EAAO66C,YAAY/lB,EAAKslB,GAEhDA,GAAWK,EACX,IAAIK,EAASzB,EAAO0B,0BAA0BJ,GAC1CK,EAAUC,EAAaV,EAAOrY,GAAI4Y,EAAOI,YAAc,GACvDC,EAAUH,EAAQpuF,IAAIkuF,GAC1BN,EAAOtY,GAAK,IAAIj/D,MAAM63E,EAAOI,YAAc,GAC3C,IAASpmB,EAAK,EAAGA,EAAK0lB,EAAOtY,GAAGlvE,OAAQ8hE,GAAM,EAAG,CAC/C,IAAIsmB,EAAWtmB,EAAKqmB,EAAQD,YAAcV,EAAOtY,GAAGlvE,OACpDwnF,EAAOtY,GAAGpN,GAAMsmB,GAAY,EAAID,EAAQE,MAAMD,GAAY,CAC5D,CACF,CACA,IAAIE,EAAiB,EACrB,IAASxmB,EAAK,EAAGA,EAAKqlB,EAASnnF,OAAQ8hE,GAAM,EAC3CwmB,GAAkBnB,EAASrlB,GAAI8lB,WAEjC,IAAI3qF,EAAO,IAAIgT,MAAMq4E,GACjB94E,EAAQ,EACZ,IAASsyD,EAAK,EAAGA,EAAKulB,EAAYvlB,GAAM,EACtC,IAASoN,EAAI,EAAGA,EAAIiY,EAASnnF,OAAQkvE,GAAK,EACpCpN,EAAKylB,EAAOrY,GAAGlvE,SACjB/C,EAAKuS,GAAS+3E,EAAOrY,GAAGpN,GACxBtyD,GAAS,GAIf,IAASsyD,EAAK,EAAGA,EAAKwlB,EAAYxlB,GAAM,EACtC,IAASoN,EAAI,EAAGA,EAAIiY,EAASnnF,OAAQkvE,GAAK,EACpCpN,EAAK0lB,EAAOtY,GAAGlvE,SACjB/C,EAAKuS,GAASg4E,EAAOtY,GAAGpN,GACxBtyD,GAAS,GAIf,OAAOvS,CACT,EACI8oF,EAAa,SAASwC,EAAaC,EAAuBC,GAG5D,IAFA,IAAItB,EAAWuB,EAAUC,YAAYJ,EAAaC,GAC9Cx7C,EAAS47C,IACJ9mB,EAAK,EAAGA,EAAK2mB,EAASzoF,OAAQ8hE,GAAM,EAAG,CAC9C,IAAI7kE,EAAOwrF,EAAS3mB,GACpB90B,EAAO67C,IAAI5rF,EAAK6rF,UAAW,GAC3B97C,EAAO67C,IAAI5rF,EAAKirF,YAAa7B,EAAO0C,gBAAgB9rF,EAAK6rF,UAAWP,IACpEtrF,EAAK+rF,MAAMh8C,EACb,CACA,IAAIi8C,EAAiB,EACrB,IAASnnB,EAAK,EAAGA,EAAKqlB,EAASnnF,OAAQ8hE,GAAM,EAC3CmnB,GAAkB9B,EAASrlB,GAAI4lB,UAEjC,GAAI16C,EAAO+7C,kBAAqC,EAAjBE,EAC7B,KAAM,0BAA4Bj8C,EAAO+7C,kBAAoB,IAAuB,EAAjBE,EAAqB,IAEtFj8C,EAAO+7C,kBAAoB,GAAsB,EAAjBE,GAClCj8C,EAAO67C,IAAI,EAAG,GAEhB,MAAO77C,EAAO+7C,kBAAoB,GAAK,EACrC/7C,EAAOk8C,QAAO,GAEhB,MAAO,EAAM,CACX,GAAIl8C,EAAO+7C,mBAAsC,EAAjBE,EAC9B,MAGF,GADAj8C,EAAO67C,IAAInE,EAAM,GACb13C,EAAO+7C,mBAAsC,EAAjBE,EAC9B,MAEFj8C,EAAO67C,IAAIlE,EAAM,EACnB,CACA,OAAOuC,EAAYl6C,EAAQm6C,EAC7B,EACAhC,EAAMgE,QAAU,SAASlsF,EAAMqxE,GAC7BA,EAAOA,GAAQ,OACf,IAAI8a,EAAU,KACd,OAAQ9a,GACN,IAAK,UACH8a,EAAUC,EAASpsF,GACnB,MACF,IAAK,eACHmsF,EAAUE,EAAWrsF,GACrB,MACF,IAAK,OACHmsF,EAAUG,EAAWtsF,GACrB,MACF,IAAK,QACHmsF,EAAUI,EAAQvsF,GAClB,MACF,QACE,KAAM,QAAUqxE,EAEpB4W,EAAUh2E,KAAKk6E,GACfnE,EAAa,IACf,EACAE,EAAMsE,OAAS,SAASjE,EAAKC,GAC3B,GAAID,EAAM,GAAKR,GAAgBQ,GAAOC,EAAM,GAAKT,GAAgBS,EAC/D,MAAMD,EAAM,IAAMC,EAEpB,OAAOV,EAASS,GAAKC,EACvB,EACAN,EAAMuE,eAAiB,WACrB,OAAO1E,CACT,EACAG,EAAMwE,KAAO,WACX,GAAI/E,EAAc,EAAG,CAEnB,IADA,IAAI2D,EAAc,EACXA,EAAc,GAAIA,IAAe,CAGtC,IAFA,IAAIpB,EAAWuB,EAAUC,YAAYJ,EAAa1D,GAC9C73C,EAAS47C,IACJ9mB,EAAK,EAAGA,EAAKojB,EAAUllF,OAAQ8hE,IAAM,CAC5C,IAAI7kE,EAAOioF,EAAUpjB,GACrB90B,EAAO67C,IAAI5rF,EAAK6rF,UAAW,GAC3B97C,EAAO67C,IAAI5rF,EAAKirF,YAAa7B,EAAO0C,gBAAgB9rF,EAAK6rF,UAAWP,IACpEtrF,EAAK+rF,MAAMh8C,EACb,CACA,IAAIi8C,EAAiB,EACrB,IAASnnB,EAAK,EAAGA,EAAKqlB,EAASnnF,OAAQ8hE,IACrCmnB,GAAkB9B,EAASrlB,GAAI4lB,UAEjC,GAAI16C,EAAO+7C,mBAAsC,EAAjBE,EAC9B,KAEJ,CACArE,EAAc2D,CAChB,CACAnD,GAAS,EAAOa,IAClB,EACAd,EAAMyE,eAAiB,SAASC,EAAUC,GACxCD,EAAWA,GAAY,EACvBC,EAA0B,oBAAVA,EAAmC,EAAXD,EAAeC,EACvD,IAAIC,EAAS,GACbA,GAAU,iBACVA,GAAU,0CACVA,GAAU,8BACVA,GAAU,0BAA4BD,EAAS,MAC/CC,GAAU,KACVA,GAAU,UACV,IAAK,IAAI7a,EAAI,EAAGA,EAAIiW,EAAMuE,iBAAkBxa,GAAK,EAAG,CAClD6a,GAAU,OACV,IAAK,IAAInqB,EAAK,EAAGA,EAAKulB,EAAMuE,iBAAkB9pB,GAAM,EAClDmqB,GAAU,cACVA,GAAU,0CACVA,GAAU,8BACVA,GAAU,8BACVA,GAAU,WAAaF,EAAW,MAClCE,GAAU,YAAcF,EAAW,MACnCE,GAAU,sBACVA,GAAU5E,EAAMsE,OAAOva,EAAGtP,GAAM,UAAY,UAC5CmqB,GAAU,IACVA,GAAU,MAEZA,GAAU,OACZ,CAGA,OAFAA,GAAU,WACVA,GAAU,WACHA,CACT,EACA5E,EAAM6E,aAAe,SAASH,EAAUC,EAAQrR,EAAKve,GACnD,IAAIpqB,EAAO,CAAC,EACe,iBAAhBlvC,UAAU,KACnBkvC,EAAOlvC,UAAU,GACjBipF,EAAW/5C,EAAK+5C,SAChBC,EAASh6C,EAAKg6C,OACdrR,EAAM3oC,EAAK2oC,IACXve,EAAQpqB,EAAKoqB,OAEf2vB,EAAWA,GAAY,EACvBC,EAA0B,oBAAVA,EAAmC,EAAXD,EAAeC,EACvDrR,EAAqB,kBAARA,EAAmB,CAAEc,KAAMd,GAAQA,GAAO,CAAC,EACxDA,EAAIc,KAAOd,EAAIc,MAAQ,KACvBd,EAAI36E,GAAK26E,EAAIc,KAAOd,EAAI36E,IAAM,qBAAuB,KACrDo8D,EAAyB,kBAAVA,EAAqB,CAAEqf,KAAMrf,GAAUA,GAAS,CAAC,EAChEA,EAAMqf,KAAOrf,EAAMqf,MAAQ,KAC3Brf,EAAMp8D,GAAKo8D,EAAMqf,KAAOrf,EAAMp8D,IAAM,eAAiB,KACrD,IACI8hE,EAAIqqB,EAAI/a,EAAGgb,EAAgBC,EAD3B7L,EAAQ6G,EAAMuE,iBAAmBG,EAAoB,EAATC,EAC7BM,EAAQ,GAY3B,IAXAD,EAAO,IAAMN,EAAW,QAAUA,EAAW,KAAOA,EAAW,SAAWA,EAAW,KACrFO,GAAS,wDACTA,GAAUt6C,EAAKu6C,SAAiE,GAAtD,WAAa/L,EAAQ,eAAiBA,EAAQ,MACxE8L,GAAS,iBAAmB9L,EAAQ,IAAMA,EAAQ,KAClD8L,GAAS,uCACTA,GAASlwB,EAAMqf,MAAQd,EAAIc,KAAO,gCAAkC+Q,EAAU,CAACpwB,EAAMp8D,GAAI26E,EAAI36E,IAAI+S,KAAK,KAAK06D,QAAU,IAAM,GAC3H6e,GAAS,IACTA,GAASlwB,EAAMqf,KAAO,cAAgB+Q,EAAUpwB,EAAMp8D,IAAM,KAAOwsF,EAAUpwB,EAAMqf,MAAQ,WAAa,GACxG6Q,GAAS3R,EAAIc,KAAO,oBAAsB+Q,EAAU7R,EAAI36E,IAAM,KAAOwsF,EAAU7R,EAAIc,MAAQ,iBAAmB,GAC9G6Q,GAAS,gEACTA,GAAS,YACJlb,EAAI,EAAGA,EAAIiW,EAAMuE,iBAAkBxa,GAAK,EAE3C,IADAgb,EAAKhb,EAAI2a,EAAWC,EACflqB,EAAK,EAAGA,EAAKulB,EAAMuE,iBAAkB9pB,GAAM,EAC1CulB,EAAMsE,OAAOva,EAAGtP,KAClBqqB,EAAKrqB,EAAKiqB,EAAWC,EACrBM,GAAS,IAAMH,EAAK,IAAMC,EAAKC,GAMrC,OAFAC,GAAS,wCACTA,GAAS,SACFA,CACT,EACAjF,EAAMoF,cAAgB,SAASV,EAAUC,GACvCD,EAAWA,GAAY,EACvBC,EAA0B,oBAAVA,EAAmC,EAAXD,EAAeC,EACvD,IAAIxL,EAAQ6G,EAAMuE,iBAAmBG,EAAoB,EAATC,EAC5CU,EAAOV,EACPW,EAAOnM,EAAQwL,EACnB,OAAOS,EAAcjM,EAAOA,GAAO,SAASnxC,EAAGu9C,GAC7C,GAAIF,GAAQr9C,GAAKA,EAAIs9C,GAAQD,GAAQE,GAAKA,EAAID,EAAM,CAClD,IAAI7qB,EAAKvkD,KAAKC,OAAO6xB,EAAIq9C,GAAQX,GAC7B3a,EAAI7zD,KAAKC,OAAOovE,EAAIF,GAAQX,GAChC,OAAO1E,EAAMsE,OAAOva,EAAGtP,GAAM,EAAI,CACnC,CACE,OAAO,CAEX,GACF,EACAulB,EAAMwF,aAAe,SAASd,EAAUC,EAAQrR,GAC9CoR,EAAWA,GAAY,EACvBC,EAA0B,oBAAVA,EAAmC,EAAXD,EAAeC,EACvD,IAAIxL,EAAQ6G,EAAMuE,iBAAmBG,EAAoB,EAATC,EAC5C7T,EAAM,GAiBV,OAhBAA,GAAO,OACPA,GAAO,SACPA,GAAOkP,EAAMoF,cAAcV,EAAUC,GACrC7T,GAAO,IACPA,GAAO,WACPA,GAAOqI,EACPrI,GAAO,IACPA,GAAO,YACPA,GAAOqI,EACPrI,GAAO,IACHwC,IACFxC,GAAO,SACPA,GAAOqU,EAAU7R,GACjBxC,GAAO,KAETA,GAAO,KACAA,CACT,EACA,IAAIqU,EAAY,SAASnrB,GAEvB,IADA,IAAIyrB,EAAU,GACL9oB,EAAK,EAAGA,EAAK3C,EAAGn/D,OAAQ8hE,GAAM,EAAG,CACxC,IAAIlC,EAAKT,EAAG0rB,OAAO/oB,GACnB,OAAQlC,GACN,IAAK,IACHgrB,GAAW,OACX,MACF,IAAK,IACHA,GAAW,OACX,MACF,IAAK,IACHA,GAAW,QACX,MACF,IAAK,IACHA,GAAW,SACX,MACF,QACEA,GAAWhrB,EACX,MAEN,CACA,OAAOgrB,CACT,EACIE,EAAmB,SAAShB,GAC9B,IAAID,EAAW,EACfC,EAA0B,oBAAVA,EAAmC,EAAXD,EAAeC,EACvD,IAGIY,EAAGv9C,EAAG49C,EAAIxb,EAAIr4C,EAHdonD,EAAQ6G,EAAMuE,iBAAmBG,EAAoB,EAATC,EAC5CU,EAAOV,EACPW,EAAOnM,EAAQwL,EAEfkB,EAAS,CACX,KAAgB,IAChB,KAAW,IACX,KAAW,IACX,KAAM,KAEJC,EAAyB,CAC3B,KAAgB,IAChB,KAAW,IACX,KAAW,IACX,KAAM,KAEJ33D,EAAQ,GACZ,IAAKo3D,EAAI,EAAGA,EAAIpM,EAAOoM,GAAK,EAAG,CAG7B,IAFAK,EAAK1vE,KAAKC,OAAOovE,EAAIF,GAAQX,GAC7Bta,EAAKl0D,KAAKC,OAAOovE,EAAI,EAAIF,GAAQX,GAC5B18C,EAAI,EAAGA,EAAImxC,EAAOnxC,GAAK,EAC1BjW,EAAK,IACDszD,GAAQr9C,GAAKA,EAAIs9C,GAAQD,GAAQE,GAAKA,EAAID,GAAQtF,EAAMsE,OAAOsB,EAAI1vE,KAAKC,OAAO6xB,EAAIq9C,GAAQX,MAC7F3yD,EAAK,KAEHszD,GAAQr9C,GAAKA,EAAIs9C,GAAQD,GAAQE,EAAI,GAAKA,EAAI,EAAID,GAAQtF,EAAMsE,OAAOla,EAAIl0D,KAAKC,OAAO6xB,EAAIq9C,GAAQX,IACrG3yD,GAAM,IAENA,GAAM,IAER5D,GAASw2D,EAAS,GAAKY,EAAI,GAAKD,EAAOQ,EAAuB/zD,GAAM8zD,EAAO9zD,GAE7E5D,GAAS,IACX,CACA,OAAIgrD,EAAQ,GAAKwL,EAAS,EACjBx2D,EAAMb,UAAU,EAAGa,EAAMtzB,OAASs+E,EAAQ,GAAKruE,MAAMquE,EAAQ,GAAGztE,KAAK,KAEvEyiB,EAAMb,UAAU,EAAGa,EAAMtzB,OAAS,EAC3C,EA0CA,OAzCAmlF,EAAM+F,YAAc,SAASrB,EAAUC,GAErC,GADAD,EAAWA,GAAY,EACnBA,EAAW,EACb,OAAOiB,EAAiBhB,GAE1BD,GAAY,EACZC,EAA0B,oBAAVA,EAAmC,EAAXD,EAAeC,EACvD,IAGIY,EAAGv9C,EAAG+hC,EAAGh4C,EAHTonD,EAAQ6G,EAAMuE,iBAAmBG,EAAoB,EAATC,EAC5CU,EAAOV,EACPW,EAAOnM,EAAQwL,EAEfhL,EAAQ7uE,MAAM45E,EAAW,GAAGh5E,KAAK,MACjCs6E,EAAQl7E,MAAM45E,EAAW,GAAGh5E,KAAK,MACjCyiB,EAAQ,GACR83D,EAAO,GACX,IAAKV,EAAI,EAAGA,EAAIpM,EAAOoM,GAAK,EAAG,CAG7B,IAFAxb,EAAI7zD,KAAKC,OAAOovE,EAAIF,GAAQX,GAC5BuB,EAAO,GACFj+C,EAAI,EAAGA,EAAImxC,EAAOnxC,GAAK,EAC1BjW,EAAK,EACDszD,GAAQr9C,GAAKA,EAAIs9C,GAAQD,GAAQE,GAAKA,EAAID,GAAQtF,EAAMsE,OAAOva,EAAG7zD,KAAKC,OAAO6xB,EAAIq9C,GAAQX,MAC5F3yD,EAAK,GAEPk0D,GAAQl0D,EAAK4nD,EAAQqM,EAEvB,IAAKjc,EAAI,EAAGA,EAAI2a,EAAU3a,GAAK,EAC7B57C,GAAS83D,EAAO,IAEpB,CACA,OAAO93D,EAAMb,UAAU,EAAGa,EAAMtzB,OAAS,EAC3C,EACAmlF,EAAMkG,kBAAoB,SAAS3sC,EAASmrC,GAC1CA,EAAWA,GAAY,EAEvB,IADA,IAAI7pF,EAASmlF,EAAMuE,iBACVlE,EAAM,EAAGA,EAAMxlF,EAAQwlF,IAC9B,IAAK,IAAIC,EAAM,EAAGA,EAAMzlF,EAAQylF,IAC9B/mC,EAAQ4sC,UAAYnG,EAAMsE,OAAOjE,EAAKC,GAAO,QAAU,QACvD/mC,EAAQ6sC,SAAS/F,EAAMqE,EAAUpE,EAAMoE,EAAUA,EAAUA,EAGjE,EACO1E,CACT,EACAZ,EAAQiH,mBAAqB,CAC3B,QAAW,SAASrsB,GAElB,IADA,IAAI1kD,EAAQ,GACHqnD,EAAK,EAAGA,EAAK3C,EAAGn/D,OAAQ8hE,GAAM,EAAG,CACxC,IAAIlC,EAAKT,EAAG3rC,WAAWsuC,GACvBrnD,EAAMvL,KAAU,IAAL0wD,EACb,CACA,OAAOnlD,CACT,GAEF8pE,EAAQkH,cAAgBlH,EAAQiH,mBAAmB,WACnDjH,EAAQmH,oBAAsB,SAASC,EAAaC,GAClD,IAAIC,EAAa,WACf,IAAIC,EAAMC,EAAwBJ,GAC9BK,EAAO,WACT,IAAIz7E,EAAIu7E,EAAIE,OACZ,IAAU,GAANz7E,EACF,KAAM,MACR,OAAOA,CACT,EACIysD,EAAQ,EACRivB,EAAc,CAAC,EACnB,MAAO,EAAM,CACX,IAAIC,EAAKJ,EAAIE,OACb,IAAW,GAAPE,EACF,MACF,IAAIC,EAAKH,IACLI,EAAKJ,IACLK,EAAKL,IACLjzF,EAAIuc,OAAOC,aAAa22E,GAAM,EAAIC,GAClCzyF,EAAI0yF,GAAM,EAAIC,EAClBJ,EAAYlzF,GAAKW,EACjBsjE,GAAS,CACX,CACA,GAAIA,GAAS4uB,EACX,MAAM5uB,EAAQ,OAAS4uB,EAEzB,OAAOK,CACT,CA1BiB,GA2BbK,EAAc,IAAI94D,WAAW,GACjC,OAAO,SAAS2rC,GAEd,IADA,IAAI1kD,EAAQ,GACHqnD,EAAK,EAAGA,EAAK3C,EAAGn/D,OAAQ8hE,GAAM,EAAG,CACxC,IAAIlC,EAAKT,EAAG3rC,WAAWsuC,GACvB,GAAIlC,EAAK,IACPnlD,EAAMvL,KAAK0wD,OACN,CACL,IAAIrvD,EAAIs7E,EAAW1sB,EAAG0rB,OAAO/oB,IACb,iBAALvxD,GACA,IAAJA,IAAYA,EACfkK,EAAMvL,KAAKqB,IAEXkK,EAAMvL,KAAKqB,IAAM,GACjBkK,EAAMvL,KAAS,IAAJqB,IAGbkK,EAAMvL,KAAKo9E,EAEf,CACF,CACA,OAAO7xE,CACT,CACF,EACA,IAAI8xE,EAAS,CACXC,YAAa,EACbC,eAAgB,EAChBC,eAAgB,EAChBC,WAAY,GAEV7H,EAAyB,CAC3B8H,EAAG,EACHC,EAAG,EACHC,EAAG,EACHC,EAAG,GAEDC,EAAgB,CAClBC,WAAY,EACZC,WAAY,EACZC,WAAY,EACZC,WAAY,EACZC,WAAY,EACZC,WAAY,EACZC,WAAY,EACZC,WAAY,GAEVnH,EAAS,WACX,IAAIoH,EAAyB,CAC3B,GACA,CAAC,EAAG,IACJ,CAAC,EAAG,IACJ,CAAC,EAAG,IACJ,CAAC,EAAG,IACJ,CAAC,EAAG,IACJ,CAAC,EAAG,GAAI,IACR,CAAC,EAAG,GAAI,IACR,CAAC,EAAG,GAAI,IACR,CAAC,EAAG,GAAI,IACR,CAAC,EAAG,GAAI,IACR,CAAC,EAAG,GAAI,IACR,CAAC,EAAG,GAAI,IACR,CAAC,EAAG,GAAI,GAAI,IACZ,CAAC,EAAG,GAAI,GAAI,IACZ,CAAC,EAAG,GAAI,GAAI,IACZ,CAAC,EAAG,GAAI,GAAI,IACZ,CAAC,EAAG,GAAI,GAAI,IACZ,CAAC,EAAG,GAAI,GAAI,IACZ,CAAC,EAAG,GAAI,GAAI,IACZ,CAAC,EAAG,GAAI,GAAI,GAAI,IAChB,CAAC,EAAG,GAAI,GAAI,GAAI,IAChB,CAAC,EAAG,GAAI,GAAI,GAAI,KAChB,CAAC,EAAG,GAAI,GAAI,GAAI,KAChB,CAAC,EAAG,GAAI,GAAI,GAAI,KAChB,CAAC,EAAG,GAAI,GAAI,GAAI,KAChB,CAAC,EAAG,GAAI,GAAI,GAAI,KAChB,CAAC,EAAG,GAAI,GAAI,GAAI,GAAI,KACpB,CAAC,EAAG,GAAI,GAAI,GAAI,IAAK,KACrB,CAAC,EAAG,GAAI,GAAI,GAAI,IAAK,KACrB,CAAC,EAAG,GAAI,GAAI,GAAI,IAAK,KACrB,CAAC,EAAG,GAAI,GAAI,GAAI,IAAK,KACrB,CAAC,EAAG,GAAI,GAAI,GAAI,IAAK,KACrB,CAAC,EAAG,GAAI,GAAI,GAAI,IAAK,KACrB,CAAC,EAAG,GAAI,GAAI,GAAI,IAAK,IAAK,KAC1B,CAAC,EAAG,GAAI,GAAI,GAAI,IAAK,IAAK,KAC1B,CAAC,EAAG,GAAI,GAAI,GAAI,IAAK,IAAK,KAC1B,CAAC,EAAG,GAAI,GAAI,GAAI,IAAK,IAAK,KAC1B,CAAC,EAAG,GAAI,GAAI,GAAI,IAAK,IAAK,KAC1B,CAAC,EAAG,GAAI,GAAI,GAAI,IAAK,IAAK,MAExBC,EAAM,KACNC,EAAM,KACNC,EAAW,MACXzI,EAAQ,CAAC,EACT0I,EAAc,SAAS5wF,GACzB,IAAI6wF,EAAQ,EACZ,MAAe,GAAR7wF,EACL6wF,GAAS,EACT7wF,KAAU,EAEZ,OAAO6wF,CACT,EAiLA,OAhLA3I,EAAMwB,eAAiB,SAAS1pF,GAC9B,IAAIqyE,EAAIryE,GAAQ,GAChB,MAAO4wF,EAAYve,GAAKue,EAAYH,IAAQ,EAC1Cpe,GAAKoe,GAAOG,EAAYve,GAAKue,EAAYH,GAE3C,OAAQzwF,GAAQ,GAAKqyE,GAAKse,CAC5B,EACAzI,EAAMuB,iBAAmB,SAASzpF,GAChC,IAAIqyE,EAAIryE,GAAQ,GAChB,MAAO4wF,EAAYve,GAAKue,EAAYF,IAAQ,EAC1Cre,GAAKqe,GAAOE,EAAYve,GAAKue,EAAYF,GAE3C,OAAO1wF,GAAQ,GAAKqyE,CACtB,EACA6V,EAAMqB,mBAAqB,SAAShC,GAClC,OAAOiJ,EAAuBjJ,EAAa,EAC7C,EACAW,EAAM6B,gBAAkB,SAAS3B,GAC/B,OAAQA,GACN,KAAK2H,EAAcC,WACjB,OAAO,SAASnrB,EAAI2kB,GAClB,OAAQ3kB,EAAK2kB,GAAK,GAAK,CACzB,EACF,KAAKuG,EAAcE,WACjB,OAAO,SAASprB,EAAI2kB,GAClB,OAAO3kB,EAAK,GAAK,CACnB,EACF,KAAKkrB,EAAcG,WACjB,OAAO,SAASrrB,EAAI2kB,GAClB,OAAOA,EAAI,GAAK,CAClB,EACF,KAAKuG,EAAcI,WACjB,OAAO,SAAStrB,EAAI2kB,GAClB,OAAQ3kB,EAAK2kB,GAAK,GAAK,CACzB,EACF,KAAKuG,EAAcK,WACjB,OAAO,SAASvrB,EAAI2kB,GAClB,OAAQprE,KAAKC,MAAMwmD,EAAK,GAAKzmD,KAAKC,MAAMmrE,EAAI,IAAM,GAAK,CACzD,EACF,KAAKuG,EAAcM,WACjB,OAAO,SAASxrB,EAAI2kB,GAClB,OAAO3kB,EAAK2kB,EAAI,EAAI3kB,EAAK2kB,EAAI,GAAK,CACpC,EACF,KAAKuG,EAAcO,WACjB,OAAO,SAASzrB,EAAI2kB,GAClB,OAAQ3kB,EAAK2kB,EAAI,EAAI3kB,EAAK2kB,EAAI,GAAK,GAAK,CAC1C,EACF,KAAKuG,EAAcQ,WACjB,OAAO,SAAS1rB,EAAI2kB,GAClB,OAAQ3kB,EAAK2kB,EAAI,GAAK3kB,EAAK2kB,GAAK,GAAK,GAAK,CAC5C,EACF,QACE,KAAM,mBAAqBpB,EAEjC,EACAF,EAAM4C,0BAA4B,SAASgG,GAEzC,IADA,IAAI1yB,EAAK4sB,EAAa,CAAC,GAAI,GAClBnmB,EAAK,EAAGA,EAAKisB,EAAoBjsB,GAAM,EAC9CzG,EAAKA,EAAG2yB,SAAS/F,EAAa,CAAC,EAAGgG,EAAOC,KAAKpsB,IAAM,IAEtD,OAAOzG,CACT,EACA8pB,EAAM4D,gBAAkB,SAASza,EAAM3mD,GACrC,GAAI,GAAKA,GAAQA,EAAO,GACtB,OAAQ2mD,GACN,KAAKie,EAAOC,YACV,OAAO,GACT,KAAKD,EAAOE,eACV,OAAO,EACT,KAAKF,EAAOG,eACV,OAAO,EACT,KAAKH,EAAOI,WACV,OAAO,EACT,QACE,KAAM,QAAUre,OAEf,GAAI3mD,EAAO,GAChB,OAAQ2mD,GACN,KAAKie,EAAOC,YACV,OAAO,GACT,KAAKD,EAAOE,eACV,OAAO,GACT,KAAKF,EAAOG,eACV,OAAO,GACT,KAAKH,EAAOI,WACV,OAAO,GACT,QACE,KAAM,QAAUre,MAEf,MAAI3mD,EAAO,IAchB,KAAM,QAAUA,EAbhB,OAAQ2mD,GACN,KAAKie,EAAOC,YACV,OAAO,GACT,KAAKD,EAAOE,eACV,OAAO,GACT,KAAKF,EAAOG,eACV,OAAO,GACT,KAAKH,EAAOI,WACV,OAAO,GACT,QACE,KAAM,QAAUre,EAItB,CACF,EACA6W,EAAMmB,aAAe,SAAS6H,GAG5B,IAFA,IAAI7I,EAAc6I,EAAQzE,iBACtBtD,EAAY,EACPZ,EAAM,EAAGA,EAAMF,EAAaE,GAAO,EAC1C,IAAK,IAAIC,EAAM,EAAGA,EAAMH,EAAaG,GAAO,EAAG,CAG7C,IAFA,IAAI2I,EAAY,EACZnH,EAAOkH,EAAQ1E,OAAOjE,EAAKC,GACtBvW,GAAK,EAAGA,GAAK,EAAGA,GAAK,EAC5B,KAAIsW,EAAMtW,EAAI,GAAKoW,GAAeE,EAAMtW,GAGxC,IAAK,IAAItP,GAAM,EAAGA,GAAM,EAAGA,GAAM,EAC3B6lB,EAAM7lB,EAAK,GAAK0lB,GAAeG,EAAM7lB,GAGhC,GAALsP,GAAgB,GAANtP,GAGVqnB,GAAQkH,EAAQ1E,OAAOjE,EAAMtW,EAAGuW,EAAM7lB,KACxCwuB,GAAa,GAIfA,EAAY,IACdhI,GAAa,EAAIgI,EAAY,EAEjC,CAEF,IAAS5I,EAAM,EAAGA,EAAMF,EAAc,EAAGE,GAAO,EAC9C,IAASC,EAAM,EAAGA,EAAMH,EAAc,EAAGG,GAAO,EAAG,CACjD,IAAIzoB,EAAQ,EACRmxB,EAAQ1E,OAAOjE,EAAKC,KACtBzoB,GAAS,GACPmxB,EAAQ1E,OAAOjE,EAAM,EAAGC,KAC1BzoB,GAAS,GACPmxB,EAAQ1E,OAAOjE,EAAKC,EAAM,KAC5BzoB,GAAS,GACPmxB,EAAQ1E,OAAOjE,EAAM,EAAGC,EAAM,KAChCzoB,GAAS,GACE,GAATA,GAAuB,GAATA,IAChBopB,GAAa,EAEjB,CAEF,IAASZ,EAAM,EAAGA,EAAMF,EAAaE,GAAO,EAC1C,IAASC,EAAM,EAAGA,EAAMH,EAAc,EAAGG,GAAO,EAC1C0I,EAAQ1E,OAAOjE,EAAKC,KAAS0I,EAAQ1E,OAAOjE,EAAKC,EAAM,IAAM0I,EAAQ1E,OAAOjE,EAAKC,EAAM,IAAM0I,EAAQ1E,OAAOjE,EAAKC,EAAM,IAAM0I,EAAQ1E,OAAOjE,EAAKC,EAAM,KAAO0I,EAAQ1E,OAAOjE,EAAKC,EAAM,IAAM0I,EAAQ1E,OAAOjE,EAAKC,EAAM,KAC1NW,GAAa,IAInB,IAASX,EAAM,EAAGA,EAAMH,EAAaG,GAAO,EAC1C,IAASD,EAAM,EAAGA,EAAMF,EAAc,EAAGE,GAAO,EAC1C2I,EAAQ1E,OAAOjE,EAAKC,KAAS0I,EAAQ1E,OAAOjE,EAAM,EAAGC,IAAQ0I,EAAQ1E,OAAOjE,EAAM,EAAGC,IAAQ0I,EAAQ1E,OAAOjE,EAAM,EAAGC,IAAQ0I,EAAQ1E,OAAOjE,EAAM,EAAGC,KAAS0I,EAAQ1E,OAAOjE,EAAM,EAAGC,IAAQ0I,EAAQ1E,OAAOjE,EAAM,EAAGC,KACxNW,GAAa,IAInB,IAAIiI,EAAY,EAChB,IAAS5I,EAAM,EAAGA,EAAMH,EAAaG,GAAO,EAC1C,IAASD,EAAM,EAAGA,EAAMF,EAAaE,GAAO,EACtC2I,EAAQ1E,OAAOjE,EAAKC,KACtB4I,GAAa,GAInB,IAAIC,EAAQjzE,KAAKkzE,IAAI,IAAMF,EAAY/I,EAAcA,EAAc,IAAM,EAEzE,OADAc,GAAqB,GAARkI,EACNlI,CACT,EACOjB,CACT,CAxOa,GAyOT8I,EAAS,WAGX,IAFA,IAAIO,EAAY,IAAIv+E,MAAM,KACtBw+E,EAAY,IAAIx+E,MAAM,KACjB6xD,EAAK,EAAGA,EAAK,EAAGA,GAAM,EAC7B0sB,EAAU1sB,GAAM,GAAKA,EAEvB,IAASA,EAAK,EAAGA,EAAK,IAAKA,GAAM,EAC/B0sB,EAAU1sB,GAAM0sB,EAAU1sB,EAAK,GAAK0sB,EAAU1sB,EAAK,GAAK0sB,EAAU1sB,EAAK,GAAK0sB,EAAU1sB,EAAK,GAE7F,IAASA,EAAK,EAAGA,EAAK,IAAKA,GAAM,EAC/B2sB,EAAUD,EAAU1sB,IAAOA,EAE7B,IAAIqjB,EAAQ,CACZA,KAAa,SAAS/hB,GACpB,GAAIA,EAAK,EACP,KAAM,QAAUA,EAAK,IAEvB,OAAOqrB,EAAUrrB,EACnB,EACA+hB,KAAa,SAAS/hB,GACpB,MAAOA,EAAK,EACVA,GAAM,IAER,MAAOA,GAAM,IACXA,GAAM,IAER,OAAOorB,EAAUprB,EACnB,GACA,OAAO+hB,CACT,CA7Ba,GA8Bb,SAAS8C,EAAa/qB,EAAKwxB,GACzB,GAAyB,oBAAdxxB,EAAIl9D,OACb,MAAMk9D,EAAIl9D,OAAS,IAAM0uF,EAE3B,IAAIC,EAAO,WACT,IAAIvH,EAAU,EACd,MAAOA,EAAUlqB,EAAIl9D,QAA0B,GAAhBk9D,EAAIkqB,GACjCA,GAAW,EAGb,IADA,IAAIwH,EAAQ,IAAI3+E,MAAMitD,EAAIl9D,OAASonF,EAAUsH,GACpC5sB,EAAK,EAAGA,EAAK5E,EAAIl9D,OAASonF,EAAStlB,GAAM,EAChD8sB,EAAM9sB,GAAM5E,EAAI4E,EAAKslB,GAEvB,OAAOwH,CACT,CAVW,GAWPzJ,EAAQ,CACZA,MAAc,SAAS31E,GACrB,OAAOm/E,EAAKn/E,EACd,EACA21E,UAAkB,WAChB,OAAOwJ,EAAK3uF,MACd,EACAmlF,SAAiB,SAASvpB,GAExB,IADA,IAAIizB,EAAO,IAAI5+E,MAAMk1E,EAAM+C,YAActsB,EAAGssB,YAAc,GACjDpmB,EAAK,EAAGA,EAAKqjB,EAAM+C,YAAapmB,GAAM,EAC7C,IAAK,IAAI2kB,EAAI,EAAGA,EAAI7qB,EAAGssB,YAAazB,GAAK,EACvCoI,EAAK/sB,EAAK2kB,IAAMwH,EAAOC,KAAKD,EAAOa,KAAK3J,EAAMkD,MAAMvmB,IAAOmsB,EAAOa,KAAKlzB,EAAGysB,MAAM5B,KAGpF,OAAOwB,EAAa4G,EAAM,EAC5B,EACA1J,IAAY,SAASvpB,GACnB,GAAIupB,EAAM+C,YAActsB,EAAGssB,YAAc,EACvC,OAAO/C,EAIT,IAFA,IAAImJ,EAAQL,EAAOa,KAAK3J,EAAMkD,MAAM,IAAM4F,EAAOa,KAAKlzB,EAAGysB,MAAM,IAC3DwG,EAAO,IAAI5+E,MAAMk1E,EAAM+C,aAClBpmB,EAAK,EAAGA,EAAKqjB,EAAM+C,YAAapmB,GAAM,EAC7C+sB,EAAK/sB,GAAMqjB,EAAMkD,MAAMvmB,GAEzB,IAASA,EAAK,EAAGA,EAAKlG,EAAGssB,YAAapmB,GAAM,EAC1C+sB,EAAK/sB,IAAOmsB,EAAOC,KAAKD,EAAOa,KAAKlzB,EAAGysB,MAAMvmB,IAAOwsB,GAEtD,OAAOrG,EAAa4G,EAAM,GAAGj1F,IAAIgiE,EACnC,GACA,OAAOupB,CACT,CACA,IAAIuD,EAAY,WACd,IAAIqG,EAAiB,CACnB,CAAC,EAAG,GAAI,IACR,CAAC,EAAG,GAAI,IACR,CAAC,EAAG,GAAI,IACR,CAAC,EAAG,GAAI,GACR,CAAC,EAAG,GAAI,IACR,CAAC,EAAG,GAAI,IACR,CAAC,EAAG,GAAI,IACR,CAAC,EAAG,GAAI,IACR,CAAC,EAAG,GAAI,IACR,CAAC,EAAG,GAAI,IACR,CAAC,EAAG,GAAI,IACR,CAAC,EAAG,GAAI,IACR,CAAC,EAAG,IAAK,IACT,CAAC,EAAG,GAAI,IACR,CAAC,EAAG,GAAI,IACR,CAAC,EAAG,GAAI,GACR,CAAC,EAAG,IAAK,KACT,CAAC,EAAG,GAAI,IACR,CAAC,EAAG,GAAI,GAAI,EAAG,GAAI,IACnB,CAAC,EAAG,GAAI,GAAI,EAAG,GAAI,IACnB,CAAC,EAAG,GAAI,IACR,CAAC,EAAG,GAAI,IACR,CAAC,EAAG,GAAI,IACR,CAAC,EAAG,GAAI,IACR,CAAC,EAAG,GAAI,IACR,CAAC,EAAG,GAAI,IACR,CAAC,EAAG,GAAI,GAAI,EAAG,GAAI,IACnB,CAAC,EAAG,GAAI,GAAI,EAAG,GAAI,IACnB,CAAC,EAAG,IAAK,IACT,CAAC,EAAG,GAAI,GAAI,EAAG,GAAI,IACnB,CAAC,EAAG,GAAI,GAAI,EAAG,GAAI,IACnB,CAAC,EAAG,GAAI,GAAI,EAAG,GAAI,IACnB,CAAC,EAAG,IAAK,KACT,CAAC,EAAG,GAAI,GAAI,EAAG,GAAI,IACnB,CAAC,EAAG,GAAI,GAAI,EAAG,GAAI,IACnB,CAAC,EAAG,GAAI,GAAI,EAAG,GAAI,IACnB,CAAC,EAAG,GAAI,GAAI,EAAG,GAAI,IACnB,CAAC,EAAG,GAAI,GAAI,EAAG,GAAI,IACnB,CAAC,EAAG,GAAI,GAAI,EAAG,GAAI,IACnB,CAAC,EAAG,GAAI,GAAI,EAAG,GAAI,IACnB,CAAC,EAAG,IAAK,IACT,CAAC,EAAG,GAAI,GAAI,EAAG,GAAI,IACnB,CAAC,EAAG,GAAI,GAAI,EAAG,GAAI,IACnB,CAAC,EAAG,GAAI,GAAI,EAAG,GAAI,IACnB,CAAC,EAAG,IAAK,GAAI,EAAG,IAAK,IACrB,CAAC,EAAG,GAAI,GAAI,EAAG,GAAI,IACnB,CAAC,EAAG,GAAI,GAAI,EAAG,GAAI,IACnB,CAAC,EAAG,GAAI,GAAI,EAAG,GAAI,IACnB,CAAC,EAAG,IAAK,KACT,CAAC,EAAG,GAAI,GAAI,EAAG,GAAI,IACnB,CAAC,EAAG,GAAI,GAAI,EAAG,GAAI,IACnB,CAAC,GAAI,GAAI,GAAI,EAAG,GAAI,IACpB,CAAC,EAAG,IAAK,IAAK,EAAG,IAAK,KACtB,CAAC,EAAG,GAAI,GAAI,EAAG,GAAI,IACnB,CAAC,GAAI,GAAI,GAAI,EAAG,GAAI,IACpB,CAAC,GAAI,GAAI,GAAI,EAAG,GAAI,IACpB,CAAC,EAAG,IAAK,GAAI,EAAG,IAAK,IACrB,CAAC,EAAG,GAAI,GAAI,EAAG,GAAI,IACnB,CAAC,EAAG,GAAI,GAAI,EAAG,GAAI,IACnB,CAAC,GAAI,GAAI,GAAI,EAAG,GAAI,IACpB,CAAC,EAAG,IAAK,GAAI,EAAG,IAAK,IACrB,CAAC,EAAG,GAAI,GAAI,EAAG,GAAI,IACnB,CAAC,GAAI,GAAI,GAAI,EAAG,GAAI,IACpB,CAAC,EAAG,GAAI,GAAI,GAAI,GAAI,IACpB,CAAC,EAAG,IAAK,IAAK,EAAG,IAAK,KACtB,CAAC,GAAI,GAAI,GAAI,EAAG,GAAI,IACpB,CAAC,EAAG,GAAI,GAAI,GAAI,GAAI,IACpB,CAAC,EAAG,GAAI,GAAI,GAAI,GAAI,IACpB,CAAC,EAAG,IAAK,IAAK,EAAG,IAAK,KACtB,CAAC,EAAG,GAAI,GAAI,EAAG,GAAI,IACnB,CAAC,GAAI,GAAI,GAAI,EAAG,GAAI,IACpB,CAAC,EAAG,GAAI,GAAI,GAAI,GAAI,IACpB,CAAC,EAAG,IAAK,IAAK,EAAG,IAAK,KACtB,CAAC,EAAG,GAAI,GAAI,GAAI,GAAI,IACpB,CAAC,GAAI,GAAI,GAAI,EAAG,GAAI,IACpB,CAAC,EAAG,GAAI,GAAI,GAAI,GAAI,IACpB,CAAC,EAAG,IAAK,IAAK,EAAG,IAAK,KACtB,CAAC,EAAG,GAAI,GAAI,GAAI,GAAI,IACpB,CAAC,GAAI,GAAI,GAAI,EAAG,GAAI,IACpB,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,IACrB,CAAC,EAAG,IAAK,IAAK,EAAG,IAAK,KACtB,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,GAAI,EAAG,GAAI,IACpB,CAAC,GAAI,GAAI,GAAI,EAAG,GAAI,IACpB,CAAC,EAAG,IAAK,IAAK,EAAG,IAAK,KACtB,CAAC,GAAI,GAAI,IACT,CAAC,EAAG,GAAI,GAAI,GAAI,GAAI,IACpB,CAAC,GAAI,GAAI,IACT,CAAC,EAAG,IAAK,IAAK,EAAG,IAAK,KACtB,CAAC,EAAG,GAAI,GAAI,GAAI,GAAI,IACpB,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,IACrB,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,IACrB,CAAC,EAAG,IAAK,IAAK,EAAG,IAAK,KACtB,CAAC,EAAG,GAAI,GAAI,GAAI,GAAI,IACpB,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,IACrB,CAAC,GAAI,GAAI,GAAI,EAAG,GAAI,IACpB,CAAC,EAAG,IAAK,IAAK,EAAG,IAAK,KACtB,CAAC,EAAG,GAAI,GAAI,GAAI,GAAI,IACpB,CAAC,EAAG,GAAI,GAAI,GAAI,GAAI,IACpB,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,IACrB,CAAC,GAAI,IAAK,IAAK,EAAG,IAAK,KACvB,CAAC,GAAI,GAAI,GAAI,EAAG,GAAI,IACpB,CAAC,GAAI,GAAI,GAAI,EAAG,GAAI,IACpB,CAAC,GAAI,GAAI,GAAI,EAAG,GAAI,IACpB,CAAC,EAAG,IAAK,IAAK,EAAG,IAAK,KACtB,CAAC,GAAI,GAAI,GAAI,EAAG,GAAI,IACpB,CAAC,EAAG,GAAI,GAAI,GAAI,GAAI,IACpB,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,IACrB,CAAC,EAAG,IAAK,IAAK,GAAI,IAAK,KACvB,CAAC,EAAG,GAAI,GAAI,GAAI,GAAI,IACpB,CAAC,EAAG,GAAI,GAAI,GAAI,GAAI,IACpB,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,IACrB,CAAC,EAAG,IAAK,IAAK,EAAG,IAAK,KACtB,CAAC,GAAI,GAAI,GAAI,EAAG,GAAI,IACpB,CAAC,EAAG,GAAI,GAAI,GAAI,GAAI,IACpB,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,IACrB,CAAC,EAAG,IAAK,IAAK,GAAI,IAAK,KACvB,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,IACrB,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,IACrB,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,IACrB,CAAC,GAAI,IAAK,IAAK,EAAG,IAAK,KACvB,CAAC,EAAG,GAAI,GAAI,GAAI,GAAI,IACpB,CAAC,GAAI,GAAI,GAAI,EAAG,GAAI,IACpB,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,IACrB,CAAC,GAAI,IAAK,KACV,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,IACrB,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,IACrB,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,IACrB,CAAC,GAAI,IAAK,IAAK,EAAG,IAAK,KACvB,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,IACrB,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,IACrB,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,IACrB,CAAC,GAAI,IAAK,IAAK,EAAG,IAAK,KACvB,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,IACrB,CAAC,GAAI,GAAI,GAAI,EAAG,GAAI,IACpB,CAAC,GAAI,GAAI,GAAI,EAAG,GAAI,IACpB,CAAC,GAAI,IAAK,IAAK,EAAG,IAAK,KACvB,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,IACrB,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,IACrB,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,IACrB,CAAC,EAAG,IAAK,IAAK,GAAI,IAAK,KACvB,CAAC,EAAG,GAAI,GAAI,GAAI,GAAI,IACpB,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,IACrB,CAAC,EAAG,GAAI,GAAI,GAAI,GAAI,IACpB,CAAC,GAAI,IAAK,IAAK,EAAG,IAAK,KACvB,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,IACrB,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,IACrB,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,IACrB,CAAC,EAAG,IAAK,IAAK,GAAI,IAAK,KACvB,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,IACrB,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,IACrB,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,IACrB,CAAC,GAAI,IAAK,IAAK,EAAG,IAAK,KACvB,CAAC,GAAI,GAAI,GAAI,EAAG,GAAI,IACpB,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,IACrB,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,IACrB,CAAC,GAAI,IAAK,IAAK,EA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","sources":["webpack://okxconnectdemo/../packages/core/src/connect/commands.js","webpack://okxconnectdemo/../packages/core/src/connect/connect.js","webpack://okxconnectdemo/../packages/core/src/connect/connectionManager.js","webpack://okxconnectdemo/../packages/core/src/connect/connectionSplitPackages.js","webpack://okxconnectdemo/../packages/core/src/connect/constants.js","webpack://okxconnectdemo/../packages/core/src/connect/engine.js","webpack://okxconnectdemo/../packages/core/src/connect/index.js","webpack://okxconnectdemo/../packages/core/src/connect/jwt.js","webpack://okxconnectdemo/../packages/core/src/connect/jwtconstants.js","webpack://okxconnectdemo/../packages/core/src/connect/sessionUtils.js","webpack://okxconnectdemo/../packages/core/src/connect/storage.js","webpack://okxconnectdemo/../packages/core/src/connect/storageconstants.js","webpack://okxconnectdemo/../packages/core/src/connect/walletConnectionConstants.js","webpack://okxconnectdemo/../packages/core/src/connect/walletConnectionManager.js","webpack://okxconnectdemo/../packages/core/src/crypto/crypto.js","webpack://okxconnectdemo/../packages/core/src/index.js","webpack://okxconnectdemo/../packages/core/src/protocol/connect/engine.js","webpack://okxconnectdemo/../packages/core/src/protocol/connect/index.js","webpack://okxconnectdemo/../packages/core/src/protocol/connect/json-rpc.js","webpack://okxconnectdemo/../packages/core/src/protocol/connect/ton/connect-event.js","webpack://okxconnectdemo/../packages/core/src/protocol/connect/ton/connect-wallet.js","webpack://okxconnectdemo/../packages/core/src/protocol/connect/ton/index.js","webpack://okxconnectdemo/../packages/core/src/protocol/connect/wallet-info.js","webpack://okxconnectdemo/../packages/core/src/protocol/constants.js","webpack://okxconnectdemo/../packages/core/src/protocol/error/index.js","webpack://okxconnectdemo/../packages/core/src/protocol/error/okx-connect.error.js","webpack://okxconnectdemo/../packages/core/src/protocol/index.js","webpack://okxconnectdemo/../packages/core/src/protocol/misc.js","webpack://okxconnectdemo/../packages/core/src/utils/call-for-success.js","webpack://okxconnectdemo/../packages/core/src/utils/index.js","webpack://okxconnectdemo/../packages/core/src/utils/log.js","webpack://okxconnectdemo/../packages/core/src/utils/report.js","webpack://okxconnectdemo/../packages/core/src/utils/reportconstants.js","webpack://okxconnectdemo/../packages/core/src/utils/safejson.js","webpack://okxconnectdemo/../packages/core/src/utils/stringUtils.js","webpack://okxconnectdemo/../packages/core/src/utils/tma-api.js","webpack://okxconnectdemo/../packages/core/src/utils/url.js","webpack://okxconnectdemo/../packages/core/src/utils/utils.js","webpack://okxconnectdemo/../packages/core/src/utils/web-api.js","webpack://okxconnectdemo/../packages/tonsdk/src/index.js","webpack://okxconnectdemo/../packages/tonsdk/src/okx-connect-ton-inner.js","webpack://okxconnectdemo/../packages/tonsdk/src/okx-connect-ton.js","webpack://okxconnectdemo/../packages/tonsdk/src/parsers/rpc-parser.js","webpack://okxconnectdemo/../packages/tonsdk/src/parsers/send-transaction-parser.js","webpack://okxconnectdemo/../packages/tonsdk/src/provider/bridge-connection-storage.js","webpack://okxconnectdemo/../packages/tonsdk/src/provider/bridge/bridge-provider.js","webpack://okxconnectdemo/../packages/tonsdk/src/provider/bridge/models/bridge-connection.js","webpack://okxconnectdemo/../packages/tonsdk/src/tracker/browser-event-dispatcher.js","webpack://okxconnectdemo/../packages/tonsdk/src/tracker/index.js","webpack://okxconnectdemo/../packages/tonsdk/src/tracker/ton-connect-tracker.js","webpack://okxconnectdemo/../packages/tonsdk/src/tracker/tracker-constants.js","webpack://okxconnectdemo/../packages/tonsdk/src/tracker/types.js","webpack://okxconnectdemo/../packages/tonsdk/src/utils/address.js","webpack://okxconnectdemo/../packages/tonsdk/src/utils/constants.js","webpack://okxconnectdemo/../packages/tonsdk/src/utils/feature-support.js","webpack://okxconnectdemo/../packages/tonsdk/src/utils/index.js","webpack://okxconnectdemo/../packages/tonsdk/src/utils/url.js","webpack://okxconnectdemo/../packages/universal-provider/src/OKXBtcProvider.js","webpack://okxconnectdemo/../packages/universal-provider/src/OKXCosmosProvider.js","webpack://okxconnectdemo/../packages/universal-provider/src/OKXTonProvider.js","webpack://okxconnectdemo/../packages/universal-provider/src/OKXTronProvider.js","webpack://okxconnectdemo/../packages/universal-provider/src/OKXUniversalProvider.js","webpack://okxconnectdemo/../packages/universal-provider/src/index.js","webpack://okxconnectdemo/../packages/universal-provider/src/packages/index.js","webpack://okxconnectdemo/../packages/universal-provider/src/packages/sign-client/client.js","webpack://okxconnectdemo/../packages/universal-provider/src/packages/utils/ConnectMethodUtils.js","webpack://okxconnectdemo/../packages/universal-provider/src/packages/utils/index.js","webpack://okxconnectdemo/../packages/universal-provider/src/packages/utils/namespaces.js","webpack://okxconnectdemo/../packages/universal-provider/src/provider/constants/events.js","webpack://okxconnectdemo/../packages/universal-provider/src/provider/constants/index.js","webpack://okxconnectdemo/../packages/universal-provider/src/provider/constants/values.js","webpack://okxconnectdemo/../packages/universal-provider/src/provider/index.js","webpack://okxconnectdemo/../packages/universal-provider/src/provider/providers/aptos.js","webpack://okxconnectdemo/../packages/universal-provider/src/provider/providers/btc.js","webpack://okxconnectdemo/../packages/universal-provider/src/provider/providers/cosmos.js","webpack://okxconnectdemo/../packages/universal-provider/src/provider/providers/eip155.js","webpack://okxconnectdemo/../packages/universal-provider/src/provider/providers/rpc/JsonRpcConnection.js","webpack://okxconnectdemo/../packages/universal-provider/src/provider/providers/rpc/JsonRpcProvider.js","webpack://okxconnectdemo/../packages/universal-provider/src/provider/providers/solana.js","webpack://okxconnectdemo/../packages/universal-provider/src/provider/providers/sui.js","webpack://okxconnectdemo/../packages/universal-provider/src/provider/providers/ton.js","webpack://okxconnectdemo/../packages/universal-provider/src/provider/providers/tron.js","webpack://okxconnectdemo/../packages/universal-provider/src/provider/types/index.js","webpack://okxconnectdemo/../packages/universal-provider/src/provider/types/misc.js","webpack://okxconnectdemo/../packages/universal-provider/src/provider/types/providers.js","webpack://okxconnectdemo/../packages/universal-provider/src/provider/utils/globals.js","webpack://okxconnectdemo/../packages/universal-provider/src/provider/utils/index.js","webpack://okxconnectdemo/../packages/universal-provider/src/provider/utils/misc.js","webpack://okxconnectdemo/./src/App.vue","webpack://okxconnectdemo/./src/components/BtcTransactionPanel.vue","webpack://okxconnectdemo/./src/components/BtcTransactionPanel.vue?1b44","webpack://okxconnectdemo/./src/components/FractalTransactionPanel.vue","webpack://okxconnectdemo/./src/components/FractalTransactionPanel.vue?e4fb","webpack://okxconnectdemo/./src/components/SuiTransactionPanel.vue","webpack://okxconnectdemo/./src/components/SuiTransactionPanel.vue?aa83","webpack://okxconnectdemo/./src/components/TronTransactionPanel.vue","webpack://okxconnectdemo/./src/components/TronTransactionPanel.vue?089a","webpack://okxconnectdemo/./src/App.vue?7ccd","webpack://okxconnectdemo/./src/main.js","webpack://okxconnectdemo/../packages/ui/lib/index.cjs","webpack://okxconnectdemo/webpack/bootstrap","webpack://okxconnectdemo/webpack/runtime/amd options","webpack://okxconnectdemo/webpack/runtime/chunk loaded","webpack://okxconnectdemo/webpack/runtime/compat get default export","webpack://okxconnectdemo/webpack/runtime/define property getters","webpack://okxconnectdemo/webpack/runtime/global","webpack://okxconnectdemo/webpack/runtime/hasOwnProperty shorthand","webpack://okxconnectdemo/webpack/runtime/make namespace object","webpack://okxconnectdemo/webpack/runtime/node module decorator","webpack://okxconnectdemo/webpack/runtime/jsonp chunk loading","webpack://okxconnectdemo/webpack/startup"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CONNECT_METHOD_BATCH_FETCHMSG = exports.CONNECT_METHOD_FETCHMSG = exports.CONNECT_METHOD_RECEIVE = exports.CONNECT_METHOD_UNSUB = exports.CONNECT_METHOD_SUB = exports.CONNECT_METHOD_PUBLISH = exports.CONNECT_METHOD_LOGIN = exports.CONNECT_METHOD_PUSH = void 0;\n// --------------- ws methods -------------\nexports.CONNECT_METHOD_PUSH = \"push\";\nexports.CONNECT_METHOD_LOGIN = \"login\";\nexports.CONNECT_METHOD_PUBLISH = \"publish\";\nexports.CONNECT_METHOD_SUB = \"subscribe\";\nexports.CONNECT_METHOD_UNSUB = \"unsubscribe\";\nexports.CONNECT_METHOD_RECEIVE = \"receive\";\nexports.CONNECT_METHOD_FETCHMSG = \"fetchMessages\";\nexports.CONNECT_METHOD_BATCH_FETCHMSG = \"batchFetchMessages\";\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.OKXWalletConnector = void 0;\nconst constants_1 = require(\"./constants\");\nconst storageconstants_1 = require(\"./storageconstants\");\nconst storage_1 = require(\"./storage\");\nconst utils_1 = require(\"../utils\");\nconst utils_2 = require(\"../utils/utils\");\nconst eventemitter3_1 = require(\"eventemitter3\");\nconst log = __importStar(require(\"../utils/log\"));\nconst protocol_1 = require(\"../protocol\");\nconst WS = (0, utils_2.resolveWebSocketImplementation)();\nclass OKXWalletConnector {\n    constructor(url) {\n        this.events = new eventemitter3_1.EventEmitter();\n        this.state = constants_1.ConnectorState.InitState;\n        this.selectedUrlIndex = 0;\n        // reconnect\n        this.retryCount = 0;\n        // default timeout limit: 8 sec\n        this.timeOutLimit = 8000;\n        if (!(0, utils_2.checkWSUrl)(url)) {\n            throw new Error(`CONNECTOR: invalid url ${url}`);\n        }\n        this.url = url;\n        this.heartbeatTimer = null;\n        this.connectionTimeoutTimer = null;\n        this.connectURLStorage = new storage_1.Storage(storageconstants_1.OKXCONNECTOR_CACHE_KEY + storageconstants_1.OKXCONNECTOR_CACHE_KEY);\n    }\n    get connecting() {\n        return this.state == constants_1.ConnectorState.Connecting;\n    }\n    // ------------------------------------------------------\n    onPayload(e) {\n        if (typeof e.data === \"undefined\")\n            return;\n        log.logDebug('get received data');\n        log.logDebug(e);\n        if (typeof e.data === \"string\") {\n            let rsp = e.data;\n            if (rsp === \"pong\") {\n                log.logDebug(`CONNECT: receive pong ${Date.now().toString()}`);\n                return;\n            }\n        }\n        this.events.emit(\"payload\", e.data);\n    }\n    onClose(event) {\n        var _a;\n        log.logDebug('socket get closed: ', (_a = this.socket) === null || _a === void 0 ? void 0 : _a.url, event.code);\n        this.socket = undefined;\n        this.events.emit(\"close\", event);\n    }\n    onError(id, e) {\n        const payload = { id: id, msg: e.toString() };\n        this.events.emit(\"payload\", payload);\n    }\n    onopen(socket) {\n        socket.onmessage = (event) => this.onPayload(event);\n        socket.onclose = (event) => this.onClose(event);\n        this.socket = socket;\n        this.state = constants_1.ConnectorState.Connected;\n        this.events.emit(\"open\");\n    }\n    // ------------------------------------------------------\n    emitError(errorEvent) {\n        this.events.emit(\"fail\", errorEvent);\n    }\n    // ------------------------------------------------------\n    heartbeat() {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (this.heartbeatTimer) {\n                clearTimeout(this.heartbeatTimer);\n            }\n            if (this.state != constants_1.ConnectorState.Connected && this.state != constants_1.ConnectorState.OnError) {\n                log.logDebug('heart beat close');\n                return;\n            }\n            if (!this.socket) {\n                log.logDebug('socket not exist');\n                if (this.state == constants_1.ConnectorState.Connected || this.state == constants_1.ConnectorState.OnError) {\n                    log.logDebug('socket reconnect by heartbeat');\n                    try {\n                        yield this.tryRegistOpen();\n                    }\n                    catch (e) {\n                        log.logError('regist open failed');\n                        this.heartbeatTimer = setTimeout(this.heartbeat.bind(this), 5000);\n                    }\n                }\n                return;\n            }\n            if (this.socket.readyState !== WebSocket.OPEN) {\n                log.logDebug('socket not ready');\n                if (this.state == constants_1.ConnectorState.Connected || this.state == constants_1.ConnectorState.OnError) {\n                    log.logDebug('socket reconnect by heartbeat with state', this.state, this.socket.readyState);\n                    try {\n                        yield this.tryRegistOpen();\n                    }\n                    catch (e) {\n                        log.logError('regist open failed');\n                        this.heartbeatTimer = setTimeout(this.heartbeat.bind(this), 5000);\n                    }\n                }\n                return;\n            }\n            log.logDebug(`send ping heart beat: ${Date.now().toString()}, ${this.socket}`);\n            this.socket.send(\"ping\");\n            this.heartbeatTimer = setTimeout(this.heartbeat.bind(this), 5000);\n        });\n    }\n    registOpen(url = this.url, inRetry = false) {\n        if (!(0, utils_2.checkWSUrl)(url)) {\n            throw new Error(`CONNECTOR: invalid url ${url}`);\n        }\n        this.url = url;\n        if (!inRetry) {\n            log.logDebug('Connection connect:', this.url, new Date().toUTCString());\n        }\n        this.state = constants_1.ConnectorState.Connecting;\n        const origin = new URLSearchParams(url).get(\"origin\");\n        return new Promise((resolve, reject) => {\n            const socket = new WS(url, []);\n            log.logDebug('Connection connect Begin:', this.url, new Date().toUTCString());\n            this.startTimeOutTimer(socket);\n            if ((0, utils_2.hasBuiltInWebSocket)()) {\n                log.logDebug('Add socket error handler');\n                socket.onerror = () => {\n                    reject(new Error('socket error'));\n                    socket.close();\n                };\n            }\n            else {\n                log.logDebug('Add socket error handler');\n                socket.on(\"error\", () => {\n                    reject(new Error('socket error'));\n                    socket.close();\n                });\n            }\n            socket.onopen = () => {\n                log.logDebug('socket opened');\n                this.resetTimeOutTimer(constants_1.OKXCONNECTOR_WS_URL_PENDING_CLOSE_CODE.FINISHED);\n                this.onopen(socket);\n                this.heartbeat();\n                resolve(socket);\n            };\n        });\n    }\n    checkMaxRetry() {\n        log.logDebug('current retry count:', this.retryCount, 'of', constants_1.OKXCONNECTOR_WS_URL_LIST.length);\n        return this.retryCount > constants_1.OKXCONNECTOR_WS_URL_LIST.length;\n    }\n    connectionTryNext() {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (!this.checkMaxRetry()) {\n                //TODO: mark descent\n                this.retryCount += 1;\n                let nextUrl = this.getNextSelectUrl();\n                log.logDebug('Connection retry:', nextUrl, new Date().toUTCString());\n                return this.registOpen(nextUrl, true);\n            }\n            else {\n                log.logDebug('Max Connection retry ', this.retryCount, new Date().toUTCString());\n            }\n        });\n    }\n    startTimeOutTimer(socket) {\n        if (this.connectionTimeoutTimer) {\n            this.resetTimeOutTimer(constants_1.OKXCONNECTOR_WS_URL_PENDING_CLOSE_CODE.CANCELED);\n        }\n        this.pendingSocket = socket;\n        this.connectionTimeoutTimer = setTimeout(() => {\n            if (this.pendingSocket) {\n                this.resetTimeOutTimer(constants_1.OKXCONNECTOR_WS_URL_PENDING_CLOSE_CODE.TIME_OUT);\n            }\n        }, this.timeOutLimit);\n    }\n    resetTimeOutTimer(code) {\n        var _a;\n        // 1. cancel connecting pending sockets\n        if (code != constants_1.OKXCONNECTOR_WS_URL_PENDING_CLOSE_CODE.FINISHED) {\n            (_a = this.pendingSocket) === null || _a === void 0 ? void 0 : _a.close(code);\n        }\n        this.pendingSocket = undefined;\n        // 2. remove timer\n        clearTimeout(this.connectionTimeoutTimer);\n    }\n    cacheSuccessUrlSelect() {\n        this.connectURLStorage.saveContent(this.selectedUrlIndex.toString(), storageconstants_1.OKXCONNECTOR_CACHE_KEY);\n    }\n    // private getSuccessUrlSelect(): string {\n    //     let selectIndex = this.connectURLStorage.getItem(OKXCONNECTOR_CACHE_KEY)?.content\n    //     let index = 0\n    //     if (selectIndex) {\n    //         index = Number(selectIndex)\n    //     }\n    //     this.selectedUrlIndex = index\n    //     return OKXCONNECTOR_WS_URL_LIST[index]\n    // }\n    getNextSelectUrl() {\n        this.selectedUrlIndex += 1;\n        this.selectedUrlIndex = this.selectedUrlIndex % constants_1.OKXCONNECTOR_WS_URL_LIST.length;\n        return constants_1.OKXCONNECTOR_WS_URL_LIST[this.selectedUrlIndex];\n    }\n    // ------------------------------------------------------\n    onVisibleChanged() {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (document.visibilityState === 'visible') {\n                // check and restore\n                log.logDebug(`get changed ${this.state}, ${this.socket}`);\n                if (this.state == constants_1.ConnectorState.Connected && typeof this.socket === \"undefined\") {\n                    log.logDebug('CONNECTION need reopen');\n                    try {\n                        yield this.tryRegistOpen();\n                    }\n                    catch (e) {\n                        log.logError('regist open failed');\n                    }\n                    return;\n                }\n            }\n        });\n    }\n    tryRegistOpen() {\n        return __awaiter(this, arguments, void 0, function* (url = this.url) {\n            if (this.connecting) {\n                log.logDebug('tryRegistOpen => connecting state');\n                return new Promise((resolve, reject) => {\n                    this.events.once('fail', (e) => {\n                        log.logDebug('tryRegistOpen => connecting fail listener', e);\n                        return reject(e);\n                    });\n                    this.events.once(\"open\", () => {\n                        if (typeof this.socket == \"undefined\") {\n                            return reject(new Error(\"Connect lost\"));\n                        }\n                        return resolve(this.socket);\n                    });\n                });\n            }\n            log.logDebug('tryRegistOpen => try registOpen until retry limit is hit');\n            let inRetry = false;\n            while (!this.checkMaxRetry() && !this.socket) {\n                try {\n                    log.logDebug('tryRegistOpen => call registOpen, try count:', this.retryCount, inRetry);\n                    yield this.registOpen(url, inRetry);\n                }\n                catch (err) {\n                    log.logDebug('tryRegistOpen => registOpen failed', err);\n                    this.retryCount += 1;\n                    url = this.getNextSelectUrl();\n                    inRetry = true;\n                }\n            }\n            log.logDebug('tryRegistOpen => exit while loop', this.retryCount, this.socket);\n            if (!this.socket && this.checkMaxRetry()) {\n                log.logDebug('tryRegistOpen => failed to open a socket', this.retryCount, this.socket);\n                this.retryCount = 0;\n                this.state = constants_1.ConnectorState.OnError;\n                this.emitError(new Error('tryRegistOpen failed'));\n                throw new protocol_1.OKXConnectError(protocol_1.OKX_CONNECT_ERROR_CODES.CONNECTION_ERROR, \"Failed to connect\");\n            }\n        });\n    }\n    connect() {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                yield this.tryRegistOpen();\n                // listener for reconnect\n                document.removeEventListener('visibilitychange', this.onVisibleChanged.bind(this));\n                document.addEventListener('visibilitychange', this.onVisibleChanged.bind(this));\n            }\n            catch (e) {\n                log.logDebug('connect => failed to connect', e);\n                throw e;\n            }\n        });\n    }\n    disconnect() {\n        return __awaiter(this, void 0, void 0, function* () {\n            this.state = constants_1.ConnectorState.Disconnected;\n            return new Promise((resolve, reject) => {\n                if (typeof this.socket === \"undefined\") {\n                    // reject(new Error(\"CONNECTION closed\"))\n                    resolve();\n                    return;\n                }\n                this.socket.onclose = (event) => {\n                    this.onClose(event);\n                    resolve();\n                };\n                this.socket.close();\n                if (this.heartbeatTimer) {\n                    clearTimeout(this.heartbeatTimer);\n                }\n            });\n        });\n    }\n    currentStatus() {\n        return {\n            state: this.state,\n            url: this.url\n        };\n    }\n    // event will be jsonstr\n    /// @params Promise\n    /// @params success/failed callback\n    addListener(event, decrypt, success, failed, splitCheckComplete) {\n        if (this.listenPayloadHandler) {\n            this.events.removeListener(\"payload\", this.listenPayloadHandler);\n        }\n        this.listenPayloadHandler = (e) => __awaiter(this, void 0, void 0, function* () {\n            var _a;\n            log.logDebug(`<<< get payload ${e}`);\n            let parsedEvent = (0, utils_1.safeJsonParse)(e);\n            // parse the data to chose success or failed\n            if (parsedEvent.params && parsedEvent.params.data) {\n                let rawMsg = (_a = parsedEvent.params.data) === null || _a === void 0 ? void 0 : _a.message;\n                let skipMsg = false;\n                if (rawMsg) {\n                    // 在这里增加检测流程，如果当前包是“分包”，而且没有finalMessage则不继续触发failed/success结果\n                    if (splitCheckComplete) {\n                        let checkResult = yield splitCheckComplete(parsedEvent.params.data);\n                        skipMsg = checkResult.isSplitPackage && (!checkResult.finalMessage);\n                        if (checkResult.isSplitPackage) {\n                            if (checkResult.finalMessage && checkResult.finalMessage.length > 0) {\n                                log.logDebug('CONNECT: update raw msg content');\n                                rawMsg = checkResult.finalMessage;\n                            }\n                            else {\n                                log.logDebug('CONNECT: skip raw msg content');\n                                skipMsg = true;\n                            }\n                        }\n                    }\n                }\n                if (!skipMsg) {\n                    try {\n                        let msg = decrypt(rawMsg);\n                        if (msg === undefined) {\n                            log.logDebug(`CONNECT: decrypt undefined`);\n                            failed(event, 'Decrypt undefined');\n                        }\n                        else {\n                            success(event, msg);\n                        }\n                    }\n                    catch (e) {\n                        log.logDebug(`CONNECT: decrypt failed: ${e}`);\n                        failed(event, e.message);\n                    }\n                }\n            }\n        });\n        this.events.on(\"payload\", this.listenPayloadHandler);\n        if (this.failHandler) {\n            this.events.removeListener(\"fail\", this.failHandler);\n        }\n        this.failHandler = (e) => {\n            if (e) {\n                log.logDebug(`CONNECT failed: ${e}`);\n                failed(event, e.message);\n            }\n            else {\n                failed(event, \"Unkonow error\");\n            }\n        };\n        this.events.on(\"fail\", this.failHandler);\n    }\n    addPackageParse(callback) {\n        if (this.payloadHandler) {\n            this.events.removeListener(\"payload\", this.payloadHandler);\n        }\n        this.payloadHandler = (e) => __awaiter(this, void 0, void 0, function* () {\n            // parse the data to chose success or failed\n            log.logDebug(`CONNECTION @[${new Date().toUTCString()}] <<<< received e:${e}`);\n            let param = (0, utils_1.safeJsonParse)(e);\n            yield callback(param);\n        });\n        this.events.on(\"payload\", this.payloadHandler);\n    }\n    once(event, listener) {\n        this.events.once(event, listener);\n    }\n    off(event, listener) {\n        this.events.off(event, listener);\n    }\n    removeListener(event, listener) {\n        this.events.removeListener(event, listener);\n    }\n    send(doLogin, payload) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                if (typeof this.socket === \"undefined\") {\n                    log.logDebug(`>>> send payload undefined ${payload}`);\n                    // this.socket = await this.registOpen();\n                    yield doLogin();\n                }\n                log.logDebug(`CONNECTION @[${new Date().toUTCString()}]>>> send payload ${(0, utils_1.safeJsonStringify)(payload)}`);\n                if (this.socket) {\n                    this.socket.send((0, utils_1.safeJsonStringify)(payload));\n                }\n            }\n            catch (e) {\n                this.onError(payload.id, e);\n            }\n        });\n    }\n    getMsgPayloadFromHistory(msg) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (typeof msg === \"undefined\")\n                return;\n            let tmpMsg = {\n                params: {\n                    data: msg\n                }\n            };\n            let jsonstr = (0, utils_1.safeJsonStringify)(msg);\n            log.logDebug('get received data from history');\n            log.logDebug(jsonstr);\n            jsonstr = (0, utils_1.safeJsonStringify)(tmpMsg);\n            this.events.emit(\"payload\", jsonstr);\n        });\n    }\n    onOpen(callback) {\n        if (this.openHandler) {\n            this.events.removeListener(\"open\", this.openHandler);\n        }\n        this.openHandler = () => __awaiter(this, void 0, void 0, function* () {\n            log.logDebug(`CONNECTION @[${new Date().toUTCString()}] >>> ws opened: `);\n            yield callback();\n        });\n        this.events.on(\"open\", this.openHandler);\n        this.cacheSuccessUrlSelect();\n    }\n}\nexports.OKXWalletConnector = OKXWalletConnector;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ConnectionManager = void 0;\nconst connect_1 = require(\"./connect\");\nconst commands_1 = require(\"./commands\");\nconst storageconstants_1 = require(\"./storageconstants\");\nconst jwtconstants_1 = require(\"./jwtconstants\");\nconst constants_1 = require(\"./constants\");\nconst eventemitter3_1 = require(\"eventemitter3\");\nconst storage_1 = require(\"./storage\");\nconst utils_1 = require(\"../utils/utils\");\nconst crypto_1 = require(\"../crypto/crypto\");\nconst jwt_1 = require(\"./jwt\");\nconst safejson_1 = require(\"../utils/safejson\");\nconst log = __importStar(require(\"../utils/log\"));\nconst log_1 = require(\"../utils/log\");\nconst report_1 = require(\"../utils/report\");\nconst url_1 = require(\"../utils/url\");\nconst connectionSplitPackages_1 = require(\"./connectionSplitPackages\");\nclass ConnectionManager {\n    constructor(appname = undefined) {\n        this.events = new eventemitter3_1.EventEmitter();\n        this.splitManager = new connectionSplitPackages_1.ConnectionSplitPackages('dapp');\n        // local storage\n        this.connectStorage = new storage_1.Storage(storageconstants_1.OKXCONNECTOR_CACHE_KEY_DAPP + appname, storageconstants_1.OKXCONNECTOR_CACHE_KEY_DAPP);\n        this.crypto = new crypto_1.SessionCrypto();\n        let inTMA = (0, url_1.isInTMA)();\n        (0, log_1.logDebug)('do init:', inTMA);\n        log.reportLog('connection manager do init');\n        if (inTMA) {\n            // recovery from cache\n            const keyPairInfo = this.getCachedCryptoKeyPair();\n            (0, log_1.logDebug)('use same pk:', keyPairInfo);\n            this.crypto = new crypto_1.SessionCrypto(keyPairInfo);\n        }\n        this.jwtKeyPair = this.getCachedJWTKeyPair();\n        this.saveJWTKeyPair(this.jwtKeyPair);\n        // wss connection\n        this.connector = new connect_1.OKXWalletConnector(constants_1.OKXCONNECTOR_WS_URL_1);\n        this.packageId = Date.now();\n        // connection state\n        this.connectedWalletPK = '';\n        this.currentTopic = '';\n        log.logDebug(`this.connectedWalletPK  constructor   ${this.connectedWalletPK}`);\n    }\n    refreshPackageId() {\n        let nowDate = Date.now();\n        if (nowDate == this.packageId) {\n            this.packageId = nowDate + 1;\n        }\n        this.packageId = nowDate;\n    }\n    saveCryptoKeyPair(keyPair) {\n        let cacheInfo = (0, safejson_1.safeJsonStringify)(keyPair);\n        // encrypt kp\n        this.connectStorage.encryptStoreMsg(cacheInfo, storageconstants_1.OKXCONNECTOR_CRYPTO_KEY);\n    }\n    getCachedCryptoKeyPair() {\n        // decrypt kp\n        const kp = this.connectStorage.getAndDecrypt(storageconstants_1.OKXCONNECTOR_CRYPTO_KEY);\n        const content = kp;\n        if (typeof content == 'string') {\n            log.logDebug('get cached crypto key:');\n            log.logDebug(content);\n            let keyPairInfo = (0, safejson_1.safeJsonParse)(content);\n            return keyPairInfo;\n        }\n        else {\n            this.connectStorage.clearCache();\n        }\n        return null;\n    }\n    saveJWTKeyPair(keyPair) {\n        var strkeyPair = {\n            publicKey: (0, utils_1.toHexString)(keyPair.publicKey),\n            secretKey: (0, utils_1.toHexString)(keyPair.secretKey)\n        };\n        log.logDebug('save jwt kp');\n        let cacheInfo = (0, safejson_1.safeJsonStringify)(strkeyPair);\n        log.logDebug(cacheInfo);\n        // encrypt jwt kp\n        this.connectStorage.encryptStoreMsg(cacheInfo, storageconstants_1.OKXCONNECTOR_JWT_KEY);\n    }\n    getCachedJWTKeyPair() {\n        const kp = this.connectStorage.getAndDecrypt(storageconstants_1.OKXCONNECTOR_JWT_KEY);\n        const content = kp;\n        if (typeof content == 'string') {\n            // TODO: decrypt jwt kp\n            log.logDebug('get cached jwt kp:');\n            log.logDebug(content);\n            let strKeyPairInfo = (0, safejson_1.safeJsonParse)(content);\n            log.logDebug('save jwt kp');\n            log.logDebug(strKeyPairInfo);\n            var keyPair = {\n                publicKey: (0, utils_1.hexToByteArray)(strKeyPairInfo.publicKey),\n                secretKey: (0, utils_1.hexToByteArray)(strKeyPairInfo.secretKey)\n            };\n            return keyPair;\n        }\n        else {\n            return (0, jwt_1.generateKeyPair)();\n        }\n    }\n    isWalletPKReady() {\n        log.logDebug(`isWalletPKReady  ===> ${this.connectedWalletPK}`);\n        return this.connectedWalletPK.length > 0;\n    }\n    makeJWT(topic) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return yield (0, jwt_1.signJWT)(topic, jwtconstants_1.OKXCONNECTOR_JWT_SIDE, jwtconstants_1.OKXCONNECTOR_JWT_TTL, // 24h\n            this.jwtKeyPair);\n        });\n    }\n    parsePackage(input_1) {\n        return __awaiter(this, arguments, void 0, function* (input, ignoreACK = false) {\n            var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o;\n            this.events.emit(input.id, input);\n            // send back ACK\n            if (!ignoreACK) {\n                yield this.sendACK(input.id, true);\n                let topic = (_a = this.connectStorage.getItem(storageconstants_1.OKXCONNECTOR_TOKEN_CACHE)) === null || _a === void 0 ? void 0 : _a.content;\n                if (topic) {\n                    let inputObj = input;\n                    if ((_c = (_b = inputObj.params) === null || _b === void 0 ? void 0 : _b.data) === null || _c === void 0 ? void 0 : _c.messageId) {\n                        // change into split check receive\n                        let msgPlayloadObject = this.splitManager.tryParseMessageSplitPayload((_e = (_d = inputObj.params) === null || _d === void 0 ? void 0 : _d.data) === null || _e === void 0 ? void 0 : _e.message);\n                        if (msgPlayloadObject) {\n                            let msgObject = {\n                                topicId: (_g = (_f = inputObj.params) === null || _f === void 0 ? void 0 : _f.data) === null || _g === void 0 ? void 0 : _g.topic,\n                                messageId: (_j = (_h = inputObj.params) === null || _h === void 0 ? void 0 : _h.data) === null || _j === void 0 ? void 0 : _j.messageId,\n                                messageObject: msgPlayloadObject,\n                                publishedAt: (_l = (_k = inputObj.params) === null || _k === void 0 ? void 0 : _k.data) === null || _l === void 0 ? void 0 : _l.publishedAt,\n                            };\n                            let checkResult = yield this.splitManager.onReceivedPackageCheck(msgObject);\n                            if (checkResult.completeMessageIdList) {\n                                checkResult.completeMessageIdList.forEach((msgId) => __awaiter(this, void 0, void 0, function* () {\n                                    // 发送receive\n                                    this.refreshPackageId();\n                                    yield this.sendReceive(this.packageId.toString(), msgId, topic);\n                                }));\n                            }\n                        }\n                        else {\n                            this.refreshPackageId();\n                            yield this.sendReceive(this.packageId.toString(), (_o = (_m = inputObj.params) === null || _m === void 0 ? void 0 : _m.data) === null || _o === void 0 ? void 0 : _o.messageId, topic);\n                        }\n                    }\n                }\n            }\n        });\n    }\n    restoreConnect(topic) {\n        return __awaiter(this, void 0, void 0, function* () {\n            log.reportLog('connection manager restore connection');\n            log.logDebug(`connectionManager  restoreConenct   ${topic}`);\n            if ((typeof topic !== 'string') || topic.length === 0) {\n                throw new Error('CONNECTION: invalid topic');\n            }\n            log.logDebug(`connectionManager  restoreConenct   disconnect`);\n            yield this.disconnect(true);\n            this.connectStorage.saveContent(topic, storageconstants_1.OKXCONNECTOR_TOKEN_CACHE);\n            log.logDebug(`connectionManager  restoreConenct   conect`);\n            yield this.connect(true);\n        });\n    }\n    getConnectInfo() {\n        var topic = (0, utils_1.generateTopic)();\n        log.logDebug(`generate topic token: ${topic}`);\n        log.reportLog('connection manager generate connection info');\n        this.currentTopic = topic;\n        const info = {\n            channelId: topic,\n            clientId: this.crypto.stringifyKeypair().publicKey,\n        };\n        return info;\n    }\n    connect() {\n        return __awaiter(this, arguments, void 0, function* (fromRestore = false) {\n            this.timeLog = new Date().getTime();\n            (0, log_1.logDebug)(\"ConnectTime---enter->\", this.timeLog);\n            log.reportLog('connection manager begin connect');\n            let lastConnectId = this.connectStorage.getItem(storageconstants_1.OKXCONNECTOR_TOKEN_CACHE);\n            //1. generate topic & jwt\n            var topic = this.currentTopic;\n            log.logDebug(`generate topic token: ${topic}`);\n            // crypto keypair\n            if (fromRestore) {\n                if (typeof lastConnectId !== 'undefined' && lastConnectId !== null) {\n                    log.logDebug(`read last connect id: ${lastConnectId}`);\n                    topic = lastConnectId.content;\n                }\n                var cachedSenderPublicKey = this.connectStorage.getItem(storageconstants_1.OKXCONNECTOR_CRYPTO_SENDER_PK_CACHE);\n                if (cachedSenderPublicKey) {\n                    this.connectedWalletPK = cachedSenderPublicKey.content;\n                    (0, log_1.logDebug)(`connectionManager connect() this.connectedWalletPK : ${this.connectedWalletPK}`);\n                }\n                log.reportLog('connection manager do restore connection');\n            }\n            if (fromRestore) {\n                // recovery from cache\n                const keyPairInfo = this.getCachedCryptoKeyPair();\n                if (keyPairInfo) {\n                    this.crypto = new crypto_1.SessionCrypto(keyPairInfo);\n                }\n            }\n            log.logDebug(`use crypto client id: ${this.crypto.stringifyKeypair().publicKey}`);\n            // cache topic\n            this.connectStorage.saveContent(topic, storageconstants_1.OKXCONNECTOR_TOKEN_CACHE);\n            var jwtToken = yield this.makeJWT(topic);\n            log.logDebug(`generate jwt token: ${jwtToken}`);\n            this.connectStorage.saveContent(jwtToken, 'jwt');\n            return new Promise((resolve, reject) => {\n                // 1. when websocket opened\n                this.connector.onOpen(() => __awaiter(this, void 0, void 0, function* () {\n                    log.logDebug(`1. connector on open`);\n                    log.reportLog('1. connect ws open');\n                    const timeOne = new Date().getTime();\n                    (0, log_1.logDebug)(\"ConnectTime---open->\", timeOne - this.timeLog);\n                    //2. send jwt to login\n                    this.events.once(this.packageId.toString(), (rsp) => __awaiter(this, void 0, void 0, function* () {\n                        // ack\n                        if (rsp && rsp.error) {\n                            log.logError('failed when login');\n                            log.reportLog('2. connect login failed');\n                            yield this.connector.disconnect();\n                            var error = new Error();\n                            error.message = rsp.error.message;\n                            error.name = rsp.error.code.toString();\n                            // throw error\n                            reject(error);\n                        }\n                        //3. send subscribe\n                        this.refreshPackageId();\n                        this.events.once(this.packageId.toString(), (rsp) => __awaiter(this, void 0, void 0, function* () {\n                            // ack\n                            if (rsp && rsp.error) {\n                                log.logError('failed when subscribe');\n                                log.reportLog('3. connect subscribe failed');\n                                yield this.connector.disconnect();\n                                var error = new Error();\n                                error.message = rsp.error.message;\n                                error.name = rsp.error.code.toString();\n                                // throw error\n                                reject(error);\n                            }\n                            this.refreshPackageId();\n                            log.logDebug(`4. subscribe callback then send fetch: ${this.packageId}`);\n                            log.reportLog('4. subscribe callback then send fetch');\n                            const timeF = new Date().getTime();\n                            (0, log_1.logDebug)(\"ConnectTime--subscribe callback->\", timeF - this.timeLog);\n                            // 4. fetch messages\n                            yield this.sendFetchAndConsumeMessages(this.packageId.toString(), topic);\n                            // 5. split init\n                            log.logDebug(`5. splitmanager init: ${this.packageId}`);\n                            log.reportLog('5. splitmanager init');\n                            yield this.splitManager.init(this.sendRaw.bind(this));\n                            resolve();\n                        }));\n                        log.logDebug(`3. login callback then send subscribe: ${this.packageId}`);\n                        log.reportLog('3. connect subscribe failed');\n                        const timeTh = new Date().getTime();\n                        (0, log_1.logDebug)(\"ConnectTime---login callback->\", timeTh - this.timeLog);\n                        yield this.connector.send(() => __awaiter(this, void 0, void 0, function* () {\n                            log.logDebug('CONNECT: reconnect before send');\n                            yield this.connector.connect()\n                                .catch((err) => {\n                                (0, log_1.logDebug)('ConnectionManager connect error', err);\n                                reject(err);\n                            });\n                        }), {\n                            id: this.packageId.toString(),\n                            jsonrpc: constants_1.CONNECT_JSONRPC_VER,\n                            method: commands_1.CONNECT_METHOD_SUB,\n                            params: {\n                                topic: topic\n                            }\n                        });\n                    }));\n                    log.logDebug(`2. login called`);\n                    log.reportLog('2. connection manager connect call login');\n                    yield this.connector.send(() => __awaiter(this, void 0, void 0, function* () {\n                        log.logDebug('CONNECT: reconnect before send');\n                        yield this.connector.connect()\n                            .catch((err) => {\n                            (0, log_1.logDebug)('ConnectionManager connect error', err);\n                            reject(err);\n                        });\n                    }), {\n                        id: this.packageId.toString(),\n                        jsonrpc: constants_1.CONNECT_JSONRPC_VER,\n                        method: commands_1.CONNECT_METHOD_LOGIN,\n                        params: {\n                            token: jwtToken\n                        }\n                    });\n                    // 4. listen when dapp back to front, receive wallet public key\n                    this.connector.addPackageParse((event) => {\n                        var _a;\n                        log.logDebug(`connect: parse package`);\n                        log.logDebug(event);\n                        if (!(\"params\" in event) || !(\"data\" in event[\"params\"])) {\n                            this.parsePackage(event, true);\n                            return;\n                        }\n                        let rawMsg = (_a = event.params.data) === null || _a === void 0 ? void 0 : _a.message;\n                        if (typeof rawMsg !== 'undefined') {\n                            rawMsg = rawMsg.replace(/'/g, '\"');\n                            let parsedMessage = (0, safejson_1.safeJsonParse)(rawMsg);\n                            if (typeof parsedMessage !== 'string' && \"clientId\" in parsedMessage && parsedMessage.clientId && parsedMessage.clientId.length > 0) {\n                                this.connectedWalletPK = parsedMessage.clientId;\n                                log.logDebug(`this.connectedWalletPK  addPackageParse   ${this.connectedWalletPK}`);\n                                // exchange sender public key\n                                // cache wallet public key\n                                this.connectStorage.saveContent(this.connectedWalletPK, storageconstants_1.OKXCONNECTOR_CRYPTO_SENDER_PK_CACHE);\n                                // cache crypto keypair\n                                this.saveCryptoKeyPair(this.crypto.stringifyKeypair());\n                            }\n                        }\n                        // ignore receive echo\n                        this.parsePackage(event, event.method === commands_1.CONNECT_METHOD_RECEIVE);\n                    });\n                }));\n                this.connector.connect().catch((err) => {\n                    (0, log_1.logDebug)('ConnectionManager connect error', err);\n                    reject(err);\n                });\n            });\n        });\n    }\n    disconnect() {\n        return __awaiter(this, arguments, void 0, function* (fromRestore = false) {\n            yield this.connector.disconnect();\n            log.reportLog('connect disconnect');\n            //clean cached topic\n            //如果是恢复连接，就不清理解密public key\n            this.connectStorage.clearCache(storageconstants_1.OKXCONNECTOR_TOKEN_CACHE);\n            if (!fromRestore) {\n                this.connectStorage.clearCache(storageconstants_1.OKXCONNECTOR_CRYPTO_SENDER_PK_CACHE);\n                this.connectedWalletPK = '';\n                (0, log_1.logDebug)(`connectionManager disconnect() this.connectedWalletPK : ${this.connectedWalletPK}`);\n            }\n        });\n    }\n    updateProtocolVersion(topic, protocolVersion) {\n        this.splitManager.updateTopicSenderVersion(topic, protocolVersion);\n    }\n    addListener(event, success, fail) {\n        this.connector.addListener((0, safejson_1.safeJsonStringify)(event), (rawMsg) => {\n            rawMsg = rawMsg.replace(/'/g, '\"');\n            log.logDebug(`addListener ===> ${rawMsg}`);\n            if (typeof rawMsg !== 'undefined') {\n                var msgObj = (0, safejson_1.safeJsonParse)(rawMsg);\n                var msg = msgObj.message;\n                let result;\n                if (msg.trimStart().startsWith('{')) {\n                    result = msg;\n                }\n                else {\n                    if (msgObj.clientId && msgObj.clientId.length > 0) {\n                        this.connectedWalletPK = msgObj.clientId;\n                        this.connectStorage.saveContent(this.connectedWalletPK, storageconstants_1.OKXCONNECTOR_CRYPTO_SENDER_PK_CACHE);\n                        log.logDebug(`this.connectedWalletPK  addListener   ${this.connectedWalletPK}`);\n                        log.logDebug(`this.cryptoKey  addListener   ${(0, utils_1.toHexString)(this.crypto.keyPair.publicKey)}`);\n                        // cache crypto keypair\n                        this.saveCryptoKeyPair(this.crypto.stringifyKeypair());\n                    }\n                    result = this.crypto.decrypt(msg, this.connectedWalletPK);\n                }\n                log.logDebug(`addListener ===> ${result}`);\n                return result;\n            }\n            return undefined;\n        }, success, fail, (inputDataObj) => {\n            // 判断获取是否是分包，如果是则返回合包结果，如果不是则继续\n            return new Promise((resolve, reject) => __awaiter(this, void 0, void 0, function* () {\n                let msgPlayloadObject = this.splitManager.tryParseMessageSplitPayload(inputDataObj.message);\n                if (msgPlayloadObject) {\n                    let msgObject = {\n                        topicId: inputDataObj.topic,\n                        messageId: inputDataObj === null || inputDataObj === void 0 ? void 0 : inputDataObj.messageId,\n                        messageObject: msgPlayloadObject,\n                        publishedAt: inputDataObj === null || inputDataObj === void 0 ? void 0 : inputDataObj.publishedAt,\n                    };\n                    let msgResult = yield this.splitManager.onReceivedPackageCheck(msgObject);\n                    resolve(msgResult);\n                }\n                else {\n                    resolve({\n                        isSplitPackage: false,\n                    });\n                }\n            }));\n        });\n    }\n    sendRaw(msg) {\n        return __awaiter(this, void 0, void 0, function* () {\n            log.logDebug(`message send =====> ${msg}`);\n            log.reportLog('connect send raw msg');\n            let message = msg;\n            log.logDebug(`message send =====encrypt message.length>>>> ${message.length}`);\n            // only one topic\n            let topic = this.connectStorage.getItem(storageconstants_1.OKXCONNECTOR_TOKEN_CACHE);\n            log.logDebug(`message send =====topic>>>> ${topic === null || topic === void 0 ? void 0 : topic.content}`);\n            this.refreshPackageId();\n            const payload = {\n                id: this.packageId.toString(),\n                method: commands_1.CONNECT_METHOD_PUBLISH,\n                jsonrpc: constants_1.CONNECT_JSONRPC_VER,\n                params: {\n                    message: {\n                        topic: topic === null || topic === void 0 ? void 0 : topic.content,\n                        message: message,\n                        ttl: constants_1.OKXCONNECTOR_MESSAGE_TTL\n                    }\n                } // crypted\n            };\n            this.events.once(this.packageId.toString(), (rsp) => __awaiter(this, void 0, void 0, function* () {\n                // ack\n                if (rsp && rsp.error) {\n                    log.logError(`@${new Date().toUTCString()} >>> failed when send msg`);\n                }\n                else if (rsp && !rsp.error) {\n                    log.logDebug(`CONNECTION @[${new Date().toUTCString()}] >>> send msg with id ${this.packageId} successed`);\n                }\n            }));\n            yield this.connector.send(() => __awaiter(this, void 0, void 0, function* () {\n                log.logDebug('CONNECT: reconnect before send');\n                return yield this.connector.connect();\n            }), payload);\n            return this.packageId;\n        });\n    }\n    sendEncryptedMsg(topic_1, encryptedMsg_1) {\n        return __awaiter(this, arguments, void 0, function* (topic, encryptedMsg, ttl = constants_1.OKXCONNECTOR_MESSAGE_TTL) {\n            this.refreshPackageId();\n            const payload = {\n                id: this.packageId.toString(),\n                method: commands_1.CONNECT_METHOD_PUBLISH,\n                jsonrpc: constants_1.CONNECT_JSONRPC_VER,\n                params: {\n                    message: {\n                        topic: topic,\n                        message: encryptedMsg,\n                        ttl: ttl\n                    }\n                } // crypted\n            };\n            this.events.once(this.packageId.toString(), (rsp) => __awaiter(this, void 0, void 0, function* () {\n                // ack\n                if (rsp && rsp.error) {\n                    log.logError(`@${new Date().toUTCString()} >>> failed when send msg`);\n                }\n                else if (rsp && !rsp.error) {\n                    log.logDebug(`CONNECTION @[${new Date().toUTCString()}] >>> send msg with id ${this.packageId} successed`);\n                }\n            }));\n            yield this.connector.send(() => __awaiter(this, void 0, void 0, function* () {\n                log.logDebug('CONNECT: reconnect before send');\n                return yield this.connector.connect();\n            }), payload);\n        });\n    }\n    send(msg_1) {\n        return __awaiter(this, arguments, void 0, function* (msg, ttl = constants_1.OKXCONNECTOR_MESSAGE_TTL) {\n            // make send msg payload\n            log.logDebug(`message send =====> ${msg}`);\n            log.reportLog('connect send msg');\n            if (!this.isWalletPKReady()) {\n                // channel not ready\n                throw new Error('connection not finish');\n            }\n            let message = this.crypto.encrypt(msg, this.connectedWalletPK);\n            log.logDebug(`message send =====encrypt message.length>>>> ${message.length}`);\n            log.reportEvent(report_1.OKXReportType.LOG, 'msg_size', message.length.toString());\n            // only one topic\n            let topic = this.connectStorage.getItem(storageconstants_1.OKXCONNECTOR_TOKEN_CACHE);\n            log.logDebug(`message send =====topic>>>> ${topic === null || topic === void 0 ? void 0 : topic.content}`);\n            // before send message check split\n            yield this.splitManager.sendSplitPackages(topic === null || topic === void 0 ? void 0 : topic.content, message, this.sendEncryptedMsg.bind(this), this.sendRaw.bind(this));\n            // await this.sendEncryptedMsg(topic?.content, message, ttl)\n            // this.refreshPackageId()\n            // const payload : ConnectPayloadReq = {\n            //    id : this.packageId.toString(),\n            //    method: CONNECT_METHOD_PUBLISH,\n            //    jsonrpc: CONNECT_JSONRPC_VER,\n            //    params: {\n            //       message: {\n            //          topic: topic?.content,\n            //          message: message,\n            //          ttl: ttl\n            //       }\n            //    } // crypted\n            // }\n            // this.events.once(this.packageId.toString(), async (rsp:ConnectPayloadRsp)=>{\n            //    // ack\n            //    if (rsp && rsp.error) {\n            //       log.logError(`@${new Date().toUTCString()} >>> failed when send msg`)\n            //    } else if ( rsp && !rsp.error) {\n            //       log.logDebug(`CONNECTION @[${new Date().toUTCString()}] >>> send msg with id ${this.packageId} successed`)\n            //    }\n            // })\n            // await this.connector.send(async ()=>{\n            //    log.logDebug('CONNECT: reconnect before send')\n            //    return await this.connector.connect();\n            // }, payload)\n            return this.packageId;\n        });\n    }\n    sendACK(msgId_1, success_1) {\n        return __awaiter(this, arguments, void 0, function* (msgId, success, reason = undefined) {\n            if (success === true) {\n                const payload = {\n                    id: msgId,\n                    jsonrpc: constants_1.CONNECT_JSONRPC_VER,\n                    result: true\n                };\n                yield this.connector.send(() => __awaiter(this, void 0, void 0, function* () {\n                    log.logDebug('CONNECT: reconnect before send');\n                    return yield this.connector.connect();\n                }), payload);\n            }\n            else if (reason) {\n                const payload = {\n                    id: msgId,\n                    jsonrpc: constants_1.CONNECT_JSONRPC_VER,\n                    error: {\n                        code: reason.code, //int\n                        message: reason.message\n                    }\n                };\n                yield this.connector.send(() => __awaiter(this, void 0, void 0, function* () {\n                    log.logDebug('CONNECT: reconnect before send');\n                    return yield this.connector.connect();\n                }), payload);\n            }\n        });\n    }\n    // send receive\n    sendReceive(msgId, messageId, topic) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const payload = {\n                id: msgId,\n                jsonrpc: constants_1.CONNECT_JSONRPC_VER,\n                method: commands_1.CONNECT_METHOD_RECEIVE,\n                params: {\n                    data: {\n                        messageId: messageId,\n                        topic: topic\n                    }\n                }\n            };\n            yield this.connector.send(() => __awaiter(this, void 0, void 0, function* () {\n                log.logDebug('CONNECT: reconnect before send');\n                return yield this.connector.connect();\n            }), payload);\n        });\n    }\n    // send receive\n    // 1. fetch all \n    // 2. send back receive\n    // 3. check has more, if so, repeat from 1st step\n    sendFetchAndConsumeMessages(msgId, topic) {\n        return __awaiter(this, void 0, void 0, function* () {\n            //1. send fetch\n            this.events.once(msgId, (fetchedMessages) => __awaiter(this, void 0, void 0, function* () {\n                var _a, _b;\n                //2. consume received messages\n                if (fetchedMessages.result) {\n                    var hasMore = fetchedMessages.result.hasMore;\n                    var receivedMsgs = fetchedMessages.result.data;\n                    if (receivedMsgs) {\n                        for (let i = 0; i < receivedMsgs.length; i++) {\n                            let msg = receivedMsgs[i];\n                            if (msg && msg.topic == topic) {\n                                let messageId = msg.messageId;\n                                log.reportLog('5. get fetch result');\n                                // fetch result receive control\n                                let msgPlayloadObject = this.splitManager.tryParseMessageSplitPayload(msg.message);\n                                if (msgPlayloadObject) {\n                                    yield this.connector.getMsgPayloadFromHistory(msg);\n                                    log.logDebug('skip receive');\n                                }\n                                else {\n                                    yield this.connector.getMsgPayloadFromHistory(msg);\n                                    // send receive command to relay server\n                                    this.refreshPackageId();\n                                    yield this.sendReceive(this.packageId.toString(), messageId, topic);\n                                }\n                            }\n                        }\n                    }\n                    // 3. check hasmore\n                    if (hasMore) {\n                        this.refreshPackageId();\n                        yield this.sendFetchAndConsumeMessages(this.packageId.toString(), topic);\n                    }\n                }\n                else {\n                    log.logDebug(`CONNECT: get error rsp ${(_a = fetchedMessages.error) === null || _a === void 0 ? void 0 : _a.code} : ${(_b = fetchedMessages.error) === null || _b === void 0 ? void 0 : _b.message}`);\n                }\n            }));\n            log.logDebug('5. send fetch more');\n            log.reportLog('5. send fetch more');\n            const timeFive = new Date().getTime();\n            (0, log_1.logDebug)(\"ConnectTime---5->\", timeFive - this.timeLog);\n            const payload = {\n                id: msgId,\n                jsonrpc: constants_1.CONNECT_JSONRPC_VER,\n                method: commands_1.CONNECT_METHOD_FETCHMSG,\n                params: {\n                    data: {\n                        topic: topic\n                    }\n                }\n            };\n            yield this.connector.send(() => __awaiter(this, void 0, void 0, function* () {\n                log.logDebug('CONNECT: reconnect before send');\n                return yield this.connector.connect();\n            }), payload);\n        });\n    }\n    cleanCache() {\n        return __awaiter(this, void 0, void 0, function* () {\n            log.reportLog('connection cache clean called');\n            this.connectStorage.clearCache();\n        });\n    }\n    saveSessionContent(key, data) {\n        if (!data) {\n            this.connectStorage.clearCache(storageconstants_1.OKXCONNECTOR_SESSION_PREFIX_KEY + key);\n        }\n        let jsonData = (0, safejson_1.safeJsonStringify)(data);\n        this.connectStorage.encryptStoreMsg(jsonData, storageconstants_1.OKXCONNECTOR_SESSION_PREFIX_KEY + key);\n    }\n    getSessionContent(key) {\n        let jsonStr = this.connectStorage.getAndDecrypt(storageconstants_1.OKXCONNECTOR_SESSION_PREFIX_KEY + key);\n        if (jsonStr) {\n            let object = (0, safejson_1.safeJsonParse)(jsonStr);\n            return object;\n        }\n        return undefined;\n    }\n    getCurrentConnectionReady() {\n        return this.isWalletPKReady();\n    }\n}\nexports.ConnectionManager = ConnectionManager;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ConnectionSplitPackages = void 0;\nconst storageconstants_1 = require(\"./storageconstants\");\nconst localforage_1 = __importDefault(require(\"localforage\"));\nconst utils_1 = require(\"../utils/utils\");\nconst safejson_1 = require(\"../utils/safejson\");\nconst log = __importStar(require(\"../utils/log\"));\nconst log_1 = require(\"../utils/log\");\nconst ConnectionSplitSupportedVersionLimit = 2;\n//  const ConnectionSplitSupportedSizeLimit = 63000\n// test\nconst ConnectionSplitSupportedSizeLimit = 500;\nconst ConnectionReceiveKey = 'ConnectionReceiveKey';\nconst ConnectionSendKey = 'ConnectionSendKey';\nconst ConnectionTopicVersionKey = 'ConnectionSenderVersionKey';\nclass ConnectionSplitPackages {\n    constructor(side) {\n        // 发送队列, 保存分片数据，需要断点续传发送，\n        this.splitMessageSendArray = new Map();\n        // 接收队列, 保存回包数据，需要冗余去重复\n        this.splitMessageReceivedArray = new Map();\n        // sender 版本校验缓存\n        this.splitMessageSenderVersionMap = new Map();\n        this.splitPackageCache = localforage_1.default.createInstance({\n            name: storageconstants_1.OKXCONNECTOR_STORAGE_PROTOCOL_CACHE + side\n        });\n    }\n    init(sendRawMsg) {\n        return __awaiter(this, void 0, void 0, function* () {\n            // 1. 恢复缓存\n            yield this.recoverFromCache();\n            //2. 缓存中发送队列重发\n            if (this.splitMessageSendArray.size > 0) {\n                for (const [topic, payloadList] of this.splitMessageSendArray.entries()) {\n                    for (let i = 0; i < payloadList.length;) {\n                        const payload = payloadList[i];\n                        try {\n                            // 尝试发送消息\n                            yield sendRawMsg((0, safejson_1.safeJsonStringify)(payload), topic);\n                            log.logDebug(`Successfully sent payload: ${(0, safejson_1.safeJsonStringify)(payload)} to topic: ${topic}`);\n                            // 成功后移除元素\n                            payloadList.splice(i, 1);\n                        }\n                        catch (error) {\n                            log.logError(`Failed to send payload: ${(0, safejson_1.safeJsonStringify)(payload)} to topic: ${topic}`, error);\n                            // 重试逻辑（最多重试 3 次）\n                            payload.retryCount = (payload.retryCount || 0) + 1;\n                            if (payload.retryCount > 3) {\n                                log.logError(`Payload failed after 3 retries: ${(0, safejson_1.safeJsonStringify)(payload)}`);\n                                payloadList.splice(i, 1); // 放弃重试，移除元素\n                            }\n                            else {\n                                i++; // 跳过当前元素，继续处理下一个\n                            }\n                        }\n                    }\n                }\n                yield this.syncCache();\n            }\n        });\n    }\n    tryParseMessageSplitPayload(message) {\n        var _a;\n        let result = undefined;\n        try {\n            if (message.trimStart().startsWith('{')) {\n                let messageObj = (0, safejson_1.safeJsonParse)(message);\n                if (messageObj\n                    && messageObj.protocol_version\n                    && messageObj.protocol_version >= 2) {\n                    let protocolMessageObject = messageObj;\n                    if (protocolMessageObject.package_group_id && ((_a = protocolMessageObject.package_group_id) === null || _a === void 0 ? void 0 : _a.length) > 0) {\n                        result = messageObj;\n                    }\n                }\n            }\n            else {\n                (0, log_1.logDebug)('not split packages');\n            }\n        }\n        catch (error) {\n            (0, log_1.logDebug)('not split packages');\n        }\n        return result;\n    }\n    updateTopicSenderVersion(topic, protocolVersion) {\n        return __awaiter(this, void 0, void 0, function* () {\n            this.splitMessageSenderVersionMap.set(topic, protocolVersion);\n            yield this.syncCache();\n            (0, log_1.logDebug)('get update topic sender version: ', topic, protocolVersion);\n        });\n    }\n    /**\n     * topic\n     * message 待发送的消息体\n     * sendMsg 正常发送消息的方法\n     * sendRawMsg 发送明文格式，即拆包消息的方法\n    */\n    sendSplitPackages(topic, message, sendMsg, sendRawMsg) {\n        return __awaiter(this, void 0, void 0, function* () {\n            // 1. 长度校验拆分子包\n            // 2. 确认连接协议最大支持版本\n            // 3. 分包缓存\n            // 4. 缓存包发送\n            // 5. ACK确认并清理缓存\n            if (!topic) {\n                log.logError('sendSplitPackages invalid topic');\n                return;\n            }\n            let senderVersion = this.splitMessageSenderVersionMap.get(topic);\n            let msgLength = message.length;\n            try {\n                if (msgLength < ConnectionSplitSupportedSizeLimit) {\n                    throw new Error(`no need to split (size:${msgLength})`);\n                }\n                if (!senderVersion || (senderVersion && senderVersion < ConnectionSplitSupportedVersionLimit)) {\n                    throw new Error(`version not support split (version: ${senderVersion})`);\n                }\n                const msg_parts = [];\n                let msg_part_length = ConnectionSplitSupportedSizeLimit;\n                for (let i = 0; i < message.length; i += msg_part_length) {\n                    if (i + msg_part_length < message.length) {\n                        msg_parts.push(message.slice(i, i + msg_part_length));\n                    }\n                    else {\n                        msg_parts.push(message.slice(i));\n                    }\n                }\n                let groupId = (0, utils_1.generateGroupId)();\n                let splitMessagePackages = msg_parts.map((msg, index) => {\n                    // make msg split parts\n                    let msgObj = {\n                        topicId: topic,\n                        protocol_version: ConnectionSplitSupportedVersionLimit,\n                        total_count: msg_parts.length,\n                        package_index: index,\n                        package_group_id: groupId,\n                        content: msg\n                    };\n                    return msgObj;\n                });\n                // save cache\n                this.mergePackageArray(true, splitMessagePackages);\n                // try send out\n                for (let i = 0; i < splitMessagePackages.length;) {\n                    const msgObj = splitMessagePackages[i];\n                    const payload = (0, safejson_1.safeJsonStringify)(msgObj);\n                    try {\n                        // 尝试发送消息\n                        yield sendRawMsg(payload, topic);\n                        log.logDebug(`Successfully sent payload: ${payload} to topic: ${topic}`);\n                        // 成功后移除元素\n                        splitMessagePackages.splice(i, 1);\n                    }\n                    catch (error) {\n                        log.logError(`Failed to send payload: ${payload} to topic: ${topic}`, error);\n                        // 重试逻辑（最多重试 3 次）\n                        msgObj.retryCount = (msgObj.retryCount || 0) + 1;\n                        if (msgObj.retryCount > 3) {\n                            log.logError(`Payload failed after 3 retries: ${payload}`);\n                            splitMessagePackages.splice(i, 1); // 放弃重试，移除元素\n                        }\n                        else {\n                            i++; // 跳过当前元素，继续处理下一个\n                        }\n                    }\n                }\n                // clean cache\n                this.splitMessageSendArray.set(topic, []);\n                yield this.syncCache();\n            }\n            catch (e) {\n                (0, log_1.logDebug)('send split packages no split');\n                (0, log_1.logDebug)(e);\n                yield sendMsg(topic, message);\n            }\n        });\n    }\n    onReceivedPackageCheck(payload) {\n        return __awaiter(this, void 0, void 0, function* () {\n            // 1. merge 进入缓存\n            this.mergePackageArray(false, [payload]);\n            let completeMap = new Map();\n            let inputTopic = payload.topicId;\n            // 2. 返回检查结果,输出完整message结果\n            this.splitMessageReceivedArray.forEach((itemList, topic) => {\n                if (topic == payload.topicId) {\n                    itemList.forEach((item) => {\n                        if (item.messageObject.package_group_id) {\n                            let messageCache = completeMap.get(item.messageObject.package_group_id);\n                            if (!messageCache) {\n                                messageCache = new Array();\n                            }\n                            messageCache.push(item);\n                            completeMap.set(item.messageObject.package_group_id, messageCache);\n                        }\n                    });\n                }\n            });\n            (0, log_1.logDebug)('on received message, check message cache');\n            let checkResult = {\n                isSplitPackage: false,\n                // finalMessage: undefined,\n                // completeMessageIdList: undefined \n            };\n            if (payload.messageObject.package_group_id) {\n                checkResult.isSplitPackage = true;\n                let messageCache = completeMap.get(payload.messageObject.package_group_id);\n                // 判断是否收齐\n                if (messageCache === null || messageCache === void 0 ? void 0 : messageCache.length) {\n                    let index_check = new Set();\n                    messageCache.forEach((item) => {\n                        if (item.messageObject.package_index !== undefined) {\n                            index_check.add(item.messageObject.package_index);\n                        }\n                    });\n                    if (index_check.size == payload.messageObject.total_count) {\n                        // 满足条件，更新checkResult\n                        messageCache.sort((a, b) => {\n                            if ((a.messageObject.package_index || a.messageObject.package_index === 0)\n                                && (b.messageObject.package_index || b.messageObject.package_index === 0)) {\n                                return a.messageObject.package_index - b.messageObject.package_index;\n                            }\n                            else {\n                                return 0;\n                            }\n                        });\n                        let messageList = messageCache.reduce((msgList, item) => {\n                            msgList.push(item.messageObject.content);\n                            return msgList;\n                        }, []);\n                        let messageIdList = messageCache.reduce((msgIdList, item) => {\n                            msgIdList.push(item.messageId);\n                            return msgIdList;\n                        }, []);\n                        checkResult.isSplitPackage = true;\n                        checkResult.finalMessage = messageList.join('');\n                        checkResult.completeMessageIdList = messageIdList;\n                        // 清理缓存\n                        let receivedList = this.splitMessageReceivedArray.get(inputTopic);\n                        if (receivedList) {\n                            receivedList = receivedList.filter((item) => {\n                                return !messageIdList.includes(item.messageId);\n                            });\n                            this.splitMessageReceivedArray.set(inputTopic, receivedList);\n                        }\n                        yield this.syncCache();\n                    }\n                }\n            }\n            // 抛出，交给manager来发送receive\n            return checkResult;\n        });\n    }\n    /* -------------------------- */\n    /** private methods */\n    /* -------------------------- */\n    mergePackageArray(isSending, inputPayloadArray) {\n        return __awaiter(this, void 0, void 0, function* () {\n            (0, log_1.logDebug)('append sending array');\n            if (isSending) {\n                let inputSendArray = inputPayloadArray;\n                let filtedArray = inputSendArray.filter((payload) => {\n                    let inputTopic = payload.topicId;\n                    let accept = true;\n                    let sendCacheArray = this.splitMessageSendArray.get(inputTopic);\n                    sendCacheArray === null || sendCacheArray === void 0 ? void 0 : sendCacheArray.forEach((cachedPayload) => {\n                        if (cachedPayload.package_group_id == payload.package_group_id\n                            && cachedPayload.total_count == payload.total_count\n                            && cachedPayload.package_index == payload.package_index) {\n                            accept = false;\n                        }\n                    });\n                    return accept;\n                });\n                if (filtedArray.length > 0) {\n                    let inputTopic = filtedArray[0].topicId;\n                    let sendArray = this.splitMessageSendArray.get(inputTopic);\n                    if (!sendArray) {\n                        sendArray = new Array();\n                    }\n                    sendArray = sendArray.concat(filtedArray);\n                    this.splitMessageSendArray.set(inputTopic, sendArray);\n                    (0, log_1.logDebug)('append sending array (after filted): ', sendArray);\n                }\n            }\n            else {\n                let inputReceiveArray = inputPayloadArray;\n                let filtedArray = inputReceiveArray.filter((payload) => {\n                    let inputTopic = payload.topicId;\n                    let accept = true;\n                    let receiveCacheArray = this.splitMessageReceivedArray.get(inputTopic);\n                    receiveCacheArray === null || receiveCacheArray === void 0 ? void 0 : receiveCacheArray.forEach((cachedPayload) => {\n                        if (cachedPayload.messageId == payload.messageId) {\n                            accept = false;\n                        }\n                    });\n                    return accept;\n                });\n                if (filtedArray.length > 0) {\n                    let inputTopic = filtedArray[0].topicId;\n                    let receiveArray = this.splitMessageReceivedArray.get(inputTopic);\n                    if (!receiveArray) {\n                        receiveArray = new Array();\n                    }\n                    receiveArray = receiveArray.concat(filtedArray);\n                    this.splitMessageReceivedArray.set(inputTopic, receiveArray);\n                    (0, log_1.logDebug)('append received array (after filted): ', receiveArray);\n                }\n            }\n        });\n    }\n    syncCache() {\n        return __awaiter(this, void 0, void 0, function* () {\n            (0, log_1.logDebug)('sync split message cache');\n            yield this.splitPackageCache.setItem(ConnectionReceiveKey, this.splitMessageReceivedArray);\n            yield this.splitPackageCache.setItem(ConnectionSendKey, this.splitMessageSendArray);\n            yield this.splitPackageCache.setItem(ConnectionTopicVersionKey, this.splitMessageSenderVersionMap);\n        });\n    }\n    recoverFromCache() {\n        return __awaiter(this, void 0, void 0, function* () {\n            // rec\n            let rec_array = yield this.splitPackageCache.getItem(ConnectionReceiveKey);\n            if (rec_array) {\n                this.splitMessageReceivedArray = rec_array;\n            }\n            else {\n                this.splitMessageReceivedArray = new Map();\n            }\n            //send\n            let send_array = yield this.splitPackageCache.getItem(ConnectionSendKey);\n            if (send_array) {\n                this.splitMessageSendArray = send_array;\n            }\n            else {\n                this.splitMessageSendArray = new Map();\n            }\n            // topic/version cach\n            let topic = yield this.splitPackageCache.getItem(ConnectionTopicVersionKey);\n            if (topic) {\n                this.splitMessageSenderVersionMap = topic;\n            }\n            else {\n                this.splitMessageSenderVersionMap = new Map();\n            }\n        });\n    }\n}\nexports.ConnectionSplitPackages = ConnectionSplitPackages;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ConnectorState = exports.CONNECT_PROTOCOL_VER = exports.CONNECT_JSONRPC_VER = exports.OKXCONNECTOR_MESSAGE_TTL = exports.OKXCONNECTOR_WS_URL_PENDING_CLOSE_CODE = exports.OKXCONNECTOR_WS_URL_LIST = exports.OKXCONNECTOR_WS_URL_IDX_KEY = exports.OKXCONNECTOR_WS_URL_3 = exports.OKXCONNECTOR_WS_URL_2 = exports.OKXCONNECTOR_WS_URL_1 = exports.EVENT_EMITTER_MAX_LISTENERS = exports.OKXCONNECTOR_PROTOCOL_VERSION = void 0;\nexports.OKXCONNECTOR_PROTOCOL_VERSION = 2;\nexports.EVENT_EMITTER_MAX_LISTENERS = 10;\nexports.OKXCONNECTOR_WS_URL_1 = \"wss://wsdexpri.okx.com/ws/v1/wallet-connect-relay\";\nexports.OKXCONNECTOR_WS_URL_2 = \"wss://wsdexpri.okx.ac/ws/v1/wallet-connect-relay\";\nexports.OKXCONNECTOR_WS_URL_3 = \"wss://wsdexpri.coinall.ltd/ws/v1/wallet-connect-relay\";\nexports.OKXCONNECTOR_WS_URL_IDX_KEY = \"wuik\";\nexports.OKXCONNECTOR_WS_URL_LIST = [\n    exports.OKXCONNECTOR_WS_URL_1,\n    exports.OKXCONNECTOR_WS_URL_2,\n    exports.OKXCONNECTOR_WS_URL_3,\n];\nexports.OKXCONNECTOR_WS_URL_PENDING_CLOSE_CODE = {\n    TIME_OUT: 3990,\n    CANCELED: 3991,\n    FINISHED: 3992,\n};\nexports.OKXCONNECTOR_MESSAGE_TTL = 300000;\n// --------------- JSON RPC ---------------\nexports.CONNECT_JSONRPC_VER = \"2.0\";\n// --------------- Protocol Version -------\nexports.CONNECT_PROTOCOL_VER = 2;\nexports.ConnectorState = {\n    InitState: 0,\n    Connecting: 1,\n    Connected: 2,\n    Disconnected: 3,\n    OnError: 4,\n};\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Engine = void 0;\nconst safejson_1 = require(\"../utils/safejson\");\nconst log_1 = require(\"../utils/log\");\nconst protocol_1 = require(\"../protocol\");\nconst constants_1 = require(\"./constants\");\n// import {standardDeeplink, tonConnectSdkVersion} from \"../../ton/tonsdk/constants/version\";\nconst utils_1 = require(\"../utils\");\nconst utils_2 = require(\"../utils\");\nconst sessionUtils_1 = require(\"./sessionUtils\");\nconst url_1 = require(\"../utils/url\");\nclass Engine {\n    constructor(connectionManager) {\n        this.pendingRequests = new Map();\n        this.disconnectListener = [];\n        this.connectionManager = connectionManager;\n        // report api begin\n        (0, log_1.getDefaultReporter)().beginReport();\n        this.connectionManager.addListener(\"sdk_response\", (event, msg) => {\n            var jsonResponse = (0, safejson_1.safeJsonParse)(msg);\n            (0, log_1.logDebug)(`Engine ==>> addListener ==> success ==> ${jsonResponse}`);\n            this.handleResponse(event, jsonResponse);\n        }, function () {\n        });\n    }\n    addDisconnectListener(disconnecter) {\n        this.disconnectListener.push(disconnecter);\n    }\n    setSessionConnectingListener(sessionConnectingListener) {\n        this.sessionConnectingListener = sessionConnectingListener;\n    }\n    disconnect() {\n        (0, log_1.logDebug)('Engine ==>> disconnect');\n        this.pendingRequests.clear();\n    }\n    getRequestId() {\n        const requestId = Date.now().toString();\n        (0, log_1.logDebug)('Engine ==>> getRequestId ==>', requestId);\n        return requestId;\n    }\n    bindRequestForPromise(requestId, resolve) {\n        this.pendingRequests.set(requestId, resolve);\n    }\n    send(request, requestAnswer, option, ttl) {\n        return __awaiter(this, void 0, void 0, function* () {\n            (0, log_1.logDebug)('Engine ==>> send  request==>', JSON.stringify(request));\n            const requestId = this.getRequestId();\n            try {\n                let packageId = yield this.connectionManager.send(JSON.stringify(Object.assign(Object.assign({}, request), { requestId: requestId })), ttl);\n                this.connectionManager.events.once(packageId.toString(), (event) => {\n                    var _a;\n                    (0, log_1.logDebug)(`Engine ==> send => onAck => ${(0, safejson_1.safeJsonStringify)(event)}`);\n                    if (event && event.result) {\n                        (_a = requestAnswer.onAck) === null || _a === void 0 ? void 0 : _a.call(requestAnswer);\n                    }\n                });\n                if (requestAnswer.resolve) {\n                    this.bindRequestForPromise(requestId, requestAnswer.resolve);\n                }\n            }\n            catch (e) {\n                return Promise.reject(e);\n            }\n        });\n    }\n    sendSession(sessionInfo) {\n        return __awaiter(this, void 0, void 0, function* () {\n            (0, log_1.logDebug)('[Connect] sendSession called:', sessionInfo);\n            const requestId = this.getRequestId();\n            let request = {\n                method: 'session_info',\n                // 字段标识当前支持的最大协议版本\n                params: { protocolVersion: constants_1.CONNECT_PROTOCOL_VER, sessionInfo: sessionInfo }\n            };\n            yield this.connectionManager.sendRaw(JSON.stringify(Object.assign(Object.assign({}, request), { requestId: requestId })));\n        });\n    }\n    handleResponse(event, response) {\n        (0, log_1.logDebug)(`Engine ==>> handleResponse_1  ======>response: ${(0, safejson_1.safeJsonStringify)(response)}`, event);\n        if (\"requestId\" in response) {\n            (0, log_1.logDebug)(\"Engine ==>> handleResponse_2  ===> in response\");\n            let requestId = response.requestId;\n            const resolve = this.pendingRequests.get(requestId);\n            if (resolve) {\n                (0, log_1.logDebug)(\"Engine ==>> handleResponse_3  ===> find resolve:\", resolve);\n                resolve(response);\n                // 从pendingRequests中删除这个Promise\n                this.pendingRequests.delete(requestId);\n            }\n            else {\n                (0, log_1.logDebug)(\"Engine ==>> handleResponse_3  ===> not find resolve:\");\n                if (response.method === \"disconnect\") {\n                    this.disconnectListener.forEach(listener => listener());\n                    this.disconnectListener = [];\n                    this.disconnect();\n                }\n                else if (response.method === \"session_connecting\") {\n                    (0, log_1.logDebug)(\"Engine ==>> handleResponse_4  ===> sessionConnectingListener\");\n                    if (this.sessionConnectingListener) {\n                        (0, log_1.logDebug)(\"Engine ==>> handleResponse_4  ===> sessionConnectingListener not null\");\n                        this.sessionConnectingListener();\n                        this.sessionConnectingListener = undefined;\n                    }\n                }\n            }\n        }\n    }\n    restoreconnect(sessionInfo, onConnectResult) {\n        return __awaiter(this, void 0, void 0, function* () {\n            var _a;\n            yield ((_a = this.connectionManager) === null || _a === void 0 ? void 0 : _a.restoreConnect(sessionInfo.topic));\n            onConnectResult(sessionInfo);\n        });\n    }\n    conect(request, sessionConfig, onConnectResult) {\n        return __awaiter(this, void 0, void 0, function* () {\n            var _a, _b;\n            const connectInfo = this.connectionManager.getConnectInfo();\n            const requestId = this.getRequestId();\n            let openUniversalLink = (_a = sessionConfig.openUniversalUrl) !== null && _a !== void 0 ? _a : false;\n            const connectRequest = {\n                protocolVer: Number(protocol_1.tonConnectSdkVersion),\n                topic: connectInfo.channelId,\n                clientId: connectInfo.clientId,\n                requestId: requestId,\n                dAppInfo: sessionConfig.dappInfo,\n                requests: request,\n            };\n            const connectRequestStr = JSON.stringify(connectRequest);\n            const utf8Array = new TextEncoder().encode(connectRequestStr);\n            const base64Encoded = btoa(String.fromCharCode(...utf8Array));\n            const deeplinkUrl = `${protocol_1.standardDeeplink}?param=${base64Encoded}`;\n            (0, log_1.logDebug)('engine ==>> connect ==>>deeplinkUrl:', deeplinkUrl);\n            const isIOS = (0, utils_2.isIos)();\n            (0, log_1.logDebug)(`engine ==>> connect ==>>isIOS: ${isIOS}   openUniversalLink: ${openUniversalLink}`);\n            if (isIOS && openUniversalLink) {\n                (0, log_1.logDebug)('bridge-provider ==>> connect_3');\n                (0, utils_1.openOKXDeeplinkWithFallback)(deeplinkUrl);\n            }\n            yield ((_b = this.connectionManager) === null || _b === void 0 ? void 0 : _b.disconnect(false));\n            this.bindRequestForPromise(requestId, (response) => {\n                let session = this.onConnect(response, sessionConfig, connectInfo.channelId);\n                onConnectResult(session, response);\n            });\n            try {\n                yield this.connectionManager.connect();\n            }\n            catch (e) {\n                (0, log_1.logDebug)('Engine conect error', e);\n                throw e;\n            }\n            if (!isIOS && openUniversalLink) {\n                (0, log_1.logDebug)('bridge-provider ==>> connect_4');\n                (0, utils_1.openOKXDeeplinkWithFallback)(deeplinkUrl);\n            }\n            return {\n                connectInfo: connectInfo,\n                deeplinkUrl: (0, utils_1.getUniversalLink)(deeplinkUrl)\n            };\n        });\n    }\n    onConnect(connectResponse, sessionConfig, topic) {\n        if (connectResponse.method == \"connect\") {\n            let namespaces = (0, sessionUtils_1.buildNameSpacesByConnectResponse)(connectResponse);\n            // update connectManager protocol version\n            this.connectionManager.updateProtocolVersion(topic, connectResponse.payload.wallet.maxProtocolVersion);\n            if (namespaces) {\n                let session = {\n                    topic: topic,\n                    sessionConfig: sessionConfig,\n                    namespaces: namespaces\n                };\n                return session;\n            }\n        }\n        return null;\n    }\n    universalConnect(request, sessionConfig, connectInfoAndUrl) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return new Promise((resolve, reject) => __awaiter(this, void 0, void 0, function* () {\n                var _a, _b, _c, _d, _e;\n                try {\n                    (0, log_1.logDebug)(\"engine universalConnect request :\", JSON.stringify(request));\n                    (0, log_1.logDebug)(\"engine universalConnect sessionConfig :\", JSON.stringify(sessionConfig));\n                    let tonRequest = [];\n                    let universalRequest = [];\n                    request.forEach((item) => {\n                        let name = item.name;\n                        if (name.startsWith(\"requestAccounts\")) {\n                            universalRequest.push(item);\n                        }\n                        else if (name.startsWith(\"ton\")) {\n                            tonRequest.push(item);\n                        }\n                    });\n                    (0, log_1.logDebug)(\"engine universalConnect tonRequest :\", JSON.stringify(tonRequest));\n                    (0, log_1.logDebug)(\"engine universalConnect universalRequest :\", JSON.stringify(universalRequest));\n                    const connectInfo = this.connectionManager.getConnectInfo();\n                    const requestId = this.getRequestId();\n                    let openUniversalLink = (_a = sessionConfig.openUniversalUrl) !== null && _a !== void 0 ? _a : false;\n                    const universalConnectRequest = {\n                        protocolVer: Number(protocol_1.tonConnectSdkVersion),\n                        topic: connectInfo.channelId,\n                        clientId: connectInfo.clientId,\n                        requestId: requestId,\n                        dAppInfo: sessionConfig.dappInfo,\n                        requests: universalRequest,\n                        redirect: (_b = sessionConfig === null || sessionConfig === void 0 ? void 0 : sessionConfig.redirect) !== null && _b !== void 0 ? _b : \"none\"\n                    };\n                    const base64Encoded = (0, url_1.encodeConnectParams)(universalConnectRequest);\n                    universalConnectRequest.redirect = (_c = sessionConfig === null || sessionConfig === void 0 ? void 0 : sessionConfig.redirect) !== null && _c !== void 0 ? _c : \"none\";\n                    const tonConnectRequest = {\n                        protocolVer: Number(protocol_1.tonConnectSdkVersion),\n                        topic: connectInfo.channelId,\n                        clientId: connectInfo.clientId,\n                        requestId: requestId,\n                        dAppInfo: sessionConfig.dappInfo,\n                        requests: tonRequest,\n                        redirect: (_d = sessionConfig === null || sessionConfig === void 0 ? void 0 : sessionConfig.redirect) !== null && _d !== void 0 ? _d : \"none\"\n                    };\n                    let isFromTonSDK = false;\n                    if (tonRequest.length > 0) { //from tonsdk\n                        isFromTonSDK = true;\n                    }\n                    let defaultConnectRequest = isFromTonSDK ? tonConnectRequest : universalConnectRequest;\n                    (0, log_1.logDebug)('engine universalConnect ==>>defaultConnectRequest:', isFromTonSDK, JSON.stringify(defaultConnectRequest));\n                    var openOKXLink = \"\";\n                    // open app wallet\n                    if (openUniversalLink) {\n                        openOKXLink = (0, url_1.getOKXLink)(defaultConnectRequest, sessionConfig.useMini, sessionConfig.tmaReturnUrl);\n                        (0, log_1.logDebug)('engine universalConnect ==>>openOKXLink:', openOKXLink);\n                    }\n                    const openMethod = () => sessionConfig.useMini ? (0, url_1.openOKXTMAWalletlinkWithFallback)(openOKXLink) :\n                        (0, utils_1.useShortLink)() ? (0, utils_1.openOKXDeeplinkWithFallback)(openOKXLink) : (0, utils_1.openOKXUniversalLink)(openOKXLink);\n                    (0, log_1.logDebug)('engine universalConnect ==>>openOKXLink:', openOKXLink);\n                    const isIOS = (0, utils_2.isIos)();\n                    if (isIOS && openUniversalLink) {\n                        (0, log_1.logDebug)(`engine universalConnect ==>>isIOS: ${isIOS}   openUniversalLink: ${openUniversalLink}`);\n                        openMethod();\n                    }\n                    yield ((_e = this.connectionManager) === null || _e === void 0 ? void 0 : _e.disconnect(false));\n                    this.bindRequestForPromise(requestId, (response) => {\n                        var _a, _b, _c, _d;\n                        try {\n                            let connectResponse = response;\n                            if (connectResponse.method == \"connect\") {\n                                this.connectionManager.updateProtocolVersion(defaultConnectRequest.topic, connectResponse.payload.wallet.maxProtocolVersion);\n                                (0, log_1.logDebug)(\"engin  universalConnect success connectResponse:>>>\", JSON.stringify(connectResponse));\n                                let namespaces = (0, sessionUtils_1.buildNameSpacesByConnectResponse)(connectResponse);\n                                if (namespaces) {\n                                    let walletName = undefined;\n                                    if (((_b = (_a = connectResponse.payload) === null || _a === void 0 ? void 0 : _a.responses) === null || _b === void 0 ? void 0 : _b[0]) && \"walletName\" in connectResponse.payload.responses[0]) {\n                                        walletName = connectResponse.payload.responses[0]['walletName'];\n                                    }\n                                    let session = {\n                                        topic: connectInfo.channelId,\n                                        sessionConfig: sessionConfig,\n                                        namespaces: namespaces,\n                                        wallet: Object.assign(Object.assign({}, (_c = connectResponse.payload) === null || _c === void 0 ? void 0 : _c.wallet), { walletName: walletName }),\n                                    };\n                                    let methodsResponse = connectResponse.payload.responses.find(item => item.name === 'requestAccounts');\n                                    if (methodsResponse && methodsResponse.connectRequestMethods) {\n                                        session.signResponse = methodsResponse.connectRequestMethods;\n                                    }\n                                    (0, log_1.logDebug)(\"engin  universalConnect success session:>>>\", JSON.stringify(session));\n                                    resolve(session);\n                                }\n                                else {\n                                    throw new protocol_1.OKXConnectError(protocol_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR);\n                                }\n                            }\n                            else if (connectResponse.method == \"connect_error\" && ((_d = connectResponse.payload) === null || _d === void 0 ? void 0 : _d.code)) {\n                                throw new protocol_1.OKXConnectError(connectResponse.payload.code);\n                            }\n                        }\n                        catch (e) {\n                            reject(e);\n                        }\n                    });\n                    try {\n                        yield this.connectionManager.connect();\n                    }\n                    catch (e) {\n                        (0, log_1.logDebug)('Engine universalConnect error', e);\n                        throw e;\n                    }\n                    if (!isIOS && openUniversalLink) {\n                        openMethod();\n                    }\n                    (0, log_1.logDebug)('engin  universalConnect ==>> connectInfoAndUrl:', connectInfoAndUrl);\n                    this.sendSession(base64Encoded);\n                    if (connectInfoAndUrl) {\n                        const info = {\n                            connectRequest: universalConnectRequest,\n                            redirect: sessionConfig.redirect,\n                            tmaReturnUrl: sessionConfig.tmaReturnUrl,\n                        };\n                        if (isFromTonSDK) {\n                            info.tonConnectRequest = tonConnectRequest;\n                        }\n                        (0, log_1.logDebug)(\"universalConnect connectInfoAndUrl info :\", JSON.stringify(info));\n                        connectInfoAndUrl(info);\n                    }\n                }\n                catch (error) {\n                    (0, log_1.logDebug)(\"Engine universalConnect catch error\", error);\n                    reject(error);\n                }\n            }));\n        });\n    }\n}\nexports.Engine = Engine;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Storage = exports.Engine = exports.WalletConnectionManager = exports.ConnectionManager = exports.OKXWalletConnector = void 0;\nvar connect_1 = require(\"./connect\");\nObject.defineProperty(exports, \"OKXWalletConnector\", { enumerable: true, get: function () { return connect_1.OKXWalletConnector; } });\nvar connectionManager_1 = require(\"./connectionManager\");\nObject.defineProperty(exports, \"ConnectionManager\", { enumerable: true, get: function () { return connectionManager_1.ConnectionManager; } });\nvar walletConnectionManager_1 = require(\"./walletConnectionManager\");\nObject.defineProperty(exports, \"WalletConnectionManager\", { enumerable: true, get: function () { return walletConnectionManager_1.WalletConnectionManager; } });\nvar engine_1 = require(\"./engine\");\nObject.defineProperty(exports, \"Engine\", { enumerable: true, get: function () { return engine_1.Engine; } });\nvar storage_1 = require(\"./storage\");\nObject.defineProperty(exports, \"Storage\", { enumerable: true, get: function () { return storage_1.Storage; } });\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MULTICODEC_ED25519_LENGTH = exports.MULTICODEC_ED25519_HEADER = exports.MULTICODEC_ED25519_BASE = exports.MULTICODEC_ED25519_ENCODING = exports.DID_METHOD = exports.DID_PREFIX = exports.DID_DELIMITER = exports.KEY_PAIR_SEED_LENGTH = exports.DATA_ENCODING = exports.JSON_ENCODING = exports.JWT_ENCODING = exports.JWT_DELIMITER = exports.JWT_IRIDIUM_TYP = exports.JWT_IRIDIUM_ALG = exports.JWTHeaderType = void 0;\nexports.generateKeyPair = generateKeyPair;\nexports.decodeJSON = decodeJSON;\nexports.encodeJSON = encodeJSON;\nexports.encodeIss = encodeIss;\nexports.decodeIss = decodeIss;\nexports.encodeSig = encodeSig;\nexports.decodeSig = decodeSig;\nexports.encodeData = encodeData;\nexports.decodeData = decodeData;\nexports.encodeJWT = encodeJWT;\nexports.decodeJWT = decodeJWT;\nexports.signJWT = signJWT;\nexports.verifyJWT = verifyJWT;\nconst ed25519 = __importStar(require(\"@stablelib/ed25519\"));\nconst safejson_1 = require(\"../utils/safejson\");\nconst utils_1 = require(\"../utils/utils\");\nconst tweetnacl_1 = __importDefault(require(\"tweetnacl\"));\nconst log = __importStar(require(\"../utils/log\"));\nconst stringUtils_1 = require(\"../utils/stringUtils\");\nexports.JWTHeaderType = \"dapp\";\nexports.JWT_IRIDIUM_ALG = \"EdDSA\";\nexports.JWT_IRIDIUM_TYP = \"JWT\";\nexports.JWT_DELIMITER = \".\";\nexports.JWT_ENCODING = \"base64url\";\nexports.JSON_ENCODING = \"utf8\";\nexports.DATA_ENCODING = \"utf8\";\nexports.KEY_PAIR_SEED_LENGTH = 32;\nexports.DID_DELIMITER = \":\";\nexports.DID_PREFIX = \"did\";\nexports.DID_METHOD = \"key\";\nexports.MULTICODEC_ED25519_ENCODING = \"base58btc\";\nexports.MULTICODEC_ED25519_BASE = \"z\";\nexports.MULTICODEC_ED25519_HEADER = \"K36\";\nexports.MULTICODEC_ED25519_LENGTH = 32;\nfunction generateKeyPair() {\n    // let local_seed = randomBytes(KEY_PAIR_SEED_LENGTH)\n    // return ed25519.generateKeyPairFromSeed(local_seed);\n    return tweetnacl_1.default.sign.keyPair();\n}\nfunction decodeJSON(str) {\n    return (0, safejson_1.safeJsonParse)((0, stringUtils_1.okxtoString)((0, stringUtils_1.okxfromString)(str, exports.JWT_ENCODING), exports.JSON_ENCODING));\n}\nfunction encodeJSON(val) {\n    return (0, stringUtils_1.okxtoString)((0, stringUtils_1.okxfromString)((0, safejson_1.safeJsonStringify)(val), exports.JSON_ENCODING), exports.JWT_ENCODING);\n}\nfunction encodeIss(publicKey) {\n    log.logDebug(`publicKey: ${(0, utils_1.toHexString)(publicKey)}`);\n    var publicKeyStr = (0, stringUtils_1.okxtoString)(publicKey, exports.MULTICODEC_ED25519_ENCODING);\n    return [exports.DID_PREFIX, exports.DID_METHOD, publicKeyStr].join(exports.DID_DELIMITER);\n}\nfunction decodeIss(issuer) {\n    const [prefix, method, multicodec] = issuer.split(exports.DID_DELIMITER);\n    if (prefix !== exports.DID_PREFIX || method !== exports.DID_METHOD) {\n        throw new Error(`Issuer must be a DID with method \"key\"`);\n    }\n    if (multicodec === undefined) {\n        throw new Error('multicodec is undefined');\n    }\n    const publicKey = (0, stringUtils_1.okxfromString)(multicodec, exports.MULTICODEC_ED25519_ENCODING);\n    if (publicKey === undefined || publicKey.length !== exports.MULTICODEC_ED25519_LENGTH) {\n        throw new Error(`Issuer must be a public key with length 32 bytes`);\n    }\n    return publicKey;\n}\n// ---------- Signature ----------------------------------------------- //\nfunction encodeSig(bytes) {\n    return (0, stringUtils_1.okxtoString)(bytes, exports.JWT_ENCODING);\n}\nfunction decodeSig(encoded) {\n    return (0, stringUtils_1.okxfromString)(encoded, exports.JWT_ENCODING);\n}\n// ---------- Data ----------------------------------------------- //\nfunction encodeData(params) {\n    return (0, stringUtils_1.okxfromString)([encodeJSON(params.header), encodeJSON(params.payload)].join(exports.JWT_DELIMITER), exports.DATA_ENCODING);\n}\nfunction decodeData(data) {\n    var _a, _b;\n    const params = (0, stringUtils_1.okxtoString)(data, exports.DATA_ENCODING).split(exports.JWT_DELIMITER);\n    const header = decodeJSON((_a = params[0]) !== null && _a !== void 0 ? _a : '{}');\n    const payload = decodeJSON((_b = params[1]) !== null && _b !== void 0 ? _b : '{}');\n    return { header, payload };\n}\n// ---------- JWT ----------------------------------------------- //\nfunction encodeJWT(params) {\n    return [encodeJSON(params.header), encodeJSON(params.payload), encodeSig(params.signature)].join(exports.JWT_DELIMITER);\n}\nfunction decodeJWT(jwt) {\n    var _a, _b, _c;\n    const params = jwt.split(exports.JWT_DELIMITER);\n    const header = decodeJSON((_a = params[0]) !== null && _a !== void 0 ? _a : '{}');\n    const payload = decodeJSON((_b = params[1]) !== null && _b !== void 0 ? _b : '{}');\n    const signature = decodeSig((_c = params[2]) !== null && _c !== void 0 ? _c : '{}');\n    const data = (0, stringUtils_1.okxfromString)(params.slice(0, 2).join(exports.JWT_DELIMITER), exports.DATA_ENCODING);\n    return { header, payload, signature, data };\n}\nfunction signJWT(sub_1, aud_1, ttl_1, keyPair_1) {\n    return __awaiter(this, arguments, void 0, function* (sub, aud, ttl, keyPair, iat = Math.floor(Date.now())) {\n        const header = { alg: exports.JWT_IRIDIUM_ALG, typ: exports.JWT_IRIDIUM_TYP };\n        const iss = encodeIss(keyPair.publicKey);\n        const exp = iat + ttl;\n        const act = \"authenticate user\";\n        const payload = { iss, sub, aud, act, iat, exp };\n        const data = encodeData({ header, payload });\n        // const signature = ed25519.sign(keyPair.secretKey, data);\n        log.logDebug(`get sec kp: ${keyPair.secretKey} {${keyPair.secretKey.length}}`);\n        const signature = tweetnacl_1.default.sign.detached(data, keyPair.secretKey);\n        return encodeJWT({ header, payload, signature });\n    });\n}\nfunction verifyJWT(jwt) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const { header, payload, data, signature } = decodeJWT(jwt);\n        if (header.alg !== exports.JWT_IRIDIUM_ALG || header.typ !== exports.JWT_IRIDIUM_TYP) {\n            throw new Error(\"JWT must use EdDSA algorithm\");\n        }\n        const publicKey = decodeIss(payload.iss);\n        return ed25519.verify(publicKey, data, signature);\n    });\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.OKXCONNECTOR_JWT_TTL = exports.OKXCONNECTOR_JWT_WALLET_SIDE = exports.OKXCONNECTOR_JWT_SIDE = void 0;\nexports.OKXCONNECTOR_JWT_SIDE = \"wallet\";\nexports.OKXCONNECTOR_JWT_WALLET_SIDE = \"dapp\";\nexports.OKXCONNECTOR_JWT_TTL = 86400000;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.buildNameSpacesByConnectResponse = buildNameSpacesByConnectResponse;\nexports.buildRequestAccountNameSpacesByConnectResponse = buildRequestAccountNameSpacesByConnectResponse;\nconst log_1 = require(\"../utils/log\");\nfunction buildNameSpacesByConnectResponse(connectResponse) {\n    let requestAccountNameSpaces = buildRequestAccountNameSpacesByConnectResponse(connectResponse);\n    return requestAccountNameSpaces;\n}\nfunction buildRequestAccountNameSpacesByConnectResponse(connectResponse) {\n    let result = {};\n    (0, log_1.logDebug)('buildRequestAccountNameSpacesByConnectResponse start connectResponse>>', JSON.stringify(connectResponse));\n    let universalResponse = connectResponse.payload.responses.find(item => item.name === 'requestAccounts');\n    const tonAddress = connectResponse.payload.responses.find(item => item.name === 'ton_addr');\n    const tonProof = connectResponse.payload.responses.find(item => item.name === 'ton_proof');\n    if (tonAddress && !universalResponse) { //adapt tonsdk\n        (0, log_1.logDebug)('buildRequestAccountNameSpacesByConnectResponse adapt ton data >>');\n        let address = tonAddress.address;\n        address = 'ton:' + tonAddress.network + \":\" + address;\n        let data = {\n            ton_addr: tonAddress\n        };\n        if (tonProof) {\n            data.ton_proof = tonProof;\n        }\n        universalResponse = {\n            name: \"requestAccounts\",\n            accounts: [{\n                    namespace: 'ton',\n                    addresses: [address],\n                    methods: ['ton_sendTransaction'],\n                    extra: {},\n                    data: data,\n                }]\n        };\n    }\n    (0, log_1.logDebug)('buildRequestAccountNameSpacesByConnectResponse end universalResponse>>>', JSON.stringify(universalResponse));\n    universalResponse.accounts.forEach(item => {\n        var chains = [];\n        var accounts = [];\n        item.addresses.forEach(addressItem => {\n            var addressArr = addressItem.split(\":\");\n            (0, log_1.logDebug)('buildRequestAccountNameSpacesByConnectResponse addressArr>>', addressArr.length);\n            if (addressArr.length >= 3) {\n                let chain = addressArr.slice(0, 2).join(\":\");\n                chains.push(chain);\n                accounts.push(addressItem);\n                (0, log_1.logDebug)('buildRequestAccountNameSpacesByConnectResponse chain:>>', chain, \"addressItem:\", addressItem);\n            }\n        });\n        if (item.data && item.data.ton_addr) {\n            item.data.ton_addr.name = 'ton_addr';\n        }\n        if (item.data && item.data.ton_proof) {\n            item.data.ton_proof.name = 'ton_proof';\n        }\n        result[item.namespace] = {\n            chains: chains,\n            accounts: accounts,\n            methods: item.methods,\n            extra: item.extra,\n            payload: item.data\n        };\n        (0, log_1.logDebug)('buildRequestAccountNameSpacesByConnectResponse result>>', JSON.stringify(result));\n    });\n    return result;\n}\n/*export function buildTonNameSpaceByConnectResponse(connectResponse: ConnectResponseSuccess): Namespaces | undefined {\n    const tonAddrItem: TonAddressItemReply = connectResponse.payload.responses.find(\n        item => item.name === 'ton_addr'\n    ) as TonAddressItemReply;\n\n    const tonProfItem: TonProofItemReply = connectResponse.payload.responses.find(\n        item => item.name === 'ton_proof'\n    ) as TonProofItemReply;\n\n    if (!tonAddrItem) {\n        return undefined\n    }\n\n    return {\n        NameSpaceKeyTON: {\n            chains: [tonAddrItem.network],\n            accounts: [],\n            methods: connectResponse.payload.wallet.features?.ton,\n            payload: {\n                tonAccount: {\n                    address: tonAddrItem.address,\n                    chain: tonAddrItem.network,\n                    walletStateInit: tonAddrItem.walletStateInit,\n                    publicKey: tonAddrItem.publicKey\n                },\n                tonProof: tonProfItem\n            }\n        }\n    }\n}*/\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Storage = void 0;\nconst storageconstants_1 = require(\"./storageconstants\");\nconst tweetnacl_1 = __importDefault(require(\"tweetnacl\"));\nconst utils_1 = require(\"../utils/utils\");\nconst utils_2 = require(\"../utils\");\nconst log = __importStar(require(\"../utils/log\"));\nconst utils_3 = require(\"../utils\");\nconst crypto_js_1 = require(\"crypto-js\");\nclass Storage {\n    constructor(subKey, beforeKey = undefined) {\n        const localStorage = (0, utils_1.resolveLocalStorage)();\n        // 0. check and upgrade beforeKey\n        log.logDebug('------ update before cache ------');\n        if (beforeKey) {\n            this.checkAndUpgradeCache(beforeKey, subKey);\n        }\n        // 1. load data from local storage\n        this.storeKey = '';\n        this.cipherIV = '';\n        this.subKey = subKey;\n        log.logDebug('--------get current local storage --------');\n        log.logDebug(localStorage);\n        const cacheStr = localStorage.getItem(Storage.cacheKey + subKey);\n        if (typeof cacheStr === \"undefined\" || cacheStr === null) {\n            log.logDebug(\"with no cache\");\n            this.cache = {};\n            return;\n        }\n        log.logDebug(cacheStr);\n        if ((cacheStr === null || cacheStr === void 0 ? void 0 : cacheStr.length) > 0) {\n            var cacheObj = (0, utils_2.safeJsonParse)(cacheStr);\n            this.cache = cacheObj;\n        }\n        log.logDebug(`get cache obj: ${this.cache}`);\n        if (typeof this.cache === 'undefined' || this.cache == null) {\n            this.cache = {};\n        }\n    }\n    checkAndUpgradeCache(fromCacheKey, toCacheKey) {\n        if (fromCacheKey && fromCacheKey.length > 0 && toCacheKey && toCacheKey.length > 0) {\n            // 1. get all infos from from-cache-key\n            log.logDebug('--------get current local storage --------');\n            log.logDebug(localStorage);\n            const cacheStr = localStorage.getItem(Storage.cacheKey + fromCacheKey);\n            if (typeof cacheStr === \"undefined\" || cacheStr === null) {\n                log.logDebug(\"no pre cache content\");\n                return;\n            }\n            log.logDebug(cacheStr);\n            if ((cacheStr === null || cacheStr === void 0 ? void 0 : cacheStr.length) > 0) {\n                // 2. save to to-cache-key\n                log.logDebug(\"write in cache content: \", fromCacheKey, '->', toCacheKey);\n                localStorage.setItem(Storage.cacheKey + toCacheKey, cacheStr);\n                // 3. clean from item\n                log.logDebug(\"clean in cache content: \", fromCacheKey);\n                localStorage.removeItem(Storage.cacheKey + fromCacheKey);\n            }\n        }\n        else {\n            log.logDebug('no pre cache key:', fromCacheKey);\n        }\n    }\n    saveContent(content, key, id = '-') {\n        let item = {\n            id: id,\n            timestamp: Date.now().toString(),\n            content: content\n        };\n        this.saveItem(item, key);\n    }\n    saveItem(item, key) {\n        let localKey = Storage.cacheKey + this.subKey;\n        const localStorage = (0, utils_1.resolveLocalStorage)();\n        log.logDebug(this.cache);\n        log.logDebug(`get cache obj: ${this.cache}, ${key}, ${item}`);\n        this.cache[key] = item;\n        let totalCacheStr = (0, utils_2.safeJsonStringify)(this.cache);\n        log.logDebug(`STORAGE: ${key} @ ${this.cache}`);\n        localStorage.setItem(localKey, totalCacheStr);\n    }\n    getItem(key) {\n        log.logDebug(`STORAGE >> getItem: ${key} @ ${this.cache}`);\n        return this.cache[key];\n    }\n    getCachedPBKDF2InfoKey() {\n        var _a, _b, _c, _d;\n        const pwLen = 32;\n        const saltLen = 24;\n        if (this.storeKey.length > 0 && ((_a = this.cipherIV) === null || _a === void 0 ? void 0 : _a.length) > 0) {\n            return {\n                pw: this.storeKey,\n                iv: this.cipherIV\n            };\n        }\n        let salt = (_b = this.getItem(storageconstants_1.OKXCONNECTOR_STORAGER_CRYPTO_SALT)) === null || _b === void 0 ? void 0 : _b.content;\n        if (!salt) {\n            salt = (0, utils_1.toHexString)(tweetnacl_1.default.randomBytes(saltLen));\n            this.saveContent(salt, storageconstants_1.OKXCONNECTOR_STORAGER_CRYPTO_SALT);\n        }\n        let pw = (_c = this.getItem(storageconstants_1.OKXCONNECTOR_STORAGE_CRYPTO_PASSWORD)) === null || _c === void 0 ? void 0 : _c.content;\n        if (!pw) {\n            pw = (0, utils_1.toHexString)(tweetnacl_1.default.randomBytes(pwLen));\n            this.saveContent(pw, storageconstants_1.OKXCONNECTOR_STORAGE_CRYPTO_PASSWORD);\n        }\n        let cipherIV = (_d = this.getItem(storageconstants_1.OKXCONNECTOR_STORAGE_CRYPTO_CIPHERIV)) === null || _d === void 0 ? void 0 : _d.content;\n        if (!cipherIV) {\n            // let ivBuffer = Buffer.from(nacl.randomBytes(16))\n            let ivBuffer = tweetnacl_1.default.randomBytes(16);\n            cipherIV = (0, utils_1.toHexString)(ivBuffer);\n            this.saveContent(cipherIV, storageconstants_1.OKXCONNECTOR_STORAGE_CRYPTO_CIPHERIV);\n        }\n        this.cipherIV = cipherIV;\n        this.storeKey = (0, crypto_js_1.PBKDF2)(pw, salt, { iterations: 10 }).toString();\n        return {\n            pw: this.storeKey,\n            iv: this.cipherIV\n        };\n    }\n    encryptStoreMsg(msg, key) {\n        (0, utils_3.logDebug)(`encryptStoreMsg  encryptStoreMsg start ${Date.now()}`);\n        let storeInfo = this.getCachedPBKDF2InfoKey();\n        (0, utils_3.logDebug)(`encryptStoreMsg  encryptStoreMsg mid ${Date.now()}`);\n        var result = crypto_js_1.AES.encrypt(msg, storeInfo.pw).toString();\n        this.saveContent(result, key);\n        (0, utils_3.logDebug)(`encryptStoreMsg  encryptStoreMsg end ${Date.now()}`);\n    }\n    getAndDecrypt(key) {\n        (0, utils_3.logDebug)(`encryptStoreMsg  getAndDecrypt start ${Date.now()}`);\n        let item = this.getItem(key);\n        if (item && item.content) {\n            let storeInfo = this.getCachedPBKDF2InfoKey();\n            (0, utils_3.logDebug)(`encryptStoreMsg  getAndDecrypt mid ${Date.now()}`);\n            let result = crypto_js_1.AES.decrypt(item.content, storeInfo.pw).toString(crypto_js_1.enc.Utf8);\n            (0, utils_3.logDebug)(`encryptStoreMsg  getAndDecrypt end ${Date.now()}`);\n            return result;\n        }\n        return null;\n    }\n    clearCache(key = undefined) {\n        if (key === undefined) {\n            // clean all\n            this.cache = {};\n            let localKey = Storage.cacheKey + this.subKey;\n            localStorage.setItem(localKey, '');\n        }\n        else {\n            let localKey = Storage.cacheKey + this.subKey;\n            const localStorage = (0, utils_1.resolveLocalStorage)();\n            log.logDebug(this.cache);\n            this.cache[key] = null;\n            let totalCacheStr = (0, utils_2.safeJsonStringify)(this.cache);\n            log.logDebug(`STORAGE: clean key ${key} @ ${this.cache}`);\n            localStorage.setItem(localKey, totalCacheStr);\n        }\n    }\n}\nexports.Storage = Storage;\nStorage.cacheKey = 'OKXStorageKey';\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.OKXCONNECTOR_STORAGE_PROTOCOL_CACHE = exports.OKXCONNECTOR_STORAGE_CIPHER_METHOD = exports.OKXCONNECTOR_STORAGE_CRYPTO_CIPHERIV = exports.OKXCONNECTOR_STORAGER_CRYPTO_SALT = exports.OKXCONNECTOR_STORAGE_CRYPTO_PASSWORD = exports.OKXCONNECTOR_TON_KEY = exports.OKXCONNECTOR_CRYPTO_SENDER_PK_CACHE = exports.OKXCONNECTOR_TOKEN_CACHE = exports.OKXCONNECTOR_JWT_KEY = exports.OKXCONNECTOR_SESSION_PREFIX_KEY = exports.OKXCONNECTOR_CRYPTO_KEY = exports.OKXCONNECTOR_CACHE_KEY_DAPP = exports.OKXCONNECTOR_CACHE_KEY = void 0;\nexports.OKXCONNECTOR_CACHE_KEY = \"ck\";\nexports.OKXCONNECTOR_CACHE_KEY_DAPP = \"ck_dapp\";\nexports.OKXCONNECTOR_CRYPTO_KEY = \"cck_k\";\nexports.OKXCONNECTOR_SESSION_PREFIX_KEY = \"cspk_\";\nexports.OKXCONNECTOR_JWT_KEY = \"cjk_k\";\nexports.OKXCONNECTOR_TOKEN_CACHE = \"ct\";\nexports.OKXCONNECTOR_CRYPTO_SENDER_PK_CACHE = \"csp\";\nexports.OKXCONNECTOR_TON_KEY = \"OKXStorage_ctc\";\nexports.OKXCONNECTOR_STORAGE_CRYPTO_PASSWORD = \"scp\";\nexports.OKXCONNECTOR_STORAGER_CRYPTO_SALT = \"scs\";\nexports.OKXCONNECTOR_STORAGE_CRYPTO_CIPHERIV = \"scpc\";\nexports.OKXCONNECTOR_STORAGE_CIPHER_METHOD = \"aes-256-cbc\";\nexports.OKXCONNECTOR_STORAGE_PROTOCOL_CACHE = 'okx_connect_split_cache_key';\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WalletConnectionManagerEvent = exports.WalletConnectionManagerTopicInfoCacheKey = void 0;\nexports.WalletConnectionManagerTopicInfoCacheKey = \"wcmtic\";\nexports.WalletConnectionManagerEvent = {\n    RECEIVE_REQUEST: \"payload\"\n};\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WalletConnectionManager = void 0;\nconst connect_1 = require(\"./connect\");\nconst commands_1 = require(\"./commands\");\nconst storageconstants_1 = require(\"./storageconstants\");\nconst jwtconstants_1 = require(\"./jwtconstants\");\nconst constants_1 = require(\"./constants\");\nconst walletConnectionConstants_1 = require(\"./walletConnectionConstants\");\nconst connectionSplitPackages_1 = require(\"./connectionSplitPackages\");\nconst eventemitter3_1 = require(\"eventemitter3\");\nconst storage_1 = require(\"./storage\");\nconst utils_1 = require(\"../utils/utils\");\nconst crypto_1 = require(\"../crypto/crypto\");\nconst jwt_1 = require(\"./jwt\");\nconst safejson_1 = require(\"../utils/safejson\");\nconst log = __importStar(require(\"../utils/log\"));\nconst log_1 = require(\"../utils/log\");\nconst utils_2 = require(\"../utils\");\nclass WalletConnectionManager {\n    constructor() {\n        this.events = new eventemitter3_1.EventEmitter();\n        this.communicateEvents = new eventemitter3_1.EventEmitter();\n        this.splitManager = new connectionSplitPackages_1.ConnectionSplitPackages('wallet');\n        log.logDebug('connect manager construct');\n        // local storage\n        this.connectStorage = new storage_1.Storage(storageconstants_1.OKXCONNECTOR_CACHE_KEY);\n        this.jwtKeyPair = this.getCachedJWTKeyPair();\n        this.saveJWTKeyPair(this.jwtKeyPair);\n        // wss connection\n        this.connector = new connect_1.OKXWalletConnector(constants_1.OKXCONNECTOR_WS_URL_1);\n        this.packageId = Date.now();\n        // connection state\n        this.sessionCryptoInfoMap = new Map();\n        // log.logDebug(`this.connectedWalletPK  constructor   ${this.connectedWalletPK}`)\n        this.inLogin = false;\n        this.isLogined = false;\n    }\n    refreshPackageId(offset = 0) {\n        let nowDate = Date.now() + offset;\n        if (nowDate == this.packageId) {\n            this.packageId = nowDate + 1;\n        }\n        this.packageId = nowDate;\n    }\n    saveCryptoKeyPair(topicId, keyPair) {\n        let cacheInfo = (0, safejson_1.safeJsonStringify)(keyPair);\n        // encrypt kp\n        this.connectStorage.encryptStoreMsg(cacheInfo, storageconstants_1.OKXCONNECTOR_CRYPTO_KEY + topicId);\n    }\n    getCachedCryptoKeyPair(topicId) {\n        // decrypt kp\n        const kp = this.connectStorage.getAndDecrypt(storageconstants_1.OKXCONNECTOR_CRYPTO_KEY + topicId);\n        const content = kp;\n        if (typeof content == 'string') {\n            log.logDebug('get cached crypto key:');\n            log.logDebug(content);\n            let keyPairInfo = (0, safejson_1.safeJsonParse)(content);\n            return keyPairInfo;\n        }\n        else {\n            this.connectStorage.clearCache();\n        }\n        return null;\n    }\n    saveJWTKeyPair(keyPair) {\n        var strkeyPair = {\n            publicKey: (0, utils_1.toHexString)(keyPair.publicKey),\n            secretKey: (0, utils_1.toHexString)(keyPair.secretKey)\n        };\n        log.logDebug('save jwt kp');\n        let cacheInfo = (0, safejson_1.safeJsonStringify)(strkeyPair);\n        log.logDebug(cacheInfo);\n        // encrypt jwt kp\n        this.connectStorage.encryptStoreMsg(cacheInfo, storageconstants_1.OKXCONNECTOR_JWT_KEY);\n        log.logDebug('after save jwt kp');\n    }\n    getCachedJWTKeyPair() {\n        const kp = this.connectStorage.getAndDecrypt(storageconstants_1.OKXCONNECTOR_JWT_KEY);\n        const content = kp;\n        if (typeof content == 'string') {\n            // TODO: decrypt jwt kp\n            log.logDebug('get cached jwt kp:');\n            log.logDebug(content);\n            let strKeyPairInfo = (0, safejson_1.safeJsonParse)(content);\n            log.logDebug('save jwt kp');\n            log.logDebug(strKeyPairInfo);\n            var keyPair = {\n                publicKey: (0, utils_1.hexToByteArray)(strKeyPairInfo.publicKey),\n                secretKey: (0, utils_1.hexToByteArray)(strKeyPairInfo.secretKey)\n            };\n            return keyPair;\n        }\n        else {\n            return (0, jwt_1.generateKeyPair)();\n        }\n    }\n    isTopicPublicKeyExist(topicId) {\n        log.logDebug(`isTopicPublicKeyExist  ===> ${topicId}`);\n        return this.sessionCryptoInfoMap.get(topicId);\n    }\n    makeJWT(timestampStr) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return yield (0, jwt_1.signJWT)(timestampStr, jwtconstants_1.OKXCONNECTOR_JWT_WALLET_SIDE, jwtconstants_1.OKXCONNECTOR_JWT_TTL, // 24h\n            this.jwtKeyPair);\n        });\n    }\n    parseInternalMsg(internalMsg) {\n        try {\n            let internalObj = (0, safejson_1.safeJsonParse)(internalMsg);\n            let origin = internalObj['ivur-igbfft-ptjip'];\n            if (origin && origin.length > 0) {\n                let originContent = (0, utils_2.base64decode)(origin, true);\n                return originContent.toString();\n            }\n        }\n        catch (error) {\n            log.logError('parse internal msg', error);\n        }\n    }\n    updateClientId(topic, clientId) {\n        let sessionInfo = this.sessionCryptoInfoMap.get(topic);\n        (0, log_1.logDebug)('updateClientId', sessionInfo, topic, clientId);\n        if (sessionInfo && clientId && clientId.length > 0) {\n            if (sessionInfo.cid) {\n                // check \n                let lastCheck = clientId.slice(-6);\n                if (sessionInfo.cid == lastCheck) {\n                    sessionInfo.dappPublicKey = clientId;\n                }\n                else {\n                    log.logError('cid check failed', sessionInfo, topic, clientId);\n                }\n            }\n            else {\n                sessionInfo.dappPublicKey = clientId;\n            }\n            // \n            this.syncCacheSessionInfo();\n        }\n        return false;\n    }\n    parsePackage(topic_1, input_1) {\n        return __awaiter(this, arguments, void 0, function* (topic, input, ignoreACK = false) {\n            var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q, _r, _s;\n            this.events.emit(input.id, input);\n            // emit event\n            let sessionInfo = this.sessionCryptoInfoMap.get(topic);\n            log.logDebug('get sessionInfo for decrypt topic:', topic);\n            log.logDebug('get sessionInfo for decrypt:', input.id, topic, sessionInfo, this.sessionCryptoInfoMap);\n            let ignoreReceive = false;\n            if (sessionInfo && input.params.data) {\n                if ((_a = input.params.data) === null || _a === void 0 ? void 0 : _a.message) {\n                    // try parse internal message\n                    if ((_b = input.params.data) === null || _b === void 0 ? void 0 : _b.isInternalData) {\n                        let inner_message = (_c = input.params.data) === null || _c === void 0 ? void 0 : _c.message;\n                        let inner_topic = (_d = input.params.data) === null || _d === void 0 ? void 0 : _d.topic;\n                        let originContent = this.parseInternalMsg(inner_message);\n                        (0, log_1.logDebug)('parse internal origin: ', originContent);\n                        if (originContent && originContent.length > 0) {\n                            this.communicateEvents.emit(\"origin\", originContent, inner_topic);\n                        }\n                    }\n                    else {\n                        // try parse message base64\n                        try {\n                            let message = (_e = input.params.data) === null || _e === void 0 ? void 0 : _e.message;\n                            if (message.trimStart().startsWith('{')) {\n                                // 判断是否是分包数据\n                                let msgPlayloadObject = this.splitManager.tryParseMessageSplitPayload(message);\n                                if (msgPlayloadObject) {\n                                    (0, log_1.logDebug)('parse split msg object: ', msgPlayloadObject);\n                                    // 屏蔽后续的receive逻辑\n                                    ignoreReceive = true;\n                                    let msgObject = {\n                                        topicId: (_g = (_f = input.params) === null || _f === void 0 ? void 0 : _f.data) === null || _g === void 0 ? void 0 : _g.topic,\n                                        messageId: (_j = (_h = input.params) === null || _h === void 0 ? void 0 : _h.data) === null || _j === void 0 ? void 0 : _j.messageId,\n                                        messageObject: msgPlayloadObject,\n                                        publishedAt: (_l = (_k = input.params) === null || _k === void 0 ? void 0 : _k.data) === null || _l === void 0 ? void 0 : _l.publishedAt,\n                                    };\n                                    let checkResult = yield this.splitManager.onReceivedPackageCheck(msgObject);\n                                    if (checkResult.completeMessageIdList) {\n                                        checkResult.completeMessageIdList.forEach((msgId) => __awaiter(this, void 0, void 0, function* () {\n                                            // 发送批量receive\n                                            this.refreshPackageId();\n                                            yield this.sendReceive(this.packageId.toString(), msgId, topic);\n                                        }));\n                                    }\n                                    // 抛出finalmessage\n                                    if (checkResult.finalMessage) {\n                                        let message = sessionInfo.crypto.decryptWallet(checkResult.finalMessage, sessionInfo.dappPublicKey);\n                                        (0, log_1.logDebug)('<<< receive msg from split:', topic, message);\n                                        this.communicateEvents.emit(topic, message);\n                                    }\n                                }\n                                else {\n                                    let messageObj = (0, safejson_1.safeJsonParse)(message);\n                                    if (messageObj.method) {\n                                        if (messageObj.method == 'session_info') {\n                                            let sessionInfoString = messageObj.params.sessionInfo;\n                                            let base64Content = (0, utils_2.base64decode)(sessionInfoString, false);\n                                            (0, log_1.logDebug)(\"wallet connection manager requset base64Content:\", base64Content);\n                                            (0, log_1.logDebug)(\"base64Content:\" + base64Content);\n                                            let inner_connection = base64Content.toObject();\n                                            this.updateClientId(topic, inner_connection.clientId);\n                                        }\n                                        (0, log_1.logDebug)('<<< parse raw msg:', topic, messageObj);\n                                        this.communicateEvents.emit(topic, message);\n                                    }\n                                }\n                            }\n                            else {\n                                let message = sessionInfo.crypto.decryptWallet((_m = input.params.data) === null || _m === void 0 ? void 0 : _m.message, sessionInfo.dappPublicKey);\n                                (0, log_1.logDebug)('<<< receive msg:', topic, message);\n                                this.communicateEvents.emit(topic, message);\n                            }\n                        }\n                        catch (error) {\n                            let message = sessionInfo.crypto.decryptWallet((_o = input.params.data) === null || _o === void 0 ? void 0 : _o.message, sessionInfo.dappPublicKey);\n                            (0, log_1.logDebug)('<<< receive msg:', topic, message);\n                            this.communicateEvents.emit(topic, message);\n                        }\n                    }\n                }\n                else {\n                }\n            }\n            // send back ACK\n            if (!ignoreACK) {\n                yield this.sendACK(input.id, true);\n                if (topic && !ignoreReceive) {\n                    let inputObj = input;\n                    if ((_q = (_p = inputObj.params) === null || _p === void 0 ? void 0 : _p.data) === null || _q === void 0 ? void 0 : _q.messageId) {\n                        this.refreshPackageId();\n                        yield this.sendReceive(this.packageId.toString(), (_s = (_r = inputObj.params) === null || _r === void 0 ? void 0 : _r.data) === null || _s === void 0 ? void 0 : _s.messageId, topic);\n                    }\n                }\n            }\n        });\n    }\n    recovrySessionInfoFromCache() {\n        // get topic ids and keys from session\n        // WalletConnectionCryptoCacheMap\n        // {[topicId]: {cryptoKeypair: {publicKey:string, secretKey:string}, dappPublicKey:clientId}}\n        let jsonStr = this.connectStorage.getAndDecrypt(walletConnectionConstants_1.WalletConnectionManagerTopicInfoCacheKey);\n        log.logDebug('get cached sessionInfos:', jsonStr);\n        if (jsonStr) {\n            let cacheMap = (0, safejson_1.safeJsonParse)(jsonStr);\n            for (let topicId in cacheMap) {\n                let topicItem = cacheMap[topicId];\n                log.logDebug('make topicItem:', topicItem);\n                let cryptoItem = {\n                    topic: topicId,\n                    crypto: new crypto_1.SessionCrypto({\n                        publicKey: topicItem.cryptoKeyPair.publicKey,\n                        secretKey: topicItem.cryptoKeyPair.secretKey\n                    }),\n                    dappPublicKey: topicItem.dappPublicKey,\n                    cid: topicItem.cid\n                };\n                this.sessionCryptoInfoMap.set(topicId, cryptoItem);\n            }\n        }\n        log.logDebug('get cached sessionInfos map:', this.sessionCryptoInfoMap);\n    }\n    syncCacheSessionInfo() {\n        let cacheMap = {};\n        for (let [topicId, cryptoItem] of this.sessionCryptoInfoMap) {\n            log.logDebug('for each Keys', topicId);\n            if (cryptoItem) {\n                cacheMap[topicId] = {\n                    cryptoKeyPair: cryptoItem.crypto.stringifyKeypair(),\n                    dappPublicKey: cryptoItem.dappPublicKey,\n                    cid: cryptoItem.cid\n                };\n            }\n        }\n        let jsonData = (0, safejson_1.safeJsonStringify)(cacheMap);\n        log.logDebug('sync cache sessionInfos:', jsonData);\n        this.connectStorage.encryptStoreMsg(jsonData, walletConnectionConstants_1.WalletConnectionManagerTopicInfoCacheKey);\n    }\n    cacheSessionInfo(topic, sessionInfo, sync = true) {\n        let dappPublicKey = sessionInfo.dappPublicKey;\n        // 1. search dapp public related topic ids\n        let duplicatedTopics = [];\n        for (let [topicId, cryptoItem] of this.sessionCryptoInfoMap) {\n            log.logDebug('for each Keys', topicId);\n            if (cryptoItem.dappPublicKey == dappPublicKey) {\n                log.logDebug('duplicated dapp public key:', topicId, dappPublicKey);\n                duplicatedTopics.push(topicId);\n            }\n        }\n        for (let [topicId, cryptoItem] of this.sessionCryptoInfoMap) {\n            if (duplicatedTopics.includes(topicId)) {\n                this.sessionCryptoInfoMap.delete(topicId);\n            }\n        }\n        // discard useless topics\n        log.logDebug('cleaned connect session cache:', this.sessionCryptoInfoMap);\n        // 2. remove previous connected topic ids\n        // 3. write in current topic\n        this.sessionCryptoInfoMap.set(topic, sessionInfo);\n        // TODO: search domain info and then delete \n        log.logDebug('cache sessionInfo:', topic, sessionInfo, this.sessionCryptoInfoMap);\n        if (sync) {\n            this.syncCacheSessionInfo();\n        }\n        return duplicatedTopics;\n    }\n    updateProtocolVersion(topic, protocolVersion) {\n        this.splitManager.updateTopicSenderVersion(topic, protocolVersion);\n    }\n    // add and subscribe topic\n    appendTopic(topic, sessionPublicKey, cid) {\n        return __awaiter(this, void 0, void 0, function* () {\n            (0, log_1.logDebug)('4.1. get append Topic:', topic);\n            // 1. check if connected\n            return new Promise((resolve, reject) => __awaiter(this, void 0, void 0, function* () {\n                if (!this.isLogined) {\n                    var error = new Error();\n                    error.message = \"connection is not logined\";\n                    error.name = \"append error\";\n                    // throw error\n                    reject(error);\n                    return;\n                }\n                // 2. subscribe topic and session public key\n                let cryptoItem = {\n                    topic: topic,\n                    crypto: new crypto_1.SessionCrypto(),\n                    dappPublicKey: sessionPublicKey ? sessionPublicKey : \"\",\n                    cid: cid\n                };\n                let duplicatedTopics = this.cacheSessionInfo(topic, cryptoItem, false);\n                // make sure cache session info before subscribe\n                yield this.subscribeTopics(Array.from([topic]));\n                this.refreshPackageId();\n                log.logDebug(`5. subscribe callback then fetch append message: ${this.packageId}, ${topic}`);\n                log.reportLog(`5. subscribe callback then fetch append message`);\n                const timeF = new Date().getTime();\n                (0, log_1.logDebug)(\"Append --subscribe callback->\", timeF - this.timeLog);\n                resolve(duplicatedTopics);\n            }));\n        });\n    }\n    confirmAppendingTopics() {\n        this.syncCacheSessionInfo();\n    }\n    connect() {\n        return __awaiter(this, void 0, void 0, function* () {\n            this.timeLog = new Date().getTime();\n            (0, log_1.logDebug)(\"[Wallet] ConnectTime---enter->\", this.timeLog);\n            log.reportLog('wallet connect connect called');\n            // 0. get cached topics and infos\n            let timestampStr = Date.now().toString();\n            var jwtToken = yield this.makeJWT(timestampStr);\n            log.logDebug(`generate jwt token: ${jwtToken}`);\n            this.connectStorage.saveContent(jwtToken, 'jwt');\n            this.recovrySessionInfoFromCache();\n            // 1.\n            return new Promise((resolve, reject) => {\n                // 1. when websocket opened\n                this.inLogin = true;\n                this.connector.onOpen(() => __awaiter(this, void 0, void 0, function* () {\n                    log.logDebug(`1. connector on open`);\n                    log.reportLog('1. wallet connect connect on open');\n                    const timeOne = new Date().getTime();\n                    (0, log_1.logDebug)(\"ConnectTime---open->\", timeOne - this.timeLog);\n                    //2. send jwt to login\n                    this.events.once(this.packageId.toString(), (rsp) => __awaiter(this, void 0, void 0, function* () {\n                        // ack\n                        if (rsp && rsp.error) {\n                            log.logError('failed when login');\n                            yield this.connector.disconnect();\n                            var error = new Error();\n                            error.message = rsp.error.message;\n                            error.name = rsp.error.code.toString();\n                            // throw error\n                            reject(error);\n                        }\n                        else {\n                            this.isLogined = true;\n                            resolve();\n                            // 3. subscribe cached topics\n                            log.logDebug('3. subscribe cached topics', this.sessionCryptoInfoMap);\n                            log.reportLog('3. wallet connect connect subscribe cached topics');\n                            if (this.sessionCryptoInfoMap.size > 0) {\n                                yield this.subscribeTopics(Array.from(this.sessionCryptoInfoMap.keys()));\n                            }\n                        }\n                    }));\n                    log.logDebug(`2. login called`);\n                    log.reportLog('2. wallet connect login called');\n                    yield this.connector.send(() => __awaiter(this, void 0, void 0, function* () {\n                        log.logDebug('CONNECT: reconnect before send');\n                        return yield this.connector.connect();\n                    }), {\n                        id: this.packageId.toString(),\n                        jsonrpc: constants_1.CONNECT_JSONRPC_VER,\n                        method: commands_1.CONNECT_METHOD_LOGIN,\n                        params: {\n                            token: jwtToken\n                        }\n                    });\n                }));\n                this.connector.connect().catch((err) => {\n                    (0, log_1.logDebug)('WalletConnectionManager connect error', err);\n                    reject(err);\n                });\n                // add callback\n                this.connector.addPackageParse((event) => {\n                    var _a, _b;\n                    log.logDebug(`connect: parse package`);\n                    log.logDebug(event);\n                    if (!(\"params\" in event) || !(\"data\" in event[\"params\"])) {\n                        this.parsePackage(\"\", event, true);\n                        return;\n                    }\n                    // ignore receive echo\n                    if ((_a = event.params.data) === null || _a === void 0 ? void 0 : _a.topic) {\n                        this.parsePackage((_b = event.params.data) === null || _b === void 0 ? void 0 : _b.topic, event, event.method === commands_1.CONNECT_METHOD_RECEIVE);\n                    }\n                });\n                // this.connector.addListener(safeJsonStringify(event), (rawMsg: string)=> {\n                //    rawMsg = rawMsg.replace(/'/g, '\"')\n                //    log.logDebug(`addListener ===> ${rawMsg}`)\n                //    if (typeof rawMsg !== 'undefined') {\n                //       var msgObj = safeJsonParse(rawMsg)\n                //       var msg = msgObj.message\n                //       let crypto = \n                //       var result = this.crypto.decrypt(msg, this.connectedWalletPK)\n                //       log.logDebug(`addListener ===> ${result}`)\n                //       return result\n                //    }\n                //    return undefined\n                // }, ()=>{\n                //    // emit success\n                // }, ()=>{\n                //    // emit fail\n                // })\n            });\n        });\n    }\n    // 获取对应topic session下的钱包公钥\n    // 在返回approve时需要填充到clientId字段中\n    getSessionPublicKey(topicId) {\n        if (this.isTopicPublicKeyExist(topicId)) {\n            let item = this.sessionCryptoInfoMap.get(topicId);\n            if (item) {\n                return (0, utils_1.toHexString)(item.crypto.keyPair.publicKey);\n            }\n        }\n        return undefined;\n    }\n    getCurrentCachedTopicIdList() {\n        return Array.from(this.sessionCryptoInfoMap.keys());\n    }\n    disconnect() {\n        return __awaiter(this, arguments, void 0, function* (fromRestore = false) {\n            yield this.connector.disconnect();\n            //clean cached topic\n            //如果是恢复连接，就不清理解密public key\n            this.connectStorage.clearCache(storageconstants_1.OKXCONNECTOR_TOKEN_CACHE);\n            if (!fromRestore) {\n                this.connectStorage.clearCache(storageconstants_1.OKXCONNECTOR_CRYPTO_SENDER_PK_CACHE);\n            }\n        });\n    }\n    sendRaw(msg, topic) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (topic) {\n                yield this.sendMsg(topic, msg, constants_1.OKXCONNECTOR_MESSAGE_TTL);\n            }\n        });\n    }\n    sendMsg(topic, message, ttl) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (message) {\n                this.refreshPackageId();\n                const payload = {\n                    id: this.packageId.toString(),\n                    method: commands_1.CONNECT_METHOD_PUBLISH,\n                    jsonrpc: constants_1.CONNECT_JSONRPC_VER,\n                    params: {\n                        message: {\n                            topic: topic,\n                            message: message,\n                            ttl: ttl\n                        }\n                    } // crypted\n                };\n                this.events.once(this.packageId.toString(), (rsp) => __awaiter(this, void 0, void 0, function* () {\n                    // ack\n                    if (rsp && rsp.error) {\n                        log.logError(`@${new Date().toUTCString()} >>> failed when send msg`);\n                    }\n                    else if (rsp && !rsp.error) {\n                        log.logDebug(`CONNECTION @[${new Date().toUTCString()}] >>> send msg with id ${this.packageId} successed`);\n                    }\n                }));\n                yield this.connector.send(() => __awaiter(this, void 0, void 0, function* () {\n                    log.logDebug('CONNECT: reconnect before send');\n                    return yield this.connector.connect();\n                }), payload);\n            }\n        });\n    }\n    send(topic_1, msg_1) {\n        return __awaiter(this, arguments, void 0, function* (topic, msg, needPublicKey = false, ttl = constants_1.OKXCONNECTOR_MESSAGE_TTL, useRaw = false) {\n            var _a, _b;\n            // make send msg payload\n            log.logDebug(`message send =====> ${msg}`);\n            if (!this.isTopicPublicKeyExist(topic)) {\n                // channel not ready\n                throw new Error('connection not finish');\n            }\n            let connectedDappPK = (_a = this.sessionCryptoInfoMap.get(topic)) === null || _a === void 0 ? void 0 : _a.dappPublicKey;\n            let cryptoObject = (_b = this.sessionCryptoInfoMap.get(topic)) === null || _b === void 0 ? void 0 : _b.crypto;\n            let messageObj = undefined;\n            if (useRaw) {\n                messageObj = {\n                    message: msg,\n                };\n            }\n            let useCrypto = false;\n            if (cryptoObject && connectedDappPK && !useRaw) {\n                let message = cryptoObject.encryptWallet(msg, connectedDappPK);\n                useCrypto = true;\n                messageObj = {\n                    message: message,\n                };\n            }\n            if (messageObj) {\n                if (needPublicKey && cryptoObject) {\n                    messageObj.clientId = (0, utils_1.toHexString)(cryptoObject.keyPair.publicKey);\n                    // let privateKey = toHexString(cryptoObject.keyPair.secretKey)\n                    // log.logDebug(`message send use dapp publicKey =====> ${connectedDappPK}`)\n                    // log.logDebug(`message send use publicKey =====> ${messageObj.clientId}`)\n                    // log.logDebug(`message send use secretKey =====> ${privateKey}`)\n                }\n                let messageStr = (0, safejson_1.safeJsonStringify)(messageObj);\n                if (!useRaw && useCrypto) {\n                    yield this.splitManager.sendSplitPackages(topic, messageStr, this.sendMsg.bind(this), this.sendRaw.bind(this));\n                }\n                else {\n                    yield this.sendMsg(topic, messageStr, ttl);\n                }\n            }\n        });\n    }\n    sendACK(msgId_1, success_1) {\n        return __awaiter(this, arguments, void 0, function* (msgId, success, reason = undefined) {\n            if (success === true) {\n                const payload = {\n                    id: msgId,\n                    jsonrpc: constants_1.CONNECT_JSONRPC_VER,\n                    result: true\n                };\n                yield this.connector.send(() => __awaiter(this, void 0, void 0, function* () {\n                    log.logDebug('CONNECT: reconnect before send');\n                    return yield this.connector.connect();\n                }), payload);\n            }\n            else if (reason) {\n                const payload = {\n                    id: msgId,\n                    jsonrpc: constants_1.CONNECT_JSONRPC_VER,\n                    error: {\n                        code: reason.code, //int\n                        message: reason.message\n                    }\n                };\n                yield this.connector.send(() => __awaiter(this, void 0, void 0, function* () {\n                    log.logDebug('CONNECT: reconnect before send');\n                    return yield this.connector.connect();\n                }), payload);\n            }\n        });\n    }\n    // send receive\n    sendReceive(msgId, messageId, topic) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const payload = {\n                id: msgId,\n                jsonrpc: constants_1.CONNECT_JSONRPC_VER,\n                method: commands_1.CONNECT_METHOD_RECEIVE,\n                params: {\n                    data: {\n                        messageId: messageId,\n                        topic: topic\n                    }\n                }\n            };\n            yield this.connector.send(() => __awaiter(this, void 0, void 0, function* () {\n                log.logDebug('CONNECT: reconnect before send');\n                return yield this.connector.connect();\n            }), payload);\n        });\n    }\n    sendUnsubscribe(topic) {\n        return __awaiter(this, void 0, void 0, function* () {\n            // TODO: make disconnect payload\n            yield this.connector.send(() => __awaiter(this, void 0, void 0, function* () {\n                log.logDebug('CONNECT: reconnect before send');\n                return yield this.connector.connect();\n            }), {\n                id: this.packageId.toString(),\n                jsonrpc: constants_1.CONNECT_JSONRPC_VER,\n                method: commands_1.CONNECT_METHOD_UNSUB,\n                params: {\n                    topic: topic\n                }\n            });\n            // remove topicId\n            this.sessionCryptoInfoMap.delete(topic);\n            this.syncCacheSessionInfo();\n        });\n    }\n    // send receive\n    // 1. fetch all \n    // 2. send back receive\n    // 3. check has more, if so, repeat from 1st step\n    sendFetchAndConsumeMessages(msgId, topic) {\n        return __awaiter(this, void 0, void 0, function* () {\n            //1. send fetch\n            this.events.once(msgId, (fetchedMessages) => __awaiter(this, void 0, void 0, function* () {\n                var _a, _b;\n                //2. consume received messages\n                if (fetchedMessages.result) {\n                    var hasMore = fetchedMessages.result.hasMore;\n                    var receivedMsgs = fetchedMessages.result.data;\n                    if (receivedMsgs) {\n                        for (let i = 0; i < receivedMsgs.length; i++) {\n                            let msg = receivedMsgs[i];\n                            if (msg && msg.topic == topic) {\n                                let messageId = msg.messageId;\n                                yield this.connector.getMsgPayloadFromHistory(msg);\n                                // send receive command to relay server\n                                this.refreshPackageId();\n                                yield this.sendReceive(this.packageId.toString(), messageId, topic);\n                            }\n                        }\n                    }\n                    // 3. check hasmore\n                    if (hasMore) {\n                        this.refreshPackageId();\n                        yield this.sendFetchAndConsumeMessages(this.packageId.toString(), topic);\n                    }\n                }\n                else {\n                    log.logDebug(`CONNECT: get error rsp ${(_a = fetchedMessages.error) === null || _a === void 0 ? void 0 : _a.code} : ${(_b = fetchedMessages.error) === null || _b === void 0 ? void 0 : _b.message}`);\n                }\n            }));\n            log.logDebug('5. send fetch more');\n            const timeFive = new Date().getTime();\n            (0, log_1.logDebug)(\"ConnectTime---5->\", timeFive - this.timeLog);\n            const payload = {\n                id: msgId,\n                jsonrpc: constants_1.CONNECT_JSONRPC_VER,\n                method: commands_1.CONNECT_METHOD_FETCHMSG,\n                params: {\n                    data: {\n                        topic: topic\n                    }\n                }\n            };\n            yield this.connector.send(() => __awaiter(this, void 0, void 0, function* () {\n                log.logDebug('CONNECT: reconnect before send');\n                return yield this.connector.connect();\n            }), payload);\n        });\n    }\n    sendBatchFetchAndConsumeMessages(packageId, topicIdList) {\n        return __awaiter(this, void 0, void 0, function* () {\n            //1. send fetch\n            this.events.once(packageId, (fetchedMessages) => __awaiter(this, void 0, void 0, function* () {\n                var _a, _b;\n                //2. consume received messages\n                if (fetchedMessages.result) {\n                    var hasMore = fetchedMessages.result.hasMore;\n                    var receivedMsgs = fetchedMessages.result.data;\n                    if (receivedMsgs) {\n                        for (let i = 0; i < receivedMsgs.length; i++) {\n                            let msg = receivedMsgs[i];\n                            if (msg && msg.topic) {\n                                // send receive command to relay server\n                                let msgPlayloadObject = this.splitManager.tryParseMessageSplitPayload(msg.message);\n                                if (msgPlayloadObject) {\n                                    yield this.connector.getMsgPayloadFromHistory(msg);\n                                }\n                                else {\n                                    let messageId = msg.messageId;\n                                    yield this.connector.getMsgPayloadFromHistory(msg);\n                                    this.refreshPackageId(i);\n                                    yield this.sendReceive(this.packageId.toString(), messageId, msg.topic);\n                                }\n                            }\n                        }\n                    }\n                    // 3. check hasmore\n                    if (hasMore) {\n                        this.refreshPackageId();\n                        yield this.sendBatchFetchAndConsumeMessages(this.packageId.toString(), topicIdList);\n                    }\n                }\n                else {\n                    log.logDebug(`CONNECT: get error rsp ${(_a = fetchedMessages.error) === null || _a === void 0 ? void 0 : _a.code} : ${(_b = fetchedMessages.error) === null || _b === void 0 ? void 0 : _b.message}`);\n                }\n            }));\n            log.logDebug('5. send fetch more');\n            log.reportLog('5. send fetch more');\n            const timeFive = new Date().getTime();\n            (0, log_1.logDebug)(\"ConnectTime---5->\", timeFive - this.timeLog);\n            const payload = {\n                id: packageId,\n                jsonrpc: constants_1.CONNECT_JSONRPC_VER,\n                method: commands_1.CONNECT_METHOD_BATCH_FETCHMSG,\n                params: {\n                    topics: topicIdList,\n                    withInternalData: true\n                }\n            };\n            yield this.connector.send(() => __awaiter(this, void 0, void 0, function* () {\n                log.logDebug('CONNECT: reconnect before send');\n                yield this.connector.connect();\n            }), payload);\n        });\n    }\n    cleanCache() {\n        return __awaiter(this, void 0, void 0, function* () {\n            this.connectStorage.clearCache();\n        });\n    }\n    saveSessionContent(key, data) {\n        if (!data) {\n            this.connectStorage.clearCache(storageconstants_1.OKXCONNECTOR_SESSION_PREFIX_KEY + key);\n        }\n        let jsonData = (0, safejson_1.safeJsonStringify)(data);\n        this.connectStorage.encryptStoreMsg(jsonData, storageconstants_1.OKXCONNECTOR_SESSION_PREFIX_KEY + key);\n    }\n    getSessionContent(key) {\n        let jsonStr = this.connectStorage.getAndDecrypt(storageconstants_1.OKXCONNECTOR_SESSION_PREFIX_KEY + key);\n        if (jsonStr) {\n            let object = (0, safejson_1.safeJsonParse)(jsonStr);\n            return object;\n        }\n        return undefined;\n    }\n    // subscribe then fetch messages for each topics\n    subscribeTopics(topicIdList) {\n        return __awaiter(this, void 0, void 0, function* () {\n            (0, log_1.logDebug)(\"4. topicid list\", topicIdList);\n            log.reportLog(\"4. topicid list\");\n            this.refreshPackageId();\n            const timeF = new Date().getTime();\n            (0, log_1.logDebug)(\"ConnectTime--subscribe callback->\", timeF - this.timeLog);\n            return new Promise((resolve, reject) => __awaiter(this, void 0, void 0, function* () {\n                let finishCount = 0;\n                //3. send subscribe\n                for (let idx = 0; idx < topicIdList.length; ++idx) {\n                    let topicId = topicIdList[idx];\n                    this.refreshPackageId(idx);\n                    this.events.once(this.packageId.toString(), (rsp) => __awaiter(this, void 0, void 0, function* () {\n                        // ack\n                        if (rsp && rsp.error) {\n                            log.logError('failed when subscribe');\n                            yield this.connector.disconnect();\n                            var error = new Error();\n                            error.message = rsp.error.message;\n                            error.name = rsp.error.code.toString();\n                            // reject(error)\n                            finishCount += 1;\n                            if (finishCount == topicIdList.length) {\n                                resolve();\n                            }\n                        }\n                        this.refreshPackageId(idx);\n                        const timeF = new Date().getTime();\n                        (0, log_1.logDebug)(\"ConnectTime--subscribe callback->\", timeF - this.timeLog);\n                        finishCount += 1;\n                        if (finishCount == topicIdList.length) {\n                            // 4. fetch messages\n                            log.logDebug(`5. send fetch msg: ${this.packageId}, ${topicId}`);\n                            yield this.sendBatchFetchAndConsumeMessages(this.packageId.toString(), topicIdList);\n                            // 5. split manager resend\n                            yield this.splitManager.init(this.sendRaw.bind(this));\n                            resolve();\n                        }\n                    }));\n                    log.logDebug(`3. login callback then send subscribe: ${this.packageId}, ${topicId}`);\n                    log.reportLog('3. login callback then send subscribe');\n                    const timeTh = new Date().getTime();\n                    (0, log_1.logDebug)(\"ConnectTime---login callback->\", timeTh - this.timeLog);\n                    yield this.connector.send(() => __awaiter(this, void 0, void 0, function* () {\n                        log.logDebug('CONNECT: reconnect before send');\n                        return yield this.connector.connect();\n                    }), {\n                        id: this.packageId.toString(),\n                        jsonrpc: constants_1.CONNECT_JSONRPC_VER,\n                        method: commands_1.CONNECT_METHOD_SUB,\n                        params: {\n                            topic: topicId\n                        }\n                    });\n                }\n            }));\n        });\n    }\n}\nexports.WalletConnectionManager = WalletConnectionManager;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SessionCrypto = void 0;\nconst tweetnacl_1 = __importDefault(require(\"tweetnacl\"));\nconst utils_1 = require(\"../utils/utils\");\nclass SessionCrypto {\n    constructor(keyPair = undefined) {\n        this.nonceLength = 24;\n        this.sessionKeyPair = keyPair ? this.createKeypairFromString(keyPair) : this.createKeypair();\n    }\n    createKeypair() {\n        return tweetnacl_1.default.box.keyPair();\n    }\n    createKeypairFromString(keyPair) {\n        return {\n            publicKey: (0, utils_1.hexToByteArray)(keyPair.publicKey),\n            secretKey: (0, utils_1.hexToByteArray)(keyPair.secretKey),\n        };\n    }\n    createNonce() {\n        return tweetnacl_1.default.randomBytes(this.nonceLength);\n    }\n    get keyPair() {\n        return this.sessionKeyPair;\n    }\n    // dapp 加密:\n    // base64(hex（nonce+加密内容）)\n    encrypt(message, receiverPublicKey) {\n        const encodedMessage = new TextEncoder().encode(message);\n        const nonce = this.createNonce();\n        const encrypted = tweetnacl_1.default.box(encodedMessage, nonce, (0, utils_1.hexToByteArray)(receiverPublicKey), this.keyPair.secretKey);\n        let concatInfo = (0, utils_1.concatUint8Arrays)(nonce, encrypted);\n        var hexResult = (0, utils_1.toHexString)(concatInfo);\n        var encodedResult = new TextEncoder().encode(hexResult);\n        return (0, utils_1.base64encode)(encodedResult, false);\n    }\n    // 钱包加密内容\n    // 注意：没有中间hex的环节\n    // base64（nonce+加密内容)\n    encryptWallet(message, receiverPublicKey) {\n        const encodedMessage = new TextEncoder().encode(message);\n        const nonce = this.createNonce();\n        const encrypted = tweetnacl_1.default.box(encodedMessage, nonce, (0, utils_1.hexToByteArray)(receiverPublicKey), this.keyPair.secretKey);\n        let concatInfo = (0, utils_1.concatUint8Arrays)(nonce, encrypted);\n        return (0, utils_1.base64encode)(concatInfo, false);\n    }\n    // dapp 解密\n    // base64(split(nonce+加密内容))\n    decrypt(message, senderPublicKey) {\n        let base64Content = (0, utils_1.base64decode)(message, true);\n        let messageByteArray = base64Content.toUint8Array();\n        const [nonce, internalMessage] = (0, utils_1.splitToUint8Arrays)(messageByteArray, this.nonceLength);\n        const decrypted = tweetnacl_1.default.box.open(internalMessage, nonce, (0, utils_1.hexToByteArray)(senderPublicKey), this.keyPair.secretKey);\n        if (!decrypted) {\n            throw new Error(`Decryption error: \\n message: ${message.toString()} \\n sender pubkey: ${senderPublicKey.toString()} \\n keypair pubkey: ${(0, utils_1.toHexString)(this.keyPair.publicKey)} \\n keypair secretkey: ${(0, utils_1.toHexString)(this.keyPair.secretKey)}`);\n        }\n        return new TextDecoder().decode(decrypted);\n    }\n    // dapp 解密\n    // base64(hextoByte(split(nonce+加密内容)))\n    decryptWallet(message, senderPublicKey) {\n        let base64Content = (0, utils_1.base64decode)(message, true);\n        let messageByteArray = (0, utils_1.hexToByteArray)(base64Content.toString());\n        const [nonce, internalMessage] = (0, utils_1.splitToUint8Arrays)(messageByteArray, this.nonceLength);\n        const decrypted = tweetnacl_1.default.box.open(internalMessage, nonce, (0, utils_1.hexToByteArray)(senderPublicKey), this.keyPair.secretKey);\n        if (!decrypted) {\n            throw new Error(`Decryption error: \\n message: ${message.toString()} \\n sender pubkey: ${senderPublicKey.toString()} \\n keypair pubkey: ${(0, utils_1.toHexString)(this.keyPair.publicKey)} \\n keypair secretkey: ${(0, utils_1.toHexString)(this.keyPair.secretKey)}`);\n        }\n        return new TextDecoder().decode(decrypted);\n    }\n    stringifyKeypair() {\n        return {\n            publicKey: (0, utils_1.toHexString)(this.keyPair.publicKey),\n            secretKey: (0, utils_1.toHexString)(this.keyPair.secretKey)\n        };\n    }\n}\nexports.SessionCrypto = SessionCrypto;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./connect\"), exports);\n__exportStar(require(\"./protocol\"), exports);\n__exportStar(require(\"./utils\"), exports);\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.IEngine = exports.ISignClient = exports.ISignClientEvents = exports.IEngineEvents = void 0;\nconst eventemitter3_1 = __importDefault(require(\"eventemitter3\"));\nclass IEngineEvents extends eventemitter3_1.default {\n    constructor() {\n        super();\n    }\n}\nexports.IEngineEvents = IEngineEvents;\nclass ISignClientEvents extends eventemitter3_1.default {\n    constructor() {\n        super();\n    }\n}\nexports.ISignClientEvents = ISignClientEvents;\nclass ISignClient {\n    constructor(data) {\n        this.data = data;\n    }\n}\nexports.ISignClient = ISignClient;\nclass IEngine {\n    constructor(client) {\n        this.client = client;\n    }\n}\nexports.IEngine = IEngine;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.creatOKXMiniAppWalletInfo = exports.creatOKXWalletInfo = exports.ISignClientEvents = exports.IEngine = exports.IEngineEvents = exports.ISignClient = exports.getBigIntRpcId = exports.formatJsonRpcRequest = exports.isJsonRpcError = exports.isJsonRpcResponse = exports.parseConnectionError = exports.isHttpUrl = exports.formatJsonRpcError = void 0;\nvar json_rpc_1 = require(\"./json-rpc\");\nObject.defineProperty(exports, \"formatJsonRpcError\", { enumerable: true, get: function () { return json_rpc_1.formatJsonRpcError; } });\nObject.defineProperty(exports, \"isHttpUrl\", { enumerable: true, get: function () { return json_rpc_1.isHttpUrl; } });\nObject.defineProperty(exports, \"parseConnectionError\", { enumerable: true, get: function () { return json_rpc_1.parseConnectionError; } });\nObject.defineProperty(exports, \"isJsonRpcResponse\", { enumerable: true, get: function () { return json_rpc_1.isJsonRpcResponse; } });\nObject.defineProperty(exports, \"isJsonRpcError\", { enumerable: true, get: function () { return json_rpc_1.isJsonRpcError; } });\nObject.defineProperty(exports, \"formatJsonRpcRequest\", { enumerable: true, get: function () { return json_rpc_1.formatJsonRpcRequest; } });\nObject.defineProperty(exports, \"getBigIntRpcId\", { enumerable: true, get: function () { return json_rpc_1.getBigIntRpcId; } });\nvar engine_1 = require(\"./engine\");\nObject.defineProperty(exports, \"ISignClient\", { enumerable: true, get: function () { return engine_1.ISignClient; } });\nObject.defineProperty(exports, \"IEngineEvents\", { enumerable: true, get: function () { return engine_1.IEngineEvents; } });\nObject.defineProperty(exports, \"IEngine\", { enumerable: true, get: function () { return engine_1.IEngine; } });\nObject.defineProperty(exports, \"ISignClientEvents\", { enumerable: true, get: function () { return engine_1.ISignClientEvents; } });\n__exportStar(require(\"./ton\"), exports);\nvar wallet_info_1 = require(\"./wallet-info\");\nObject.defineProperty(exports, \"creatOKXWalletInfo\", { enumerable: true, get: function () { return wallet_info_1.creatOKXWalletInfo; } });\nObject.defineProperty(exports, \"creatOKXMiniAppWalletInfo\", { enumerable: true, get: function () { return wallet_info_1.creatOKXMiniAppWalletInfo; } });\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isJsonRpcPayload = isJsonRpcPayload;\nexports.isJsonRpcRequest = isJsonRpcRequest;\nexports.isJsonRpcResponse = isJsonRpcResponse;\nexports.isJsonRpcResult = isJsonRpcResult;\nexports.isJsonRpcError = isJsonRpcError;\nexports.payloadId = payloadId;\nexports.getBigIntRpcId = getBigIntRpcId;\nexports.formatJsonRpcRequest = formatJsonRpcRequest;\nexports.formatJsonRpcResult = formatJsonRpcResult;\nexports.formatJsonRpcError = formatJsonRpcError;\nexports.isReservedErrorCode = isReservedErrorCode;\nexports.getError = getError;\nexports.getErrorByCode = getErrorByCode;\nexports.formatErrorMessage = formatErrorMessage;\nexports.isHttpUrl = isHttpUrl;\nexports.isWsUrl = isWsUrl;\nexports.parseConnectionError = parseConnectionError;\nfunction isJsonRpcPayload(payload) {\n    return (typeof payload === \"object\" &&\n        \"id\" in payload &&\n        \"jsonrpc\" in payload &&\n        payload.jsonrpc === \"2.0\");\n}\nfunction isJsonRpcRequest(payload) {\n    return isJsonRpcPayload(payload) && \"method\" in payload;\n}\nfunction isJsonRpcResponse(payload) {\n    return isJsonRpcPayload(payload) && (isJsonRpcResult(payload) || isJsonRpcError(payload));\n}\nfunction isJsonRpcResult(payload) {\n    return \"result\" in payload;\n}\nfunction isJsonRpcError(payload) {\n    return \"error\" in payload;\n}\nconst okx_connect_error_1 = require(\"../error/okx-connect.error\");\nconst tweetnacl_1 = __importDefault(require(\"tweetnacl\"));\nclass IncrementalRandomGenerator {\n    constructor(bits) {\n        this.i = 1;\n        const typedArray = bits === 8 ? new Uint8Array(1) : bits === 16 ? new Uint16Array(1) : new Uint32Array(1);\n        if (bits) {\n            this.initialValue = tweetnacl_1.default.randomBytes(bits / 8)[0];\n        }\n        else {\n            this.initialValue = 0;\n        }\n    }\n    getNextValue() {\n        return this.initialValue + this.i++;\n    }\n}\nconst uint8Generator = new IncrementalRandomGenerator(8);\nconst uint16Generator = new IncrementalRandomGenerator(16);\nfunction payloadId() {\n    const date = Date.now() * 1000;\n    const extra = uint8Generator.getNextValue();\n    return date + extra;\n}\nfunction getBigIntRpcId() {\n    const date = BigInt(Date.now()) * BigInt(1000000);\n    const extra = BigInt(uint16Generator.getNextValue());\n    return date + extra;\n}\nfunction formatJsonRpcRequest(method, params, id) {\n    return {\n        id: id || payloadId(),\n        jsonrpc: \"2.0\",\n        method,\n        params,\n    };\n}\nfunction formatJsonRpcResult(id, result) {\n    return {\n        id,\n        jsonrpc: \"2.0\",\n        result,\n    };\n}\nfunction formatJsonRpcError(id, error, data) {\n    return {\n        id,\n        jsonrpc: \"2.0\",\n        error: formatErrorMessage(error, data),\n    };\n}\nfunction isReservedErrorCode(code) {\n    return okx_connect_error_1.RESERVED_ERROR_CODES.includes(code);\n}\nfunction getError(type) {\n    if (!Object.keys(okx_connect_error_1.STANDARD_ERROR_MAP).includes(type)) {\n        return okx_connect_error_1.STANDARD_ERROR_MAP[okx_connect_error_1.DEFAULT_ERROR];\n    }\n    return okx_connect_error_1.STANDARD_ERROR_MAP[type];\n}\nfunction getErrorByCode(code) {\n    const match = Object.values(okx_connect_error_1.STANDARD_ERROR_MAP).find((e) => e.code === code);\n    if (!match) {\n        return okx_connect_error_1.STANDARD_ERROR_MAP[okx_connect_error_1.DEFAULT_ERROR];\n    }\n    return match;\n}\nfunction formatErrorMessage(error, data) {\n    if (typeof error === \"undefined\") {\n        return getError(okx_connect_error_1.INTERNAL_ERROR);\n    }\n    if (typeof error === \"string\") {\n        error = Object.assign(Object.assign({}, getError(okx_connect_error_1.SERVER_ERROR)), { message: error });\n    }\n    if (typeof data !== \"undefined\") {\n        error.data = data;\n    }\n    if (isReservedErrorCode(error.code)) {\n        error = getErrorByCode(error.code);\n    }\n    return error;\n}\nfunction getUrlProtocol(url) {\n    const matches = url.match(new RegExp(/^\\w+:/, \"gi\"));\n    if (!matches || !matches.length)\n        return;\n    return matches[0];\n}\nfunction matchRegexProtocol(url, regex) {\n    const protocol = getUrlProtocol(url);\n    if (typeof protocol === \"undefined\")\n        return false;\n    return new RegExp(regex).test(protocol);\n}\nfunction isHttpUrl(url) {\n    return matchRegexProtocol(url, \"^https?:\");\n}\nfunction isWsUrl(url) {\n    return matchRegexProtocol(url, \"^wss?:\");\n}\nfunction parseConnectionError(e, url, type) {\n    return e.message.includes(\"getaddrinfo ENOTFOUND\") || e.message.includes(\"connect ECONNREFUSED\")\n        ? new Error(`Unavailable ${type} RPC url at ${url}`)\n        : e;\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CONNECT_ITEM_ERROR_CODES = void 0;\nvar CONNECT_ITEM_ERROR_CODES;\n(function (CONNECT_ITEM_ERROR_CODES) {\n    CONNECT_ITEM_ERROR_CODES[CONNECT_ITEM_ERROR_CODES[\"UNKNOWN_ERROR\"] = 0] = \"UNKNOWN_ERROR\";\n    CONNECT_ITEM_ERROR_CODES[CONNECT_ITEM_ERROR_CODES[\"METHOD_NOT_SUPPORTED\"] = 400] = \"METHOD_NOT_SUPPORTED\";\n})(CONNECT_ITEM_ERROR_CODES || (exports.CONNECT_ITEM_ERROR_CODES = CONNECT_ITEM_ERROR_CODES = {}));\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TONCHAIN = void 0;\nvar TONCHAIN;\n(function (TONCHAIN) {\n    TONCHAIN[\"MAINNET\"] = \"-239\";\n})(TONCHAIN || (exports.TONCHAIN = TONCHAIN = {}));\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CONNECT_ITEM_ERROR_CODES = exports.TONCHAIN = void 0;\nvar connect_wallet_1 = require(\"./connect-wallet\");\nObject.defineProperty(exports, \"TONCHAIN\", { enumerable: true, get: function () { return connect_wallet_1.TONCHAIN; } });\nvar connect_event_1 = require(\"./connect-event\");\nObject.defineProperty(exports, \"CONNECT_ITEM_ERROR_CODES\", { enumerable: true, get: function () { return connect_event_1.CONNECT_ITEM_ERROR_CODES; } });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.creatOKXWalletInfo = creatOKXWalletInfo;\nexports.creatOKXMiniAppWalletInfo = creatOKXMiniAppWalletInfo;\nconst constants_1 = require(\"../constants\");\nfunction creatOKXWalletInfo() {\n    return {\n        \"appName\": \"okxAppWallet\",\n        \"name\": \"OKX Wallet\",\n        \"imageUrl\": \"https://static.okx.com/cdn/assets/imgs/247/58E63FEA47A2B7D7.png\",\n        \"aboutUrl\": constants_1.downloadUrl,\n        \"universalLink\": constants_1.standardUniversalLink,\n        \"deepLink\": constants_1.standardDeeplink,\n        \"platforms\": [\"ios\", \"android\"]\n    };\n}\nfunction creatOKXMiniAppWalletInfo() {\n    return {\n        \"appName\": \"okxMiniApp\",\n        \"name\": \"OKX Mini Wallet\",\n        \"imageUrl\": \"https://static.okx.com/cdn/assets/imgs/247/58E63FEA47A2B7D7.png\",\n        \"aboutUrl\": constants_1.downloadUrl,\n        \"universalLink\": `https://t.me/${constants_1.tgwalletName}/start`,\n        \"deepLink\": \"\",\n        \"platforms\": [\"ios\", \"android\", 'macos', 'windows']\n    };\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.tgwalletAppName = exports.tgwalletName = exports.tonConnectSdkVersion = exports.shortUniversalLink = exports.standardDeeplink = exports.downloadUrl = exports.standardUniversalLink = exports.okxDeeplink = void 0;\nexports.okxDeeplink = 'okx://web3';\nexports.standardUniversalLink = typeof window !== \"undefined\" && window.location.hostname.includes(\"okx.com\")\n    ? \"https://link.okx.com/download\"\n    : \"https://www.okx.com/download\";\nexports.downloadUrl = \"https://www.okx.com/download\";\n// export const standardUniversalLink = 'http://localhost:5173';\nexports.standardDeeplink = `${exports.okxDeeplink}/wallet/connect`;\nexports.shortUniversalLink = `https://www.okx.com/ul/connect`;\n// export const standardDeeplink = 'http://localhost:5173';\nexports.tonConnectSdkVersion = '1';\n// export const tgwalletName: string = \"TCTestqdqwdqwdqBot\"\nexports.tgwalletName = \"OKX_WALLET_BOT\";\nexports.tgwalletAppName = \"start\";\n// https://t.me/OKX_WALLET_BOT/start\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.OKX_CONNECT_ERROR_CODES = exports.OKXConnectError = void 0;\nvar okx_connect_error_1 = require(\"./okx-connect.error\");\nObject.defineProperty(exports, \"OKXConnectError\", { enumerable: true, get: function () { return okx_connect_error_1.OKXConnectError; } });\nObject.defineProperty(exports, \"OKX_CONNECT_ERROR_CODES\", { enumerable: true, get: function () { return okx_connect_error_1.OKX_CONNECT_ERROR_CODES; } });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DEFAULT_ERROR = exports.STANDARD_ERROR_MAP = exports.SERVER_ERROR_CODE_RANGE = exports.RESERVED_ERROR_CODES = exports.SERVER_ERROR = exports.INTERNAL_ERROR = exports.INVALID_PARAMS = exports.METHOD_NOT_FOUND = exports.INVALID_REQUEST = exports.PARSE_ERROR = exports.OKX_CONNECT_ERROR_CODES = exports.OKXConnectError = void 0;\nclass OKXConnectError extends Error {\n    constructor(code, message) {\n        if (message == undefined) {\n            message = getDefaultMessageByCode(code);\n        }\n        super(message);\n        this.code = code;\n        this.message = `${OKXConnectError.prefix} ${message ? '\\n' + message : ''}`;\n        Object.setPrototypeOf(this, OKXConnectError.prototype);\n    }\n    toJSON() {\n        return {\n            message: this.message,\n            code: this.code\n        };\n    }\n}\nexports.OKXConnectError = OKXConnectError;\nOKXConnectError.prefix = '[OKX_CONNECT_SDK_ERROR]';\nfunction getDefaultMessageByCode(code) {\n    if (code == OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR) {\n        return \"unknown error\";\n    }\n    else if (code == OKX_CONNECT_ERROR_CODES.BAD_REQUEST_ERROR) {\n        return \"bad request error\";\n    }\n    else if (code == OKX_CONNECT_ERROR_CODES.ALREADY_CONNECTED_ERROR) {\n        return \"already connected error\";\n    }\n    else if (code == OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR) {\n        return \"not connected error\";\n    }\n    else if (code == OKX_CONNECT_ERROR_CODES.UNKNOWN_APP_ERROR) {\n        return \"unknown app error\";\n    }\n    else if (code == OKX_CONNECT_ERROR_CODES.USER_REJECTS_ERROR) {\n        return \"user rejects error\";\n    }\n    else if (code == OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED) {\n        return \"method not supported\";\n    }\n    else if (code == OKX_CONNECT_ERROR_CODES.CONNECTION_ERROR) {\n        return \"connect error\";\n    }\n    return \"unknown error\";\n}\nvar OKX_CONNECT_ERROR_CODES;\n(function (OKX_CONNECT_ERROR_CODES) {\n    OKX_CONNECT_ERROR_CODES[OKX_CONNECT_ERROR_CODES[\"UNKNOWN_ERROR\"] = 0] = \"UNKNOWN_ERROR\";\n    OKX_CONNECT_ERROR_CODES[OKX_CONNECT_ERROR_CODES[\"BAD_REQUEST_ERROR\"] = 1] = \"BAD_REQUEST_ERROR\";\n    OKX_CONNECT_ERROR_CODES[OKX_CONNECT_ERROR_CODES[\"ALREADY_CONNECTED_ERROR\"] = 11] = \"ALREADY_CONNECTED_ERROR\";\n    OKX_CONNECT_ERROR_CODES[OKX_CONNECT_ERROR_CODES[\"NOT_CONNECTED_ERROR\"] = 12] = \"NOT_CONNECTED_ERROR\";\n    OKX_CONNECT_ERROR_CODES[OKX_CONNECT_ERROR_CODES[\"UNKNOWN_APP_ERROR\"] = 100] = \"UNKNOWN_APP_ERROR\";\n    OKX_CONNECT_ERROR_CODES[OKX_CONNECT_ERROR_CODES[\"USER_REJECTS_ERROR\"] = 300] = \"USER_REJECTS_ERROR\";\n    OKX_CONNECT_ERROR_CODES[OKX_CONNECT_ERROR_CODES[\"METHOD_NOT_SUPPORTED\"] = 400] = \"METHOD_NOT_SUPPORTED\";\n    OKX_CONNECT_ERROR_CODES[OKX_CONNECT_ERROR_CODES[\"CHAIN_NOT_SUPPORTED\"] = 500] = \"CHAIN_NOT_SUPPORTED\";\n    OKX_CONNECT_ERROR_CODES[OKX_CONNECT_ERROR_CODES[\"WALLET_NOT_SUPPORTED\"] = 600] = \"WALLET_NOT_SUPPORTED\";\n    OKX_CONNECT_ERROR_CODES[OKX_CONNECT_ERROR_CODES[\"CONNECTION_ERROR\"] = 700] = \"CONNECTION_ERROR\";\n})(OKX_CONNECT_ERROR_CODES || (exports.OKX_CONNECT_ERROR_CODES = OKX_CONNECT_ERROR_CODES = {}));\nexports.PARSE_ERROR = \"PARSE_ERROR\";\nexports.INVALID_REQUEST = \"INVALID_REQUEST\";\nexports.METHOD_NOT_FOUND = \"METHOD_NOT_FOUND\";\nexports.INVALID_PARAMS = \"INVALID_PARAMS\";\nexports.INTERNAL_ERROR = \"INTERNAL_ERROR\";\nexports.SERVER_ERROR = \"SERVER_ERROR\";\nexports.RESERVED_ERROR_CODES = [-32700, -32600, -32601, -32602, -32603];\nexports.SERVER_ERROR_CODE_RANGE = [-32000, -32099];\nexports.STANDARD_ERROR_MAP = {\n    [exports.PARSE_ERROR]: { code: -32700, message: \"Parse error\" },\n    [exports.INVALID_REQUEST]: { code: -32600, message: \"Invalid Request\" },\n    [exports.METHOD_NOT_FOUND]: { code: -32601, message: \"Method not found\" },\n    [exports.INVALID_PARAMS]: { code: -32602, message: \"Invalid params\" },\n    [exports.INTERNAL_ERROR]: { code: -32603, message: \"Internal error\" },\n    [exports.SERVER_ERROR]: { code: -32000, message: \"Server error\" },\n};\nexports.DEFAULT_ERROR = exports.SERVER_ERROR;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.downloadUrl = exports.okxDeeplink = exports.tonConnectSdkVersion = exports.standardDeeplink = exports.standardUniversalLink = exports.NameSpaceKeyTron = exports.NameSpaceKeyCosmos = exports.NameSpaceKeyAptos = exports.NameSpaceKeyBtc = exports.NameSpaceKeySui = exports.NameSpaceKeyTON = exports.NameSpaceKeySOL = exports.NameSpaceKeyEip155 = void 0;\n__exportStar(require(\"./error\"), exports);\nvar misc_1 = require(\"./misc\");\nObject.defineProperty(exports, \"NameSpaceKeyEip155\", { enumerable: true, get: function () { return misc_1.NameSpaceKeyEip155; } });\nObject.defineProperty(exports, \"NameSpaceKeySOL\", { enumerable: true, get: function () { return misc_1.NameSpaceKeySOL; } });\nObject.defineProperty(exports, \"NameSpaceKeyTON\", { enumerable: true, get: function () { return misc_1.NameSpaceKeyTON; } });\nObject.defineProperty(exports, \"NameSpaceKeySui\", { enumerable: true, get: function () { return misc_1.NameSpaceKeySui; } });\nObject.defineProperty(exports, \"NameSpaceKeyBtc\", { enumerable: true, get: function () { return misc_1.NameSpaceKeyBtc; } });\nObject.defineProperty(exports, \"NameSpaceKeyAptos\", { enumerable: true, get: function () { return misc_1.NameSpaceKeyAptos; } });\nObject.defineProperty(exports, \"NameSpaceKeyCosmos\", { enumerable: true, get: function () { return misc_1.NameSpaceKeyCosmos; } });\nObject.defineProperty(exports, \"NameSpaceKeyTron\", { enumerable: true, get: function () { return misc_1.NameSpaceKeyTron; } });\nvar constants_1 = require(\"./constants\");\nObject.defineProperty(exports, \"standardUniversalLink\", { enumerable: true, get: function () { return constants_1.standardUniversalLink; } });\nObject.defineProperty(exports, \"standardDeeplink\", { enumerable: true, get: function () { return constants_1.standardDeeplink; } });\nObject.defineProperty(exports, \"tonConnectSdkVersion\", { enumerable: true, get: function () { return constants_1.tonConnectSdkVersion; } });\nObject.defineProperty(exports, \"okxDeeplink\", { enumerable: true, get: function () { return constants_1.okxDeeplink; } });\nObject.defineProperty(exports, \"downloadUrl\", { enumerable: true, get: function () { return constants_1.downloadUrl; } });\n__exportStar(require(\"./connect\"), exports);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.NameSpaceKeyTron = exports.NameSpaceKeyCosmos = exports.NameSpaceKeyAptos = exports.NameSpaceKeyBtc = exports.NameSpaceKeySui = exports.NameSpaceKeyTON = exports.NameSpaceKeySOL = exports.NameSpaceKeyEip155 = void 0;\nexports.NameSpaceKeyEip155 = \"eip155\";\nexports.NameSpaceKeySOL = \"solana\";\nexports.NameSpaceKeyTON = \"ton\";\nexports.NameSpaceKeySui = \"sui\";\nexports.NameSpaceKeyBtc = \"btc\";\nexports.NameSpaceKeyAptos = \"aptos\";\nexports.NameSpaceKeyCosmos = \"cosmos\";\nexports.NameSpaceKeyTron = \"tron\";\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.callForSuccess = callForSuccess;\nexports.delay = delay;\n/**\n * Function to call ton api until we get response.\n * Because ton network is pretty unstable we need to make sure response is final.\n * @param {T} fn - function to call\n * @param {CallForSuccessOptions} [options] - optional configuration options\n */\nfunction callForSuccess(fn, options) {\n    return __awaiter(this, void 0, void 0, function* () {\n        var _a, _b;\n        const attempts = (_a = options === null || options === void 0 ? void 0 : options.attempts) !== null && _a !== void 0 ? _a : 3;\n        const delayMs = (_b = options === null || options === void 0 ? void 0 : options.delayMs) !== null && _b !== void 0 ? _b : 800;\n        if (typeof fn !== 'function') {\n            throw new Error(`Expected a function, got ${typeof fn}`);\n        }\n        let i = 0;\n        let lastError;\n        while (i < attempts) {\n            try {\n                return yield fn();\n            }\n            catch (err) {\n                lastError = err;\n                i++;\n                if (i < attempts) {\n                    yield delay(delayMs);\n                }\n            }\n        }\n        throw lastError;\n    });\n}\n/**\n * Delays the execution of code for a specified number of milliseconds.\n * @param {number} timeout - The number of milliseconds to delay the execution.\n * @param {DelayOptions} [options] - Optional configuration options for the delay.\n * @return {Promise<void>} - A promise that resolves after the specified delay, or rejects if the delay is aborted.\n */\nfunction delay(timeout, options) {\n    return __awaiter(this, void 0, void 0, function* () {\n        return new Promise((resolve, reject) => {\n            var _a, _b;\n            if ((_a = options === null || options === void 0 ? void 0 : options.signal) === null || _a === void 0 ? void 0 : _a.aborted) {\n                reject(new Error('Delay aborted'));\n                return;\n            }\n            const timeoutId = setTimeout(() => resolve(), timeout);\n            (_b = options === null || options === void 0 ? void 0 : options.signal) === null || _b === void 0 ? void 0 : _b.addEventListener('abort', () => {\n                clearTimeout(timeoutId);\n                reject(new Error('Delay aborted'));\n            });\n        });\n    });\n}\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.versionCompare = exports.isBrowser = exports.isOS = exports.isMobileUserAgent = exports.openDeeplinkWithFallback = exports.openLinkBlank = exports.openLink = exports.useShortLink = exports.toSafeBase64FromBase64 = exports.isValidObject = exports.isIos = exports.base64decode = exports.base64encode = exports.splitToUint8Arrays = exports.concatUint8Arrays = exports.toHexString = exports.hexToByteArray = exports.getOKXLink = exports.openOKXUniversalLink = exports.getAppWalletShortDeepLink = exports.encodeTWAConnectURLParams = exports.encodeConnectParams = exports.openOKXTMAWalletlinkWithFallback = exports.getTelegramWalletTWAUrl = exports.getAppWalletDeepLink = exports.encodeTelegramUrlParameters = exports.isTelegramUrl = exports.openOKXDeeplinkWithFallback = exports.openOKXDeeplink = exports.getUniversalLink = exports.safeJsonStringify = exports.safeJsonParse = exports.getDefaultReporter = exports.reportEvent = exports.reportLog = exports.logWarning = exports.logError = exports.logDebug = exports.callForSuccess = void 0;\nvar call_for_success_1 = require(\"./call-for-success\");\nObject.defineProperty(exports, \"callForSuccess\", { enumerable: true, get: function () { return call_for_success_1.callForSuccess; } });\nvar log_1 = require(\"./log\");\nObject.defineProperty(exports, \"logDebug\", { enumerable: true, get: function () { return log_1.logDebug; } });\nObject.defineProperty(exports, \"logError\", { enumerable: true, get: function () { return log_1.logError; } });\nObject.defineProperty(exports, \"logWarning\", { enumerable: true, get: function () { return log_1.logWarning; } });\nObject.defineProperty(exports, \"reportLog\", { enumerable: true, get: function () { return log_1.reportLog; } });\nObject.defineProperty(exports, \"reportEvent\", { enumerable: true, get: function () { return log_1.reportEvent; } });\nObject.defineProperty(exports, \"getDefaultReporter\", { enumerable: true, get: function () { return log_1.getDefaultReporter; } });\n__exportStar(require(\"./reportconstants\"), exports);\n__exportStar(require(\"./report\"), exports);\nvar safejson_1 = require(\"./safejson\");\nObject.defineProperty(exports, \"safeJsonParse\", { enumerable: true, get: function () { return safejson_1.safeJsonParse; } });\nObject.defineProperty(exports, \"safeJsonStringify\", { enumerable: true, get: function () { return safejson_1.safeJsonStringify; } });\nvar url_1 = require(\"./url\");\nObject.defineProperty(exports, \"getUniversalLink\", { enumerable: true, get: function () { return url_1.getUniversalLink; } });\nObject.defineProperty(exports, \"openOKXDeeplink\", { enumerable: true, get: function () { return url_1.openOKXDeeplink; } });\nObject.defineProperty(exports, \"openOKXDeeplinkWithFallback\", { enumerable: true, get: function () { return url_1.openOKXDeeplinkWithFallback; } });\nObject.defineProperty(exports, \"isTelegramUrl\", { enumerable: true, get: function () { return url_1.isTelegramUrl; } });\nObject.defineProperty(exports, \"encodeTelegramUrlParameters\", { enumerable: true, get: function () { return url_1.encodeTelegramUrlParameters; } });\nObject.defineProperty(exports, \"getAppWalletDeepLink\", { enumerable: true, get: function () { return url_1.getAppWalletDeepLink; } });\nObject.defineProperty(exports, \"getTelegramWalletTWAUrl\", { enumerable: true, get: function () { return url_1.getTelegramWalletTWAUrl; } });\nObject.defineProperty(exports, \"openOKXTMAWalletlinkWithFallback\", { enumerable: true, get: function () { return url_1.openOKXTMAWalletlinkWithFallback; } });\nObject.defineProperty(exports, \"encodeConnectParams\", { enumerable: true, get: function () { return url_1.encodeConnectParams; } });\nObject.defineProperty(exports, \"encodeTWAConnectURLParams\", { enumerable: true, get: function () { return url_1.encodeTWAConnectURLParams; } });\nObject.defineProperty(exports, \"getAppWalletShortDeepLink\", { enumerable: true, get: function () { return url_1.getAppWalletShortDeepLink; } });\nObject.defineProperty(exports, \"openOKXUniversalLink\", { enumerable: true, get: function () { return url_1.openOKXUniversalLink; } });\nObject.defineProperty(exports, \"getOKXLink\", { enumerable: true, get: function () { return url_1.getOKXLink; } });\nvar utils_1 = require(\"./utils\");\nObject.defineProperty(exports, \"hexToByteArray\", { enumerable: true, get: function () { return utils_1.hexToByteArray; } });\nObject.defineProperty(exports, \"toHexString\", { enumerable: true, get: function () { return utils_1.toHexString; } });\nObject.defineProperty(exports, \"concatUint8Arrays\", { enumerable: true, get: function () { return utils_1.concatUint8Arrays; } });\nObject.defineProperty(exports, \"splitToUint8Arrays\", { enumerable: true, get: function () { return utils_1.splitToUint8Arrays; } });\nObject.defineProperty(exports, \"base64encode\", { enumerable: true, get: function () { return utils_1.base64encode; } });\nObject.defineProperty(exports, \"base64decode\", { enumerable: true, get: function () { return utils_1.base64decode; } });\nObject.defineProperty(exports, \"isIos\", { enumerable: true, get: function () { return utils_1.isIos; } });\nObject.defineProperty(exports, \"isValidObject\", { enumerable: true, get: function () { return utils_1.isValidObject; } });\nObject.defineProperty(exports, \"toSafeBase64FromBase64\", { enumerable: true, get: function () { return utils_1.toSafeBase64FromBase64; } });\nObject.defineProperty(exports, \"useShortLink\", { enumerable: true, get: function () { return utils_1.useShortLink; } });\nvar web_api_1 = require(\"./web-api\");\nObject.defineProperty(exports, \"openLink\", { enumerable: true, get: function () { return web_api_1.openLink; } });\nObject.defineProperty(exports, \"openLinkBlank\", { enumerable: true, get: function () { return web_api_1.openLinkBlank; } });\nObject.defineProperty(exports, \"openDeeplinkWithFallback\", { enumerable: true, get: function () { return web_api_1.openDeeplinkWithFallback; } });\nObject.defineProperty(exports, \"isMobileUserAgent\", { enumerable: true, get: function () { return web_api_1.isMobileUserAgent; } });\nObject.defineProperty(exports, \"isOS\", { enumerable: true, get: function () { return web_api_1.isOS; } });\nObject.defineProperty(exports, \"isBrowser\", { enumerable: true, get: function () { return web_api_1.isBrowser; } });\nvar tma_api_1 = require(\"./tma-api\");\nObject.defineProperty(exports, \"versionCompare\", { enumerable: true, get: function () { return tma_api_1.versionCompare; } });\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getDefaultReporter = getDefaultReporter;\nexports.logDebug = logDebug;\nexports.logError = logError;\nexports.logWarning = logWarning;\nexports.reportEvent = reportEvent;\nexports.reportLog = reportLog;\nconst debug = false;\nconst forceReport = false;\nconst report_1 = require(\"./report\");\nconst defaultReporter = new report_1.OKXReporter();\nfunction getDefaultReporter() {\n    return defaultReporter;\n}\nfunction logDebug(...args) {\n    if (typeof console != 'undefined') {\n        try {\n            if (debug || (window === null || window === void 0 ? void 0 : window.okxLogDebug)) {\n                console.log('[OKX_CONNECT_SDK]', ...args);\n            }\n        }\n        catch (_a) { }\n    }\n}\nfunction logError(...args) {\n    if (typeof console != 'undefined') {\n        try {\n            if (debug || (window === null || window === void 0 ? void 0 : window.okxLogDebug)) {\n                console.error('[OKX_CONNECT_SDK]', ...args);\n            }\n            if (forceReport || !debug) {\n                let content = '';\n                content += [...args].reduce((result, item) => {\n                    if (typeof item == 'string') {\n                        result += ',' + item;\n                    }\n                    else if (typeof item == 'object') {\n                        result += JSON.stringify(item);\n                    }\n                });\n                defaultReporter.sendRecordContent(content, report_1.OKXReportType.LOG, '');\n            }\n        }\n        catch (_a) { }\n    }\n}\nfunction logWarning(...args) {\n    if (typeof console != 'undefined') {\n        try {\n            if (debug || (window === null || window === void 0 ? void 0 : window.okxLogDebug)) {\n                console.warn('[OKX_CONNECT_SDK]', ...args);\n            }\n        }\n        catch (_a) { }\n    }\n}\nfunction reportEvent(type, action, content) {\n    return __awaiter(this, void 0, void 0, function* () {\n        yield defaultReporter.sendRecordContent(content, type, action);\n    });\n}\nfunction reportLog(content_1) {\n    return __awaiter(this, arguments, void 0, function* (content, action = 'default') {\n        // await defaultReporter.sendRecordContent(content, OKXReportType.LOG, action)\n    });\n}\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.OKXReporter = exports.OKXReportSide = exports.OKXReportType = exports.versionStr = void 0;\nconst cross_fetch_1 = __importDefault(require(\"cross-fetch\"));\nconst log_1 = require(\"./log\");\nconst url_1 = require(\"./url\");\nconst utils_1 = require(\"../utils\");\nconst localforage_1 = __importDefault(require(\"localforage\"));\nconst tweetnacl_1 = __importDefault(require(\"tweetnacl\"));\nexports.versionStr = '1.5.2';\nconst reportApiList = [\n    'https://www.okx.com/dappstat/wallet-connect',\n    'https://www.okx.ac/dappstat/wallet-connect'\n];\nconst reportCacheKey = 'OKX_RP_CK';\nconst reportUUIDKey = 'OKX_RP_UUID_CK';\nconst MAX_LIMIT_REPORTCOUNT = 100;\nconst DEFAULT_HTTP_HEADERS = {\n    Accept: \"*/*\",\n    \"Content-Type\": \"text/plain\",\n};\nconst DEFAULT_HTTP_METHOD = \"POST\";\nconst DEFAULT_FETCH_OPTS = {\n    headers: DEFAULT_HTTP_HEADERS,\n    method: DEFAULT_HTTP_METHOD,\n};\nexports.OKXReportType = {\n    PAGE_IN: 'page_in',\n    PAGE_OUT: 'page_out',\n    CLICK: 'click',\n    LOG: 'log',\n};\nexports.OKXReportSide = {\n    DAPP: 'dapp',\n    WALLET: 'wallet',\n};\nclass IReporter {\n}\nconst fetchWithTimeout = (url, options, timeout = 5000) => {\n    const controller = new AbortController();\n    const signal = controller.signal;\n    const fetchPromise = (0, cross_fetch_1.default)(url, Object.assign(Object.assign({}, options), { signal }));\n    const timeoutPromise = new Promise((_, reject) => setTimeout(() => {\n        controller.abort();\n        reject(new Error('Request timed out'));\n    }, timeout));\n    return Promise.race([fetchPromise, timeoutPromise]);\n};\nconst fetchListWithTimeout = (urls_1, ...args_1) => __awaiter(void 0, [urls_1, ...args_1], void 0, function* (urls, options = {}, timeout = 5000) {\n    for (const url of urls) {\n        try {\n            const controller = new AbortController();\n            const signal = controller.signal;\n            const fetchPromise = (0, cross_fetch_1.default)(url, Object.assign(Object.assign({}, options), { signal }));\n            const timeoutPromise = new Promise((_, reject) => setTimeout(() => {\n                controller.abort();\n                reject(new Error('Request timed out'));\n            }, timeout));\n            const response = yield Promise.race([fetchPromise, timeoutPromise]);\n            if (response.ok) {\n                return response;\n            }\n            if (response.status == 502) {\n                console.error(`Fetch error status 502`, url);\n                return response;\n            }\n        }\n        catch (error) {\n            console.error(`Fetch error for ${url}:`, error);\n        }\n    }\n    console.error(`'All fetch attempts failed.'`);\n    throw new Error('All fetch attempts failed.');\n});\nclass OKXReporter {\n    constructor() {\n        this.currentSide = exports.OKXReportSide.DAPP;\n        this.currentVersion = exports.versionStr;\n        this.storage = localforage_1.default.createInstance({\n            name: \"OKXReporter\"\n        });\n        this.recordList = new Array();\n        this.currentUUID = (0, utils_1.toHexString)(tweetnacl_1.default.randomBytes(16));\n    }\n    configVersionAndSide(version, side, appname) {\n        this.currentVersion = version;\n        this.currentSide = side;\n        this.appName = appname;\n    }\n    get recordCacheKey() {\n        return reportCacheKey + \"@\" + this.appName;\n    }\n    get reportPlatform() {\n        if ((0, utils_1.isMobileUserAgent)()) {\n            if ((0, utils_1.isIos)()) {\n                return 'iOS';\n            }\n            else {\n                return 'android';\n            }\n        }\n        else {\n            return 'pc';\n        }\n    }\n    beginReport() {\n        return __awaiter(this, void 0, void 0, function* () {\n            this.startErrorCatching();\n            let records = yield this.storage.getItem(this.recordCacheKey);\n            let uuid = yield this.storage.getItem(reportUUIDKey);\n            if (uuid) {\n                this.currentUUID = uuid;\n            }\n            else {\n                this.storage.setItem(reportUUIDKey, this.currentUUID);\n            }\n            if (records) {\n                this.recordList = records;\n                (0, log_1.logDebug)('resume records from cache length: ', this.recordList.length);\n                yield this.sendCachedRecords();\n            }\n        });\n    }\n    startErrorCatching() {\n        let window = (0, url_1.getWindow)();\n        if (window) {\n            (0, log_1.logDebug)('begin capture console error');\n            // window.onerror = (event: Event | string, source?: string, lineno?: number, colno?: number, error?: Error) => {\n            //     logDebug('capture error info:', error, source)\n            //     this.markRecord(error?.message+'/'+error?.name+'/'+error?.stack, OKXReportType.LOG, '', this.currentSide)\n            // }\n        }\n    }\n    cachedErrors() {\n        return this.recordList;\n    }\n    sendRecord(record) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return new Promise((resolve, reject) => __awaiter(this, void 0, void 0, function* () {\n                try {\n                    const body = JSON.stringify(record);\n                    (0, log_1.logDebug)('[REPORT] record: ', body);\n                    const res = yield fetchListWithTimeout(reportApiList, Object.assign(Object.assign({}, DEFAULT_FETCH_OPTS), { body: body }));\n                    (0, log_1.logDebug)('[REPORT] get rsp:', res);\n                    if (res && res.status && res.status == 200) {\n                        this.recordList = this.recordList.filter((item) => {\n                            return item.timestamp != record.timestamp || item.content != record.content;\n                        });\n                        yield this.storage.setItem(this.recordCacheKey, this.recordList);\n                        resolve(true);\n                    }\n                    else {\n                        reject(false);\n                    }\n                }\n                catch (e) {\n                    (0, log_1.logDebug)('send record error:', e);\n                    resolve(true);\n                    // reject(e)\n                }\n            }));\n        });\n    }\n    sendRecordContent(content, type, action) {\n        return __awaiter(this, void 0, void 0, function* () {\n            var _a, _b, _c, _d;\n            let path = (_a = (0, url_1.getWindow)()) === null || _a === void 0 ? void 0 : _a.location.pathname;\n            let location = (_b = (0, url_1.getWindow)()) === null || _b === void 0 ? void 0 : _b.location.origin;\n            if (path && location) {\n                location = location + path;\n            }\n            let language = (_c = (0, url_1.getWindow)()) === null || _c === void 0 ? void 0 : _c.navigator.language;\n            let ua = (_d = (0, url_1.getWindow)()) === null || _d === void 0 ? void 0 : _d.navigator.userAgent;\n            let platform = this.reportPlatform;\n            let reportItem = {\n                uuid: this.currentUUID,\n                version: this.currentVersion,\n                content: content,\n                action: action,\n                side: this.currentSide,\n                timestamp: new Date().getTime(),\n                url: location,\n                lang: language,\n                type: type,\n                platform: platform,\n                \"user-agent\": ua\n            };\n            yield this.markRecordItem(reportItem);\n            yield this.sendRecord(reportItem);\n        });\n    }\n    sendCachedRecords() {\n        return __awaiter(this, void 0, void 0, function* () {\n            return new Promise((resolve, reject) => __awaiter(this, void 0, void 0, function* () {\n                let sendList = this.recordList.map(record => this.sendRecord(record));\n                (0, log_1.logDebug)('[REPORT] submit & clean recorded caches begin @', new Date().toUTCString());\n                Promise.allSettled(sendList).then((results) => {\n                    (0, log_1.logDebug)('[REPORT] submit & clean recorded caches ends @', new Date().toUTCString());\n                    let keepIndex = [];\n                    results.forEach((result, index) => {\n                        if (result.status == \"rejected\") {\n                            keepIndex.push(index);\n                        }\n                    });\n                    this.recordList = this.recordList.filter((_, index) => !keepIndex.includes(index));\n                    this.storage.setItem(this.recordCacheKey, this.recordList).then(function (value) {\n                        resolve();\n                    }).catch(function (err) {\n                        reject(err);\n                    });\n                });\n            }));\n        });\n    }\n    markRecordItem(item) {\n        return __awaiter(this, void 0, void 0, function* () {\n            this.recordList.push(item);\n            if (this.recordList.length > MAX_LIMIT_REPORTCOUNT) {\n                let offset = this.recordList.length - MAX_LIMIT_REPORTCOUNT;\n                this.recordList.splice(0, offset);\n            }\n            return new Promise((resolve, reject) => {\n                this.storage.setItem(this.recordCacheKey, this.recordList).then(function (value) {\n                    resolve(item);\n                }).catch(function (err) {\n                    reject(err);\n                });\n            });\n        });\n    }\n    markRecord(content, type, action, side) {\n        return __awaiter(this, void 0, void 0, function* () {\n            var _a, _b, _c, _d;\n            let path = (_a = (0, url_1.getWindow)()) === null || _a === void 0 ? void 0 : _a.location.pathname;\n            let location = (_b = (0, url_1.getWindow)()) === null || _b === void 0 ? void 0 : _b.location.origin;\n            if (path && location) {\n                location = location + path;\n            }\n            let language = (_c = (0, url_1.getWindow)()) === null || _c === void 0 ? void 0 : _c.navigator.language;\n            let platform = this.reportPlatform;\n            let ua = (_d = (0, url_1.getWindow)()) === null || _d === void 0 ? void 0 : _d.navigator.userAgent;\n            let reportItem = {\n                uuid: this.currentUUID,\n                version: this.currentVersion,\n                content: content,\n                action: action,\n                side: side,\n                timestamp: new Date().getTime(),\n                url: location,\n                lang: language,\n                type: type,\n                platform: platform,\n                \"user-agent\": ua\n            };\n            return yield this.markRecordItem(reportItem);\n        });\n    }\n}\nexports.OKXReporter = OKXReporter;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Report_WalletType_Key = exports.Report_Proceed_QRCode_Click = exports.Report_ChooseType_Download_Click = exports.Report_ChooseType_ConnectWallet_Click = exports.Report_Proceed_Retry_Click = exports.Report_ChooseType_ConnectWallet_View = exports.Report_Loading_ConnectWallet_View = exports.Report_Proceed_QRCode_View = exports.Report_Proceed_Proceed_View = void 0;\nexports.Report_Proceed_Proceed_View = \"OKXConnectSDK_Proceed_Proceed_View\";\nexports.Report_Proceed_QRCode_View = \"OKXConnectSDK_Proceed_QRCode_View\";\nexports.Report_Loading_ConnectWallet_View = \"OKXConnectSDK_Loading_ConnectWallet_View\";\nexports.Report_ChooseType_ConnectWallet_View = \"OKXConnectSDK_ChooseType_ConnectWallet_View\";\nexports.Report_Proceed_Retry_Click = \"OKXConnectSDK_Proceed_Retry_Click\";\nexports.Report_ChooseType_ConnectWallet_Click = \"OKXConnectSDK_ChooseType_ConnectWallet_Click\";\nexports.Report_ChooseType_Download_Click = \"OKXConnectSDK_ChooseType_Download_Click\";\nexports.Report_Proceed_QRCode_Click = \"OKXConnectSDK_Proceed_QRCode_Click\";\nexports.Report_WalletType_Key = 'wallet_type';\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.safeJsonParse = safeJsonParse;\nexports.safeJsonStringify = safeJsonStringify;\nconst log_1 = require(\"./log\");\nconst JSONStringify = (data) => JSON.stringify(data, (_, value) => (typeof value === \"bigint\" ? value.toString() + \"n\" : value));\n/*\n  Function to parse JSON.\n  If JSON has values in our custom format BigInt (strings with \"n\" character at the end), we just parse them to BigInt values.\n  If JSON has big number values, but not in our custom format, we copy it, and in a copy we convert those values to our custom format,\n  then parse them to BigInt values.\n  Other values (not big numbers and not our custom format BigInt values) are not affected and parsed as native JSON.parse() would parse them.\n*/\nconst JSONParse = (json) => {\n    /*\n      Big numbers are found and marked using Regex with this condition:\n      Number's length is bigger than 16 || Number's length is 16 and any numerical digit of the number is greater than that of the Number.MAX_SAFE_INTEGER\n      Additionally, it skips values that are strings (between double quotes).\n      */\n    // prettier-ignore\n    // eslint-disable-next-line no-useless-escape\n    const numbersBiggerThanMaxInt = /:(\\b\\d{17,}|\\b(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))(?=[,\\}\\]]|$)/g;\n    const serializedData = json.replace(numbersBiggerThanMaxInt, (match, group) => `:\"${group}n\"`);\n    try {\n        return JSON.parse(serializedData, (_, value) => {\n            const isCustomFormatBigInt = typeof value === \"string\" && value.match(/^\\d+n$/);\n            if (isCustomFormatBigInt)\n                return BigInt(value.substring(0, value.length - 1));\n            return value;\n        });\n    }\n    catch (e) {\n        return JSON.parse(json);\n    }\n};\nfunction safeJsonParse(value) {\n    if (typeof value !== \"string\") {\n        (0, log_1.logDebug)(value);\n        throw new Error(`Cannot safe json parse value of type ${typeof value}`);\n    }\n    try {\n        return JSONParse(value);\n    }\n    catch (e) {\n        // eslint-disable-next-line no-console\n        console.error(\"safeJsonParse error:\", e);\n        return value;\n    }\n}\nfunction safeJsonStringify(value) {\n    return typeof value === \"string\" ? value : JSONStringify(value) || \"\";\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.okxfromString = okxfromString;\nexports.okxtoString = okxtoString;\nexports.alloc = alloc;\nexports.allocUnsafe = allocUnsafe;\nconst basics_1 = require(\"multiformats/basics\");\nconst log_1 = require(\"../utils/log\");\nfunction okxfromString(string, encoding = 'utf8') {\n    const base = BASES[encoding];\n    (0, log_1.logDebug)(\"okxfromstring ====> \");\n    if (!base) {\n        throw new Error(`Unsupported encoding \"${encoding}\"`);\n    }\n    return base.decoder.decode(`${base.prefix}${string}`);\n}\nfunction okxtoString(array, encoding = 'utf8') {\n    const base = BASES[encoding];\n    (0, log_1.logDebug)(\"okxtoString ====> \");\n    if (!base) {\n        throw new Error(`Unsupported encoding \"${encoding}\"`);\n    }\n    return base.encoder.encode(array).substring(1);\n}\nfunction alloc(size = 0) {\n    return new Uint8Array(size);\n}\nfunction allocUnsafe(size = 0) {\n    return new Uint8Array(size);\n}\nfunction createCodec(name, prefix, encode, decode) {\n    return {\n        name,\n        prefix,\n        encoder: {\n            name,\n            prefix,\n            encode\n        },\n        decoder: { decode }\n    };\n}\nconst string = createCodec('utf8', 'u', buf => {\n    const decoder = new TextDecoder('utf8');\n    return 'u' + decoder.decode(buf);\n}, str => {\n    const encoder = new TextEncoder();\n    return encoder.encode(str.substring(1));\n});\nconst ascii = createCodec('ascii', 'a', buf => {\n    let result = 'a';\n    for (let i = 0; i < buf.length; i++) {\n        let bufNum = buf[i];\n        if (bufNum && String.fromCharCode(bufNum)) {\n            result += String.fromCharCode(bufNum);\n        }\n    }\n    return result;\n}, str => {\n    str = str.substring(1);\n    const buf = allocUnsafe(str.length);\n    for (let i = 0; i < str.length; i++) {\n        buf[i] = str.charCodeAt(i);\n    }\n    return buf;\n});\nconst BASES = Object.assign({ utf8: string, 'utf-8': string, hex: basics_1.bases.base16, latin1: ascii, ascii: ascii, binary: ascii }, basics_1.bases);\n","\"use strict\";\nvar _a, _b, _c, _d, _e, _f, _g;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isTmaPlatform = isTmaPlatform;\nexports.isInTMA = isInTMA;\nexports.isInTelegramBrowser = isInTelegramBrowser;\nexports.sendExpand = sendExpand;\nexports.sendOpenTelegramLink = sendOpenTelegramLink;\nexports.versionCompare = versionCompare;\nconst url_1 = require(\"./url\");\nconst log_1 = require(\"./log\");\nconst protocol_1 = require(\"../protocol\");\nconst web_api_1 = require(\"./web-api\");\nlet initParams = {};\ntry {\n    let locationHash = location.hash.toString();\n    initParams = urlParseHashParams(locationHash);\n}\ncatch (e) { }\nlet tmaPlatform = 'unknown';\nif (initParams === null || initParams === void 0 ? void 0 : initParams.tgWebAppPlatform) {\n    tmaPlatform = (_a = initParams.tgWebAppPlatform) !== null && _a !== void 0 ? _a : 'unknown';\n}\nif (tmaPlatform === 'unknown') {\n    const window = (0, url_1.getWindow)();\n    tmaPlatform = (_d = (_c = (_b = window === null || window === void 0 ? void 0 : window.Telegram) === null || _b === void 0 ? void 0 : _b.WebApp) === null || _c === void 0 ? void 0 : _c.platform) !== null && _d !== void 0 ? _d : 'unknown';\n}\nlet webAppVersion = '6.0';\nif (initParams === null || initParams === void 0 ? void 0 : initParams.tgWebAppVersion) {\n    webAppVersion = initParams.tgWebAppVersion;\n}\nif (!webAppVersion) {\n    const window = (0, url_1.getWindow)();\n    webAppVersion = (_g = (_f = (_e = window === null || window === void 0 ? void 0 : window.Telegram) === null || _e === void 0 ? void 0 : _e.WebApp) === null || _f === void 0 ? void 0 : _f.version) !== null && _g !== void 0 ? _g : '6.0';\n}\n/**\n * Returns true if the app is running in TMA on the specified platform.\n * @param platforms\n */\nfunction isTmaPlatform(...platforms) {\n    return platforms.includes(tmaPlatform);\n}\n/**\n * Returns true if the app is running in TMA.\n */\nfunction isInTMA() {\n    var _a;\n    return tmaPlatform !== 'unknown' || !!((_a = (0, url_1.getWindow)()) === null || _a === void 0 ? void 0 : _a.TelegramWebviewProxy);\n}\n/**\n * Returns true if the app is running in the Telegram browser.\n */\nfunction isInTelegramBrowser() {\n    var _a;\n    const isTelegramWebview = !!((_a = (0, url_1.getWindow)()) === null || _a === void 0 ? void 0 : _a.TelegramWebview);\n    return (isInTMA() || isTelegramWebview) && tmaPlatform === 'unknown';\n}\n/**\n * Expand the app window.\n */\nfunction sendExpand() {\n    postEvent('web_app_expand', {});\n}\n/**\n * Opens link in TMA or in new tab and returns a function that closes the tab.\n * @param link The link to open.\n * @param fallback The function to call if the link can't be opened in TMA.\n */\nfunction sendOpenTelegramLink(link, fallback) {\n    const url = new URL(link);\n    if (url.protocol !== 'http:' && url.protocol !== 'https:') {\n        if (fallback) {\n            return fallback();\n        }\n        throw new protocol_1.OKXConnectError(protocol_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `Url protocol is not supported: ${url}`);\n    }\n    if (url.hostname !== 't.me') {\n        if (fallback) {\n            return fallback();\n        }\n        throw new protocol_1.OKXConnectError(protocol_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `Url host is not supported: ${url}`);\n    }\n    const pathFull = url.pathname + url.search;\n    if (isIframe() || versionAtLeast('6.1')) {\n        postEvent('web_app_open_tg_link', { path_full: pathFull });\n    }\n    else {\n        (0, web_api_1.openLinkBlank)('https://t.me' + pathFull);\n    }\n}\nfunction isIframe() {\n    try {\n        const window = (0, url_1.getWindow)();\n        if (!window) {\n            return false;\n        }\n        return window.parent != null && window !== window.parent;\n    }\n    catch (e) {\n        return false;\n    }\n}\nfunction postEvent(eventType, eventData) {\n    try {\n        const window = (0, url_1.getWindow)();\n        if (!window) {\n            throw new protocol_1.OKXConnectError(protocol_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `Can't post event to parent window: window is not defined`);\n        }\n        if (window.TelegramWebviewProxy !== undefined) {\n            (0, log_1.logDebug)('postEvent', eventType, eventData);\n            window.TelegramWebviewProxy.postEvent(eventType, JSON.stringify(eventData));\n        }\n        else if (window.external && 'notify' in window.external) {\n            (0, log_1.logDebug)('postEvent', eventType, eventData);\n            window.external.notify(JSON.stringify({ eventType: eventType, eventData: eventData }));\n        }\n        else if (isIframe()) {\n            const trustedTarget = '*';\n            const message = JSON.stringify({ eventType: eventType, eventData: eventData });\n            (0, log_1.logDebug)('postEvent', eventType, eventData);\n            window.parent.postMessage(message, trustedTarget);\n        }\n        else {\n            throw new protocol_1.OKXConnectError(protocol_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `Can't post event to TMA`);\n        }\n    }\n    catch (e) {\n        (0, log_1.logError)(`Can't post event to parent window: ${e}`);\n    }\n}\nfunction urlParseHashParams(locationHash) {\n    locationHash = locationHash.replace(/^#/, '');\n    let params = {};\n    if (!locationHash.length) {\n        return params;\n    }\n    if (locationHash.indexOf('=') < 0 && locationHash.indexOf('?') < 0) {\n        params._path = urlSafeDecode(locationHash);\n        return params;\n    }\n    let qIndex = locationHash.indexOf('?');\n    if (qIndex >= 0) {\n        let pathParam = locationHash.substr(0, qIndex);\n        params._path = urlSafeDecode(pathParam);\n        locationHash = locationHash.substr(qIndex + 1);\n    }\n    let query_params = urlParseQueryString(locationHash);\n    for (let k in query_params) {\n        params[k] = query_params[k];\n    }\n    return params;\n}\nfunction urlSafeDecode(urlencoded) {\n    try {\n        urlencoded = urlencoded.replace(/\\+/g, '%20');\n        return decodeURIComponent(urlencoded);\n    }\n    catch (e) {\n        return urlencoded;\n    }\n}\nfunction urlParseQueryString(queryString) {\n    let params = {};\n    if (!queryString.length) {\n        return params;\n    }\n    let queryStringParams = queryString.split('&');\n    let i, param, paramName, paramValue;\n    for (i = 0; i < queryStringParams.length; i++) {\n        param = queryStringParams[i].split('=');\n        paramName = urlSafeDecode(param[0]);\n        paramValue = param[1] == null ? null : urlSafeDecode(param[1]);\n        params[paramName] = paramValue;\n    }\n    return params;\n}\nfunction versionCompare(v1, v2) {\n    if (typeof v1 !== 'string')\n        v1 = '';\n    if (typeof v2 !== 'string')\n        v2 = '';\n    let v1List = v1.replace(/^\\s+|\\s+$/g, '').split('.');\n    let v2List = v2.replace(/^\\s+|\\s+$/g, '').split('.');\n    let a, i, p1, p2;\n    a = Math.max(v1List.length, v2List.length);\n    for (i = 0; i < a; i++) {\n        p1 = parseInt(v1List[i]) || 0;\n        p2 = parseInt(v2List[i]) || 0;\n        if (p1 === p2)\n            continue;\n        if (p1 > p2)\n            return 1;\n        return -1;\n    }\n    return 0;\n}\nfunction versionAtLeast(ver) {\n    return versionCompare(webAppVersion, ver) >= 0;\n}\n","\"use strict\";\nvar _a, _b, _c, _d;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.removeUrlLastSlash = removeUrlLastSlash;\nexports.addPathToUrl = addPathToUrl;\nexports.getUniversalLink = getUniversalLink;\nexports.openOKXDeeplink = openOKXDeeplink;\nexports.openOKXUniversalLink = openOKXUniversalLink;\nexports.openOKXDeeplinkWithFallback = openOKXDeeplinkWithFallback;\nexports.getWindow = getWindow;\nexports.isTelegramUrl = isTelegramUrl;\nexports.encodeTelegramUrlParameters = encodeTelegramUrlParameters;\nexports.encodeConnectParams = encodeConnectParams;\nexports.encodeTWAConnectURLParams = encodeTWAConnectURLParams;\nexports.getAppWalletDeepLink = getAppWalletDeepLink;\nexports.getAppWalletShortDeepLink = getAppWalletShortDeepLink;\nexports.getTelegramWalletTWAUrl = getTelegramWalletTWAUrl;\nexports.openOKXTMAWalletlinkWithFallback = openOKXTMAWalletlinkWithFallback;\nexports.isInTMA = isInTMA;\nexports.isInTelegramBrowser = isInTelegramBrowser;\nexports.getOKXLink = getOKXLink;\nconst protocol_1 = require(\"../protocol\");\nconst log_1 = require(\"./log\");\nconst constants_1 = require(\"../protocol/constants\");\nconst utils_1 = require(\"./utils\");\nconst tma_api_1 = require(\"./tma-api\");\nconst constants_2 = require(\"../connect/constants\");\nfunction removeUrlLastSlash(url) {\n    if (url.slice(-1) === '/') {\n        return url.slice(0, -1);\n    }\n    return url;\n}\nfunction addPathToUrl(url, path) {\n    return removeUrlLastSlash(url) + '/' + path;\n}\nfunction getUniversalLink(deeplinkUrl) {\n    const deeplinkEncodeUrl = encodeURIComponent(deeplinkUrl);\n    console.log(\"getUniversalLink standardUniversalLink:\", protocol_1.standardUniversalLink);\n    return `${protocol_1.standardUniversalLink}?deeplink=${deeplinkEncodeUrl}`;\n}\nfunction openOKXDeeplink(deeplinkUrl) {\n    var _a;\n    const fullUrl = getUniversalLink(deeplinkUrl);\n    const isTelegram = !!((_a = getWindow()) === null || _a === void 0 ? void 0 : _a.TelegramWebviewProxy);\n    console.log(\"openOKXDeeplink fullUrl:\", fullUrl);\n    if (!(0, utils_1.isIos)()) {\n        let newWindow = null;\n        if (isTelegram) {\n            newWindow = window.open(deeplinkUrl, '_blank');\n        }\n        else {\n            window.location.href = deeplinkUrl;\n        }\n    }\n    else {\n        openOKXUniversalLink(fullUrl);\n    }\n}\nfunction openOKXUniversalLink(fullUrl) {\n    if (!(0, utils_1.isIos)()) {\n        // if (isTelegram) {\n        window.open(fullUrl, '_blank');\n        // } else {\n        //     window.location.href = fullUrl;\n        // }\n    }\n    else {\n        if (isInTMA()) {\n            window.open(fullUrl, '_blank');\n        }\n        else {\n            console.log(\"windowOpen[before]: \", Date.now());\n            if (window === null || window === void 0 ? void 0 : window.okxLogDebug) {\n                window.open(fullUrl, '_blank');\n            }\n            else {\n                window.open(fullUrl, '_blank');\n            }\n            console.log(\"windowOpen[after]: \", Date.now());\n        }\n    }\n}\nfunction openOKXDeeplinkWithFallback(deeplinkUrl) {\n    var _a;\n    const fullUrl = getUniversalLink(deeplinkUrl);\n    const isTelegram = !!((_a = getWindow()) === null || _a === void 0 ? void 0 : _a.TelegramWebviewProxy);\n    console.log(\"openOKXDeeplinkWithFallback fullUrl:\", fullUrl);\n    let deepLinkOpened = false;\n    const timeoutDuration = 3000; // 1.5秒的等待时间\n    const downloadUrl = protocol_1.standardUniversalLink;\n    console.log(\"openOKXDeeplinkWithFallback standardUniversalLink:\", protocol_1.standardUniversalLink);\n    if (!(0, utils_1.isIos)()) {\n        let newWindow = null;\n        var fallbackToDownloadPage = () => {\n            if (!deepLinkOpened) {\n                if (newWindow) {\n                    newWindow.open(downloadUrl, '_self');\n                }\n                else {\n                    window.open(downloadUrl, '_blank');\n                }\n            }\n        };\n        if (isTelegram) {\n            newWindow = window.open(deeplinkUrl, '_blank');\n        }\n        else {\n            window.location.href = deeplinkUrl;\n        }\n        setTimeout(fallbackToDownloadPage, timeoutDuration);\n        window.addEventListener('blur', () => {\n            deepLinkOpened = true;\n        }, { once: true });\n        document.addEventListener('visibilitychange', () => {\n            if (document.visibilityState === 'hidden') {\n                deepLinkOpened = true;\n            }\n        });\n    }\n    else {\n        if (isTelegram) {\n            window.open(fullUrl, '_blank');\n        }\n        else {\n            console.log(\"windowOpen[before]: \", Date.now());\n            if (window === null || window === void 0 ? void 0 : window.okxLogDebug) {\n                window.open(fullUrl, '_blank');\n            }\n            else {\n                window.open(fullUrl, '_self');\n            }\n            console.log(\"windowOpen[after]: \", Date.now());\n        }\n    }\n}\nfunction getWindow() {\n    if (typeof window !== 'undefined') {\n        return window;\n    }\n    return undefined;\n}\nfunction isTelegramUrl(link) {\n    if (!link) {\n        return false;\n    }\n    const url = new URL(link);\n    return url.protocol === 'tg:' || url.hostname === 't.me';\n}\nfunction encodeTelegramUrlParameters(parameters) {\n    let encodedParameters = parameters;\n    encodedParameters = encodedParameters.replace(/\\./g, '%2E');\n    encodedParameters = encodedParameters.replace(/-/g, '%2D');\n    encodedParameters = encodedParameters.replace(/_/g, '%5F');\n    encodedParameters = encodedParameters.replace(/&/g, '-');\n    encodedParameters = encodedParameters.replace(/=/g, '__');\n    encodedParameters = encodedParameters.replace(/%/g, '--');\n    return encodedParameters;\n}\nfunction encodeConnectParams(connectRequest) {\n    let connectRequestWithVersion = Object.assign(Object.assign({}, connectRequest), { protocolVersion: constants_2.CONNECT_PROTOCOL_VER });\n    const connectRequestStr = JSON.stringify(connectRequestWithVersion);\n    (0, log_1.logDebug)(\"url encodeConnectParams connectRequestStr \", connectRequestStr);\n    const utf8Array = new TextEncoder().encode(connectRequestStr);\n    const base64Encoded = btoa(String.fromCharCode(...utf8Array));\n    // .replace(/\\+/g, '-')\n    // .replace(/\\//g, '_')\n    // .replace(/=+$/, ''); //Compatible with older versions of iOS. Cannot be added directly  (Base64 URL Safe)\n    (0, log_1.logDebug)(\"url encodeConnectParams base64Encoded \", base64Encoded);\n    return base64Encoded;\n}\nfunction encodeTWAConnectURLParams(connectRequest) {\n    const connectRequestStr = JSON.stringify({ topic: connectRequest.topic, clientId: connectRequest.clientId });\n    (0, log_1.logDebug)(\"url encodeConnectParams connectRequestStr\", connectRequestStr);\n    const utf8Array = new TextEncoder().encode(connectRequestStr);\n    const base64Encoded = btoa(String.fromCharCode(...utf8Array));\n    return base64Encoded;\n}\nfunction getAppWalletDeepLink(connectParam) {\n    return `${protocol_1.standardDeeplink}?param=${connectParam}`;\n}\nfunction getAppWalletShortDeepLink(topic, clientId) {\n    return `${constants_1.shortUniversalLink}?topic=${topic}${(0, utils_1.getLastSixMd5Hash)(clientId)}`;\n}\n//  make telegram okx wallet TWA url\nfunction getTelegramWalletTWAUrl(connectParam, redirectStr) {\n    let base64Content = { okxconnect: \"\", redirect: \"\", extraparams: \"\" };\n    if (connectParam) {\n        base64Content.okxconnect = connectParam;\n    }\n    if (redirectStr) {\n        base64Content.redirect = redirectStr;\n    }\n    let base64ContentStr = JSON.stringify(base64Content);\n    const utf8Array = new TextEncoder().encode(base64ContentStr);\n    const base64Encoded = btoa(String.fromCharCode(...utf8Array));\n    const urlSafeBase64 = (0, utils_1.toSafeBase64FromBase64)(base64Encoded);\n    (0, log_1.logDebug)('[TWA] open link:', base64Content, base64Encoded);\n    if (connectParam || redirectStr) {\n        if (!isInTMA()) {\n            return `http://localhost:5173?tgWebAppStartParam=${urlSafeBase64}`;\n            // return `tg://resolve?domain=${tgwalletName}&appname=${tgwalletAppName}&startapp=${urlSafeBase64}`\n        }\n        else {\n            return `https://t.me/${constants_1.tgwalletName}/start?startapp=${urlSafeBase64}`;\n        }\n    }\n    if (!isInTMA()) {\n        return \"http://localhost:5173\";\n        // return `tg://resolve?domain=${tgwalletName}&appname=${tgwalletAppName}`\n    }\n    else {\n        return `https://t.me/${constants_1.tgwalletName}/start`;\n    }\n}\n//  open TWA url in telegram\nfunction openOKXTMAWalletlinkWithFallback(twaDeepLink) {\n    var _a, _b, _c, _d, _e;\n    (0, log_1.logDebug)('[TWA] open link:', twaDeepLink, \"isInTMA ==> \", isInTMA());\n    if (!isInTMA()) {\n        window.open(twaDeepLink, '_blank');\n    }\n    else {\n        if ((_b = (_a = getWindow()) === null || _a === void 0 ? void 0 : _a.Telegram) === null || _b === void 0 ? void 0 : _b.WebApp) {\n            (_e = (_d = (_c = getWindow()) === null || _c === void 0 ? void 0 : _c.Telegram) === null || _d === void 0 ? void 0 : _d.WebApp) === null || _e === void 0 ? void 0 : _e.openTelegramLink(twaDeepLink);\n        }\n        else {\n            (0, tma_api_1.sendOpenTelegramLink)(twaDeepLink);\n        }\n    }\n}\n/**\n * Returns true if the app is running in TMA.\n */\nfunction urlSafeDecode(urlencoded) {\n    try {\n        urlencoded = urlencoded.replace(/\\+/g, '%20');\n        return decodeURIComponent(urlencoded);\n    }\n    catch (e) {\n        return urlencoded;\n    }\n}\nfunction urlParseQueryString(queryString) {\n    let params = {};\n    if (!queryString.length) {\n        return params;\n    }\n    let queryStringParams = queryString.split('&');\n    let i, param, paramName, paramValue;\n    for (i = 0; i < queryStringParams.length; i++) {\n        param = queryStringParams[i].split('=');\n        paramName = urlSafeDecode(param[0]);\n        paramValue = param[1] == null ? null : urlSafeDecode(param[1]);\n        params[paramName] = paramValue;\n    }\n    return params;\n}\nfunction urlParseHashParams(locationHash) {\n    locationHash = locationHash.replace(/^#/, '');\n    let params = {};\n    if (!locationHash.length) {\n        return params;\n    }\n    if (locationHash.indexOf('=') < 0 && locationHash.indexOf('?') < 0) {\n        params._path = urlSafeDecode(locationHash);\n        return params;\n    }\n    let qIndex = locationHash.indexOf('?');\n    if (qIndex >= 0) {\n        let pathParam = locationHash.substr(0, qIndex);\n        params._path = urlSafeDecode(pathParam);\n        locationHash = locationHash.substr(qIndex + 1);\n    }\n    let query_params = urlParseQueryString(locationHash);\n    for (let k in query_params) {\n        params[k] = query_params[k];\n    }\n    return params;\n}\nlet initParams = {};\ntry {\n    let locationHash = location.hash.toString();\n    initParams = urlParseHashParams(locationHash);\n}\ncatch (e) { }\nlet tmaPlatform = 'unknown';\nif (initParams === null || initParams === void 0 ? void 0 : initParams.tgWebAppPlatform) {\n    tmaPlatform = (_a = initParams.tgWebAppPlatform) !== null && _a !== void 0 ? _a : 'unknown';\n}\nif (tmaPlatform === 'unknown') {\n    const window = getWindow();\n    tmaPlatform = (_d = (_c = (_b = window === null || window === void 0 ? void 0 : window.Telegram) === null || _b === void 0 ? void 0 : _b.WebApp) === null || _c === void 0 ? void 0 : _c.platform) !== null && _d !== void 0 ? _d : 'unknown';\n}\nfunction isInTMA() {\n    var _a;\n    return tmaPlatform !== 'unknown' || !!((_a = getWindow()) === null || _a === void 0 ? void 0 : _a.TelegramWebviewProxy);\n}\n/**\n * Returns true if the app is running in the Telegram browser.\n */\nfunction isInTelegramBrowser() {\n    var _a;\n    const isTelegramWebview = !!((_a = getWindow()) === null || _a === void 0 ? void 0 : _a.TelegramWebview);\n    return (isInTMA() || isTelegramWebview) && tmaPlatform === 'unknown';\n}\nfunction getOKXLink(connectRequest, useMini = false, tmaReturnUrl) {\n    (0, log_1.logDebug)(`url  getOKXLink() called connectRequest==> ${JSON.stringify(connectRequest)}  useMini=> ${useMini}  tmaReturnUrl==> ${tmaReturnUrl}`);\n    if (useMini) {\n        var encodeTGParams = encodeTWAConnectURLParams(connectRequest);\n        return getTelegramWalletTWAUrl(encodeTGParams, tmaReturnUrl !== null && tmaReturnUrl !== void 0 ? tmaReturnUrl : \"back\");\n    }\n    else {\n        if ((0, utils_1.useShortLink)()) {\n            return getAppWalletShortDeepLink(connectRequest.topic, connectRequest.clientId);\n        }\n        else {\n            const base64Encoded = encodeConnectParams(connectRequest);\n            return `${protocol_1.standardDeeplink}?param=${base64Encoded}`;\n        }\n    }\n}\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isValidObject = exports.RANDOM_LENGTH = exports.isBrowser = exports.resolveLocalStorage = exports.hasLocalStorage = exports.hasBuiltInWebSocket = exports.resolveWebSocketImplementation = void 0;\nexports.hexToByteArray = hexToByteArray;\nexports.toHexString = toHexString;\nexports.concatUint8Arrays = concatUint8Arrays;\nexports.splitToUint8Arrays = splitToUint8Arrays;\nexports.base64encode = base64encode;\nexports.base64decode = base64decode;\nexports.checkWSUrl = checkWSUrl;\nexports.hashKey = hashKey;\nexports.generateRandomBytes32 = generateRandomBytes32;\nexports.generateTopic = generateTopic;\nexports.generateGroupId = generateGroupId;\nexports.isIos = isIos;\nexports.getLastSixMd5Hash = getLastSixMd5Hash;\nexports.toSafeBase64FromBase64 = toSafeBase64FromBase64;\nexports.useShortLink = useShortLink;\nconst tweetnacl_1 = __importDefault(require(\"tweetnacl\"));\nconst tweetnacl_util_1 = __importDefault(require(\"tweetnacl-util\"));\nconst to_string_1 = require(\"uint8arrays/to-string\");\nconst sha256_1 = require(\"@stablelib/sha256\");\nconst safejson_1 = require(\"./safejson\");\nconst log_1 = require(\"./log\");\nconst stringUtils_1 = require(\"../utils/stringUtils\");\nconst crypto_js_1 = __importDefault(require(\"crypto-js\"));\nconst BASE16 = \"base16\";\nfunction hexToByteArray(hexString) {\n    if (hexString.length % 2 !== 0) {\n        throw new Error(`Cannot convert ${hexString} to bytesArray`);\n    }\n    const result = new Uint8Array(hexString.length / 2);\n    for (let i = 0; i < hexString.length; i += 2) {\n        result[i / 2] = parseInt(hexString.slice(i, i + 2), 16);\n    }\n    return result;\n}\nfunction toHexString(byteArray) {\n    let hexString = '';\n    byteArray.forEach(byte => {\n        hexString += ('0' + (byte & 0xff).toString(16)).slice(-2);\n    });\n    return hexString;\n}\nfunction concatUint8Arrays(buffer1, buffer2) {\n    const mergedArray = new Uint8Array(buffer1.length + buffer2.length);\n    mergedArray.set(buffer1);\n    mergedArray.set(buffer2, buffer1.length);\n    return mergedArray;\n}\nfunction splitToUint8Arrays(array, index) {\n    if (index >= array.length) {\n        throw new Error('Index is out of buffer');\n    }\n    const subArray1 = array.slice(0, index);\n    const subArray2 = array.slice(index);\n    return [subArray1, subArray2];\n}\nfunction encodeUint8Array(value, urlSafe) {\n    const encoded = tweetnacl_util_1.default.encodeBase64(value);\n    if (!urlSafe) {\n        return encoded;\n    }\n    return encodeURIComponent(encoded);\n}\nfunction decodeToUint8Array(value, urlSafe) {\n    if (urlSafe) {\n        value = decodeURIComponent(value);\n    }\n    return tweetnacl_util_1.default.decodeBase64(value);\n}\nfunction base64encode(value, urlSafe) {\n    let uint8Array;\n    if (value instanceof Uint8Array) {\n        uint8Array = value;\n    }\n    else {\n        if (typeof value !== 'string') {\n            value = (0, safejson_1.safeJsonStringify)(value);\n        }\n        uint8Array = tweetnacl_util_1.default.decodeUTF8(value);\n    }\n    return encodeUint8Array(uint8Array, urlSafe);\n}\nfunction base64decode(value, urlSafe) {\n    const decodedUint8Array = decodeToUint8Array(value, urlSafe);\n    return {\n        toString() {\n            return tweetnacl_util_1.default.encodeUTF8(decodedUint8Array);\n        },\n        toObject() {\n            try {\n                return (0, safejson_1.safeJsonParse)(tweetnacl_util_1.default.encodeUTF8(decodedUint8Array));\n            }\n            catch (e) {\n                return null;\n            }\n        },\n        toUint8Array() {\n            return decodedUint8Array;\n        }\n    };\n}\nfunction checkWSUrl(url) {\n    const match = url.match(new RegExp(/^\\w+:/, \"gi\"));\n    if (!match || !match.length) {\n        return false;\n    }\n    let scheme = match[0];\n    if (scheme === undefined) {\n        return false;\n    }\n    return new RegExp(\"^wss?:\").test(scheme);\n}\nconst resolveWebSocketImplementation = () => {\n    if (typeof WebSocket !== \"undefined\") {\n        return WebSocket;\n    }\n    else if (typeof global !== \"undefined\" && typeof global.WebSocket !== \"undefined\") {\n        return global.WebSocket;\n    }\n    else if (typeof window !== \"undefined\" && typeof window.WebSocket !== \"undefined\") {\n        return window.WebSocket;\n    }\n    else if (typeof self !== \"undefined\" && typeof self.WebSocket !== \"undefined\") {\n        return self.WebSocket;\n    }\n    return WebSocket;\n    //\n    // return require(\"ws\");\n};\nexports.resolveWebSocketImplementation = resolveWebSocketImplementation;\nconst hasBuiltInWebSocket = () => typeof WebSocket !== \"undefined\" ||\n    (typeof global !== \"undefined\" && typeof global.WebSocket !== \"undefined\") ||\n    (typeof window !== \"undefined\" && typeof window.WebSocket !== \"undefined\") ||\n    (typeof self !== \"undefined\" && typeof self.WebSocket !== \"undefined\");\nexports.hasBuiltInWebSocket = hasBuiltInWebSocket;\nconst hasLocalStorage = () => (typeof global !== \"undefined\" && (typeof global.localStorage !== \"undefined\")) ||\n    (typeof window !== \"undefined\" && typeof window.localStorage !== \"undefined\");\nexports.hasLocalStorage = hasLocalStorage;\nconst resolveLocalStorage = () => {\n    if (typeof global !== \"undefined\" && typeof global.localStorage !== \"undefined\") {\n        return global.localStorage;\n    }\n    else if (typeof window !== \"undefined\" && typeof window.localStorage !== \"undefined\") {\n        return window.localStorage;\n    }\n    return localStorage;\n};\nexports.resolveLocalStorage = resolveLocalStorage;\nconst isBrowser = () => typeof window !== \"undefined\";\nexports.isBrowser = isBrowser;\nexports.RANDOM_LENGTH = 32;\nfunction hashKey(key, encode = BASE16) {\n    (0, log_1.logDebug)(`hash key called ${key}`);\n    const result = (0, sha256_1.hash)((0, stringUtils_1.okxfromString)(key, encode));\n    return (0, to_string_1.toString)(result, encode);\n}\nfunction generateRandomBytes32() {\n    return tweetnacl_1.default.randomBytes(exports.RANDOM_LENGTH);\n}\nfunction generateTopic() {\n    let randomBytes32 = generateRandomBytes32();\n    (0, log_1.logDebug)(`generate topic called ${randomBytes32}`);\n    return hashKey((0, to_string_1.toString)(randomBytes32, BASE16));\n}\nfunction generateGroupId() {\n    let randomBytes32 = tweetnacl_1.default.randomBytes(16);\n    (0, log_1.logDebug)(`generate groupid called ${randomBytes32}`);\n    return hashKey((0, to_string_1.toString)(randomBytes32, BASE16));\n}\nconst isValidObject = (obj) => Object.getPrototypeOf(obj) === Object.prototype && Object.keys(obj).length;\nexports.isValidObject = isValidObject;\nfunction isIos() {\n    const userAgent = navigator.userAgent;\n    const maxTouchPoints = navigator.maxTouchPoints || 0;\n    // 检测 iPhone、iPod 和传统的 iPad\n    const isIOSDevice = /iPad|iPhone|iPod/.test(userAgent) && !window.MSStream;\n    // 针对 iPadOS 13 及以上的设备进行额外判断\n    const isIPadOS = (userAgent.includes('Mac') && maxTouchPoints > 1);\n    (0, log_1.logDebug)(`utils isIos >>>isIOSDevice: ${isIOSDevice}    >> isIPadOS: ${isIPadOS}`);\n    // 如果是 iOS 设备或者是 iPadOS 设备，返回 true\n    return isIOSDevice || isIPadOS;\n}\nfunction getLastSixMd5Hash(input) {\n    // 生成 MD5 哈希\n    const hash = crypto_js_1.default.MD5(input).toString();\n    // 获取最后六位\n    return hash.slice(-6);\n}\nfunction toSafeBase64FromBase64(base64) {\n    return base64\n        .replace(/=/g, \"\")\n        .replace(/\\+/g, \"-\")\n        .replace(/\\//g, \"_\");\n}\nfunction useShortLink() {\n    return !!window.useShortLink;\n}\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.openLink = openLink;\nexports.openLinkBlank = openLinkBlank;\nexports.openDeeplinkWithFallback = openDeeplinkWithFallback;\nexports.isMobileUserAgent = isMobileUserAgent;\nexports.getUserAgent = getUserAgent;\nexports.isOS = isOS;\nexports.isBrowser = isBrowser;\nconst ua_parser_js_1 = __importDefault(require(\"ua-parser-js\"));\nconst log_1 = require(\"./log\");\nfunction openLink(href, target = '_self') {\n    (0, log_1.logDebug)('openLink', href, target);\n    window.open(href, target, 'noopener noreferrer');\n}\nfunction openLinkBlank(href) {\n    openLink(href, '_blank');\n}\nfunction openDeeplinkWithFallback(href, fallback) {\n    const doFallback = () => {\n        if (isBrowser('safari') || (isOS('android') && isBrowser('firefox'))) {\n            // Safari does not support fallback to direct link.\n            return;\n        }\n        fallback();\n    };\n    const fallbackTimeout = setTimeout(() => doFallback(), 500);\n    window.addEventListener('blur', () => clearTimeout(fallbackTimeout), { once: true });\n    openLink(href, '_self');\n}\nfunction isMobileUserAgent() {\n    let check = false;\n    (function (a) {\n        if (/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(a) ||\n            /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(a.slice(0, 4)))\n            check = true;\n    })(navigator.userAgent ||\n        navigator.vendor ||\n        window.opera);\n    return check;\n}\nfunction getUserAgent() {\n    var _a, _b, _c;\n    const results = new ua_parser_js_1.default().getResult();\n    const osName = (_a = results.os.name) === null || _a === void 0 ? void 0 : _a.toLowerCase();\n    const deviceModel = (_b = results.device.model) === null || _b === void 0 ? void 0 : _b.toLowerCase();\n    let os;\n    switch (true) {\n        case deviceModel === 'ipad':\n            os = 'ipad';\n            break;\n        case osName === 'ios':\n            os = 'ios';\n            break;\n        case osName === 'android':\n            os = 'android';\n            break;\n        case osName === 'mac os':\n            os = 'macos';\n            break;\n        case osName === 'linux':\n            os = 'linux';\n            break;\n        case osName === null || osName === void 0 ? void 0 : osName.includes('windows'):\n            os = 'windows';\n            break;\n    }\n    const browserName = (_c = results.browser.name) === null || _c === void 0 ? void 0 : _c.toLowerCase();\n    let browser;\n    switch (true) {\n        case browserName === 'chrome':\n            browser = 'chrome';\n            break;\n        case browserName === 'firefox':\n            browser = 'firefox';\n            break;\n        case browserName === null || browserName === void 0 ? void 0 : browserName.includes('safari'):\n            browser = 'safari';\n            break;\n        case browserName === null || browserName === void 0 ? void 0 : browserName.includes('opera'):\n            browser = 'opera';\n            break;\n    }\n    return {\n        os,\n        browser\n    };\n}\nfunction isOS(...os) {\n    return os.includes(getUserAgent().os);\n}\nfunction isBrowser(...browser) {\n    return browser.includes(getUserAgent().browser);\n}\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.toUserFriendlyAddress = exports.removeUrlLastSlash = exports.addPathToUrl = exports.createVersionInfo = exports.BrowserEventDispatcher = exports.createTransactionSigningFailedEvent = exports.createTransactionSignedEvent = exports.createTransactionSentForSignatureEvent = exports.createDisconnectionEvent = exports.createConnectionStartedEvent = exports.createConnectionRestoringStartedEvent = exports.createConnectionRestoringErrorEvent = exports.createConnectionRestoringCompletedEvent = exports.createConnectionErrorEvent = exports.createConnectionCompletedEvent = exports.createResponseVersionEvent = exports.createRequestVersionEvent = exports.OKX_TON_CONNECTION_AND_TRANSACTION_EVENT = exports.OKXTonConnect = void 0;\nvar okx_connect_ton_1 = require(\"./okx-connect-ton\");\nObject.defineProperty(exports, \"OKXTonConnect\", { enumerable: true, get: function () { return okx_connect_ton_1.OKXTonConnect; } });\n__exportStar(require(\"@okxconnect/core\"), exports);\nvar tracker_1 = require(\"./tracker\");\nObject.defineProperty(exports, \"OKX_TON_CONNECTION_AND_TRANSACTION_EVENT\", { enumerable: true, get: function () { return tracker_1.OKX_TON_CONNECTION_AND_TRANSACTION_EVENT; } });\nObject.defineProperty(exports, \"createRequestVersionEvent\", { enumerable: true, get: function () { return tracker_1.createRequestVersionEvent; } });\nObject.defineProperty(exports, \"createResponseVersionEvent\", { enumerable: true, get: function () { return tracker_1.createResponseVersionEvent; } });\nObject.defineProperty(exports, \"createConnectionCompletedEvent\", { enumerable: true, get: function () { return tracker_1.createConnectionCompletedEvent; } });\nObject.defineProperty(exports, \"createConnectionErrorEvent\", { enumerable: true, get: function () { return tracker_1.createConnectionErrorEvent; } });\nObject.defineProperty(exports, \"createConnectionRestoringCompletedEvent\", { enumerable: true, get: function () { return tracker_1.createConnectionRestoringCompletedEvent; } });\nObject.defineProperty(exports, \"createConnectionRestoringErrorEvent\", { enumerable: true, get: function () { return tracker_1.createConnectionRestoringErrorEvent; } });\nObject.defineProperty(exports, \"createConnectionRestoringStartedEvent\", { enumerable: true, get: function () { return tracker_1.createConnectionRestoringStartedEvent; } });\nObject.defineProperty(exports, \"createConnectionStartedEvent\", { enumerable: true, get: function () { return tracker_1.createConnectionStartedEvent; } });\nObject.defineProperty(exports, \"createDisconnectionEvent\", { enumerable: true, get: function () { return tracker_1.createDisconnectionEvent; } });\nObject.defineProperty(exports, \"createTransactionSentForSignatureEvent\", { enumerable: true, get: function () { return tracker_1.createTransactionSentForSignatureEvent; } });\nObject.defineProperty(exports, \"createTransactionSignedEvent\", { enumerable: true, get: function () { return tracker_1.createTransactionSignedEvent; } });\nObject.defineProperty(exports, \"createTransactionSigningFailedEvent\", { enumerable: true, get: function () { return tracker_1.createTransactionSigningFailedEvent; } });\nObject.defineProperty(exports, \"BrowserEventDispatcher\", { enumerable: true, get: function () { return tracker_1.BrowserEventDispatcher; } });\nObject.defineProperty(exports, \"createVersionInfo\", { enumerable: true, get: function () { return tracker_1.createVersionInfo; } });\nvar utils_1 = require(\"./utils\");\nObject.defineProperty(exports, \"addPathToUrl\", { enumerable: true, get: function () { return utils_1.addPathToUrl; } });\nObject.defineProperty(exports, \"removeUrlLastSlash\", { enumerable: true, get: function () { return utils_1.removeUrlLastSlash; } });\nObject.defineProperty(exports, \"toUserFriendlyAddress\", { enumerable: true, get: function () { return utils_1.toUserFriendlyAddress; } });\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.OKXTonConnectInner = void 0;\nconst bridge_provider_1 = require(\"./provider/bridge/bridge-provider\");\nconst core_1 = require(\"@okxconnect/core\");\nconst feature_support_1 = require(\"./utils/feature-support\");\nconst ton_connect_tracker_1 = require(\"./tracker/ton-connect-tracker\");\nconst send_transaction_parser_1 = require(\"./parsers/send-transaction-parser\");\nconst bridge_connection_storage_1 = require(\"./provider/bridge-connection-storage\");\nconst constants_1 = require(\"./utils/constants\");\nclass OKXTonConnectInner {\n    constructor(options) {\n        this._wallet = null;\n        this.provider = null;\n        this.statusChangeSubscriptions = [];\n        this.statusChangeErrorSubscriptions = [];\n        this.openUniversalLink = this.provider ? this.provider.openUniversalLink : false;\n        if (!options.metaData) {\n            (0, core_1.logDebug)(\"OKXTonConnect constructor error: options.metaData is nil\");\n            throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, 'dapp metaData can not be null');\n        }\n        (0, core_1.logDebug)(\"OKXTonConnect constructor options:\", JSON.stringify(options));\n        this.dappSettings = {\n            metaData: Object.assign(Object.assign({}, options.metaData), { url: window.location.hostname, origin: window.location.origin }),\n        };\n        this.tracker = new ton_connect_tracker_1.TonConnectTracker({\n            OKXtonConnectSdkVersion: constants_1.OKXtonConnectSdkVersion\n        });\n        this.storage = new core_1.Storage(constants_1.OKXCONNECTOR_TON_KEY + this.dappSettings.metaData.name, constants_1.OKXCONNECTOR_TON_KEY);\n        this.bridgeConnectionStorage = new bridge_connection_storage_1.BridgeConnectionStorage(this.storage);\n    }\n    /**\n     * Shows if the wallet is connected right now.\n     */\n    get connected() {\n        return this._wallet !== null;\n    }\n    /**\n     * Current connected account or null if no account is connected.\n     */\n    get account() {\n        var _a;\n        return ((_a = this._wallet) === null || _a === void 0 ? void 0 : _a.account) || null;\n    }\n    /**\n     * Current connected wallet or null if no account is connected.\n     */\n    get wallet() {\n        return this._wallet;\n    }\n    set wallet(value) {\n        this._wallet = value;\n        this.statusChangeSubscriptions.forEach(callback => callback(this._wallet));\n    }\n    connect(request) {\n        return __awaiter(this, void 0, void 0, function* () {\n            var _a;\n            (0, core_1.logDebug)('ton-Connect ==>> connect_1 >> request:', request);\n            if (this.connected) {\n                (0, core_1.logError)(\"It's already connected to OKX Wallet, please call disconnect() first\");\n            }\n            yield ((_a = this.provider) === null || _a === void 0 ? void 0 : _a.closeConnection(false, true));\n            if (!this.provider) {\n                this.provider = new bridge_provider_1.BridgeProvider(this.storage, this.dappSettings.metaData.name);\n            }\n            this.provider.listen(this.walletEventsListener.bind(this));\n            this.tracker.trackConnectionStarted();\n            return yield this.provider.connect(this.createConnectRequest(request), request === null || request === void 0 ? void 0 : request.redirect, request === null || request === void 0 ? void 0 : request.openUniversalLink, request === null || request === void 0 ? void 0 : request.tmaReturnUrl);\n        });\n    }\n    walletEventsListener(e) {\n        (0, core_1.logDebug)('ton-Connect ==>> walletEventsListener_1 >> e:', e);\n        switch (e.event) {\n            case 'connect':\n                this.onWalletConnected(e.payload);\n                break;\n            case 'connect_error':\n                this.onWalletConnectError(e.payload);\n                break;\n            case 'disconnect':\n                this.onWalletDisconnected('wallet');\n        }\n    }\n    onWalletConnected(connectEvent) {\n        (0, core_1.logDebug)('ton-Connect ==>> onWalletConnected_1 >> connectEvent:', connectEvent);\n        const tonAccountItem = connectEvent.items.find(item => item.name === 'ton_addr');\n        const tonProofItem = connectEvent.items.find(item => item.name === 'ton_proof');\n        if (!tonAccountItem) {\n            throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, 'ton_addr connection item was not found');\n        }\n        const wallet = {\n            device: connectEvent.device,\n            provider: this.provider.type,\n            account: {\n                address: tonAccountItem.address,\n                chain: tonAccountItem.network,\n                walletStateInit: tonAccountItem.walletStateInit,\n                publicKey: tonAccountItem.publicKey\n            }\n        };\n        if (tonProofItem) {\n            wallet.connectItems = {\n                tonProof: tonProofItem\n            };\n        }\n        this.wallet = wallet;\n        (0, core_1.logDebug)('ton-Connect ==>> onWalletConnected_2 >> wallet:', wallet);\n        this.tracker.trackConnectionCompleted(wallet);\n    }\n    onWalletConnectError(connectEventError) {\n        var _a;\n        (0, core_1.logDebug)('ton-Connect ==>> onWalletConnectError_1 >> connectEventError:', connectEventError);\n        const error = new core_1.OKXConnectError(connectEventError.code, connectEventError.message);\n        (0, core_1.logDebug)('ton-Connect ==>> onWalletConnectError_1 >> error:', error);\n        this.statusChangeErrorSubscriptions.forEach(errorsHandler => errorsHandler(error));\n        this.tracker.trackConnectionError((_a = connectEventError.message) !== null && _a !== void 0 ? _a : \"\", connectEventError.code);\n    }\n    onWalletDisconnected(scope) {\n        this.tracker.trackDisconnection(this.wallet, scope);\n        this.wallet = null;\n    }\n    disconnect() {\n        return __awaiter(this, void 0, void 0, function* () {\n            var _a;\n            (0, core_1.logDebug)('ton-Connect ==>> disconnect_1');\n            if (!this.connected) {\n                throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR, 'wallet is not connected');\n            }\n            (0, core_1.logDebug)('ton-Connect ==>> disconnect_222');\n            this.onWalletDisconnected('dapp');\n            yield ((_a = this.provider) === null || _a === void 0 ? void 0 : _a.disconnect());\n        });\n    }\n    onStatusChange(callback, errorsHandler) {\n        this.statusChangeSubscriptions.push(callback);\n        if (errorsHandler) {\n            this.statusChangeErrorSubscriptions.push(errorsHandler);\n        }\n        return () => {\n            this.statusChangeSubscriptions = this.statusChangeSubscriptions.filter(item => item !== callback);\n            if (errorsHandler) {\n                this.statusChangeErrorSubscriptions = this.statusChangeErrorSubscriptions.filter(item => item !== errorsHandler);\n            }\n        };\n    }\n    restoreConnection() {\n        return __awaiter(this, void 0, void 0, function* () {\n            var _a;\n            (0, core_1.logDebug)('ton-Connect ==>> restoreConnection_1');\n            this.tracker.trackConnectionRestoringStarted();\n            let provider = null;\n            try {\n                provider = yield bridge_provider_1.BridgeProvider.fromStorage(this.storage, this.dappSettings.metaData.name);\n            }\n            catch (_b) {\n                this.tracker.trackConnectionRestoringError('Provider is not restored');\n                yield this.bridgeConnectionStorage.removeConnection();\n                provider === null || provider === void 0 ? void 0 : provider.closeConnection();\n                provider = null;\n                return;\n            }\n            if (!provider) {\n                (0, core_1.logError)('Provider is not restored');\n                this.tracker.trackConnectionRestoringError('Provider is not restored');\n                return;\n            }\n            (0, core_1.logDebug)('ton-Connect ==>> restoreConnection_2 ==>> Provider is restored ');\n            (_a = this.provider) === null || _a === void 0 ? void 0 : _a.closeConnection(true, false);\n            this.provider = provider;\n            provider.listen(this.walletEventsListener.bind(this));\n            yield this.provider.restoreConnection();\n            if (this.connected) {\n                this.tracker.trackConnectionRestoringCompleted(this.wallet);\n            }\n            else {\n                this.tracker.trackConnectionRestoringError('Connection restoring failed');\n            }\n        });\n    }\n    sendTransaction(transaction, options) {\n        return __awaiter(this, void 0, void 0, function* () {\n            var _a;\n            (0, core_1.logDebug)('ton-Connect ==>> sendTransaction_1', transaction);\n            this.checkConnection();\n            (0, feature_support_1.checkSendTransactionSupport)(this.wallet.device.features, {\n                requiredMessagesNumber: transaction.messages.length\n            });\n            this.tracker.trackTransactionSentForSignature(this.wallet, transaction);\n            (0, core_1.logDebug)('ton-Connect ==>> sendTransaction_2 ==>> check params');\n            const { validUntil } = transaction, tx = __rest(transaction, [\"validUntil\"]);\n            const from = transaction.from || this.account.address;\n            let network = this.account.chain;\n            (0, core_1.logDebug)('ton-Connect ==>> sendTransaction_2 ==>> await sendRequest', network);\n            if ((0, core_1.isIos)() && !(options === null || options === void 0 ? void 0 : options.doNotOpenWallet)) {\n                (_a = this.provider) === null || _a === void 0 ? void 0 : _a.openOKXWallet();\n            }\n            const response = yield this.provider.sendRequest(send_transaction_parser_1.sendTransactionParser.convertToRpcRequest(Object.assign(Object.assign({}, tx), { valid_until: validUntil, from,\n                network })), {\n                onRequestSent: () => {\n                    var _a, _b;\n                    if (!(0, core_1.isIos)() && !(options === null || options === void 0 ? void 0 : options.doNotOpenWallet)) {\n                        (_a = this.provider) === null || _a === void 0 ? void 0 : _a.openOKXWallet();\n                    }\n                    (_b = options === null || options === void 0 ? void 0 : options.onRequestSent) === null || _b === void 0 ? void 0 : _b.call(options);\n                }\n            });\n            (0, core_1.logDebug)('ton-Connect ==>> sendTransaction_3 ==>>sendRequest response:', response);\n            if (send_transaction_parser_1.sendTransactionParser.isError(response)) {\n                this.tracker.trackTransactionSigningFailed(this.wallet, transaction, response.error.message, response.error.code);\n                throw new core_1.OKXConnectError(response.error.code, response.error.message);\n            }\n            const result = send_transaction_parser_1.sendTransactionParser.convertFromRpcResponse(response);\n            this.tracker.trackTransactionSigned(this.wallet, transaction, result);\n            return result;\n        });\n    }\n    checkConnection() {\n        (0, core_1.logDebug)('ton-Connect ==>> checkConnection');\n        if (!this.connected) {\n            throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR, \"Wallet not connected\");\n        }\n    }\n    createConnectRequest(request) {\n        (0, core_1.logDebug)('ton-Connect ==>> createConnectRequest');\n        const params = {\n            ton_addr: {\n                name: 'ton_addr'\n            }\n        };\n        if (request === null || request === void 0 ? void 0 : request.tonProof) {\n            params.ton_proof = {\n                name: 'ton_proof',\n                payload: request.tonProof\n            };\n        }\n        return {\n            dappInfo: this.dappSettings.metaData,\n            params: params\n        };\n    }\n    static getWallets() {\n        return this.walletsList;\n    }\n}\nexports.OKXTonConnectInner = OKXTonConnectInner;\nOKXTonConnectInner.walletsList = [(0, core_1.creatOKXWalletInfo)()];\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.OKXTonConnect = void 0;\nconst core_1 = require(\"@okxconnect/core\");\nconst okx_connect_ton_inner_1 = require(\"./okx-connect-ton-inner\");\nclass OKXTonConnect {\n    constructor(options) {\n        try {\n            (0, core_1.logDebug)('OKXTonConnect constructor called');\n            if (window && window.okxConnectTonsdkinwindow && window.okxConnectTonsdkinwindow instanceof okx_connect_ton_inner_1.OKXTonConnectInner) {\n                this.tonInner = window.okxConnectTonsdkinwindow;\n                (0, core_1.logDebug)('OKXTonConnect constructor old called');\n            }\n            else {\n                this.tonInner = new okx_connect_ton_inner_1.OKXTonConnectInner(options);\n                (0, core_1.logDebug)('OKXTonConnect constructor new called');\n                if (window) {\n                    window.okxConnectTonsdkinwindow = this.tonInner;\n                }\n            }\n        }\n        catch (error) {\n            throw error;\n        }\n    }\n    /**\n     * Shows if the wallet is connected right now.\n     */\n    get connected() {\n        return this.tonInner.connected;\n    }\n    get openUniversalLink() {\n        return this.tonInner.openUniversalLink;\n    }\n    get provider() {\n        return this.tonInner.provider;\n    }\n    /**\n     * Current connected account or null if no account is connected.\n     */\n    get account() {\n        return this.tonInner.account;\n    }\n    /**\n     * Current connected wallet or null if no account is connected.\n     */\n    get wallet() {\n        return this.tonInner.wallet;\n    }\n    set wallet(value) {\n        this.tonInner.wallet = value;\n    }\n    connect(request) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return this.tonInner.connect(request);\n        });\n    }\n    disconnect() {\n        return __awaiter(this, void 0, void 0, function* () {\n            return this.tonInner.disconnect();\n        });\n    }\n    onStatusChange(callback, errorsHandler) {\n        return this.tonInner.onStatusChange(callback, errorsHandler);\n    }\n    restoreConnection() {\n        return __awaiter(this, void 0, void 0, function* () {\n            return this.tonInner.restoreConnection();\n        });\n    }\n    sendTransaction(transaction, options) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return this.tonInner.sendTransaction(transaction, options);\n        });\n    }\n    static getWallets() {\n        return okx_connect_ton_inner_1.OKXTonConnectInner.getWallets();\n    }\n}\nexports.OKXTonConnect = OKXTonConnect;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.RpcParser = void 0;\nclass RpcParser {\n    isError(response) {\n        return 'error' in response;\n    }\n}\nexports.RpcParser = RpcParser;\n","\"use strict\";\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.sendTransactionParser = void 0;\nconst rpc_parser_1 = require(\"./rpc-parser\");\nclass SendTransactionParser extends rpc_parser_1.RpcParser {\n    convertToRpcRequest(request) {\n        const { redirect } = request, params = __rest(request, [\"redirect\"]);\n        return {\n            method: \"ton_sendTransaction\",\n            redirect: redirect,\n            params: params,\n        };\n    }\n    convertFromRpcResponse(rpcResponse) {\n        return {\n            boc: rpcResponse.result.toString()\n        };\n    }\n}\nexports.sendTransactionParser = new SendTransactionParser();\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BridgeConnectionStorage = void 0;\nconst core_1 = require(\"@okxconnect/core\");\nclass BridgeConnectionStorage {\n    constructor(storage) {\n        this.storage = storage;\n        this.storeKey = 'ton_connect_info_adapter_universal';\n    }\n    storeConnection(connection) {\n        return __awaiter(this, void 0, void 0, function* () {\n            (0, core_1.logDebug)(\"BridgeConnectionStorage ==>> storeConnection ==>> connection:\", connection);\n            return this.storage.saveContent(JSON.stringify(connection), this.storeKey);\n        });\n    }\n    removeConnection() {\n        return __awaiter(this, void 0, void 0, function* () {\n            (0, core_1.logDebug)(\"BridgeConnectionStorage ==>> removeConnection\");\n            return this.storage.clearCache(this.storeKey);\n        });\n    }\n    getConnection() {\n        return __awaiter(this, void 0, void 0, function* () {\n            const stored = this.storage.getItem(this.storeKey);\n            (0, core_1.logDebug)(\"BridgeConnectionStorage ==>> getConnection ==>>this.storage: \", this.storage);\n            if (!stored || !(stored === null || stored === void 0 ? void 0 : stored.content)) {\n                return null;\n            }\n            try {\n                const content = stored === null || stored === void 0 ? void 0 : stored.content;\n                if (content) {\n                    let connection;\n                    connection = JSON.parse(content);\n                    (0, core_1.logDebug)(\"BridgeConnectionStorage ==>> getConnection ==>>connection: \", connection);\n                    return connection;\n                }\n                else {\n                    return null;\n                }\n            }\n            catch (error) {\n                return null;\n            }\n        });\n    }\n    getHttpConnection() {\n        return __awaiter(this, void 0, void 0, function* () {\n            const connection = yield this.getConnection();\n            if (!connection) {\n                throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, 'Trying to read HTTP connection source while nothing is stored');\n            }\n            return connection;\n        });\n    }\n    storeLastWalletEventId(id) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const connection = yield this.getConnection();\n            if (connection && ('connectEvent' in connection)) {\n                connection.lastWalletEventId = id;\n                return this.storeConnection(connection);\n            }\n        });\n    }\n    getLastWalletEventId() {\n        return __awaiter(this, void 0, void 0, function* () {\n            const connection = yield this.getConnection();\n            if (connection && 'lastWalletEventId' in connection) {\n                return connection.lastWalletEventId;\n            }\n            return undefined;\n        });\n    }\n}\nexports.BridgeConnectionStorage = BridgeConnectionStorage;\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BridgeProvider = void 0;\nconst bridge_connection_1 = require(\"./models/bridge-connection\");\nconst core_1 = require(\"@okxconnect/core\");\nconst bridge_connection_storage_1 = require(\"../bridge-connection-storage\");\nconst constants_1 = require(\"../../utils/constants\");\nconst ton_connect_tracker_1 = require(\"../../tracker/ton-connect-tracker\");\nclass BridgeProvider {\n    constructor(storage, appname = undefined) {\n        this.storage = storage;\n        this.type = 'http';\n        this.listeners = [];\n        this.walletConnectionSource = { \"universalLink\": core_1.standardUniversalLink };\n        this.openUniversalLink = false;\n        this.connectManager = new core_1.ConnectionManager(appname);\n        this.engine = new core_1.Engine(this.connectManager);\n        this.connectionStorage = new bridge_connection_storage_1.BridgeConnectionStorage(storage);\n        this.tracker = new ton_connect_tracker_1.TonConnectTracker({\n            OKXtonConnectSdkVersion: constants_1.OKXtonConnectSdkVersion\n        });\n        (0, core_1.getDefaultReporter)().configVersionAndSide('tonsdk-1.5.2', 'dapp', appname);\n    }\n    static fromStorage(storage_1) {\n        return __awaiter(this, arguments, void 0, function* (storage, appname = undefined) {\n            (0, core_1.logDebug)('bridge-provider ==>> fromStorage ==>>storage:', storage);\n            (0, core_1.reportLog)('bridge-provider ==>> fromStorage');\n            const bridgeConnectionStorage = new bridge_connection_storage_1.BridgeConnectionStorage(storage);\n            const connection = yield bridgeConnectionStorage.getHttpConnection();\n            if ((0, bridge_connection_1.isPendingConnectionHttp)(connection)) {\n                return null;\n            }\n            const provider = new BridgeProvider(storage, appname);\n            provider.openUniversalLink = connection.openUniversalLink;\n            return provider;\n        });\n    }\n    connect(message, redirect, openUniversalLink, tmaReturnUrl) {\n        return __awaiter(this, void 0, void 0, function* () {\n            (0, core_1.logDebug)('bridge-provider ==>> connect_1 ==>>message:', message);\n            (0, core_1.logDebug)('bridge-provider ==>> connect_1 ==>>redirect:', redirect);\n            (0, core_1.logDebug)('bridge-provider ==>> connect_1 ==>>openUniversalLink:', openUniversalLink);\n            (0, core_1.logDebug)('bridge-provider ==>> connect_1 ==>>tmaReturnUrl:', tmaReturnUrl);\n            (0, core_1.reportLog)('bridge-provider ==>> connect');\n            return new Promise((resolve, reject) => {\n                try {\n                    this.openUniversalLink = openUniversalLink;\n                    if (this.openUniversalLink === undefined) {\n                        this.openUniversalLink = (0, core_1.isMobileUserAgent)();\n                    }\n                    let tonNameSpace = {\n                        namespace: \"ton\",\n                        chains: [\"ton:-239\"],\n                        params: message.params,\n                    };\n                    let tonRequest = {\n                        name: \"requestAccounts\",\n                        requiredNamespaces: [tonNameSpace]\n                    };\n                    let engineRequest = [];\n                    // Easy to identify tonsdk\n                    if (message.params.ton_addr) {\n                        engineRequest.push(message.params.ton_addr);\n                    }\n                    if (message.params.ton_proof) {\n                        engineRequest.push(message.params.ton_proof);\n                    }\n                    engineRequest.push(tonRequest); //Universal data\n                    let config = {\n                        dappInfo: message.dappInfo,\n                        openUniversalUrl: this.openUniversalLink,\n                        redirect: redirect,\n                        tmaReturnUrl: tmaReturnUrl,\n                    };\n                    this.engine.universalConnect(engineRequest, config, (info) => {\n                        (0, core_1.logDebug)(`bridge-provider: connect: info>>>> ${JSON.stringify(info)}`);\n                        try {\n                            if (!info.tonConnectRequest) {\n                                throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, 'universalConnect connectInfoAndUrl info.tonConnectRequest is nil');\n                            }\n                            const base64Encoded = (0, core_1.encodeConnectParams)(info.tonConnectRequest);\n                            const deepLink = (0, core_1.getAppWalletDeepLink)(base64Encoded);\n                            const universalUrl = (0, core_1.getUniversalLink)(deepLink);\n                            this.tracker.trackConnectionInfoBeforeJump(info);\n                            resolve(universalUrl);\n                        }\n                        catch (error) {\n                            reject(error);\n                        }\n                    }).then((session) => {\n                        (0, core_1.logDebug)(`bridge-provider: connect: success>>>> ${JSON.stringify(session)}`);\n                        this.connectSuccessHandle(session);\n                    }).catch((e) => {\n                        (0, core_1.logDebug)(`bridge-provider: connect: catch>>>> ${JSON.stringify(e)}`);\n                        const errorMessage = {\n                            event: 'connect_error',\n                            requestId: Number(Date.now()),\n                            payload: {\n                                code: e.code,\n                                message: e.message,\n                            },\n                        };\n                        (0, core_1.logDebug)('bridge-provider ==>> connectListener_4 ==>>connect_error:', errorMessage);\n                        this.listeners.forEach(listener => listener(errorMessage));\n                        reject(e);\n                    });\n                }\n                catch (error) {\n                    console.error('bridge-provider connect try catch error:>>>', JSON.stringify(error));\n                    reject(error);\n                }\n            });\n        });\n    }\n    listen(callback) {\n        this.listeners.push(callback);\n        return () => (this.listeners = this.listeners.filter(listener => listener !== callback));\n    }\n    disconnectListener() {\n        return __awaiter(this, void 0, void 0, function* () {\n            (0, core_1.logDebug)('bridge-provider ==>> disconnectListener');\n            (0, core_1.reportLog)('bridge-provider ==>> disconnectListener');\n            const disconnectMessage = {\n                event: 'disconnect',\n                requestId: Number(1),\n                payload: {},\n            };\n            this.listeners.forEach(listener => listener(disconnectMessage));\n            yield this.closeConnection();\n        });\n    }\n    connectSuccessHandle(response) {\n        return __awaiter(this, void 0, void 0, function* () {\n            var _a, _b;\n            try {\n                const namespaces = (_a = response.namespaces) === null || _a === void 0 ? void 0 : _a[\"ton\"];\n                const payload = namespaces.payload;\n                const wallet = response.wallet;\n                if (!namespaces || !payload || !wallet || !payload.ton_addr) {\n                    throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR);\n                }\n                const ton_addr = payload.ton_addr;\n                const sessionConfig = response.sessionConfig;\n                let itemArr = [];\n                if (payload.ton_addr) {\n                    itemArr.push(payload.ton_addr);\n                }\n                if (payload.ton_proof) {\n                    itemArr.push(payload.ton_proof);\n                }\n                const tonDeviceInfo = {\n                    platform: wallet.platform,\n                    appName: wallet.appName,\n                    appVersion: wallet.appVersion,\n                    maxProtocolVersion: wallet.maxProtocolVersion,\n                    features: ['ton_sendTransaction'],\n                };\n                const tonConnectInfo = {\n                    type: 'http',\n                    lastWalletEventId: Number(Date.now()),\n                    connectEvent: {\n                        event: 'connect',\n                        payload: {\n                            items: itemArr,\n                            device: tonDeviceInfo,\n                        },\n                    },\n                    connectionSource: this.walletConnectionSource,\n                    channelId: response.topic,\n                    openUniversalLink: sessionConfig === null || sessionConfig === void 0 ? void 0 : sessionConfig.openUniversalUrl,\n                };\n                (0, core_1.logDebug)('bridge-provider ==>> connectSuccessHandle_2 ==>>storeConnection:', tonConnectInfo);\n                yield this.connectionStorage.storeConnection(tonConnectInfo);\n                (_b = this.engine) === null || _b === void 0 ? void 0 : _b.addDisconnectListener(this.disconnectListener.bind(this));\n                const successMessage = {\n                    event: 'connect',\n                    requestId: tonConnectInfo.lastWalletEventId,\n                    payload: tonConnectInfo.connectEvent.payload,\n                };\n                (0, core_1.logDebug)('bridge-provider ==>> connectSuccessHandle_3 ==>>listeners.forEach:', successMessage);\n                this.listeners.forEach(listener => listener(successMessage));\n            }\n            catch (error) {\n                (0, core_1.logDebug)('bridge-provider ==>> connectSuccessHandle_4 ==>>error:', error);\n                const errorMessage = {\n                    event: 'connect_error',\n                    requestId: Number(Date.now()),\n                    payload: {\n                        code: core_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,\n                        message: \"Connect success  connectSuccessHandle response error\",\n                    },\n                };\n                (0, core_1.logDebug)('bridge-provider ==>> connectSuccessHandle_4 ==>>connect_error:', errorMessage);\n                this.listeners.forEach(listener => listener(errorMessage));\n            }\n        });\n    }\n    closeConnection() {\n        return __awaiter(this, arguments, void 0, function* (fromRestore = false, needOpenUrl = false) {\n            var _a, _b;\n            (0, core_1.logDebug)('bridge-provider ==>> closeConnection ==>>fromRestore:', fromRestore, ' needOpenUrl:', needOpenUrl);\n            (0, core_1.reportLog)('bridge-provider ==>> closeConnection');\n            this.listeners = [];\n            if (!needOpenUrl) {\n                yield ((_a = this.connectManager) === null || _a === void 0 ? void 0 : _a.disconnect(fromRestore));\n            }\n            if (!fromRestore) {\n                (_b = this.engine) === null || _b === void 0 ? void 0 : _b.disconnect();\n                yield this.connectionStorage.removeConnection();\n            }\n        });\n    }\n    restoreConnection() {\n        return __awaiter(this, void 0, void 0, function* () {\n            var _a;\n            (0, core_1.logDebug)('bridge-provider ==>> restoreConnection_1');\n            (0, core_1.reportLog)('bridge-provider ==>> restoreConnection');\n            const storedConnection = yield this.connectionStorage.getHttpConnection();\n            if (!storedConnection) {\n                return;\n            }\n            if ((0, bridge_connection_1.isPendingConnectionHttp)(storedConnection)) {\n                return;\n            }\n            (0, core_1.logDebug)('bridge-provider ==>> restoreConnection_2 ==>>storedConnection.channelId:', storedConnection.channelId);\n            if (storedConnection.channelId) {\n                try {\n                    const successMessage = {\n                        event: 'connect',\n                        requestId: Number(0),\n                        payload: storedConnection.connectEvent.payload,\n                    };\n                    this.listeners.forEach(listener => listener(successMessage));\n                    const channelId = storedConnection.channelId;\n                    (0, core_1.logDebug)('bridge-provider ==>> restoreConnection_3 ==>>this.connectManager.restoreConnect:', channelId);\n                    (_a = this.engine) === null || _a === void 0 ? void 0 : _a.addDisconnectListener(this.disconnectListener.bind(this));\n                    yield this.connectManager.restoreConnect(channelId);\n                }\n                catch (e) {\n                    (0, core_1.logDebug)('bridge-provider ==>> restoreConnection_4 ==>>closeConnection_1');\n                    yield this.closeConnection();\n                }\n            }\n            else {\n                (0, core_1.logDebug)('bridge-provider ==>> restoreConnection_4 ==>>closeConnection_2');\n                yield this.closeConnection();\n            }\n        });\n    }\n    openOKXWallet() {\n        (0, core_1.logDebug)('bridge-provider ==>> openOKXWallet', this.openUniversalLink);\n        (0, core_1.reportLog)('bridge-provider ==>> openOKXWallet');\n        if (this.openUniversalLink) {\n            (0, core_1.openOKXDeeplink)(core_1.standardDeeplink);\n        }\n    }\n    disconnect() {\n        return __awaiter(this, void 0, void 0, function* () {\n            (0, core_1.logDebug)('bridge-provider ==>> disconnect_1');\n            (0, core_1.reportLog)('bridge-provider ==>> disconnect');\n            return new Promise((resolve) => __awaiter(this, void 0, void 0, function* () {\n                let called = false;\n                const onRequestSent = () => {\n                    if (!called) {\n                        called = true;\n                        this.closeConnection().then(resolve);\n                    }\n                };\n                try {\n                    yield this.sendRequest({ method: 'disconnect' }, { onRequestSent: onRequestSent, attempts: 1 });\n                }\n                catch (e) {\n                    if (!called) {\n                        this.closeConnection().then(resolve);\n                    }\n                }\n                finally {\n                    onRequestSent();\n                }\n            }));\n        });\n    }\n    sendRequest(request, options, ttl) {\n        (0, core_1.logDebug)('bridge-provider ==>> sendRequest');\n        (0, core_1.reportLog)('bridge-provider ==>> sendRequest');\n        return new Promise((resolve, reject) => __awaiter(this, void 0, void 0, function* () {\n            var _a;\n            try {\n                yield ((_a = this.engine) === null || _a === void 0 ? void 0 : _a.send(request, {\n                    resolve: function (response) {\n                        resolve(response);\n                    },\n                    onAck: function () {\n                        var _a;\n                        (_a = options === null || options === void 0 ? void 0 : options.onRequestSent) === null || _a === void 0 ? void 0 : _a.call(options);\n                    }\n                }, { attempts: options === null || options === void 0 ? void 0 : options.attempts }, ttl));\n            }\n            catch (e) {\n                reject(e);\n            }\n        }));\n    }\n}\nexports.BridgeProvider = BridgeProvider;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isPendingConnectionHttp = isPendingConnectionHttp;\nfunction isPendingConnectionHttp(connection) {\n    return !('connectEvent' in connection);\n}\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BrowserEventDispatcher = void 0;\n/**\n * A concrete implementation of EventDispatcher that dispatches events to the browser window.\n */\nclass BrowserEventDispatcher {\n    constructor() {\n        /**\n         * The window object, possibly undefined in a server environment.\n         * @private\n         */\n        this.window = window;\n    }\n    /**\n     * Dispatches an event with the given name and details to the browser window.\n     * @param eventName - The name of the event to dispatch.\n     * @param eventDetails - The details of the event to dispatch.\n     * @returns A promise that resolves when the event has been dispatched.\n     */\n    dispatchEvent(eventName, eventDetails) {\n        return __awaiter(this, void 0, void 0, function* () {\n            var _a;\n            const event = new CustomEvent(eventName, { detail: eventDetails });\n            (_a = this.window) === null || _a === void 0 ? void 0 : _a.dispatchEvent(event);\n        });\n    }\n    /**\n     * Adds an event listener to the browser window.\n     * @param eventName - The name of the event to listen for.\n     * @param listener - The listener to add.\n     * @param options - The options for the listener.\n     * @returns A function that removes the listener.\n     */\n    addEventListener(eventName, listener, options) {\n        return __awaiter(this, void 0, void 0, function* () {\n            var _a;\n            (_a = this.window) === null || _a === void 0 ? void 0 : _a.addEventListener(eventName, listener, options);\n            return () => {\n                var _a;\n                return (_a = this.window) === null || _a === void 0 ? void 0 : _a.removeEventListener(eventName, listener);\n            };\n        });\n    }\n}\nexports.BrowserEventDispatcher = BrowserEventDispatcher;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BrowserEventDispatcher = exports.createVersionInfo = exports.createTransactionSigningFailedEvent = exports.createTransactionSignedEvent = exports.createTransactionSentForSignatureEvent = exports.createDisconnectionEvent = exports.createConnectionStartedEvent = exports.createConnectionRestoringStartedEvent = exports.createConnectionRestoringErrorEvent = exports.createConnectionRestoringCompletedEvent = exports.createConnectionErrorEvent = exports.createConnectionCompletedEvent = exports.createResponseVersionEvent = exports.createRequestVersionEvent = exports.OKX_TON_CONNECTION_AND_TRANSACTION_EVENT = void 0;\nvar tracker_constants_1 = require(\"./tracker-constants\");\nObject.defineProperty(exports, \"OKX_TON_CONNECTION_AND_TRANSACTION_EVENT\", { enumerable: true, get: function () { return tracker_constants_1.OKX_TON_CONNECTION_AND_TRANSACTION_EVENT; } });\nvar types_1 = require(\"./types\");\nObject.defineProperty(exports, \"createRequestVersionEvent\", { enumerable: true, get: function () { return types_1.createRequestVersionEvent; } });\nObject.defineProperty(exports, \"createResponseVersionEvent\", { enumerable: true, get: function () { return types_1.createResponseVersionEvent; } });\nObject.defineProperty(exports, \"createConnectionCompletedEvent\", { enumerable: true, get: function () { return types_1.createConnectionCompletedEvent; } });\nObject.defineProperty(exports, \"createConnectionErrorEvent\", { enumerable: true, get: function () { return types_1.createConnectionErrorEvent; } });\nObject.defineProperty(exports, \"createConnectionRestoringCompletedEvent\", { enumerable: true, get: function () { return types_1.createConnectionRestoringCompletedEvent; } });\nObject.defineProperty(exports, \"createConnectionRestoringErrorEvent\", { enumerable: true, get: function () { return types_1.createConnectionRestoringErrorEvent; } });\nObject.defineProperty(exports, \"createConnectionRestoringStartedEvent\", { enumerable: true, get: function () { return types_1.createConnectionRestoringStartedEvent; } });\nObject.defineProperty(exports, \"createConnectionStartedEvent\", { enumerable: true, get: function () { return types_1.createConnectionStartedEvent; } });\nObject.defineProperty(exports, \"createDisconnectionEvent\", { enumerable: true, get: function () { return types_1.createDisconnectionEvent; } });\nObject.defineProperty(exports, \"createTransactionSentForSignatureEvent\", { enumerable: true, get: function () { return types_1.createTransactionSentForSignatureEvent; } });\nObject.defineProperty(exports, \"createTransactionSignedEvent\", { enumerable: true, get: function () { return types_1.createTransactionSignedEvent; } });\nObject.defineProperty(exports, \"createTransactionSigningFailedEvent\", { enumerable: true, get: function () { return types_1.createTransactionSigningFailedEvent; } });\nObject.defineProperty(exports, \"createVersionInfo\", { enumerable: true, get: function () { return types_1.createVersionInfo; } });\nvar browser_event_dispatcher_1 = require(\"./browser-event-dispatcher\");\nObject.defineProperty(exports, \"BrowserEventDispatcher\", { enumerable: true, get: function () { return browser_event_dispatcher_1.BrowserEventDispatcher; } });\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TonConnectTracker = void 0;\nconst types_1 = require(\"./types\");\nconst browser_event_dispatcher_1 = require(\"./browser-event-dispatcher\");\n/**\n * Tracker for TonConnect user actions, such as transaction signing, connection, etc.\n *\n * List of events:\n *  * `connection-started`: when a user starts connecting a wallet.\n *  * `connection-completed`: when a user successfully connected a wallet.\n *  * `connection-error`: when a user cancels a connection or there is an error during the connection process.\n *  * `connection-restoring-started`: when the dApp starts restoring a connection.\n *  * `connection-restoring-completed`: when the dApp successfully restores a connection.\n *  * `connection-restoring-error`: when the dApp fails to restore a connection.\n *  * `disconnection`: when a user starts disconnecting a wallet.\n *  * `transaction-sent-for-signature`: when a user sends a transaction for signature.\n *  * `transaction-signed`: when a user successfully signs a transaction.\n *  * `transaction-signing-failed`: when a user cancels transaction signing or there is an error during the signing process.\n *\n\n *\n * @internal\n */\nclass TonConnectTracker {\n    /**\n     * Version of the library.\n     */\n    get version() {\n        return (0, types_1.createVersionInfo)({\n            okx_ton_connect_sdk_lib: this.OKXtonConnectSdkVersion,\n            okx_connect_ui_lib: this.OKXConnectUiVersion,\n        });\n    }\n    constructor(options) {\n        /**\n         * Event prefix for user actions.\n         * @private\n         */\n        this.eventPrefix = 'okx-ton-connect-';\n        this.OKXConnectUiVersion = null;\n        this.eventDispatcher = new browser_event_dispatcher_1.BrowserEventDispatcher();\n        this.OKXtonConnectSdkVersion = options.OKXtonConnectSdkVersion;\n        this.init().catch();\n    }\n    init() {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                yield this.setRequestVersionHandler();\n                this.OKXConnectUiVersion = yield this.requestTonConnectUiVersion();\n            }\n            catch (e) { }\n        });\n    }\n    /**\n     * Set request version handler.\n     * @private\n     */\n    setRequestVersionHandler() {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield this.eventDispatcher.addEventListener('okx-ton-connect-request-version', () => __awaiter(this, void 0, void 0, function* () {\n                yield this.eventDispatcher.dispatchEvent('okx-ton-connect-response-version', (0, types_1.createResponseVersionEvent)(this.OKXtonConnectSdkVersion));\n            }));\n        });\n    }\n    /**\n     * Request TonConnect UI version.\n     * @private\n     */\n    requestTonConnectUiVersion() {\n        return __awaiter(this, void 0, void 0, function* () {\n            return new Promise((resolve, reject) => __awaiter(this, void 0, void 0, function* () {\n                try {\n                    yield this.eventDispatcher.addEventListener('okx-connect-ui-response-version', (event) => {\n                        resolve(event.detail.version);\n                    }, { once: true });\n                    yield this.eventDispatcher.dispatchEvent('okx-connect-ui-request-version', (0, types_1.createRequestVersionEvent)());\n                }\n                catch (e) {\n                    reject(e);\n                }\n            }));\n        });\n    }\n    /**\n     * Emit user action event to the window.\n     * @param eventDetails\n     * @private\n     */\n    dispatchUserActionEvent(eventDetails) {\n        try {\n            this.eventDispatcher\n                .dispatchEvent(`${this.eventPrefix}${eventDetails.type}`, eventDetails)\n                .catch();\n        }\n        catch (e) { }\n    }\n    /**\n     * Track connection init event.\n     * @param args\n     */\n    trackConnectionStarted(...args) {\n        try {\n            const event = (0, types_1.createConnectionStartedEvent)(this.version, ...args);\n            this.dispatchUserActionEvent(event);\n        }\n        catch (e) { }\n    }\n    /**\n     * Track connection connecting event.\n     * @param args\n     */\n    trackConnectionDeepLink(...args) {\n        try {\n            const event = (0, types_1.createConnectionDeepLinkEvent)(...args);\n            this.dispatchUserActionEvent(event);\n        }\n        catch (e) { }\n    }\n    /**\n     * Track connection success event.\n     * @param args\n     */\n    trackConnectionCompleted(...args) {\n        try {\n            const event = (0, types_1.createConnectionCompletedEvent)(this.version, ...args);\n            this.dispatchUserActionEvent(event);\n        }\n        catch (e) { }\n    }\n    trackConnectionInfoBeforeJump(args) {\n        try {\n            const event = (0, types_1.createConnectionInfoBeforeJumpEvent)(args);\n            this.dispatchUserActionEvent(event);\n        }\n        catch (e) { }\n    }\n    /**\n     * Track connection error event.\n     * @param args\n     */\n    trackConnectionError(...args) {\n        try {\n            const event = (0, types_1.createConnectionErrorEvent)(this.version, ...args);\n            this.dispatchUserActionEvent(event);\n        }\n        catch (e) { }\n    }\n    /**\n     * Track connection restoring init event.\n     * @param args\n     */\n    trackConnectionRestoringStarted(...args) {\n        try {\n            const event = (0, types_1.createConnectionRestoringStartedEvent)(this.version, ...args);\n            this.dispatchUserActionEvent(event);\n        }\n        catch (e) { }\n    }\n    /**\n     * Track connection restoring success event.\n     * @param args\n     */\n    trackConnectionRestoringCompleted(...args) {\n        try {\n            const event = (0, types_1.createConnectionRestoringCompletedEvent)(this.version, ...args);\n            this.dispatchUserActionEvent(event);\n        }\n        catch (e) { }\n    }\n    /**\n     * Track connection restoring error event.\n     * @param args\n     */\n    trackConnectionRestoringError(...args) {\n        try {\n            const event = (0, types_1.createConnectionRestoringErrorEvent)(this.version, ...args);\n            this.dispatchUserActionEvent(event);\n        }\n        catch (e) { }\n    }\n    /**\n     * Track disconnect event.\n     * @param args\n     */\n    trackDisconnection(...args) {\n        try {\n            const event = (0, types_1.createDisconnectionEvent)(this.version, ...args);\n            this.dispatchUserActionEvent(event);\n        }\n        catch (e) { }\n    }\n    /**\n     * Track transaction init event.\n     * @param args\n     */\n    trackTransactionSentForSignature(...args) {\n        try {\n            const event = (0, types_1.createTransactionSentForSignatureEvent)(this.version, ...args);\n            this.dispatchUserActionEvent(event);\n        }\n        catch (e) { }\n    }\n    /**\n     * Track transaction signed event.\n     * @param args\n     */\n    trackTransactionSigned(...args) {\n        try {\n            const event = (0, types_1.createTransactionSignedEvent)(this.version, ...args);\n            this.dispatchUserActionEvent(event);\n        }\n        catch (e) { }\n    }\n    /**\n     * Track transaction error event.\n     * @param args\n     */\n    trackTransactionSigningFailed(...args) {\n        try {\n            const event = (0, types_1.createTransactionSigningFailedEvent)(this.version, ...args);\n            this.dispatchUserActionEvent(event);\n        }\n        catch (e) { }\n    }\n}\nexports.TonConnectTracker = TonConnectTracker;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.OKX_TON_CONNECTION_AND_TRANSACTION_EVENT = void 0;\nvar OKX_TON_CONNECTION_AND_TRANSACTION_EVENT;\n(function (OKX_TON_CONNECTION_AND_TRANSACTION_EVENT) {\n    OKX_TON_CONNECTION_AND_TRANSACTION_EVENT[\"OKX_TON_CONNECTION_STARTED\"] = \"okx-ton-connect-connection-started\";\n    OKX_TON_CONNECTION_AND_TRANSACTION_EVENT[\"OKX_TON_CONNECTION_COMPLETED\"] = \"okx-ton-connect-connection-completed\";\n    OKX_TON_CONNECTION_AND_TRANSACTION_EVENT[\"OKX_TON_CONNECTION_ERROR\"] = \"okx-ton-connect-connection-error\";\n    OKX_TON_CONNECTION_AND_TRANSACTION_EVENT[\"OKX_TON_CONNECTION_RESTORING_STARTED\"] = \"okx-ton-connect-connection-restoring-started\";\n    OKX_TON_CONNECTION_AND_TRANSACTION_EVENT[\"OKX_TON_CONNECTION_RESTORING_COMPLETED\"] = \"okx-ton-connect-connection-restoring-completed\";\n    OKX_TON_CONNECTION_AND_TRANSACTION_EVENT[\"OKX_TON_CONNECTION_RESTORING_ERROR\"] = \"okx-ton-connect-connection-restoring-error\";\n    OKX_TON_CONNECTION_AND_TRANSACTION_EVENT[\"OKX_TON_DISCONNECTION\"] = \"okx-ton-connect-disconnection\";\n    OKX_TON_CONNECTION_AND_TRANSACTION_EVENT[\"OKX_TON_TRANSACTION_SENT_FOR_SIGNATURE\"] = \"okx-ton-connect-transaction-sent-for-signature\";\n    OKX_TON_CONNECTION_AND_TRANSACTION_EVENT[\"OKX_TON_TRANSACTION_SIGNED\"] = \"okx-ton-connect-transaction-signed\";\n    OKX_TON_CONNECTION_AND_TRANSACTION_EVENT[\"OKX_TON_TRANSACTION_SIGNING_FAILED\"] = \"okx-ton-connect-transaction-signing-failed\";\n})(OKX_TON_CONNECTION_AND_TRANSACTION_EVENT || (exports.OKX_TON_CONNECTION_AND_TRANSACTION_EVENT = OKX_TON_CONNECTION_AND_TRANSACTION_EVENT = {}));\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createRequestVersionEvent = createRequestVersionEvent;\nexports.createResponseVersionEvent = createResponseVersionEvent;\nexports.createVersionInfo = createVersionInfo;\nexports.createConnectionStartedEvent = createConnectionStartedEvent;\nexports.createConnectionDeepLinkEvent = createConnectionDeepLinkEvent;\nexports.createConnectionInfoBeforeJumpEvent = createConnectionInfoBeforeJumpEvent;\nexports.createConnectionCompletedEvent = createConnectionCompletedEvent;\nexports.createConnectionErrorEvent = createConnectionErrorEvent;\nexports.createConnectionRestoringStartedEvent = createConnectionRestoringStartedEvent;\nexports.createConnectionRestoringCompletedEvent = createConnectionRestoringCompletedEvent;\nexports.createConnectionRestoringErrorEvent = createConnectionRestoringErrorEvent;\nexports.createTransactionSentForSignatureEvent = createTransactionSentForSignatureEvent;\nexports.createTransactionSignedEvent = createTransactionSignedEvent;\nexports.createTransactionSigningFailedEvent = createTransactionSigningFailedEvent;\nexports.createDisconnectionEvent = createDisconnectionEvent;\n/**\n * Create a request version event.\n */\nfunction createRequestVersionEvent() {\n    return {\n        type: 'request-version'\n    };\n}\n/**\n * Create a response version event.\n * @param version\n */\nfunction createResponseVersionEvent(version) {\n    return {\n        type: 'response-version',\n        version: version\n    };\n}\n/**\n * Create a version info.\n * @param version\n */\nfunction createVersionInfo(version) {\n    return {\n        okx_ton_connect_sdk_lib: version.okx_ton_connect_sdk_lib,\n        okx_connect_ui_lib: version.okx_connect_ui_lib\n    };\n}\nfunction createConnectionInfo(version, wallet) {\n    var _a, _b, _c, _d, _e, _f, _g, _h;\n    const isTonProof = ((_a = wallet === null || wallet === void 0 ? void 0 : wallet.connectItems) === null || _a === void 0 ? void 0 : _a.tonProof) && 'proof' in wallet.connectItems.tonProof;\n    const authType = isTonProof ? 'ton_proof' : 'ton_addr';\n    return {\n        wallet_address: (_c = (_b = wallet === null || wallet === void 0 ? void 0 : wallet.account) === null || _b === void 0 ? void 0 : _b.address) !== null && _c !== void 0 ? _c : null,\n        wallet_type: (_d = wallet === null || wallet === void 0 ? void 0 : wallet.device.appName) !== null && _d !== void 0 ? _d : null,\n        wallet_version: (_e = wallet === null || wallet === void 0 ? void 0 : wallet.device.appVersion) !== null && _e !== void 0 ? _e : null,\n        auth_type: authType,\n        custom_data: Object.assign({ chain_id: (_g = (_f = wallet === null || wallet === void 0 ? void 0 : wallet.account) === null || _f === void 0 ? void 0 : _f.chain) !== null && _g !== void 0 ? _g : null, provider: (_h = wallet === null || wallet === void 0 ? void 0 : wallet.provider) !== null && _h !== void 0 ? _h : null }, createVersionInfo(version))\n    };\n}\n/**\n * Create a connection init event.\n */\nfunction createConnectionStartedEvent(version) {\n    return {\n        type: 'connection-started',\n        custom_data: createVersionInfo(version)\n    };\n}\n/**\n * Create a connection init event.\n */\nfunction createConnectionDeepLinkEvent(deeplinkUrl) {\n    return {\n        type: 'connection-get-deeplink',\n        deeplinkUrl: deeplinkUrl,\n    };\n}\n// okx-ton-connect-connection-info-before-jump\nfunction createConnectionInfoBeforeJumpEvent(connectInfo) {\n    return {\n        type: 'connection-info-before-jump',\n        connectInfo: connectInfo,\n    };\n}\n/**\n * Create a connection completed event.\n * @param version\n * @param wallet\n */\nfunction createConnectionCompletedEvent(version, wallet) {\n    return Object.assign({ type: 'connection-completed', is_success: true }, createConnectionInfo(version, wallet));\n}\n/**\n * Create a connection error event.\n * @param version\n * @param error_message\n * @param errorCode\n */\nfunction createConnectionErrorEvent(version, error_message, errorCode) {\n    return {\n        type: 'connection-error',\n        is_success: false,\n        error_message: error_message,\n        error_code: errorCode !== null && errorCode !== void 0 ? errorCode : null,\n        custom_data: createVersionInfo(version)\n    };\n}\n/**\n * Create a connection restoring started event.\n */\nfunction createConnectionRestoringStartedEvent(version) {\n    return {\n        type: 'connection-restoring-started',\n        custom_data: createVersionInfo(version)\n    };\n}\n/**\n * Create a connection restoring completed event.\n * @param version\n * @param wallet\n */\nfunction createConnectionRestoringCompletedEvent(version, wallet) {\n    return Object.assign({ type: 'connection-restoring-completed', is_success: true }, createConnectionInfo(version, wallet));\n}\n/**\n * Create a connection restoring error event.\n * @param version\n * @param errorMessage\n */\nfunction createConnectionRestoringErrorEvent(version, errorMessage) {\n    return {\n        type: 'connection-restoring-error',\n        is_success: false,\n        error_message: errorMessage,\n        custom_data: createVersionInfo(version)\n    };\n}\nfunction createTransactionInfo(wallet, transaction) {\n    var _a, _b, _c, _d;\n    return {\n        valid_until: (_a = String(transaction.validUntil)) !== null && _a !== void 0 ? _a : null,\n        from: (_d = (_b = transaction.from) !== null && _b !== void 0 ? _b : (_c = wallet === null || wallet === void 0 ? void 0 : wallet.account) === null || _c === void 0 ? void 0 : _c.address) !== null && _d !== void 0 ? _d : null,\n        messages: transaction.messages.map(message => {\n            var _a, _b;\n            return ({\n                address: (_a = message.address) !== null && _a !== void 0 ? _a : null,\n                amount: (_b = message.amount) !== null && _b !== void 0 ? _b : null\n            });\n        })\n    };\n}\n/**\n * Create a transaction init event.\n * @param version\n * @param wallet\n * @param transaction\n */\nfunction createTransactionSentForSignatureEvent(version, wallet, transaction) {\n    return Object.assign(Object.assign({ type: 'transaction-sent-for-signature' }, createConnectionInfo(version, wallet)), createTransactionInfo(wallet, transaction));\n}\n/**\n * Create a transaction signed event.\n * @param version\n * @param wallet\n * @param transaction\n * @param signedTransaction\n */\nfunction createTransactionSignedEvent(version, wallet, transaction, signedTransaction) {\n    return Object.assign(Object.assign({ type: 'transaction-signed', is_success: true, signed_transaction: signedTransaction.boc }, createConnectionInfo(version, wallet)), createTransactionInfo(wallet, transaction));\n}\n/**\n * Create a transaction error event.\n * @param version\n * @param wallet\n * @param transaction\n * @param errorMessage\n * @param errorCode\n */\nfunction createTransactionSigningFailedEvent(version, wallet, transaction, errorMessage, errorCode) {\n    return Object.assign(Object.assign({ type: 'transaction-signing-failed', is_success: false, error_message: errorMessage, error_code: errorCode !== null && errorCode !== void 0 ? errorCode : null }, createConnectionInfo(version, wallet)), createTransactionInfo(wallet, transaction));\n}\n/**\n * Create a disconnect event.\n * @param version\n * @param wallet\n * @param scope\n * @returns\n */\nfunction createDisconnectionEvent(version, wallet, scope) {\n    return Object.assign({ type: 'disconnection', scope: scope }, createConnectionInfo(version, wallet));\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.toUserFriendlyAddress = toUserFriendlyAddress;\nconst core_1 = require(\"@okxconnect/core\");\nconst noBounceableTag = 0x51;\nconst testOnlyTag = 0x80;\n/**\n * Converts raw TON address to no-bounceable user-friendly format. [See details]{@link https://ton.org/docs/learn/overviews/addresses#user-friendly-address}\n * @param hexAddress raw TON address formatted as \"0:<hex string without 0x>\".\n * @param [testOnly=false] convert address to test-only form. [See details]{@link https://ton.org/docs/learn/overviews/addresses#user-friendly-address}\n */\nfunction toUserFriendlyAddress(hexAddress, testOnly = false) {\n    const { wc, hex } = parseHexAddress(hexAddress);\n    let tag = noBounceableTag;\n    if (testOnly) {\n        tag |= testOnlyTag;\n    }\n    const addr = new Int8Array(34);\n    addr[0] = tag;\n    addr[1] = wc;\n    addr.set(hex, 2);\n    const addressWithChecksum = new Uint8Array(36);\n    addressWithChecksum.set(addr);\n    addressWithChecksum.set(crc16(addr), 34);\n    // let addressBase64 = Base64.encode(addressWithChecksum);\n    let addressBase64 = (0, core_1.base64encode)(addressWithChecksum, false);\n    return addressBase64.replace(/\\+/g, '-').replace(/\\//g, '_');\n}\nfunction parseHexAddress(hexAddress) {\n    if (!hexAddress.includes(':')) {\n        throw new Error(`Wrong address ${hexAddress}. Address must include \":\".`);\n    }\n    const parts = hexAddress.split(':');\n    if (parts.length !== 2) {\n        throw new Error(`Wrong address ${hexAddress}. Address must include \":\" only once.`);\n    }\n    const wc = parseInt(parts[0]);\n    if (wc !== 0 && wc !== -1) {\n        throw new Error(`Wrong address ${hexAddress}. WC must be eq 0 or -1, but ${wc} received.`);\n    }\n    const hex = parts[1];\n    if ((hex === null || hex === void 0 ? void 0 : hex.length) !== 64) {\n        throw new Error(`Wrong address ${hexAddress}. Hex part must be 64bytes length, but ${hex === null || hex === void 0 ? void 0 : hex.length} received.`);\n    }\n    return {\n        wc,\n        hex: hexToBytes(hex)\n    };\n}\nfunction crc16(data) {\n    const poly = 0x1021;\n    let reg = 0;\n    const message = new Uint8Array(data.length + 2);\n    message.set(data);\n    for (let byte of message) {\n        let mask = 0x80;\n        while (mask > 0) {\n            reg <<= 1;\n            if (byte & mask) {\n                reg += 1;\n            }\n            mask >>= 1;\n            if (reg > 0xffff) {\n                reg &= 0xffff;\n                reg ^= poly;\n            }\n        }\n    }\n    return new Uint8Array([Math.floor(reg / 256), reg % 256]);\n}\nconst toByteMap = {};\nfor (let ord = 0; ord <= 0xff; ord++) {\n    let s = ord.toString(16);\n    if (s.length < 2) {\n        s = '0' + s;\n    }\n    toByteMap[s] = ord;\n}\nfunction hexToBytes(hex) {\n    hex = hex.toLowerCase();\n    const length2 = hex.length;\n    if (length2 % 2 !== 0) {\n        throw new Error('Hex string must have length a multiple of 2: ' + hex);\n    }\n    const length = length2 / 2;\n    const result = new Uint8Array(length);\n    for (let i = 0; i < length; i++) {\n        const doubled = i * 2;\n        const hexSubstring = hex.substring(doubled, doubled + 2);\n        if (!toByteMap.hasOwnProperty(hexSubstring)) {\n            throw new Error('Invalid hex character: ' + hexSubstring);\n        }\n        result[i] = toByteMap[hexSubstring];\n    }\n    return result;\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.OKXCONNECTOR_TON_KEY = exports.OKXtonConnectSdkVersion = void 0;\nexports.OKXtonConnectSdkVersion = '1';\nexports.OKXCONNECTOR_TON_KEY = \"OKXStorage_ctc\";\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.checkSendTransactionSupport = checkSendTransactionSupport;\nconst core_1 = require(\"@okxconnect/core\");\nfunction checkSendTransactionSupport(features, options) {\n    const supportsDeprecatedSendTransactionFeature = features.includes('ton_sendTransaction');\n    if (!supportsDeprecatedSendTransactionFeature) {\n        throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED, \"Wallet doesn't support SendTransaction feature.\");\n    }\n    if (4 < options.requiredMessagesNumber) {\n        throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED, `Wallet is not able to handle such SendTransaction request. Max support messages number is ${4}, but ${options.requiredMessagesNumber} is required.`);\n    }\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.toUserFriendlyAddress = exports.removeUrlLastSlash = exports.addPathToUrl = void 0;\nvar url_1 = require(\"./url\");\nObject.defineProperty(exports, \"addPathToUrl\", { enumerable: true, get: function () { return url_1.addPathToUrl; } });\nObject.defineProperty(exports, \"removeUrlLastSlash\", { enumerable: true, get: function () { return url_1.removeUrlLastSlash; } });\nvar address_1 = require(\"./address\");\nObject.defineProperty(exports, \"toUserFriendlyAddress\", { enumerable: true, get: function () { return address_1.toUserFriendlyAddress; } });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.removeUrlLastSlash = removeUrlLastSlash;\nexports.addPathToUrl = addPathToUrl;\nfunction removeUrlLastSlash(url) {\n    if (url.slice(-1) === '/') {\n        return url.slice(0, -1);\n    }\n    return url;\n}\nfunction addPathToUrl(url, path) {\n    return removeUrlLastSlash(url) + '/' + path;\n}\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.OKXBtcProvider = void 0;\nconst _1 = require(\"./\");\nclass OKXBtcProvider {\n    constructor(provider) {\n        this.caip = [\n            \"btc:mainnet\",\n            \"fractal:mainnet\"\n        ];\n        this.provider = provider;\n    }\n    getAddressForChainId(chainId) {\n        var _a, _b;\n        let ns = this.checkChainId(chainId);\n        if (ns == undefined) {\n            throw new _1.OKXConnectError(_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `invalid chainId`);\n        }\n        let accounts = (_b = (_a = this.provider.session) === null || _a === void 0 ? void 0 : _a.namespaces['btc']) === null || _b === void 0 ? void 0 : _b.accounts.filter(function (account) {\n            return account.startsWith(chainId);\n        });\n        if (accounts == undefined || accounts.length < 0) {\n            throw new _1.OKXConnectError(_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `no connected account`);\n        }\n        let account = accounts[0];\n        const address = account.split(':')[2];\n        return address;\n    }\n    getAccount(chainId) {\n        var _a, _b, _c;\n        let ns = this.checkChainId(chainId);\n        if (ns == undefined) {\n            throw new _1.OKXConnectError(_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `invalid chainId`);\n        }\n        let extra = (_c = (_b = (_a = this.provider.session) === null || _a === void 0 ? void 0 : _a.namespaces[ns]) === null || _b === void 0 ? void 0 : _b.extra) === null || _c === void 0 ? void 0 : _c[chainId];\n        let publicKey = \"\";\n        if (extra != undefined) {\n            publicKey = extra[\"publicKey\"];\n        }\n        return {\n            address: this.getAddressForChainId(chainId),\n            publicKey: publicKey\n        };\n    }\n    /**\n     *\n     * @param signStr\n     * @param chainId\n     * @param type\n     * @returns\n     */\n    signMessage(chainId, signStr, type) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let ns = this.checkChainId(chainId);\n            if (ns == undefined) {\n                throw new _1.OKXConnectError(_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `invalid chainId`);\n            }\n            if (signStr === 'undefined') {\n                throw new _1.OKXConnectError(_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `the method signMessage parmas error`);\n            }\n            let params = {\n                signStr: signStr,\n                from: this.getAddressForChainId(chainId)\n            };\n            if (type) {\n                params.type = type;\n            }\n            try {\n                const ret = yield this.provider.request({\n                    method: \"btc_signMessage\",\n                    params: params\n                }, chainId);\n                if ('result' in ret) {\n                    return ret.result;\n                }\n                else {\n                    let errorData = ret;\n                    return errorData.error;\n                }\n            }\n            catch (error) {\n                throw new _1.OKXConnectError(_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `the method signTransaction request error`);\n            }\n        });\n    }\n    /**\n     *\n     * @param chainId\n     * @param toAddress\n     * @param satoshis\n     * @param options { feeRate: 0 }\n     * @returns\n     */\n    sendBitcoin(chainId, toAddress, satoshis, options) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let ns = this.checkChainId(chainId);\n            if (ns == undefined) {\n                throw new _1.OKXConnectError(_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `invalid chainId`);\n            }\n            let params = {\n                from: this.getAddressForChainId(chainId),\n                to: toAddress,\n                value: (satoshis / 100000000).toString(),\n            };\n            if (options === null || options === void 0 ? void 0 : options.feeRate) {\n                params[\"satBytes\"] = options.feeRate.toString();\n            }\n            let result = yield this.send(chainId, params);\n            if (result !== undefined && ('txhash' in result)) {\n                // return txhash directly\n                return result.txhash;\n            }\n            // or return unexpected result\n            return result;\n        });\n    }\n    //  from - string：当前连接的钱包的 BTC 地址\n    //  to - string：接受 BTC 的地址\n    //  value - string：发送 BTC 的数量\n    //  satBytes - string： (可选) 自定义费率\n    //  memo - string： (可选) 指定 outputs OP_RETURN 内容 示例\n    //  memoPos - number： (可选) 指定 outputs OP_RETURN 输出位置，如果传了 memo 则必须传入 memoPos 指定位置，否则 memo 不生效\n    send(chainId, input) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let ns = this.checkChainId(chainId);\n            if (ns == undefined) {\n                throw new _1.OKXConnectError(_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `invalid chainId`);\n            }\n            if (!this.checkParameters(input, 'to', 'value')) {\n                throw new _1.OKXConnectError(_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `the method send parmas  error`);\n            }\n            input[\"from\"] = this.getAddressForChainId(chainId);\n            try {\n                const ret = yield this.provider.request({\n                    method: 'btc_send',\n                    params: input\n                }, chainId);\n                if ('result' in ret) {\n                    return {\n                        txhash: ret.result\n                    };\n                }\n                else {\n                    let errorData = ret;\n                    return errorData.error;\n                }\n            }\n            catch (error) {\n                throw new _1.OKXConnectError(_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `the method send request error: ${error}`);\n            }\n        });\n    }\n    /**\n     *\n     * @param psbtHex string 要签名的 psbt 的十六进制字符串\n     * @param options object { autoFinalized: 0 }\n     */\n    signPsbt(chainId, psbtHex, options) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return new Promise((resolve, reject) => {\n                this.signPsbts(chainId, [psbtHex], [options]).then(psbtResults => {\n                    let results = JSON.parse(psbtResults);\n                    resolve(results[0]);\n                }).catch(error => {\n                    reject(error);\n                });\n            });\n        });\n    }\n    /**\n     *\n     * @param chainId\n     * @param psbtHexs Array\n     * @param options Array [{ autoFinalized: 0 }]\n     * @returns\n     */\n    signPsbts(chainId, psbtHexs, options) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let ns = this.checkChainId(chainId);\n            if (ns == undefined) {\n                throw new _1.OKXConnectError(_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `invalid chainId`);\n            }\n            if (psbtHexs === undefined) {\n                throw new _1.OKXConnectError(_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `the method signPsbts params error`);\n            }\n            let params = {\n                psbtHexs: psbtHexs,\n                options: options\n            };\n            params.from = this.getAddressForChainId(chainId);\n            try {\n                const ret = yield this.provider.request({\n                    method: \"btc_signPsbts\",\n                    params: params\n                }, chainId);\n                if ('result' in ret) {\n                    return ret.result;\n                }\n                else {\n                    let errorData = ret;\n                    return errorData.error;\n                }\n            }\n            catch (error) {\n                throw new _1.OKXConnectError(_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `the method send request error: ${error}`);\n            }\n        });\n    }\n    /**\n     *\n     * @param chainId\n     * @param psbtHex string\n     * @param options object\n     * @returns\n     */\n    signAndPushPsbt(chainId, psbtHex, options) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let ns = this.checkChainId(chainId);\n            if (ns == undefined) {\n                throw new _1.OKXConnectError(_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `invalid chainId`);\n            }\n            if (psbtHex === undefined) {\n                throw new _1.OKXConnectError(_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `the method signPsbts params error`);\n            }\n            let params = {\n                psbtHex: psbtHex,\n                options: options\n            };\n            params.from = this.getAddressForChainId(chainId);\n            try {\n                const ret = yield this.provider.request({\n                    method: \"btc_signAndPushPsbt\",\n                    params: params\n                }, chainId);\n                if ('result' in ret) {\n                    return JSON.parse(ret.result);\n                }\n                else {\n                    let errorData = ret;\n                    return errorData.error;\n                }\n            }\n            catch (error) {\n                throw new _1.OKXConnectError(_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `the method send request error: ${error}`);\n            }\n        });\n    }\n    /**\n     *\n     * @param address string, receiver address\n     * @param inscriptionId string, 铭文 ID + 协议，没有传协议则默认是 Ordinals NFT ，目前仅支持 Ordinals 及 Atomicals 协议\n     * @param options object, { feeRate: number } custom rates\n     */\n    sendInscription(chainId, address, inscriptionId, options) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let extension = {\n                address: address,\n                inscriptionId: inscriptionId,\n                options: options\n            };\n            let ns = this.checkChainId(chainId);\n            if (ns == undefined) {\n                throw new _1.OKXConnectError(_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `invalid chainId`);\n            }\n            if (address === 'undefined') {\n                throw new _1.OKXConnectError(_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `the method sendInscription params error`);\n            }\n            var feeRate = 0;\n            if (options && ('feeRate' in options)) {\n                feeRate = options.feeRate;\n            }\n            let coinId = '';\n            let from = this.getAddressForChainId(chainId);\n            var protocolId = 7; //ProtocolIdBRCNFT\n            if (inscriptionId !== 'undefined') {\n                let atomicSuffix = \"-Atomicals\";\n                let ordinalsSuffix = \"-Ordinals\";\n                if (inscriptionId === null || inscriptionId === void 0 ? void 0 : inscriptionId.toLowerCase().endsWith(atomicSuffix.toLowerCase())) {\n                    protocolId = 8; //WXRCProtocolIdARCNFT\n                    inscriptionId = this.removeSuffix(inscriptionId, atomicSuffix);\n                }\n                else if (inscriptionId === null || inscriptionId === void 0 ? void 0 : inscriptionId.toLowerCase().endsWith(ordinalsSuffix.toLowerCase())) {\n                    inscriptionId = this.removeSuffix(inscriptionId, ordinalsSuffix);\n                }\n            }\n            let params = {\n                scenario: 5,\n                feeRate: feeRate,\n                txType: \"20\",\n                to: address,\n                batchBean: [\n                    {\n                        coinAmount: \"1\",\n                        nftId: inscriptionId,\n                        protocolId: protocolId,\n                        coinId: coinId,\n                        inscriptionId: \"\",\n                        from: from\n                    }\n                ],\n                extension: extension\n            };\n            try {\n                const ret = yield this.provider.request({\n                    method: \"btc_sendInscription\",\n                    params: params\n                }, chainId);\n                if ('result' in ret) {\n                    return ret.result;\n                }\n                else {\n                    let errorData = ret;\n                    return errorData.error;\n                }\n            }\n            catch (error) {\n                throw new _1.OKXConnectError(_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `the method signTransaction request error`);\n            }\n        });\n    }\n    removeSuffix(str, suffix) {\n        if (str.endsWith(suffix)) {\n            return str.slice(0, str.length - suffix.length);\n        }\n        return str;\n    }\n    checkParameters(params, ...keys) {\n        var unexistKeys = [];\n        keys.forEach(key => {\n            if (!(`${key}` in params)) {\n                unexistKeys.push(key);\n            }\n        });\n        if (unexistKeys.length > 0) {\n            console.log('not find key: ', unexistKeys.join(\",\"));\n            return false;\n        }\n        return true;\n    }\n    /**\n     *\n     * @param chainId eg. btc:mainnet\n     * @returns eg. btc\n     */\n    checkChainId(chainId) {\n        if (this.caip.includes(chainId)) {\n            let [namespaceKey, _] = chainId.split(\":\");\n            return namespaceKey;\n        }\n        return undefined;\n    }\n}\nexports.OKXBtcProvider = OKXBtcProvider;\nexports.default = OKXBtcProvider;\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.OKXCosmosProvider = void 0;\nconst core_1 = require(\"@okxconnect/core\");\nclass OKXCosmosProvider {\n    constructor(provider) {\n        this.provider = provider;\n    }\n    getAccount(chainId) {\n        var _a, _b, _c, _d, _e, _f;\n        (0, core_1.logDebug)(\"OKXCosmosProvider getAccount chainId:\", chainId);\n        (0, core_1.logDebug)(\"OKXCosmosProvider getAccount namespaces:\", JSON.stringify((_a = this.provider.session) === null || _a === void 0 ? void 0 : _a.namespaces));\n        let account = (_c = (_b = this.provider.session) === null || _b === void 0 ? void 0 : _b.namespaces[core_1.NameSpaceKeyCosmos]) === null || _c === void 0 ? void 0 : _c.accounts.filter(function (account) {\n            return account.startsWith(chainId);\n        })[0];\n        (0, core_1.logDebug)(\"OKXCosmosProvider getAccount account:\", JSON.stringify(account));\n        if (!account) {\n            // if (required) {\n            //      throw new Error('Account not found')\n            // }\n            return undefined;\n        }\n        const accountArray = account.split(':');\n        const address = account.split(':')[2];\n        (0, core_1.logDebug)(\"OKXCosmosProvider getAccount address:\", address);\n        let extra = (_f = (_e = (_d = this.provider.session) === null || _d === void 0 ? void 0 : _d.namespaces[core_1.NameSpaceKeyCosmos]) === null || _e === void 0 ? void 0 : _e.extra) === null || _f === void 0 ? void 0 : _f[(`${accountArray[0]}:${accountArray[1]}`)];\n        let publicKey = \"\";\n        if (extra != undefined) {\n            publicKey = extra[\"publicKey\"];\n            console.log(\"aptos_publicKey\", publicKey);\n        }\n        if (!address) {\n            // if (required) {\n            //     throw new Error('Address not found')\n            // }\n            return undefined;\n        }\n        return {\n            algo: \"secp256k1\",\n            address: address,\n            bech32Address: address,\n            pubKey: this.hexToUint8Array(publicKey),\n        };\n    }\n    signArbitrary(chainId, signerAddress, data) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const base64Encoded = window.btoa(data);\n            const signDoc = {\n                chain_id: \"\",\n                account_number: \"0\",\n                sequence: \"0\",\n                fee: {\n                    gas: \"0\",\n                    amount: []\n                },\n                msgs: [{\n                        \"type\": \"sign/MsgSignData\",\n                        \"value\": {\n                            \"signer\": signerAddress,\n                            \"data\": base64Encoded\n                        }\n                    }],\n                memo: \"\"\n            };\n            let signData = {\n                \"chainId\": chainId,\n                \"method\": \"cosmos_signArbitrary\",\n                \"params\": {\n                    \"signer\": signerAddress,\n                    \"chain_id\": chainId.split(\":\")[1],\n                    \"data\": signDoc\n                }\n            };\n            try {\n                const ret = yield this.provider.request(signData, chainId);\n                if ('result' in ret) {\n                    if (typeof ret.result == \"string\") {\n                        return JSON.parse(ret.result);\n                    }\n                    else {\n                        return ret.result;\n                    }\n                }\n                else {\n                    let errorData = ret;\n                    return errorData.error;\n                }\n            }\n            catch (error) {\n                return error;\n                // throw new OKXConnectError(OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `the method signTransaction request error`);\n            }\n        });\n    }\n    signAmino(chainId, signerAddress, signDoc, signOptions) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (signDoc.msgs[0].type == \"sign/MsgSignData\") {\n                let signData = {\n                    \"chainId\": chainId,\n                    \"method\": \"cosmos_signArbitrary\",\n                    \"params\": {\n                        \"signer\": signerAddress,\n                        \"chain_id\": chainId.split(\":\")[1],\n                        \"data\": signDoc\n                    }\n                };\n                try {\n                    const ret = yield this.provider.request(signData, chainId);\n                    if ('result' in ret) {\n                        return ret.result;\n                    }\n                    else {\n                        let errorData = ret;\n                        return errorData.error;\n                    }\n                }\n                catch (error) {\n                    return error;\n                    // throw new OKXConnectError(OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `the method signAmino request error`);\n                }\n            }\n            else {\n                let signData = {\n                    \"chainId\": chainId,\n                    \"method\": \"cosmos_signAmino\",\n                    \"params\": {\n                        \"signer\": signerAddress,\n                        \"chainId\": chainId.split(\":\")[1],\n                        \"sign_doc\": signDoc,\n                        \"signOptions\": signOptions\n                    }\n                };\n                try {\n                    const ret = yield this.provider.request(signData, chainId);\n                    if ('result' in ret) {\n                        const resData = JSON.parse(ret.result);\n                        console.log(\"signdoc\", signDoc, resData.signDoc);\n                        signDoc.fee = resData.signDoc.fee;\n                        return { signed: signDoc, signature: resData.signature };\n                    }\n                    else {\n                        let errorData = ret;\n                        return errorData.error;\n                    }\n                }\n                catch (error) {\n                    // throw new OKXConnectError(OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `the method signAmino request error`);\n                    return error;\n                }\n            }\n        });\n    }\n    signDirect(chainId, signerAddress, signDoc, signOptions) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const object = {\n                bodyBytes: this.bufferToHex(signDoc.bodyBytes),\n                authInfoBytes: this.bufferToHex(signDoc.authInfoBytes),\n                chainId: signDoc.chainId,\n                accountNumber: signDoc.accountNumber ? signDoc.accountNumber.toString() : null,\n                signOptions: signOptions ? signOptions : null\n            };\n            let data = {\n                \"chainId\": chainId,\n                \"method\": \"cosmos_signDirect\",\n                \"params\": {\n                    \"signer\": signerAddress,\n                    \"chainId\": chainId.split(\":\")[1],\n                    \"sign_doc\": object,\n                }\n            };\n            try {\n                const ret = yield this.provider.request(data, chainId);\n                if ('result' in ret) {\n                    const res = JSON.parse(ret.result);\n                    console.log(\"signdirect result\", res);\n                    signDoc.authInfoBytes = this.messageToBuffer(res.signDoc.authInfoBytes);\n                    return { signed: signDoc, signature: res.signature };\n                }\n            }\n            catch (error) {\n                return error;\n                // throw new OKXConnectError(OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `the method signTransaction request error`);\n            }\n        });\n    }\n    messageToBuffer(message) {\n        var buffer = Uint8Array.from([]);\n        try {\n            if (typeof message === \"string\") {\n                buffer = this.hexToUint8Array(message.replace(\"0x\", \"\"));\n            }\n            else {\n                buffer = Uint8Array.from(message);\n            }\n        }\n        catch (err) {\n            console.log(`messageToBuffer error: ${err}`);\n        }\n        return buffer;\n    }\n    bufferToHex(arr) {\n        let output = [...new Uint8Array(arr)]\n            .map(x => x.toString(16).padStart(2, '0'))\n            .join('');\n        return '0x' + output;\n    }\n    hexToUint8Array(hexString) {\n        if (hexString.length % 2 !== 0) {\n            throw \"Invalid hexString\";\n        }\n        var arrayBuffer = new Uint8Array(hexString.length / 2);\n        for (var i = 0; i < hexString.length; i += 2) {\n            var byteValue = parseInt(hexString.substr(i, 2), 16);\n            if (isNaN(byteValue)) {\n                throw \"Invalid hexString\";\n            }\n            arrayBuffer[i / 2] = byteValue;\n        }\n        return arrayBuffer;\n    }\n}\nexports.OKXCosmosProvider = OKXCosmosProvider;\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.OKXTonProvider = void 0;\nconst _1 = require(\"./\");\nconst core_1 = require(\"@okxconnect/core\");\nclass OKXTonProvider {\n    constructor(generator) {\n        this.statusChangeSubscriptions = [];\n        this.statusChangeErrorSubscriptions = [];\n        this.provider = generator;\n        this.provider.on(\"connect\", () => {\n            let tonWallet = this.wallet();\n            (0, core_1.logDebug)(\"OKXTONProvider event connect:\", JSON.stringify(tonWallet));\n            this.statusChangeSubscriptions.forEach(callback => callback(tonWallet));\n        });\n        this.provider.on(\"reconnect\", () => {\n            let tonWallet = this.wallet();\n            (0, core_1.logDebug)(\"OKXTONProvider event reconnect:\", JSON.stringify(tonWallet));\n            this.statusChangeSubscriptions.forEach(callback => callback(tonWallet));\n        });\n        this.provider.on(\"disconnect\", () => {\n            (0, core_1.logDebug)(\"OKXTONProvider event disconnect:\");\n            this.statusChangeSubscriptions.forEach(callback => callback(null));\n        });\n        this.provider.on(\"connect_error\", (error) => {\n            (0, core_1.logDebug)(\"OKXTONProvider event connect_error:\", JSON.stringify(error));\n            this.statusChangeErrorSubscriptions.forEach(errorsHandler => errorsHandler(error));\n        });\n    }\n    connected() {\n        if (this.provider.connected()) {\n            return !!this.provider.session.namespaces[\"ton\"];\n        }\n        return false;\n    }\n    account() {\n        try {\n            if (!this.provider.session) {\n                return null;\n            }\n            let tonNameSpace = this.provider.session.namespaces['ton'];\n            if (!tonNameSpace || !tonNameSpace.payload || !tonNameSpace.payload.ton_addr) {\n                return null;\n            }\n            let ton_addr = tonNameSpace.payload.ton_addr;\n            return {\n                address: ton_addr.address,\n                chain: ton_addr.network,\n                walletStateInit: ton_addr.walletStateInit,\n                publicKey: ton_addr.publicKey,\n            };\n        }\n        catch (e) {\n            (0, core_1.logDebug)(\"OKXTONProvider account  error:\", JSON.stringify(e));\n            return null;\n        }\n    }\n    wallet() {\n        if (this.connected()) {\n            try {\n                let sessionWallet = this.provider.session.wallet;\n                let tonDeviceInfo = {\n                    platform: sessionWallet.platform,\n                    appName: sessionWallet.appName,\n                    appVersion: sessionWallet.appVersion,\n                    maxProtocolVersion: sessionWallet.maxProtocolVersion,\n                    features: ['ton_sendTransaction'],\n                };\n                const wallet = {\n                    device: tonDeviceInfo,\n                    provider: \"http\",\n                    account: this.account()\n                };\n                let tonNameSpace = this.provider.session.namespaces['ton'];\n                if (tonNameSpace && tonNameSpace.payload && tonNameSpace.payload.ton_proof) {\n                    wallet.connectItems = {\n                        tonProof: tonNameSpace.payload.ton_proof\n                    };\n                }\n                (0, core_1.logDebug)(\"OKXTONProvider wallet :\", JSON.stringify(wallet));\n                return wallet;\n            }\n            catch (e) {\n                (0, core_1.logDebug)(\"OKXTONProvider wallet  error:\", JSON.stringify(e));\n                return null;\n            }\n        }\n        return null;\n    }\n    onStatusChange(callback, errorsHandler) {\n        this.statusChangeSubscriptions.push(callback);\n        if (errorsHandler) {\n            this.statusChangeErrorSubscriptions.push(errorsHandler);\n        }\n        return () => {\n            this.statusChangeSubscriptions = this.statusChangeSubscriptions.filter(item => item !== callback);\n            if (errorsHandler) {\n                this.statusChangeErrorSubscriptions = this.statusChangeErrorSubscriptions.filter(item => item !== errorsHandler);\n            }\n        };\n    }\n    sendTransaction(transaction) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (transaction.network && transaction.network !== core_1.TONCHAIN.MAINNET) {\n                throw new _1.OKXConnectError(_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, 'OKXTONProvider sendTransaction network error');\n            }\n            if (!transaction.network) {\n                transaction.network = core_1.TONCHAIN.MAINNET;\n            }\n            if (this.provider.session) {\n                if (!transaction.from) {\n                    const accounts = this.provider.requestAccountsWithNamespace('ton');\n                    transaction.from = accounts[0];\n                }\n            }\n            const requestParams = {\n                method: \"ton_sendTransaction\",\n                params: transaction,\n            };\n            let chain = 'ton:' + core_1.TONCHAIN.MAINNET;\n            (0, core_1.logDebug)(\"OKXTONProvider sendTransaction transaction----:\", chain, JSON.stringify(requestParams));\n            return this.provider.request(requestParams, chain);\n        });\n    }\n}\nexports.OKXTonProvider = OKXTonProvider;\nexports.default = OKXTonProvider;\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.OKXTronProvider = void 0;\nconst core_1 = require(\"@okxconnect/core\");\nclass OKXTronProvider {\n    constructor(provider) {\n        this.TRON_CHAIN_ID = \"tron:mainnet\";\n        this.provider = provider;\n    }\n    getChain(chainId) {\n        if (chainId == null) {\n            chainId = this.TRON_CHAIN_ID;\n        }\n        if (chainId != this.TRON_CHAIN_ID) {\n            throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.CHAIN_NOT_SUPPORTED, \"The chainId:\" + chainId + \"is wrong for OKXTronProvider\");\n        }\n        return chainId;\n    }\n    getAccount(chainId) {\n        var _a, _b, _c, _d, _e;\n        chainId = this.getChain(chainId);\n        let account = (_b = (_a = this.provider.session) === null || _a === void 0 ? void 0 : _a.namespaces[core_1.NameSpaceKeyTron]) === null || _b === void 0 ? void 0 : _b.accounts.filter(function (account) {\n            return account.startsWith(chainId);\n        })[0];\n        if (!account) {\n            // if (required) {\n            //      throw new Error('Account not found')\n            // }\n            return undefined;\n        }\n        const accountArray = account.split(':');\n        const address = account.split(':')[2];\n        let extra = (_e = (_d = (_c = this.provider.session) === null || _c === void 0 ? void 0 : _c.namespaces[core_1.NameSpaceKeyTron]) === null || _d === void 0 ? void 0 : _d.extra) === null || _e === void 0 ? void 0 : _e[(`${accountArray[0]}:${accountArray[1]}`)];\n        let publicKey = \"\";\n        if (extra != undefined) {\n            publicKey = extra[\"publicKey\"];\n        }\n        if (!address) {\n            // if (required) {\n            //     throw new Error('Address not found')\n            // }\n            return undefined;\n        }\n        return {\n            address: address\n        };\n    }\n    stringToHex(str) {\n        let hex = '';\n        for (let i = 0; i < str.length; i++) {\n            hex += str.charCodeAt(i).toString(16).padStart(2, '0');\n        }\n        return hex;\n    }\n    signMessage(data, chainId) {\n        return __awaiter(this, void 0, void 0, function* () {\n            chainId = this.getChain(chainId);\n            let signData = {\n                \"chainId\": chainId,\n                \"method\": \"tron_signMessage\",\n                \"params\": {\n                    \"message\": this.stringToHex(data)\n                }\n            };\n            try {\n                const ret = yield this.provider.request(signData, chainId);\n                if ('result' in ret) {\n                    return ret.result;\n                }\n                else {\n                    let errorData = ret;\n                    return errorData.error;\n                }\n            }\n            catch (error) {\n                return error;\n                // throw new OKXConnectError(OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `the method signTransaction request error`);\n            }\n        });\n    }\n    signMessageV2(data, chainId) {\n        return __awaiter(this, void 0, void 0, function* () {\n            chainId = this.getChain(chainId);\n            let signData = {\n                \"chainId\": chainId,\n                \"method\": \"tron_signMessageV2\",\n                \"params\": {\n                    \"message\": data\n                }\n            };\n            try {\n                const ret = yield this.provider.request(signData, chainId);\n                if ('result' in ret) {\n                    return ret.result;\n                }\n                else {\n                    let errorData = ret;\n                    return errorData.error;\n                }\n            }\n            catch (error) {\n                return error;\n                // throw new OKXConnectError(OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `the method signTransaction request error`);\n            }\n        });\n    }\n    signTransaction(transaction, chainId) {\n        return __awaiter(this, void 0, void 0, function* () {\n            chainId = this.getChain(chainId);\n            let data = {\n                \"method\": \"tron_signTransaction\",\n                \"params\": transaction\n            };\n            try {\n                const ret = yield this.provider.request(data, chainId);\n                if ('result' in ret) {\n                    let signedTx;\n                    if (typeof ret.result == \"string\") {\n                        signedTx = JSON.parse(ret.result);\n                    }\n                    else {\n                        signedTx = ret.result;\n                    }\n                    let realSignTx = {};\n                    realSignTx.visible = signedTx.visible;\n                    realSignTx.txID = signedTx.txID;\n                    let rawData = {};\n                    rawData.contract = signedTx.raw_data.contract;\n                    rawData.expiration = signedTx.raw_data.expiration;\n                    rawData.ref_block_bytes = signedTx.raw_data.ref_block_bytes;\n                    rawData.ref_block_hash = signedTx.raw_data.ref_block_hash;\n                    rawData.timestamp = signedTx.raw_data.timestamp;\n                    realSignTx.raw_data = rawData;\n                    realSignTx.raw_data_hex = signedTx.raw_data_hex;\n                    realSignTx.signature = signedTx.signature;\n                    return realSignTx;\n                }\n            }\n            catch (error) {\n                return error;\n                // throw new OKXConnectError(OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `the method signTransaction request error`);\n            }\n        });\n    }\n    signAndSendTransaction(transaction, chainId) {\n        return __awaiter(this, void 0, void 0, function* () {\n            chainId = this.getChain(chainId);\n            let data = {\n                \"method\": \"tron_signAndSendTransaction\",\n                \"params\": transaction\n            };\n            try {\n                const ret = yield this.provider.request(data, chainId);\n                if ('result' in ret) {\n                    return ret.result;\n                }\n            }\n            catch (error) {\n                return error;\n                // throw new OKXConnectError(OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `the method signTransaction request error`);\n            }\n        });\n    }\n}\nexports.OKXTronProvider = OKXTronProvider;\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.OKXUniversalProvider = void 0;\nconst eip155_1 = require(\"./provider/providers/eip155\");\nconst sui_1 = require(\"./provider/providers/sui\");\nconst constants_1 = require(\"./provider/constants\");\nconst eventemitter3_1 = __importDefault(require(\"eventemitter3\"));\nconst client_1 = require(\"./packages/sign-client/client\");\nconst core_1 = require(\"@okxconnect/core\");\nconst namespaces_1 = require(\"./packages/utils/namespaces\");\nconst solana_1 = __importDefault(require(\"./provider/providers/solana\"));\nconst btc_1 = __importDefault(require(\"./provider/providers/btc\"));\nconst aptos_1 = __importDefault(require(\"./provider/providers/aptos\"));\nconst ton_1 = __importDefault(require(\"./provider/providers/ton\"));\nconst cosmos_1 = __importDefault(require(\"./provider/providers/cosmos\"));\nconst tron_1 = __importDefault(require(\"./provider/providers/tron\"));\nconst utils_1 = require(\"./provider/utils\");\nconst packages_1 = require(\"./packages\");\nconst provider_1 = require(\"./provider\");\nclass OKXUniversalProvider {\n    static init(opts) {\n        return __awaiter(this, void 0, void 0, function* () {\n            (0, core_1.logDebug)('OKXUniversalProvider init() called');\n            // ignore rpc provider check by default\n            (0, utils_1.setGlobal)('disableProviderPing', true);\n            let provider;\n            if (window && window.okxConnectUniversalinwindow && window.okxConnectUniversalinwindow instanceof OKXUniversalProvider) {\n                (0, core_1.logDebug)('OKXUniversalConnect init() old called');\n                provider = window.okxConnectUniversalinwindow;\n            }\n            else {\n                (0, core_1.logDebug)('OKXUniversalConnect init() new called');\n                provider = new OKXUniversalProvider(opts);\n                yield provider.initialize();\n                if (window) {\n                    window.okxConnectUniversalinwindow = provider;\n                }\n            }\n            (0, core_1.getDefaultReporter)().configVersionAndSide('universalprovider-1.5.2', 'dapp', provider.providerOpts.dappMetaData.name);\n            return provider;\n        });\n    }\n    constructor(opts) {\n        this.rpcProviders = {};\n        this.events = new eventemitter3_1.default();\n        this.providerOpts = opts;\n    }\n    request(args, chain) {\n        return __awaiter(this, void 0, void 0, function* () {\n            (0, core_1.logDebug)('OKXUniversalProvider request() called');\n            (0, core_1.reportLog)('OKXUniversalProvider request() called');\n            if (!this.connected()) {\n                throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR);\n            }\n            const { namespace, requestParam } = this.buildRequestParamFromRequest(args, chain);\n            return yield this.getProvider(namespace).request(requestParam);\n        });\n    }\n    buildRequestParamFromRequest(args, chain) {\n        var _a;\n        (0, core_1.logDebug)(\"UniversalProvider request args >>>>>>>: \", chain, JSON.stringify(args));\n        let [namespace, chainId] = this.validateChain(chain);\n        if (!this.session) {\n            throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, \"Please call connect() before request()\");\n        }\n        let keyArr = Object.keys(this.session.namespaces);\n        if (!chain && keyArr && keyArr.length > 1) {\n            throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR, `Multiple chains have been linked, the request method requires chain`);\n        }\n        if (namespace == \"aptos\" && chainId == \"mainnet\") {\n            namespace = \"aptos\";\n            chainId = \"637\";\n        }\n        if (namespace == \"movement\" && chainId == \"testnet\") {\n            namespace = \"aptos\";\n            chainId = \"70000060\";\n        }\n        const requestParam = Object.assign(Object.assign({}, args), { chainId: `${namespace}:${chainId}`, redirect: (_a = args.redirect) !== null && _a !== void 0 ? _a : this.sessionConfig.redirect });\n        return { namespace, requestParam };\n    }\n    enable() {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (!this.client) {\n                throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, \"Sign Client not initialized\");\n            }\n            if (!this.session) {\n                if (this.connectOpts) {\n                    yield this.connect(this.connectOpts);\n                }\n                else {\n                    throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, \"Sign Client not initialized\");\n                }\n            }\n            const accounts = yield this.requestAccounts();\n            return accounts;\n        });\n    }\n    disconnect() {\n        return __awaiter(this, void 0, void 0, function* () {\n            (0, core_1.logDebug)('OKXUniversalProvider disconnect() called');\n            (0, core_1.reportLog)('provider disconnect called');\n            if (!this.session) {\n                throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR);\n            }\n            return new Promise((resolve) => __awaiter(this, void 0, void 0, function* () {\n                let called = false;\n                const onRequestSent = () => __awaiter(this, void 0, void 0, function* () {\n                    if (!called) {\n                        called = true;\n                        yield this.disconnectAndEmit();\n                        yield this.cleanup();\n                        resolve();\n                        (0, core_1.logDebug)(\"UniversalProvider disconnect Disconnected\");\n                        (0, core_1.reportLog)('provider disconnect disconnected');\n                    }\n                });\n                try {\n                    yield this.client.disconnect();\n                    yield onRequestSent();\n                }\n                catch (e) {\n                    yield onRequestSent();\n                }\n            }));\n        });\n    }\n    disconnectAndEmit() {\n        var _a, _b;\n        this.client.engine.connectionManager.disconnect();\n        this.events.emit(\"disconnect\", { topic: (_a = this.session) === null || _a === void 0 ? void 0 : _a.topic });\n        this.events.emit(\"session_delete\", { topic: (_b = this.session) === null || _b === void 0 ? void 0 : _b.topic });\n    }\n    aptosChainNameToGeneralId(chainId) {\n        if (chainId == \"aptos:mainnet\") {\n            return \"aptos:637\";\n        }\n        else if (chainId == \"movement:testnet\") {\n            return \"aptos:70000060\";\n        }\n        else {\n            return chainId;\n        }\n    }\n    replaceAptos(opts) {\n        var _a, _b;\n        let aptosNameSpace = (_a = opts.namespaces) === null || _a === void 0 ? void 0 : _a[\"aptos\"];\n        if (aptosNameSpace != undefined) {\n            let realNS = this.replaceAptosInner(aptosNameSpace);\n            if (opts.namespaces != undefined && \"aptos\" in opts.namespaces && realNS != undefined) {\n                opts.namespaces.aptos = realNS;\n            }\n        }\n        let optionAptosNameSpace = (_b = opts.optionalNamespaces) === null || _b === void 0 ? void 0 : _b[\"aptos\"];\n        if (optionAptosNameSpace != undefined) {\n            let realOptionNS = this.replaceAptosInner(optionAptosNameSpace);\n            if (opts.optionalNamespaces != undefined && \"aptos\" in opts.optionalNamespaces && realOptionNS != undefined) {\n                opts.optionalNamespaces.aptos = realOptionNS;\n            }\n        }\n        return opts;\n    }\n    replaceAptosInner(aptosNameSpace) {\n        var _a;\n        if (aptosNameSpace != undefined) {\n            aptosNameSpace.chains = (_a = aptosNameSpace.chains) === null || _a === void 0 ? void 0 : _a.map(chainId => {\n                return this.aptosChainNameToGeneralId(chainId);\n            });\n            if (aptosNameSpace.defaultChain != undefined) {\n                aptosNameSpace.defaultChain = this.aptosChainNameToGeneralId(aptosNameSpace.defaultChain);\n            }\n        }\n        return aptosNameSpace;\n    }\n    replaceAptosGeneralIdWithNetName(chainId) {\n        if (chainId.includes(\"aptos:637\")) {\n            chainId = chainId.replace(\"aptos:637\", \"aptos:mainnet\");\n        }\n        else if (chainId.includes(\"aptos:70000060\")) {\n            chainId = chainId.replace(\"aptos:70000060\", \"movement:testnet\");\n        }\n        return chainId;\n    }\n    replaceSessionAptos(session) {\n        var _a;\n        let namespaces = (_a = session === null || session === void 0 ? void 0 : session.namespaces) === null || _a === void 0 ? void 0 : _a[\"aptos\"];\n        if (namespaces != undefined && namespaces.chains != undefined) {\n            namespaces.chains = namespaces.chains.map(chain => {\n                return this.replaceAptosGeneralIdWithNetName(chain);\n            });\n            namespaces.accounts = namespaces.accounts.map((account) => {\n                return this.replaceAptosGeneralIdWithNetName(account);\n            });\n            let extra = {};\n            Object.keys(namespaces.extra || {}).forEach((key, index) => {\n                let newKey = this.replaceAptosGeneralIdWithNetName(key);\n                extra[this.replaceAptosGeneralIdWithNetName(key)] = Object.values((session === null || session === void 0 ? void 0 : session.namespaces[\"aptos\"].extra) || {})[index];\n            });\n            namespaces.extra = extra;\n        }\n        (0, core_1.logDebug)(\"replaceSessionAptos\", session);\n    }\n    connected() {\n        (0, core_1.logDebug)('OKXUniversalProvider connected() called');\n        (0, core_1.reportLog)('provider connected called');\n        let disconnectInner = () => {\n            try {\n                this.cleanup();\n                this.client.engine.connectionManager.disconnect();\n            }\n            catch (e) {\n                (0, core_1.logDebug)(\"Error during disconnect:\", e);\n            }\n        };\n        try {\n            if (!this.session)\n                return false;\n            if (!this.client.engine.connectionManager.getCurrentConnectionReady()) {\n                disconnectInner();\n                return false;\n            }\n            return true;\n        }\n        catch (e) {\n            disconnectInner();\n            return false;\n        }\n    }\n    connectAndSign(opts, signRequest) {\n        return __awaiter(this, void 0, void 0, function* () {\n            (0, core_1.logDebug)('OKXUniversalProvider connectAndSign() called');\n            const updatedOpts = Object.assign(Object.assign({}, opts), { signRequest });\n            (0, core_1.logDebug)('OKXUniversalProvider connectAndSign() opts:', JSON.stringify(opts));\n            (0, core_1.logDebug)('OKXUniversalProvider connectAndSign() signRequest:', JSON.stringify(signRequest));\n            return yield this.connect(updatedOpts);\n        });\n    }\n    connect(opts) {\n        return __awaiter(this, void 0, void 0, function* () {\n            (0, core_1.logDebug)('OKXUniversalProvider connect() called');\n            (0, core_1.reportLog)('provider connect called');\n            if (!this.client) {\n                throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, \"Sign Client not initialized\");\n            }\n            if (this.connected()) {\n                return this.session;\n            }\n            opts = this.replaceAptos(opts);\n            (0, core_1.logDebug)(`OKXUniversalProvider connect >>>>`, JSON.stringify(opts));\n            if (opts.sessionConfig === undefined) {\n                opts.sessionConfig = {};\n            }\n            if (opts.sessionConfig.openUniversalUrl === undefined) {\n                opts.sessionConfig.openUniversalUrl = (0, core_1.isMobileUserAgent)();\n            }\n            this.setNamespaces(opts);\n            try {\n                (0, core_1.logDebug)(`UniversalProvider connect opts.stringify ====> ${JSON.stringify(opts)}`);\n                let session = yield this.client.connect(opts);\n                this.replaceSessionAptos(session);\n                (0, core_1.logDebug)(`UniversalProvider connect success ====> ${JSON.stringify(session)}`);\n                if (session) {\n                    this.session = session;\n                    this.client.session = session;\n                    (0, core_1.logDebug)(`OKXUniversalProvider connect success opts>>>>`, JSON.stringify(opts));\n                    this.onConnect();\n                    if (opts.signRequest && opts.signRequest.length > 0) {\n                        let requestItem = opts.signRequest[0];\n                        let signResponseList = [];\n                        if (typeof window !== \"undefined\" && window && window.okxConnectUniversalUIinwindow) { //from UI\n                            (0, core_1.logDebug)(`OKXUniversalProvider connect success, us UI SDK>>>>`);\n                            if (this.session.signResponse && this.session.signResponse.length > 0) { // >=6.96\n                                signResponseList = this.session.signResponse;\n                            }\n                        }\n                        else {\n                            (0, core_1.logDebug)(`OKXUniversalProvider connect success, us Universal SDK>>>>`);\n                            if (this.session.signResponse && this.session.signResponse.length > 0) { // >=6.96\n                                signResponseList = this.session.signResponse;\n                            }\n                            else {\n                                signResponseList.push((0, packages_1.creatNotSupportMethodItemReplay)(requestItem));\n                            }\n                        }\n                        (0, core_1.logDebug)(`UniversalProvider connect success connectRequestReply ====> ${JSON.stringify(signResponseList)}`);\n                        setTimeout(() => {\n                            this.events.emit(\"connect_signResponse\", signResponseList);\n                        }, 100);\n                    }\n                    return session;\n                }\n                return undefined;\n            }\n            catch (error) {\n                (0, core_1.logDebug)(`UniversalProvider connect error ====> `, JSON.stringify(error));\n                throw error;\n            }\n        });\n    }\n    syncAllAddresses() {\n        return __awaiter(this, void 0, void 0, function* () {\n            if ((0, provider_1.syncAddressAvailable)(this.session.wallet)) {\n                return this.client.syncAllAddress();\n            }\n            else {\n                throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED);\n            }\n        });\n    }\n    on(event, listener) {\n        this.events.on(event, listener);\n    }\n    once(event, listener) {\n        this.events.once(event, listener);\n    }\n    removeListener(event, listener) {\n        this.events.removeListener(event, listener);\n    }\n    off(event, listener) {\n        this.events.off(event, listener);\n    }\n    setDefaultChain(chain, rpcUrl) {\n        (0, core_1.logDebug)('OKXUniversalProvider setDefaultChain() called');\n        // chain = this.aptosChainNameToGeneralId(chain)\n        try {\n            // ignore without active session\n            if (!this.connected())\n                return;\n            const [namespace, chainId] = this.validateChain(chain);\n            const provider = this.getProvider(namespace);\n            provider.setDefaultChain(chainId, rpcUrl);\n        }\n        catch (error) {\n            // ignore the error if the fx is used prematurely before namespaces are set\n            if (!/Please call connect/.test(error.message))\n                throw error;\n        }\n    }\n    checkStorage() {\n        return __awaiter(this, void 0, void 0, function* () {\n            let sessionInfoStr = yield this.getFromStore(\"connectSession\");\n            (0, core_1.logDebug)(sessionInfoStr);\n            if (sessionInfoStr) {\n                let sessionInfo = sessionInfoStr;\n                this.session = sessionInfo;\n                this.client.session = this.session;\n                this.sessionConfig = sessionInfo.sessionConfig;\n                this.client.sessionConfig = this.sessionConfig;\n                (0, core_1.logDebug)('[evm u-provider] do reconnection', this.session);\n                yield this.client.restoreconnect(sessionInfo);\n                this.createProviders();\n                this.registerEventListeners();\n                setTimeout(() => {\n                    this.events.emit(\"reconnect\", { session: this.session });\n                }, 100);\n                this.registerEventListeners();\n            }\n        });\n    }\n    initialize() {\n        return __awaiter(this, void 0, void 0, function* () {\n            (0, core_1.logDebug)('OKXUniversalProvider initialize() called');\n            (0, core_1.reportLog)('provider initialize called');\n            const data = Object.assign({ url: window.location.hostname, origin: window.location.origin }, this.providerOpts.dappMetaData);\n            this.client = new client_1.SignClient(data, this.events);\n            yield this.checkStorage();\n        });\n    }\n    createProviders() {\n        if (!this.client) {\n            throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, \"Sign Client not initialized\");\n        }\n        if (!this.connected()) {\n            throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, \"Session not initialized. Please call connect() before enable()\");\n        }\n        const providersToCreate = [\n            ...new Set(Object.keys(this.session.namespaces).map((namespace) => (0, namespaces_1.parseNamespaceKey)(namespace))),\n        ];\n        providersToCreate.forEach((namespace) => {\n            if (!this.session)\n                return;\n            const namespacesValue = this.session.namespaces;\n            const currentNameSpace = namespacesValue[namespace];\n            (0, core_1.logDebug)(\"init eip155 >> \", currentNameSpace);\n            switch (namespace) {\n                case \"eip155\":\n                    const opts = {\n                        namespace: currentNameSpace\n                    };\n                    this.rpcProviders[namespace] = new eip155_1.Eip155Provider(opts, this.client, this.events);\n                    break;\n                case \"solana\":\n                    const opts1 = {\n                        namespace: currentNameSpace\n                    };\n                    let solanaProvider = new solana_1.default(opts1, \"solana\", this.client, this.events);\n                    this.rpcProviders[namespace] = solanaProvider;\n                    let sonicProvider = new solana_1.default(opts1, \"sonic\", this.client, this.events);\n                    this.rpcProviders['sonic'] = sonicProvider;\n                    let svmProvider = new solana_1.default(opts1, \"svm\", this.client, this.events);\n                    this.rpcProviders['svm'] = svmProvider;\n                    // this.rpcProviders[namespace] = new SolanaProvider(opts1, () => { return this.session; });\n                    break;\n                case \"ton\":\n                    const optsTon = {\n                        namespace: currentNameSpace\n                    };\n                    let tonProvider = new ton_1.default(optsTon, this.client, this.events);\n                    this.rpcProviders[namespace] = tonProvider;\n                    break;\n                case \"sui\":\n                    const optsSui = {\n                        namespace: currentNameSpace\n                    };\n                    let suiProvider = new sui_1.SuiProvider(optsSui, this.client, this.events);\n                    suiProvider.name = \"sui\";\n                    this.rpcProviders[namespace] = suiProvider;\n                    break;\n                case \"btc\":\n                    const optsBtc = {\n                        namespace: currentNameSpace\n                    };\n                    let btcProvider = new btc_1.default(optsBtc, \"btc\", this.client, this.events);\n                    this.rpcProviders[\"btc\"] = btcProvider;\n                    let fbProvider = new btc_1.default(optsBtc, \"fractal\", this.client, this.events);\n                    this.rpcProviders[\"fractal\"] = fbProvider;\n                    break;\n                case \"aptos\":\n                    let aptosProvider = new aptos_1.default({\n                        namespace: currentNameSpace\n                    }, \"aptos\", this.client, this.events);\n                    this.rpcProviders[namespace] = aptosProvider;\n                    let moveProvider = new aptos_1.default({\n                        namespace: currentNameSpace\n                    }, \"movement\", this.client, this.events);\n                    this.rpcProviders[\"movement\"] = moveProvider;\n                    break;\n                case \"cosmos\":\n                    let cosmosProvider = new cosmos_1.default({\n                        namespace: currentNameSpace\n                    }, this.client, this.events);\n                    this.rpcProviders[namespace] = cosmosProvider;\n                    break;\n                case \"tron\":\n                    let tronProvider = new tron_1.default({\n                        namespace: currentNameSpace\n                    }, this.client, this.events);\n                    this.rpcProviders[namespace] = tronProvider;\n                    break;\n            }\n        });\n    }\n    registerEventListeners() {\n        if (typeof this.client === \"undefined\") {\n            throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, \"Sign Client is not initialized\");\n        }\n        this.client.engine.addDisconnectListener(() => {\n            this.disconnectAndEmit();\n            this.cleanup();\n        });\n        this.on(constants_1.PROVIDER_EVENTS.DEFAULT_CHAIN_CHANGED, (caip2ChainId) => {\n            this.onChainChanged(caip2ChainId);\n        });\n        this.on(constants_1.PROVIDER_EVENTS.UPDATE_NAMESPACES, (nameSpaces) => {\n            if (nameSpaces) {\n                const nameSpacekey = Object.keys(nameSpaces)[0];\n                if (this.session) {\n                    this.session.namespaces[nameSpacekey] = nameSpaces[nameSpacekey];\n                    if (this.session) {\n                        this.persist(\"connectSession\", this.session);\n                        this.events.emit(\"session_update\", this.session);\n                    }\n                    (0, core_1.logDebug)(\"PROVIDER_EVENTS.UPDATE_NAMESPACES this.session... ->>>\", JSON.stringify(this.session));\n                }\n            }\n        });\n    }\n    getProvider(namespace) {\n        (0, core_1.logDebug)('current get providers', this.rpcProviders);\n        (0, core_1.logDebug)('query namespace: ', namespace);\n        return this.rpcProviders[namespace];\n    }\n    setNamespaces(params) {\n        this.connectOpts = params;\n        const { namespaces, sessionConfig } = params;\n        const data = {\n            origin: window.location.origin,\n            url: window.location.hostname,\n            name: this.providerOpts.dappMetaData.name,\n            icon: this.providerOpts.dappMetaData.icon,\n        };\n        this.sessionConfig = Object.assign({ dappInfo: data }, sessionConfig);\n        (0, core_1.logDebug)(\"setNamespaces sessionConfig>>>\", this.sessionConfig);\n        this.client.sessionConfig = this.sessionConfig;\n        this.persist(\"sessionConfig\", sessionConfig);\n    }\n    validateChain(chain) {\n        var _a;\n        let [namespace, chainId] = (chain === null || chain === void 0 ? void 0 : chain.split(\":\")) || [\"\", \"\"];\n        if (!this.session || !this.session.namespaces || !Object.keys(this.session.namespaces).length) {\n            (0, core_1.logDebug)('get name & chain', namespace, chainId);\n            return [namespace, chainId];\n        }\n        if (namespace) {\n            if (!this.isChainNamespaceInSession(namespace)) {\n                throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR, `Namespace '${namespace}' is not configured. Please call connect() first with namespace config.`);\n            }\n            if (chainId && chain) {\n                (0, core_1.logDebug)('this.session.namespaces -->> ', namespace, JSON.stringify(this.session.namespaces));\n                const chainsArr = (_a = this.session.namespaces[namespace]) === null || _a === void 0 ? void 0 : _a.chains;\n                (0, core_1.logDebug)('get chainsArr & chain', JSON.stringify(chainsArr), chain);\n                if (chainsArr && !chainsArr.includes(chain)) {\n                    throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR, `Namespace not include the chain '${chain}'`);\n                }\n            }\n        }\n        if (namespace && chainId) {\n            (0, core_1.logDebug)('get name & chain', namespace, chainId);\n            return [namespace, chainId];\n        }\n        let defaultNamespace = (0, namespaces_1.parseNamespaceKey)(Object.keys(this.session.namespaces)[0]);\n        const defaultChain = this.rpcProviders[defaultNamespace].getDefaultChain();\n        (0, core_1.logDebug)('get default chain:', defaultChain);\n        return [defaultNamespace, defaultChain];\n    }\n    isChainNamespaceInSession(namespaceStr) {\n        var _a, _b;\n        if (Object.keys(((_a = this.session) === null || _a === void 0 ? void 0 : _a.namespaces) || {})\n            .map((key) => (0, namespaces_1.parseNamespaceKey)(key))\n            .includes(namespaceStr)) {\n            return true;\n        }\n        let isChainNamespaceInSession = false;\n        Object.values(((_b = this.session) === null || _b === void 0 ? void 0 : _b.namespaces) || {})\n            .forEach(namespace => {\n            namespace.chains.forEach(chain => {\n                if (chain.split(\":\")[0] == namespaceStr) {\n                    isChainNamespaceInSession = true;\n                }\n            });\n        });\n        return isChainNamespaceInSession;\n    }\n    requestAccountsWithNamespace(namespace) {\n        return this.getProvider(namespace).requestAccounts();\n    }\n    requestDefaultChainWithNamespace(namespace) {\n        return this.getProvider(namespace).getDefaultChain();\n    }\n    requestAccounts() {\n        return __awaiter(this, void 0, void 0, function* () {\n            const [namespace] = this.validateChain();\n            return yield this.getProvider(namespace).requestAccounts();\n        });\n    }\n    onChainChanged(caip2Chain) {\n        var _a;\n        if (!((_a = this.session) === null || _a === void 0 ? void 0 : _a.namespaces))\n            return;\n        const [namespace, chainId] = this.validateChain(caip2Chain);\n        if (!chainId)\n            return;\n        if (this.session.namespaces[namespace]) {\n            this.session.namespaces[namespace].defaultChain = chainId;\n            this.persist(\"connectSession\", this.session);\n        }\n        this.events.emit(\"chainChanged\", chainId);\n    }\n    onConnect() {\n        this.createProviders();\n        if (this.session) {\n            this.persist(\"connectSession\", this.session);\n        }\n        this.events.emit(\"connect\", { session: this.session });\n        this.registerEventListeners();\n    }\n    cleanup() {\n        return __awaiter(this, void 0, void 0, function* () {\n            this.session = undefined;\n            this.client.session = undefined;\n            this.sessionProperties = undefined;\n            this.persist(\"optionalNamespaces\", undefined);\n            this.persist(\"sessionProperties\", undefined);\n            this.persist(\"connectSession\", undefined);\n        });\n    }\n    persist(key, data) {\n        (0, core_1.logDebug)('[evm u-provider] persisit data', key, data);\n        return this.client.engine.connectionManager.saveSessionContent(key, data);\n    }\n    getFromStore(key) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return this.client.engine.connectionManager.getSessionContent(key);\n        });\n    }\n    showRequestModal(args, chain) {\n        try {\n            const { namespace, requestParam } = this.buildRequestParamFromRequest(args, chain);\n            return this.getProvider(namespace).showRequestModal(requestParam);\n        }\n        catch (e) {\n            return false;\n        }\n    }\n}\nexports.OKXUniversalProvider = OKXUniversalProvider;\nexports.default = OKXUniversalProvider;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.OKXTronProvider = exports.OKXTonProvider = exports.OKXCosmosProvider = exports.OKXBtcProvider = exports.OKXUniversalProvider = void 0;\n__exportStar(require(\"./provider/types\"), exports);\n__exportStar(require(\"./packages\"), exports);\nvar OKXUniversalProvider_1 = require(\"./OKXUniversalProvider\");\nObject.defineProperty(exports, \"OKXUniversalProvider\", { enumerable: true, get: function () { return OKXUniversalProvider_1.OKXUniversalProvider; } });\nvar OKXBtcProvider_1 = require(\"./OKXBtcProvider\");\nObject.defineProperty(exports, \"OKXBtcProvider\", { enumerable: true, get: function () { return OKXBtcProvider_1.OKXBtcProvider; } });\nvar OKXCosmosProvider_1 = require(\"./OKXCosmosProvider\");\nObject.defineProperty(exports, \"OKXCosmosProvider\", { enumerable: true, get: function () { return OKXCosmosProvider_1.OKXCosmosProvider; } });\nvar OKXTonProvider_1 = require(\"./OKXTonProvider\");\nObject.defineProperty(exports, \"OKXTonProvider\", { enumerable: true, get: function () { return OKXTonProvider_1.OKXTonProvider; } });\nvar OKXTronProvider_1 = require(\"./OKXTronProvider\");\nObject.defineProperty(exports, \"OKXTronProvider\", { enumerable: true, get: function () { return OKXTronProvider_1.OKXTronProvider; } });\n__exportStar(require(\"@okxconnect/core\"), exports);\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./utils\"), exports);\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SignClient = void 0;\nconst core_1 = require(\"@okxconnect/core\");\nconst namespaces_1 = require(\"../utils/namespaces\");\nconst ConnectMethodUtils_1 = require(\"../utils/ConnectMethodUtils\");\nconst constants_1 = require(\"../../provider/constants\");\nclass SignClient extends core_1.ISignClient {\n    constructor(metaData, events) {\n        super(metaData);\n        // ---------- Engine ----------------------------------------------- //\n        this.connect = (params) => __awaiter(this, void 0, void 0, function* () {\n            return new Promise((resolve, reject) => __awaiter(this, void 0, void 0, function* () {\n                try {\n                    var connectRequest = [];\n                    (0, core_1.logDebug)(`client connect params >>>`, JSON.stringify(params));\n                    var requestAccountItem = {\n                        name: \"requestAccounts\",\n                        requiredNamespaces: (0, namespaces_1.nameSpaceToConnectWalletNameSpace)(params.namespaces),\n                        optionalNamespaces: (0, namespaces_1.nameSpaceToConnectWalletNameSpace)(params.optionalNamespaces),\n                    };\n                    this.engine.setSessionConnectingListener(() => {\n                        (0, core_1.logDebug)(`sessionConnectingListener >>>`);\n                        this.events.emit(constants_1.PROVIDER_EVENTS.SESSION_CONNECTING);\n                    });\n                    if (params.signRequest) {\n                        requestAccountItem.connectRequestMethods = yield (0, ConnectMethodUtils_1.connectMethodsToConnectWalletMethods)(params.signRequest, requestAccountItem.requiredNamespaces);\n                    }\n                    connectRequest.push(requestAccountItem);\n                    (0, core_1.logDebug)(`client connect connectRequest >>>`, JSON.stringify(connectRequest));\n                    this.engine.universalConnect(connectRequest, Object.assign({ dappInfo: this.metadata }, params.sessionConfig), (info) => {\n                        if (info && info.connectRequest) {\n                            (0, core_1.logDebug)(`universalConect info.connectRequest :`, info.connectRequest);\n                            (0, core_1.logDebug)(`universalConect url:`, (0, core_1.getOKXLink)(info.connectRequest, this.sessionConfig.useMini));\n                            this.events.emit(\"display_uri\", (0, core_1.getOKXLink)(info.connectRequest, this.sessionConfig.useMini));\n                            this.events.emit(\"short_display_uri\", (0, core_1.getAppWalletShortDeepLink)(info.connectRequest.topic, info.connectRequest.clientId));\n                            (0, core_1.logDebug)(`universalConect EngineConnectInfo  ${JSON.stringify(info)}`);\n                            this.events.emit(\"okx_engine_connect_params\", info);\n                        }\n                    }).then((session) => __awaiter(this, void 0, void 0, function* () {\n                        (0, namespaces_1.fillParamsToSession)(session, params.namespaces, params.optionalNamespaces, this.sessionConfig);\n                        (0, core_1.logDebug)(`signClient: connect: session ${JSON.stringify(session)}`);\n                        if (params.signRequest) {\n                            yield (0, ConnectMethodUtils_1.connectMethodsResponseUpdate)(session, params.signRequest);\n                        }\n                        resolve(session);\n                    })).catch((e) => {\n                        (0, core_1.logDebug)(`signClient: connect: catch ${JSON.stringify(e)}`);\n                        this.events.emit(\"connect_error\", e);\n                        reject(e);\n                    });\n                }\n                catch (error) {\n                    (0, core_1.logDebug)(`signClient: connect:  ${JSON.stringify(error)}`);\n                    reject(error);\n                }\n            }));\n        });\n        this.restoreconnect = (sessionConfig) => __awaiter(this, void 0, void 0, function* () {\n            return new Promise((resolve, reject) => {\n                this.engine.restoreconnect(sessionConfig, (session) => {\n                    resolve(session);\n                });\n            });\n        });\n        this.reject = (params) => __awaiter(this, void 0, void 0, function* () {\n            //   try {\n            //     return await this.engine.reject(params);\n            //   } catch (error: any) {\n            //     this.logger.error(error.message);\n            //     throw error;\n            //   }\n        });\n        //\n        // public update: ISignClient[\"update\"] = async (params) => {\n        //   return\n        // //   try {\n        // //     return await this.engine.update(params);\n        // //   } catch (error: any) {\n        // //     this.logger.error(error.message);\n        // //     throw error;\n        // //   }\n        // };\n        this.request = (params) => __awaiter(this, void 0, void 0, function* () {\n            return new Promise((resolve, reject) => __awaiter(this, void 0, void 0, function* () {\n                var _a, _b;\n                (0, core_1.logDebug)(\"clint request --params>>>> >\", this.engine.connectionManager.getCurrentConnectionReady(), (_a = this.sessionConfig) === null || _a === void 0 ? void 0 : _a.openUniversalUrl, JSON.stringify(params));\n                try {\n                    // this.sessionConfig\n                    if (((_b = this.sessionConfig) === null || _b === void 0 ? void 0 : _b.openUniversalUrl) && (0, core_1.isIos)()) {\n                        this.openOKXWallet();\n                    }\n                    yield this.engine.send(params, {\n                        resolve: (response) => {\n                            delete response.requestId;\n                            (0, core_1.logDebug)(\"clint request --response >\", JSON.stringify(response));\n                            if (('error' in response) && response.error) {\n                                let error = response.error;\n                                reject(new core_1.OKXConnectError(response.error.code, response.method + \":\" + error.message));\n                            }\n                            else {\n                                resolve(response);\n                            }\n                        },\n                        onAck: () => {\n                            var _a;\n                            if (!(0, core_1.isIos)() && ((_a = this.sessionConfig) === null || _a === void 0 ? void 0 : _a.openUniversalUrl)) {\n                                this.openOKXWallet();\n                            }\n                        }\n                    });\n                }\n                catch (e) {\n                    reject(e);\n                }\n            }));\n        });\n        // public emit: ISignClient[\"emit\"] = async (params) => {\n        //     try {\n        //         // return await this.engine.emit(params);\n        //     } catch (error: any) {\n        //         throw error;\n        //     }\n        // };\n        this.disconnect = () => __awaiter(this, void 0, void 0, function* () {\n            return new Promise((resolve, reject) => {\n                this.engine.send({\n                    method: \"disconnect\"\n                }, {\n                    onAck: () => {\n                        resolve();\n                    }\n                }, undefined, 86400000).catch((error) => {\n                    console.log(`disconnect : ${JSON.stringify(error)}`);\n                    reject(error);\n                });\n            });\n        });\n        this.engine = new core_1.Engine(new core_1.ConnectionManager(metaData.name));\n        this.events = events;\n        this.metadata = metaData;\n    }\n    openOKXWallet() {\n        var _a;\n        // if (this.openUniversalUrl){\n        (0, core_1.logDebug)('bridge-provider ==>> connect_5');\n        if ((_a = this.sessionConfig) === null || _a === void 0 ? void 0 : _a.useMini) {\n            let url = (0, core_1.getTelegramWalletTWAUrl)(undefined, this.sessionConfig.tmaReturnUrl);\n            (0, core_1.openOKXTMAWalletlinkWithFallback)(url);\n        }\n        else {\n            (0, core_1.openOKXDeeplink)(core_1.standardDeeplink);\n        }\n        // }\n    }\n    syncAllAddress() {\n        return __awaiter(this, void 0, void 0, function* () {\n            return new Promise((resolve, reject) => {\n                this.engine.send({\n                    method: \"sync_all_addresses\"\n                }, {\n                    resolve: (response) => {\n                        delete response.requestId;\n                        (0, core_1.logDebug)(\"clint syncAllAddress --response >\", JSON.stringify(response));\n                        if (('error' in response) && response.error) {\n                            let error = response.error;\n                            reject(new core_1.OKXConnectError(response.error.code, response.method + \":\" + error.message));\n                        }\n                        else {\n                            let allAddressStr = response.result;\n                            resolve((0, ConnectMethodUtils_1.syncResoonseToRequire)(allAddressStr));\n                        }\n                    }\n                }).catch((error) => {\n                    console.log(`disconnect : ${JSON.stringify(error)}`);\n                    reject(error);\n                });\n            });\n        });\n    }\n}\nexports.SignClient = SignClient;\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.connectSupportMethods = void 0;\nexports.creatNotSupportMethodItemReplay = creatNotSupportMethodItemReplay;\nexports.connectMethodsAdaptOldVersion = connectMethodsAdaptOldVersion;\nexports.connectMethodsResponseUpdate = connectMethodsResponseUpdate;\nexports.connectMethodsToConnectWalletMethods = connectMethodsToConnectWalletMethods;\nexports.syncResoonseToRequire = syncResoonseToRequire;\nconst core_1 = require(\"@okxconnect/core\");\nconst bs58_1 = __importDefault(require(\"bs58\"));\nconst uint8array_extras_1 = require(\"uint8array-extras\");\nconst provider_1 = require(\"../../provider\");\nfunction isArray(value) {\n    return typeof value === \"object\" && value !== null && Array.isArray(value);\n}\nfunction isRecord(value) {\n    return typeof value === \"object\" && value !== null && !Array.isArray(value);\n}\n// \"wallet_addEthereumChain\",\nexports.connectSupportMethods = Object.freeze([\n    \"personal_sign\",\n    \"solana_signMessage\",\n    \"sui_signMessage\",\n    \"sui_signPersonalMessage\",\n    \"btc_signMessage\",\n    \"aptos_signMessage\",\n    \"cosmos_signArbitrary\",\n    \"tron_signMessage\",\n    \"tron_signMessageV2\",\n    \"sync_all_addresses\"\n]);\nfunction creatNotSupportMethodItemReplay(requestParams) {\n    let notSupportError = new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED);\n    var errorItem = {\n        method: requestParams.method,\n        chainId: requestParams.chainId,\n        error: {\n            code: notSupportError.code,\n            message: notSupportError.message\n        },\n    };\n    return errorItem;\n}\nfunction connectMethodsAdaptOldVersion(requestParams, session) {\n    return __awaiter(this, void 0, void 0, function* () {\n        var _a, _b, _c, _d, _e;\n        try {\n            (0, core_1.logDebug)(\"connectMethodsAdaptOldVersion start params :\", JSON.stringify(requestParams));\n            let callBackParams = {};\n            if (requestParams.method === \"solana_signMessage\") {\n                let solAccount = (_a = session.namespaces[core_1.NameSpaceKeySOL]) === null || _a === void 0 ? void 0 : _a.accounts.filter(function (account1) {\n                    return account1.startsWith(requestParams.chainId);\n                })[0];\n                const solAddress = (0, provider_1.fromAccountToAddress)(solAccount);\n                if (requestParams.params && solAddress && \"message\" in requestParams.params) {\n                    let realMessage = requestParams.params.message;\n                    if (((_b = session.wallet) === null || _b === void 0 ? void 0 : _b.appName) == \"OKX Wallet\") {\n                        realMessage = bs58_1.default.encode((0, uint8array_extras_1.stringToUint8Array)(realMessage));\n                    }\n                    requestParams.params = {\n                        message: realMessage,\n                        \"pubkey\": solAddress\n                    };\n                    callBackParams = {\n                        publicKey: solAddress\n                    };\n                    (0, core_1.logDebug)(\"solana_signMessage account and address:\", JSON.stringify(solAccount), solAddress);\n                    (0, core_1.logDebug)(\"solana_signMessage callBackParams:\", JSON.stringify(callBackParams));\n                    return callBackParams;\n                }\n                else {\n                    throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED);\n                }\n            }\n            else if (requestParams.method === \"sui_signMessage\" || requestParams.method === \"sui_signPersonalMessage\") {\n                if (\"message\" in requestParams.params && requestParams.params.message) {\n                    let suiMessage = JSON.parse(JSON.stringify(requestParams.params.message));\n                    let convertedArray = Object.values(suiMessage);\n                    let uint8Array = new Uint8Array(convertedArray);\n                    let decoder = new TextDecoder(\"utf8\");\n                    let b64encoded = btoa(decoder.decode(uint8Array));\n                    requestParams.params = {\n                        message: atob(b64encoded),\n                    };\n                    console.log(\"sui_signMessag suiMessagee suiMessageb64:>>>>\", JSON.stringify(requestParams.params), b64encoded);\n                    if (requestParams.method === \"sui_signMessage\") {\n                        callBackParams = {\n                            \"messageBytes\": b64encoded,\n                            \"signature\": \"\"\n                        };\n                    }\n                    else if (requestParams.method === \"sui_signPersonalMessage\") {\n                        callBackParams = {\n                            \"bytes\": b64encoded,\n                            \"signature\": \"\"\n                        };\n                    }\n                    (0, core_1.logDebug)(\"sui_signMessage/sui_signPersonalMessage callBackParams:\", JSON.stringify(callBackParams));\n                    return callBackParams;\n                }\n                else {\n                    throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED);\n                }\n            }\n            else if (requestParams.method === \"btc_signMessage\") {\n                let btcAccounts = (_c = session.namespaces[core_1.NameSpaceKeyBtc]) === null || _c === void 0 ? void 0 : _c.accounts.filter(function (account2) {\n                    return account2.startsWith(requestParams.chainId);\n                });\n                let btcAccount = btcAccounts[0];\n                const btcAddress = (0, provider_1.fromAccountToAddress)(btcAccount);\n                (0, core_1.logDebug)(\"btc_signMessage account and address:\", JSON.stringify(btcAccount), btcAddress);\n                if (btcAddress) {\n                    requestParams.params[\"from\"] = btcAddress;\n                    (0, core_1.logDebug)(\"btc_signMessage callBackParams:\", JSON.stringify(callBackParams));\n                    return callBackParams;\n                }\n                else {\n                    throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED);\n                }\n            }\n            else if (requestParams.method === \"aptos_signMessage\") {\n                let paramData = requestParams.params;\n                let aptosAccount = (_d = session.namespaces[core_1.NameSpaceKeyAptos]) === null || _d === void 0 ? void 0 : _d.accounts.filter(function (account3) {\n                    return account3.startsWith(requestParams.chainId);\n                })[0];\n                let aptosAddress = (0, provider_1.fromAccountToAddress)(aptosAccount);\n                if (paramData && aptosAddress) {\n                    let prefix = \"APTOS\";\n                    let message = \"\", nonce = \"\";\n                    var fullMessage = prefix;\n                    let application = window.location.protocol + \"//\" + window.location.hostname;\n                    if (\"address\" in paramData && paramData.address) {\n                        fullMessage += \"\\naddress: \" + aptosAddress;\n                    }\n                    if (\"application\" in paramData && paramData.application) {\n                        fullMessage += \"\\napplication: \" + application;\n                    }\n                    let aptosChainId = 1;\n                    if (\"chainId\" in paramData && paramData.chainId) {\n                        if (paramData.chainId == \"aptos:mainnet\") {\n                            aptosChainId = 1;\n                        }\n                        else if (paramData.chainId == \"movement:testnet\") {\n                            aptosChainId = 2;\n                        }\n                        fullMessage += \"\\nchainId: \" + aptosChainId;\n                    }\n                    if (\"message\" in paramData) {\n                        fullMessage += \"\\nmessage: \" + paramData.message;\n                        message = paramData.message;\n                    }\n                    if (\"nonce\" in paramData) {\n                        fullMessage += \"\\nnonce: \" + paramData.nonce;\n                        nonce = paramData.nonce;\n                    }\n                    const utf8Array = new TextEncoder().encode(fullMessage);\n                    const hex = Array.from(utf8Array)\n                        .map(byte => byte.toString(16).padStart(2, \"0\"))\n                        .join(\"\");\n                    requestParams.params = {\n                        \"message\": hex,\n                    };\n                    (0, core_1.logDebug)(\"aptos_signMessage requestParams:\", JSON.stringify(requestParams));\n                    callBackParams = {\n                        address: aptosAddress,\n                        application: application,\n                        chainId: aptosChainId,\n                        fullMessage: fullMessage,\n                        message: message,\n                        nonce: nonce,\n                        prefix: prefix,\n                        signature: \"\",\n                    };\n                    (0, core_1.logDebug)(\"aptos_signMessage callBackParams:\", JSON.stringify(callBackParams));\n                    return callBackParams;\n                }\n                else {\n                    throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED);\n                }\n            }\n            else if (requestParams.method === \"cosmos_signArbitrary\") {\n                let cosmosAccount = (_e = session === null || session === void 0 ? void 0 : session.namespaces[core_1.NameSpaceKeyCosmos]) === null || _e === void 0 ? void 0 : _e.accounts.filter(function (account_cosmos) {\n                    return account_cosmos.startsWith(requestParams.chainId);\n                })[0];\n                const cosmosAddress = (0, provider_1.fromAccountToAddress)(cosmosAccount);\n                let cosmosData = requestParams.params[\"message\"];\n                const cosmosBase64Encoded = (0, uint8array_extras_1.stringToBase64)(cosmosData);\n                (0, core_1.logDebug)(\"cosmos_signArbitrary account and address:\", JSON.stringify(cosmosAccount), cosmosAddress);\n                (0, core_1.logDebug)(\"cosmos_signArbitrary cosmosBase64Encoded:\", cosmosBase64Encoded);\n                if (cosmosData && cosmosAddress) {\n                    const signDoc = {\n                        chain_id: \"\",\n                        account_number: \"0\",\n                        sequence: \"0\",\n                        fee: {\n                            gas: \"0\",\n                            amount: []\n                        },\n                        msgs: [{\n                                \"type\": \"sign/MsgSignData\",\n                                \"value\": {\n                                    \"signer\": cosmosAddress,\n                                    \"data\": cosmosBase64Encoded\n                                }\n                            }],\n                        memo: \"\"\n                    };\n                    requestParams.params = {\n                        \"signer\": cosmosAddress,\n                        \"chain_id\": requestParams.chainId.split(\":\")[1],\n                        \"data\": signDoc\n                    };\n                    (0, core_1.logDebug)(\"cosmos_signArbitrary callBackParams:\", JSON.stringify(callBackParams));\n                    return callBackParams;\n                }\n                else {\n                    throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED);\n                }\n            }\n            (0, core_1.logDebug)(\"sol_handleSignatureData end params:\", JSON.stringify(requestParams));\n        }\n        catch (error) {\n            throw error;\n        }\n    });\n}\nfunction connectMethodsResponseUpdate(session, requestParams) {\n    return __awaiter(this, void 0, void 0, function* () {\n        var _a;\n        try {\n            if (session.signResponse) {\n                (0, core_1.logDebug)(\"connectMethodsResponseUpdate signResponse:\", JSON.stringify(session.signResponse));\n                (0, core_1.logDebug)(\"connectMethodsResponseUpdate session.namespaces:\", JSON.stringify(session.namespaces));\n                for (const methodItem of session.signResponse) {\n                    (0, core_1.logDebug)(\"connectMethodsResponseUpdate methodItem:\", JSON.stringify(methodItem));\n                    if (\"result\" in methodItem) {\n                        if (methodItem.method === \"solana_signMessage\") {\n                            let solanaSuccessData = methodItem.result;\n                            (0, core_1.logDebug)(\"solana_signMessage methodItem.chainId:\", methodItem.chainId);\n                            let account = (_a = session.namespaces[core_1.NameSpaceKeySOL]) === null || _a === void 0 ? void 0 : _a.accounts.filter(function (account) {\n                                (0, core_1.logDebug)(\"solana_signMessage account:\", account);\n                                return account.startsWith(methodItem.chainId);\n                            })[0];\n                            (0, core_1.logDebug)(\"solana_signMessage result account:\", solanaSuccessData, account);\n                            if (solanaSuccessData && account) {\n                                methodItem.result = {\n                                    \"signature\": bs58_1.default.decode(solanaSuccessData),\n                                    \"publicKey\": (0, provider_1.fromAccountToAddress)(account)\n                                };\n                            }\n                        }\n                        else if (methodItem.method === \"sui_signMessage\" || methodItem.method === \"sui_signPersonalMessage\") {\n                            let suiMethod = requestParams.filter(function (requestMethod) {\n                                return requestMethod.method === methodItem.method;\n                            })[0];\n                            if (suiMethod && suiMethod.params && \"message\" in suiMethod.params) {\n                                let suiMessage = suiMethod.params.message;\n                                let suiMessageb64 = btoa(suiMessage);\n                                console.log(\"sui_signMessag suiMessagee suiMessageb64:>>>>\", suiMessage, suiMessageb64);\n                                if (methodItem.method === \"sui_signMessage\") {\n                                    methodItem.result = {\n                                        \"messageBytes\": suiMessageb64,\n                                        \"signature\": methodItem.result\n                                    };\n                                }\n                                else if (methodItem.method === \"sui_signPersonalMessage\") {\n                                    methodItem.result = {\n                                        \"bytes\": suiMessageb64,\n                                        \"signature\": methodItem.result\n                                    };\n                                }\n                            }\n                        }\n                        else if (methodItem.method === \"aptos_signMessage\") {\n                            if (methodItem.chainId === \"aptos:637\") {\n                                methodItem.chainId = \"aptos:mainnet\";\n                            }\n                            else if (methodItem.chainId === \"aptos:70000060\") {\n                                methodItem.chainId = \"movement:testnet\";\n                            }\n                            methodItem.result = JSON.parse(methodItem.result);\n                            console.log(\"aptos_signMessage result methodItem.result before:>>>>\", JSON.stringify(methodItem.result));\n                            if (methodItem.result && \"signature\" in methodItem.result) {\n                                let aptosSignature = methodItem.result.signature;\n                                if (aptosSignature && aptosSignature.startsWith(\"0x\")) {\n                                    aptosSignature = aptosSignature.slice(2, aptosSignature.length);\n                                    methodItem.result.signature = aptosSignature;\n                                }\n                            }\n                            console.log(\"aptos_signMessage result methodItem.result after:>>>>\", JSON.stringify(methodItem.result));\n                        }\n                        else if (methodItem.method === \"cosmos_signArbitrary\") {\n                            methodItem.result = JSON.parse(methodItem.result);\n                        }\n                        else if (methodItem.method == 'sync_all_addresses') {\n                            methodItem.result = syncResoonseToRequire(methodItem.result);\n                        }\n                    }\n                }\n            }\n        }\n        catch (error) {\n            (0, core_1.logDebug)(\"connectMethodsResponseUpdate signResponse Error:\", JSON.stringify(error));\n            throw error;\n        }\n    });\n}\nfunction connectMethodsToConnectWalletMethods(params, requireNameSpace) {\n    return __awaiter(this, void 0, void 0, function* () {\n        try {\n            (0, core_1.logDebug)(\"connectMethodsToConnectWalletMethods requestMethods:\", JSON.stringify(params));\n            const result = [];\n            //TODO  后面需要打开限制\n            if (params && params.length > 1) {\n                throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `connect requestMethods only support one data`);\n            }\n            if (!requireNameSpace && params && params.length > 0) {\n                throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `Connect request params error , RequestMethods cannot be added when the NameSpace is empty`);\n            }\n            // check chianId\n            for (const methodItem of params) {\n                if (methodItem.method === \"aptos_signMessage\") { //update chainId\n                    if (methodItem.chainId === \"aptos:mainnet\") {\n                        methodItem.chainId = \"aptos:637\";\n                    }\n                    else if (methodItem.chainId === \"movement:testnet\") {\n                        methodItem.chainId = \"aptos:70000060\";\n                    }\n                }\n                // check chianId\n                if (methodItem.method === \"wallet_addEthereumChain\") {\n                    var includeEip155 = requireNameSpace === null || requireNameSpace === void 0 ? void 0 : requireNameSpace.some(space => space.namespace.includes(\"eip155\"));\n                    if (!includeEip155) {\n                        throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `Connect request params error, When using '${methodItem.method}', the EVM chain needs to be included in the NameSpace`);\n                    }\n                }\n                else if (methodItem.method === \"sync_all_addresses\") {\n                    if ((0, provider_1.syncAddressHostAvailable)()) {\n                        methodItem.chainId = \"\";\n                    }\n                    else {\n                        throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED);\n                    }\n                }\n                else {\n                    const includeChain = !!(requireNameSpace === null || requireNameSpace === void 0 ? void 0 : requireNameSpace.some(space => space.chains.some(chain => chain.includes(`${methodItem.chainId}`))));\n                    if (!includeChain) {\n                        throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `Connect request params error, When using '${methodItem.method}', NameSpace must contain '${methodItem.chainId}'`);\n                    }\n                }\n            }\n            for (const item of params) {\n                if (!exports.connectSupportMethods.includes(item.method)) {\n                    throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `connect requestMethods not support method, method: '${item.method}'`);\n                }\n                if (item.method === \"wallet_addEthereumChain\") {\n                    if (Array.isArray(item.params)) {\n                        const paramsArr = item.params;\n                        if (paramsArr && paramsArr.length === 1) {\n                            const firstParam = paramsArr[0];\n                            if (isRecord(firstParam)) {\n                                item.params = firstParam;\n                            }\n                        }\n                        else if (paramsArr && paramsArr.length > 1) {\n                            throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `connect request params only support one data, method: '${item.method}'`);\n                        }\n                        else {\n                            throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `connect request params is nil, method: '${item.method}'`);\n                        }\n                    }\n                }\n                else if (item.method === \"personal_sign\") {\n                    if (isArray(item.params)) {\n                        if (item.params && item.params.length !== 1) {\n                            throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `connect request params error,  method: '${item.method}' `);\n                        }\n                        let firstObj = item.params[0];\n                        if (firstObj && typeof firstObj === 'string') {\n                            item.params = {\n                                message: firstObj\n                            };\n                        }\n                        else {\n                            throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `connect request params is error,  method: '${item.method}' `);\n                        }\n                    }\n                }\n                else if (item.method === \"sui_signMessage\" || item.method === \"sui_signPersonalMessage\") {\n                    if (isRecord(item.params) && 'message' in item.params) {\n                        if (item.params.message) {\n                            (0, core_1.logDebug)(\"sui_signMessage item.params.message :\", item.params.message);\n                            let message = JSON.parse(JSON.stringify(item.params.message));\n                            let convertedArray = Object.values(message);\n                            let uint8Array = new Uint8Array(convertedArray);\n                            let decoder = new TextDecoder(\"utf8\");\n                            let b64encoded = btoa(decoder.decode(uint8Array));\n                            item.params.message = atob(b64encoded);\n                        }\n                        else {\n                            throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `connect request params is error,  method: '${item.method}' `);\n                        }\n                    }\n                    else {\n                        throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `connect request params is error,  method: '${item.method}' `);\n                    }\n                }\n                else if (item.method === \"solana_signMessage\") {\n                    if (isRecord(item.params) && 'message' in item.params) {\n                        if (item.params.message && typeof item.params.message === 'string') {\n                            item.params[\"bs58Message\"] = bs58_1.default.encode((0, uint8array_extras_1.stringToUint8Array)(item.params.message));\n                        }\n                        else {\n                            throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `connect request params is error,  method: '${item.method}' `);\n                        }\n                    }\n                    else {\n                        throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `connect request params is error,  method: '${item.method}' `);\n                    }\n                }\n                else if (item.method === \"aptos_signMessage\") {\n                    if (isRecord(item.params)) {\n                        if (item.chainId && (item.chainId === \"aptos:637\" || item.chainId === \"aptos:70000060\")) {\n                            var aptosParams = item.params;\n                            var currentURL = window.location.protocol + \"//\" + window.location.hostname;\n                            let signChainId = 1;\n                            if (item.chainId === \"aptos:637\") {\n                            }\n                            else if (item.chainId === \"aptos:70000060\") {\n                                signChainId = 2;\n                            }\n                            item.params = {\n                                data: aptosParams,\n                                applicationUrl: currentURL,\n                                prefix: \"APTOS\",\n                                aptosChainId: signChainId\n                            };\n                        }\n                        else {\n                            throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `connect request params chainId is error,  method: '${item.method}' `);\n                        }\n                    }\n                    else {\n                        throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `connect request params is error,  method: '${item.method}' `);\n                    }\n                }\n                else if (item.method === \"cosmos_signArbitrary\") {\n                    if (isRecord(item.params)) {\n                        if (item.params.message && typeof item.params.message === 'string') {\n                            const base64Encoded = (0, uint8array_extras_1.stringToBase64)(item.params.message);\n                            let cosmosChain = item.chainId.split(\":\")[1];\n                            if (cosmosChain) {\n                                item.params = {\n                                    chain_id: cosmosChain,\n                                    data: {\n                                        chain_id: \"\",\n                                        account_number: \"0\",\n                                        sequence: \"0\",\n                                        fee: {\n                                            gas: \"0\",\n                                            amount: []\n                                        },\n                                        msgs: [{\n                                                \"type\": \"sign/MsgSignData\",\n                                                \"value\": {\n                                                    \"signer\": \"\", //address\n                                                    \"data\": base64Encoded\n                                                }\n                                            }],\n                                        memo: \"\"\n                                    }\n                                };\n                            }\n                            else {\n                                throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `connect request params chainId is error,  method: '${item.method}' `);\n                            }\n                        }\n                        else {\n                            throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `connect request params message is error,  method: '${item.method}' `);\n                        }\n                    }\n                    else {\n                        throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `connect request params is error,  method: '${item.method}' `);\n                    }\n                }\n                else if (item.method == \"tron_signMessage\") {\n                    if (isRecord(item.params)) {\n                        if (\"message\" in item.params && item.params.message && typeof item.params.message === 'string') {\n                            item.params.message = stringToHex(item.params.message);\n                        }\n                        else {\n                            throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `connect request params is error,  method: '${item.method}' `);\n                        }\n                    }\n                    else {\n                        throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `connect request params is error,  method: '${item.method}' `);\n                    }\n                }\n                (0, core_1.logDebug)(\"connectMethodsToConnectWalletMethods item:\", JSON.stringify(item));\n                result.push(item);\n            }\n            return result;\n        }\n        catch (error) {\n            throw error;\n        }\n    });\n}\nfunction stringToHex(str) {\n    let hex = '';\n    for (let i = 0; i < str.length; i++) {\n        hex += str.charCodeAt(i).toString(16).padStart(2, '0');\n    }\n    return hex;\n}\nfunction syncResoonseToRequire(responseAddressStr) {\n    const allAddress = JSON.parse(responseAddressStr);\n    const result = {\n        type: allAddress.type,\n        isEvm: allAddress.isEvm,\n        walletName: allAddress.walletName,\n        deriveName: allAddress.deriveName,\n        addresses: allAddress.addresses.map((addr) => ({\n            coinId: addr.ci,\n            address: addr.a && addr.a !== 'null' ? addr.a : allAddress.evmAddress,\n        })),\n    };\n    return result;\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.creatNotSupportMethodItemReplay = exports.connectMethodsAdaptOldVersion = void 0;\nvar ConnectMethodUtils_1 = require(\"./ConnectMethodUtils\");\nObject.defineProperty(exports, \"connectMethodsAdaptOldVersion\", { enumerable: true, get: function () { return ConnectMethodUtils_1.connectMethodsAdaptOldVersion; } });\nObject.defineProperty(exports, \"creatNotSupportMethodItemReplay\", { enumerable: true, get: function () { return ConnectMethodUtils_1.creatNotSupportMethodItemReplay; } });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getAccountsChains = getAccountsChains;\nexports.nameSpaceToConnectWalletNameSpace = nameSpaceToConnectWalletNameSpace;\nexports.fillParamsToSession = fillParamsToSession;\nexports.isCaipNamespace = isCaipNamespace;\nexports.parseNamespaceKey = parseNamespaceKey;\nconst core_1 = require(\"@okxconnect/core\");\nfunction getAccountsChains(accounts) {\n    const chains = [];\n    accounts.forEach((account) => {\n        const [chain, chainId] = account.split(\":\");\n        chains.push(`${chain}:${chainId}`);\n    });\n    return chains;\n}\nfunction nameSpaceToConnectWalletNameSpace(namespaces) {\n    var result = [];\n    if (!namespaces) {\n        return result;\n    }\n    Object.keys(namespaces).forEach((key) => {\n        if (key === core_1.NameSpaceKeyEip155 || key === core_1.NameSpaceKeySOL || key === core_1.NameSpaceKeySui || key === core_1.NameSpaceKeyAptos\n            || key == core_1.NameSpaceKeyBtc || key === core_1.NameSpaceKeyTON || key === core_1.NameSpaceKeyCosmos || key === core_1.NameSpaceKeyTron) {\n            if (namespaces[key].chains) {\n                result.push({\n                    namespace: key,\n                    chains: namespaces[key].chains,\n                    params: namespaces[key].params\n                });\n            }\n        }\n    });\n    return result;\n}\nfunction fillParamsToSession(session, namespaces, optionalNamespaces, sessionConfig) {\n    // Helper function to merge rpcMaps\n    const mergeRpcMap = (targetRpcMap, sourceRpcMap) => {\n        Object.assign(targetRpcMap, sourceRpcMap);\n    };\n    // Merge function for namespaces\n    const mergeNamespaces = (target, source) => {\n        for (const key in source) {\n            if (source.hasOwnProperty(key) && source[key].rpcMap) {\n                if (source[key].rpcMap) {\n                    if (!target[key].rpcMap) {\n                        target[key].rpcMap = {};\n                    }\n                    // 合并 rpcMap\n                    mergeRpcMap(target[key].rpcMap, source[key].rpcMap);\n                }\n                if (source[key].defaultChain && target[key].defaultChain === undefined) {\n                    //defaultChain need in session nameSpace\n                    if (target[key].chains.some(chain => chain.split(\":\")[1] === source[key].defaultChain)) {\n                        target[key].defaultChain = source[key].defaultChain;\n                    }\n                }\n            }\n        }\n    };\n    // 合并 namespaces\n    if (namespaces) {\n        mergeNamespaces(session.namespaces, namespaces);\n    }\n    // 合并 optionalNamespaces\n    if (optionalNamespaces) {\n        mergeNamespaces(session.namespaces, optionalNamespaces);\n    }\n    session.sessionConfig = sessionConfig;\n}\n/**\n * util designed for Wallets that builds namespaces structure by provided supported chains, methods, events & accounts.\n * It takes required & optional namespaces provided in the session proposal\n * along with the supported chains/methods/events/accounts by the wallet and returns a structured namespaces object\n * @param {BuildApprovedNamespacesParams} params\n * @returns {SessionTypes.Namespaces}\n */\n// export function buildApprovedNamespaces(\n//   params: BuildApprovedNamespacesParams,\n// ): SessionTypes.Namespaces {\n//   const {\n//     proposal: { requiredNamespaces, optionalNamespaces = {} },\n//     supportedNamespaces,\n//   } = params;\n//   const normalizedRequired = normalizeNamespaces(requiredNamespaces);\n//   const normalizedOptional = normalizeNamespaces(optionalNamespaces);\n//\n//   // build approved namespaces\n//   const namespaces = {};\n//   Object.keys(supportedNamespaces).forEach((namespace) => {\n//     const supportedChains = supportedNamespaces[namespace].chains;\n//     const supportedMethods = supportedNamespaces[namespace].methods;\n//     const supportedEvents = supportedNamespaces[namespace].events;\n//     const supportedAccounts = supportedNamespaces[namespace].accounts;\n//\n//     supportedChains.forEach((chain) => {\n//       if (!supportedAccounts.some((account) => account.includes(chain))) {\n//         throw new Error(`No accounts provided for chain ${chain} in namespace ${namespace}`);\n//       }\n//     });\n//\n//     namespaces[namespace] = {\n//       chains: supportedChains,\n//       methods: supportedMethods,\n//       events: supportedEvents,\n//       accounts: supportedAccounts,\n//     };\n//   });\n//\n//   // verify all required namespaces are supported\n//   const err = isConformingNamespaces(requiredNamespaces, namespaces, \"approve()\");\n//   if (err) throw new Error(err.message);\n//\n//   const approvedNamespaces = {};\n//\n//   // if both required & optional namespaces are empty, return all supported namespaces by the wallet\n//   if (!Object.keys(requiredNamespaces).length && !Object.keys(optionalNamespaces).length)\n//     return namespaces;\n//\n//   // assign accounts for the required namespaces\n//   Object.keys(normalizedRequired).forEach((requiredNamespace) => {\n//     const chains = supportedNamespaces[requiredNamespace].chains.filter((chain) =>\n//       normalizedRequired[requiredNamespace]?.chains?.includes(chain),\n//     );\n//     const methods = supportedNamespaces[requiredNamespace].methods.filter((method) =>\n//       normalizedRequired[requiredNamespace]?.methods?.includes(method),\n//     );\n//     const events = supportedNamespaces[requiredNamespace].events.filter((event) =>\n//       normalizedRequired[requiredNamespace]?.events?.includes(event),\n//     );\n//\n//     const accounts = chains\n//       .map((chain: string) =>\n//         supportedNamespaces[requiredNamespace].accounts.filter((account: string) =>\n//           account.includes(`${chain}:`),\n//         ),\n//       )\n//       .flat();\n//\n//     approvedNamespaces[requiredNamespace] = {\n//       chains,\n//       methods,\n//       events,\n//       accounts,\n//     };\n//   });\n//\n//   // add optional namespaces\n//   Object.keys(normalizedOptional).forEach((optionalNamespace) => {\n//     if (!supportedNamespaces[optionalNamespace]) return;\n//\n//     const chainsToAdd = normalizedOptional[optionalNamespace]?.chains?.filter((chain) =>\n//       supportedNamespaces[optionalNamespace].chains.includes(chain),\n//     );\n//     const methodsToAdd = supportedNamespaces[optionalNamespace].methods.filter((method) =>\n//       normalizedOptional[optionalNamespace]?.methods?.includes(method),\n//     );\n//     const eventsToAdd = supportedNamespaces[optionalNamespace].events.filter((event) =>\n//       normalizedOptional[optionalNamespace]?.events?.includes(event),\n//     );\n//\n//     const accountsToAdd = chainsToAdd\n//       ?.map((chain: string) =>\n//         supportedNamespaces[optionalNamespace].accounts.filter((account: string) =>\n//           account.includes(`${chain}:`),\n//         ),\n//       )\n//       .flat();\n//\n//     approvedNamespaces[optionalNamespace] = {\n//       chains: mergeArrays(approvedNamespaces[optionalNamespace]?.chains, chainsToAdd),\n//       methods: mergeArrays(approvedNamespaces[optionalNamespace]?.methods, methodsToAdd),\n//       events: mergeArrays(approvedNamespaces[optionalNamespace]?.events, eventsToAdd),\n//       accounts: mergeArrays(approvedNamespaces[optionalNamespace]?.accounts, accountsToAdd),\n//     };\n//   });\n//\n//   return approvedNamespaces;\n// }\nfunction isCaipNamespace(namespace) {\n    return namespace.includes(\":\");\n}\nfunction parseNamespaceKey(namespace) {\n    return isCaipNamespace(namespace) ? namespace.split(\":\")[0] : namespace;\n}\n/**\n * Converts\n * ```\n * {\n *  \"eip155:1\": {...},\n *  \"eip155:2\": {...},\n * }\n * ```\n * into\n * ```\n * {\n *  \"eip155\": {\n *      chains: [\"eip155:1\", \"eip155:2\"],\n *      ...\n *    }\n * }\n *```\n */\n// export function normalizeNamespaces(\n//   namespaces: ProposalTypes.RequiredNamespaces,\n// ): ProposalTypes.RequiredNamespaces {\n//   const normalizedNamespaces = {} as ProposalTypes.RequiredNamespaces;\n//   if (!isValidObject(namespaces)) return normalizedNamespaces;\n//   for (const [key, values] of Object.entries(namespaces)) {\n//     const chains = isCaipNamespace(key) ? [key] : values.chains;\n//     const methods = values.methods || [];\n//     const events = values.events || [];\n//     const normalizedKey = parseNamespaceKey(key);\n//     normalizedNamespaces[normalizedKey] = {\n//       ...normalizedNamespaces[normalizedKey],\n//       chains: mergeArrays(chains, normalizedNamespaces[normalizedKey]?.chains),\n//       methods: mergeArrays(methods, normalizedNamespaces[normalizedKey]?.methods),\n//       events: mergeArrays(events, normalizedNamespaces[normalizedKey]?.events),\n//     };\n//   }\n//   return normalizedNamespaces;\n// }\n// export function getNamespacesFromAccounts(accounts: string[]) {\n//   const namespaces = {};\n//   accounts?.forEach((account) => {\n//     const [namespace, chainId] = account.split(\":\");\n//     if (!namespaces[namespace]) {\n//       namespaces[namespace] = {\n//         accounts: [],\n//         chains: [],\n//         events: [],\n//       };\n//     }\n//     namespaces[namespace].accounts.push(account);\n//     namespaces[namespace].chains.push(`${namespace}:${chainId}`);\n//   });\n//\n//   return namespaces;\n// }\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.PROVIDER_EVENTS = void 0;\nexports.PROVIDER_EVENTS = {\n    DEFAULT_CHAIN_CHANGED: \"default_chain_changed\",\n    UPDATE_NAMESPACES: \"update_name_spaces\",\n    SESSION_CONNECTING: \"session_connecting\"\n};\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./values\"), exports);\n__exportStar(require(\"./events\"), exports);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.GENERIC_SUBPROVIDER_NAME = exports.RPC_URL = exports.STORAGE = exports.CONTEXT = exports.WC_VERSION = exports.PROTOCOL = exports.RELAY_URL = exports.LOGGER = void 0;\nexports.LOGGER = \"error\";\nexports.RELAY_URL = \"wss://relay.walletconnect.com\";\nexports.PROTOCOL = \"wc\";\nexports.WC_VERSION = 2;\nexports.CONTEXT = \"universal_provider\";\nexports.STORAGE = `${exports.PROTOCOL}@${exports.WC_VERSION}:${exports.CONTEXT}:`;\nexports.RPC_URL = \"https://rpc.walletconnect.com/v1/\";\nexports.GENERIC_SUBPROVIDER_NAME = \"generic\";\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./types\"), exports);\n__exportStar(require(\"./utils\"), exports);\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst constants_1 = require(\"../constants\");\nconst core_1 = require(\"@okxconnect/core\");\nconst utils_1 = require(\"../utils\");\nconst JsonRpcConnection_1 = require(\"./rpc/JsonRpcConnection\");\nconst JsonRpcProvider_1 = require(\"./rpc/JsonRpcProvider\");\nclass AptosProvider {\n    constructor(opts, name, client, events) {\n        this.name = \"aptos\";\n        this.namespace = opts.namespace;\n        this.events = events;\n        this.client = client;\n        this.chainId = this.getDefaultChain();\n        this.httpProviders = this.createHttpProviders();\n        this.name = name;\n    }\n    updateNamespace(namespace) {\n        this.namespace = Object.assign(this.namespace, namespace);\n    }\n    requestAccounts() {\n        return this.getAccounts();\n    }\n    request(args) {\n        return __awaiter(this, void 0, void 0, function* () {\n            (0, core_1.logDebug)(\"solana request --args--string>\", JSON.stringify(args));\n            (0, core_1.logDebug)(\"solana provider namespace: \", this.namespace);\n            if (this.namespace.methods.includes(args.method)) {\n                return this.client.request(args);\n            }\n            else {\n                throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED, \"Please upgrade OKX APP\");\n            }\n        });\n    }\n    setDefaultChain(chainId, rpcUrl) {\n        // http provider exists so just set the chainId\n        if (!this.httpProviders[chainId]) {\n            this.setHttpProvider(chainId, rpcUrl);\n        }\n        this.chainId = chainId;\n        this.events.emit(constants_1.PROVIDER_EVENTS.DEFAULT_CHAIN_CHANGED, `${this.name}:${chainId}`);\n    }\n    getDefaultChain() {\n        if (this.chainId)\n            return this.chainId;\n        if (this.namespace.defaultChain)\n            return this.namespace.defaultChain;\n        const chainId = this.namespace.chains[0];\n        if (!chainId)\n            throw new Error(`ChainId not found`);\n        return chainId.split(\":\")[1];\n    }\n    // --------- PRIVATE --------- //\n    getAccounts() {\n        const accounts = this.namespace.accounts;\n        if (!accounts) {\n            return [];\n        }\n        return [\n            ...new Set(accounts\n                // get the accounts from the active chain\n                .filter((account) => account.split(\":\")[1] === this.chainId.toString())\n                // remove namespace & chainId from the string\n                .map((account) => account.split(\":\")[2])),\n        ];\n    }\n    createHttpProviders() {\n        const http = {};\n        this.namespace.chains.forEach((chain) => {\n            const parsedChainId = (0, utils_1.getChainId)(chain);\n            const parsedRpc = (0, utils_1.getRpcUrl)(chain, this.namespace);\n            let httpProvider = this.createHttpProvider(parsedChainId, parsedRpc);\n            if (httpProvider) {\n                http[parsedChainId] = httpProvider;\n            }\n        });\n        return http;\n    }\n    getHttpProvider() {\n        const chain = `${this.chainId}`;\n        const http = this.httpProviders[chain];\n        if (typeof http === \"undefined\") {\n            throw new Error(`JSON-RPC provider for ${chain} not found`);\n        }\n        return http;\n    }\n    setHttpProvider(chainId, rpcUrl) {\n        const http = this.createHttpProvider(chainId, rpcUrl);\n        if (http) {\n            this.httpProviders[chainId] = http;\n        }\n    }\n    createHttpProvider(chainId, rpcUrl) {\n        // 没有备用rpc对外提供\n        const rpc = rpcUrl;\n        if (!rpc) {\n            // logError(`No RPC url provided for chainId: ${chainId}`);\n            // throw new Error(`No RPC url provided for chainId: ${chainId}`);\n        }\n        else {\n            const http = new JsonRpcProvider_1.JsonRpcProvider(new JsonRpcConnection_1.JsonRpcConnection(rpc, (0, utils_1.getGlobal)(\"disableProviderPing\")));\n            return http;\n        }\n    }\n    showRequestModal(args) {\n        return true;\n    }\n}\nexports.default = AptosProvider;\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst constants_1 = require(\"../constants\");\nconst core_1 = require(\"@okxconnect/core\");\nconst utils_1 = require(\"../utils\");\nconst JsonRpcConnection_1 = require(\"./rpc/JsonRpcConnection\");\nconst JsonRpcProvider_1 = require(\"./rpc/JsonRpcProvider\");\nclass BtcProvider {\n    constructor(opts, name, client, events) {\n        this.name = core_1.NameSpaceKeyBtc;\n        this.namespace = opts.namespace;\n        this.events = events;\n        this.client = client;\n        this.chainId = this.getDefaultChain();\n        this.httpProviders = this.createHttpProviders();\n        this.name = name;\n    }\n    updateNamespace(namespace) {\n        this.namespace = Object.assign(this.namespace, namespace);\n    }\n    requestAccounts() {\n        return this.getAccounts();\n    }\n    request(args) {\n        return __awaiter(this, void 0, void 0, function* () {\n            (0, core_1.logDebug)(\"btc request --args--string>\", JSON.stringify(args));\n            (0, core_1.logDebug)(\"btc provider namespace: \", JSON.stringify(this.namespace));\n            if (this.namespace.methods.includes(args.method)) {\n                return this.client.request(args);\n            }\n            return this.getHttpProvider().request(args);\n        });\n    }\n    setDefaultChain(chainId, rpcUrl) {\n        // http provider exists so just set the chainId\n        if (!this.httpProviders[chainId]) {\n            this.setHttpProvider(chainId, rpcUrl);\n        }\n        this.chainId = chainId;\n        this.events.emit(constants_1.PROVIDER_EVENTS.DEFAULT_CHAIN_CHANGED, `${this.name}:${chainId}`);\n    }\n    getDefaultChain() {\n        if (this.chainId)\n            return this.chainId;\n        if (this.namespace.defaultChain)\n            return this.namespace.defaultChain;\n        const chainId = this.namespace.chains[0];\n        if (!chainId)\n            throw new Error(`ChainId not found`);\n        return chainId.split(\":\")[1];\n    }\n    // --------- PRIVATE --------- //\n    getAccounts() {\n        const accounts = this.namespace.accounts;\n        if (!accounts) {\n            return [];\n        }\n        return [\n            ...new Set(accounts\n                // get the accounts from the active chain\n                .filter((account) => account.split(\":\")[1] === this.chainId.toString())\n                // remove namespace & chainId from the string\n                .map((account) => account.split(\":\")[2])),\n        ];\n    }\n    createHttpProviders() {\n        const http = {};\n        this.namespace.chains.forEach((chain) => {\n            const parsedChainId = (0, utils_1.getChainId)(chain);\n            const parsedRpc = (0, utils_1.getRpcUrl)(chain, this.namespace);\n            let httpProvider = this.createHttpProvider(parsedChainId, parsedRpc);\n            if (httpProvider) {\n                http[parsedChainId] = httpProvider;\n            }\n        });\n        return http;\n    }\n    getHttpProvider() {\n        const chain = `${this.chainId}`;\n        const http = this.httpProviders[chain];\n        if (typeof http === \"undefined\") {\n            throw new Error(`JSON-RPC provider for ${chain} not found`);\n        }\n        return http;\n    }\n    setHttpProvider(chainId, rpcUrl) {\n        const http = this.createHttpProvider(chainId, rpcUrl);\n        if (http) {\n            this.httpProviders[chainId] = http;\n        }\n    }\n    createHttpProvider(chainId, rpcUrl) {\n        // 没有备用rpc对外提供\n        const rpc = rpcUrl;\n        if (!rpc) {\n            (0, core_1.logError)(`No RPC url provided for chainId: ${chainId}`);\n            // throw new Error(`No RPC url provided for chainId: ${chainId}`);\n        }\n        else {\n            const http = new JsonRpcProvider_1.JsonRpcProvider(new JsonRpcConnection_1.JsonRpcConnection(rpc, (0, utils_1.getGlobal)(\"disableProviderPing\")));\n            return http;\n        }\n    }\n    showRequestModal(args) {\n        return true;\n    }\n}\nexports.default = BtcProvider;\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst constants_1 = require(\"../constants\");\nconst core_1 = require(\"@okxconnect/core\");\nconst utils_1 = require(\"../utils\");\nconst JsonRpcConnection_1 = require(\"./rpc/JsonRpcConnection\");\nconst JsonRpcProvider_1 = require(\"./rpc/JsonRpcProvider\");\nclass CosmosProvider {\n    constructor(opts, client, events) {\n        this.name = core_1.NameSpaceKeyCosmos;\n        this.namespace = opts.namespace;\n        this.events = events;\n        this.client = client;\n        this.chainId = this.getDefaultChain();\n        this.httpProviders = this.createHttpProviders();\n    }\n    updateNamespace(namespace) {\n        this.namespace = Object.assign(this.namespace, namespace);\n    }\n    requestAccounts() {\n        return this.getAccounts();\n    }\n    request(args) {\n        return __awaiter(this, void 0, void 0, function* () {\n            (0, core_1.logDebug)(\"cosmos request --args--string>\", JSON.stringify(args));\n            (0, core_1.logDebug)(\"cosmos provider namespace: \", JSON.stringify(this.namespace));\n            if (this.namespace.methods.includes(args.method)) {\n                return this.client.request(args);\n            }\n            else {\n                throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED, \"Please upgrade OKX APP\");\n            }\n        });\n    }\n    setDefaultChain(chainId, rpcUrl) {\n        // http provider exists so just set the chainId\n        if (!this.httpProviders[chainId]) {\n            this.setHttpProvider(chainId, rpcUrl);\n        }\n        this.chainId = chainId;\n        this.events.emit(constants_1.PROVIDER_EVENTS.DEFAULT_CHAIN_CHANGED, `${this.name}:${chainId}`);\n    }\n    getDefaultChain() {\n        if (this.chainId)\n            return this.chainId;\n        if (this.namespace.defaultChain)\n            return this.namespace.defaultChain;\n        const chainId = this.namespace.chains[0];\n        if (!chainId)\n            throw new Error(`ChainId not found`);\n        return chainId.split(\":\")[1];\n    }\n    // --------- PRIVATE --------- //\n    getAccounts() {\n        const accounts = this.namespace.accounts;\n        if (!accounts) {\n            return [];\n        }\n        return [\n            ...new Set(accounts\n                // get the accounts from the active chain\n                .filter((account) => account.split(\":\")[1] === this.chainId.toString())\n                // remove namespace & chainId from the string\n                .map((account) => account.split(\":\")[2])),\n        ];\n    }\n    createHttpProviders() {\n        const http = {};\n        this.namespace.chains.forEach((chain) => {\n            const parsedChainId = (0, utils_1.getChainId)(chain);\n            const parsedRpc = (0, utils_1.getRpcUrl)(chain, this.namespace);\n            let httpProvider = this.createHttpProvider(parsedChainId, parsedRpc);\n            if (httpProvider) {\n                http[parsedChainId] = httpProvider;\n            }\n        });\n        return http;\n    }\n    getHttpProvider() {\n        const chain = `${this.chainId}`;\n        const http = this.httpProviders[chain];\n        if (typeof http === \"undefined\") {\n            throw new Error(`JSON-RPC provider for ${chain} not found`);\n        }\n        return http;\n    }\n    setHttpProvider(chainId, rpcUrl) {\n        const http = this.createHttpProvider(chainId, rpcUrl);\n        if (http) {\n            this.httpProviders[chainId] = http;\n        }\n    }\n    createHttpProvider(chainId, rpcUrl) {\n        // 没有备用rpc对外提供\n        const rpc = rpcUrl;\n        if (!rpc) {\n            // logError(`No RPC url provided for chainId: ${chainId}`);\n            // throw new Error(`No RPC url provided for chainId: ${chainId}`);\n        }\n        else {\n            const http = new JsonRpcProvider_1.JsonRpcProvider(new JsonRpcConnection_1.JsonRpcConnection(rpc, (0, utils_1.getGlobal)(\"disableProviderPing\")));\n            return http;\n        }\n    }\n    showRequestModal(args) {\n        return true;\n    }\n}\nexports.default = CosmosProvider;\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Eip155Provider = void 0;\nconst utils_1 = require(\"../utils\");\nconst constants_1 = require(\"../constants\");\nconst core_1 = require(\"@okxconnect/core\");\nconst JsonRpcProvider_1 = require(\"./rpc/JsonRpcProvider\");\nconst JsonRpcConnection_1 = require(\"./rpc/JsonRpcConnection\");\nclass Eip155Provider {\n    constructor(opts, client, events) {\n        this.name = \"eip155\";\n        this.namespace = opts.namespace;\n        this.events = events;\n        this.client = client;\n        this.chainId = parseInt(this.getDefaultChain());\n        // rpc\n        this.httpProviders = this.createHttpProviders();\n        (0, core_1.logDebug)(\"eip155 constructor --opts.namespace-->\", opts.namespace);\n    }\n    isRecord(value) {\n        return typeof value === \"object\" && value !== null && !Array.isArray(value);\n    }\n    isArray(value) {\n        return typeof value === \"object\" && value !== null && Array.isArray(value);\n    }\n    updateRequestParams(args) {\n        let isDic = args.params && typeof args.params === 'object' && !Array.isArray(args.params);\n        if (args.method === 'wallet_switchEthereumChain') {\n            const switchChainId = args.chainId.split(\":\")[1];\n            // const hexChainId = parseInt(switchChainId, 16);\n            const decimalNumber = parseInt(switchChainId, 10);\n            if (isNaN(decimalNumber)) {\n                throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR, `Invalid decimal number,  chainId: '${switchChainId}' `);\n            }\n            if (!args.params) {\n                args.params = { chainId: '0x' + decimalNumber.toString(16) };\n            }\n            else if (isDic) { //为 Record<string, unknown>\n                let params = args.params;\n                if (!('chainId' in params)) {\n                    params['chainId'] = '0x' + decimalNumber.toString(16);\n                    args.params = params;\n                }\n            }\n            else {\n                throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR, `Request params error ,  method: '${args.method}' `);\n            }\n        }\n        else if (args.method === 'personal_sign'\n            || args.method === 'eth_signTypedData_v4'\n            || args.method === 'eth_sendTransaction'\n            || args.method === 'wallet_watchAsset') {\n            if (!args.params) {\n                throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR, `Request params is nil, method: '${args.method}'`);\n            }\n            if (this.isRecord(args.params)) {\n                let params = args.params;\n                (0, core_1.logDebug)(\"eip155 updateRequestParams params>\", JSON.stringify(params));\n                if ('chainId' in params) {\n                    const selectedChainId = args.chainId.split(\":\")[1];\n                    const chainNum = parseInt(selectedChainId, 10);\n                    let paramsChainString = String(params.chainId);\n                    let paramsChainId;\n                    if (paramsChainString.startsWith(this.name) && args.chainId === paramsChainString) { //为\n                        paramsChainId = chainNum;\n                    }\n                    else if (paramsChainString.startsWith(\"0x\")) {\n                        paramsChainId = parseInt(paramsChainString, 16);\n                    }\n                    else if (!isNaN(Number(paramsChainString))) { //数字\n                        paramsChainId = parseInt(paramsChainString, 10);\n                    }\n                    else {\n                        throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR, `Invalid params.chainId format, method: '${args.method}'`);\n                    }\n                    if (chainNum !== paramsChainId) {\n                        throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR, `Request params.chainId not equal chain,  method: '${args.method}' `);\n                    }\n                }\n            }\n            else {\n                throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR, `Invalid request params type, method: '${args.method}'`);\n            }\n        }\n    }\n    //adapt array\n    adaptArray(args) {\n        if (args.method === 'wallet_switchEthereumChain'\n            || args.method === 'wallet_addEthereumChain'\n            || args.method === 'wallet_watchAsset'\n            || args.method === 'eth_sendTransaction') {\n            if (this.isArray(args.params)) {\n                let paramsArr = args.params;\n                if (paramsArr) {\n                    if (paramsArr.length === 1) {\n                        let firstParam = args.params[0];\n                        if (this.isRecord(firstParam)) {\n                            args.params = firstParam;\n                        }\n                    }\n                    else if (paramsArr.length > 1) {\n                        throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `Request params only Support one data,  method: '${args.method}' `);\n                    }\n                    else {\n                        throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `Request params is nil,  method: '${args.method}' `);\n                    }\n                }\n            }\n        }\n        else if (args.method === 'eth_signTypedData_v4') {\n            if (this.isArray(args.params)) {\n                let paramsArr = args.params;\n                if (paramsArr && paramsArr.length > 2) {\n                    throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `Request params only Support one data,  method: '${args.method}' `);\n                }\n                else if (paramsArr && paramsArr.length === 0) {\n                    throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `Request params is nil,  method: '${args.method}' `);\n                }\n                let messageObj = {};\n                if (paramsArr && paramsArr.length === 2) {\n                    let addressObj = args.params[0]; //address\n                    if (addressObj && typeof addressObj === 'string') { //check address\n                        let isEqual = false;\n                        this.namespace.accounts.forEach((account) => {\n                            let chainAddress = (0, utils_1.fromAccountToAddress)(account);\n                            if (chainAddress.toLowerCase() === addressObj.toLowerCase()) {\n                                isEqual = true;\n                            }\n                        });\n                        (0, core_1.logDebug)(\"eip155 adaptArray eth_signTypedData_v4 >>>isEqual: \", isEqual);\n                        if (!isEqual) {\n                            throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `Request params address error, not equal,  method: '${args.method}' `);\n                        }\n                        if (this.isRecord(args.params[1])) {\n                            messageObj = args.params[1];\n                        }\n                        else {\n                            throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `Request params message data error,  method: '${args.method}' `);\n                        }\n                    }\n                    else {\n                        throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `Request params address error , not string,  method: '${args.method}' `);\n                    }\n                }\n                else if (paramsArr && paramsArr.length === 1) {\n                    if (this.isRecord(args.params[0])) {\n                        messageObj = args.params[0];\n                    }\n                    else {\n                        throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `Request params message data error,  method: '${args.method}' `);\n                    }\n                }\n                try {\n                    let messages = JSON.stringify(messageObj);\n                    args.params = {\n                        typedDataJson: messages\n                    };\n                }\n                catch (err) {\n                    throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `Request params call JSON.stringify() failed,  method: '${args.method}' `);\n                }\n            }\n        }\n        else if (args.method === 'personal_sign') {\n            if (this.isArray(args.params)) {\n                if (args.params && args.params.length > 2) {\n                    throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `Request params error,  method: '${args.method}' `);\n                }\n                else if (args.params && args.params.length === 0) {\n                    throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `Request params is nil,  method: '${args.method}' `);\n                }\n                let firstObj = args.params[0];\n                let secondObj = args.params[1];\n                if (secondObj && typeof secondObj === 'string') { //check address\n                    let isEqual = false;\n                    this.namespace.accounts.forEach((account) => {\n                        let chainAddress = (0, utils_1.fromAccountToAddress)(account);\n                        if (chainAddress.toLowerCase() === secondObj.toLowerCase()) {\n                            isEqual = true;\n                        }\n                    });\n                    (0, core_1.logDebug)(\"eip155 adaptArray personal_sign >>>isEqual: \", isEqual);\n                    if (!isEqual) {\n                        throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `Request params address error,  method: '${args.method}' `);\n                    }\n                }\n                if (firstObj && typeof firstObj === 'string') {\n                    args.params = {\n                        message: firstObj\n                    };\n                }\n                else {\n                    throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `Request params is error,  method: '${args.method}' `);\n                }\n            }\n        }\n    }\n    showRequestModal(args) {\n        switch (args.method) {\n            case \"eth_requestAccounts\":\n            case \"eth_accounts\":\n            case \"eth_chainId\":\n                return false;\n            case \"eth_sendTransaction\":\n            case \"eth_signTransaction\":\n            case \"eth_sign\":\n            case \"personal_sign\":\n            case \"eth_signTypedData\":\n            case \"wallet_addEthereumChain\":\n            case \"wallet_watchAsset\":\n            case \"eth_signTypedData_v4\":\n                return true;\n            case \"wallet_switchEthereumChain\": {\n                this.adaptArray(args);\n                this.updateRequestParams(args);\n                const { parsedChainId, hexChainId } = this.getHexChainIdFromRequest(args);\n                return !this.isChainApproved(parsedChainId);\n            }\n            default:\n                return false;\n        }\n        return false;\n    }\n    request(args) {\n        return __awaiter(this, void 0, void 0, function* () {\n            this.adaptArray(args);\n            (0, core_1.logDebug)(\"eip155 request --args--string>\", JSON.stringify(args));\n            this.updateRequestParams(args);\n            (0, core_1.logDebug)(\"eip155 request --params--string>\", JSON.stringify(args));\n            switch (args.method) {\n                case \"eth_requestAccounts\":\n                    return this.getAccounts();\n                case \"eth_accounts\":\n                    return this.getAccounts();\n                case \"eth_chainId\":\n                    return parseInt(this.getDefaultChain());\n                case \"wallet_switchEthereumChain\": {\n                    return (yield this.handleSwitchChain(args));\n                }\n                case \"wallet_addEthereumChain\":\n                    return this.addEthereumChain(args);\n                default:\n                    break;\n            }\n            if (this.namespace.methods.includes(args.method)) {\n                // personal_sign\n                // eth_signTypedData_v4\n                // eth_sendTransaction\n                // wallet_watchAsset\n                try {\n                    const response = yield this.client.request(args);\n                    (0, core_1.logDebug)(\"eip155 request --response----string>\", JSON.stringify(response));\n                    if (this.isRecord(response)) {\n                        if ('result' in response) {\n                            let result = response.result;\n                            if (result && typeof result === 'string' && (result === \"true\" || result === \"false\")) {\n                                (0, core_1.logDebug)(\"eip155 request --wallet_watchAsset>>>>\", result === \"true\");\n                                return (result === \"true\");\n                            }\n                            return response.result;\n                        }\n                    }\n                    return response;\n                }\n                catch (e) {\n                    (0, core_1.logDebug)(`eip155 request --response --error--string> e instanceof OKXConnectError ${e instanceof core_1.OKXConnectError}`, JSON.stringify(e));\n                    throw e;\n                }\n            }\n            else {\n                (0, core_1.logDebug)('[RPC] request begin');\n                return yield this.getHttpProvider().request(args);\n            }\n        });\n    }\n    addEthereumChain(args) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let resultData = (yield this.client.request(args));\n            try {\n                if ('result' in resultData) {\n                    let successData = resultData;\n                    let account = resultData.result;\n                    if (account) {\n                        const nameSpace = account.split(\":\")[0];\n                        const chainId = account.split(\":\")[1];\n                        const chain = nameSpace + ':' + chainId;\n                        let newNameSpace = this.namespace;\n                        this.namespace.accounts.push(account);\n                        this.namespace.chains.push(chain);\n                        if (this.isRecord(args.params)) {\n                            if (\"rpcUrls\" in args.params) {\n                                let rpcUrls = args.params.rpcUrls;\n                                let rpcUrl = rpcUrls ? rpcUrls[0] : undefined;\n                                if (rpcUrl) {\n                                    if (this.namespace.rpcMap) {\n                                        this.namespace.rpcMap[chainId] = rpcUrl;\n                                    }\n                                    else {\n                                        this.namespace.rpcMap = {\n                                            [chainId]: rpcUrl\n                                        };\n                                    }\n                                    this.setHttpProvider(chainId, rpcUrl);\n                                }\n                            }\n                        }\n                        this.events.emit(constants_1.PROVIDER_EVENTS.UPDATE_NAMESPACES, {\n                            eip155: this.namespace\n                        });\n                    }\n                }\n                else {\n                    new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `the method ${args.method} request error`);\n                }\n            }\n            catch (error) {\n                throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `the method ${args.method} request  error`);\n            }\n            return null;\n        });\n    }\n    updateNamespace(namespace) {\n        this.namespace = Object.assign(this.namespace, namespace);\n    }\n    setDefaultChain(chainId, rpcUrl) {\n        this.chainId = parseInt(chainId);\n        // set rpc\n        if (!this.httpProviders[chainId]) {\n            const rpc = rpcUrl || (0, utils_1.getRpcUrl)(`${this.name}:${chainId}`, this.namespace);\n            if (!rpc) {\n                // throw new Error(`No RPC url provided for chainId: ${chainId}`);\n                (0, core_1.logError)(`No RPC url provided for chainId: ${chainId}`);\n            }\n            else {\n                this.setHttpProvider(chainId, rpc);\n            }\n        }\n        this.events.emit(constants_1.PROVIDER_EVENTS.DEFAULT_CHAIN_CHANGED, `${this.name}:${chainId}`);\n    }\n    requestAccounts() {\n        return this.getAccounts();\n    }\n    getDefaultChain() {\n        if (this.chainId)\n            return this.chainId.toString();\n        if (this.namespace.defaultChain)\n            return this.namespace.defaultChain;\n        const chainId = this.namespace.chains[0];\n        if (!chainId)\n            throw new Error(`ChainId not found`);\n        return chainId.split(\":\")[1];\n    }\n    // ---------- Private ----------------------------------------------- //\n    getAccounts() {\n        const accounts = this.namespace.accounts;\n        (0, core_1.logDebug)(\"eip155 getAccounts \", accounts, this.chainId);\n        if (!accounts) {\n            return [];\n        }\n        return [\n            ...new Set(accounts\n                // get the accounts from the active chain\n                .filter((account) => account.split(\":\")[1] === this.chainId.toString())\n                // remove namespace & chainId from the string\n                .map((account) => {\n                return (0, utils_1.fromAccountToAddress)(account);\n            })),\n        ];\n    }\n    getHexChainIdFromRequest(args) {\n        let params = args.params;\n        let hexChainId = \"0x0\";\n        if (params && \"chainId\" in params) {\n            hexChainId = params.chainId;\n        }\n        hexChainId = hexChainId.startsWith(\"0x\") ? hexChainId : `0x${hexChainId}`;\n        (0, core_1.logDebug)(\"handleSwitchChain -->args \", args);\n        (0, core_1.logDebug)(\"handleSwitchChain -->hexChainId \", hexChainId);\n        const parsedChainId = parseInt(hexChainId, 16);\n        (0, core_1.logDebug)(\"handleSwitchChain -->parsedChainId \", parsedChainId);\n        return { parsedChainId, hexChainId };\n    }\n    handleSwitchChain(args) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const { parsedChainId, hexChainId } = this.getHexChainIdFromRequest(args);\n            if (this.isChainApproved(parsedChainId)) {\n                this.setDefaultChain(`${parsedChainId}`);\n            }\n            else {\n                const resultData = (yield this.client.request({\n                    method: \"wallet_switchEthereumChain\",\n                    chainId: args.chainId,\n                    params: {\n                        chainId: hexChainId,\n                    },\n                }));\n                try {\n                    if ('result' in resultData) {\n                        let successData = resultData;\n                        let account = resultData.result;\n                        if (account) {\n                            const nameSpace = account.split(\":\")[0];\n                            const chainId = account.split(\":\")[1];\n                            const chain = nameSpace + ':' + chainId;\n                            let newNameSpace = this.namespace;\n                            this.namespace.accounts.push(account);\n                            this.namespace.chains.push(chain);\n                            (0, core_1.logDebug)(\"handleSwitchChain -->wallet_switchEthereumChain \", resultData);\n                            this.setDefaultChain(`${parsedChainId}`);\n                            this.events.emit(constants_1.PROVIDER_EVENTS.UPDATE_NAMESPACES, {\n                                eip155: this.namespace\n                            });\n                        }\n                    }\n                    else {\n                        new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `the method ${args.method} request error`);\n                    }\n                }\n                catch (error) {\n                    throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, `the method ${args.method} request  error`);\n                }\n            }\n            return null;\n        });\n    }\n    isChainApproved(chainId) {\n        return this.namespace.chains.includes(`${this.name}:${chainId}`);\n    }\n    // rpc\n    createHttpProvider(chainId, rpcUrl) {\n        // 没有备用rpc对外提供\n        const rpc = rpcUrl;\n        if (!rpc) {\n            (0, core_1.logError)(`No RPC url provided for chainId: ${chainId}`);\n            //   throw new Error(`No RPC url provided for chainId: ${chainId}`);\n        }\n        else {\n            const http = new JsonRpcProvider_1.JsonRpcProvider(new JsonRpcConnection_1.JsonRpcConnection(rpc, (0, utils_1.getGlobal)(\"disableProviderPing\")));\n            return http;\n        }\n    }\n    createHttpProviders() {\n        const http = {};\n        this.namespace.chains.forEach((chain) => {\n            const parsedChainId = (0, utils_1.getChainId)(chain);\n            const parsedRpc = (0, utils_1.getRpcUrl)(chain, this.namespace);\n            (0, core_1.logDebug)('get parsed chain and rpc:', parsedChainId, parsedRpc);\n            let httpProvider = this.createHttpProvider(parsedChainId, parsedRpc);\n            if (httpProvider) {\n                http[parsedChainId] = httpProvider;\n            }\n        });\n        (0, core_1.logDebug)('get http providermap:', http);\n        return http;\n    }\n    setHttpProvider(chainId, rpcUrl) {\n        const http = this.createHttpProvider(chainId, rpcUrl);\n        if (http) {\n            this.httpProviders[chainId] = http;\n        }\n    }\n    getHttpProvider() {\n        const chain = `${this.chainId}`;\n        const http = this.httpProviders[chain];\n        (0, core_1.logDebug)('[RPC] get http provider:', chain, http);\n        if (typeof http === \"undefined\") {\n            throw new Error(`JSON-RPC provider for ${chain} not found`);\n        }\n        return http;\n    }\n}\nexports.Eip155Provider = Eip155Provider;\nexports.default = Eip155Provider;\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.JsonRpcConnection = void 0;\nconst eventemitter3_1 = require(\"eventemitter3\");\nconst cross_fetch_1 = __importDefault(require(\"cross-fetch\"));\nconst core_1 = require(\"@okxconnect/core\");\nconst core_2 = require(\"@okxconnect/core\");\nconst DEFAULT_HTTP_HEADERS = {\n    Accept: \"application/json\",\n    \"Content-Type\": \"application/json\",\n};\nconst DEFAULT_HTTP_METHOD = \"POST\";\nconst DEFAULT_FETCH_OPTS = {\n    headers: DEFAULT_HTTP_HEADERS,\n    method: DEFAULT_HTTP_METHOD,\n};\n// Source: https://nodejs.org/api/events.html#emittersetmaxlistenersn\nconst EVENT_EMITTER_MAX_LISTENERS_DEFAULT = 10;\nclass JsonRpcConnection {\n    constructor(url, disableProviderPing = false) {\n        this.url = url;\n        this.disableProviderPing = disableProviderPing;\n        this.events = new eventemitter3_1.EventEmitter();\n        this.isAvailable = false;\n        this.registering = false;\n        if (!(0, core_2.isHttpUrl)(url)) {\n            throw new Error(`Provided URL is not compatible with HTTP connection: ${url}`);\n        }\n        this.url = url;\n        this.disableProviderPing = disableProviderPing;\n    }\n    get connected() {\n        return this.isAvailable;\n    }\n    get connecting() {\n        return this.registering;\n    }\n    on(event, listener) {\n        this.events.on(event, listener);\n    }\n    once(event, listener) {\n        this.events.once(event, listener);\n    }\n    off(event, listener) {\n        this.events.off(event, listener);\n    }\n    removeListener(event, listener) {\n        this.events.removeListener(event, listener);\n    }\n    open() {\n        return __awaiter(this, arguments, void 0, function* (url = this.url) {\n            yield this.register(url);\n        });\n    }\n    close() {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (!this.isAvailable) {\n                throw new Error(\"Connection already closed\");\n            }\n            this.onClose();\n        });\n    }\n    send(payload) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (!this.isAvailable) {\n                yield this.register();\n            }\n            try {\n                const body = (0, core_1.safeJsonStringify)(payload);\n                const res = yield (0, cross_fetch_1.default)(this.url, Object.assign(Object.assign({}, DEFAULT_FETCH_OPTS), { body }));\n                const data = yield res.json();\n                this.onPayload({ data });\n            }\n            catch (e) {\n                this.onError(payload.id, e);\n            }\n        });\n    }\n    // ---------- Private ----------------------------------------------- //\n    register() {\n        return __awaiter(this, arguments, void 0, function* (url = this.url) {\n            if (!(0, core_2.isHttpUrl)(url)) {\n                throw new Error(`Provided URL is not compatible with HTTP connection: ${url}`);\n            }\n            if (this.registering) {\n                return new Promise((resolve, reject) => {\n                    this.events.once(\"register_error\", (error) => {\n                        reject(error);\n                    });\n                    this.events.once(\"open\", () => {\n                        if (typeof this.isAvailable === \"undefined\") {\n                            return reject(new Error(\"HTTP connection is missing or invalid\"));\n                        }\n                        resolve();\n                    });\n                });\n            }\n            this.url = url;\n            this.registering = true;\n            try {\n                if (!this.disableProviderPing) {\n                    const body = (0, core_1.safeJsonStringify)({ id: 1, jsonrpc: \"2.0\", method: \"test\", params: [] });\n                    yield (0, cross_fetch_1.default)(url, Object.assign(Object.assign({}, DEFAULT_FETCH_OPTS), { body }));\n                }\n                this.onOpen();\n            }\n            catch (e) {\n                const error = this.parseError(e);\n                this.events.emit(\"register_error\", error);\n                this.onClose();\n                throw error;\n            }\n        });\n    }\n    onOpen() {\n        this.isAvailable = true;\n        this.registering = false;\n        this.events.emit(\"open\");\n    }\n    onClose() {\n        this.isAvailable = false;\n        this.registering = false;\n        this.events.emit(\"close\");\n    }\n    onPayload(e) {\n        if (typeof e.data === \"undefined\")\n            return;\n        const payload = typeof e.data === \"string\" ? (0, core_1.safeJsonParse)(e.data) : e.data;\n        this.events.emit(\"payload\", payload);\n    }\n    onError(id, e) {\n        const error = this.parseError(e);\n        const message = error.message || error.toString();\n        const payload = (0, core_2.formatJsonRpcError)(id, message);\n        this.events.emit(\"payload\", payload);\n    }\n    parseError(e, url = this.url) {\n        return (0, core_2.parseConnectionError)(e, url, \"HTTP\");\n    }\n}\nexports.JsonRpcConnection = JsonRpcConnection;\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.JsonRpcProvider = void 0;\nconst eventemitter3_1 = require(\"eventemitter3\");\nconst types_1 = require(\"../../types\");\nconst core_1 = require(\"@okxconnect/core\");\nconst core_2 = require(\"@okxconnect/core\");\nclass JsonRpcProvider extends types_1.IJSONRpcProvider {\n    constructor(connection) {\n        super(connection);\n        this.events = new eventemitter3_1.EventEmitter();\n        this.connected = false;\n        this.connecting = false;\n        this.hasRegisteredEventListeners = false;\n        this.connection = this.setConnection(connection);\n        if (this.connection.connected) {\n            this.registerEventListeners();\n        }\n    }\n    connect() {\n        return __awaiter(this, arguments, void 0, function* (connection = this.connection) {\n            yield this.open(connection);\n        });\n    }\n    disconnect() {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield this.close();\n        });\n    }\n    on(event, listener) {\n        this.events.on(event, listener);\n    }\n    once(event, listener) {\n        this.events.once(event, listener);\n    }\n    off(event, listener) {\n        this.events.off(event, listener);\n    }\n    removeListener(event, listener) {\n        this.events.removeListener(event, listener);\n    }\n    request(request, context) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return this.requestStrict((0, core_1.formatJsonRpcRequest)(request.method, request.params || [], (0, core_1.getBigIntRpcId)().toString()), // casting to any is required in order to use BigInt as rpcId\n            context);\n        });\n    }\n    // ---------- Protected ----------------------------------------------- //\n    requestStrict(request, context) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return new Promise((resolve, reject) => __awaiter(this, void 0, void 0, function* () {\n                if (!this.connection.connected) {\n                    try {\n                        yield this.open();\n                    }\n                    catch (e) {\n                        reject(e);\n                    }\n                }\n                this.events.on(`${request.id}`, (response) => {\n                    if ((0, core_1.isJsonRpcError)(response)) {\n                        reject(response.error);\n                    }\n                    else {\n                        resolve(response.result);\n                    }\n                });\n                try {\n                    (0, core_2.logDebug)('[RPC] >>> send request', request, context);\n                    yield this.connection.send(request, context);\n                }\n                catch (e) {\n                    reject(e);\n                }\n            }));\n        });\n    }\n    setConnection(connection = this.connection) {\n        return connection;\n    }\n    onPayload(payload) {\n        this.events.emit(\"payload\", payload);\n        if ((0, core_1.isJsonRpcResponse)(payload)) {\n            this.events.emit(`${payload.id}`, payload);\n        }\n        else {\n            this.events.emit(\"message\", {\n                type: payload.method,\n                data: payload.params,\n            });\n        }\n    }\n    onClose(event) {\n        // Code 3000 indicates an abnormal closure signalled by the relay -> emit an error in this case.\n        if (event && event.code === 3000) {\n            this.events.emit(\"error\", new Error(`WebSocket connection closed abnormally with code: ${event.code} ${event.reason ? `(${event.reason})` : \"\"}`));\n        }\n        this.events.emit(\"disconnect\");\n    }\n    open() {\n        return __awaiter(this, arguments, void 0, function* (connection = this.connection) {\n            if (this.connection === connection && this.connection.connected)\n                return;\n            if (this.connection.connected)\n                this.close();\n            if (typeof connection === \"string\") {\n                yield this.connection.open(connection);\n                connection = this.connection;\n            }\n            this.connection = this.setConnection(connection);\n            yield this.connection.open();\n            this.registerEventListeners();\n            this.events.emit(\"connect\");\n        });\n    }\n    close() {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield this.connection.close();\n        });\n    }\n    // ---------- Private ----------------------------------------------- //\n    registerEventListeners() {\n        if (this.hasRegisteredEventListeners)\n            return;\n        this.connection.on(\"payload\", (payload) => this.onPayload(payload));\n        this.connection.on(\"close\", (event) => this.onClose(event));\n        this.connection.on(\"error\", (error) => this.events.emit(\"error\", error));\n        this.connection.on(\"register_error\", (_error) => this.onClose());\n        this.hasRegisteredEventListeners = true;\n    }\n}\nexports.JsonRpcProvider = JsonRpcProvider;\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SolanaProvider = void 0;\nconst constants_1 = require(\"../constants\");\nconst core_1 = require(\"@okxconnect/core\");\nconst utils_1 = require(\"../utils\");\nconst JsonRpcConnection_1 = require(\"./rpc/JsonRpcConnection\");\nconst JsonRpcProvider_1 = require(\"./rpc/JsonRpcProvider\");\nclass SolanaProvider {\n    constructor(opts, name, client, events) {\n        this.name = \"solana\";\n        this.namespace = opts.namespace;\n        this.events = events;\n        this.client = client;\n        this.chainId = this.getDefaultChain();\n        this.httpProviders = this.createHttpProviders();\n        this.name = name;\n    }\n    updateNamespace(namespace) {\n        this.namespace = Object.assign(this.namespace, namespace);\n    }\n    requestAccounts() {\n        return this.getAccounts();\n    }\n    request(args) {\n        return __awaiter(this, void 0, void 0, function* () {\n            (0, core_1.logDebug)(\"solana request --args--string>\", JSON.stringify(args));\n            (0, core_1.logDebug)(\"solana provider namespace: \", this.namespace);\n            if (this.namespace.methods.includes(args.method)) {\n                return this.client.request(args);\n            }\n            else {\n                throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED, \"Please upgrade OKX APP\");\n            }\n        });\n    }\n    setDefaultChain(chainId, rpcUrl) {\n        // http provider exists so just set the chainId\n        if (!this.httpProviders[chainId]) {\n            this.setHttpProvider(chainId, rpcUrl);\n        }\n        this.chainId = chainId;\n        this.events.emit(constants_1.PROVIDER_EVENTS.DEFAULT_CHAIN_CHANGED, `${this.name}:${chainId}`);\n    }\n    getDefaultChain() {\n        if (this.chainId)\n            return this.chainId;\n        if (this.namespace.defaultChain)\n            return this.namespace.defaultChain;\n        const chainId = this.namespace.chains[0];\n        if (!chainId)\n            throw new Error(`ChainId not found`);\n        return chainId.split(\":\")[1];\n    }\n    // --------- PRIVATE --------- //\n    getAccounts() {\n        const accounts = this.namespace.accounts;\n        if (!accounts) {\n            return [];\n        }\n        return [\n            ...new Set(accounts\n                // get the accounts from the active chain\n                .filter((account) => account.split(\":\")[1] === this.chainId.toString())\n                // remove namespace & chainId from the string\n                .map((account) => account.split(\":\")[2])),\n        ];\n    }\n    createHttpProviders() {\n        const http = {};\n        this.namespace.chains.forEach((chain) => {\n            const parsedChainId = (0, utils_1.getChainId)(chain);\n            const parsedRpc = (0, utils_1.getRpcUrl)(chain, this.namespace);\n            let httpProvider = this.createHttpProvider(parsedChainId, parsedRpc);\n            if (httpProvider) {\n                http[parsedChainId] = httpProvider;\n            }\n        });\n        return http;\n    }\n    getHttpProvider() {\n        const chain = `${this.chainId}`;\n        const http = this.httpProviders[chain];\n        if (typeof http === \"undefined\") {\n            throw new Error(`JSON-RPC provider for ${chain} not found`);\n        }\n        return http;\n    }\n    setHttpProvider(chainId, rpcUrl) {\n        const http = this.createHttpProvider(chainId, rpcUrl);\n        if (http) {\n            this.httpProviders[chainId] = http;\n        }\n    }\n    createHttpProvider(chainId, rpcUrl) {\n        // 没有备用rpc对外提供\n        const rpc = rpcUrl;\n        if (!rpc) {\n            // logError(`No RPC url provided for chainId: ${chainId}`);\n            // throw new Error(`No RPC url provided for chainId: ${chainId}`);\n        }\n        else {\n            const http = new JsonRpcProvider_1.JsonRpcProvider(new JsonRpcConnection_1.JsonRpcConnection(rpc, (0, utils_1.getGlobal)(\"disableProviderPing\")));\n            return http;\n        }\n    }\n    getPubkey(chainId) {\n        return this.getWalletAddress(chainId);\n    }\n    //   {\n    //     \"chains\": [\"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp\" ],\n    //     \"accounts\": [\"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp:F7wnJc5wiBGy1k87jv6gyNwE3jMEWd18oTQiYsF1xVG7\"],\n    //     \"methods\": [\n    //         \"solana_signTransaction\",\n    //         \"solana_signMessage\"\n    //     ],\n    //     \"defaultChain\": \"5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp\"\n    // }\n    // TODO:确认上面的defaultChain是否正确（没有solana前缀）\n    getWalletAddress(chainId) {\n        if (!chainId) {\n            chainId = this.namespace.defaultChain;\n            if (!(chainId === null || chainId === void 0 ? void 0 : chainId.startsWith(\"solana\"))) {\n                chainId = `solana:${chainId}`;\n            }\n        }\n        return this.namespace.accounts.filter(function (account) {\n            let components = account.split(\":\");\n            return components.length > 2 && account.startsWith(chainId);\n        }).map(function (account) {\n            let components = account.split(\":\");\n            return components[2];\n        })[0];\n    }\n    showRequestModal(args) {\n        return true;\n    }\n}\nexports.SolanaProvider = SolanaProvider;\nexports.default = SolanaProvider;\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SuiProvider = void 0;\nconst constants_1 = require(\"../constants\");\nconst core_1 = require(\"@okxconnect/core\");\nconst utils_1 = require(\"../utils\");\nconst JsonRpcConnection_1 = require(\"./rpc/JsonRpcConnection\");\nconst JsonRpcProvider_1 = require(\"./rpc/JsonRpcProvider\");\nclass SuiProvider {\n    constructor(opts, client, events) {\n        this.name = core_1.NameSpaceKeySui;\n        this.namespace = opts.namespace;\n        this.events = events;\n        this.client = client;\n        this.chainId = this.getDefaultChain();\n        this.httpProviders = this.createHttpProviders();\n    }\n    updateNamespace(namespace) {\n        this.namespace = Object.assign(this.namespace, namespace);\n    }\n    request(args) {\n        return __awaiter(this, void 0, void 0, function* () {\n            (0, core_1.logDebug)(\"sui request --args--string>\", JSON.stringify(args));\n            (0, core_1.logDebug)(\"sui provider namespace: \", this.namespace);\n            if (this.namespace.methods.includes(args.method)) {\n                return this.client.request(args);\n            }\n            return this.getHttpProvider().request(args);\n        });\n    }\n    requestAccounts() {\n        return this.getAccounts();\n    }\n    setDefaultChain(chainId, rpcUrl) {\n        if (!this.httpProviders[chainId]) {\n            this.setHttpProvider(chainId, rpcUrl);\n        }\n        this.chainId = chainId;\n        this.events.emit(constants_1.PROVIDER_EVENTS.DEFAULT_CHAIN_CHANGED, `${this.name}:${chainId}`);\n    }\n    getDefaultChain() {\n        if (this.chainId)\n            return this.chainId;\n        if (this.namespace.defaultChain)\n            return this.namespace.defaultChain;\n        const chainId = this.namespace.chains[0];\n        if (!chainId)\n            throw new Error(`ChainId not found`);\n        return chainId.split(\":\")[1];\n    }\n    // --------- PRIVATE --------- //\n    getAccounts() {\n        const accounts = this.namespace.accounts;\n        if (!accounts) {\n            return [];\n        }\n        return [\n            ...new Set(accounts\n                // get the accounts from the active chain\n                .filter((account) => account.split(\":\")[1] === this.chainId.toString())\n                // remove namespace & chainId from the string\n                .map((account) => account.split(\":\")[2])),\n        ];\n    }\n    createHttpProviders() {\n        const http = {};\n        this.namespace.chains.forEach((chain) => {\n            const parsedChainId = (0, utils_1.getChainId)(chain);\n            const parsedRpc = (0, utils_1.getRpcUrl)(chain, this.namespace);\n            let httpProvider = this.createHttpProvider(parsedChainId, parsedRpc);\n            if (httpProvider) {\n                http[parsedChainId] = httpProvider;\n            }\n        });\n        return http;\n    }\n    getHttpProvider() {\n        const chain = `${this.chainId}`;\n        const http = this.httpProviders[chain];\n        (0, core_1.logDebug)('[RPC] get http provider:', chain, http);\n        if (typeof http === \"undefined\") {\n            throw new Error(`JSON-RPC provider for ${chain} not found`);\n        }\n        return http;\n    }\n    setHttpProvider(chainId, rpcUrl) {\n        const http = this.createHttpProvider(chainId, rpcUrl);\n        if (http) {\n            (0, core_1.logDebug)(\"setHttpProvider\", chainId, rpcUrl);\n            this.httpProviders[chainId] = http;\n        }\n    }\n    createHttpProvider(chainId, rpcUrl) {\n        // 没有备用rpc对外提供\n        const rpc = rpcUrl;\n        if (!rpc) {\n            (0, core_1.logError)(`No RPC url provided for chainId: ${chainId}`);\n            // throw new Error(`No RPC url provided for chainId: ${chainId}`);\n        }\n        else {\n            const http = new JsonRpcProvider_1.JsonRpcProvider(new JsonRpcConnection_1.JsonRpcConnection(rpc, (0, utils_1.getGlobal)(\"disableProviderPing\")));\n            return http;\n        }\n    }\n    getPubkey(chainId) {\n        return this.getWalletAddress(chainId);\n    }\n    getWalletAddress(chainId) {\n        if (!chainId) {\n            chainId = this.namespace.defaultChain;\n            if (!(chainId === null || chainId === void 0 ? void 0 : chainId.startsWith(\"sui\"))) {\n                chainId = `sui:${chainId}`;\n            }\n        }\n        return this.namespace.accounts.filter(function (account) {\n            let components = account.split(\":\");\n            return components.length > 2 && account.startsWith(chainId);\n        }).map(function (account) {\n            let components = account.split(\":\");\n            return components[2];\n        })[0];\n    }\n    showRequestModal(args) {\n        switch (args.method) {\n            case \"sui_signMessage\":\n            case \"sui_signPersonalMessage\":\n            case \"sui_signTransactionBlock\":\n            case \"sui_signAndExecuteTransactionBlock\":\n                return true;\n            default:\n                return false;\n        }\n        return false;\n    }\n}\nexports.SuiProvider = SuiProvider;\nexports.default = SuiProvider;\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst constants_1 = require(\"../constants\");\nconst core_1 = require(\"@okxconnect/core\");\nconst utils_1 = require(\"../utils\");\nconst JsonRpcConnection_1 = require(\"./rpc/JsonRpcConnection\");\nconst JsonRpcProvider_1 = require(\"./rpc/JsonRpcProvider\");\nclass TONProvider {\n    constructor(opts, client, events) {\n        this.name = core_1.NameSpaceKeyTON;\n        this.namespace = opts.namespace;\n        this.events = events;\n        this.client = client;\n        this.chainId = this.getDefaultChain();\n        this.httpProviders = this.createHttpProviders();\n    }\n    updateNamespace(namespace) {\n        this.namespace = Object.assign(this.namespace, namespace);\n    }\n    isRecord(value) {\n        return typeof value === \"object\" && value !== null && !Array.isArray(value);\n    }\n    request(args) {\n        return __awaiter(this, void 0, void 0, function* () {\n            var _a, _b, _c, _d;\n            (0, core_1.logDebug)(\"TONProvider request --args--string>\", JSON.stringify(args));\n            (0, core_1.logDebug)(\"TONProvider request provider namespace: \", this.namespace);\n            if (this.namespace.methods.includes(args.method)) {\n                if (!args.params) {\n                    throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, \"ton request params is nil\");\n                }\n                if (this.isRecord(args.params)) {\n                    const _e = args.params, { validUntil } = _e, newParams = __rest(_e, [\"validUntil\"]);\n                    let fromAddress = (_b = (_a = this.namespace.payload) === null || _a === void 0 ? void 0 : _a.ton_addr) === null || _b === void 0 ? void 0 : _b.address;\n                    if ('from' in newParams) {\n                        fromAddress = newParams.from || ((_d = (_c = this.namespace.payload) === null || _c === void 0 ? void 0 : _c.ton_addr) === null || _d === void 0 ? void 0 : _d.address);\n                    }\n                    args.params['from'] = fromAddress;\n                    args.params['network'] = this.getDefaultChain();\n                    args.params['valid_until'] = validUntil;\n                    let response = yield this.client.request(args);\n                    if (this.isRecord(response) && 'result' in response) {\n                        const result = {\n                            boc: response.result.toString()\n                        };\n                        (0, core_1.logDebug)(\"TONProvider request provider response: \", JSON.stringify(response));\n                        (0, core_1.logDebug)(\"TONProvider request provider result: \", JSON.stringify(result));\n                        return result;\n                    }\n                    throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, \"ton_send request response is nil\");\n                }\n                else {\n                    throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR, \"ton request params type add nil\");\n                }\n            }\n            return this.getHttpProvider().request(args);\n        });\n    }\n    requestAccounts() {\n        return this.getAccounts();\n    }\n    setDefaultChain(chainId, rpcUrl) {\n        if (!this.httpProviders[chainId]) {\n            this.setHttpProvider(chainId, rpcUrl);\n        }\n        this.chainId = chainId;\n        this.events.emit(constants_1.PROVIDER_EVENTS.DEFAULT_CHAIN_CHANGED, `${this.name}:${chainId}`);\n    }\n    getDefaultChain() {\n        if (this.chainId)\n            return this.chainId;\n        if (this.namespace.defaultChain)\n            return this.namespace.defaultChain;\n        const chainId = this.namespace.chains[0];\n        if (!chainId)\n            throw new Error(`ChainId not found`);\n        return chainId.split(\":\")[1];\n    }\n    // --------- PRIVATE --------- //\n    getAccounts() {\n        var _a, _b;\n        const accounts = this.namespace.accounts;\n        (0, core_1.logDebug)(\"ton getAccounts accounts :\", accounts);\n        (0, core_1.logDebug)(\"ton getAccounts .namespace :\", JSON.stringify(this.namespace));\n        if (!accounts) {\n            return [];\n        }\n        let address = (_b = (_a = this.namespace.payload) === null || _a === void 0 ? void 0 : _a.ton_addr) === null || _b === void 0 ? void 0 : _b.address;\n        (0, core_1.logDebug)(\"ton getAccounts address :\", address);\n        if (address) {\n            return [\n                address\n            ];\n        }\n        return [];\n    }\n    createHttpProviders() {\n        const http = {};\n        this.namespace.chains.forEach((chain) => {\n            const parsedChainId = (0, utils_1.getChainId)(chain);\n            const parsedRpc = (0, utils_1.getRpcUrl)(chain, this.namespace);\n            let httpProvider = this.createHttpProvider(parsedChainId, parsedRpc);\n            if (httpProvider) {\n                http[parsedChainId] = httpProvider;\n            }\n        });\n        return http;\n    }\n    getHttpProvider() {\n        const chain = `${this.chainId}`;\n        const http = this.httpProviders[chain];\n        (0, core_1.logDebug)('[RPC] get http provider:', chain, http);\n        if (typeof http === \"undefined\") {\n            throw new Error(`JSON-RPC provider for ${chain} not found`);\n        }\n        return http;\n    }\n    setHttpProvider(chainId, rpcUrl) {\n        const http = this.createHttpProvider(chainId, rpcUrl);\n        if (http) {\n            (0, core_1.logDebug)(\"setHttpProvider\", chainId, rpcUrl);\n            this.httpProviders[chainId] = http;\n        }\n    }\n    createHttpProvider(chainId, rpcUrl) {\n        // 没有备用rpc对外提供\n        const rpc = rpcUrl;\n        if (!rpc) {\n            (0, core_1.logError)(`No RPC url provided for chainId: ${chainId}`);\n            // throw new Error(`No RPC url provided for chainId: ${chainId}`);\n        }\n        else {\n            const http = new JsonRpcProvider_1.JsonRpcProvider(new JsonRpcConnection_1.JsonRpcConnection(rpc, (0, utils_1.getGlobal)(\"disableProviderPing\")));\n            return http;\n        }\n    }\n    showRequestModal(args) {\n        switch (args.method) {\n            case \"ton_sendTransaction\":\n                return true;\n            default:\n                return false;\n        }\n        return false;\n    }\n}\nexports.default = TONProvider;\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst constants_1 = require(\"../constants\");\nconst core_1 = require(\"@okxconnect/core\");\nconst utils_1 = require(\"../utils\");\nconst JsonRpcConnection_1 = require(\"./rpc/JsonRpcConnection\");\nconst JsonRpcProvider_1 = require(\"./rpc/JsonRpcProvider\");\nclass TronProvider {\n    constructor(opts, client, events) {\n        this.name = core_1.NameSpaceKeyTron;\n        this.namespace = opts.namespace;\n        this.events = events;\n        this.client = client;\n        this.chainId = this.getDefaultChain();\n        this.httpProviders = this.createHttpProviders();\n    }\n    updateNamespace(namespace) {\n        this.namespace = Object.assign(this.namespace, namespace);\n    }\n    requestAccounts() {\n        return this.getAccounts();\n    }\n    request(args) {\n        return __awaiter(this, void 0, void 0, function* () {\n            (0, core_1.logDebug)(\"tron request --args--string>\", JSON.stringify(args));\n            (0, core_1.logDebug)(\"tron provider namespace: \", JSON.stringify(this.namespace));\n            if (this.namespace.methods.includes(args.method)) {\n                return this.client.request(args);\n            }\n            else {\n                throw new core_1.OKXConnectError(core_1.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED, \"Please upgrade OKX APP\");\n            }\n        });\n    }\n    setDefaultChain(chainId, rpcUrl) {\n        // http provider exists so just set the chainId\n        if (!this.httpProviders[chainId]) {\n            this.setHttpProvider(chainId, rpcUrl);\n        }\n        this.chainId = chainId;\n        this.events.emit(constants_1.PROVIDER_EVENTS.DEFAULT_CHAIN_CHANGED, `${this.name}:${chainId}`);\n    }\n    getDefaultChain() {\n        if (this.chainId)\n            return this.chainId;\n        if (this.namespace.defaultChain)\n            return this.namespace.defaultChain;\n        const chainId = this.namespace.chains[0];\n        if (!chainId)\n            throw new Error(`ChainId not found`);\n        return chainId.split(\":\")[1];\n    }\n    // --------- PRIVATE --------- //\n    getAccounts() {\n        const accounts = this.namespace.accounts;\n        if (!accounts) {\n            return [];\n        }\n        return [\n            ...new Set(accounts\n                // get the accounts from the active chain\n                .filter((account) => account.split(\":\")[1] === this.chainId.toString())\n                // remove namespace & chainId from the string\n                .map((account) => account.split(\":\")[2])),\n        ];\n    }\n    createHttpProviders() {\n        const http = {};\n        this.namespace.chains.forEach((chain) => {\n            const parsedChainId = (0, utils_1.getChainId)(chain);\n            const parsedRpc = (0, utils_1.getRpcUrl)(chain, this.namespace);\n            let httpProvider = this.createHttpProvider(parsedChainId, parsedRpc);\n            if (httpProvider) {\n                http[parsedChainId] = httpProvider;\n            }\n        });\n        return http;\n    }\n    getHttpProvider() {\n        const chain = `${this.chainId}`;\n        const http = this.httpProviders[chain];\n        if (typeof http === \"undefined\") {\n            throw new Error(`JSON-RPC provider for ${chain} not found`);\n        }\n        return http;\n    }\n    setHttpProvider(chainId, rpcUrl) {\n        const http = this.createHttpProvider(chainId, rpcUrl);\n        if (http) {\n            this.httpProviders[chainId] = http;\n        }\n    }\n    createHttpProvider(chainId, rpcUrl) {\n        // 没有备用rpc对外提供\n        const rpc = rpcUrl;\n        if (!rpc) {\n            // logError(`No RPC url provided for chainId: ${chainId}`);\n            // throw new Error(`No RPC url provided for chainId: ${chainId}`);\n        }\n        else {\n            const http = new JsonRpcProvider_1.JsonRpcProvider(new JsonRpcConnection_1.JsonRpcConnection(rpc, (0, utils_1.getGlobal)(\"disableProviderPing\")));\n            return http;\n        }\n    }\n    showRequestModal(args) {\n        return true;\n    }\n}\nexports.default = TronProvider;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./providers\"), exports);\n__exportStar(require(\"./misc\"), exports);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.IJSONRpcProvider = exports.IJSONRpcConnection = void 0;\nclass IJSONRpcConnection {\n}\nexports.IJSONRpcConnection = IJSONRpcConnection;\nclass IJSONRpcProvider {\n    constructor(opt) {\n    }\n}\nexports.IJSONRpcProvider = IJSONRpcProvider;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.setGlobal = exports.getGlobal = void 0;\nconst globals = {};\nconst getGlobal = (key) => {\n    return globals[key];\n};\nexports.getGlobal = getGlobal;\nconst setGlobal = (key, value) => {\n    globals[key] = value;\n};\nexports.setGlobal = setGlobal;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./misc\"), exports);\n__exportStar(require(\"./globals\"), exports);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getRpcUrl = getRpcUrl;\nexports.getChainId = getChainId;\nexports.fromAccountToAddress = fromAccountToAddress;\nexports.convertChainIdToNumber = convertChainIdToNumber;\nexports.parseChainId = parseChainId;\nexports.mergeArrays = mergeArrays;\nexports.syncAddressAvailable = syncAddressAvailable;\nexports.syncAddressHostAvailable = syncAddressHostAvailable;\nconst core_1 = require(\"@okxconnect/core\");\nfunction getRpcUrl(chainId, rpc, projectId) {\n    var _a;\n    const chain = parseChainId(chainId);\n    // no default\n    return (((_a = rpc.rpcMap) === null || _a === void 0 ? void 0 : _a[chain.reference]) ||\n        ``);\n}\nfunction getChainId(chain) {\n    return chain.includes(\":\") ? chain.split(\":\")[1] : chain;\n}\nfunction fromAccountToAddress(account) {\n    if (!account) {\n        return \"\";\n    }\n    try {\n        let addressArr = account.split(\":\").slice(2);\n        let address = addressArr.length > 0 ? addressArr.join(\":\") : \"\";\n        (0, core_1.logDebug)(\"fromAccountToAddress address and account:\", address, account);\n        return address;\n    }\n    catch (e) {\n        (0, core_1.logError)(\"fromAccountToAddress error:\", account);\n        return \"\";\n    }\n}\n// export function validateChainApproval(chain: string, chains: string[]): void {\n//   if (!chains.includes(chain)) {\n//     throw new Error(\n//       `Chain '${chain}' not approved. Please use one of the following: ${chains.toString()}`,\n//     );\n//   }\n// }\n// export function getChainsFromApprovedSession(accounts: string[]): string[] {\n//   return accounts.map((address) => `${address.split(\":\")[0]}:${address.split(\":\")[1]}`);\n// }\n// export function getAccountsFromSession(namespace: string, session: SessionTypes.Struct): string[] {\n//   // match namespaces e.g. eip155 with eip155:1\n//   const matchedNamespaceKeys = Object.keys(session.namespaces).filter((key) =>\n//     key.includes(namespace),\n//   );\n//   if (!matchedNamespaceKeys.length) return [];\n//   const accounts: string[] = [];\n//   matchedNamespaceKeys.forEach((key) => {\n//     const accountsForNamespace = session.namespaces[key].accounts;\n//     accounts.push(...accountsForNamespace);\n//   });\n//   return accounts;\n// }\n// export function mergeRequiredOptionalNamespaces(\n//   required: NamespaceConfig = {},\n//   optional: NamespaceConfig = {},\n// ){\n//   const requiredNamespaces = normalizeNamespaces(required);\n//   const optionalNamespaces = normalizeNamespaces(optional);\n//    return merge.merge(requiredNamespaces,optionalNamespaces)\n// }\n/**\n * Converts\n * {\n *  \"eip155:1\": {...},\n *  \"eip155:2\": {...},\n * }\n * into\n * {\n *  \"eip155\": {\n *      chains: [\"eip155:1\", \"eip155:2\"],\n *      ...\n *    }\n * }\n *\n */\n// export function normalizeNamespaces(namespaces: NamespaceConfig): NamespaceConfig {\n//   const normalizedNamespaces: NamespaceConfig = {};\n//   if (!isValidObject(namespaces)) return normalizedNamespaces;\n//\n//   for (const [key, values] of Object.entries(namespaces)) {\n//     const chains = isCaipNamespace(key) ? [key] : values.chains;\n//     const rpcMap = values.rpcMap || {};\n//     const normalizedKey = parseNamespaceKey(key);\n//     normalizedNamespaces[normalizedKey] = {\n//       ...normalizedNamespaces[normalizedKey],\n//       ...values,\n//       chains: mergeArrays(chains, normalizedNamespaces[normalizedKey]?.chains),\n//       rpcMap: { ...rpcMap, ...normalizedNamespaces[normalizedKey]?.rpcMap },\n//     };\n//   }\n//   return normalizedNamespaces;\n// }\n//\n// export function parseCaip10Account(caip10Account: string): string {\n//   return caip10Account.includes(\":\") ? caip10Account.split(\":\")[2] : caip10Account;\n// }\n/**\n * Populates the chains array for each namespace with the chains extracted from the accounts if are otherwise missing\n */\n// export function populateNamespacesChains(\n//   namespaces: SessionTypes.Namespaces,\n// ): Record<string, SessionTypes.Namespace> {\n//   const parsedNamespaces: Record<string, SessionTypes.Namespace> = {};\n//   for (const [key, values] of Object.entries(namespaces)) {\n//     const methods = values.methods || [];\n//     const events = values.events || [];\n//     const accounts = values.accounts || [];\n//     // If the key includes a CAIP separator `:` we know it's a namespace + chainId (e.g. `eip155:1`)\n//     const chains = isCaipNamespace(key)\n//       ? [key]\n//       : values.chains\n//       ? values.chains\n//       : getChainsFromApprovedSession(values.accounts);\n//     parsedNamespaces[key] = {\n//       chains,\n//       methods,\n//       events,\n//       accounts,\n//     };\n//   }\n//   return parsedNamespaces;\n// }\nfunction convertChainIdToNumber(chainId) {\n    if (typeof chainId === \"number\")\n        return chainId;\n    if (chainId.includes(\"0x\")) {\n        return parseInt(chainId, 16);\n    }\n    chainId = chainId.includes(\":\") ? chainId.split(\":\")[1] : chainId;\n    return isNaN(Number(chainId)) ? chainId : Number(chainId);\n}\nconst CAIP_DELIMITER = \":\";\nfunction parseChainId(chain) {\n    const [namespace, reference] = chain.split(CAIP_DELIMITER);\n    return { namespace, reference };\n}\nfunction mergeArrays(a = [], b = []) {\n    return [...new Set([...a, ...b])];\n}\nfunction syncAddressAvailable(wallet) {\n    if (!wallet) {\n        return false;\n    }\n    if (wallet.appName !== 'OKX Wallet') {\n        return false;\n    }\n    if ((0, core_1.versionCompare)('6.97.0', wallet.appVersion) > 0) {\n        return false;\n    }\n    return syncAddressHostAvailable();\n}\nfunction syncAddressHostAvailable() {\n    try {\n        return !!(window.okxGlobal);\n    }\n    catch (e) {\n        return false;\n    }\n}\n","<template>\n  <div id=\"app\">\n    <el-container>\n      <el-header>OKX Connect</el-header>\n      <el-main>\n        <el-card class=\"wallet-info\">\n          <template #header>\n            <div style=\"font-weight: bold;\">Wallet Info</div>\n          </template>\n          <el-row class=\"info-row\">\n            <el-col :span=\"24\">\n              <strong>Wallet Address:</strong> {{ getWalletAddress }}\n            </el-col>\n          </el-row>\n\n          <el-row class=\"info-row\">\n            <el-col :span=\"24\">\n              <strong>Status :</strong> {{ currentStatus }}\n            </el-col>\n          </el-row>\n\n        </el-card>\n\n        <el-card class=\"wallet-actions\">\n          <template #header>\n            <div style=\"font-weight: bold;\">Connect Params</div>\n          </template>\n\n          <el-row class=\"info-row\">\n            <el-col :span=\"12\">\n              <el-checkbox v-model=\"withUI\" @change=\"handleWithUI\">\n                Show UI</el-checkbox>\n            </el-col>\n\n            <el-col :span=\"12\">\n              <el-checkbox v-model=\"universalToTG\" @change=\"handleUniversalToTG\">\n                Use mini wallet</el-checkbox>\n            </el-col>\n          </el-row>\n\n\n          <el-row style=\"align-items: center\">\n            <el-col :span=\"4\">\n              <p style=\"font-size: 11pt\">Modals</p>\n            </el-col>\n            <el-col :span=\"20\">\n              <el-select v-model=\"modals\" placeholder=\"Modals\" @change=\"handleModalsSelect\" multiple>\n                <el-option label=\"Before\" value=\"before\" />\n                <el-option label=\"Success\" value=\"success\" />\n                <el-option label=\"Error\" value=\"error\" />\n              </el-select>\n            </el-col>\n          </el-row>\n\n          <el-row style=\"align-items: center; justify-content: space-between;\">\n            <el-col :span=\"6\" style=\"gap: 2px\">\n              <p style=\"font-size: 11pt; margin: 0px\">Return Strategy</p>\n              <p style=\"font-size: 9pt; margin: 0px\">(Mobile only)</p>\n            </el-col>\n            <el-col :span=\"10\">\n              <el-select\n                v-model=\"returnStrategy\"\n                @change=\"handleReturnStrategySelect\"\n                placeholder=\"Return Strategy\"\n              >\n                <el-option\n                  v-for=\"strategy in returnStrategies\"\n                  :key=\"`return-strategy-select-option-${strategy}`\"\n                  :label=\"strategy\"\n                  :value=\"strategy\"\n                />\n              </el-select>\n            </el-col>\n            <el-col :span=\"10\">\n              <el-input\n                v-if=\"returnStrategy === 'deeplink'\"\n                v-model=\"deeplink\"\n                @change=\"handleReturnStrategyDeeplink\"\n                placeholder=\"Deeplink\"\n                :disabled=\"returnStrategy !== 'deeplink'\"\n                style=\"margin: 0px\"\n              />\n            </el-col>\n          </el-row>\n\n          <el-row style=\"align-items: center\">\n            <el-col :span=\"4\">\n              <p style=\"font-size: 11pt\">Lang</p>\n            </el-col>\n            <el-col :span=\"20\">\n              <el-select v-model=\"language\" @change=\"handleLanguageSelect\" placeholder=\"Language\">\n                <el-option v-for=\"locale in locales\" :key=\"`language-select-option-${locale}`\" :label=\"locale\"\n                  :value=\"locale\" />\n              </el-select>\n            </el-col>\n          </el-row>\n\n          <el-row style=\"align-items: center\">\n            <el-col :span=\"4\">\n              <p style=\"font-size: 11pt\">Theme</p>\n            </el-col>\n            <el-col :span=\"20\">\n              <el-select v-model=\"theme\" @change=\"handleThemeSelect\" placeholder=\"Theme\">\n                <el-option label=\"LIGHT\" :value=\"THEME.LIGHT\" />\n                <el-option label=\"DARK\" :value=\"THEME.DARK\" />\n              </el-select>\n            </el-col>\n          </el-row>\n\n<!--          <el-row>-->\n<!--          <el-row style=\"align-items: center\">-->\n<!--            <el-col :span=\"4\">-->\n<!--              <p style=\"font-size: 11pt\">Connect</p>-->\n<!--              <p style=\"font-size: 11pt\">Methods</p>-->\n<!--            </el-col>-->\n<!--            <el-col :span=\"20\">-->\n<!--              <el-select v-model=\"selectedMethod\" @change=\"handleConnectMethodsSelect\" placeholder=\"Methods\">-->\n<!--                <el-option v-for=\"methods in connectMethods\" :key=\"`handleConnectMethodsSelect-${methods}`\" :label=\"methods\"-->\n<!--                           :value=\"methods\" />-->\n\n<!--              </el-select>-->\n<!--            </el-col>-->\n<!--          </el-row>-->\n\n          <el-row style=\"align-items: center\">\n            <el-col :span=\"4\">\n              <p style=\"font-size: 11pt\">Connect</p>\n              <p style=\"font-size: 11pt\">Methods</p>\n            </el-col>\n            <el-col :span=\"20\">\n              <el-select v-model=\"selectedMethod\" @change=\"handleConnectMethodsSelect\" multiple placeholder=\"methods\">\n                <el-option\n                    v-for=\"item in connectMethods\"\n                    :key=\"item\"\n                    :label=\"item\"\n                    :value=\"item\">\n                </el-option>\n              </el-select>\n\n\n<!--              <el-select v-model=\"selectedMethod\" placeholder=\"Methods\" @change=\"handleConnectMethodsSelect\" multiple>-->\n<!--                <el-option v-for=\"methods in connectMethods\" :key=\"`handleConnectMethodsSelect-${methods}`\" :label=\"methods\"-->\n<!--                           :value=\"methods\" />-->\n<!--              </el-select>-->\n            </el-col>\n          </el-row>\n\n          <el-row style=\"align-items: center\">\n            <el-col :span=\"4\">\n              <p style=\"font-size: 11pt\">ton_proof</p>\n            </el-col>\n            <el-col :span=\"20\">\n              <el-input v-model=\"tonProofValue\"  placeholder=\"input ton_proof\"></el-input>\n            </el-col>\n          </el-row>\n\n\n          <el-row :gutter=\"12\" align=\"middle\">\n            <el-col :span=\"20\">\n              <div style=\"font-weight: bold;\">Select Required Chains</div>\n            </el-col>\n            <el-col\n              :span=\"6\"\n              v-for=\"item in Object.keys(availableChains)\"\n              :key=\"item\"\n            >\n              <el-checkbox\n                v-model=\"availableChains[item].checked\"\n                :disabled=\"!areChainsInit\"\n                >{{ availableChains[item].name }}</el-checkbox\n              >\n            </el-col>\n          </el-row>\n\n          <el-row :gutter=\"12\" align=\"middle\" style=\"margin-top: 20px\">\n            <el-col :span=\"20\">\n              <div style=\"font-weight: bold;\">Select Optional Chains</div>\n            </el-col>\n            <el-col :span=\"5\">\n              <el-checkbox :checked=\"isOptionalChecked(43114)\" @change=\"() => handleOptionChange(43114)\">\n                AVAX</el-checkbox>\n            </el-col>\n            <el-col :span=\"5\">\n              <el-checkbox :checked=\"isOptionalChecked(10)\" @change=\"() => handleOptionChange(10)\">OP</el-checkbox>\n            </el-col>\n            <el-col :span=\"5\">\n              <el-checkbox :checked=\"isOptionalChecked(8453)\" @change=\"() => handleOptionChange(8453)\">\n                BASE</el-checkbox>\n            </el-col>\n            <el-col :span=\"5\">\n              <el-checkbox :checked=\"isOptionalChecked(99781165)\"\n                @change=\"() => handleOptionChange(99781165)\">Nonexist</el-checkbox>\n            </el-col>\n          </el-row>\n\n          <el-row :gutter=\"12\" class=\"button-row\">\n            <el-col :span=\"24\">\n              <el-button\n                  type=\"primary\"\n                  @click=\"initBtnClicked\"\n                  icon=\"el-icon-connection\"\n                  :disabled=\"!areChainsInit\"\n              >{{ connectInitStr }}</el-button\n              >\n            </el-col>\n          </el-row>\n\n          <el-row :gutter=\"12\" class=\"button-row\">\n            <el-col :span=\"24\">\n              <el-button\n                type=\"primary\"\n                @click=\"connectBtnClicked\"\n                icon=\"el-icon-connection\"\n                :disabled=\"!areChainsInit\"\n                >{{ connectStatusStr }}</el-button\n              >\n            </el-col>\n          </el-row>\n\n\n          <el-row :gutter=\"12\" class=\"button-row\">\n            <el-col :span=\"24\">\n              <el-button\n                  type=\"primary\"\n                  @click=\"syncAllAddressClick\"\n                  icon=\"el-icon-connection\"\n                  :disabled=\"!areChainsInit\"\n              >{{ syncAllAddressStr }}</el-button\n              >\n            </el-col>\n          </el-row>\n\n          <el-row :gutter=\"12\" class=\"button-row\">\n            <el-col :span=\"24\">\n              <el-button\n                type=\"danger\"\n                @click=\"disconnectAction\"\n                icon=\"el-icon-switch-button\"\n                :disabled=\"!areChainsInit || walletAddress.length == 0\"\n                >{{ disconnectStatusStr }}</el-button\n              >\n            </el-col>\n          </el-row>\n\n          <teleport to=\"body\">\n            <div v-if=\"showModal\" class=\"modal-overlay\" @click=\"closeModal\">\n              <div class=\"modal-content\" @click.stop>\n                <button class=\"close-button\" @click=\"closeModal\">\n                  &times;\n                </button>\n                <h2>Scan to connect</h2>\n                <qrcode-vue :value=\"qrValue\" :size=\"350\" level=\"L\" />\n              </div>\n            </div>\n          </teleport>\n        </el-card>\n\n        <!-- 发送交易 -->\n        <el-card class=\"wallet-actions\">\n          <template #header>\n            <div style=\"font-weight: bold;\">Transactions</div>\n          </template>\n\n          <el-tabs v-model=\"activeTab\" type=\"border-card\" @tab-click=\"clickActiveTab\">\n            <!-- ETH -->\n            <el-tab-pane label=\"ETH\" name=\"eip155:1\">\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"eth_requestAccounts\">eth_requestAccounts(ETH)</el-button>\n                </el-col>\n              </el-row>\n\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"eth_chainId()\">eth_chainId(ETH)</el-button>\n                </el-col>\n              </el-row>\n\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\"\n                    @click=\"wallet_switchEthereumChain()\">wallet_switchEthereumChain(switch to ETH)</el-button>\n                </el-col>\n              </el-row>\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"wallet_addEthereumChain()\">wallet_addEthereumChain</el-button>\n                </el-col>\n              </el-row>\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"personal_sign()\">personal_sign</el-button>\n                </el-col>\n              </el-row>\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"eth_signTypedData_v4()\">eth_signTypedData_v4</el-button>\n                </el-col>\n              </el-row>\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"eth_sendTransaction_transfer\">eth_sendTransaction(send ETH)</el-button>\n                </el-col>\n              </el-row>\n\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\"\n                    @click=\"eth_sendTransaction_approve\">eth_sendTransaction(approve TONCoin)</el-button>\n                </el-col>\n              </el-row>\n\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"eth_sendTransaction_mint\">eth_sendTransaction(eth mint\n                    nft)</el-button>\n                </el-col>\n              </el-row>\n\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"wallet_watchAsset()\">wallet_watchAsset(add SPX6900)\n                  </el-button>\n                </el-col>\n              </el-row>\n            </el-tab-pane>\n\n            <el-tab-pane label=\"TON\" name=\"ton:-239\">\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"ton_getAccount\">ton_getAccount</el-button>\n                </el-col>\n              </el-row>\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"ton_sendTransaction\">ton_sendTransaction</el-button>\n                </el-col>\n              </el-row>\n            </el-tab-pane>\n\n            <!-- solana -->\n            <el-tab-pane label=\"Sol\" name=\"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp\">\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"sol_signMessage\">solana_signMessage</el-button>\n                </el-col>\n              </el-row>\n\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"sol_signTransaction\">solana_signTransaction</el-button>\n                </el-col>\n              </el-row>\n\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\"\n                             @click=\"sol_signVersionedTransaction\">solana_signVersionedTransaction</el-button>\n                </el-col>\n              </el-row>\n\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"sol_signAllTransactions\">sol_signAllTransactions</el-button>\n                </el-col>\n              </el-row>\n\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\"\n                             @click=\"sol_signAllVersionedTransactions\">sol_signAllVersionedTransactions</el-button>\n                </el-col>\n              </el-row>\n\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"sol_signAndSendTransaction\">sol_signAndSendTransaction</el-button>\n                </el-col>\n              </el-row>\n\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\"\n                             @click=\"sol_signAndSendVersionedTransaction\">signAndSendVersionedTransaction</el-button>\n                </el-col>\n              </el-row>\n            </el-tab-pane>\n\n            <!-- Sui-->\n            <el-tab-pane label=\"Sui\" name=\"sui:mainnet\">\n              <SuiPanel @generateTransactionParams=\"sui_generateTransactionParams\" />\n            </el-tab-pane>\n            <!-- BTC -->\n            <el-tab-pane label=\"BTC\" name=\"btc:mainnet\">\n              <BTCPanel @generateTransactionParams=\"btc_generateTransactionParams\" />\n            </el-tab-pane>\n\n            <!-- Fractal BTC -->\n            <el-tab-pane label=\"Fractal\" name=\"fractal:mainnet\">\n              <FractalPanel @generateTransactionParams=\"fractal_generateTransactionParams\" />\n            </el-tab-pane>\n\n            <el-tab-pane label=\"Tron\" name=\"tron:mainnet\">\n              <TronTransactionPanel\n                  @generateTransactionParams=\"tron_generateTransactionParams\"\n                  @generateTransactionResult=\"tron_getTransactionResult\" />\n            </el-tab-pane>\n\n            <el-tab-pane label=\"Aptos\" name=\"aptos:mainnet\">\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"aptos_signMessage\">aptos_signMessage</el-button>\n                </el-col>\n              </el-row>\n\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"aptos_signTransaction\">aptos_signTransaction</el-button>\n                </el-col>\n              </el-row>\n\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\"\n                             @click=\"aptos_signAndSubmitTransaction\">aptos_signAndSubmitTransaction</el-button>\n                </el-col>\n              </el-row>\n\n            </el-tab-pane>\n\n            <el-tab-pane label=\"Cosmos\" name=\"cosmos:cosmoshub-4\">\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"cosmos_signArbitrary\">cosmos_signArbitrary</el-button>\n                </el-col>\n              </el-row>\n\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"cosmos_signAmino\">cosmos_signAmino</el-button>\n                </el-col>\n              </el-row>\n\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"cosmos_signDirect\">cosmos_signDirect</el-button>\n                </el-col>\n              </el-row>\n\n            </el-tab-pane>\n\n            <!-- Polygon-->\n            <el-tab-pane label=\"Polygon\" name=\"eip155:137\">\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"eth_requestAccounts\">eth_requestAccounts</el-button>\n                </el-col>\n              </el-row>\n\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"eth_chainId()\">eth_chainId</el-button>\n                </el-col>\n              </el-row>\n\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"wallet_switchEthereumChain()\">wallet_switchEthereumChain</el-button>\n                </el-col>\n              </el-row>\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"wallet_addEthereumChain()\">wallet_addEthereumChain</el-button>\n                </el-col>\n              </el-row>\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"personal_sign()\">personal_sign</el-button>\n                </el-col>\n              </el-row>\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"eth_signTypedData_v4()\">eth_signTypedData_v4</el-button>\n                </el-col>\n              </el-row>\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"eth_sendTransaction_transfer\">eth_sendTransaction(send POL)</el-button>\n                </el-col>\n              </el-row>\n\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"eth_sendTransaction_approve\">eth_sendTransaction(approve sushi)</el-button>\n                </el-col>\n              </el-row>\n\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"eth_sendTransaction_mint\">eth_sendTransaction(polygon mint\n                    nft)</el-button>\n                </el-col>\n              </el-row>\n\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"wallet_watchAsset()\">wallet_watchAsset(add LGNS)\n                  </el-button>\n                </el-col>\n              </el-row>\n\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"wallet_testRpc()\">wallet_testRpc(Polygon)</el-button>\n                </el-col>\n              </el-row>\n\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"eth_sendTransaction_transfer\"\n                  >eth_sendTransaction(转账FUSE)</el-button\n                  >\n                </el-col>\n              </el-row>\n\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"eth_sendTransaction_approve\"\n                  >eth_sendTransaction(授权USDC)</el-button\n                  >\n                </el-col>\n              </el-row>\n            </el-tab-pane>\n\n            <!-- BSC-->\n            <el-tab-pane label=\"BNB\" name=\"eip155:56\">\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"eth_requestAccounts\">eth_requestAccounts(BNB)</el-button>\n                </el-col>\n              </el-row>\n\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"eth_chainId()\">eth_chainId(BNB)</el-button>\n                </el-col>\n              </el-row>\n\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\"\n                    @click=\"wallet_switchEthereumChain()\">wallet_switchEthereumChain(switch to BNB)</el-button>\n                </el-col>\n              </el-row>\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"wallet_addEthereumChain()\">wallet_addEthereumChain</el-button>\n                </el-col>\n              </el-row>\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"personal_sign()\">personal_sign</el-button>\n                </el-col>\n              </el-row>\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"eth_signTypedData_v4()\">eth_signTypedData_v4</el-button>\n                </el-col>\n              </el-row>\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"eth_sendTransaction_transfer\">eth_sendTransaction(send BNB)</el-button>\n                </el-col>\n              </el-row>\n\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\"\n                    @click=\"eth_sendTransaction_approve\">eth_sendTransaction(approve POSI)</el-button>\n                </el-col>\n              </el-row>\n\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"wallet_watchAsset()\">wallet_watchAsset(add FET)\n                  </el-button>\n                </el-col>\n              </el-row>\n\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"wallet_testRpc()\">wallet_testRpc(check balance on eth)</el-button>\n                </el-col>\n              </el-row>\n            </el-tab-pane>\n\n            <el-tab-pane label=\"Fuse\" name=\"eip155:122\">\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"eth_requestAccounts\">eth_requestAccounts</el-button>\n                </el-col>\n              </el-row>\n\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"eth_chainId()\">eth_chainId</el-button>\n                </el-col>\n              </el-row>\n\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"personal_sign()\">personal_sign</el-button>\n                </el-col>\n              </el-row>\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"eth_signTypedData_v4()\">eth_signTypedData_v4</el-button>\n                </el-col>\n              </el-row>\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"eth_sendTransaction_swap\">eth_sendTransaction(Swap)</el-button>\n                </el-col>\n              </el-row>\n            </el-tab-pane>\n\n            <el-tab-pane label=\"Sonic testnet\" name=\"svm:70000062\">\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"sol_signMessage\">solana_signMessage</el-button>\n                </el-col>\n              </el-row>\n\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"sol_signTransaction\">solana_signTransaction</el-button>\n                </el-col>\n              </el-row>\n\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"sol_signAllTransactions\">sol_signAllTransactions</el-button>\n                </el-col>\n              </el-row>\n\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"sol_signAndSendTransaction\">sol_signAndSendTransaction</el-button>\n                </el-col>\n              </el-row>\n\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\"\n                             @click=\"sol_signAndSendVersionedTransaction\">signAndSendVersionedTransaction</el-button>\n                </el-col>\n              </el-row>\n            </el-tab-pane>\n\n            <el-tab-pane label=\"Movement\" name=\"movement:testnet\">\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"aptos_signMessage\">aptos_signMessage</el-button>\n                </el-col>\n              </el-row>\n\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"move_signTransaction\">move_signTransaction</el-button>\n                </el-col>\n              </el-row>\n\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\"\n                    @click=\"move_signAndSubmitTransaction\">move_signAndSubmitTransaction</el-button>\n                </el-col>\n              </el-row>\n\n            </el-tab-pane>\n\n\n            <el-tab-pane label=\"osmos\" name=\"cosmos:osmosis-1\">\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"cosmos_signArbitrary\">cosmos_signArbitrary</el-button>\n                </el-col>\n              </el-row>\n\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"cosmos_signAmino\">cosmos_signAmino</el-button>\n                </el-col>\n              </el-row>\n\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"cosmos_signDirect\">cosmos_signDirect</el-button>\n                </el-col>\n              </el-row>\n\n            </el-tab-pane>\n\n            <el-tab-pane label=\"SEI\" name=\"cosmos:pacific-1\">\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"cosmos_signArbitrary\">cosmos_signArbitrary</el-button>\n                </el-col>\n              </el-row>\n\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"cosmos_signAmino\">cosmos_signAmino</el-button>\n                </el-col>\n              </el-row>\n\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"cosmos_signDirect\">cosmos_signDirect</el-button>\n                </el-col>\n              </el-row>\n\n            </el-tab-pane>\n\n            <el-tab-pane label=\"TEST \" name=\"test:1\">\n              <el-row :gutter=\"12\" class=\"button-row\">\n                <el-col :span=\"24\">\n                  <el-button type=\"primary\" @click=\"testBase64UrlSafe\">testBase64UrlSafe</el-button>\n                </el-col>\n              </el-row>\n            </el-tab-pane>\n          </el-tabs>\n\n          <el-col :xs=\"24\" :sm=\"24\" style=\"margin: 16px 0px;\">\n            <el-row style=\"align-items: center; justify-content: space-between; margin-bottom: 8px;\">\n              <el-col :span=\"4\">\n                <p style=\"font-size: 11pt; margin: 0px; text-align: start\">Redirect param (only for ETH, Polygon, BNB, Fuse)</p>\n              </el-col>\n              <el-col :span=\"9\">\n                <el-select\n                  v-model=\"redirect\"\n                  @change=\"handleRedirectSelect\"\n                  placeholder=\"Return Strategy\"\n                  :disabled=\"!canChainAddRedirectParam()\"\n                  >\n                  <el-option\n                    v-for=\"strategy in returnStrategies\"\n                    :key=\"`return-strategy-select-option-${strategy}`\"\n                    :label=\"strategy\"\n                    :value=\"strategy\"\n                  />\n                </el-select>\n              </el-col>\n              <el-col :span=\"10\">\n                <el-input\n                  v-if=\"redirect === 'deeplink'\"\n                  v-model=\"redirectDeeplink\"\n                  @change=\"handleRedirectDeeplink\"\n                  placeholder=\"Deeplink\"\n                  :disabled=\"!canChainAddRedirectParam() || redirect !== 'deeplink'\"\n                  style=\"margin: 0px\"\n                />\n              </el-col>\n            </el-row>\n            <el-button\n              type=\"primary\" @click=\"addRedirectParam()\"\n              :disabled=\"!canChainAddRedirectParam() || !testTransaction\"\n            >\n              Add redirect param to data\n            </el-button>\n          </el-col>\n\n          <el-col :xs=\"24\" :sm=\"12\">\n            <div class=\"input-label\">Data:</div>\n            <el-input v-model=\"testTransaction\" type=\"textarea\" :rows=\"5\" placeholder=\"sendTransactions\"></el-input>\n          </el-col>\n          <el-col :xs=\"24\" :sm=\"12\">\n            <div class=\"input-label\">Result :</div>\n            <el-input v-model=\"testboc\" type=\"textarea\" :rows=\"5\" placeholder=\"boc\"></el-input>\n          </el-col>\n          <el-row :gutter=\"12\" class=\"button-row\">\n            <el-col :span=\"24\">\n              <el-button type=\"primary\" @click=\"sendTransaction()\">{{\n                testTransactionStr\n                }}</el-button>\n            </el-col>\n          </el-row>\n        </el-card>\n      </el-main>\n    </el-container>\n  </div>\n</template>\n\n<style scoped>\n/* 重置全局边距和内边距 */\nbody,\nhtml {\n  margin: 0;\n  padding: 0;\n  height: 100%;\n}\n\n/* 确保 app 容器占满整个视口 */\n#app {\n  min-height: 100vh;\n  display: flex;\n  flex-direction: column;\n  font-family: \"Avenir\", Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n  margin: 0 auto;\n  /* 居中 */\n  max-width: 600px;\n  /* 设置最大宽度 */\n  padding: 0 20px;\n  /* 添加一些左右内边距 */\n}\n\n/* 调整 el-container 样式 */\n.el-container {\n  min-height: 100vh;\n  margin: 0;\n  padding: 0;\n  width: 100%;\n}\n\n/* 调整 el-header 样式 */\n.el-header {\n  background-color: #333333;\n  color: white;\n  height: 50px;\n  line-height: 50px;\n  font-size: 18px;\n  font-weight: bold;\n  width: 100%;\n  position: fixed;\n  top: 0;\n  left: 0;\n  z-index: 1000;\n}\n\n/* 调整 el-main 样式 */\n.el-main {\n  padding: 70px 0 20px;\n  /* 增加顶部内边距以避免被固定header遮挡 */\n  flex-grow: 1;\n}\n\n.el-card {\n  margin-bottom: 20px;\n}\n\n.info-row {\n  margin-bottom: 10px;\n}\n\n.input-label {\n  margin-bottom: 5px;\n  text-align: left;\n}\n\n.el-input {\n  margin-bottom: 10px;\n}\n\n/* 通用按钮样式 */\n.wallet-actions .el-button,\n.transaction .el-button,\n.clear-cache .el-button {\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 40px;\n}\n\n.wallet-actions .el-button span,\n.transaction .el-button span,\n.clear-cache .el-button span {\n  margin: 0 auto;\n}\n\n/* 按钮行间距 */\n.wallet-actions .button-row,\n.transaction .button-row {\n  margin-bottom: 8px;\n}\n\n.wallet-actions .button-row:last-child,\n.transaction .button-row:last-child {\n  margin-bottom: 0;\n}\n\n/* 调整图标和文字的对齐 */\n.wallet-actions .el-button [class^=\"el-icon-\"],\n.transaction .el-button [class^=\"el-icon-\"],\n.clear-cache .el-button [class^=\"el-icon-\"] {\n  margin-right: 5px;\n  vertical-align: middle;\n}\n\n/* 新增：调整发送交易按钮与输入框的间距 */\n.transaction .el-row:not(:last-child) {\n  margin-bottom: 10px;\n}\n\n.modal-overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, 0.5);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 1000;\n}\n\n.modal-content {\n  background-color: white;\n  padding: 20px;\n  border-radius: 8px;\n  text-align: center;\n  position: relative;\n  max-width: 90%;\n  width: 400px;\n}\n\n.close-button {\n  position: absolute;\n  top: 10px;\n  right: 10px;\n  font-size: 24px;\n  border: none;\n  background: none;\n  cursor: pointer;\n}\n\n/* 响应式调整 */\n@media (max-width: 600px) {\n  #app {\n    padding: 0 10px;\n  }\n\n  .el-main {\n    padding: 60px 0 10px;\n  }\n}\n</style>\n<script>\nimport {OKX_CONNECT_ERROR_CODES, safeJsonStringify,getAppWalletDeepLink,getUniversalLink} from \"@okxconnect/core\"\nimport {\n  OKXBtcProvider,\n  OKXUniversalProvider,\n  OKXCosmosProvider,\n  OKXTonProvider,\n  OKXTronProvider\n} from \"@okxconnect/universal-provider\"\nimport {OKXSolanaProvider} from \"@okxconnect/solana-provider\";\nimport {\n  Connection,\n  PublicKey,\n  SystemProgram,\n  Transaction,\n  TransactionMessage,\n  VersionedTransaction\n} from '@solana/web3.js';\nimport {OKXSuiProvider as SuiAdapter} from \"@okxconnect/sui-provider\"\nimport QrcodeVue from 'qrcode.vue'\n\nimport {OKXAptosProvider} from \"@okxconnect/aptos-provider\";\nimport {Aptos, AptosConfig, Network} from \"@aptos-labs/ts-sdk\";\n\nimport BTCPanel from \"./components/BtcTransactionPanel.vue\";\nimport FractalPanel from \"./components/FractalTransactionPanel.vue\"\nimport SuiPanel from \"./components/SuiTransactionPanel.vue\";\n\nimport {OKXUniversalConnectUI, THEME} from \"@okxconnect/ui\";\nimport { ethers } from 'ethers';\nimport VConsole from 'vconsole';\nimport nacl from \"tweetnacl\";\nconst { verifyADR36Amino } = require('@keplr-wallet/cosmos')\nconst { fromBech32 } = require('@cosmjs/encoding')\nimport { verifyPersonalMessageSignature } from '@mysten/sui/verify';\nimport {useShortLink} from \"@okxconnect/core\";\nimport TronTransactionPanel from \"@/components/TronTransactionPanel.vue\";\nimport {TronWeb} from \"tronweb\";\nnew VConsole();\n\nconst allChains = {\n  1: { name: \"Eth\", checked: false },\n  56: { name: \"BNB\", checked: false },\n  137: { name: \"Polygon\", checked: false },\n  122: { name: \"Fuse\", checked: false },\n  \"ton:-239\":{name: \"TON\",checked: false},\n  \"btc:mainnet\": { name: \"BTC\", checked: false },\n  \"sui:mainnet\": { name: \"Sui\", checked: false },\n  \"aptos:mainnet\": { name: \"Aptos\", checked: false },\n  \"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp\": {\n    name: \"Solana\",\n    checked: false,\n  },\n  \"solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z\": {\n    name: \"Sol testnet\",\n    checked: false,\n  },\n  \"svm:70000062\": {\n    name: \"Sonic testnet\",\n    checked: false,\n  },\n  \"movement:testnet\": { name: \"Movement\", checked: false },\n  \"fractal:mainnet\": { name: \"Fractal\", checked: false },\n  \"cosmos:osmosis-1\": {name: \"Osmos\", checked: false},\n  \"cosmos:cosmoshub-4\": {name: \"Cosmos\", checked: false},\n  \"cosmos:pacific-1\": {name: \"SEI\", checked: false},\n  \"cosmos:abvdefg\": {name: \"cosmos:abvdefg\", checked: false},\n  \"tron:mainnet\": {name: \"tron\", checked: false},\n  997865: { name: \"Non Exist chain\", checked: false },\n};\n\nconst chainsThatCanAddRedirectParam = [\n  \"eip\"\n]\n\nvar optionChains = new Set([]);\nvar selectedModals = [\"before\", \"success\", \"error\"];\nvar selectedReturnStrategy = \"none\";\nvar selectedDeepLink = \"tg://resolve\";\nvar selectedLanguage = \"en_US\";\nvar selectedTheme = THEME.LIGHT;\n\n// import QrcodeVue from 'qrcode.vue'\nexport default {\n  name: \"App\",\n  components: {\n    TronTransactionPanel,\n    QrcodeVue,\n    BTCPanel,\n    FractalPanel,\n    SuiPanel\n  },\n\n  data: () => {\n    return {\n      activeTab: \"eip155:1\",\n      testTopic: \"\",\n      testPublicKey: \"\",\n      testProofPayload: \"\",\n      tonProofValue:\"\",\n      pendingDeepLink: \"-\",\n      logList: [],\n      connectReady: false,\n      connectStatusStr: \"Connect\",\n      syncAllAddressStr: \"syncAllAddress\",\n      connectInitStr: \"init test\",\n      disconnectStatusStr: \"Disconnect\",\n      localPubKey: \"\",\n      localSecKey: \"\",\n      testTransaction: \"\",\n      selectedChain: \"eip155:1\",\n      testTransactionStr: \"Send\",\n      walletAddress: \"\",\n      testboc: \"\",\n      ProofPayloadVerify: \"\",\n      showModal: false,\n      showVerifyRow: false,\n      qrValue: \"https://www.okx.com/download\",\n      currentStatus: \"\",\n      areChainsInit: false,\n      availableChains: allChains,\n      isOptionalChecked: (chainId) => {\n        return optionChains.has(chainId);\n      },\n      withUI: localStorage.getItem(\"autoRefresh\") != \"false\",\n      universalToTG: localStorage.getItem(\"universalToTG\") != \"false\",\n      modals: selectedModals,\n      returnStrategies: [\"none\", \"back\", \"deeplink\"],\n      returnStrategy: selectedReturnStrategy,\n      deeplink: selectedDeepLink,\n      locales: [\n        \"en_US\",\n        \"ru_RU\",\n        \"zh_CN\",\n        \"zh\",\n        \"ar_AE\",\n        \"cs_CZ\",\n        \"de_DE\",\n        \"es_ES\",\n        \"es_LAT\",\n        \"fr_FR\",\n        \"id_ID\",\n        \"it_IT\",\n        \"nl_NL\",\n        \"pl_PL\",\n        \"pt_BR\",\n        \"pt_PT\",\n        \"ro_RO\",\n        \"tr_TR\",\n        \"uk_UA\",\n        \"vi_VN\",\n        \"zh_TW\"\n      ],\n      selectedMethod:[],\n      selectedMethodData:[],\n      connectMethods:[\n        \"wallet_addEthereumChain(ETH)\",\n        \"personal_sign(ETH)\",\n        \"solana_signMessage(Sol mainnet)\",\n        \"sui_signMessage(Sui mainnet)\",\n        \"sui_signPersonalMessage(Sui mainnet)\",\n        \"btc_signMessage(BTC)\",\n        \"aptos_signMessage(aptos mainnet)\",\n        \"cosmos_signArbitrary(cosmoshub)\",\n        \"test_noSupport_eth(ETH)\",\n        \"tron_signMessage\",\n        \"tron_signMessageV2\",\n        \"sync_all_addresses\"\n      ],\n\n      language: selectedLanguage,\n      theme: selectedTheme,\n      THEME: THEME,\n      redirect: selectedReturnStrategy,\n      redirectDeeplink: selectedDeepLink,\n      handleWithUI: (isChecked) => {\n        localStorage.setItem(\"autoRefresh\", `${isChecked}`);\n        location.reload();\n      },\n      handleUniversalToTG: (isChecked) => {\n        localStorage.setItem(\"universalToTG\", `${isChecked}`);\n      },\n      handleOptionChange: (chainId) => {\n        if (optionChains.has(chainId)) {\n          optionChains.delete(chainId);\n        } else {\n          optionChains.add(chainId);\n        }\n      },\n    };\n  },\n  computed: {\n    getWalletAddress: function () {\n      return this.walletAddress;\n    },\n  },\n  methods: {\n    isChecked(chainId) {\n      return this.selectedChains.has(chainId);\n    },\n\n    initChains(newChains) {\n      if (newChains.length > 0) {\n        const updatedChains = Object.assign({}, this.availableChains);\n        for (const chainId of newChains) {\n          if (updatedChains[chainId]){\n            updatedChains[chainId].checked = !updatedChains[chainId].checked;\n          }\n        }\n        this.availableChains = updatedChains;\n      }\n\n      this.areChainsInit = true;\n    },\n\n    async clickActiveTab(tab) {\n      const tabName = tab.props ? tab.props.name : tab.name;\n      this.selectedChain = tabName;\n      console.log(`已切换到链 :`, tabName);\n\n      if (!window.provider) {\n        console.error(\"钱包 未初始化完成\");\n      }\n\n      window.provider.setDefaultChain(this.selectedChain);\n    },\n\n    async initBtnClicked() {\n      var initCall;\n      if (!this.withUI) {\n        initCall = OKXUniversalProvider.init({\n          dappMetaData: {\n            name: \"univer test dapp\",\n            icon: \"https://avatars.githubusercontent.com/u/37784886\",\n          },\n        });\n      } else {\n        initCall = OKXUniversalConnectUI.init({\n          dappMetaData: {\n            icon: \"https://static.okx.com/cdn/assets/imgs/247/58E63FEA47A2B7D7.png\",\n            name: \"OKX WalletConnect UI Demo\",\n          },\n          actionsConfiguration: {\n            returnStrategy: selectedReturnStrategy,\n            modals: \"all\",\n          },\n          language: selectedLanguage,\n          uiPreferences: {\n            theme: selectedTheme\n          },\n        });\n      }\n\n      initCall.then((provider) => {\n        window.provider = provider;\n        window.tonProvider = new OKXTonProvider(window.provider);\n        window.tonProvider.onStatusChange((walletInfo) => {\n              console.log('TONConnection onStatusChange:', JSON.stringify(walletInfo));\n            }, (err) => {\n              console.log('TONConnection onStatusChange error:', err);\n            }\n        )\n\n        if (window.provider instanceof OKXUniversalConnectUI) {\n          window.provider.onModalStateChange((state)=>{\n            console.log(`onModalStateChange   ${JSON.stringify(state)}`)\n          })\n        }\n\n        console.log(\"init finished:\", provider);\n        console.log(\"init finished session:\", JSON.stringify(provider.session));\n\n        if (provider.session?.namespaces) {\n          const newChains = [];\n          console.log(\"namespaces\", provider.session.namespaces);\n          Object.entries(provider.session.namespaces).forEach(([key, value]) => {\n            if (key === \"eip155\") {\n              value.chains.forEach((chain) => {\n                newChains.push(parseInt(chain.substring(7)));\n              });\n            }\n            else {\n              value.chains.forEach((chain) => {\n                newChains.push(chain);\n              });\n            }\n          });\n\n          console.log(\"existing chains:\", newChains);\n          this.initChains(newChains);\n        } else {\n          this.initChains([]);\n        }\n\n        provider.on(\"display_uri\", (uri) => {\n          if (!useShortLink()){\n            if (this.isPC()) {\n              if (uri && !this.withUI && !this.universalToTG) {\n                this.qrValue = uri;\n                this.showModal = true;\n              }\n            }\n          }\n          console.log(\"通知>>>display_uri  ==> \", uri);\n        });\n\n        provider.on(\"connect_signResponse\", (items) => {\n          console.log(\"通知>>>connect_signResponse  ==> \", JSON.stringify(items));\n          this.verifyMessage(items)\n        })\n\n        provider.on(\"short_display_uri\", (uri) => {\n          if (useShortLink()){\n            if (this.isPC()) {\n              if (uri && !this.withUI && !this.universalToTG) {\n                this.qrValue = uri;\n                this.showModal = true;\n              }\n            }\n          }\n          console.log(\"通知>>>short_display_uri  ==> \", uri);\n        });\n\n\n        provider.on(\"session_connecting\", () => {\n          if (useShortLink()){\n            alert(\"session_connecting\")\n          }\n          console.log(\"通知>>>session_connecting  ==> \");\n        });\n\n        provider.on(\"connect\", (session) => {\n          console.log(\"通知>>>get connect session\", session);\n        });\n        provider.on(\"reconnect\", (session) => {\n          console.log(\"通知>>>get reconnect session\", session);\n          this.walletAddress = \"connected\";\n        });\n        provider.on(\"disconnect\", ({ topic }) => {\n          console.log(`通知>>>get disconnect  ${topic}`);\n          this.walletAddress = \"disconnecteddddd\";\n        });\n        provider.on(\"session_delete\", ({ topic }) => {\n          console.log(`通知>>>get session_delete  ${topic}`);\n        });\n        provider.on(\"session_update\", (session) => {\n          console.log(`通知>>>get session_update `, JSON.stringify(session));\n        });\n      });\n    },\n\n    async connectBtnClicked() {\n      console.log(`encryptStoreMsg   connectBtnClicked  ${Date.now()}`);\n      if (window.provider) {\n        this.testTonSdk();\n      } else {\n        console.log(`connectBtnClicked provider not finish init`);\n      }\n    },\n\n    async syncAllAddressClick() {\n      console.log(`encryptStoreMsg   connectBtnClicked  ${Date.now()}`);\n      if (window.provider) {\n        if (window.provider instanceof OKXUniversalProvider){\n          if (window.provider.connected()){\n            try {\n              let message = await window.provider.syncAllAddresses()\n              if (typeof message == \"string\") {\n                this.testboc = message\n              } else {\n                this.testboc = JSON.stringify(message)\n              }\n            }catch (e) {\n              this.testboc = JSON.stringify(e)\n            }\n          }else{\n            this.testboc = \"not connected\"\n          }\n        }\n\n      } else {\n        console.log(`syncAllAddress provider not finish init`);\n      }\n    },\n\n    async disconnectAction() {\n      try {\n        console.log(\"get disconnect wallet btn clicked\");\n        // await TON.disconnect();\n        var provider = window.provider;\n        await provider.disconnect();\n        this.walletAddress = \"disconnected\";\n      } catch (error) {\n        console.log(\"Disconnect  error ==>> \", error.message);\n        this.currentStatus = error.message;\n      }\n    },\n\n    async eth_requestAccounts() {\n      var data = { method: \"eth_requestAccounts\" };\n      this.testTransaction = JSON.stringify(data);\n    },\n    async eth_chainId() {\n      var data = { method: \"eth_chainId\" };\n      this.testTransaction = JSON.stringify(data);\n    },\n    async wallet_switchEthereumChain() {\n      var data = { method: \"wallet_switchEthereumChain\" };\n      this.testTransaction = JSON.stringify(data);\n    },\n\n    async wallet_addEthereumChain() {\n      var data = {\n        method: \"wallet_addEthereumChain\",\n        params: {\n          blockExplorerUrls: [\"https://explorer.fuse.io\"],\n          chainId: \"0x7a\",\n          chainName: \"Fuse\",\n          nativeCurrency: { name: \"Fuse\", symbol: \"FUSE\", decimals: 18 },\n          rpcUrls: [\"https://rpc.fuse.io\"],\n        },\n      };\n\n      this.testTransaction = JSON.stringify(data);\n    },\n    async personal_sign() {\n      if (this.selectedChain === \"eip155:1\") {\n        // personal_sign\n        // address\n        // 0xf2f3e73be57031114dd1f4e75c1dd87658be7f0e\n        // valid\n        // true\n        // result\n        // 0x1ca023f10e157d148deed210f8bee193657a1eaa7f187909e20a9dc3b071dbc364c41fde37960c05093359f410a061ec8a7dca8c0c39fc7c1e24de8a3329775d1b\n\n        var accounts = await window.provider.request(\n          { method: \"eth_requestAccounts\" },\n          \"eip155:1\"\n        );\n        var address = accounts[0];\n        console.log(\"签名地址>>>\", address, JSON.stringify(accounts));\n\n        var dataETH = {\n          method: \"personal_sign\",\n          params: [\n            \"0x4d7920656d61696c206973206a6f686e40646f652e636f6d202d2031373237353937343537313336\",\n            address,\n          ],\n        };\n\n        this.testTransaction = JSON.stringify(dataETH);\n      } else if (\n        this.selectedChain === \"eip155:137\" ||\n        this.selectedChain === \"eip155:122\"\n      ) {\n        // method\n        // personal_sign\n        // address\n        // 0xf2f3e73be57031114dd1f4e75c1dd87658be7f0e\n        // valid\n        // true\n        // result\n        // 0xebda9cfa2af43999058dffa0107031d1ef7fc0252dca85dcbd22ea097af922ca39b64d509ef61ce42b7641c5840b8a80337ffd1411b13e87e2260a3f1b6c151c1b\n\n        var dataPolygon = {\n          method: \"personal_sign\",\n          params: {\n            message:\n              \"0x4d7920656d61696c206973206a6f686e40646f652e636f6d202d2031373237353937353831303437\",\n          },\n        };\n        this.testTransaction = JSON.stringify(dataPolygon);\n      } else if (this.selectedChain === \"eip155:56\") {\n        var data = {\n          method: \"personal_sign\",\n          params: {\n            message:\n              \"0x4d7920656d61696c206973206a6f686e40646f652e636f6d202d2031373237353937353831303437\",\n          },\n        };\n\n        this.testTransaction = JSON.stringify(data);\n      }\n    },\n\n    async eth_sendTransaction_swap() {\n      var data = {\n        method: \"eth_sendTransaction\",\n        chainId: \"eip155:122\",\n        params: {\n          value: \"0x38d7ea4c68000\",\n          gas: \"0x2665f\",\n          to: \"0xf2614A233c7C3e7f08b1F887Ba133a13f1eb2c55\",\n          from: \"0xf2F3e73be57031114dd1f4E75c1DD87658be7F0E\",\n          data: \"0x2646478b000000000000000000000000eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee00000000000000000000000000000000000000000000000000038d7ea4c68000000000000000000000000000620fd5fa44be6af63715ef4e65ddfa0387ad13f5000000000000000000000000000000000000000000000000000000000000001b000000000000000000000000f2f3e73be57031114dd1f4e75c1dd87658be7f0e00000000000000000000000000000000000000000000000000000000000000c000000000000000000000000000000000000000000000000000000000000000700301ffff0201602352A9Eb5234466Eac23E59e7B99bCaE79C39c0BE9e53fd7EDaC9F859882AfdDa116645287C629040BE9e53fd7EDaC9F859882AfdDa116645287C62900602352A9Eb5234466Eac23E59e7B99bCaE79C39c01f2F3e73be57031114dd1f4E75c1DD87658be7F0E000bb800000000000000000000000000000000\",\n        },\n      };\n      this.testTransaction = JSON.stringify(data);\n    },\n\n    async eth_signTypedData_v4() {\n      // method\n      // eth_signTypedData\n      // address\n      // 0xf2f3e73be57031114dd1f4e75c1dd87658be7f0e\n      // valid\n      // true\n      // result\n      // 0xa8bb3c6b33a119d2d567c7632195c21988df778006082742125a591f5c633f716107883a37f7de6531a6312a5f69022135bf46fe5ab77905b62c82b3395f985e1b\n      //\n\n      // var data = {\n      //   \"method\": \"eth_signTypedData_v4\",\n      //   \"params\": {\n      //     \"typedDataJson\":\"{\\\"types\\\":{\\\"EIP712Domain\\\":[{\\\"name\\\":\\\"name\\\",\\\"type\\\":\\\"string\\\"},{\\\"name\\\":\\\"version\\\",\\\"type\\\":\\\"string\\\"},{\\\"name\\\":\\\"chainId\\\",\\\"type\\\":\\\"uint256\\\"},{\\\"name\\\":\\\"verifyingContract\\\",\\\"type\\\":\\\"address\\\"}],\\\"Person\\\":[{\\\"name\\\":\\\"name\\\",\\\"type\\\":\\\"string\\\"},{\\\"name\\\":\\\"wallet\\\",\\\"type\\\":\\\"address\\\"}],\\\"Mail\\\":[{\\\"name\\\":\\\"from\\\",\\\"type\\\":\\\"Person\\\"},{\\\"name\\\":\\\"to\\\",\\\"type\\\":\\\"Person\\\"},{\\\"name\\\":\\\"contents\\\",\\\"type\\\":\\\"string\\\"}]},\\\"primaryType\\\":\\\"Mail\\\",\\\"domain\\\":{\\\"name\\\":\\\"Ether Mail\\\",\\\"version\\\":\\\"1\\\",\\\"chainId\\\":1,\\\"verifyingContract\\\":\\\"0xCcCCccccCCCCcCCCCCCcCcCccCcCCCcCcccccccC\\\"},\\\"message\\\":{\\\"from\\\":{\\\"name\\\":\\\"Cow\\\",\\\"wallet\\\":\\\"0xCD2a3d9F938E13CD947Ec05AbC7FE734Df8DD826\\\"},\\\"to\\\":{\\\"name\\\":\\\"Bob\\\",\\\"wallet\\\":\\\"0xbBbBBBBbbBBBbbbBbbBbbbbBBbBbbbbBbBbbBBbB\\\"},\\\"contents\\\":\\\"Hello, Bob!\\\"}}\"\n      // }}\n\n      var accounts = await window.provider.request(\n        { method: \"eth_requestAccounts\" },\n        \"eip155\"\n      );\n      var address = accounts[0];\n      console.log(\"签名地址>>>\", address, JSON.stringify(accounts));\n\n      var data = {\n        method: \"eth_signTypedData_v4\",\n        params: [\n          address,\n          {\n            types: {\n              EIP712Domain: [\n                {\n                  name: \"name\",\n                  type: \"string\",\n                },\n                {\n                  name: \"version\",\n                  type: \"string\",\n                },\n                {\n                  name: \"chainId\",\n                  type: \"uint256\",\n                },\n                {\n                  name: \"verifyingContract\",\n                  type: \"address\",\n                },\n              ],\n              Person: [\n                {\n                  name: \"name\",\n                  type: \"string\",\n                },\n                {\n                  name: \"wallet\",\n                  type: \"address\",\n                },\n              ],\n              Mail: [\n                {\n                  name: \"from\",\n                  type: \"Person\",\n                },\n                {\n                  name: \"to\",\n                  type: \"Person\",\n                },\n                {\n                  name: \"contents\",\n                  type: \"string\",\n                },\n              ],\n            },\n            primaryType: \"Mail\",\n            domain: {\n              name: \"Ether Mail\",\n              version: \"1\",\n              chainId: 1,\n              verifyingContract: \"0xCcCCccccCCCCcCCCCCCcCcCccCcCCCcCcccccccC\",\n            },\n            message: {\n              from: {\n                name: \"Cow\",\n                wallet: \"0xCD2a3d9F938E13CD947Ec05AbC7FE734Df8DD826\",\n              },\n              to: {\n                name: \"Bob\",\n                wallet: \"0xbBbBBBBbbBBBbbbBbbBbbbbBBbBbbbbBbBbbBBbB\",\n              },\n              contents: \"Hello, Bob!\",\n            },\n          },\n        ],\n      };\n\n      this.testTransaction = JSON.stringify(data);\n    },\n    async eth_sendTransaction_transfer() {\n      var data = {};\n      if (this.selectedChain === \"eip155:1\") {\n        data = {\n          method: \"eth_sendTransaction\",\n          params: {\n            from: \"0x0cecb15396825a895ff8da8fc2d2c77a234dccee\",\n            chainId: \"0x1\",\n            to: \"0x0cecb15396825a895ff8da8fc2d2c77a234dccee\",\n            value: \"0x5af3107a4000\",\n            maxPriorityFeePerGas: \"0x3b9aca00\",\n            gas: \"0x5e56\",\n            maxFeePerGas: \"0x2643b9db8\",\n          },\n        };\n      } else if (this.selectedChain === \"eip155:137\") {\n        data = {\n          method: \"eth_sendTransaction\",\n          params: {\n            gasPrice: \"0x17003f6530\",\n            nonce: \"0x0d30\",\n            data: \"0x\",\n            value: \"0x00\",\n            to: \"0xf2f3e73be57031114dd1f4e75c1dd87658be7f0e\",\n            gasLimit: \"0x5208\",\n            from: \"0xf2f3e73be57031114dd1f4e75c1dd87658be7f0e\",\n          },\n        };\n      } else if (this.selectedChain === \"eip155:56\") {\n        data = {\n          method: \"eth_sendTransaction\",\n          params: {\n            gas: \"0x5e56\",\n            value: \"0x5af3107a4000\",\n            from: \"0xf2f3e73be57031114dd1f4e75c1dd87658be7f0e\",\n            gasPrice: \"0x3b9aca00\",\n            to: \"0xf2f3e73be57031114dd1f4e75c1dd87658be7f0e\",\n            chainId: \"0x38\",\n          },\n        };\n      }else if(this.selectedChain === \"eip155:122\"){\n         data =   {\n          method: \"eth_sendTransaction\",\n          params: {\n            from: \"0xf2f3e73be57031114dd1f4e75c1dd87658be7f0e\",\n            to: \"0xf2f3e73be57031114dd1f4e75c1dd87658be7f0e\",\n            value: \"0x0\",\n            chainId: \"0x7a\",\n          }\n        }\n      }\n\n      var accounts = await window.provider.request(\n        { method: \"eth_requestAccounts\" },\n        \"eip155\"\n      );\n      var address = accounts[0];\n      console.log(\"当前钱包地址------\", address);\n      data.params[\"to\"] = address;\n      data.params[\"from\"] = address;\n      this.testTransaction = JSON.stringify(data);\n    },\n\n    async eth_sendTransaction_approve() {\n      var data = {};\n\n      if (this.selectedChain === \"eip155:1\") {\n        data = {\n          method: \"eth_sendTransaction\",\n          params: {\n            from: \"0xf2F3e73be57031114dd1f4E75c1DD87658be7F0E\",\n            data: \"0x095ea7b3000000000000000000000000000000000022d473030f116ddee9f6b43ac78ba3ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff\",\n            to: \"0x582d872a1b094fc48f5de31d3b73f2d9be47def1\",\n          },\n        };\n      } else if (this.selectedChain === \"eip155:137\") {\n        data = {\n          method: \"eth_sendTransaction\",\n          params: {\n            from: \"0xf2F3e73be57031114dd1f4E75c1DD87658be7F0E\",\n            data: \"0x095ea7b3000000000000000000000000f2614a233c7c3e7f08b1f887ba133a13f1eb2c5500000000000000000000000000000000000000000000000000f6f8096ac575b0\",\n            to: \"0x0b3F868E0BE5597D5DB7fEB59E1CADBb0fdDa50a\",\n          },\n        };\n      } else if (this.selectedChain === \"eip155:56\") {\n        data = {\n          method: \"eth_sendTransaction\",\n          params: {\n            from: \"0x0cecb15396825A895FF8DA8fC2D2C77A234dcCee\",\n            value: \"0x0\",\n            gas: \"0xe117\",\n            gasPrice: \"0xb2d05e00\",\n            data: \"0x095ea7b300000000000000000000000031c2f6fcff4f8759b3bd5bf0e1084a055615c768ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff\",\n            to: \"0x5CA42204cDaa70d5c773946e69dE942b85CA6706\",\n          },\n        };\n      }else if (this.selectedChain === 'eip155:122'){\n        data = {\n          method: \"eth_sendTransaction\",\n          params: {\n            from: \"0x0cecb15396825A895FF8DA8fC2D2C77A234dcCee\",\n            data: \"0x095ea7b3000000000000000000000000f2614a233c7c3e7f08b1f887ba133a13f1eb2c5500000000000000000000000000000000000000000000000000000000000013b3\",\n            to: \"0x620fd5fa44BE6af63715Ef4E65DDFA0387aD13F5\",\n          },\n        };\n      }\n\n      var accounts = await window.provider.request(\n        { method: \"eth_requestAccounts\" },\n        \"eip155\"\n      );\n      var address = accounts[0];\n      console.log(\"当前钱包地址------\", address);\n      data.params[\"from\"] = address;\n      this.testTransaction = JSON.stringify(data);\n    },\n\n    async eth_sendTransaction_mint() {\n      var data = {};\n      if (this.selectedChain === \"eip155:1\") {\n        data = {\n          method: \"eth_sendTransaction\",\n          params: {\n            gas: \"0x4cacb\",\n            data: \"0xa64dfa75000000000000000000000000ed688002f3797599db8b4feacfe8b1dda0df1c8d000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000002a000000000000000000000000000000000000000000000000000000000000002e0000000000000000000000000000000000000000000000000000000000000032000000000000000000000000000000000000000000000000000000000000003a000000000000000000000000000000000000000000000000000000000000003c000000000000000000000000000000000000000000000000000000000000003e00000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000042000000000000000000000000000000000000000000000000000000000000005000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000052000000000000000000000000000000000000000000000000000000000000005400000000000000000000000000000000000000000000000000000000000000560000000000000000000000000000000000000000000000000000000000000058000000000000000000000000000000000000000000000000000000000000005a000000000000000000000000000000000000000000000000000000000000005c0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000cecb15396825a895ff8da8fc2d2c77a234dccee00000000000000000000000000000000000000000000000000000000000005e0000000000000000000000000000000000000000000000000000000000000062000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000047697066733a2f2f6261667962656968643737366b6177706e71336f6f6a6635693274787a76617737737164656b34616a776472637472703261366f626b70723773792f7b69647d0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000006000000000000000000000000000000000000000000000000000000000000000800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000002a3078303030303030303030303030303030303030303030303030303030303030303030303030303030300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000001\",\n            to: \"0x864baa13e01d8f9e26549dc91b458cd15e34eb7c\",\n            value: \"0x0\",\n            from: \"0x0cecb15396825a895ff8da8fc2d2c77a234dccee\",\n          },\n        };\n      } else if (this.selectedChain === \"eip155:137\") {\n        data = {\n          method: \"eth_sendTransaction\",\n          params: {\n            gas: \"0x30795\",\n            data: \"0xa64dfa75000000000000000000000000341b3687f0309778f08f29336b2c4b9c38b9f110000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000002a000000000000000000000000000000000000000000000000000000000000002e0000000000000000000000000000000000000000000000000000000000000032000000000000000000000000000000000000000000000000000000000000003a000000000000000000000000000000000000000000000000000000000000003c000000000000000000000000000000000000000000000000000000000000003e00000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000042000000000000000000000000000000000000000000000000000000000000005000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000052000000000000000000000000000000000000000000000000000000000000005400000000000000000000000000000000000000000000000000000000000000560000000000000000000000000000000000000000000000000000000000000058000000000000000000000000000000000000000000000000000000000000005a000000000000000000000000000000000000000000000000000000000000005c000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000f2f3e73be57031114dd1f4e75c1dd87658be7f0e00000000000000000000000000000000000000000000000000000000000005e0000000000000000000000000000000000000000000000000000000000000062000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000047697066733a2f2f62616679626569686a6279676b68747a71376b68377434336266686e676e793236337668766f6578716a6d6e377161716166366e717a64743777712f7b69647d0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000006000000000000000000000000000000000000000000000000000000000000000800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000002a3078303030303030303030303030303030303030303030303030303030303030303030303030303030300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000001\",\n            to: \"0x864baa13e01d8f9e26549dc91b458cd15e34eb7c\",\n            value: \"0x0\",\n            from: \"0xf2f3e73be57031114dd1f4e75c1dd87658be7f0e\",\n          },\n        };\n      }\n\n      let str = JSON.stringify(data);\n      console.log(\"-----长度--->\", str.length);\n      var accounts = await window.provider.request(\n        { method: \"eth_requestAccounts\" },\n        \"eip155\"\n      );\n      var address = accounts[0];\n      console.log(\"当前钱包地址------\", address);\n      data.params[\"from\"] = address;\n      this.testTransaction = JSON.stringify(data);\n    },\n\n    async wallet_testRpc() {\n      let provider = window.provider;\n      provider.setDefaultChain(\n        `eip155:56`,\n        `https://eth-mainnet.g.alchemy.com/v2/NxUfYJUr-TQtEpLmSXhhD5pXn70GwsyV`\n      );\n      var data = {\n        method: \"eth_getBalance\",\n        params: [\"0x8D97689C9818892B700e27F316cc3E41e17fBeb9\", \"latest\"],\n      };\n      this.testTransaction = JSON.stringify(data);\n    },\n    async wallet_watchAsset() {\n      var data = {};\n      if (this.selectedChain === \"eip155:1\") {\n        data = {\n          method: \"wallet_watchAsset\",\n          params: {\n            type: \"ERC20\",\n            options: {\n              address: \"0xe0f63a424a4439cbe457d80e4f4b51ad25b2c56c\",\n              symbol: \"SPX6900\",\n              image:\n                \"https://assets.coingecko.com/coins/images/31401/standard/sticker_%281%29.jpg?1702371083\",\n              decimals: 8,\n            },\n          },\n        };\n      } else if (this.selectedChain === \"eip155:137\") {\n        data = {\n          method: \"wallet_watchAsset\",\n          params: {\n            type: \"ERC20\",\n            options: {\n              address: \"0xeB51D9A39AD5EEF215dC0Bf39a8821ff804A0F01\",\n              symbol: \"LGNS\",\n              image: \"https://polygonscan.com/token/images/originlgns_32.png\",\n              decimals: 9,\n            },\n          },\n        };\n      } else if (this.selectedChain === \"eip155:56\") {\n        data = {\n          method: \"wallet_watchAsset\",\n          params: {\n            type: \"ERC20\",\n            options: {\n              address: \"0x031b41e504677879370e9dbcf937283a8691fa7f\",\n              symbol: \"FET\",\n              image: \"https://bscscan.com/token/images/fetch_32.png\",\n              decimals: 18,\n            },\n          },\n        };\n      }\n\n      this.testTransaction = JSON.stringify(data);\n    },\n\n    async ton_sendTransaction() {\n      var data  = {\n        \"messages\":[{\"address\":\"EQARULUYsmJq1RiZ-YiH-IJLcAZUVkVff-KBPwEmmaQGH6aC\",\"amount\":\"205000000\",\"payload\":\"te6cckEBAgEAhwABbQ+KfqUAAADNgG7tIEATEtAIAO87mQKicbKgHIk4pSPP4k5xhHqutqYgAB7USnesDnCcECwbgQMBAJUlk4VhgBD3JEg1TUr75iTijBghOKm/sxNDXUBl7CD6WMut0Q85x4RafwA/Es89DBXoTxuqxVFxyBbzt9Rav2HBUKl7hmkvLuKHLBCW57aK\"}],\n        \"validUntil\":1792481054,\n        \"network\":'-239'}\n      this.testTransaction = JSON.stringify(data)\n    },\n    ton_getAccount() {\n      this.testTransaction = \"这里是同步获取 不再需要点击 <<发送交易>>\"\n      let result =   window.tonProvider.account()\n      if (result) {\n        this.testboc = JSON.stringify(result);\n      } else {\n        this.testboc = 'null'\n      }\n    },\n\n    async tonUniversalLog() {\n      console.log(\"ton 信息: tonProvider  connected:\",window.tonProvider.connected())\n      console.log(\"ton 信息: tonProvider  account:\",JSON.stringify(window.tonProvider.account()))\n      console.log(\"ton 信息: tonProvider  wallet:\",JSON.stringify(window.tonProvider.wallet()))\n    },\n\n    async sendTransactionAlert() {\n      //\n      const response = await fetch(`https://apitest.fireverse.ai/oauth/okx/getNonce?publicAddress=0x0cecb15396825a895ff8da8fc2d2c77a234dccee`);\n      const data = await response.json();\n      console.log(\"请求数据----\",JSON.stringify(data))\n      await this.personal_sign()\n      if (confirm(\"Are you want to sign message?\")) {\n        this.sendTransaction();\n      }\n\n      // window.open(\"https://www.okx.com/download?deeplink=okx%3A%2F%2Fweb3%2Fwallet%2Fconnect\",'_self')\n    },\n\n    async sendTransaction() {\n      if (this.selectedChain.startsWith(\"aptos\")\n          || this.selectedChain.startsWith(\"movement\")\n          || this.selectedChain.startsWith(\"solana\")\n          || this.selectedChain.startsWith(\"sonic\")\n          || this.selectedChain.startsWith(\"cosmos\")) {\n        return\n      }\n      console.log(\"sendTransaction\", window.provider);\n      console.log(\"sendTransaction内容11------\", this.testTransaction);\n      if (!window.provider) {\n        console.error(\"钱包 未初始化完成\");\n      }\n\n      if (this.testTransaction && window.provider) {\n        // eslint-disable-next-line no-undef\n        const sendData = JSON.parse(this.testTransaction);\n        try {\n          console.log(\"sendTransaction-----22method>>\", sendData.method);\n\n          let chainId = \"eip155:1\";\n          if (this.selectedChain) {\n            chainId = this.selectedChain;\n            console.log(\n              \"sendTransaction-----this.selectedChain>>\",\n              this.selectedChain\n            );\n          }\n          console.log(\"windowOpen[click_1]: \", Date.now());\n          if (chainId == \"sui:mainnet\") {\n            const adapter = new SuiAdapter(window.provider);\n            var suiResult = \"invalid result\";\n            if (this.currentSuiMethod == 'sui_getAccount') {\n              let result = adapter.getAccount()\n              if (typeof result == \"string\") {\n                this.testboc = result\n              } else {\n                this.testboc = JSON.stringify(result)\n              }\n            }\n            if (this.currentSuiMethod == \"sui_signTransaction\") {\n              suiResult = await adapter.signTransaction(\n                this.currentSuiTransaction\n              );\n              this.testboc = JSON.stringify(suiResult);\n            } else if (this.currentSuiMethod == \"sui_signAndExecuteTransaction\") {\n              suiResult = await adapter.signAndExecuteTransaction(\n                this.currentSuiTransaction\n              );\n              this.testboc = JSON.stringify(suiResult);\n            } else if (this.currentSuiMethod == \"sui_signMessage\") {\n              console.log(\"signMessage----\", this.currentSuiTransaction);\n              suiResult = await adapter.signMessage(this.currentSuiTransaction);\n              this.testboc = JSON.stringify(suiResult);\n\n              this.sui_verifySignature(suiResult).then(ret => {\n                this.testboc = `signature verify: ${ret.result}\\n${ret.msg}\\n\\n${this.testboc}`\n              })\n            } else if (this.currentSuiMethod == \"sui_signPersonalMessage\") {\n              console.log(\n                \"signPersonalMessage----\",\n                this.currentSuiTransaction\n              );\n              suiResult = await adapter.signPersonalMessage(\n                this.currentSuiTransaction\n              );\n              this.testboc = JSON.stringify(suiResult);\n\n              this.sui_verifySignature(suiResult).then(ret => {\n                this.testboc = `signature verify: ${ret.result}\\n${ret.msg}\\n\\n${this.testboc}`\n              })\n            } else if (this.currentSuiMethod == \"sui_testRpc\") {\n              console.log(\"test rpc----\", this.currentSuiTransaction);\n              console.log(\n                `请求数据发送 rpc ----->> ${JSON.stringify(sendData)}`\n              );\n              const res = await window.provider.request(sendData, chainId);\n              console.log(`请求数据回调 rpc ----->> ${JSON.stringify(result)}`);\n              if (typeof res == \"string\") {\n                this.testboc = res;\n              } else {\n                this.testboc = JSON.stringify(res);\n              }\n            }\n            console.log(\"windowOpen[click_2]: \", Date.now());\n            return;\n          }else if(chainId === \"ton:-239\"){\n            console.log(\n                `请求数据发送 sendTransaction ---ton-->> ${JSON.stringify(sendData)}`\n            );\n            let result =  await window.tonProvider.sendTransaction(sendData)\n            console.log(\n                `请求数据回调 sendTransaction ----->> ${JSON.stringify(result)}`\n            );\n            if (typeof result == \"string\") {\n              this.testboc = result;\n            } else {\n              this.testboc = JSON.stringify(result);\n            }\n            return\n          }\n\n          if (chainId == 'btc:mainnet') {\n            const btcAdapter = new OKXBtcProvider(window.provider)\n            var btcResult = 'invalid result'\n\n            if (this.currentBtcMethod == 'btc_signMessage') {\n              btcResult = await btcAdapter.signMessage(chainId, this.currentBtcTransaction[\"signStr\"])\n              this.testboc = JSON.stringify(btcResult)\n            } else if (this.currentBtcMethod == 'btc_send') {\n              btcResult = await btcAdapter.send(chainId, this.currentBtcTransaction)\n              this.testboc = JSON.stringify(btcResult)\n            } else if (this.currentBtcMethod == 'btc_signPsbt') {\n              btcResult = await btcAdapter.signPsbt(chainId, this.currentBtcTransaction.psbtHex, this.currentBtcTransaction.options)\n\n              this.hexToBase64(btcResult).then(bs64Str => {\n                this.testboc = JSON.stringify(bs64Str)\n              }).catch(error => {\n                this.testboc = error\n              })\n            } else if (this.currentBtcMethod == 'btc_signPsbts') {\n              btcResult = await btcAdapter.signPsbts(chainId, this.currentBtcTransaction.psbtHexs, this.currentBtcTransaction.options)\n              this.testboc = JSON.stringify(btcResult)\n            } else if (this.currentBtcMethod == 'btc_sendInscription') {\n              btcResult = await btcAdapter.sendInscription(chainId, this.currentBtcTransaction.address, this.currentBtcTransaction.inscriptionId, this.currentBtcTransaction.options)\n              this.testboc = JSON.stringify(btcResult)\n            } else if (this.currentBtcMethod == 'btc_signAndPushPsbt') {\n              btcResult = await btcAdapter.signAndPushPsbt(chainId, this.currentBtcTransaction.psbtHex, this.currentBtcTransaction.options)\n              this.testboc = JSON.stringify(btcResult)\n            }else if (this.currentBtcMethod == 'btc_sendBitcoin') {\n              btcResult = await btcAdapter.sendBitcoin(chainId, this.currentBtcTransaction.toAddress, this.currentBtcTransaction.satoshis, this.currentBtcTransaction.options)\n\n              this.testboc = JSON.stringify(btcResult)\n            }\n            return\n          }\n\n          if (chainId == 'fractal:mainnet') {\n            const btcAdapter = new OKXBtcProvider(window.provider)\n            var fractalResult = 'invalid result'\n\n            if (this.currentFractalMethod == 'fractal_signMessage') {\n              fractalResult = await btcAdapter.signMessage(chainId, this.currentFractalTransaction['signStr'])\n              this.testboc = JSON.stringify(fractalResult)\n            } else if (this.currentFractalMethod == 'fractal_send') {\n              fractalResult = await btcAdapter.send(chainId, this.currentFractalTransaction)\n              this.testboc = JSON.stringify(fractalResult)\n            } else if (this.currentFractalMethod == 'fractal_signPsbt') {\n              fractalResult = await btcAdapter.signPsbt(chainId, this.currentFractalTransaction.psbtHex, this.currentFractalTransaction.options)\n              this.hexToBase64(fractalResult).then(bs64Str => {\n                this.testboc = JSON.stringify(bs64Str)\n              }).catch(error => {\n                this.testboc = error\n              })\n            } else if (this.currentFractalMethod == 'fractal_signPsbts') {\n              fractalResult = await btcAdapter.signPsbts(chainId, this.currentFractalTransaction.psbtHexs, this.currentFractalTransaction.options)\n              this.testboc = JSON.stringify(fractalResult)\n            } else if (this.currentFractalMethod == 'fractal_sendInscription') {\n              fractalResult = await btcAdapter.sendInscription(chainId, this.currentFractalTransaction.address, this.currentFractalTransaction.inscriptionId, this.currentFractalTransaction.options)\n              this.testboc = JSON.stringify(fractalResult)\n            } else if (this.currentFractalMethod == 'fractal_signAndPushPsbt') {\n              fractalResult = await btcAdapter.signAndPushPsbt(chainId, this.currentFractalTransaction.psbtHex, this.currentFractalTransaction.options)\n              this.testboc = JSON.stringify(fractalResult)\n            }else if (this.currentFractalMethod == 'fractal_sendBitcoin') {\n              fractalResult = await btcAdapter.sendBitcoin(chainId, this.currentFractalTransaction.toAddress, this.currentFractalTransaction.satoshis, this.currentFractalTransaction.options)\n\n              this.testboc = JSON.stringify(fractalResult)\n            }\n\n            return\n          }\n\n          console.log(`请求数据发送 sendTransaction ----->> ${JSON.stringify(sendData)}`)\n          var result = await window.provider.request(sendData, chainId)\n          console.log(`请求数据回调 sendTransaction ----->> ${JSON.stringify(result)}`)\n\n          console.log(\"windowOpen[click_3]: \", Date.now());\n          if (typeof result == \"string\") {\n            this.testboc = result;\n          } else {\n            this.testboc = JSON.stringify(result);\n          }\n          console.log(\"方法数据回调 --this.testboc--\", this.testboc);\n        } catch (error) {\n          console.error(\"方法数据回调失败 --Error--\", error.message);\n\n          if (error.code === OKX_CONNECT_ERROR_CODES.USER_REJECTS_ERROR) {\n            this.testboc = error.message;\n          } else {\n            this.testboc = \"wrong signature！\" + error.message;\n          }\n        }\n      } else {\n        alert(\"Please input transaction data\");\n      }\n    },\n\n    hexToBase64(hexStr) {\n      var bytes = [];\n      for (var i = 0; i < hexStr.length; i += 2) {\n        bytes.push(parseInt(hexStr.substr(i, 2), 16));\n      }\n      const buffer = new Uint8Array(bytes)\n      const blob = new Blob([buffer]);\n      return new Promise((resolve, reject) => {\n        const reader = new FileReader();\n        reader.onload = function (e) {\n          var base64Data = e.target.result.split(\",\")[1]\n          resolve(base64Data);\n        };\n        reader.onerror = function (e) {\n          reject(e);\n        };\n        reader.readAsDataURL(blob);\n      });\n    },\n    testBase64UrlSafe(){\n      let datatest = {\"protocolVer\":1,\"topic\":\"8a7a4c3be73802d0ae2587123ade7bb79f27433b9aa3ca589a2208a2089eecfd\",\"clientId\":\"5f1bbf9eac92160affa7ef04d0a710817ddb6d8c22ebbd6263e86f059930b404\",\"requestId\":\"1731383250054\",\"dAppInfo\":{\"url\":\"connect.oker.vip\",\"origin\":\"https://connect.oker.vip\",\"name\":\"univer test dapp\",\"icon\":\"https://avatars.githubusercontent.com/u/37784886\"},\"requests\":[{\"name\":\"requestAccounts\",\"requiredNamespaces\":[{\"namespace\":\"aptos\",\"chains\":[\"aptos:637\"]}],\"optionalNamespaces\":[],\"connectRequestMethods\":[{\"chainId\":\"aptos:637\",\"method\":\"aptos_signMessage\",\"params\":{\"data\":{\"address\":true,\"application\":true,\"chainId\":true,\"message\":\"123 中文测试!\",\"nonce\":\"1234\"},\"applicationUrl\":\"https://connect.oker.vip\",\"prefix\":\"APTOS\",\"aptosChainId\":\"1\"}}]}],\"redirect\":\"none\"}\n      let json = JSON.stringify(datatest)\n      const utf8Array = new TextEncoder().encode(json);\n      let binary = '';\n      utf8Array.forEach(byte => {\n        binary += String.fromCharCode(byte);\n      });\n\n      let firstStr =  btoa(binary)\n      console.log(\"字符串编码1>>>>\",firstStr)\n      firstStr = firstStr.replace(/\\+/g, '-')  // 替换 '+'\n      console.log(\"字符串编码2>>>>\",firstStr)\n      firstStr = firstStr.replace(/\\//g, '_')  // 替换 '/'\n      console.log(\"字符串编码3>>>>\",firstStr)\n      firstStr = firstStr.replace(/=+$/, '');  // 移除 '=';\n      console.log(\"字符串编码4>>>>\",firstStr)\n\n      let showUrl =  getUniversalLink(getAppWalletDeepLink(firstStr))\n      console.log(\"字符串编码5>>>>\",showUrl)\n      this.qrValue = showUrl;\n      this.showModal = true;\n    },\n\n\n    async testTonSdk() {\n      // 1. connect\n      //  create sub providers for each namespace/chain\n      let nameSpacesChains = [];\n      let optSpaceChains = [];\n\n      let solanaChains = [\n        \"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp\",\n        \"solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z\",\n        \"svm:70000062\",\n      ];\n      let hasEip155, hasSolana, hasSui, hasBtc, hasAptos, hasTon, hasCosmos, hasTron = false\n\n      let suiChains = [\n        \"sui:mainnet\",\n      ];\n\n      let btcChains = [\n        \"btc:mainnet\",\n        \"fractal:mainnet\"\n      ];\n\n      const chains = Object.entries(this.availableChains)\n          .filter((chain) => chain[1].checked)\n          .map((chain) => chain[0]);\n      console.log(`chains  ===> ${chains.values()}`)\n      chains.forEach(function (chainId) {\n        console.log(`chains.forEach chainId  ===> ${chainId}`)\n\n        if (solanaChains.includes(chainId)) {\n          nameSpacesChains.push(chainId);\n          hasSolana = true;\n          return;\n        }\n        if (typeof chainId == 'string' && chainId.startsWith(\"ton\")) {\n          nameSpacesChains.push(chainId)\n          hasTon = true\n          return\n        }\n        if (typeof chainId == 'string' && (chainId.startsWith(\"aptos\") || chainId.startsWith(\"movement\"))) {\n          nameSpacesChains.push(chainId)\n          hasAptos = true\n          return\n        }\n        if (typeof chainId == 'string' && chainId.startsWith(\"svm\")) {\n          nameSpacesChains.push(chainId)\n          hasSolana = true\n          return\n        }\n        if (typeof chainId == 'string' && chainId.startsWith(\"cosmos\")) {\n          nameSpacesChains.push(chainId)\n          hasCosmos = true\n          return\n        }\n        if (typeof chainId == 'string' && chainId.startsWith(\"tron\")) {\n          nameSpacesChains.push(chainId)\n          hasTron = true\n          return\n        }\n\n        if (suiChains.includes(chainId)) {\n          console.log(`nameSpacesChains.push  ===> ${chainId}`);\n          nameSpacesChains.push(chainId);\n          hasSui = true;\n          return;\n        }\n\n        if (btcChains.includes(chainId)) {\n          console.log(`nameSpacesChains.push  ===> ${chainId}`)\n          nameSpacesChains.push(chainId)\n          hasBtc = true\n          return\n        }\n\n        hasEip155 = true\n        nameSpacesChains.push(`eip155:${chainId}`)\n      })\n\n\n      optionChains.forEach(function (chainId) {\n        if (solanaChains.includes(chainId)) {\n          optSpaceChains.push(chainId);\n          return;\n        }\n        if (typeof chainId == \"string\" && chainId.startsWith(\"svm\")) {\n          nameSpacesChains.push(chainId);\n          hasSolana = true;\n          return;\n        }\n        if (suiChains.includes(chainId)) {\n          optSpaceChains.push(chainId);\n          return;\n        }\n\n        if (btcChains.includes(chainId)) {\n          optSpaceChains.push(chainId)\n          return\n        }\n\n        optSpaceChains.push(`eip155:${chainId}`)\n      })\n\n      console.log(`namespaceChains  ===> ${JSON.stringify(nameSpacesChains)}`);\n      var connectData = {};\n      if (nameSpacesChains && nameSpacesChains.length > 0) {\n        var requireData = {};\n\n        if (hasEip155) {\n          requireData.eip155 = {\n            chains: nameSpacesChains.filter((item) =>\n              item.startsWith(\"eip155\")\n            ),\n            defaultChain: nameSpacesChains.filter((item) =>\n              item.startsWith(\"eip155\")\n            )[0],\n          };\n        }\n        if (hasSolana) {\n          requireData.solana = {\n            chains: nameSpacesChains.filter(\n              (item) =>\n                item.startsWith(\"solana\") ||\n                item.startsWith(\"sonic\") ||\n                item.startsWith(\"svm\")\n            ),\n            defaultChain: nameSpacesChains.filter(\n              (item) =>\n                item.startsWith(\"solana\") ||\n                item.startsWith(\"sonic\") ||\n                item.startsWith(\"svm\")\n            )[0],\n          };\n        }\n\n        if (hasCosmos) {\n          requireData.cosmos = {\n            chains: nameSpacesChains.filter(\n                (item) =>\n                    item.startsWith(\"cosmos\")\n            ),\n            defaultChain: nameSpacesChains.filter(\n                (item) =>\n                    item.startsWith(\"cosmos\")\n            )[0],\n          }\n        }\n        if (hasTron) {\n          requireData.tron = {\n            chains: nameSpacesChains.filter(\n                (item) =>\n                    item.startsWith(\"tron\")\n            ),\n            defaultChain: nameSpacesChains.filter(\n                (item) =>\n                    item.startsWith(\"tron\")\n            )[0],\n          }\n        }\n        if (hasTon) {\n\n          //\n          let tonParams = {\n            ton_addr:{\n              name: 'ton_addr',\n            }\n          };\n          if (this.tonProofValue){\n            tonParams = {\n              ton_addr:{\n                name: 'ton_addr',\n              },\n              ton_proof:{\n                name: 'ton_proof',\n                payload: this.tonProofValue,\n              }\n            };\n          }\n\n\n          requireData.ton = {\n            chains: nameSpacesChains.filter(item => item.startsWith(\"ton\")),\n            defaultChain: nameSpacesChains.filter(item => item.startsWith(\"ton\"))[0],\n            params:tonParams\n          };\n        }\n\n        if (hasSui) {\n          requireData.sui = {\n            chains: nameSpacesChains.filter((item) => item.startsWith(\"sui\")),\n            defaultChain: nameSpacesChains.filter((item) =>\n              item.startsWith(\"sui\")\n            )[0],\n            rpcMap: {\n              \"sui:mainnet\": \"https://www.okx.com/fullnode/sui/discover/rpc\"\n            }\n          };\n        }\n        if (hasAptos) {\n          requireData.aptos = {\n            chains: nameSpacesChains.filter(item => item.startsWith(\"aptos\") || item.startsWith(\"movement\")),\n            defaultChain: nameSpacesChains.filter(item => item.startsWith(\"aptos\") || item.startsWith(\"movement\"))[0]\n          }\n        }\n\n        if (hasBtc) {\n          let btcChains = nameSpacesChains.filter(item => item.startsWith(\"btc\") || item.startsWith(\"fractal\"))\n          requireData.btc = {\n            chains: btcChains,\n            defaultChain: btcChains[0]\n          }\n        }\n        console.log(`requireData  ===> ${JSON.stringify(requireData)}`)\n        connectData['namespaces'] = requireData;\n        console.log(JSON.stringify(connectData))\n      }\n\n      if (optSpaceChains && optSpaceChains.length > 0) {\n        var optData = {\n          eip155: {\n            chains: optSpaceChains.filter((item) => item.startsWith(\"eip155\")),\n            defaultChain: optSpaceChains.filter((item) =>\n              item.startsWith(\"eip155\")\n            )[0],\n          },\n        };\n        connectData[\"optionalNamespaces\"] = optData;\n      }\n\n      if (nameSpacesChains.length === 0 && optSpaceChains.length === 0) {\n        //未选择链\n        alert(\"Please select a chain from above to continue\");\n        return;\n      }\n      console.log(\"=====>connectData \");\n      console.log(connectData);\n\n      var connectMethod;\n      let signMethods = this.getCurrentSelectedMethodData();\n      if (window.provider instanceof OKXUniversalConnectUI) {\n        if (signMethods && signMethods.length>0){\n          connectMethod = window.provider.openModalAndSign(connectData,signMethods);\n        }else {\n          connectMethod = window.provider.openModal(connectData);\n        }\n      } else {\n        if (this.universalToTG){\n          connectData.sessionConfig = {\n            useMini:true,\n            openUniversalUrl:true,\n            tmaReturnUrl:'back'\n          }\n        }else{\n          connectData.sessionConfig = {\n            redirect: selectedReturnStrategy\n          }\n        }\n        if (signMethods && signMethods.length>0){\n          connectMethod = window.provider.connectAndSign(connectData,signMethods);\n        }else {\n          connectMethod = window.provider.connect(connectData);\n        }\n      }\n\n      await connectMethod\n        .then((result) => {\n          // 2. set defaul chain\n          this.walletAddress = \"connected\";\n          if (this.isPC()) {\n            this.showModal = false;\n          }\n          if (result){\n            this.testboc = JSON.stringify(result)\n          }\n\n          if (window.provider.session && window.provider.session.namespaces){\n            let ton = window.provider.session.namespaces[\"ton\"];\n          console.log(\"是否包含ton\",ton)\n            if (ton){\n              this.tonUniversalLog()\n            }\n          }\n\n\n\n        })\n        .catch((error) => {\n          if (error.message){\n            alert(error.message)\n          }\n\n          console.error(\"发生了错误：\", error);\n        });\n    },\n\n    getCurrentSelectedMethodData(){// 连接签名\n      var methodList = [];\n      this.selectedMethod.forEach(method =>{\n        switch (method) {\n          case \"wallet_addEthereumChain(ETH)\":\n            methodList.push({\n              method: \"wallet_addEthereumChain\",\n              chainId:\"eip155:1\",\n              params: {\n                blockExplorerUrls: [\"https://explorer.fuse.io\"],\n                chainId: \"0x7a\",\n                chainName: \"Fuse\",\n                nativeCurrency: { name: \"Fuse\", symbol: \"FUSE\", decimals: 18 },\n                rpcUrls: [\"https://rpc.fuse.io\"],\n              },\n            })\n            break;\n          case \"personal_sign(ETH)\":\n            methodList.push(\n              {\n                method: \"personal_sign\",\n                chainId: \"eip155:1\",\n                params: [\n                  \"0x4d7920656d61696c206973206a6f686e40646f652e636f6d202d2031373237353937343537313336\",\n                ],\n              });\n            break;\n          case \"solana_signMessage(Sol mainnet)\":\n            methodList.push(\n              {\n                \"chainId\": \"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp\",\n                \"method\": \"solana_signMessage\",\n                \"params\": {\n                  \"message\": \"Hello Solana\",\n                }\n              }\n            );\n            break;\n          case \"sui_signMessage(Sui mainnet)\":\n          case \"sui_signPersonalMessage(Sui mainnet)\": {\n            let suiData = [\n              76, 111, 103, 105, 110, 32, 119, 105, 116, 104, 32, 66, 108, 117, 101,\n              109, 111, 118, 101,\n            ];\n            let uint8Array = new Uint8Array(suiData);\n            let currentMethod = \"sui_signMessage\";\n            this.currentSuiTransaction = {\n              message:uint8Array\n            }\n\n            if(method.startsWith(\"sui_signPersonalMessage\")){\n              currentMethod = \"sui_signPersonalMessage\";\n            }\n            methodList.push(\n                {\n                  method: currentMethod,\n                  chainId: \"sui:mainnet\",\n                  params: {\n                    message: uint8Array,\n                  }\n                }\n            );\n            break;\n          }\n          case \"btc_signMessage(BTC)\":\n            methodList.push(\n              {\n                method: \"btc_signMessage\",\n                chainId: \"btc:mainnet\",\n                params: {\n                  signStr: \"Welcome to BTC\"\n                }\n              }\n            )\n            break;\n          case \"aptos_signMessage(aptos mainnet)\":\n            methodList.push(\n              {\n                \"chainId\": \"aptos:mainnet\",\n                \"method\": \"aptos_signMessage\",\n                \"params\": {\n                  address: true,\n                  application: true,\n                  chainId: true,\n                  message: \"Hello Aptos\",\n                  nonce: \"1234\"\n                }\n              }\n            )\n            break;\n          case \"cosmos_signArbitrary(cosmoshub)\":\n            methodList.push(\n                {\n                  \"chainId\": \"cosmos:cosmoshub-4\",\n                  \"method\": \"cosmos_signArbitrary\",\n                  \"params\": {\n                    message: \"test cosmos\"\n                  }\n                }\n            )\n\n            break;\n          case \"test_noSupport_eth(ETH)\":\n            methodList.push(\n                {\n                  chainId: \"eip155:1\",\n                  method: \"test_noSupport_eth\",\n                  params: {\n                    message: \"test hello\",\n                  }\n                }\n            )\n            break;\n          case \"sync_all_addresses\":\n            methodList.push(\n                {\n                  method: \"sync_all_addresses\",\n                });\n            break;\n          case \"tron_signMessage\":\n            methodList.push(\n                {\n                  chainId:\"tron:mainnet\",\n                  method: \"tron_signMessage\",\n                  params: {\n                    message: \"Hello Tron\",\n                  }\n                }\n            )\n            break\n          case \"tron_signMessageV2\":\n            methodList.push(\n                {\n                  chainId:\"tron:mainnet\",\n                  method: \"tron_signMessageV2\",\n                  params: {\n                    message: \"Hello Tron\",\n                  }\n                }\n            )\n            break\n            //\n          default:\n\n            break;\n        }\n      })\n      this.selectedMethodData = methodList\n      return methodList\n\n    },\n\n\n    closeModal() {\n      this.showModal = false;\n    },\n\n    isPC() {\n      const userAgentInfo = navigator.userAgent;\n      console.log(\"current device ua is ===>\", userAgentInfo);\n\n      const Agents = [\n        \"Android\",\n        \"iPhone\",\n        \"SymbianOS\",\n        \"Windows Phone\",\n        \"iPad\",\n        \"iPod\",\n      ];\n      let flag = true;\n      for (let v = 0; v < Agents.length; v++) {\n        if (userAgentInfo.indexOf(Agents[v]) > 0) {\n          flag = false;\n          break;\n        }\n      }\n      return flag;\n    },\n    isSafariOrChrome() {\n      const userAgentInfo = navigator.userAgent;\n      const Agents = [\"Safari\", \"Chrome\"];\n      let flag = false;\n      for (let v = 0; v < Agents.length; v++) {\n        if (userAgentInfo.indexOf(Agents[v]) > 0) {\n          flag = true;\n          break;\n        }\n      }\n      return flag;\n    },\n\n    /// solana\n    async sol_signMessage() {\n      //  if (this.selectedChain === \"eip155:56\") {\n      let data = {\n        method: \"solana_signMessage\",\n        params: {\n          message: \"Hello Solana\",\n          pubkey: \"\",\n        },\n      };\n      this.testTransaction = JSON.stringify(data);\n      let provider = new OKXSolanaProvider(window.provider);\n\n      let message = await provider.signMessage(\n          \"Hello Solana\",\n          this.selectedChain\n      );\n      console.log(\"solana_signMessage Result:\",JSON.stringify(message))\n      const result1 = nacl.sign.detached.verify(\n          new TextEncoder().encode(\"Hello Solana\"),\n          message.signature,\n          new PublicKey(message.publicKey).toBytes()\n      );\n      console.log(result1)\n\n      if (typeof message == \"string\") {\n        this.testboc = result1;\n      } else {\n        this.testboc = result1;\n      }\n    },\n\n    async aptos_signMessage() {\n      //  if (this.selectedChain === \"eip155:56\") {\n      let data = {\n        address: true,\n        application: true,\n        chainId: true,\n        message: \"Hello Aptos\",\n        nonce: \"1234\"\n      }\n\n      let provider = new OKXAptosProvider(window.provider)\n      let message = await provider.signMessage(data, this.selectedChain)\n      this.testTransaction = JSON.stringify(data)\n      if (typeof message == \"string\") {\n        this.testboc = message\n      } else {\n        this.testboc = JSON.stringify(message)\n      }\n    },\n\n    async aptos_signTransaction() {\n      let provider = new OKXAptosProvider(window.provider)\n      const config = new AptosConfig({ network: Network.MAINNET });\n      const aptos = new Aptos(config);\n      // const transaction = await aptos.transferCoinTransaction({\n      //   sender: provider.getAccount(this.selectedChain).address, //\"0x07897a0496703c27954fa3cc8310f134dd1f7621edf5e88b5bf436e4af70cfc6\"\n      //   recipient: provider.getAccount(this.selectedChain).address, //\"0x07897a0496703c27954fa3cc8310f134dd1f7621edf5e88b5bf436e4af70cfc6\",\n      //   amount: 100,\n      // });\n      // this.testTransaction = safeJsonStringify(transaction)\n\n      // let data = {\n      //   \"arguments\": [\"100000\", [\"10164\"],\n      //     [\"0\"],\n      //     [\"false\"]\n      //   ],\n      //   \"function\": \"0x80273859084bc47f92a6c2d3e9257ebb2349668a1b0fb3db1d759a04c7628855::router::swap_exact_coin_for_coin_x1\",\n      //   \"type\": \"entry_function_payload\",\n      //   \"type_arguments\": [\"0x1::aptos_coin::AptosCoin\", \"0xf22bede237a07e121b56d91a491eb7bcdfd1f5907926a9e58338f964a01b17fa::asset::USDC\", \"0x190d44266241744264b964a37b8f09863167a12d3e70cda39376cfb4e3561e12::curves::Uncorrelated\", \"0x80273859084bc47f92a6c2d3e9257ebb2349668a1b0fb3db1d759a04c7628855::router::BinStepV0V05\"]\n      // }\n\n\n      const transaction = await aptos.transaction.build.simple({\n        sender: provider.getAccount(this.selectedChain).address,\n        data: {\n          // The Move entry-function\n          function: \"0x80273859084bc47f92a6c2d3e9257ebb2349668a1b0fb3db1d759a04c7628855::router::swap_exact_coin_for_coin_x1\",\n          // typeArguments: [parseTypeTag(\"0x1::aptos_coin::AptosCoin\")],\n          typeArguments: [\"0x1::aptos_coin::AptosCoin\", \"0x111ae3e5bc816a5e63c2da97d0aa3886519e0cd5e4b046659fa35796bd11542a::stapt_token::StakedApt\", \"0x0163df34fccbf003ce219d3f1d9e70d140b60622cb9dd47599c25fb2f797ba6e::curves::Uncorrelated\", \"0x80273859084bc47f92a6c2d3e9257ebb2349668a1b0fb3db1d759a04c7628855::router::BinStepV0V05\"],\n          functionArguments: [\"10000\", [\"9104\"], [\"5\"], [\"true\"]],\n        },\n      });\n\n      this.testTransaction = safeJsonStringify(transaction)\n\n      let message = await provider.signTransaction(transaction, this.selectedChain)\n      if (typeof message == \"string\") {\n        this.testboc = message\n      } else {\n        this.testboc = JSON.stringify(message)\n      }\n    },\n\n    async move_signTransaction() {\n      let provider = new OKXAptosProvider(window.provider)\n      const config = new AptosConfig({ network: Network.MAINNET });\n      const aptos = new Aptos(config);\n      // const transaction = await aptos.transferCoinTransaction({\n      //   sender: provider.getAccount(this.selectedChain).address, //\"0x07897a0496703c27954fa3cc8310f134dd1f7621edf5e88b5bf436e4af70cfc6\"\n      //   recipient: provider.getAccount(this.selectedChain).address, //\"0x07897a0496703c27954fa3cc8310f134dd1f7621edf5e88b5bf436e4af70cfc6\",\n      //   amount: 100,\n      // });\n      // this.testTransaction = safeJsonStringify(transaction)\n\n      // let data = {\n      //   \"arguments\": [\"100000\", [\"10164\"],\n      //     [\"0\"],\n      //     [\"false\"]\n      //   ],\n      //   \"function\": \"0x80273859084bc47f92a6c2d3e9257ebb2349668a1b0fb3db1d759a04c7628855::router::swap_exact_coin_for_coin_x1\",\n      //   \"type\": \"entry_function_payload\",\n      //   \"type_arguments\": [\"0x1::aptos_coin::AptosCoin\", \"0xf22bede237a07e121b56d91a491eb7bcdfd1f5907926a9e58338f964a01b17fa::asset::USDC\", \"0x190d44266241744264b964a37b8f09863167a12d3e70cda39376cfb4e3561e12::curves::Uncorrelated\", \"0x80273859084bc47f92a6c2d3e9257ebb2349668a1b0fb3db1d759a04c7628855::router::BinStepV0V05\"]\n      // }\n\n\n      const transaction = await aptos.transaction.build.simple({\n        sender: provider.getAccount(this.selectedChain).address,\n        data: {\n          // The Move entry-function\n          function: \"0x0163df34fccbf003ce219d3f1d9e70d140b60622cb9dd47599c25fb2f797ba6e::scripts::swap\",\n          // typeArguments: [parseTypeTag(\"0x1::aptos_coin::AptosCoin\")],\n          typeArguments: [\"0x1::aptos_coin::AptosCoin\", \"0x275f508689de8756169d1ee02d889c777de1cebda3a7bbcce63ba8a27c563c6f::tokens::WBTC\", \"0x0163df34fccbf003ce219d3f1d9e70d140b60622cb9dd47599c25fb2f797ba6e::curves::Uncorrelated\"],\n          functionArguments: [\"10000\", \"12\"],\n        },\n      });\n\n      this.testTransaction = safeJsonStringify(transaction)\n\n      let message = await provider.signTransaction(transaction, this.selectedChain)\n      if (typeof message == \"string\") {\n        this.testboc = message\n      } else {\n        this.testboc = JSON.stringify(message)\n      }\n    },\n\n    async move_signAndSubmitTransaction() {\n      let provider = new OKXAptosProvider(window.provider)\n      const config = new AptosConfig({ network: Network.MAINNET });\n      const aptos = new Aptos(config);\n      // const transaction = await aptos.transferCoinTransaction({\n      //   sender: provider.getAccount(this.selectedChain).address, //\"0x07897a0496703c27954fa3cc8310f134dd1f7621edf5e88b5bf436e4af70cfc6\"\n      //   recipient: provider.getAccount(this.selectedChain).address, //\"0x07897a0496703c27954fa3cc8310f134dd1f7621edf5e88b5bf436e4af70cfc6\",\n      //   amount: 100,\n      // });\n      // this.testTransaction = safeJsonStringify(transaction)\n\n      // let data = {\n      //   \"arguments\": [\"100000\", [\"10164\"],\n      //     [\"0\"],\n      //     [\"false\"]\n      //   ],\n      //   \"function\": \"0x80273859084bc47f92a6c2d3e9257ebb2349668a1b0fb3db1d759a04c7628855::router::swap_exact_coin_for_coin_x1\",\n      //   \"type\": \"entry_function_payload\",\n      //   \"type_arguments\": [\"0x1::aptos_coin::AptosCoin\", \"0xf22bede237a07e121b56d91a491eb7bcdfd1f5907926a9e58338f964a01b17fa::asset::USDC\", \"0x190d44266241744264b964a37b8f09863167a12d3e70cda39376cfb4e3561e12::curves::Uncorrelated\", \"0x80273859084bc47f92a6c2d3e9257ebb2349668a1b0fb3db1d759a04c7628855::router::BinStepV0V05\"]\n      // }\n\n\n      const transaction = await aptos.transaction.build.simple({\n        sender: provider.getAccount(this.selectedChain).address,\n        data: {\n          // The Move entry-function\n          function: \"0x0163df34fccbf003ce219d3f1d9e70d140b60622cb9dd47599c25fb2f797ba6e::scripts::swap\",\n          // typeArguments: [parseTypeTag(\"0x1::aptos_coin::AptosCoin\")],\n          typeArguments: [\"0x1::aptos_coin::AptosCoin\", \"0x275f508689de8756169d1ee02d889c777de1cebda3a7bbcce63ba8a27c563c6f::tokens::WBTC\", \"0x0163df34fccbf003ce219d3f1d9e70d140b60622cb9dd47599c25fb2f797ba6e::curves::Uncorrelated\"],\n          functionArguments: [\"10000\", \"12\"],\n        },\n      });\n\n      this.testTransaction = safeJsonStringify(transaction)\n\n      let message = await provider.signAndSubmitTransaction(transaction, this.selectedChain)\n      if (typeof message == \"string\") {\n        this.testboc = message\n      } else {\n        this.testboc = JSON.stringify(message)\n      }\n    },\n\n    async aptos_signAndSubmitTransaction() {\n      let provider = new OKXAptosProvider(window.provider)\n      const config = new AptosConfig({ network: Network.MAINNET });\n      const aptos = new Aptos(config);\n      const transaction = await aptos.transaction.build.simple({\n        sender: provider.getAccount(this.selectedChain).address,\n        data: {\n          // The Move entry-function\n          function: \"0x80273859084bc47f92a6c2d3e9257ebb2349668a1b0fb3db1d759a04c7628855::router::swap_exact_coin_for_coin_x1\",\n          // typeArguments: [parseTypeTag(\"0x1::aptos_coin::AptosCoin\")],\n          typeArguments: [\"0x1::aptos_coin::AptosCoin\", \"0x111ae3e5bc816a5e63c2da97d0aa3886519e0cd5e4b046659fa35796bd11542a::stapt_token::StakedApt\", \"0x0163df34fccbf003ce219d3f1d9e70d140b60622cb9dd47599c25fb2f797ba6e::curves::Uncorrelated\", \"0x80273859084bc47f92a6c2d3e9257ebb2349668a1b0fb3db1d759a04c7628855::router::BinStepV0V05\"],\n          functionArguments: [\"10000\", [\"9104\"], [\"5\"], [\"true\"]],\n        },\n      });\n\n      // let data = {\n      //   \"arguments\": [\"100000\",[\"0\",\"0\",\"10533\"],[\"10\",\"5\",\"5\"],[\"false\",\"false\",\"true\"]],\n      //   \"function\": \"0x80273859084bc47f92a6c2d3e9257ebb2349668a1b0fb3db1d759a04c7628855::router::swap_exact_coin_for_coin_x3\",\n      //   \"type\": \"entry_function_payload\",\n      //   \"type_arguments\": [\"0x1::aptos_coin::AptosCoin\",\"0x73eb84966be67e4697fc5ae75173ca6c35089e802650f75422ab49a8729704ec::coin::DooDoo\",\"0x53a30a6e5936c0a4c5140daed34de39d17ca7fcae08f947c02e979cef98a3719::coin::LSD\",\"0xf22bede237a07e121b56d91a491eb7bcdfd1f5907926a9e58338f964a01b17fa::asset::USDC\",\"0x80273859084bc47f92a6c2d3e9257ebb2349668a1b0fb3db1d759a04c7628855::router::CurveV1\",\"0x0163df34fccbf003ce219d3f1d9e70d140b60622cb9dd47599c25fb2f797ba6e::curves::Uncorrelated\",\"0x0163df34fccbf003ce219d3f1d9e70d140b60622cb9dd47599c25fb2f797ba6e::curves::Uncorrelated\",\"0x54cb0bb2c18564b86e34539b9f89cfe1186e39d89fce54e1cd007b8e61673a85::bin_steps::X80\",\"0x80273859084bc47f92a6c2d3e9257ebb2349668a1b0fb3db1d759a04c7628855::router::BinStepV0V05\",\"0x80273859084bc47f92a6c2d3e9257ebb2349668a1b0fb3db1d759a04c7628855::router::BinStepV0V05\"]\n      // }\n      this.testTransaction = safeJsonStringify(transaction)\n\n      let message = await provider.signAndSubmitTransaction(transaction, this.selectedChain)\n      if (typeof message == \"string\") {\n        this.testboc = message\n      } else {\n        this.testboc = JSON.stringify(message)\n      }\n    },\n\n    async sol_signVersionedTransaction() {\n      let provider = new OKXSolanaProvider(window.provider);\n\n      let pubkey = new PublicKey(\n        provider.getAccount(\"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp\").address\n      );\n      const connection = new Connection(this.getSolConnect())\n      const { blockhash } = await connection.getLatestBlockhash();\n      const versionedTransactionMessage = new TransactionMessage({\n        payerKey: pubkey,\n         recentBlockhash: blockhash,\n        instructions: [\n          SystemProgram.transfer({\n            fromPubkey: new PublicKey(provider.getAccount().address),\n            toPubkey: new PublicKey(provider.getAccount().address),\n            lamports: \"100\",\n          }),\n        ],\n      }).compileToV0Message();\n\n      let transaction = new VersionedTransaction(versionedTransactionMessage);\n      this.testTransaction = safeJsonStringify(transaction)\n\n      let result = await provider.signTransaction(\n        transaction,\n        this.selectedChain\n      );\n      console.log(\"sol_signTransaction result\", JSON.stringify(result));\n      if (typeof result == \"string\") {\n        this.testboc = result;\n      } else {\n        this.testboc = JSON.stringify(result);\n      }\n    },\n\n    async sol_signAndSendVersionedTransaction() {\n      let provider = new OKXSolanaProvider(window.provider);\n\n      let pubkey = new PublicKey(provider.getAccount().address);\n      const connection = new Connection(this.getSolConnect())\n      const { blockhash } = await connection.getLatestBlockhash();\n      const versionedTransactionMessage = new TransactionMessage({\n        payerKey: pubkey,\n        recentBlockhash: blockhash,\n        instructions: [\n          SystemProgram.transfer({\n            fromPubkey: new PublicKey(provider.getAccount().address),\n            toPubkey: new PublicKey(provider.getAccount().address),\n            lamports: \"100\",\n          }),\n        ],\n      }).compileToV0Message();\n\n      let transaction = new VersionedTransaction(versionedTransactionMessage);\n      this.testTransaction = safeJsonStringify(transaction)\n\n      let result = await provider.signAndSendTransaction(\n        transaction,\n        this.selectedChain\n      );\n      console.log(\"sol_signTransaction result\", JSON.stringify(result));\n      if (typeof result == \"string\") {\n        this.testboc = result;\n      } else {\n        this.testboc = JSON.stringify(result);\n      }\n    },\n\n    async sol_signAllVersionedTransactions() {\n      let provider = new OKXSolanaProvider(window.provider);\n      const connection = new Connection(this.getSolConnect())\n      const { blockhash } = await connection.getLatestBlockhash();\n      let pubkey = new PublicKey(provider.getAccount().address);\n      const versionedTransactionMessage = new TransactionMessage({\n        payerKey: pubkey,\n        recentBlockhash: blockhash,\n        instructions: [\n          SystemProgram.transfer({\n            fromPubkey: new PublicKey(provider.getAccount().address),\n            toPubkey: new PublicKey(provider.getAccount().address),\n            lamports: \"100\",\n          }),\n        ],\n      }).compileToV0Message();\n\n      let transaction = new VersionedTransaction(versionedTransactionMessage);\n      this.testTransaction = safeJsonStringify(transaction)\n\n      let result = await provider.signAllTransactions(\n        [transaction],\n        this.selectedChain\n      );\n      console.log(\"sol_signTransaction result\", JSON.stringify(result));\n      if (typeof result == \"string\") {\n        this.testboc = result;\n      } else {\n        this.testboc = JSON.stringify(result);\n      }\n    },\n\n    async sol_signTransaction() {\n      const connection = new Connection(this.getSolConnect())\n      const { blockhash } = await connection.getLatestBlockhash();\n      let provider = new OKXSolanaProvider(window.provider);\n      const transaction = new Transaction({\n        feePayer: new PublicKey(provider.getAccount().address),\n         recentBlockhash: blockhash,\n      }).add(\n        SystemProgram.transfer({\n          fromPubkey: new PublicKey(provider.getAccount().address),\n          toPubkey: new PublicKey(provider.getAccount().address),\n          lamports: 1000,\n        })\n      );\n\n      this.testTransaction = safeJsonStringify(transaction)\n      let result = await provider.signTransaction(\n        transaction,\n        this.selectedChain\n      );\n      console.log(\"sol_signTransaction result\", JSON.stringify(result));\n      if (typeof result == \"string\") {\n        this.testboc = result;\n      } else {\n        this.testboc = JSON.stringify(result);\n      }\n    },\n\n    async sol_signAllTransactions() {\n      const connection = new Connection(this.getSolConnect())\n      const { blockhash } = await connection.getLatestBlockhash();\n\n      let provider = new OKXSolanaProvider(window.provider);\n      const transaction = new Transaction({\n        feePayer: new PublicKey(provider.getAccount().address),\n        recentBlockhash: blockhash,\n      }).add(\n        SystemProgram.transfer({\n          fromPubkey: new PublicKey(provider.getAccount().address),\n          toPubkey: new PublicKey(provider.getAccount().address),\n          lamports: \"100\",\n        })\n      );\n      this.testTransaction = safeJsonStringify(transaction)\n\n      let result = await provider.signAllTransactions(\n        [transaction],\n        this.selectedChain\n      );\n      if (typeof result == \"string\") {\n        this.testboc = result;\n      } else {\n        this.testboc = JSON.stringify(result);\n      }\n    },\n\n    getSolConnect() {\n      let rpc = \"https://www.okx.com/fullnode/sol/discover/rpc\"\n      if (this.selectedChain === \"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp\") {\n        rpc = \"https://www.okx.com//fullnode/sol/discover/rpc\"\n      } else if (this.selectedChain === \"solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z\"){\n        rpc = \"https://www.okx.com/fullnode/soltestnet/discover/rpc\"\n      } else if (this.selectedChain === \"svm:70000062\") {\n        rpc = \"https://www.okx.com/fullnode/sonic/testnet/discover/rpc\"\n      }\n      return rpc\n    },\n\n    async sol_signAndSendTransaction() {\n\n      const connection = new Connection(this.getSolConnect())\n      const { blockhash } = await connection.getLatestBlockhash();\n\n      let provider = new OKXSolanaProvider(window.provider);\n      const transaction = new Transaction({\n        feePayer: new PublicKey(provider.getAccount().address),\n        recentBlockhash: blockhash,\n      }).add(\n        SystemProgram.transfer({\n          fromPubkey: new PublicKey(provider.getAccount().address),\n          toPubkey: new PublicKey(provider.getAccount().address),\n          lamports: \"100\",\n        })\n      );\n      this.testTransaction = safeJsonStringify(transaction)\n\n      let result = await provider.signAndSendTransaction(\n        transaction,\n        this.selectedChain\n      );\n      if (typeof result == \"string\") {\n        this.testboc = result;\n      } else {\n        this.testboc = JSON.stringify(result);\n      }\n    },\n\n    async cosmos_signArbitrary() {\n      let provider = new OKXCosmosProvider(window.provider)\n      let message = await provider.signArbitrary(this.selectedChain, provider.getAccount(this.selectedChain).address, \"test cosmos\")\n      if (typeof message == \"string\") {\n        this.testboc = message;\n      } else {\n        let isValid =  await this.cosmos_verifySignArbitrary(provider.getAccount(this.selectedChain).address,\"test cosmos\",message.signature, message.pub_key.value)\n        console.log(\"verify\",isValid)\n        this.testboc = \"verify:\" + isValid + JSON.stringify(message);\n      }\n    },\n\n    async cosmos_verifySignArbitrary(signer, data, signature, pubkey) {\n      try {\n        console.log(\"cosmos_verifySignArbitrary signer:\",signer)\n        console.log(\"cosmos_verifySignArbitrary data:\",JSON.stringify(data))\n        console.log(\"cosmos_verifySignArbitrary signature:\",signature)\n        console.log(\"cosmos_verifySignArbitrary pubkey:\",pubkey)\n\n        // 将bech32地址转换为公钥\n        const {prefix: prefixStr} = fromBech32(signer)\n\n        const signatureBuffer = Buffer.from(signature, 'base64');\n\n        const uint8Signature = new Uint8Array(signatureBuffer); // Convert the buffer to an Uint8Array\n\n        const pubKeyValueBuffer = Buffer.from(pubkey, 'base64'); // Decode the base64 encoded value\n\n        const pubKeyUint8Array = new Uint8Array(pubKeyValueBuffer); // Convert the buffer to an Uint8Array\n\n        // 验证签名\n        return await verifyADR36Amino(\n            prefixStr,\n            signer,\n            data,\n            pubKeyUint8Array,\n            uint8Signature\n        )\n      } catch (err) {\n        console.error('Verification failed:', err)\n        return false\n      }\n    },\n\n    async cosmos_signAmino(){\n      let provider = new OKXCosmosProvider(window.provider)\n      // const rpcUrl = 'https://osmosis-rpc.publicnode.com:443';\n      // const client = await StargateClient.connect(rpcUrl);\n      // const height = await client.getHeight();\n      // let address = provider.getAccount(this.selectedChain).address\n      // const sequence = await client.getSequence(address)\n\n      // let transaction = await CosmosUtils.getTransaction(provider.getAccount(this.selectedChain).address, this.selectedChain.split(\":\")[1])\n      // let signDoc = makeSignDoc(\n      //     transaction.msgs,\n      //     transaction.fee,\n      //     this.selectedChain.split(\":\")[1],\n      //     transaction.memo,\n      //     transaction.accountNumber,\n      //     transaction.sequence,\n      // )\n      let signDoc = {\n        \"chain_id\": \"osmosis-1\",\n        \"account_number\": \"630104\",\n        \"sequence\": \"480\",\n        \"fee\": {\"gas\": \"683300\", \"amount\": [{\"denom\": \"uosmo\", \"amount\": \"2818\"}]},\n        \"msgs\": [{\n          \"type\": \"osmosis/poolmanager/swap-exact-amount-in\",\n          \"value\": {\n            \"sender\": \"osmo1u6lts9ng4etxj0zdaxsada6zgl8dudpgelmuyu\",\n            \"routes\": [{\n              \"pool_id\": \"1096\",\n              \"token_out_denom\": \"ibc/987C17B11ABC2B20019178ACE62929FE9840202CE79498E29FE8E5CB02B7C0A4\"\n            }, {\n              \"pool_id\": \"611\",\n              \"token_out_denom\": \"ibc/27394FB092D2ECCD56123C74F36E4C1F926001CEADA9CA97EA622B25F41E5EB2\"\n            }],\n            \"token_in\": {\"denom\": \"uosmo\", \"amount\": \"100\"},\n            \"token_out_min_amount\": \"8\"\n          }\n        }],\n        \"memo\": \"FE\",\n        \"timeout_height\": \"23603788\",\n        \"signOptions\": {\n          \"useOneClickTrading\": false,\n          \"preferNoSetFee\": true,\n          \"fee\": {\"gas\": \"683300\", \"amount\": [{\"denom\": \"uosmo\", \"amount\": \"2818\"}]}\n        }\n      }\n\n\n\n\n\n\n\n      // let signOption = {\n      //   memo: true, // optional\n      //   fee: true, // optional\n      //   gasRate: {\n      //     // optional\n      //     average: \"0.2\",\n      //     low: \"0.02\",\n      //     tiny: \"0.002\",\n      //   },\n      // }\n      this.testTransaction = safeJsonStringify(signDoc)\n      let res = await provider.signAmino(this.selectedChain, provider.getAccount(this.selectedChain).address, signDoc)\n\n      if (typeof res == \"string\") {\n        this.testboc = res;\n      } else {\n\n        // let tx = await CosmosUtils.getCosmosSignedTx(res.signature.signature, provider.getAccount(this.selectedChain).address, provider.getAccount(this.selectedChain).pubKey, signDoc)\n        // await CosmosUtils.sendCosmosTransaction(tx)\n        this.testboc = JSON.stringify(res);\n      }\n    },\n\n    messageToBuffer(message) {\n      var buffer = Buffer.from([]);\n      try {\n        if (typeof message === \"string\") {\n          buffer = Buffer.from(message.replace(\"0x\", \"\"), \"hex\");\n        } else {\n          buffer = Buffer.from(message);\n        }\n      } catch (err) {\n        console.log(`messageToBuffer error: ${err}`);\n      }\n      return buffer;\n    },\n\n\n\n    async cosmos_signDirect() {\n      let provider = new OKXCosmosProvider(window.provider)\n\n      let signDoc = {\n        \"bodyBytes\": this.messageToBuffer(\"0x0ac1010a292f6962632e6170706c69636174696f6e732e7472616e736665722e76312e4d73675472616e736665721293010a087472616e7366657212096368616e6e656c2d301a0d0a05756f736d6f120431303030222b6f736d6f3175366c7473396e67346574786a307a64617873616461367a676c386475647067656c6d7579752a2d636f736d6f733175366c7473396e67346574786a307a64617873616461367a676c386475647067337967766a773207080410ebe3f90a3880b0bcafd18cec8218\"),\n        \"authInfoBytes\": this.messageToBuffer(\"0x0a510a460a1f2f636f736d6f732e63727970746f2e736563703235366b312e5075624b657912230a2102446e19e94ac0e83ea896d2712507577eb39fbdd2d6ae9f0fc0b9759f1fbaba9012040a02080118e00312140a0e0a05756f736d6f1205323530303010859a11\"),\n        \"chainId\": \"osmosis-1\",\n        \"accountNumber\": \"630104\",\n      }\n\n      // let transaction = await CosmosUtils.getTransaction(provider.getAccount(this.selectedChain).address, this.selectedChain.split(\":\")[1])\n      this.testTransaction = safeJsonStringify(signDoc)\n      let res = await provider.signDirect(this.selectedChain, provider.getAccount(this.selectedChain).address, signDoc)\n      if (typeof res == \"string\") {\n        this.testboc = res;\n      } else {\n        // let tx = await CosmosUtils.getCosmosSignedTx(res.signature.signature, provider.getAccount(this.selectedChain).address, provider.getAccount(this.selectedChain).pubKey, transaction)\n        // await CosmosUtils.sendCosmosTransaction(tx)\n        this.testboc = JSON.stringify(res);\n      }\n    },\n\n    sui_generateTransactionParams(params, flag) {\n      this.testTransaction = JSON.stringify(params)\n      this.currentSuiTransaction = params\n      this.currentSuiMethod = flag\n    },\n\n    btc_generateTransactionParams(params, flag) {\n      this.testTransaction = JSON.stringify(params)\n      this.currentBtcTransaction = params\n      this.currentBtcMethod = flag\n      console.log(\"参数是: \", params)\n      console.log(\"flag: \", flag)\n    },\n\n    fractal_generateTransactionParams(params, flag) {\n      this.testTransaction = JSON.stringify(params)\n      this.currentFractalTransaction = params\n      this.currentFractalMethod = flag\n      console.log(\"参数是: \", params)\n      console.log(\"flag: \", flag)\n    },\n    tron_getTransactionResult(result) {\n      if (typeof result == \"string\") {\n        this.testboc = result\n      } else {\n        this.testboc = JSON.stringify(result)\n      }\n    },\n    tron_generateTransactionParams(params){\n      if (typeof params == \"string\") {\n        this.testTransaction = params\n      } else {\n        this.testTransaction = JSON.stringify(params)\n      }\n    },\n    handleModalsSelect(modals) {\n      selectedModals = modals;\n      if (this.withUI) {\n        window.provider.uiOptions = {\n          actionsConfiguration: {\n            returnStrategy: selectedReturnStrategy,\n            modals: modals.length === 3 ? \"all\" : modals,\n          },\n          language: selectedLanguage,\n          uiPreferences: {\n            theme: selectedTheme,\n          },\n        };\n      }\n    },\n\n    handleReturnStrategySelect(returnStrategy) {\n      selectedReturnStrategy = returnStrategy === \"deeplink\" ? this.deeplink : returnStrategy;\n\n      if (this.withUI) {\n        window.provider.uiOptions = {\n          actionsConfiguration: {\n            returnStrategy: selectedReturnStrategy,\n            modals: selectedModals.length === 3 ? \"all\" : selectedModals,\n          },\n          language: selectedLanguage,\n          uiPreferences: {\n            theme: selectedTheme,\n          },\n        };\n      } else {\n        if (window.provider.sessionConfig) {\n          window.provider.sessionConfig.redirect = selectedReturnStrategy;\n        } else {\n          window.provider.sessionConfig = {\n            redirect: selectedReturnStrategy\n          };\n        }\n      }\n    },\n\n    handleReturnStrategyDeeplink(deeplink) {\n      console.log('handleReturnStrategyDeeplink', deeplink)\n      selectedReturnStrategy = deeplink;\n\n      if (this.withUI) {\n        window.provider.uiOptions = {\n          actionsConfiguration: {\n            returnStrategy: deeplink,\n            modals: selectedModals.length === 3 ? \"all\" : selectedModals,\n          },\n          language: selectedLanguage,\n          uiPreferences: {\n            theme: selectedTheme,\n          },\n        };\n      } else {\n        if (window.provider.sessionConfig) {\n          window.provider.sessionConfig.redirect = deeplink;\n        } else {\n          window.provider.sessionConfig = {\n            redirect: deeplink\n          };\n        }\n      }\n    },\n\n    handleLanguageSelect(language) {\n      selectedLanguage = language;\n      if (this.withUI) {\n        window.provider.uiOptions = {\n          actionsConfiguration: {\n            returnStrategy: selectedReturnStrategy,\n            modals: selectedModals.length === 3 ? \"all\" : selectedModals,\n          },\n          language: language,\n          uiPreferences: {\n            theme: selectedTheme,\n          },\n        };\n      }\n    },\n    handleConnectMethodsSelect() {\n      console.log(\"当前的方法 this.selectedMethod>>>>\",this.selectedMethod);\n    },\n\n    eth_verifyMessage(message, signature,ethAddress) {\n      console.log(\"eth_verifyMessage   message>>>\",message)\n      console.log(\"eth_verifyMessage   signature>>>\",signature)\n      console.log(\"eth_verifyMessage   ethAddress>>>\",ethAddress)\n      if (!message || !signature){\n        return \"\"\n      }\n      let originalMessage = message\n      if (message.startsWith(\"0x\")){\n        originalMessage = originalMessage.replace(/^0x/, '');\n        let str = '';\n        for (let i = 0; i < originalMessage.length; i += 2) {\n          const byte = originalMessage.slice(i, i + 2);\n          str += String.fromCharCode(parseInt(byte, 16));\n        }\n        originalMessage = str\n      }\n      console.log(\"eth_verifyMessage   originalMessage>>>\",originalMessage)\n\n      // const messageHash = ethers.utils.hashMessage(originalMessage);\n      const recoveredAddress = ethers.utils.verifyMessage(originalMessage, signature);\n      console.log(\"eth_verifyMessage recoveredAddress:\", recoveredAddress);\n      return recoveredAddress.toLowerCase() === ethAddress.toLowerCase();\n    },\n\n    async verifyMessage(list){ //连接验签\n\n        if (window.provider && window.provider.session && list && list.length>0){\n          let verifyList = {}\n          for (let methodItem of list){\n            if (\"result\" in methodItem && \"method\" in methodItem){\n              let requestItme = this.selectedMethodData.filter(item => item.method === methodItem.method)[0];\n              console.log(\"验证签名 请求>>>:\", JSON.stringify(requestItme));\n              console.log(\"验证签名 结果>>>:\", JSON.stringify(methodItem));\n              if (methodItem.method === \"personal_sign\"){\n                let ethAddress = await window.provider.request({ method: \"eth_requestAccounts\" },methodItem.chainId)\n                ethAddress = ethAddress[0];\n                console.log(\"验证eth 钱包地址>>>:\", ethAddress);\n                let ethMessage = requestItme.params[0]\n                console.log(\"验证eth 签名消息体>>:\", JSON.stringify(ethMessage));\n                verifyList[methodItem.method] = this.eth_verifyMessage(ethMessage,methodItem.result,ethAddress)\n              }else if(methodItem.method === \"solana_signMessage\"){\n                let solanaMessage = methodItem.result\n                if (\"signature\" in solanaMessage && \"publicKey\" in solanaMessage){\n                  const verifySol = nacl.sign.detached.verify(\n                      new TextEncoder().encode(\"Hello Solana\"),\n                      solanaMessage.signature,\n                      new PublicKey(solanaMessage.publicKey).toBytes()\n                  );\n                  verifyList[methodItem.method] = verifySol\n                }else {\n                  verifyList[methodItem.method] = false\n                }\n              }else if(methodItem.method === \"sui_signPersonalMessage\" || methodItem.method === \"sui_signMessage\"){\n                let suiResult =  this.sui_verifySignature(methodItem.result);\n                  verifyList[methodItem.method] = (await suiResult).result\n              }else if(methodItem.method === \"btc_signMessage\"){\n\n                verifyList[methodItem.method] = \"Not verified yet\"\n\n              }else if(methodItem.method === \"aptos_signMessage\"){\n                let aptosMessage = methodItem.result\n                let aptosProvider = new OKXAptosProvider(window.provider)\n                let  aptosPublicKey  = aptosProvider.getAccount(methodItem.chainId)?.publicKey\n\n                let signStr = aptosMessage.signature\n                if (signStr.startsWith(\"0x\")) {\n                  signStr = signStr.slice(2, signStr.length)\n                }\n\n                console.log(\"aptos_signMessage aptosPublicKey And signStr\",aptosPublicKey,signStr)\n                verifyList[methodItem.method] = nacl.sign.detached.verify(\n                    Buffer.from(aptosMessage.fullMessage),\n                    Buffer.from(signStr, 'hex'),\n                    Buffer.from(aptosPublicKey, 'hex'),\n                );\n              }else if(methodItem.method === \"cosmos_signArbitrary\"){\n                let cosmosProvider = new OKXCosmosProvider(window.provider)\n                let cosmosAddress = cosmosProvider.getAccount(methodItem.chainId)?.address\n                let cosmosMessage = methodItem.result\n                let isValid =  await this.cosmos_verifySignArbitrary(cosmosAddress,\"test cosmos\",cosmosMessage.signature, cosmosMessage.pub_key.value)\n                verifyList[methodItem.method] = isValid\n\n              }else if (methodItem.method === \"tron_signMessage\") {\n                let tronMessage = methodItem.result\n                let tronWeb = new TronWeb({\n                  \"fullHost\": 'https://api.trongrid.io',\n                  \"headers\": {},\n                  \"privateKey\": ''\n                })\n                let provider = new OKXTronProvider(window.provider)\n                verifyList[methodItem.method] = await tronWeb.trx.verifyMessage(\"0x\" + Buffer.from(\"Hello Tron\").toString(\"hex\"), tronMessage, provider.getAccount(\"tron:mainnet\").address)\n              } else if (methodItem.method === \"tron_signMessageV2\") {\n                let tronMessage = methodItem.result\n                let tronWeb = new TronWeb({\n                  \"fullHost\": 'https://api.trongrid.io',\n                  \"headers\": {},\n                  \"privateKey\": ''\n                })\n                const base58Address = await tronWeb.trx.verifyMessageV2(\"Hello Tron\", tronMessage);\n                let provider = new OKXTronProvider(window.provider)\n\n                verifyList[methodItem.method] = base58Address === provider.getAccount(\"tron:mainnet\").address\n              }\n              else {\n                verifyList[methodItem.method] = \"Not verified yet\"\n\n              }\n            }else if(\"method\" in methodItem && \"error\" in methodItem) {\n              verifyList[methodItem.method] = methodItem.error\n            }\n\n          }\n\n          console.log(\"验证签名 最后的结果>>>:\", JSON.stringify(verifyList));\n          this.testTransaction = \"签名验证结果如下: \\n\" + JSON.stringify(verifyList)\n        }else {\n          console.log(\"验证签名 window.provider.session.connectMethodsReply 为空:\");\n\n        }\n\n    },\n\n    handleThemeSelect(theme) {\n      selectedTheme = theme;\n      if (this.withUI) {\n        window.provider.uiOptions = {\n          actionsConfiguration: {\n            returnStrategy: selectedReturnStrategy,\n            modals: selectedModals.length === 3 ? \"all\" : selectedModals,\n          },\n          language: selectedLanguage,\n          uiPreferences: {\n            theme: theme,\n          },\n        };\n      }\n    },\n\n    async sui_verifySignature(signatureResult) {\n      let resultObj = signatureResult\n      let result = false\n      let msg = ''\n      try {\n        /// 获取当前account\n        const adapter = new SuiAdapter(window.provider);\n        let account = adapter.getAccount()\n        console.log(`Account中获取的address：${account.address}`)\n\n        /// 验证签名\n        let pubKey = await verifyPersonalMessageSignature(this.currentSuiTransaction.message, resultObj.signature)\n        let address = pubKey.toSuiAddress()\n        console.log(`验签结果计算得到address：${address}`)\n\n        /// 对比pubKey\n        console.log(`account pubkey: ${account.publicKey}`,)\n        console.log(`result pubkey: ${pubKey.toBase64()}`)\n        result = (account.address === address) && (account.publicKey === pubKey.toBase64())\n\n        msg = `address verify: ${account.address === address}\\npublicKey verify: ${account.publicKey === pubKey.toBase64()}`\n        console.log(\"signature verify success: \", pubKey)\n      } catch (e) {\n        console.log(\"signature verify failed: \", e)\n      }\n      return {\n        result,\n        msg\n      }\n    },\n\n\n    handleRedirectSelect(input) {\n      this.redirect = input;\n    },\n\n    handleRedirectDeeplink(input) {\n      this.redirectDeeplink = input;\n    },\n\n    addRedirectParam() {\n      if (this.testTransaction) {\n        const newTransaction = JSON.parse(this.testTransaction);\n        newTransaction.redirect = this.redirect === 'deeplink' ? this.redirectDeeplink : this.redirect;\n        this.testTransaction = JSON.stringify(newTransaction);\n      }\n    },\n\n    canChainAddRedirectParam() {\n      return chainsThatCanAddRedirectParam.some((c) => this.selectedChain.startsWith(c));\n    }\n  },\n  created() {\n    // for (const eventName of Object.values(OKX_TON_CONNECTION_AND_TRANSACTION_EVENT)) {\n    //   console.log(eventName);\n    //   window.addEventListener(eventName, (event) => {\n    //     console.log(eventName,event.detail)\n    //     this.currentStatus = eventName\n    //   });\n    // }\n  },\n\n  mounted() {\n\n    var scriptTag = document.createElement(\"script\");\n    scriptTag.src = \"https://telegram.org/js/telegram-web-app.js\";\n    scriptTag.id = \"tgsdk\";\n    document.getElementsByTagName('head')[0].appendChild(scriptTag);\n\n    this.connectReady = true;\n    document.title = \"OKX Connect\";\n    this.initBtnClicked()\n  },\n};\n</script>\n","<template>\n  <el-row :gutter=\"12\">\n    <el-col :span=\"24\">\n      <el-button class=\"grid-content\" type=\"warning\" @click=\"btc_signMessage()\">signMessage(BTC)</el-button>\n    </el-col>\n    <div class=\"line\"></div>\n    <el-col :span=\"24\">\n      <div style=\"font-size: 12px; color: gray;\">(发送到Pattern测试钱包的legacy地址)</div>\n      <el-input class=\"grid-content\" v-model=\"sendAmount\" clearable placeholder=\"请输入要发送的数量\" />\n      <el-button class=\"grid-content\" type=\"warning\" @click=\"btc_send()\">send(BTC)</el-button>\n      <br>\n      <el-input class=\"grid-content\" v-model=\"sendSatoshisAmount\" clearable placeholder=\"请输入要发送的satoshi数量\" />\n      <el-button class=\"grid-content\" type=\"warning\" @click=\"btc_sendBitcoin()\">sendBitcoin(BTC)</el-button>\n    </el-col>\n    <div class=\"line\"></div>\n    <el-col :span=\"24\">\n      <el-input class=\"grid-content\" v-model=\"psbtHex\" clearable placeholder=\"请输入要签名的Psbt\" />\n      <el-button class=\"grid-content\" type=\"warning\" @click=\"btc_signPsbt_up()\">signPsbt(上架NFT)</el-button>\n      <br>\n      <el-button class=\"grid-content\" type=\"warning\"\n        @click=\"btc_signAndPushPsbt_up()\">signAndPushPsbt(上架NFT)</el-button>\n      <br>\n      <div style=\"font-size: 12px;margin-top: 12px; margin-left: 4px; color: gray; text-align: left;\">\n        <li>\n          1. 在OKX App选择要上架的Btc NFT，点击【上架】\n        </li>\n        <li>\n          2. 弹出签名面板，点开高级选项，查看\n        </li>\n        <li>\n          3. 单击复制，就可以得到psbt。然后退出上架流程。\n        </li>\n        <li>\n          4. 验证 https://chainquery.com/bitcoin-cli/decodepsbt\n        </li>\n      </div>\n    </el-col>\n    <div class=\"line\"></div>\n    <el-col :span=\"24\">\n      <el-input class=\"grid-content\" v-model=\"nftId\" clearable placeholder=\"请输入要转移的NFT ID\" />\n      <el-input class=\"grid-content\" v-model=\"receiver\" clearable placeholder=\"接收者钱包地址\" />\n      <el-button class=\"grid-content\" type=\"warning\" @click=\"btc_sendInscription()\">sendInscription(BTC)</el-button>\n      <div style=\"font-size: 12px;margin-top: 12px; margin-left: 4px; color: gray; text-align: left;\">\n        <li>\n          1. 在web端NFT界面，选择要发送的Btc NFT，打开详情\n        </li>\n        <li>\n          2. 从NFT详情页URL中获取NFT id（url最后一部分）\n        </li>\n        <li>\n          3. 复制到上面输入框中，再点击sendInscription按钮\n        </li>\n      </div>\n    </el-col>\n  </el-row>\n</template>\n\n<script>\nimport { ref } from 'vue';\n\nexport default {\n  name: 'BtcTransactionPanel',\n  props: {\n    msg: String\n  },\n  setup() {\n    const nftId = ref('')\n    const sendAmount = ref(0.000015)\n    const sendSatoshisAmount = ref(17100)\n    const psbtHex = ref('')\n    const receiver = ref('')\n    return {\n      nftId,\n      receiver,\n      psbtHex,\n      sendAmount,\n      sendSatoshisAmount\n    }\n  },\n  methods: {\n    btc_signMessage() {\n      let params = {\n        from: \"bc1p7pgnqe87red4cvd7ml6rh9pl9ufpr522k2y3dpeyrvfc6g2g3r3s3ae9dr\",\n        signStr: \"Welcome to BTC\"\n      };\n      this.$emit('generateTransactionParams', params, \"btc_signMessage\")\n    },\n\n    btc_send() {\n      if (this.sendAmount == 0) {\n        alert(\"不能为零\")\n        return\n      }\n      let params = {\n        from: '',\n        to: '1NKnZ3uAuQLnmExA3WY44u1efwCgTiAxBn', // pattern测试钱包的legacy地址\n        value: `${this.sendAmount}`\n      }\n      this.$emit('generateTransactionParams', params, \"btc_send\")\n    },\n\n    btc_sendBitcoin() {\n      if (this.sendAmount == 0) {\n        alert(\"不能为零\")\n        return\n      }\n\n      let params = {\n        from: '',\n        toAddress: '1NKnZ3uAuQLnmExA3WY44u1efwCgTiAxBn', // pattern测试钱包的legacy地址\n        satoshis: `${this.sendSatoshisAmount}`,\n        options: {\n          feeRate: 16\n        }\n      }\n      this.$emit('generateTransactionParams', params, \"btc_sendBitcoin\")\n    },\n\n    btc_signPsbt_up() {\n      if (!this.psbtHex) {\n        alert(\"请输入psbt\")\n        return\n      }\n      this.$emit('generateTransactionParams', {\n        psbtHex: this.psbtHex,\n        options: {\n          autoFinalized: false\n        }\n      }, \"btc_signPsbt\")\n    },\n\n    btc_signAndPushPsbt_up() {\n      if (!this.psbtHex) {\n        alert(\"请输入psbt\")\n        return\n      }\n      this.$emit('generateTransactionParams', {\n        psbtHex: this.psbtHex,\n        options: {\n          autoFinalized: true\n        }\n      }, \"btc_signAndPushPsbt\")\n    },\n\n    btc_sendInscription() {\n      if (!this.nftId) {\n        alert(\"请输入NFT ID\")\n        return\n      }\n\n      if (!this.receiver) {\n        alert(\"请输入接收者地址\")\n        return\n      }\n\n      this.$emit('generateTransactionParams', {\n        address: this.receiver,\n        inscriptionId: this.nftId,\n        options: {\n          feeRate: \"15\"\n        }\n      }, \"btc_sendInscription\")\n    }\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n.grid-content {\n  margin-top: 8px;\n  height: 40px;\n  width: 100%;\n}\n\n.line {\n  height: 2px;\n  width: 100%;\n  margin: 20px 0px;\n  background-color: gray;\n}\n</style>\n","import { render } from \"./BtcTransactionPanel.vue?vue&type=template&id=b2c51436&scoped=true\"\nimport script from \"./BtcTransactionPanel.vue?vue&type=script&lang=js\"\nexport * from \"./BtcTransactionPanel.vue?vue&type=script&lang=js\"\n\nimport \"./BtcTransactionPanel.vue?vue&type=style&index=0&id=b2c51436&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-b2c51436\"]])\n\nexport default __exports__","<template>\n  <el-row :gutter=\"12\">\n    <el-col :span=\"24\">\n      <el-button class=\"grid-content\" type=\"warning\" @click=\"fractal_signMessage()\">signMessage(Fractal)</el-button>\n    </el-col>\n    <div class=\"line\"></div>\n    <el-col :span=\"24\">\n      <div style=\"font-size: 12px; color: gray;\">(发送到Pattern测试钱包的legacy地址)</div>\n      <el-input class=\"grid-content\" v-model=\"sendAmount\" clearable placeholder=\"请输入要发送的数量\" />\n      <el-button class=\"grid-content\" type=\"warning\" @click=\"fractal_send()\">send(Fractal)</el-button>\n      <br>\n      <el-input class=\"grid-content\" v-model=\"sendSatoshisAmount\" clearable placeholder=\"请输入要发送的satoshi数量\" />\n      <el-button class=\"grid-content\" type=\"warning\" @click=\"fractal_sendBitcoin()\">sendBitcoin(Fractal)</el-button>\n\n    </el-col>\n    <div class=\"line\"></div>\n    <el-col :span=\"24\">\n      <el-input class=\"grid-content\" v-model=\"psbtHex\" clearable placeholder=\"请输入要签名的Psbt\" />\n      <el-button class=\"grid-content\" type=\"warning\" @click=\"fractal_signPsbt_up()\">signPsbt(上架NFT)</el-button>\n      <br>\n      <el-button class=\"grid-content\" type=\"warning\"\n        @click=\"fractal_signAndPushPsbt_up()\">signAndPushPsbt(上架NFT)</el-button>\n      <br>\n      <div style=\"font-size: 12px;margin-top: 12px; margin-left: 4px; color: gray; text-align: left;\">\n        <li>\n          1. 在OKX App选择要上架的Fractal NFT，点击【上架】\n        </li>\n        <li>\n          2. 弹出签名面板，点开高级选项，查看\n        </li>\n        <li>\n          3. 单击复制，就可以得到psbt。然后退出上架流程。\n        </li>\n        <li>\n          4. 验证 https://chainquery.com/bitcoin-cli/decodepsbt\n        </li>\n      </div>\n    </el-col>\n    <div class=\"line\"></div>\n    <el-col :span=\"24\">\n      <el-input class=\"grid-content\" v-model=\"nftId\" clearable placeholder=\"请输入要转移的NFT ID\" />\n      <el-input class=\"grid-content\" v-model=\"receiver\" clearable placeholder=\"接收者钱包地址\" />\n      <el-button class=\"grid-content\" type=\"warning\"\n        @click=\"fractal_sendInscription()\">sendInscription(Fractal)</el-button>\n      <div style=\"font-size: 12px;margin-top: 12px; margin-left: 4px; color: gray; text-align: left;\">\n        <li>\n          1. 在web端NFT界面，选择要发送的Fractal NFT，打开详情\n        </li>\n        <li>\n          2. 从NFT详情页URL中获取NFT id（url最后一部分）\n        </li>\n        <li>\n          3. 复制到上面输入框中，再点击sendInscription按钮\n        </li>\n      </div>\n    </el-col>\n  </el-row>\n</template>\n\n<script>\nimport { ref } from 'vue';\n\nexport default {\n  name: 'BtcTransactionPanel',\n  props: {\n    msg: String\n  },\n  setup() {\n    const nftId = ref('')\n    const sendAmount = ref(0.000015)\n    const sendSatoshisAmount = ref(17100)\n    const psbtHex = ref('')\n    const receiver = ref('')\n    return {\n      nftId,\n      receiver,\n      psbtHex,\n      sendAmount,\n      sendSatoshisAmount\n    }\n  },\n  methods: {\n    fractal_signMessage() {\n      let params = {\n        from: \"bc1p7pgnqe87red4cvd7ml6rh9pl9ufpr522k2y3dpeyrvfc6g2g3r3s3ae9dr\",\n        signStr: \"Welcome to UniSat!\\n\\nClick to sign in and accept the UniSat Terms of Service (https://unisat.io/terms-of-service.html) and Privacy Policy (https://unisat.io/privacy-policy.html).\\n    \\nThis request will not trigger a blockchain transaction.\\n    \\nYour authentication status will reset after 24 hours.\\n    \\nWallet address:\\nbc1p7pgnqe87red4cvd7ml6rh9pl9ufpr522k2y3dpeyrvfc6g2g3r3s3ae9dr\\n    \\nNonce:\\n162d70e3-8c21-4cfd-9a22-9bf0a4b7be51\\n\"\n      };\n      this.$emit('generateTransactionParams', params, \"fractal_signMessage\")\n    },\n\n    fractal_send() {\n      if (this.sendAmount == 0) {\n        alert(\"不能为零\")\n        return\n      }\n      let params = {\n        from: '',\n        to: '1NKnZ3uAuQLnmExA3WY44u1efwCgTiAxBn', // pattern测试钱包的legacy地址\n        value: `${this.sendAmount}`\n      }\n      this.$emit('generateTransactionParams', params, \"fractal_send\")\n    },\n\n    fractal_sendBitcoin() {\n      if (this.sendAmount == 0) {\n        alert(\"不能为零\")\n        return\n      }\n\n      let params = {\n        from: '',\n        toAddress: '1NKnZ3uAuQLnmExA3WY44u1efwCgTiAxBn', // pattern测试钱包的legacy地址\n        satoshis: `${this.sendSatoshisAmount}`,\n        options: {\n          feeRate: 16\n        }\n      }\n      this.$emit('generateTransactionParams', params, \"fractal_sendBitcoin\")\n    },\n\n    fractal_signPsbt_up() {\n      if (!this.psbtHex) {\n        alert(\"请输入psbt\")\n        return\n      }\n      this.$emit('generateTransactionParams', {\n        psbtHex: this.psbtHex,\n        options: {\n          autoFinalized: false\n        }\n      }, \"fractal_signPsbt\")\n    },\n\n    fractal_signAndPushPsbt_up() {\n      if (!this.psbtHex) {\n        alert(\"请输入psbt\")\n        return\n      }\n      this.$emit('generateTransactionParams', {\n        psbtHex: this.psbtHex,\n        options: {\n          autoFinalized: true\n        }\n      }, \"fractal_signAndPushPsbt\")\n    },\n\n    fractal_sendInscription() {\n      if (!this.nftId) {\n        alert(\"请输入NFT ID\")\n        return\n      }\n\n      if (!this.receiver) {\n        alert(\"请输入接收者地址\")\n        return\n      }\n\n      this.$emit('generateTransactionParams', {\n        address: this.receiver,\n        inscriptionId: this.nftId,\n        options: {\n          feeRate: \"15\"\n        }\n      }, \"fractal_sendInscription\")\n    }\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n.grid-content {\n  margin-top: 8px;\n  height: 40px;\n  width: 100%;\n}\n\n.line {\n  height: 2px;\n  width: 100%;\n  margin: 20px 0px;\n  background-color: gray;\n}\n</style>\n","import { render } from \"./FractalTransactionPanel.vue?vue&type=template&id=02b5b8a5&scoped=true\"\nimport script from \"./FractalTransactionPanel.vue?vue&type=script&lang=js\"\nexport * from \"./FractalTransactionPanel.vue?vue&type=script&lang=js\"\n\nimport \"./FractalTransactionPanel.vue?vue&type=style&index=0&id=02b5b8a5&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-02b5b8a5\"]])\n\nexport default __exports__","<script>\n\nimport {getFullnodeUrl, SuiClient} from \"@mysten/sui/client\";\nimport {Transaction as SuiTransaction} from '@mysten/sui/transactions';\n\nexport default {\n  name: \"SuiTransactionPanel\",\n  methods: {\n    sui_getAccount() {\n      this.$emit('generateTransactionParams', '', \"sui_getAccount\")\n    },\n\n    //对单个交易签名（不发送)\n    async sui_signMessage() {\n      const data = [\n        76, 111, 103, 105, 110, 32, 119, 105, 116, 104, 32, 66, 108, 117, 101,\n        109, 111, 118, 101,\n      ];\n      const uint8Array = new Uint8Array(data);\n      let input = {\n        message: uint8Array,\n      };\n      this.$emit(\"generateTransactionParams\", input, \"sui_signMessage\")\n    },\n\n    async sui_signPersonalMessage() {\n      const data = [\n        76, 111, 103, 105, 110, 32, 119, 105, 116, 104, 32, 66, 108, 117, 101,\n        109, 111, 118, 101,\n      ];\n      const uint8Array = new Uint8Array(data);\n      let input = {\n        message: uint8Array,\n      };\n      this.$emit(\"generateTransactionParams\", input, \"sui_signPersonalMessage\")\n    },\n\n    sui_signTransaction2() {\n      // 定义要转移的金额和目标地址\n      const amount = 109; // 需要转移的金额\n      /// Rally Tiger钱包地址\n      const recipientAddress =\n          \"0x72f798f8b709902453d4bb55c65661e9e04154a506765f2333dfb7e7834056d2\"; // 目标地址\n\n      /// 构造一个转账的交易\n      const tx = new SuiTransaction();\n      const [coin] = tx.splitCoins(tx.gas, [amount]);\n      tx.transferObjects([coin], recipientAddress);\n      const input = {\n        transactionBlock: tx,\n        account: {},\n        chain: \"sui:mainnet\",\n        options: {\n          showEffects: true,\n        },\n      };\n\n      this.$emit(\"generateTransactionParams\", input, \"sui_signTransaction\")\n    },\n\n    async sui_requestRpc() {\n      let provider = window.provider;\n      provider.setDefaultChain(\n          `sui:mainnet`,\n          `https://fullnode.mainnet.sui.io:443`\n      );\n      var data = {\n        method: \"suix_getBalance\",\n        params: [\n          \"0x51ceab2edc89f74730e683ebee65578cb3bc9237ba6fca019438a9737cf156ae\",\n          \"0x168da5bf1f48dafc111b0a488fa454aca95e0b5e::usdc::USDC\",\n        ],\n      };\n\n      this.$emit(\"generateTransactionParams\", data, \"sui_testRpc\")\n    },\n\n    /// 预执行，提前生成txBytes和txSerizalize\n    async sui_signTransaction_pre_execution() {\n      // 定义要转移的金额和目标地址\n      const amount = 102; // 需要转移的金额\n      /// Rally Tiger钱包地址\n      const recipientAddress =\n          \"0x72f798f8b709902453d4bb55c65661e9e04154a506765f2333dfb7e7834056d2\"; // 目标地址\n\n      /// 构造一个转账的交易\n      const tx = new SuiTransaction();\n      const [coin] = tx.splitCoins(tx.gas, [amount]);\n      tx.transferObjects([coin], recipientAddress);\n      const input = {\n        transactionBlock: tx,\n        options: {\n          showEffects: true,\n        },\n      };\n\n      /// 预执行，生成txBytes和txSerialize\n      const [txBytes, txSerialize] = await this.generateTsBytesAndSerizlize(\n          input\n      );\n      input.txBytes = txBytes;\n      input.txSerialize = txSerialize;\n\n      this.$emit(\"generateTransactionParams\", input, \"sui_signTransaction\")\n    },\n\n    /// 预执行，提前生成txBytes和txSerizalize\n    async sui_signAndExecuteTransaction_pre_execution() {\n      // 定义要转移的金额和目标地址\n      const amount = 115; // 需要转移的金额\n      /// Rally Tiger钱包地址\n      const recipientAddress =\n          \"0x72f798f8b709902453d4bb55c65661e9e04154a506765f2333dfb7e7834056d2\"; // 目标地址\n\n      /// 构造一个转账的交易\n      const tx = new SuiTransaction();\n      const [coin] = tx.splitCoins(tx.gas, [amount]);\n      tx.transferObjects([coin], recipientAddress);\n\n      const input = {\n        transactionBlock: tx,\n        options: {\n          showEffects: true,\n        },\n      };\n\n      /// 预执行，生成txBytes和txSerialize\n      const [txBytes, txSerialize] = await this.generateTsBytesAndSerizlize(\n          input\n      );\n      input.txBytes = txBytes;\n      input.txSerialize = txSerialize;\n      this.$emit(\"generateTransactionParams\", input, \"sui_signAndExecuteTransaction\")\n    },\n\n    /// generate txBytes and txSerialize\n    async generateTsBytesAndSerizlize(input) {\n      /// txBytes and txSerialize may be constructed in advance by the dapp side\n      let resultTuple = [\"\", \"\"];\n      if (\n          \"txBytes\" in input &&\n          input.txBytes.length > 0 &&\n          \"txSerialize\" in input &&\n          input.txSerialize.length > 0\n      ) {\n        resultTuple = [input.txBytes, input.txSerialize];\n      }\n\n      /// Otherwise, a transactionBlock parameter is required.\n      if (!(\"transactionBlock\" in input)) {\n        return new Promise((resolve) => {\n          resolve(resultTuple);\n        });\n      }\n\n      // if (this.walletAddress != \"connected\") {\n      //   alert(\"请先连接钱包\");\n      //   return new Promise((resolve) => {\n      //     resolve(resultTuple);\n      //   });\n      // }\n\n      let senderAccounts = window.provider.requestAccountsWithNamespace(\"sui\");\n      if (senderAccounts.length == 0) {\n        return new Promise((resolve) => {\n          resolve(resultTuple);\n        });\n      }\n\n      try {\n        let rpcUrl = getFullnodeUrl(\"mainnet\");\n        rpcUrl = \"https://www.okx.com/fullnode/sui/discover/rpc\"\n        const suiClient = new SuiClient({ url: rpcUrl });\n\n        /// sender is required\n        input.transactionBlock.setSender(senderAccounts[0]);\n        const result = await input.transactionBlock.build({\n          client: suiClient,\n        });\n        const txBytes = Buffer(result).toString(\"base64\");\n        const txSerialize = await SuiTransaction.from(txBytes).toJSON();\n        resultTuple = [txBytes, txSerialize];\n      } catch (error) {\n        return new Promise((resolve) => {\n          resolve(resultTuple);\n        });\n      }\n\n      return new Promise((resolve) => {\n        resolve(resultTuple)\n      })\n    },\n\n    //签名并发送交易\n    sui_signAndExecuteTransaction() {\n      // 定义要转移的金额和目标地址\n      const amount = 115; // 需要转移的金额\n      /// Rally Tiger钱包地址\n      const recipientAddress =\n        \"0x72f798f8b709902453d4bb55c65661e9e04154a506765f2333dfb7e7834056d2\"; // 目标地址\n\n      /// 构造一个转账的交易\n      const tx = new SuiTransaction();\n      const [coin] = tx.splitCoins(tx.gas, [amount]);\n      tx.transferObjects([coin], recipientAddress);\n      const input = {\n        transactionBlock: tx,\n        account: {},\n        chain: \"sui:mainnet\",\n        options: {\n          showEffects: true,\n        },\n      };\n\n      this.testTransaction = JSON.stringify(input);\n      this.currentSuiTransaction = input;\n      this.currentSuiMethod = \"sui_signAndExecuteTransaction\";\n    },\n  },\n}\n</script>\n\n<template>\n  <el-row :gutter=\"12\" class=\"button-row\">\n    <el-col :span=\"24\">\n      <el-button class=\"grid-content\" type=\"primary\" @click=\"sui_getAccount()\">getAccount(Sui)</el-button>\n    </el-col>\n    <el-col :span=\"24\">\n      <el-button class=\"grid-content\" type=\"primary\" @click=\"sui_signMessage()\">signMessage(Sui)</el-button>\n    </el-col>\n    <el-col :span=\"24\">\n      <el-button class=\"grid-content\" type=\"primary\" @click=\"sui_signPersonalMessage()\">signPersonalMessage(Sui)</el-button>\n    </el-col>\n    <el-col :span=\"24\">\n      <el-button class=\"grid-content\" type=\"primary\" @click=\"sui_signTransaction2()\">signTransaction(Sui)</el-button>\n    </el-col>\n\n    <el-col :span=\"24\">\n      <el-button class=\"grid-content\" type=\"primary\" @click=\"sui_signAndExecuteTransaction()\">sendTransaction(Sui)</el-button>\n      <div style=\"font-size: 12px; color: gray;\">(send to Rally Tiger account)</div>\n    </el-col>\n\n    <el-col :span=\"24\">\n      <el-button class=\"grid-content\" type=\"primary\" @click=\"sui_requestRpc()\">RPC_getBalance</el-button>\n      <div style=\"font-size: 12px; color: gray;\">get USDC balance of address:</div>\n      <div style=\"font-size: 12px; color: gray\">0x51ceab2edc89f74730e683ebee65578cb3bc9237ba6fca019438a9737cf156ae</div>\n    </el-col>\n\n    <div class=\"line\"></div>\n    <el-col :span=\"24\">\n      <el-button class=\"grid-content\" type=\"primary\"\n                 @click=\"sui_signTransaction_pre_execution()\">signTransaction(prepared data)</el-button>\n    </el-col>\n\n    <el-col :span=\"24\">\n      <el-button class=\"grid-content\" type=\"primary\"\n                 @click=\"sui_signAndExecuteTransaction_pre_execution()\">sendTransaction(prepared data)</el-button>\n    </el-col>\n  </el-row>\n</template>\n\n<style scoped>\n.grid-content {\n  margin-top: 8px;\n  height: 40px;\n  width: 100%;\n}\n\n.line {\n  height: 2px;\n  width: 100%;\n  margin: 20px 0px;\n  background-color: gray;\n}\n</style>","import { render } from \"./SuiTransactionPanel.vue?vue&type=template&id=56a8eddf&scoped=true\"\nimport script from \"./SuiTransactionPanel.vue?vue&type=script&lang=js\"\nexport * from \"./SuiTransactionPanel.vue?vue&type=script&lang=js\"\n\nimport \"./SuiTransactionPanel.vue?vue&type=style&index=0&id=56a8eddf&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-56a8eddf\"]])\n\nexport default __exports__","<script>\n\n\nimport {OKXTronProvider} from \"@okxconnect/universal-provider\";\nimport {TronWeb} from \"tronweb\";\n\nexport default {\n  name: \"TronTransactionPanel\",\n  methods: {\n\n    async tron_signMessage() {\n      this.$emit(\"generateTransactionParams\", \"Hello Tron\")\n      let provider = new OKXTronProvider(window.provider)\n      let res = await provider.signMessage(\"Hello Tron\", \"tron:mainnet\")\n      if (res.code) {\n        this.$emit(\"generateTransactionResult\", res, \"tron_signMessage\")\n        return\n      }\n      let tronWeb = new TronWeb({\n        \"fullHost\": 'https://api.trongrid.io',\n        \"headers\": {},\n        \"privateKey\": ''\n      })\n\n      const verify = await tronWeb.trx.verifyMessage(\"0x\" + Buffer.from(\"Hello Tron\").toString(\"hex\"), res, provider.getAccount(\"tron:mainnet\").address)\n      this.$emit(\"generateTransactionResult\", \"verify:\" + verify + \"\\n\" + res, \"tron_signMessage\")\n    },\n\n    async tron_signMessageV2() {\n      this.$emit(\"generateTransactionParams\", \"Hello Tron\")\n      let provider = new OKXTronProvider(window.provider)\n      let res = await provider.signMessageV2(\"Hello Tron\", \"tron:mainnet\")\n      if (res.code) {\n        this.$emit(\"generateTransactionResult\", res, \"tron_signMessage\")\n        return\n      }\n      let tronWeb = new TronWeb({\n        \"fullHost\": 'https://api.trongrid.io',\n        \"headers\": {},\n        \"privateKey\": ''\n      })\n      const base58Address = await tronWeb.trx.verifyMessageV2(\"Hello Tron\", res);\n      console.log(\"tron_signMessageV2_base58Address\", base58Address)\n      console.log(\"tron_signMessageV2_address\", provider.getAccount(\"tron:mainnet\").address)\n      const verify = base58Address === provider.getAccount(\"tron:mainnet\").address\n      this.$emit(\"generateTransactionResult\", \"verify:\" + verify + \"\\n\" +  res, \"tron_signMessage\")\n    },\n\n    async tron_signTransaction(isOnlySign) {\n      let provider = new OKXTronProvider(window.provider)\n        let tronWeb = new TronWeb({\n          \"fullHost\": 'https://api.trongrid.io',\n          \"headers\": {},\n          \"privateKey\": ''\n        })\n      let address = provider.getAccount(\"tron:mainnet\").address\n      const transaction = await tronWeb.transactionBuilder.sendTrx(\"TGBcVLMnVtvJzjPWZpPiYBgwwb7th1w3BF\", 1000, address);\n      this.$emit(\"generateTransactionParams\", transaction)\n\n      if (isOnlySign) {\n        let res = await provider.signTransaction( transaction, \"tron:mainnet\")\n        this.$emit(\"generateTransactionResult\", res, \"tron_signTransaction\")\n      } else {\n        let tx = await provider.signAndSendTransaction(transaction,\"tron:mainnet\")\n        this.$emit(\"generateTransactionResult\", tx, \"tron_sendRawTransaction\")\n      }\n    },\n\n    async getContract() {\n      let tronWeb = new TronWeb({\n        \"fullHost\": 'https://api.trongrid.io',\n        \"headers\": {},\n        \"privateKey\": ''\n      })\n      let contractAddress = \"41e95812d8d5b5412d2b9f3a4d5a87ca15c5c51f33\"\n      \n      try {\n        const contract = await tronWeb.trx.getContract(contractAddress)\n        const abi = contract.abi.entrys;\n        console.log(\"获取到的合约：\")\n        console.log(abi)\n      } catch (error) {\n        console.log(\"Error getting contract ABI:\", error);\n      }\n    },\n    \n    async tron_signAndSendTransactionContract(isOnlySign) {\n      // this.getContract()\n      let tronWeb = new TronWeb({\n        \"fullHost\": 'https://api.trongrid.io',\n        \"headers\": {},\n        \"privateKey\": ''\n      })\n      let contractAddress = \"41e95812d8d5b5412d2b9f3a4d5a87ca15c5c51f33\"\n      let provider = new OKXTronProvider(window.provider)\n      let address = provider.getAccount(\"tron:mainnet\").address\n      const parameter = [\n        {type: 'uint256', value: 1},\n        {type: 'uint256', value: 1},\n        {type: 'uint256', value: 1},\n      ]\n      const ret = await tronWeb.transactionBuilder.triggerSmartContract(contractAddress, \"quote(uint256,uint256,uint256)\", {}, parameter, address);\n      console.log(\"=====>transaction: \")\n      console.log(ret);\n      this.$emit(\"generateTransactionParams\", ret.transaction)\n      if (isOnlySign) {\n        let tx = await provider.signTransaction( ret.transaction,\"tron:mainnet\")\n        this.$emit(\"generateTransactionResult\", tx, \"tron_sendRawTransaction\")\n      } else {\n        let tx = await provider.signAndSendTransaction(ret.transaction,\"tron:mainnet\")\n        this.$emit(\"generateTransactionResult\", tx, \"tron_sendRawTransaction\")\n      }\n    },\n\n    async tron_signAndSendTransactionApprove(isOnlySign) {\n      let provider = new OKXTronProvider(window.provider)\n\n      let transaction = {\n        \"visible\": false,\n        \"txID\": \"d1ed31b6abd2c37e248254681d3ee61b2e628fbd776def753b5592712ebd98c5\",\n        \"raw_data\": {\n          \"contract\": [{\n            \"parameter\": {\n              \"value\": {\n                \"data\": \"095ea7b3000000000000000000000000e95812d8d5b5412d2b9f3a4d5a87ca15c5c51f33ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff\",\n                \"owner_address\": \"4157c140be01fa2bbabf7f055ab879d0c05725293c\",\n                \"contract_address\": \"41b4a428ab7092c2f1395f376ce297033b3bb446c1\"\n              },\n              \"type_url\": \"type.googleapis.com/protocol.TriggerSmartContract\"\n            },\n            \"type\": \"TriggerSmartContract\"\n          }],\n          \"ref_block_bytes\": \"1bde\",\n          \"ref_block_hash\": \"af71fa1aa01b5bd1\",\n          \"expiration\": Date.now() + 60000,\n          \"fee_limit\": 250000000,\n          \"timestamp\": Date.now()\n        },\n        \"raw_data_hex\": \"0a021bde2208af71fa1aa01b5bd140f8b1fa98b4325aae01081f12a9010a31747970652e676f6f676c65617069732e636f6d2f70726f746f636f6c2e54726967676572536d617274436f6e747261637412740a154157c140be01fa2bbabf7f055ab879d0c05725293c121541b4a428ab7092c2f1395f376ce297033b3bb446c12244095ea7b3000000000000000000000000e95812d8d5b5412d2b9f3a4d5a87ca15c5c51f33ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff70f1e6f698b432900180e59a77\"\n      }\n      this.$emit(\"generateTransactionParams\", transaction)\n\n      if (isOnlySign) {\n        let tx = await provider.signTransaction(transaction,\"tron:mainnet\")\n        this.$emit(\"generateTransactionResult\", tx, \"tron_sendRawTransaction\")\n      } else {\n        let tx = await provider.signAndSendTransaction(transaction,\"tron:mainnet\")\n        this.$emit(\"generateTransactionResult\", tx, \"tron_sendRawTransaction\")\n      }\n\n    }\n\n  }\n}\n</script>\n\n<template>\n  <el-row :gutter=\"12\" class=\"button-row\">\n    <el-col :span=\"24\">\n      <el-button class=\"grid-content\" type=\"primary\" @click=\"tron_signMessage()\">tron_signMessage</el-button>\n    </el-col>\n    <el-col :span=\"24\">\n      <el-button class=\"grid-content\" type=\"primary\" @click=\"tron_signMessageV2()\">tron_signMessageV2</el-button>\n    </el-col>\n\n    <div class=\"line\"></div>\n\n\n    <el-col :span=\"24\">\n      <el-button class=\"grid-content\" type=\"primary\" @click=\"tron_signTransaction(true)\">\n        tron_signTransaction(transfer)\n      </el-button>\n    </el-col>\n\n    <el-col :span=\"24\">\n      <el-button class=\"grid-content\" type=\"primary\" @click=\"tron_signAndSendTransactionContract(true)\">\n        tron_signTransaction(contract)\n      </el-button>\n    </el-col>\n\n    <el-col :span=\"24\">\n      <el-button class=\"grid-content\" type=\"primary\" @click=\"tron_signAndSendTransactionApprove(true)\">\n        tron_signTransaction(Approve)\n      </el-button>\n    </el-col>\n\n    <div class=\"line\"></div>\n\n\n    <el-col :span=\"24\">\n      <el-button class=\"grid-content\" type=\"primary\" @click=\"tron_signTransaction(false)\">\n        tron_signAndSendTransaction(transfer)\n      </el-button>\n    </el-col>\n\n    <el-col :span=\"24\">\n      <el-button class=\"grid-content\" type=\"primary\" @click=\"tron_signAndSendTransactionContract(false)\">\n        tron_signAndSendTransaction(contract)\n      </el-button>\n    </el-col>\n\n    <el-col :span=\"24\">\n      <el-button class=\"grid-content\" type=\"primary\" @click=\"tron_signAndSendTransactionApprove(false)\">\n        tron_signAndSendTransaction(approve)\n      </el-button>\n    </el-col>\n\n\n  </el-row>\n</template>\n\n<style scoped>\n.grid-content {\n  margin-top: 8px;\n  height: 40px;\n  width: 100%;\n}\n\n.line {\n  height: 2px;\n  width: 100%;\n  margin: 20px 0px;\n  background-color: gray;\n}\n</style>","import { render } from \"./TronTransactionPanel.vue?vue&type=template&id=eaaccc08&scoped=true\"\nimport script from \"./TronTransactionPanel.vue?vue&type=script&lang=js\"\nexport * from \"./TronTransactionPanel.vue?vue&type=script&lang=js\"\n\nimport \"./TronTransactionPanel.vue?vue&type=style&index=0&id=eaaccc08&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-eaaccc08\"]])\n\nexport default __exports__","import { render } from \"./App.vue?vue&type=template&id=28f74715&scoped=true\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=28f74715&scoped=true&lang=css\"\n\nimport exportComponent from \"../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-28f74715\"]])\n\nexport default __exports__","import { createApp } from 'vue'\nimport ElementPlus from 'element-plus'\nimport 'element-plus/dist/index.css'\nimport App from './App.vue'\n\nconst app = createApp(App)\n\napp.use(ElementPlus)\napp.mount('#app')","\"use strict\";\nvar __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a2, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a2, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a2, prop, b[prop]);\n    }\n  return a2;\n};\nvar __spreadProps = (a2, b) => __defProps(a2, __getOwnPropDescs(b));\nvar __objRest = (source, exclude) => {\n  var target = {};\n  for (var prop in source)\n    if (__hasOwnProp.call(source, prop) && exclude.indexOf(prop) < 0)\n      target[prop] = source[prop];\n  if (source != null && __getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(source)) {\n      if (exclude.indexOf(prop) < 0 && __propIsEnum.call(source, prop))\n        target[prop] = source[prop];\n    }\n  return target;\n};\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nvar __async = (__this, __arguments, generator) => {\n  return new Promise((resolve, reject) => {\n    var fulfilled = (value) => {\n      try {\n        step(generator.next(value));\n      } catch (e2) {\n        reject(e2);\n      }\n    };\n    var rejected = (value) => {\n      try {\n        step(generator.throw(value));\n      } catch (e2) {\n        reject(e2);\n      }\n    };\n    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);\n    step((generator = generator.apply(__this, __arguments)).next());\n  });\n};\nvar _a, _b, _c, _d, _e, _f, _g, _i;\nObject.defineProperties(exports, { __esModule: { value: true }, [Symbol.toStringTag]: { value: \"Module\" } });\nconst core = require(\"@okxconnect/core\");\nconst tonsdk = require(\"@okxconnect/tonsdk\");\nconst UAParser = require(\"ua-parser-js\");\nconst cn = require(\"classnames\");\nconst deepmerge = require(\"deepmerge\");\nconst universalProvider = require(\"@okxconnect/universal-provider\");\nconst _interopDefaultLegacy = (e2) => e2 && typeof e2 === \"object\" && \"default\" in e2 ? e2 : { default: e2 };\nconst UAParser__default = /* @__PURE__ */ _interopDefaultLegacy(UAParser);\nconst cn__default = /* @__PURE__ */ _interopDefaultLegacy(cn);\nconst deepmerge__default = /* @__PURE__ */ _interopDefaultLegacy(deepmerge);\nvar THEME = /* @__PURE__ */ ((THEME2) => {\n  THEME2[\"DARK\"] = \"DARK\";\n  THEME2[\"LIGHT\"] = \"LIGHT\";\n  return THEME2;\n})(THEME || {});\nclass OKXConnectUiError extends core.OKXConnectError {\n  constructor(message) {\n    super(1, message);\n  }\n}\nconst sharedConfig = {\n  context: void 0,\n  registry: void 0,\n  effects: void 0,\n  done: false,\n  getContextId() {\n    return getContextId(this.context.count);\n  },\n  getNextContextId() {\n    return getContextId(this.context.count++);\n  }\n};\nfunction getContextId(count) {\n  const num = String(count), len = num.length - 1;\n  return sharedConfig.context.id + (len ? String.fromCharCode(96 + len) : \"\") + num;\n}\nconst equalFn = (a2, b) => a2 === b;\nconst $PROXY = Symbol(\"solid-proxy\");\nconst SUPPORTS_PROXY = typeof Proxy === \"function\";\nconst $TRACK = Symbol(\"solid-track\");\nconst signalOptions = {\n  equals: equalFn\n};\nlet runEffects = runQueue;\nconst STALE = 1;\nconst PENDING = 2;\nconst UNOWNED = {\n  owned: null,\n  cleanups: null,\n  context: null,\n  owner: null\n};\nvar Owner = null;\nlet Transition$1 = null;\nlet ExternalSourceConfig = null;\nlet Listener = null;\nlet Updates = null;\nlet Effects = null;\nlet ExecCount = 0;\nfunction createRoot(fn, detachedOwner) {\n  const listener = Listener, owner = Owner, unowned = fn.length === 0, current = detachedOwner === void 0 ? owner : detachedOwner, root = unowned ? UNOWNED : {\n    owned: null,\n    cleanups: null,\n    context: current ? current.context : null,\n    owner: current\n  }, updateFn = unowned ? fn : () => fn(() => untrack(() => cleanNode(root)));\n  Owner = root;\n  Listener = null;\n  try {\n    return runUpdates(updateFn, true);\n  } finally {\n    Listener = listener;\n    Owner = owner;\n  }\n}\nfunction createSignal(value, options) {\n  options = options ? Object.assign({}, signalOptions, options) : signalOptions;\n  const s2 = {\n    value,\n    observers: null,\n    observerSlots: null,\n    comparator: options.equals || void 0\n  };\n  const setter = (value2) => {\n    if (typeof value2 === \"function\") {\n      value2 = value2(s2.value);\n    }\n    return writeSignal(s2, value2);\n  };\n  return [readSignal.bind(s2), setter];\n}\nfunction createComputed(fn, value, options) {\n  const c2 = createComputation(fn, value, true, STALE);\n  updateComputation(c2);\n}\nfunction createRenderEffect(fn, value, options) {\n  const c2 = createComputation(fn, value, false, STALE);\n  updateComputation(c2);\n}\nfunction createEffect(fn, value, options) {\n  runEffects = runUserEffects;\n  const c2 = createComputation(fn, value, false, STALE);\n  if (!options || !options.render)\n    c2.user = true;\n  Effects ? Effects.push(c2) : updateComputation(c2);\n}\nfunction createMemo(fn, value, options) {\n  options = options ? Object.assign({}, signalOptions, options) : signalOptions;\n  const c2 = createComputation(fn, value, true, 0);\n  c2.observers = null;\n  c2.observerSlots = null;\n  c2.comparator = options.equals || void 0;\n  updateComputation(c2);\n  return readSignal.bind(c2);\n}\nfunction batch(fn) {\n  return runUpdates(fn, false);\n}\nfunction untrack(fn) {\n  if (Listener === null)\n    return fn();\n  const listener = Listener;\n  Listener = null;\n  try {\n    if (ExternalSourceConfig)\n      ;\n    return fn();\n  } finally {\n    Listener = listener;\n  }\n}\nfunction onMount(fn) {\n  createEffect(() => untrack(fn));\n}\nfunction onCleanup(fn) {\n  if (Owner === null)\n    ;\n  else if (Owner.cleanups === null)\n    Owner.cleanups = [fn];\n  else\n    Owner.cleanups.push(fn);\n  return fn;\n}\nfunction getListener() {\n  return Listener;\n}\nfunction getOwner() {\n  return Owner;\n}\nfunction runWithOwner(o2, fn) {\n  const prev = Owner;\n  const prevListener = Listener;\n  Owner = o2;\n  Listener = null;\n  try {\n    return runUpdates(fn, true);\n  } catch (err) {\n    handleError(err);\n  } finally {\n    Owner = prev;\n    Listener = prevListener;\n  }\n}\nfunction createContext(defaultValue, options) {\n  const id = Symbol(\"context\");\n  return {\n    id,\n    Provider: createProvider(id),\n    defaultValue\n  };\n}\nfunction useContext(context) {\n  let value;\n  return Owner && Owner.context && (value = Owner.context[context.id]) !== void 0 ? value : context.defaultValue;\n}\nfunction children(fn) {\n  const children2 = createMemo(fn);\n  const memo = createMemo(() => resolveChildren(children2()));\n  memo.toArray = () => {\n    const c2 = memo();\n    return Array.isArray(c2) ? c2 : c2 != null ? [c2] : [];\n  };\n  return memo;\n}\nfunction readSignal() {\n  if (this.sources && this.state) {\n    if (this.state === STALE)\n      updateComputation(this);\n    else {\n      const updates = Updates;\n      Updates = null;\n      runUpdates(() => lookUpstream(this), false);\n      Updates = updates;\n    }\n  }\n  if (Listener) {\n    const sSlot = this.observers ? this.observers.length : 0;\n    if (!Listener.sources) {\n      Listener.sources = [this];\n      Listener.sourceSlots = [sSlot];\n    } else {\n      Listener.sources.push(this);\n      Listener.sourceSlots.push(sSlot);\n    }\n    if (!this.observers) {\n      this.observers = [Listener];\n      this.observerSlots = [Listener.sources.length - 1];\n    } else {\n      this.observers.push(Listener);\n      this.observerSlots.push(Listener.sources.length - 1);\n    }\n  }\n  return this.value;\n}\nfunction writeSignal(node, value, isComp) {\n  let current = node.value;\n  if (!node.comparator || !node.comparator(current, value)) {\n    node.value = value;\n    if (node.observers && node.observers.length) {\n      runUpdates(() => {\n        for (let i2 = 0; i2 < node.observers.length; i2 += 1) {\n          const o2 = node.observers[i2];\n          const TransitionRunning = Transition$1 && Transition$1.running;\n          if (TransitionRunning && Transition$1.disposed.has(o2))\n            ;\n          if (TransitionRunning ? !o2.tState : !o2.state) {\n            if (o2.pure)\n              Updates.push(o2);\n            else\n              Effects.push(o2);\n            if (o2.observers)\n              markDownstream(o2);\n          }\n          if (!TransitionRunning)\n            o2.state = STALE;\n        }\n        if (Updates.length > 1e6) {\n          Updates = [];\n          if (false)\n            ;\n          throw new Error();\n        }\n      }, false);\n    }\n  }\n  return value;\n}\nfunction updateComputation(node) {\n  if (!node.fn)\n    return;\n  cleanNode(node);\n  const time = ExecCount;\n  runComputation(node, node.value, time);\n}\nfunction runComputation(node, value, time) {\n  let nextValue;\n  const owner = Owner, listener = Listener;\n  Listener = Owner = node;\n  try {\n    nextValue = node.fn(value);\n  } catch (err) {\n    if (node.pure) {\n      {\n        node.state = STALE;\n        node.owned && node.owned.forEach(cleanNode);\n        node.owned = null;\n      }\n    }\n    node.updatedAt = time + 1;\n    return handleError(err);\n  } finally {\n    Listener = listener;\n    Owner = owner;\n  }\n  if (!node.updatedAt || node.updatedAt <= time) {\n    if (node.updatedAt != null && \"observers\" in node) {\n      writeSignal(node, nextValue);\n    } else\n      node.value = nextValue;\n    node.updatedAt = time;\n  }\n}\nfunction createComputation(fn, init, pure, state = STALE, options) {\n  const c2 = {\n    fn,\n    state,\n    updatedAt: null,\n    owned: null,\n    sources: null,\n    sourceSlots: null,\n    cleanups: null,\n    value: init,\n    owner: Owner,\n    context: Owner ? Owner.context : null,\n    pure\n  };\n  if (Owner === null)\n    ;\n  else if (Owner !== UNOWNED) {\n    {\n      if (!Owner.owned)\n        Owner.owned = [c2];\n      else\n        Owner.owned.push(c2);\n    }\n  }\n  return c2;\n}\nfunction runTop(node) {\n  if (node.state === 0)\n    return;\n  if (node.state === PENDING)\n    return lookUpstream(node);\n  if (node.suspense && untrack(node.suspense.inFallback))\n    return node.suspense.effects.push(node);\n  const ancestors = [node];\n  while ((node = node.owner) && (!node.updatedAt || node.updatedAt < ExecCount)) {\n    if (node.state)\n      ancestors.push(node);\n  }\n  for (let i2 = ancestors.length - 1; i2 >= 0; i2--) {\n    node = ancestors[i2];\n    if (node.state === STALE) {\n      updateComputation(node);\n    } else if (node.state === PENDING) {\n      const updates = Updates;\n      Updates = null;\n      runUpdates(() => lookUpstream(node, ancestors[0]), false);\n      Updates = updates;\n    }\n  }\n}\nfunction runUpdates(fn, init) {\n  if (Updates)\n    return fn();\n  let wait = false;\n  if (!init)\n    Updates = [];\n  if (Effects)\n    wait = true;\n  else\n    Effects = [];\n  ExecCount++;\n  try {\n    const res = fn();\n    completeUpdates(wait);\n    return res;\n  } catch (err) {\n    if (!wait)\n      Effects = null;\n    Updates = null;\n    handleError(err);\n  }\n}\nfunction completeUpdates(wait) {\n  if (Updates) {\n    runQueue(Updates);\n    Updates = null;\n  }\n  if (wait)\n    return;\n  const e2 = Effects;\n  Effects = null;\n  if (e2.length)\n    runUpdates(() => runEffects(e2), false);\n}\nfunction runQueue(queue) {\n  for (let i2 = 0; i2 < queue.length; i2++)\n    runTop(queue[i2]);\n}\nfunction runUserEffects(queue) {\n  let i2, userLength = 0;\n  for (i2 = 0; i2 < queue.length; i2++) {\n    const e2 = queue[i2];\n    if (!e2.user)\n      runTop(e2);\n    else\n      queue[userLength++] = e2;\n  }\n  for (i2 = 0; i2 < userLength; i2++)\n    runTop(queue[i2]);\n}\nfunction lookUpstream(node, ignore) {\n  node.state = 0;\n  for (let i2 = 0; i2 < node.sources.length; i2 += 1) {\n    const source = node.sources[i2];\n    if (source.sources) {\n      const state = source.state;\n      if (state === STALE) {\n        if (source !== ignore && (!source.updatedAt || source.updatedAt < ExecCount))\n          runTop(source);\n      } else if (state === PENDING)\n        lookUpstream(source, ignore);\n    }\n  }\n}\nfunction markDownstream(node) {\n  for (let i2 = 0; i2 < node.observers.length; i2 += 1) {\n    const o2 = node.observers[i2];\n    if (!o2.state) {\n      o2.state = PENDING;\n      if (o2.pure)\n        Updates.push(o2);\n      else\n        Effects.push(o2);\n      o2.observers && markDownstream(o2);\n    }\n  }\n}\nfunction cleanNode(node) {\n  let i2;\n  if (node.sources) {\n    while (node.sources.length) {\n      const source = node.sources.pop(), index = node.sourceSlots.pop(), obs = source.observers;\n      if (obs && obs.length) {\n        const n2 = obs.pop(), s2 = source.observerSlots.pop();\n        if (index < obs.length) {\n          n2.sourceSlots[s2] = index;\n          obs[index] = n2;\n          source.observerSlots[index] = s2;\n        }\n      }\n    }\n  }\n  if (node.tOwned) {\n    for (i2 = node.tOwned.length - 1; i2 >= 0; i2--)\n      cleanNode(node.tOwned[i2]);\n    delete node.tOwned;\n  }\n  if (node.owned) {\n    for (i2 = node.owned.length - 1; i2 >= 0; i2--)\n      cleanNode(node.owned[i2]);\n    node.owned = null;\n  }\n  if (node.cleanups) {\n    for (i2 = node.cleanups.length - 1; i2 >= 0; i2--)\n      node.cleanups[i2]();\n    node.cleanups = null;\n  }\n  node.state = 0;\n}\nfunction castError(err) {\n  if (err instanceof Error)\n    return err;\n  return new Error(typeof err === \"string\" ? err : \"Unknown error\", {\n    cause: err\n  });\n}\nfunction handleError(err, owner = Owner) {\n  const error = castError(err);\n  throw error;\n}\nfunction resolveChildren(children2) {\n  if (typeof children2 === \"function\" && !children2.length)\n    return resolveChildren(children2());\n  if (Array.isArray(children2)) {\n    const results = [];\n    for (let i2 = 0; i2 < children2.length; i2++) {\n      const result = resolveChildren(children2[i2]);\n      Array.isArray(result) ? results.push.apply(results, result) : results.push(result);\n    }\n    return results;\n  }\n  return children2;\n}\nfunction createProvider(id, options) {\n  return function provider(props) {\n    let res;\n    createRenderEffect(() => res = untrack(() => {\n      Owner.context = __spreadProps(__spreadValues({}, Owner.context), {\n        [id]: props.value\n      });\n      return children(() => props.children);\n    }), void 0);\n    return res;\n  };\n}\nfunction createComponent(Comp, props) {\n  return untrack(() => Comp(props || {}));\n}\nfunction trueFn() {\n  return true;\n}\nconst propTraps = {\n  get(_, property, receiver) {\n    if (property === $PROXY)\n      return receiver;\n    return _.get(property);\n  },\n  has(_, property) {\n    if (property === $PROXY)\n      return true;\n    return _.has(property);\n  },\n  set: trueFn,\n  deleteProperty: trueFn,\n  getOwnPropertyDescriptor(_, property) {\n    return {\n      configurable: true,\n      enumerable: true,\n      get() {\n        return _.get(property);\n      },\n      set: trueFn,\n      deleteProperty: trueFn\n    };\n  },\n  ownKeys(_) {\n    return _.keys();\n  }\n};\nfunction resolveSource(s2) {\n  return !(s2 = typeof s2 === \"function\" ? s2() : s2) ? {} : s2;\n}\nfunction resolveSources() {\n  for (let i2 = 0, length = this.length; i2 < length; ++i2) {\n    const v = this[i2]();\n    if (v !== void 0)\n      return v;\n  }\n}\nfunction mergeProps(...sources) {\n  let proxy = false;\n  for (let i2 = 0; i2 < sources.length; i2++) {\n    const s2 = sources[i2];\n    proxy = proxy || !!s2 && $PROXY in s2;\n    sources[i2] = typeof s2 === \"function\" ? (proxy = true, createMemo(s2)) : s2;\n  }\n  if (SUPPORTS_PROXY && proxy) {\n    return new Proxy({\n      get(property) {\n        for (let i2 = sources.length - 1; i2 >= 0; i2--) {\n          const v = resolveSource(sources[i2])[property];\n          if (v !== void 0)\n            return v;\n        }\n      },\n      has(property) {\n        for (let i2 = sources.length - 1; i2 >= 0; i2--) {\n          if (property in resolveSource(sources[i2]))\n            return true;\n        }\n        return false;\n      },\n      keys() {\n        const keys = [];\n        for (let i2 = 0; i2 < sources.length; i2++)\n          keys.push(...Object.keys(resolveSource(sources[i2])));\n        return [...new Set(keys)];\n      }\n    }, propTraps);\n  }\n  const sourcesMap = {};\n  const defined = /* @__PURE__ */ Object.create(null);\n  for (let i2 = sources.length - 1; i2 >= 0; i2--) {\n    const source = sources[i2];\n    if (!source)\n      continue;\n    const sourceKeys = Object.getOwnPropertyNames(source);\n    for (let i3 = sourceKeys.length - 1; i3 >= 0; i3--) {\n      const key = sourceKeys[i3];\n      if (key === \"__proto__\" || key === \"constructor\")\n        continue;\n      const desc = Object.getOwnPropertyDescriptor(source, key);\n      if (!defined[key]) {\n        defined[key] = desc.get ? {\n          enumerable: true,\n          configurable: true,\n          get: resolveSources.bind(sourcesMap[key] = [desc.get.bind(source)])\n        } : desc.value !== void 0 ? desc : void 0;\n      } else {\n        const sources2 = sourcesMap[key];\n        if (sources2) {\n          if (desc.get)\n            sources2.push(desc.get.bind(source));\n          else if (desc.value !== void 0)\n            sources2.push(() => desc.value);\n        }\n      }\n    }\n  }\n  const target = {};\n  const definedKeys = Object.keys(defined);\n  for (let i2 = definedKeys.length - 1; i2 >= 0; i2--) {\n    const key = definedKeys[i2], desc = defined[key];\n    if (desc && desc.get)\n      Object.defineProperty(target, key, desc);\n    else\n      target[key] = desc ? desc.value : void 0;\n  }\n  return target;\n}\nfunction splitProps(props, ...keys) {\n  if (SUPPORTS_PROXY && $PROXY in props) {\n    const blocked = new Set(keys.length > 1 ? keys.flat() : keys[0]);\n    const res = keys.map((k) => {\n      return new Proxy({\n        get(property) {\n          return k.includes(property) ? props[property] : void 0;\n        },\n        has(property) {\n          return k.includes(property) && property in props;\n        },\n        keys() {\n          return k.filter((property) => property in props);\n        }\n      }, propTraps);\n    });\n    res.push(new Proxy({\n      get(property) {\n        return blocked.has(property) ? void 0 : props[property];\n      },\n      has(property) {\n        return blocked.has(property) ? false : property in props;\n      },\n      keys() {\n        return Object.keys(props).filter((k) => !blocked.has(k));\n      }\n    }, propTraps));\n    return res;\n  }\n  const otherObject = {};\n  const objects = keys.map(() => ({}));\n  for (const propName of Object.getOwnPropertyNames(props)) {\n    const desc = Object.getOwnPropertyDescriptor(props, propName);\n    const isDefaultDesc = !desc.get && !desc.set && desc.enumerable && desc.writable && desc.configurable;\n    let blocked = false;\n    let objectIndex = 0;\n    for (const k of keys) {\n      if (k.includes(propName)) {\n        blocked = true;\n        isDefaultDesc ? objects[objectIndex][propName] = desc.value : Object.defineProperty(objects[objectIndex], propName, desc);\n      }\n      ++objectIndex;\n    }\n    if (!blocked) {\n      isDefaultDesc ? otherObject[propName] = desc.value : Object.defineProperty(otherObject, propName, desc);\n    }\n  }\n  return [...objects, otherObject];\n}\nconst narrowedError = (name) => `Stale read from <${name}>.`;\nfunction Show(props) {\n  const keyed = props.keyed;\n  const condition = createMemo(() => props.when, void 0, {\n    equals: (a2, b) => keyed ? a2 === b : !a2 === !b\n  });\n  return createMemo(() => {\n    const c2 = condition();\n    if (c2) {\n      const child = props.children;\n      const fn = typeof child === \"function\" && child.length > 0;\n      return fn ? untrack(() => child(keyed ? c2 : () => {\n        if (!untrack(condition))\n          throw narrowedError(\"Show\");\n        return props.when;\n      })) : child;\n    }\n    return props.fallback;\n  }, void 0, void 0);\n}\nfunction Switch(props) {\n  let keyed = false;\n  const equals = (a2, b) => (keyed ? a2[1] === b[1] : !a2[1] === !b[1]) && a2[2] === b[2];\n  const conditions = children(() => props.children), evalConditions = createMemo(() => {\n    let conds = conditions();\n    if (!Array.isArray(conds))\n      conds = [conds];\n    for (let i2 = 0; i2 < conds.length; i2++) {\n      const c2 = conds[i2].when;\n      if (c2) {\n        keyed = !!conds[i2].keyed;\n        return [i2, c2, conds[i2]];\n      }\n    }\n    return [-1];\n  }, void 0, {\n    equals\n  });\n  return createMemo(() => {\n    const [index, when, cond] = evalConditions();\n    if (index < 0)\n      return props.fallback;\n    const c2 = cond.children;\n    const fn = typeof c2 === \"function\" && c2.length > 0;\n    return fn ? untrack(() => c2(keyed ? when : () => {\n      if (untrack(evalConditions)[0] !== index)\n        throw narrowedError(\"Match\");\n      return cond.when;\n    })) : c2;\n  }, void 0, void 0);\n}\nfunction Match(props) {\n  return props;\n}\nconst booleans = [\"allowfullscreen\", \"async\", \"autofocus\", \"autoplay\", \"checked\", \"controls\", \"default\", \"disabled\", \"formnovalidate\", \"hidden\", \"indeterminate\", \"inert\", \"ismap\", \"loop\", \"multiple\", \"muted\", \"nomodule\", \"novalidate\", \"open\", \"playsinline\", \"readonly\", \"required\", \"reversed\", \"seamless\", \"selected\"];\nconst Properties = /* @__PURE__ */ new Set([\"className\", \"value\", \"readOnly\", \"formNoValidate\", \"isMap\", \"noModule\", \"playsInline\", ...booleans]);\nconst ChildProperties = /* @__PURE__ */ new Set([\"innerHTML\", \"textContent\", \"innerText\", \"children\"]);\nconst Aliases = /* @__PURE__ */ Object.assign(/* @__PURE__ */ Object.create(null), {\n  className: \"class\",\n  htmlFor: \"for\"\n});\nconst PropAliases = /* @__PURE__ */ Object.assign(/* @__PURE__ */ Object.create(null), {\n  class: \"className\",\n  formnovalidate: {\n    $: \"formNoValidate\",\n    BUTTON: 1,\n    INPUT: 1\n  },\n  ismap: {\n    $: \"isMap\",\n    IMG: 1\n  },\n  nomodule: {\n    $: \"noModule\",\n    SCRIPT: 1\n  },\n  playsinline: {\n    $: \"playsInline\",\n    VIDEO: 1\n  },\n  readonly: {\n    $: \"readOnly\",\n    INPUT: 1,\n    TEXTAREA: 1\n  }\n});\nfunction getPropAlias(prop, tagName) {\n  const a2 = PropAliases[prop];\n  return typeof a2 === \"object\" ? a2[tagName] ? a2[\"$\"] : void 0 : a2;\n}\nconst DelegatedEvents = /* @__PURE__ */ new Set([\"beforeinput\", \"click\", \"dblclick\", \"contextmenu\", \"focusin\", \"focusout\", \"input\", \"keydown\", \"keyup\", \"mousedown\", \"mousemove\", \"mouseout\", \"mouseover\", \"mouseup\", \"pointerdown\", \"pointermove\", \"pointerout\", \"pointerover\", \"pointerup\", \"touchend\", \"touchmove\", \"touchstart\"]);\nconst SVGElements = /* @__PURE__ */ new Set([\n  \"altGlyph\",\n  \"altGlyphDef\",\n  \"altGlyphItem\",\n  \"animate\",\n  \"animateColor\",\n  \"animateMotion\",\n  \"animateTransform\",\n  \"circle\",\n  \"clipPath\",\n  \"color-profile\",\n  \"cursor\",\n  \"defs\",\n  \"desc\",\n  \"ellipse\",\n  \"feBlend\",\n  \"feColorMatrix\",\n  \"feComponentTransfer\",\n  \"feComposite\",\n  \"feConvolveMatrix\",\n  \"feDiffuseLighting\",\n  \"feDisplacementMap\",\n  \"feDistantLight\",\n  \"feDropShadow\",\n  \"feFlood\",\n  \"feFuncA\",\n  \"feFuncB\",\n  \"feFuncG\",\n  \"feFuncR\",\n  \"feGaussianBlur\",\n  \"feImage\",\n  \"feMerge\",\n  \"feMergeNode\",\n  \"feMorphology\",\n  \"feOffset\",\n  \"fePointLight\",\n  \"feSpecularLighting\",\n  \"feSpotLight\",\n  \"feTile\",\n  \"feTurbulence\",\n  \"filter\",\n  \"font\",\n  \"font-face\",\n  \"font-face-format\",\n  \"font-face-name\",\n  \"font-face-src\",\n  \"font-face-uri\",\n  \"foreignObject\",\n  \"g\",\n  \"glyph\",\n  \"glyphRef\",\n  \"hkern\",\n  \"image\",\n  \"line\",\n  \"linearGradient\",\n  \"marker\",\n  \"mask\",\n  \"metadata\",\n  \"missing-glyph\",\n  \"mpath\",\n  \"path\",\n  \"pattern\",\n  \"polygon\",\n  \"polyline\",\n  \"radialGradient\",\n  \"rect\",\n  \"set\",\n  \"stop\",\n  \"svg\",\n  \"switch\",\n  \"symbol\",\n  \"text\",\n  \"textPath\",\n  \"tref\",\n  \"tspan\",\n  \"use\",\n  \"view\",\n  \"vkern\"\n]);\nconst SVGNamespace = {\n  xlink: \"http://www.w3.org/1999/xlink\",\n  xml: \"http://www.w3.org/XML/1998/namespace\"\n};\nfunction reconcileArrays(parentNode, a2, b) {\n  let bLength = b.length, aEnd = a2.length, bEnd = bLength, aStart = 0, bStart = 0, after = a2[aEnd - 1].nextSibling, map = null;\n  while (aStart < aEnd || bStart < bEnd) {\n    if (a2[aStart] === b[bStart]) {\n      aStart++;\n      bStart++;\n      continue;\n    }\n    while (a2[aEnd - 1] === b[bEnd - 1]) {\n      aEnd--;\n      bEnd--;\n    }\n    if (aEnd === aStart) {\n      const node = bEnd < bLength ? bStart ? b[bStart - 1].nextSibling : b[bEnd - bStart] : after;\n      while (bStart < bEnd)\n        parentNode.insertBefore(b[bStart++], node);\n    } else if (bEnd === bStart) {\n      while (aStart < aEnd) {\n        if (!map || !map.has(a2[aStart]))\n          a2[aStart].remove();\n        aStart++;\n      }\n    } else if (a2[aStart] === b[bEnd - 1] && b[bStart] === a2[aEnd - 1]) {\n      const node = a2[--aEnd].nextSibling;\n      parentNode.insertBefore(b[bStart++], a2[aStart++].nextSibling);\n      parentNode.insertBefore(b[--bEnd], node);\n      a2[aEnd] = b[bEnd];\n    } else {\n      if (!map) {\n        map = /* @__PURE__ */ new Map();\n        let i2 = bStart;\n        while (i2 < bEnd)\n          map.set(b[i2], i2++);\n      }\n      const index = map.get(a2[aStart]);\n      if (index != null) {\n        if (bStart < index && index < bEnd) {\n          let i2 = aStart, sequence = 1, t2;\n          while (++i2 < aEnd && i2 < bEnd) {\n            if ((t2 = map.get(a2[i2])) == null || t2 !== index + sequence)\n              break;\n            sequence++;\n          }\n          if (sequence > index - bStart) {\n            const node = a2[aStart];\n            while (bStart < index)\n              parentNode.insertBefore(b[bStart++], node);\n          } else\n            parentNode.replaceChild(b[bStart++], a2[aStart++]);\n        } else\n          aStart++;\n      } else\n        a2[aStart++].remove();\n    }\n  }\n}\nconst $$EVENTS = \"_$DX_DELEGATE\";\nfunction render(code, element, init, options = {}) {\n  let disposer;\n  createRoot((dispose) => {\n    disposer = dispose;\n    element === document ? code() : insert(element, code(), element.firstChild ? null : void 0, init);\n  }, options.owner);\n  return () => {\n    disposer();\n    element.textContent = \"\";\n  };\n}\nfunction template$1(html, isImportNode, isSVG) {\n  let node;\n  const create = () => {\n    const t2 = document.createElement(\"template\");\n    t2.innerHTML = html;\n    return isSVG ? t2.content.firstChild.firstChild : t2.content.firstChild;\n  };\n  const fn = isImportNode ? () => untrack(() => document.importNode(node || (node = create()), true)) : () => (node || (node = create())).cloneNode(true);\n  fn.cloneNode = fn;\n  return fn;\n}\nfunction delegateEvents(eventNames, document2 = window.document) {\n  const e2 = document2[$$EVENTS] || (document2[$$EVENTS] = /* @__PURE__ */ new Set());\n  for (let i2 = 0, l2 = eventNames.length; i2 < l2; i2++) {\n    const name = eventNames[i2];\n    if (!e2.has(name)) {\n      e2.add(name);\n      document2.addEventListener(name, eventHandler);\n    }\n  }\n}\nfunction setAttribute(node, name, value) {\n  if (value == null)\n    node.removeAttribute(name);\n  else\n    node.setAttribute(name, value);\n}\nfunction setAttributeNS(node, namespace, name, value) {\n  if (value == null)\n    node.removeAttributeNS(namespace, name);\n  else\n    node.setAttributeNS(namespace, name, value);\n}\nfunction setBoolAttribute(node, name, value) {\n  value ? node.setAttribute(name, \"\") : node.removeAttribute(name);\n}\nfunction className(node, value) {\n  if (value == null)\n    node.removeAttribute(\"class\");\n  else\n    node.className = value;\n}\nfunction addEventListener(node, name, handler, delegate) {\n  if (delegate) {\n    if (Array.isArray(handler)) {\n      node[`$$${name}`] = handler[0];\n      node[`$$${name}Data`] = handler[1];\n    } else\n      node[`$$${name}`] = handler;\n  } else if (Array.isArray(handler)) {\n    const handlerFn = handler[0];\n    node.addEventListener(name, handler[0] = (e2) => handlerFn.call(node, handler[1], e2));\n  } else\n    node.addEventListener(name, handler, typeof handler !== \"function\" && handler);\n}\nfunction classList(node, value, prev = {}) {\n  const classKeys = Object.keys(value || {}), prevKeys = Object.keys(prev);\n  let i2, len;\n  for (i2 = 0, len = prevKeys.length; i2 < len; i2++) {\n    const key = prevKeys[i2];\n    if (!key || key === \"undefined\" || value[key])\n      continue;\n    toggleClassKey(node, key, false);\n    delete prev[key];\n  }\n  for (i2 = 0, len = classKeys.length; i2 < len; i2++) {\n    const key = classKeys[i2], classValue = !!value[key];\n    if (!key || key === \"undefined\" || prev[key] === classValue || !classValue)\n      continue;\n    toggleClassKey(node, key, true);\n    prev[key] = classValue;\n  }\n  return prev;\n}\nfunction style(node, value, prev) {\n  if (!value)\n    return prev ? setAttribute(node, \"style\") : value;\n  const nodeStyle = node.style;\n  if (typeof value === \"string\")\n    return nodeStyle.cssText = value;\n  typeof prev === \"string\" && (nodeStyle.cssText = prev = void 0);\n  prev || (prev = {});\n  value || (value = {});\n  let v, s2;\n  for (s2 in prev) {\n    value[s2] == null && nodeStyle.removeProperty(s2);\n    delete prev[s2];\n  }\n  for (s2 in value) {\n    v = value[s2];\n    if (v !== prev[s2]) {\n      nodeStyle.setProperty(s2, v);\n      prev[s2] = v;\n    }\n  }\n  return prev;\n}\nfunction spread(node, props = {}, isSVG, skipChildren) {\n  const prevProps = {};\n  if (!skipChildren) {\n    createRenderEffect(() => prevProps.children = insertExpression(node, props.children, prevProps.children));\n  }\n  createRenderEffect(() => typeof props.ref === \"function\" && use(props.ref, node));\n  createRenderEffect(() => assign(node, props, isSVG, true, prevProps, true));\n  return prevProps;\n}\nfunction use(fn, element, arg) {\n  return untrack(() => fn(element, arg));\n}\nfunction insert(parent, accessor, marker, initial) {\n  if (marker !== void 0 && !initial)\n    initial = [];\n  if (typeof accessor !== \"function\")\n    return insertExpression(parent, accessor, initial, marker);\n  createRenderEffect((current) => insertExpression(parent, accessor(), current, marker), initial);\n}\nfunction assign(node, props, isSVG, skipChildren, prevProps = {}, skipRef = false) {\n  props || (props = {});\n  for (const prop in prevProps) {\n    if (!(prop in props)) {\n      if (prop === \"children\")\n        continue;\n      prevProps[prop] = assignProp(node, prop, null, prevProps[prop], isSVG, skipRef, props);\n    }\n  }\n  for (const prop in props) {\n    if (prop === \"children\") {\n      if (!skipChildren)\n        insertExpression(node, props.children);\n      continue;\n    }\n    const value = props[prop];\n    prevProps[prop] = assignProp(node, prop, value, prevProps[prop], isSVG, skipRef, props);\n  }\n}\nfunction toPropertyName(name) {\n  return name.toLowerCase().replace(/-([a-z])/g, (_, w) => w.toUpperCase());\n}\nfunction toggleClassKey(node, key, value) {\n  const classNames = key.trim().split(/\\s+/);\n  for (let i2 = 0, nameLen = classNames.length; i2 < nameLen; i2++)\n    node.classList.toggle(classNames[i2], value);\n}\nfunction assignProp(node, prop, value, prev, isSVG, skipRef, props) {\n  let isCE, isProp, isChildProp, propAlias, forceProp;\n  if (prop === \"style\")\n    return style(node, value, prev);\n  if (prop === \"classList\")\n    return classList(node, value, prev);\n  if (value === prev)\n    return prev;\n  if (prop === \"ref\") {\n    if (!skipRef)\n      value(node);\n  } else if (prop.slice(0, 3) === \"on:\") {\n    const e2 = prop.slice(3);\n    prev && node.removeEventListener(e2, prev, typeof prev !== \"function\" && prev);\n    value && node.addEventListener(e2, value, typeof value !== \"function\" && value);\n  } else if (prop.slice(0, 10) === \"oncapture:\") {\n    const e2 = prop.slice(10);\n    prev && node.removeEventListener(e2, prev, true);\n    value && node.addEventListener(e2, value, true);\n  } else if (prop.slice(0, 2) === \"on\") {\n    const name = prop.slice(2).toLowerCase();\n    const delegate = DelegatedEvents.has(name);\n    if (!delegate && prev) {\n      const h2 = Array.isArray(prev) ? prev[0] : prev;\n      node.removeEventListener(name, h2);\n    }\n    if (delegate || value) {\n      addEventListener(node, name, value, delegate);\n      delegate && delegateEvents([name]);\n    }\n  } else if (prop.slice(0, 5) === \"attr:\") {\n    setAttribute(node, prop.slice(5), value);\n  } else if (prop.slice(0, 5) === \"bool:\") {\n    setBoolAttribute(node, prop.slice(5), value);\n  } else if ((forceProp = prop.slice(0, 5) === \"prop:\") || (isChildProp = ChildProperties.has(prop)) || !isSVG && ((propAlias = getPropAlias(prop, node.tagName)) || (isProp = Properties.has(prop))) || (isCE = node.nodeName.includes(\"-\") || \"is\" in props)) {\n    if (forceProp) {\n      prop = prop.slice(5);\n      isProp = true;\n    }\n    if (prop === \"class\" || prop === \"className\")\n      className(node, value);\n    else if (isCE && !isProp && !isChildProp)\n      node[toPropertyName(prop)] = value;\n    else\n      node[propAlias || prop] = value;\n  } else {\n    const ns = isSVG && prop.indexOf(\":\") > -1 && SVGNamespace[prop.split(\":\")[0]];\n    if (ns)\n      setAttributeNS(node, ns, prop, value);\n    else\n      setAttribute(node, Aliases[prop] || prop, value);\n  }\n  return value;\n}\nfunction eventHandler(e2) {\n  let node = e2.target;\n  const key = `$$${e2.type}`;\n  const oriTarget = e2.target;\n  const oriCurrentTarget = e2.currentTarget;\n  const retarget = (value) => Object.defineProperty(e2, \"target\", {\n    configurable: true,\n    value\n  });\n  const handleNode = () => {\n    const handler = node[key];\n    if (handler && !node.disabled) {\n      const data = node[`${key}Data`];\n      data !== void 0 ? handler.call(node, data, e2) : handler.call(node, e2);\n      if (e2.cancelBubble)\n        return;\n    }\n    node.host && typeof node.host !== \"string\" && !node.host._$host && node.contains(e2.target) && retarget(node.host);\n    return true;\n  };\n  const walkUpTree = () => {\n    while (handleNode() && (node = node._$host || node.parentNode || node.host))\n      ;\n  };\n  Object.defineProperty(e2, \"currentTarget\", {\n    configurable: true,\n    get() {\n      return node || document;\n    }\n  });\n  if (e2.composedPath) {\n    const path = e2.composedPath();\n    retarget(path[0]);\n    for (let i2 = 0; i2 < path.length - 2; i2++) {\n      node = path[i2];\n      if (!handleNode())\n        break;\n      if (node._$host) {\n        node = node._$host;\n        walkUpTree();\n        break;\n      }\n      if (node.parentNode === oriCurrentTarget) {\n        break;\n      }\n    }\n  } else\n    walkUpTree();\n  retarget(oriTarget);\n}\nfunction insertExpression(parent, value, current, marker, unwrapArray) {\n  while (typeof current === \"function\")\n    current = current();\n  if (value === current)\n    return current;\n  const t2 = typeof value, multi = marker !== void 0;\n  parent = multi && current[0] && current[0].parentNode || parent;\n  if (t2 === \"string\" || t2 === \"number\") {\n    if (t2 === \"number\") {\n      value = value.toString();\n      if (value === current)\n        return current;\n    }\n    if (multi) {\n      let node = current[0];\n      if (node && node.nodeType === 3) {\n        node.data !== value && (node.data = value);\n      } else\n        node = document.createTextNode(value);\n      current = cleanChildren(parent, current, marker, node);\n    } else {\n      if (current !== \"\" && typeof current === \"string\") {\n        current = parent.firstChild.data = value;\n      } else\n        current = parent.textContent = value;\n    }\n  } else if (value == null || t2 === \"boolean\") {\n    current = cleanChildren(parent, current, marker);\n  } else if (t2 === \"function\") {\n    createRenderEffect(() => {\n      let v = value();\n      while (typeof v === \"function\")\n        v = v();\n      current = insertExpression(parent, v, current, marker);\n    });\n    return () => current;\n  } else if (Array.isArray(value)) {\n    const array = [];\n    const currentArray = current && Array.isArray(current);\n    if (normalizeIncomingArray(array, value, current, unwrapArray)) {\n      createRenderEffect(() => current = insertExpression(parent, array, current, marker, true));\n      return () => current;\n    }\n    if (array.length === 0) {\n      current = cleanChildren(parent, current, marker);\n      if (multi)\n        return current;\n    } else if (currentArray) {\n      if (current.length === 0) {\n        appendNodes(parent, array, marker);\n      } else\n        reconcileArrays(parent, current, array);\n    } else {\n      current && cleanChildren(parent);\n      appendNodes(parent, array);\n    }\n    current = array;\n  } else if (value.nodeType) {\n    if (Array.isArray(current)) {\n      if (multi)\n        return current = cleanChildren(parent, current, marker, value);\n      cleanChildren(parent, current, null, value);\n    } else if (current == null || current === \"\" || !parent.firstChild) {\n      parent.appendChild(value);\n    } else\n      parent.replaceChild(value, parent.firstChild);\n    current = value;\n  } else\n    ;\n  return current;\n}\nfunction normalizeIncomingArray(normalized, array, current, unwrap2) {\n  let dynamic = false;\n  for (let i2 = 0, len = array.length; i2 < len; i2++) {\n    let item = array[i2], prev = current && current[normalized.length], t2;\n    if (item == null || item === true || item === false)\n      ;\n    else if ((t2 = typeof item) === \"object\" && item.nodeType) {\n      normalized.push(item);\n    } else if (Array.isArray(item)) {\n      dynamic = normalizeIncomingArray(normalized, item, prev) || dynamic;\n    } else if (t2 === \"function\") {\n      if (unwrap2) {\n        while (typeof item === \"function\")\n          item = item();\n        dynamic = normalizeIncomingArray(normalized, Array.isArray(item) ? item : [item], Array.isArray(prev) ? prev : [prev]) || dynamic;\n      } else {\n        normalized.push(item);\n        dynamic = true;\n      }\n    } else {\n      const value = String(item);\n      if (prev && prev.nodeType === 3 && prev.data === value)\n        normalized.push(prev);\n      else\n        normalized.push(document.createTextNode(value));\n    }\n  }\n  return dynamic;\n}\nfunction appendNodes(parent, array, marker = null) {\n  for (let i2 = 0, len = array.length; i2 < len; i2++)\n    parent.insertBefore(array[i2], marker);\n}\nfunction cleanChildren(parent, current, marker, replacement) {\n  if (marker === void 0)\n    return parent.textContent = \"\";\n  const node = replacement || document.createTextNode(\"\");\n  if (current.length) {\n    let inserted = false;\n    for (let i2 = current.length - 1; i2 >= 0; i2--) {\n      const el = current[i2];\n      if (node !== el) {\n        const isParent = el.parentNode === parent;\n        if (!inserted && !i2)\n          isParent ? parent.replaceChild(node, el) : parent.insertBefore(node, marker);\n        else\n          isParent && el.remove();\n      } else\n        inserted = true;\n    }\n  } else\n    parent.insertBefore(node, marker);\n  return [node];\n}\nconst SVG_NAMESPACE = \"http://www.w3.org/2000/svg\";\nfunction createElement(tagName, isSVG = false) {\n  return isSVG ? document.createElementNS(SVG_NAMESPACE, tagName) : document.createElement(tagName);\n}\nfunction Portal(props) {\n  const {\n    useShadow\n  } = props, marker = document.createTextNode(\"\"), mount = () => props.mount || document.body, owner = getOwner();\n  let content;\n  let hydrating = !!sharedConfig.context;\n  createEffect(() => {\n    content || (content = runWithOwner(owner, () => createMemo(() => props.children)));\n    const el = mount();\n    if (el instanceof HTMLHeadElement) {\n      const [clean, setClean] = createSignal(false);\n      const cleanup = () => setClean(true);\n      createRoot((dispose) => insert(el, () => !clean() ? content() : dispose(), null));\n      onCleanup(cleanup);\n    } else {\n      const container = createElement(props.isSVG ? \"g\" : \"div\", props.isSVG), renderRoot = useShadow && container.attachShadow ? container.attachShadow({\n        mode: \"open\"\n      }) : container;\n      Object.defineProperty(container, \"_$host\", {\n        get() {\n          return marker.parentNode;\n        },\n        configurable: true\n      });\n      insert(renderRoot, content);\n      el.appendChild(container);\n      props.ref && props.ref(container);\n      onCleanup(() => el.removeChild(container));\n    }\n  }, void 0, {\n    render: !hydrating\n  });\n  return marker;\n}\nfunction Dynamic(props) {\n  const [p2, others] = splitProps(props, [\"component\"]);\n  const cached = createMemo(() => p2.component);\n  return createMemo(() => {\n    const component = cached();\n    switch (typeof component) {\n      case \"function\":\n        return untrack(() => component(others));\n      case \"string\":\n        const isSvg = SVGElements.has(component);\n        const el = createElement(component, isSvg);\n        spread(el, others, isSvg);\n        return el;\n    }\n  });\n}\nlet e = { data: \"\" }, t = (t2) => \"object\" == typeof window ? ((t2 ? t2.querySelector(\"#_goober\") : window._goober) || Object.assign((t2 || document.head).appendChild(document.createElement(\"style\")), { innerHTML: \" \", id: \"_goober\" })).firstChild : t2 || e, l = /(?:([\\u0080-\\uFFFF\\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\\s*)/g, a = /\\/\\*[^]*?\\*\\/|  +/g, n = /\\n+/g, o = (e2, t2) => {\n  let r = \"\", l2 = \"\", a2 = \"\";\n  for (let n2 in e2) {\n    let c2 = e2[n2];\n    \"@\" == n2[0] ? \"i\" == n2[1] ? r = n2 + \" \" + c2 + \";\" : l2 += \"f\" == n2[1] ? o(c2, n2) : n2 + \"{\" + o(c2, \"k\" == n2[1] ? \"\" : t2) + \"}\" : \"object\" == typeof c2 ? l2 += o(c2, t2 ? t2.replace(/([^,])+/g, (e3) => n2.replace(/([^,]*:\\S+\\([^)]*\\))|([^,])+/g, (t3) => /&/.test(t3) ? t3.replace(/&/g, e3) : e3 ? e3 + \" \" + t3 : t3)) : n2) : null != c2 && (n2 = /^--/.test(n2) ? n2 : n2.replace(/[A-Z]/g, \"-$&\").toLowerCase(), a2 += o.p ? o.p(n2, c2) : n2 + \":\" + c2 + \";\");\n  }\n  return r + (t2 && a2 ? t2 + \"{\" + a2 + \"}\" : a2) + l2;\n}, c = {}, s = (e2) => {\n  if (\"object\" == typeof e2) {\n    let t2 = \"\";\n    for (let r in e2)\n      t2 += r + s(e2[r]);\n    return t2;\n  }\n  return e2;\n}, i = (e2, t2, r, i2, p2) => {\n  let u2 = s(e2), d = c[u2] || (c[u2] = ((e3) => {\n    let t3 = 0, r2 = 11;\n    for (; t3 < e3.length; )\n      r2 = 101 * r2 + e3.charCodeAt(t3++) >>> 0;\n    return \"go\" + r2;\n  })(u2));\n  if (!c[d]) {\n    let t3 = u2 !== e2 ? e2 : ((e3) => {\n      let t4, r2, o2 = [{}];\n      for (; t4 = l.exec(e3.replace(a, \"\")); )\n        t4[4] ? o2.shift() : t4[3] ? (r2 = t4[3].replace(n, \" \").trim(), o2.unshift(o2[0][r2] = o2[0][r2] || {})) : o2[0][t4[1]] = t4[2].replace(n, \" \").trim();\n      return o2[0];\n    })(e2);\n    c[d] = o(p2 ? { [\"@keyframes \" + d]: t3 } : t3, r ? \"\" : \".\" + d);\n  }\n  let f = r && c.g ? c.g : null;\n  return r && (c.g = c[d]), ((e3, t3, r2, l2) => {\n    l2 ? t3.data = t3.data.replace(l2, e3) : -1 === t3.data.indexOf(e3) && (t3.data = r2 ? e3 + t3.data : t3.data + e3);\n  })(c[d], t2, i2, f), d;\n}, p = (e2, t2, r) => e2.reduce((e3, l2, a2) => {\n  let n2 = t2[a2];\n  if (n2 && n2.call) {\n    let e4 = n2(r), t3 = e4 && e4.props && e4.props.className || /^go/.test(e4) && e4;\n    n2 = t3 ? \".\" + t3 : e4 && \"object\" == typeof e4 ? e4.props ? \"\" : o(e4, \"\") : false === e4 ? \"\" : e4;\n  }\n  return e3 + l2 + (null == n2 ? \"\" : n2);\n}, \"\");\nfunction u(e2) {\n  let r = this || {}, l2 = e2.call ? e2(r.p) : e2;\n  return i(l2.unshift ? l2.raw ? p(l2, [].slice.call(arguments, 1), r.p) : l2.reduce((e3, t2) => Object.assign(e3, t2 && t2.call ? t2(r.p) : t2), {}) : l2, t(r.target), r.g, r.o, r.k);\n}\nu.bind({ g: 1 });\nlet h = u.bind({ k: 1 });\nconst ThemeContext = createContext();\nfunction ThemeProvider(props) {\n  return createComponent(ThemeContext.Provider, {\n    value: props.theme,\n    get children() {\n      return props.children;\n    }\n  });\n}\nfunction useTheme() {\n  return useContext(ThemeContext);\n}\nfunction makeStyled(tag) {\n  let _ctx = this || {};\n  return (...args) => {\n    const Styled = (props) => {\n      const theme = useContext(ThemeContext);\n      const withTheme = mergeProps(props, { theme });\n      const clone = mergeProps(withTheme, {\n        get class() {\n          const pClass = withTheme.class, append = \"class\" in withTheme && /^go[0-9]+/.test(pClass);\n          let className2 = u.apply(\n            { target: _ctx.target, o: append, p: withTheme, g: _ctx.g },\n            args\n          );\n          return [pClass, className2].filter(Boolean).join(\" \");\n        }\n      });\n      const [local, newProps] = splitProps(clone, [\"as\", \"theme\"]);\n      const htmlProps = newProps;\n      const createTag = local.as || tag;\n      let el;\n      if (typeof createTag === \"function\") {\n        el = createTag(htmlProps);\n      } else {\n        {\n          if (_ctx.g == 1) {\n            el = document.createElement(createTag);\n            spread(el, htmlProps);\n          } else {\n            el = Dynamic(mergeProps({ component: createTag }, htmlProps));\n          }\n        }\n      }\n      return el;\n    };\n    Styled.class = (props) => {\n      return untrack(() => {\n        return u.apply({ target: _ctx.target, p: props, g: _ctx.g }, args);\n      });\n    };\n    return Styled;\n  };\n}\nconst styled = new Proxy(makeStyled, {\n  get(target, tag) {\n    return target(tag);\n  }\n});\nfunction createGlobalStyles() {\n  const fn = makeStyled.call({ g: 1 }, \"div\").apply(null, arguments);\n  return function GlobalStyles2(props) {\n    fn(props);\n    return null;\n  };\n}\nconst globalStylesTag = \"okxc-root\";\nconst disableScrollClass = \"okxc-disable-scroll\";\nconst usingMouseClass = \"okxc-using-mouse\";\nconst GlobalStyles = () => {\n  document.body.addEventListener(\"mousedown\", () => document.body.classList.add(usingMouseClass));\n  document.body.addEventListener(\"keydown\", (event) => {\n    if (event.key === \"Tab\") {\n      document.body.classList.remove(usingMouseClass);\n    }\n  });\n  const Styles = createGlobalStyles`\n    ${globalStylesTag} * {\n        margin: 0;\n        padding: 0;\n        box-sizing: border-box;\n        \n        font-family: -apple-system, BlinkMacSystemFont, 'Roboto', 'Helvetica Neue', Arial, Tahoma, Verdana, sans-serif;\n        -webkit-font-smoothing: antialiased;\n        -moz-osx-font-smoothing: grayscale;        \n        -webkit-tap-highlight-color: transparent;\n    }\n    \n    ${globalStylesTag} img {\n      -webkit-user-select: none;\n      -webkit-touch-callout: none;\n    }   \n \n    ${globalStylesTag} *:focus {\n        outline: #08f auto 2px;\n    }\n    \n    ${globalStylesTag} li {\n        list-style: none;\n    }\n    \n    ${globalStylesTag} button {\n        outline: none;\n    }\n    \n    body.${disableScrollClass} {\n        position: fixed; \n        overflow-y: scroll;\n        right: 0;\n        left: 0;\n    }\n    \n    body.${usingMouseClass} ${globalStylesTag} *:focus {\n        outline: none;\n    }\n`;\n  return createComponent(Styles, {});\n};\nfunction hexToRgb(hex) {\n  if (hex[0] === \"#\") {\n    hex = hex.slice(1);\n  }\n  const bigint = parseInt(hex, 16);\n  const r = bigint >> 16 & 255;\n  const g = bigint >> 8 & 255;\n  const b = bigint & 255;\n  return [r, g, b].join(\",\");\n}\nfunction rgba(color, opacity) {\n  if (color[0] === \"#\") {\n    color = hexToRgb(color);\n  }\n  return `rgba(${color}, ${opacity})`;\n}\nfunction toPx(value) {\n  return value.toString() + \"px\";\n}\nconst _InMemoryStorage = class {\n  constructor() {\n    __publicField(this, \"storage\", {});\n  }\n  static getInstance() {\n    if (!_InMemoryStorage.instance) {\n      _InMemoryStorage.instance = new _InMemoryStorage();\n    }\n    return _InMemoryStorage.instance;\n  }\n  get length() {\n    return Object.keys(this.storage).length;\n  }\n  clear() {\n    this.storage = {};\n  }\n  getItem(key) {\n    var _a2;\n    return (_a2 = this.storage[key]) != null ? _a2 : null;\n  }\n  key(index) {\n    var _a2;\n    const keys = Object.keys(this.storage);\n    if (index < 0 || index >= keys.length) {\n      return null;\n    }\n    return (_a2 = keys[index]) != null ? _a2 : null;\n  }\n  removeItem(key) {\n    delete this.storage[key];\n  }\n  setItem(key, value) {\n    this.storage[key] = value;\n  }\n};\nlet InMemoryStorage = _InMemoryStorage;\n__publicField(InMemoryStorage, \"instance\");\nconst debug = false;\nfunction logDebug(...args) {\n  {\n    try {\n      if (debug || (window == null ? void 0 : window.okxLogDebug)) {\n        console.debug(\"[OKX_TON_CONNECT_UI]\", ...args);\n      }\n    } catch (e2) {\n    }\n  }\n}\nfunction logError(...args) {\n  {\n    try {\n      if (debug || (window == null ? void 0 : window.okxLogDebug)) {\n        console.error(\"[OKX_TON_CONNECT_UI]\", ...args);\n      }\n    } catch (e2) {\n    }\n  }\n}\nfunction logWarning(...args) {\n  {\n    try {\n      if (debug || (window == null ? void 0 : window.okxLogDebug)) {\n        console.warn(\"[OKX_TON_CONNECT_UI]\", ...args);\n      }\n    } catch (e2) {\n    }\n  }\n}\nfunction uniq(array) {\n  return [...new Set(array)];\n}\nlet initParams = {};\ntry {\n  let locationHash = location.hash.toString();\n  initParams = urlParseHashParams(locationHash);\n} catch (e2) {\n}\nlet tmaPlatform = \"unknown\";\nif (initParams == null ? void 0 : initParams.tgWebAppPlatform) {\n  tmaPlatform = (_a = initParams.tgWebAppPlatform) != null ? _a : \"unknown\";\n}\nif (tmaPlatform === \"unknown\") {\n  const window2 = getWindow$1();\n  tmaPlatform = (_d = (_c = (_b = window2 == null ? void 0 : window2.Telegram) == null ? void 0 : _b.WebApp) == null ? void 0 : _c.platform) != null ? _d : \"unknown\";\n}\nlet webAppVersion = \"6.0\";\nif (initParams == null ? void 0 : initParams.tgWebAppVersion) {\n  webAppVersion = initParams.tgWebAppVersion;\n}\nif (!webAppVersion) {\n  const window2 = getWindow$1();\n  webAppVersion = (_g = (_f = (_e = window2 == null ? void 0 : window2.Telegram) == null ? void 0 : _e.WebApp) == null ? void 0 : _f.version) != null ? _g : \"6.0\";\n}\nfunction isTmaPlatform(...platforms) {\n  return platforms.includes(tmaPlatform);\n}\nfunction isInTMA() {\n  var _a2;\n  return tmaPlatform !== \"unknown\" || !!((_a2 = getWindow$1()) == null ? void 0 : _a2.TelegramWebviewProxy);\n}\nfunction isInTelegramBrowser() {\n  var _a2;\n  const isTelegramWebview = !!((_a2 = getWindow$1()) == null ? void 0 : _a2.TelegramWebview);\n  return (isInTMA() || isTelegramWebview) && tmaPlatform === \"unknown\";\n}\nfunction sendExpand() {\n  postEvent(\"web_app_expand\", {});\n}\nfunction isIframe() {\n  try {\n    const window2 = getWindow$1();\n    if (!window2) {\n      return false;\n    }\n    return window2.parent != null && window2 !== window2.parent;\n  } catch (e2) {\n    return false;\n  }\n}\nfunction postEvent(eventType, eventData) {\n  try {\n    const window2 = getWindow$1();\n    if (!window2) {\n      throw new OKXConnectUiError(`Can't post event to parent window: window is not defined`);\n    }\n    if (window2.TelegramWebviewProxy !== void 0) {\n      logDebug(\"postEvent\", eventType, eventData);\n      window2.TelegramWebviewProxy.postEvent(eventType, JSON.stringify(eventData));\n    } else if (window2.external && \"notify\" in window2.external) {\n      logDebug(\"postEvent\", eventType, eventData);\n      window2.external.notify(JSON.stringify({ eventType, eventData }));\n    } else if (isIframe()) {\n      const trustedTarget = \"*\";\n      const message = JSON.stringify({ eventType, eventData });\n      logDebug(\"postEvent\", eventType, eventData);\n      window2.parent.postMessage(message, trustedTarget);\n    } else {\n      throw new OKXConnectUiError(`Can't post event to TMA`);\n    }\n  } catch (e2) {\n    logError(`Can't post event to parent window: ${e2}`);\n  }\n}\nfunction urlParseHashParams(locationHash) {\n  locationHash = locationHash.replace(/^#/, \"\");\n  let params = {};\n  if (!locationHash.length) {\n    return params;\n  }\n  if (locationHash.indexOf(\"=\") < 0 && locationHash.indexOf(\"?\") < 0) {\n    params._path = urlSafeDecode(locationHash);\n    return params;\n  }\n  let qIndex = locationHash.indexOf(\"?\");\n  if (qIndex >= 0) {\n    let pathParam = locationHash.substr(0, qIndex);\n    params._path = urlSafeDecode(pathParam);\n    locationHash = locationHash.substr(qIndex + 1);\n  }\n  let query_params = urlParseQueryString(locationHash);\n  for (let k in query_params) {\n    params[k] = query_params[k];\n  }\n  return params;\n}\nfunction urlSafeDecode(urlencoded) {\n  try {\n    urlencoded = urlencoded.replace(/\\+/g, \"%20\");\n    return decodeURIComponent(urlencoded);\n  } catch (e2) {\n    return urlencoded;\n  }\n}\nfunction urlParseQueryString(queryString) {\n  let params = {};\n  if (!queryString.length) {\n    return params;\n  }\n  let queryStringParams = queryString.split(\"&\");\n  let i2, param, paramName, paramValue;\n  for (i2 = 0; i2 < queryStringParams.length; i2++) {\n    param = queryStringParams[i2].split(\"=\");\n    paramName = urlSafeDecode(param[0]);\n    paramValue = param[1] == null ? null : urlSafeDecode(param[1]);\n    params[paramName] = paramValue;\n  }\n  return params;\n}\nconst maxWidth = {\n  mobile: 440,\n  tablet: 1020\n};\nfunction isDevice(device) {\n  var _a2;\n  const window2 = getWindow$1();\n  if (!window2) {\n    return device === \"desktop\";\n  }\n  if (isTmaPlatform(\"weba\")) {\n    return true;\n  }\n  const width = window2.innerWidth;\n  switch (device) {\n    case \"desktop\":\n      return width > maxWidth.tablet;\n    case \"tablet\":\n      return width > maxWidth.mobile;\n    default:\n    case \"mobile\":\n      let isMobile2 = width <= maxWidth.mobile || isOS(\"ios\", \"android\", \"ipad\");\n      if (isMobile2) {\n        const isTelegram = !!((_a2 = getWindow$1()) == null ? void 0 : _a2.TelegramWebviewProxy);\n        const maxTouchPoints = navigator.maxTouchPoints || 0;\n        if (isTelegram && maxTouchPoints === 0) {\n          isMobile2 = false;\n        }\n        core.logDebug(\"isDevice mobile isTelegram and maxTouchPoints:\", isMobile2, isTelegram, maxTouchPoints);\n      }\n      return isMobile2;\n  }\n}\nfunction media(device) {\n  switch (device) {\n    case \"mobile\":\n      return `@media (max-width: ${maxWidth.mobile}px)`;\n    case \"tablet\":\n      return `@media (max-width: ${maxWidth.tablet}px) (min-width: ${maxWidth.mobile}px)`;\n    default:\n    case \"desktop\":\n      return `@media (min-width: ${maxWidth.tablet}px)`;\n  }\n}\nconst mediaTouch = \"@media (hover: none)\";\nconst mediaNotTouch = \"@media not all and (hover: none)\";\nconst [isMobile, setIsMobile] = createSignal(isDevice(\"mobile\"));\nconst updateIsMobile = () => setIsMobile(isDevice(\"mobile\"));\nif (getWindow$1()) {\n  window.addEventListener(\"resize\", () => updateIsMobile());\n  window.addEventListener(\"load\", () => updateIsMobile(), { once: true });\n}\nfunction eqWalletName(wallet1, name) {\n  if (!name) {\n    return false;\n  }\n  return wallet1.name.toLowerCase() === name.toLowerCase() || wallet1.appName.toLowerCase() === name.toLowerCase();\n}\nfunction inTg() {\n  return true;\n  // return isInTelegramBrowser() || isInTMA();\n}\nfunction showTonTgWallet() {\n  if (!inTg()) {\n    return false;\n  }\n  return true;\n}\nconst showTgNameSpace = [core.NameSpaceKeySui, core.NameSpaceKeySOL, core.NameSpaceKeyEip155, core.NameSpaceKeyTON, core.NameSpaceKeyBtc, core.NameSpaceKeyAptos, core.NameSpaceKeyTron];\nfunction showUniversalTgWalletByRequestNameSpaces(nameSpaces, optionalNameSpace) {\n  if (!inTg()) {\n    return false;\n  }\n  return EqnameSpace(nameSpaces) && EqnameSpace(optionalNameSpace);\n}\nfunction showUniversalTgWalletBySessionNameSpaces(sessionNameSpace) {\n  if (!inTg()) {\n    return false;\n  }\n  return EqnameSpace(sessionNameSpace);\n}\nfunction EqnameSpace(nameSpaceMap) {\n  try {\n    if (!nameSpaceMap)\n      return true;\n    const keys = Object.keys(nameSpaceMap);\n    return keys.every((element) => showTgNameSpace.includes(element));\n  } catch (e2) {\n    return false;\n  }\n}\nfunction defaultOpenUniversalLink(nameSpaces, optionalNameSpace) {\n  if (!showUniversalTgWalletByRequestNameSpaces(nameSpaces, optionalNameSpace)) {\n    return isMobile();\n  }\n  return false;\n}\nfunction defaultOpenTonUniversalLink() {\n  if (!showTonTgWallet()) {\n    return isMobile();\n  }\n  return false;\n}\nfunction isAppWallet(walletInfo) {\n  if (!walletInfo)\n    return false;\n  return walletInfo.name === core.creatOKXWalletInfo().name;\n}\nfunction openUniversalWallet(walletInfo, twaReturnUrl, sessionNameSpace) {\n  core.logDebug(\"wallets openUniversalWallet\");\n  if (showUniversalTgWalletBySessionNameSpaces(sessionNameSpace)) {\n    openWallet(walletInfo, twaReturnUrl);\n  }\n}\nfunction openTonWallet(walletInfo, twaReturnUrl) {\n  core.logDebug(\"wallets openTonWallet\");\n  if (showTonTgWallet()) {\n    openWallet(walletInfo, twaReturnUrl);\n  }\n}\nfunction openWallet(walletInfo, twaReturnUrl) {\n  core.logDebug(\"wallets openWallet\");\n  if (walletInfo) {\n    if (isAppWallet(walletInfo)) {\n      core.logDebug(`wallets openWallet openOKXDeeplinkWithFallback ${walletInfo.universalLink}`);\n      core.openOKXDeeplink(walletInfo.deepLink);\n    } else {\n      core.logDebug(`wallets openWallet openOKXTMAWalletlinkWithFallback ${walletInfo.universalLink}`);\n      core.openOKXTMAWalletlinkWithFallback(core.getTelegramWalletTWAUrl(void 0, twaReturnUrl));\n    }\n  }\n}\nfunction openWalletForUIRequest(walletInfo, openMethod) {\n  if (!isAppWallet(walletInfo)) {\n    return true;\n  }\n  return isMobile() && openMethod !== \"qrcode\";\n}\nfunction openLink(href, target = \"_self\") {\n  logDebug(\"web-api  openLink\", href, target);\n  window.open(href, target, \"noopener noreferrer\");\n}\nfunction openLinkBlank(href) {\n  openLink(href, \"_blank\");\n}\nfunction openDeeplinkWithFallback(href, fallback) {\n  logDebug(`web-api openDeeplinkWithFallback ${href}`);\n  const doFallback = () => {\n    if (isBrowser(\"safari\") || isOS(\"android\") && isBrowser(\"firefox\")) {\n      return;\n    }\n    fallback();\n  };\n  const fallbackTimeout = setTimeout(() => doFallback(), 3e3);\n  window.addEventListener(\"blur\", () => clearTimeout(fallbackTimeout), { once: true });\n  if (isOS(\"android\") && inTg()) {\n    openLink(href, \"_blank\");\n  } else {\n    openLink(href, \"_self\");\n  }\n}\nfunction getSystemTheme() {\n  if (window.matchMedia && window.matchMedia(\"(prefers-color-scheme: light)\").matches) {\n    return THEME.LIGHT;\n  }\n  return THEME.DARK;\n}\nfunction subscribeToThemeChange(callback) {\n  const handler = (event) => callback(event.matches ? THEME.DARK : THEME.LIGHT);\n  window.matchMedia(\"(prefers-color-scheme: dark)\").addEventListener(\"change\", handler);\n  return () => window.matchMedia(\"(prefers-color-scheme: dark)\").removeEventListener(\"change\", handler);\n}\nfunction disableScroll() {\n  if (document.documentElement.scrollHeight === document.documentElement.clientHeight) {\n    return;\n  }\n  document.body.style.top = toPx(-document.documentElement.scrollTop);\n  document.body.classList.add(disableScrollClass);\n}\nfunction enableScroll() {\n  document.body.classList.remove(disableScrollClass);\n  document.documentElement.scrollTo({ top: -parseFloat(getComputedStyle(document.body).top) });\n  document.body.style.top = \"auto\";\n}\nfunction fixMobileSafariActiveTransition() {\n  if (!document.body.hasAttribute(\"ontouchstart\")) {\n    document.body.setAttribute(\"ontouchstart\", \"\");\n  }\n}\nfunction defineStylesRoot() {\n  if (document.body.getElementsByTagName(globalStylesTag)) {\n    return;\n  }\n  customElements.define(\n    globalStylesTag,\n    class TcRootElement extends HTMLElement {\n    }\n  );\n}\nfunction createMacrotask(callback) {\n  return __async(this, null, function* () {\n    yield new Promise((resolve) => requestAnimationFrame(resolve));\n    callback();\n  });\n}\nfunction createMacrotaskAsync(callback) {\n  return __async(this, null, function* () {\n    yield new Promise((resolve) => requestAnimationFrame(resolve));\n    return callback();\n  });\n}\nfunction preloadImages(images) {\n  if (document.readyState !== \"complete\") {\n    window.addEventListener(\"load\", () => createMacrotask(() => preloadImages(images)), {\n      once: true\n    });\n  } else {\n    images.forEach((img) => {\n      const node = new window.Image();\n      node.src = img;\n    });\n  }\n}\nfunction getWindow$1() {\n  if (typeof window !== \"undefined\") {\n    return window;\n  }\n  return void 0;\n}\nfunction tryGetLocalStorage() {\n  if (isLocalStorageAvailable()) {\n    return localStorage;\n  }\n  if (isNodeJs()) {\n    throw new OKXConnectUiError(\n      \"`localStorage` is unavailable, but it is required for TonConnect\"\n    );\n  }\n  return InMemoryStorage.getInstance();\n}\nfunction isLocalStorageAvailable() {\n  try {\n    return typeof localStorage !== \"undefined\";\n  } catch (e2) {\n    return false;\n  }\n}\nfunction isNodeJs() {\n  return typeof process !== \"undefined\" && process.versions != null && process.versions.node != null;\n}\nfunction getUserAgent() {\n  var _a2, _b2, _c2;\n  const results = new UAParser__default.default().getResult();\n  const osName = (_a2 = results.os.name) == null ? void 0 : _a2.toLowerCase();\n  const deviceModel = (_b2 = results.device.model) == null ? void 0 : _b2.toLowerCase();\n  let os;\n  switch (true) {\n    case deviceModel === \"ipad\":\n      os = \"ipad\";\n      break;\n    case osName === \"ios\":\n      os = \"ios\";\n      break;\n    case osName === \"android\":\n      os = \"android\";\n      break;\n    case osName === \"mac os\":\n      os = \"macos\";\n      break;\n    case osName === \"linux\":\n      os = \"linux\";\n      break;\n    case (osName == null ? void 0 : osName.includes(\"windows\")):\n      os = \"windows\";\n      break;\n  }\n  const browserName = (_c2 = results.browser.name) == null ? void 0 : _c2.toLowerCase();\n  let browser;\n  switch (true) {\n    case browserName === \"chrome\":\n      browser = \"chrome\";\n      break;\n    case browserName === \"firefox\":\n      browser = \"firefox\";\n      break;\n    case (browserName == null ? void 0 : browserName.includes(\"safari\")):\n      browser = \"safari\";\n      break;\n    case (browserName == null ? void 0 : browserName.includes(\"opera\")):\n      browser = \"opera\";\n      break;\n  }\n  return {\n    os,\n    browser\n  };\n}\nfunction isOS(...os) {\n  return os.includes(getUserAgent().os);\n}\nfunction isBrowser(...browser) {\n  return browser.includes(getUserAgent().browser);\n}\nfunction toDeeplink(universalLink, deeplink) {\n  const url = new URL(universalLink);\n  return deeplink + url.search;\n}\nclass WalletInfoStorage {\n  constructor(storageKey) {\n    __publicField(this, \"localStorage\");\n    __publicField(this, \"storageKey\", \"okx-wallet-connect-ui_wallet-info\");\n    this.localStorage = tryGetLocalStorage();\n    this.storageKey = storageKey;\n  }\n  setWalletInfo(walletInfo) {\n    this.localStorage.setItem(this.storageKey, JSON.stringify(walletInfo));\n  }\n  getWalletInfo() {\n    const walletInfoString = this.localStorage.getItem(this.storageKey);\n    if (!walletInfoString) {\n      return null;\n    }\n    return JSON.parse(walletInfoString);\n  }\n  removeWalletInfo() {\n    this.localStorage.removeItem(this.storageKey);\n  }\n}\nclass LastSelectedWalletInfoStorage {\n  constructor() {\n    __publicField(this, \"localStorage\");\n    __publicField(this, \"storageKey\", \"okx_wallet_connect_ui_last-selected-wallet-info\");\n    this.localStorage = tryGetLocalStorage();\n  }\n  setLastSelectedWalletInfo(walletInfo) {\n    this.localStorage.setItem(this.storageKey, JSON.stringify(walletInfo));\n  }\n  getLastSelectedWalletInfo() {\n    const walletInfoString = this.localStorage.getItem(this.storageKey);\n    if (!walletInfoString) {\n      return null;\n    }\n    return JSON.parse(walletInfoString);\n  }\n  removeLastSelectedWalletInfo() {\n    this.localStorage.removeItem(this.storageKey);\n  }\n}\nconst [tonWalletsModalState, setTonWalletsModalState] = createSignal({\n  status: \"closed\",\n  closeReason: null\n});\ncreateMemo(() => tonWalletsModalState().status === \"opened\");\nconst [tonSingleWalletModalState, setTonSingleWalletModalState] = createSignal({\n  status: \"closed\",\n  closeReason: null\n});\nconst getTonSingleWalletModalIsOpened = createMemo(\n  () => tonSingleWalletModalState().status === \"opened\"\n);\nconst getTonSingleWalletModalWalletInfo = createMemo(() => {\n  const state = tonSingleWalletModalState();\n  if (state.status === \"opened\") {\n    return state.walletInfo;\n  }\n  return null;\n});\nlet lastSelectedWalletInfoStorage$1 = typeof window !== \"undefined\" ? new LastSelectedWalletInfoStorage() : void 0;\nconst [lastTonSelectedWalletInfo, _setLastTonSelectedWalletInfo] = createSignal((lastSelectedWalletInfoStorage$1 == null ? void 0 : lastSelectedWalletInfoStorage$1.getLastSelectedWalletInfo()) || null);\nconst setLastTonSelectedWalletInfo = (walletInfo) => {\n  if (!lastSelectedWalletInfoStorage$1) {\n    lastSelectedWalletInfoStorage$1 = new LastSelectedWalletInfoStorage();\n  }\n  if (walletInfo) {\n    logDebug(`modals-state.ts: setLastSelectedWalletInfo ${JSON.stringify(walletInfo)}`);\n    lastSelectedWalletInfoStorage$1.setLastSelectedWalletInfo(walletInfo);\n  } else {\n    logDebug(\"modals-state.ts: setLastSelectedWalletInfo    removeLastSelectedWalletInfo\");\n    lastSelectedWalletInfoStorage$1.removeLastSelectedWalletInfo();\n  }\n  _setLastTonSelectedWalletInfo(walletInfo);\n};\nconst [tonAction, setTonAction] = createSignal(null);\nconst ImagePlaceholder = styled.div`\n    background-color: ${(props) => props.theme.colors.background.secondary};\n`;\nconst Image = (props) => {\n  let imgRef;\n  const [image, setImage] = createSignal(null);\n  createEffect(() => {\n    const img = new window.Image();\n    img.src = props.src;\n    img.alt = props.alt || \"\";\n    img.setAttribute(\"draggable\", \"false\");\n    if (props.class) {\n      img.classList.add(props.class);\n    }\n    if (img.complete) {\n      return setImage(img);\n    }\n    img.addEventListener(\"load\", () => setImage(img));\n    return () => img.removeEventListener(\"load\", () => setImage(img));\n  });\n  return [createComponent(Show, {\n    get when() {\n      return image();\n    },\n    get children() {\n      return image();\n    }\n  }), createComponent(Show, {\n    get when() {\n      return !image();\n    },\n    get children() {\n      return createComponent(ImagePlaceholder, {\n        get [\"class\"]() {\n          return props.class;\n        },\n        ref(r$) {\n          var _ref$ = imgRef;\n          typeof _ref$ === \"function\" ? _ref$(r$) : imgRef = r$;\n        }\n      });\n    }\n  })];\n};\nconst borders$2 = {\n  m: \"100vh\",\n  s: \"8px\",\n  none: \"0\"\n};\nconst scaleValues = {\n  s: 0.02,\n  m: 0.04\n};\nconst ButtonStyled$1 = styled.button`\n    display: ${(props) => props.leftIcon || props.rightIcon ? \"flex\" : \"inline-block\"};\n    gap: ${(props) => props.leftIcon || props.rightIcon ? \"6px\" : \"unset\"};\n    align-items: ${(props) => props.leftIcon || props.rightIcon ? \"center\" : \"unset\"};\n    justify-content: ${(props) => props.leftIcon || props.rightIcon ? \"space-between\" : \"unset\"};\n    background-color: ${(props) => props.appearance === \"flat\" ? \"transparent\" : props.appearance === \"secondary\" ? props.theme.colors.background.tint : rgba(props.theme.colors.accent, 0.12)};\n    color: ${(props) => props.appearance === \"secondary\" ? props.theme.colors.text.primary : props.theme.colors.accent};\n\n    padding: ${(props) => props.appearance === \"flat\" ? \"0\" : \"9px 16px\"};\n    padding-left: ${(props) => props.leftIcon && props.appearance !== \"flat\" ? \"12px\" : \"16px\"};\n    padding-right: ${(props) => props.rightIcon && props.appearance !== \"flat\" ? \"12px\" : \"16px\"};\n    border: none;\n    border-radius: ${(props) => borders$2[props.theme.borderRadius]};\n    cursor: ${(props) => props.disabled ? \"not-allowed\" : \"pointer\"};\n\n    font-size: 14px;\n    font-weight: 510;\n    line-height: 18px;\n\n    transition: transform 0.125s ease-in-out;\n\n    ${mediaNotTouch} {\n        &:hover {\n            transform: ${(props) => props.disabled ? \"unset\" : `scale(${1 + scaleValues[props.scale]})`};\n        }\n    }\n\n    &:active {\n        transform: ${(props) => props.disabled ? \"unset\" : `scale(${1 - scaleValues[props.scale]})`};\n    }\n\n    ${mediaTouch} {\n        &:active {\n            transform: ${(props) => props.disabled ? \"unset\" : `scale(${1 - scaleValues[props.scale] * 2})`};\n        }\n    }\n`;\nfunction useDataAttributes(props) {\n  const keys = untrack(() => Object.keys(props).filter((key) => key.startsWith(\"data-\")));\n  const [dataAttrs] = splitProps(props, keys);\n  return dataAttrs;\n}\nconst Button = (props) => {\n  const dataAttrs = useDataAttributes(props);\n  return createComponent(ButtonStyled$1, mergeProps({\n    get appearance() {\n      return props.appearance || \"primary\";\n    },\n    get [\"class\"]() {\n      return props.class;\n    },\n    onClick: (e2) => {\n      var _a2;\n      return (_a2 = props.onClick) == null ? void 0 : _a2.call(props, e2);\n    },\n    onMouseEnter: (e2) => {\n      var _a2;\n      return (_a2 = props.onMouseEnter) == null ? void 0 : _a2.call(props, e2);\n    },\n    onMouseLeave: (e2) => {\n      var _a2;\n      return (_a2 = props.onMouseLeave) == null ? void 0 : _a2.call(props, e2);\n    },\n    ref(r$) {\n      var _ref$ = props.ref;\n      typeof _ref$ === \"function\" ? _ref$(r$) : props.ref = r$;\n    },\n    get disabled() {\n      return props.disabled;\n    },\n    get scale() {\n      return props.scale || \"m\";\n    },\n    get leftIcon() {\n      return !!props.leftIcon;\n    },\n    get rightIcon() {\n      return !!props.rightIcon;\n    },\n    \"data-tc-button\": \"true\"\n  }, dataAttrs, {\n    get children() {\n      return [createMemo(() => props.leftIcon), createMemo(() => props.children), createMemo(() => props.rightIcon)];\n    }\n  }));\n};\nfunction nextFrame(fn) {\n  requestAnimationFrame(() => {\n    requestAnimationFrame(fn);\n  });\n}\nconst Transition = (props) => {\n  let el;\n  let first = true;\n  const [s1, set1] = createSignal();\n  const [s2, set2] = createSignal();\n  const resolved = children(() => props.children);\n  const {\n    onBeforeEnter,\n    onEnter,\n    onAfterEnter,\n    onBeforeExit,\n    onExit,\n    onAfterExit\n  } = props;\n  const classnames = createMemo(() => {\n    const name = props.name || \"s\";\n    return {\n      enterActiveClass: props.enterActiveClass || name + \"-enter-active\",\n      enterClass: props.enterClass || name + \"-enter\",\n      enterToClass: props.enterToClass || name + \"-enter-to\",\n      exitActiveClass: props.exitActiveClass || name + \"-exit-active\",\n      exitClass: props.exitClass || name + \"-exit\",\n      exitToClass: props.exitToClass || name + \"-exit-to\"\n    };\n  });\n  function enterTransition(el2, prev) {\n    if (!first || props.appear) {\n      let endTransition = function(e2) {\n        if (el2 && (!e2 || e2.target === el2)) {\n          el2.removeEventListener(\"transitionend\", endTransition);\n          el2.removeEventListener(\"animationend\", endTransition);\n          el2.classList.remove(...enterActiveClasses);\n          el2.classList.remove(...enterToClasses);\n          batch(() => {\n            s1() !== el2 && set1(el2);\n            s2() === el2 && set2(void 0);\n          });\n          onAfterEnter && onAfterEnter(el2);\n          if (props.mode === \"inout\")\n            exitTransition(el2, prev);\n        }\n      };\n      const enterClasses = classnames().enterClass.split(\" \");\n      const enterActiveClasses = classnames().enterActiveClass.split(\" \");\n      const enterToClasses = classnames().enterToClass.split(\" \");\n      onBeforeEnter && onBeforeEnter(el2);\n      el2.classList.add(...enterClasses);\n      el2.classList.add(...enterActiveClasses);\n      nextFrame(() => {\n        el2.classList.remove(...enterClasses);\n        el2.classList.add(...enterToClasses);\n        onEnter && onEnter(el2, () => endTransition());\n        if (!onEnter || onEnter.length < 2) {\n          el2.addEventListener(\"transitionend\", endTransition);\n          el2.addEventListener(\"animationend\", endTransition);\n        }\n      });\n    }\n    prev && !props.mode ? set2(el2) : set1(el2);\n  }\n  function exitTransition(el2, prev) {\n    const exitClasses = classnames().exitClass.split(\" \");\n    const exitActiveClasses = classnames().exitActiveClass.split(\" \");\n    const exitToClasses = classnames().exitToClass.split(\" \");\n    if (!prev.parentNode)\n      return endTransition();\n    onBeforeExit && onBeforeExit(prev);\n    prev.classList.add(...exitClasses);\n    prev.classList.add(...exitActiveClasses);\n    nextFrame(() => {\n      prev.classList.remove(...exitClasses);\n      prev.classList.add(...exitToClasses);\n    });\n    onExit && onExit(prev, () => endTransition());\n    if (!onExit || onExit.length < 2) {\n      prev.addEventListener(\"transitionend\", endTransition);\n      prev.addEventListener(\"animationend\", endTransition);\n    }\n    function endTransition(e2) {\n      if (!e2 || e2.target === prev) {\n        prev.removeEventListener(\"transitionend\", endTransition);\n        prev.removeEventListener(\"animationend\", endTransition);\n        prev.classList.remove(...exitActiveClasses);\n        prev.classList.remove(...exitToClasses);\n        s1() === prev && set1(void 0);\n        onAfterExit && onAfterExit(prev);\n        if (props.mode === \"outin\")\n          enterTransition(el2, prev);\n      }\n    }\n  }\n  createComputed((prev) => {\n    el = resolved();\n    while (typeof el === \"function\")\n      el = el();\n    return untrack(() => {\n      if (el && el !== prev) {\n        if (props.mode !== \"outin\")\n          enterTransition(el, prev);\n        else if (first)\n          set1(el);\n      }\n      if (prev && prev !== el && props.mode !== \"inout\")\n        exitTransition(el, prev);\n      first = false;\n      return el;\n    });\n  });\n  return [s1, s2];\n};\nfunction clickOutside$1(el, accessor) {\n  const onClick = (e2) => {\n    var _a2;\n    return !el.contains(e2.target) && ((_a2 = accessor()) == null ? void 0 : _a2());\n  };\n  document.body.addEventListener(\"click\", onClick);\n  onCleanup(() => document.body.removeEventListener(\"click\", onClick));\n}\nfunction escPressed(_, accessor) {\n  const onKeyPress = (e2) => {\n    var _a2, _b2;\n    if (e2.key === \"Escape\") {\n      (_a2 = document.activeElement) == null ? void 0 : _a2.blur();\n      (_b2 = accessor()) == null ? void 0 : _b2();\n    }\n  };\n  document.body.addEventListener(\"keydown\", onKeyPress);\n  onCleanup(() => document.body.removeEventListener(\"keydown\", onKeyPress));\n}\nfunction androidBackHandler$1(_, config) {\n  const {\n    isEnabled,\n    onClose\n  } = config();\n  if (!isEnabled) {\n    return;\n  }\n  const userOSIsAndroid = getUserAgent().os === \"android\";\n  if (!userOSIsAndroid) {\n    return;\n  }\n  window.history.pushState(ROUTE_STATE, \"\");\n  const popstateHandler = (event) => {\n    event.preventDefault();\n    onClose();\n  };\n  window.addEventListener(\"popstate\", popstateHandler, {\n    once: true\n  });\n  onCleanup(() => {\n    window.removeEventListener(\"popstate\", popstateHandler);\n    createMacrotask(() => {\n      var _a2;\n      if (((_a2 = window.history.state) == null ? void 0 : _a2[ROUTE_STATE_KEY]) === true) {\n        window.history.back();\n      }\n    });\n  });\n}\nconst ROUTE_STATE_KEY = \"androidBackHandler\";\nconst ROUTE_STATE = {\n  [ROUTE_STATE_KEY]: true\n};\nvar _tmpl$$g = /* @__PURE__ */ template$1(`<svg><path fill-rule=evenodd clip-rule=evenodd d=\"M10.2122 14.3407C10.5384 14.0854 10.5959 13.614 10.3406 13.2878L6.20237 8.00003L10.3406 2.71227C10.5959 2.38607 10.5384 1.91469 10.2122 1.6594C9.88604 1.40412 9.41465 1.46161 9.15937 1.7878L4.65937 7.5378C4.44688 7.80932 4.44688 8.19074 4.65937 8.46226L9.15937 14.2123C9.41465 14.5385 9.88604 14.5959 10.2122 14.3407Z\"></svg>`, false, true);\nconst rotationDegrees = {\n  left: 0,\n  top: 90,\n  right: 180,\n  bottom: 270\n};\nconst ArrowIcon = (props) => {\n  const theme = useTheme();\n  const fill = () => props.fill || theme.colors.icon.secondary;\n  const direction = () => props.direction || \"left\";\n  const Svg = styled(\"svg\")`\n        transform: rotate(${(props2) => rotationDegrees[props2.svgDirection]}deg);\n        transition: transform 0.1s ease-in-out;\n    `;\n  return createComponent(Svg, {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: \"16\",\n    height: \"16\",\n    viewBox: \"0 0 16 16\",\n    fill: \"none\",\n    get svgDirection() {\n      return direction();\n    },\n    get children() {\n      var _el$ = _tmpl$$g();\n      createRenderEffect(() => setAttribute(_el$, \"fill\", fill()));\n      return _el$;\n    }\n  });\n};\nvar _tmpl$$f = /* @__PURE__ */ template$1(`<svg xmlns=http://www.w3.org/2000/svg width=24 height=24 viewBox=\"0 0 24 24\"fill=none><path fill-rule=evenodd clip-rule=evenodd d=\"M18.5303 6.53033C18.8232 6.23744 18.8232 5.76256 18.5303 5.46967C18.2374 5.17678 17.7626 5.17678 17.4697 5.46967L12 10.9393L6.53033 5.46967C6.23744 5.17678 5.76256 5.17678 5.46967 5.46967C5.17678 5.76256 5.17678 6.23744 5.46967 6.53033L10.9393 12L5.46967 17.4697C5.17678 17.7626 5.17678 18.2374 5.46967 18.5303C5.76256 18.8232 6.23744 18.8232 6.53033 18.5303L12 13.0607L17.4697 18.5303C17.7626 18.8232 18.2374 18.8232 18.5303 18.5303C18.8232 18.2374 18.8232 17.7626 18.5303 17.4697L13.0607 12L18.5303 6.53033Z\">`);\nconst CloseIcon = (props) => {\n  const theme = useTheme();\n  logDebug(`CloseIcon  ${theme}`);\n  const fill = () => props.fill || theme.colors.icon.secondary;\n  return (() => {\n    var _el$ = _tmpl$$f(), _el$2 = _el$.firstChild;\n    createRenderEffect(() => setAttribute(_el$2, \"fill\", fill()));\n    return _el$;\n  })();\n};\nvar _tmpl$$e = /* @__PURE__ */ template$1(`<svg width=24 height=24 viewBox=\"0 0 24 24\"fill=none xmlns=http://www.w3.org/2000/svg><path fill-rule=evenodd clip-rule=evenodd d=\"M14.1839 17.7069C13.6405 18.6507 13.3688 19.1226 13.0591 19.348C12.4278 19.8074 11.5723 19.8074 10.941 19.348C10.6312 19.1226 10.3595 18.6507 9.81613 17.7069L5.52066 10.2464C4.76864 8.94024 4.39263 8.28717 4.33762 7.75894C4.2255 6.68236 4.81894 5.65591 5.80788 5.21589C6.29309 5 7.04667 5 8.55383 5H15.4462C16.9534 5 17.7069 5 18.1922 5.21589C19.1811 5.65591 19.7745 6.68236 19.6624 7.75894C19.6074 8.28717 19.2314 8.94024 18.4794 10.2464L14.1839 17.7069ZM11.1 16.3412L6.56139 8.48002C6.31995 8.06185 6.19924 7.85276 6.18146 7.68365C6.14523 7.33896 6.33507 7.01015 6.65169 6.86919C6.80703 6.80002 7.04847 6.80002 7.53133 6.80002H7.53134L11.1 6.80002V16.3412ZM12.9 16.3412L17.4387 8.48002C17.6801 8.06185 17.8008 7.85276 17.8186 7.68365C17.8548 7.33896 17.665 7.01015 17.3484 6.86919C17.193 6.80002 16.9516 6.80002 16.4687 6.80002L12.9 6.80002V16.3412Z\">`);\nconst TonIcon = (props) => {\n  const theme = useTheme();\n  const fill = () => props.fill || theme.colors.icon.primary;\n  return (() => {\n    var _el$ = _tmpl$$e(), _el$2 = _el$.firstChild;\n    createRenderEffect(() => setAttribute(_el$2, \"fill\", fill()));\n    return _el$;\n  })();\n};\nvar _tmpl$$d = /* @__PURE__ */ template$1(`<svg xmlns=http://www.w3.org/2000/svg width=16 height=16 viewBox=\"0 0 16 16\"fill=none><g clip-path=url(#clip0_3783_2045)><circle cx=8 cy=8.00098 r=8></circle><path d=\"M4.75 8.50098L7 10.751L11.75 6.00098\"stroke-width=1.5 stroke-linecap=round stroke-linejoin=round></path></g><defs><clipPath id=clip0_3783_2045><rect width=16 height=16 fill=white transform=\"translate(0 0.000976562)\">`), _tmpl$2$3 = /* @__PURE__ */ template$1(`<svg width=24 height=24 viewBox=\"0 0 24 24\"fill=none xmlns=http://www.w3.org/2000/svg><circle cx=12 cy=12 r=11></circle><path d=\"M17.1364 9.6364C17.4879 9.28493 17.4879 8.71508 17.1364 8.36361C16.7849 8.01214 16.2151 8.01214 15.8636 8.36361L10 14.2272L8.1364 12.3636C7.78493 12.0121 7.21508 12.0121 6.86361 12.3636C6.51214 12.7151 6.51214 13.2849 6.86361 13.6364L9.36361 16.1364C9.71508 16.4879 10.2849 16.4879 10.6364 16.1364L17.1364 9.6364Z\">`), _tmpl$3$2 = /* @__PURE__ */ template$1(`<svg width=72 height=72 viewBox=\"0 0 72 72\"fill=none xmlns=http://www.w3.org/2000/svg><circle cx=36 cy=36 r=33></circle><path d=\"M50.9142 28.4142C51.6953 27.6332 51.6953 26.3668 50.9142 25.5858C50.1332 24.8047 48.8668 24.8047 48.0858 25.5858L30 43.6716L23.9142 37.5858C23.1332 36.8047 21.8668 36.8047 21.0858 37.5858C20.3047 38.3668 20.3047 39.6332 21.0858 40.4142L28.5858 47.9142C29.3668 48.6953 30.6332 48.6953 31.4142 47.9142L50.9142 28.4142Z\">`);\nconst SuccessIcon = (props) => {\n  const theme = useTheme();\n  const size2 = () => props.size || \"s\";\n  const fill = () => props.fill || theme.colors.icon.success;\n  return createMemo(() => createMemo(() => size2() === \"xs\")() ? (() => {\n    var _el$ = _tmpl$$d(), _el$2 = _el$.firstChild, _el$3 = _el$2.firstChild, _el$4 = _el$3.nextSibling;\n    createRenderEffect((_p$) => {\n      var _v$ = props.class, _v$2 = fill(), _v$3 = theme.colors.constant.white;\n      _v$ !== _p$.e && setAttribute(_el$, \"class\", _p$.e = _v$);\n      _v$2 !== _p$.t && setAttribute(_el$3, \"fill\", _p$.t = _v$2);\n      _v$3 !== _p$.a && setAttribute(_el$4, \"stroke\", _p$.a = _v$3);\n      return _p$;\n    }, {\n      e: void 0,\n      t: void 0,\n      a: void 0\n    });\n    return _el$;\n  })() : createMemo(() => size2() === \"s\")() ? (() => {\n    var _el$5 = _tmpl$2$3(), _el$6 = _el$5.firstChild, _el$7 = _el$6.nextSibling;\n    createRenderEffect((_p$) => {\n      var _v$4 = props.class, _v$5 = fill(), _v$6 = theme.colors.constant.white;\n      _v$4 !== _p$.e && setAttribute(_el$5, \"class\", _p$.e = _v$4);\n      _v$5 !== _p$.t && setAttribute(_el$6, \"fill\", _p$.t = _v$5);\n      _v$6 !== _p$.a && setAttribute(_el$7, \"fill\", _p$.a = _v$6);\n      return _p$;\n    }, {\n      e: void 0,\n      t: void 0,\n      a: void 0\n    });\n    return _el$5;\n  })() : (() => {\n    var _el$8 = _tmpl$3$2(), _el$9 = _el$8.firstChild, _el$10 = _el$9.nextSibling;\n    createRenderEffect((_p$) => {\n      var _v$7 = props.class, _v$8 = fill(), _v$9 = theme.colors.constant.white;\n      _v$7 !== _p$.e && setAttribute(_el$8, \"class\", _p$.e = _v$7);\n      _v$8 !== _p$.t && setAttribute(_el$9, \"fill\", _p$.t = _v$8);\n      _v$9 !== _p$.a && setAttribute(_el$10, \"fill\", _p$.a = _v$9);\n      return _p$;\n    }, {\n      e: void 0,\n      t: void 0,\n      a: void 0\n    });\n    return _el$8;\n  })());\n};\nvar _tmpl$$c = /* @__PURE__ */ template$1(`<svg xmlns=http://www.w3.org/2000/svg width=103 height=102 viewBox=\"0 0 103 102\"fill=none><path fill-rule=evenodd clip-rule=evenodd d=\"M51.5 14.8747C31.5487 14.8747 15.375 31.0485 15.375 50.9997C15.375 70.951 31.5487 87.1247 51.5 87.1247C71.4513 87.1247 87.625 70.951 87.625 50.9997C87.625 31.0485 71.4513 14.8747 51.5 14.8747ZM9 50.9997C9 27.5276 28.0279 8.49974 51.5 8.49974C74.9721 8.49974 94 27.5276 94 50.9997C94 74.4718 74.9721 93.4997 51.5 93.4997C28.0279 93.4997 9 74.4718 9 50.9997ZM65.0234 37.4765C66.2682 38.7213 66.2682 40.7395 65.0234 41.9843L56.0078 50.9999L65.0234 60.0155C66.2682 61.2603 66.2682 63.2785 65.0234 64.5233C63.7786 65.7681 61.7604 65.7681 60.5156 64.5233L51.5 55.5077L42.4844 64.5233C41.2396 65.7681 39.2214 65.7681 37.9766 64.5233C36.7318 63.2785 36.7318 61.2603 37.9766 60.0155L46.9922 50.9999L37.9766 41.9843C36.7318 40.7395 36.7318 38.7213 37.9766 37.4765C39.2214 36.2317 41.2396 36.2317 42.4844 37.4765L51.5 46.4921L60.5156 37.4765C61.7604 36.2317 63.7787 36.2317 65.0234 37.4765Z\"fill=#909090>`), _tmpl$2$2 = /* @__PURE__ */ template$1(`<svg xmlns=http://www.w3.org/2000/svg width=72 height=72 viewBox=\"0 0 103 102\"fill=none><path fill-rule=evenodd clip-rule=evenodd d=\"M51.5 14.8747C31.5487 14.8747 15.375 31.0485 15.375 50.9997C15.375 70.951 31.5487 87.1247 51.5 87.1247C71.4513 87.1247 87.625 70.951 87.625 50.9997C87.625 31.0485 71.4513 14.8747 51.5 14.8747ZM9 50.9997C9 27.5276 28.0279 8.49974 51.5 8.49974C74.9721 8.49974 94 27.5276 94 50.9997C94 74.4718 74.9721 93.4997 51.5 93.4997C28.0279 93.4997 9 74.4718 9 50.9997ZM65.0234 37.4765C66.2682 38.7213 66.2682 40.7395 65.0234 41.9843L56.0078 50.9999L65.0234 60.0155C66.2682 61.2603 66.2682 63.2785 65.0234 64.5233C63.7786 65.7681 61.7604 65.7681 60.5156 64.5233L51.5 55.5077L42.4844 64.5233C41.2396 65.7681 39.2214 65.7681 37.9766 64.5233C36.7318 63.2785 36.7318 61.2603 37.9766 60.0155L46.9922 50.9999L37.9766 41.9843C36.7318 40.7395 36.7318 38.7213 37.9766 37.4765C39.2214 36.2317 41.2396 36.2317 42.4844 37.4765L51.5 46.4921L60.5156 37.4765C61.7604 36.2317 63.7787 36.2317 65.0234 37.4765Z\"fill=#909090>`), _tmpl$3$1 = /* @__PURE__ */ template$1(`<svg xmlns=http://www.w3.org/2000/svg width=24 height=24 viewBox=\"0 0 103 102\"fill=none><path fill-rule=evenodd clip-rule=evenodd d=\"M51.5 14.8747C31.5487 14.8747 15.375 31.0485 15.375 50.9997C15.375 70.951 31.5487 87.1247 51.5 87.1247C71.4513 87.1247 87.625 70.951 87.625 50.9997C87.625 31.0485 71.4513 14.8747 51.5 14.8747ZM9 50.9997C9 27.5276 28.0279 8.49974 51.5 8.49974C74.9721 8.49974 94 27.5276 94 50.9997C94 74.4718 74.9721 93.4997 51.5 93.4997C28.0279 93.4997 9 74.4718 9 50.9997ZM65.0234 37.4765C66.2682 38.7213 66.2682 40.7395 65.0234 41.9843L56.0078 50.9999L65.0234 60.0155C66.2682 61.2603 66.2682 63.2785 65.0234 64.5233C63.7786 65.7681 61.7604 65.7681 60.5156 64.5233L51.5 55.5077L42.4844 64.5233C41.2396 65.7681 39.2214 65.7681 37.9766 64.5233C36.7318 63.2785 36.7318 61.2603 37.9766 60.0155L46.9922 50.9999L37.9766 41.9843C36.7318 40.7395 36.7318 38.7213 37.9766 37.4765C39.2214 36.2317 41.2396 36.2317 42.4844 37.4765L51.5 46.4921L60.5156 37.4765C61.7604 36.2317 63.7787 36.2317 65.0234 37.4765Z\"fill=#909090>`);\nconst ErrorIcon = (props) => {\n  useTheme();\n  const size2 = () => props.size || \"m\";\n  return createMemo(() => createMemo(() => size2() === \"m\")() ? _tmpl$$c() : createMemo(() => size2() === \"s\")() ? _tmpl$2$2() : _tmpl$3$1());\n};\nvar _tmpl$$b = /* @__PURE__ */ template$1(`<svg width=24 height=24 viewBox=\"0 0 24 24\"fill=none xmlns=http://www.w3.org/2000/svg><path d=\"M15.55 5.85123C18.9459 7.81184 20.1094 12.1541 18.1488 15.55C16.1882 18.9459 11.8459 20.1094 8.44998 18.1488C8.01952 17.9003 7.46909 18.0478 7.22056 18.4782C6.97203 18.9087 7.11952 19.4591 7.54998 19.7076C11.8068 22.1653 17.2499 20.7068 19.7076 16.45C22.1653 12.1932 20.7068 6.75005 16.45 4.29239C12.1932 1.83472 6.75003 3.29321 4.29236 7.55001C4.04383 7.98047 4.19132 8.53091 4.62178 8.77943C5.05224 9.02796 5.60268 8.88048 5.8512 8.45001C7.81181 5.05413 12.1541 3.89062 15.55 5.85123Z\">`), _tmpl$2$1 = /* @__PURE__ */ template$1(`<svg xmlns=http://www.w3.org/2000/svg width=44 height=44 viewBox=\"0 0 44 44\"fill=none><path fill-rule=evenodd clip-rule=evenodd d=\"M22 2.99951C11.5066 2.99951 3 11.5061 3 21.9995C3 32.4929 11.5066 40.9995 22 40.9995C22.8284 40.9995 23.5 41.6711 23.5 42.4995C23.5 43.3279 22.8284 43.9995 22 43.9995C9.84974 43.9995 0 34.1498 0 21.9995C0 9.84925 9.84974 -0.000488281 22 -0.000488281C34.1503 -0.000488281 44 9.84925 44 21.9995C44 22.8279 43.3284 23.4995 42.5 23.4995C41.6716 23.4995 41 22.8279 41 21.9995C41 11.5061 32.4934 2.99951 22 2.99951Z\">`), _tmpl$3 = /* @__PURE__ */ template$1(`<svg width=72 height=72 viewBox=\"0 0 72 72\"fill=none xmlns=http://www.w3.org/2000/svg><path d=\"M24 56.7846C35.479 63.412 50.1572 59.479 56.7846 47.9999C63.412 36.5209 59.479 21.8427 48 15.2153C36.521 8.58791 21.8428 12.5209 15.2154 23.9999\"stroke-width=4 stroke-linecap=round stroke-linejoin=round>`);\nconst LoaderIcon = (props) => {\n  const theme = useTheme();\n  const size2 = () => props.size || \"xs\";\n  const fill = () => props.fill || theme.colors.icon.tertiary;\n  const rotateAnimation = h`\n        0% {\n          transform: rotate(0deg);\n        }\n        100% {\n          transform: rotate(360deg);\n        }\n    `;\n  const svgClass = u`\n        animation: ${rotateAnimation} 1s linear infinite;\n    `;\n  return createMemo(() => createMemo(() => size2() === \"xs\")() ? (() => {\n    var _el$ = _tmpl$$b(), _el$2 = _el$.firstChild;\n    createRenderEffect((_p$) => {\n      var _v$ = cn__default.default(svgClass, props.class), _v$2 = fill();\n      _v$ !== _p$.e && setAttribute(_el$, \"class\", _p$.e = _v$);\n      _v$2 !== _p$.t && setAttribute(_el$2, \"fill\", _p$.t = _v$2);\n      return _p$;\n    }, {\n      e: void 0,\n      t: void 0\n    });\n    return _el$;\n  })() : createMemo(() => size2() === \"s\")() ? (() => {\n    var _el$3 = _tmpl$2$1(), _el$4 = _el$3.firstChild;\n    createRenderEffect((_p$) => {\n      var _v$3 = cn__default.default(svgClass, props.class), _v$4 = fill();\n      _v$3 !== _p$.e && setAttribute(_el$3, \"class\", _p$.e = _v$3);\n      _v$4 !== _p$.t && setAttribute(_el$4, \"fill\", _p$.t = _v$4);\n      return _p$;\n    }, {\n      e: void 0,\n      t: void 0\n    });\n    return _el$3;\n  })() : (() => {\n    var _el$5 = _tmpl$3(), _el$6 = _el$5.firstChild;\n    createRenderEffect((_p$) => {\n      var _v$5 = cn__default.default(svgClass, props.class), _v$6 = fill();\n      _v$5 !== _p$.e && setAttribute(_el$5, \"class\", _p$.e = _v$5);\n      _v$6 !== _p$.t && setAttribute(_el$6, \"stroke\", _p$.t = _v$6);\n      return _p$;\n    }, {\n      e: void 0,\n      t: void 0\n    });\n    return _el$5;\n  })());\n};\nvar _tmpl$$a = /* @__PURE__ */ template$1(`<svg xmlns=http://www.w3.org/2000/svg width=16 height=16 viewBox=\"0 0 16 16\"fill=none><path fill-rule=evenodd clip-rule=evenodd d=\"M5.56608 4.42584C5.82527 3.32158 6.8176 2.5 8.00001 2.5C9.38072 2.5 10.5 3.61929 10.5 5C10.5 5.63026 10.3391 6.0386 10.1264 6.34455C9.90018 6.66993 9.58561 6.92478 9.18864 7.20877C9.12579 7.25372 9.05873 7.30025 8.9887 7.34883C8.27392 7.84472 7.25001 8.55507 7.25001 10V10.25C7.25001 10.6642 7.5858 11 8.00001 11C8.41422 11 8.75001 10.6642 8.75001 10.25V10C8.75001 9.36502 9.10777 9.1096 9.94554 8.51149L10.0614 8.42873C10.4769 8.13147 10.9748 7.75194 11.358 7.20076C11.7547 6.63015 12 5.91973 12 5C12 2.79086 10.2091 1 8.00001 1C6.10564 1 4.5205 2.31615 4.10577 4.08308C4.01112 4.48634 4.26129 4.88997 4.66454 4.98462C5.0678 5.07927 5.47143 4.8291 5.56608 4.42584ZM8.00001 15C8.60752 15 9.10001 14.5075 9.10001 13.9C9.10001 13.2925 8.60752 12.8 8.00001 12.8C7.39249 12.8 6.90001 13.2925 6.90001 13.9C6.90001 14.5075 7.39249 15 8.00001 15Z\">`);\nconst QuestionIcon = (props) => {\n  const theme = useTheme();\n  const fill = () => props.fill || theme.colors.icon.secondary;\n  return (() => {\n    var _el$ = _tmpl$$a(), _el$2 = _el$.firstChild;\n    createRenderEffect(() => setAttribute(_el$2, \"fill\", fill()));\n    return _el$;\n  })();\n};\nvar _tmpl$$9 = /* @__PURE__ */ template$1(`<svg xmlns=http://www.w3.org/2000/svg width=16 height=16 viewBox=\"0 0 16 16\"fill=none><path fill-rule=evenodd clip-rule=evenodd d=\"M3.56176 1.87482C3.8379 1.87482 4.06176 2.09867 4.06176 2.37482V3.69674C5.09916 2.7469 6.48174 2.16666 7.99996 2.16666C11.2216 2.16666 13.8333 4.77834 13.8333 8C13.8333 11.2217 11.2216 13.8333 7.99996 13.8333C4.7783 13.8333 2.16663 11.2217 2.16663 8C2.16663 7.72385 2.39048 7.5 2.66663 7.5C2.94277 7.5 3.16663 7.72385 3.16663 8C3.16663 10.6694 5.33058 12.8333 7.99996 12.8333C10.6693 12.8333 12.8333 10.6694 12.8333 8C12.8333 5.33062 10.6693 3.16666 7.99996 3.16666C6.68645 3.16666 5.49513 3.69037 4.62354 4.54148H6.22843C6.50457 4.54148 6.72843 4.76534 6.72843 5.04148C6.72843 5.31763 6.50457 5.54148 6.22843 5.54148H3.56176C3.28562 5.54148 3.06176 5.31763 3.06176 5.04148V2.37482C3.06176 2.09867 3.28562 1.87482 3.56176 1.87482Z\">`);\nconst RetryIcon = (_) => {\n  const theme = useTheme();\n  return (() => {\n    var _el$ = _tmpl$$9(), _el$2 = _el$.firstChild;\n    createRenderEffect(() => setAttribute(_el$2, \"fill\", theme.colors.text.primary));\n    return _el$;\n  })();\n};\nvar _tmpl$$8 = /* @__PURE__ */ template$1(`<svg xmlns=http://www.w3.org/2000/svg width=16 height=17 viewBox=\"0 0 16 17\"fill=none><path fill-rule=evenodd clip-rule=evenodd d=\"M1 4.12695C1 3.07754 1 2.55284 1.19202 2.14684C1.38986 1.72856 1.7266 1.39181 2.14489 1.19397C2.55088 1.00195 3.07559 1.00195 4.125 1.00195C5.17441 1.00195 5.69912 1.00195 6.10511 1.19397C6.5234 1.39181 6.86014 1.72856 7.05798 2.14684C7.25 2.55284 7.25 3.07754 7.25 4.12695C7.25 5.17636 7.25 5.70107 7.05798 6.10706C6.86014 6.52535 6.5234 6.8621 6.10511 7.05993C5.69912 7.25195 5.17441 7.25195 4.125 7.25195C3.07559 7.25195 2.55088 7.25195 2.14489 7.05993C1.7266 6.8621 1.38986 6.52535 1.19202 6.10706C1 5.70107 1 5.17636 1 4.12695ZM2.5 3.30195C2.5 3.02193 2.5 2.88191 2.5545 2.77496C2.60243 2.68088 2.67892 2.60439 2.773 2.55645C2.87996 2.50195 3.01997 2.50195 3.3 2.50195H4.95C5.23003 2.50195 5.37004 2.50195 5.477 2.55645C5.57108 2.60439 5.64757 2.68088 5.6955 2.77496C5.75 2.88191 5.75 3.02193 5.75 3.30195V4.95195C5.75 5.23198 5.75 5.37199 5.6955 5.47895C5.64757 5.57303 5.57108 5.64952 5.477 5.69746C5.37004 5.75195 5.23003 5.75195 4.95 5.75195H3.3C3.01997 5.75195 2.87996 5.75195 2.773 5.69746C2.67892 5.64952 2.60243 5.57303 2.5545 5.47895C2.5 5.37199 2.5 5.23198 2.5 4.95195V3.30195ZM1 11.877C1 10.8275 1 10.3028 1.19202 9.89684C1.38986 9.47856 1.7266 9.14181 2.14489 8.94397C2.55088 8.75195 3.07559 8.75195 4.125 8.75195C5.17441 8.75195 5.69912 8.75195 6.10511 8.94397C6.5234 9.14181 6.86014 9.47856 7.05798 9.89684C7.25 10.3028 7.25 10.8275 7.25 11.877C7.25 12.9264 7.25 13.4511 7.05798 13.8571C6.86014 14.2753 6.5234 14.6121 6.10511 14.8099C5.69912 15.002 5.17441 15.002 4.125 15.002C3.07559 15.002 2.55088 15.002 2.14489 14.8099C1.7266 14.6121 1.38986 14.2753 1.19202 13.8571C1 13.4511 1 12.9264 1 11.877ZM2.5 11.052C2.5 10.7719 2.5 10.6319 2.5545 10.525C2.60243 10.4309 2.67892 10.3544 2.773 10.3064C2.87996 10.252 3.01997 10.252 3.3 10.252H4.95C5.23003 10.252 5.37004 10.252 5.477 10.3064C5.57108 10.3544 5.64757 10.4309 5.6955 10.525C5.75 10.6319 5.75 10.7719 5.75 11.052V12.702C5.75 12.982 5.75 13.122 5.6955 13.2289C5.64757 13.323 5.57108 13.3995 5.477 13.4475C5.37004 13.502 5.23003 13.502 4.95 13.502H3.3C3.01997 13.502 2.87996 13.502 2.773 13.4475C2.67892 13.3995 2.60243 13.323 2.5545 13.2289C2.5 13.122 2.5 12.982 2.5 12.702V11.052ZM8.94202 2.14684C8.75 2.55284 8.75 3.07754 8.75 4.12695C8.75 5.17636 8.75 5.70107 8.94202 6.10706C9.13986 6.52535 9.4766 6.8621 9.89489 7.05993C10.3009 7.25195 10.8256 7.25195 11.875 7.25195C12.9244 7.25195 13.4491 7.25195 13.8551 7.05993C14.2734 6.8621 14.6101 6.52535 14.808 6.10706C15 5.70107 15 5.17636 15 4.12695C15 3.07754 15 2.55284 14.808 2.14684C14.6101 1.72856 14.2734 1.39181 13.8551 1.19397C13.4491 1.00195 12.9244 1.00195 11.875 1.00195C10.8256 1.00195 10.3009 1.00195 9.89489 1.19397C9.4766 1.39181 9.13986 1.72856 8.94202 2.14684ZM10.3045 2.77496C10.25 2.88191 10.25 3.02193 10.25 3.30195V4.95195C10.25 5.23198 10.25 5.37199 10.3045 5.47895C10.3524 5.57303 10.4289 5.64952 10.523 5.69746C10.63 5.75195 10.77 5.75195 11.05 5.75195H12.7C12.98 5.75195 13.12 5.75195 13.227 5.69746C13.3211 5.64952 13.3976 5.57303 13.4455 5.47895C13.5 5.37199 13.5 5.23198 13.5 4.95195V3.30195C13.5 3.02193 13.5 2.88191 13.4455 2.77496C13.3976 2.68088 13.3211 2.60439 13.227 2.55645C13.12 2.50195 12.98 2.50195 12.7 2.50195H11.05C10.77 2.50195 10.63 2.50195 10.523 2.55645C10.4289 2.60439 10.3524 2.68088 10.3045 2.77496ZM8.80727 9.13518C8.75 9.26242 8.75 9.4256 8.75 9.75195C8.75 10.0783 8.75 10.2415 8.80727 10.3687C8.87245 10.5136 8.9884 10.6295 9.13323 10.6947C9.26047 10.752 9.42365 10.752 9.75 10.752C10.0764 10.752 10.2395 10.752 10.3668 10.6947C10.5116 10.6295 10.6276 10.5136 10.6927 10.3687C10.75 10.2415 10.75 10.0783 10.75 9.75195C10.75 9.4256 10.75 9.26242 10.6927 9.13518C10.6276 8.99035 10.5116 8.8744 10.3668 8.80922C10.2395 8.75195 10.0764 8.75195 9.75 8.75195C9.42365 8.75195 9.26047 8.75195 9.13323 8.80922C8.9884 8.8744 8.87245 8.99035 8.80727 9.13518ZM10.87 11.8771C10.87 11.546 10.87 11.3805 10.9289 11.2517C10.9938 11.1098 11.1077 10.9959 11.2497 10.931C11.3784 10.8721 11.5439 10.8721 11.875 10.8721C12.2061 10.8721 12.3716 10.8721 12.5003 10.931C12.6423 10.9959 12.7562 11.1098 12.8211 11.2517C12.88 11.3805 12.88 11.546 12.88 11.8771C12.88 12.2081 12.88 12.3737 12.8211 12.5024C12.7562 12.6444 12.6423 12.7583 12.5003 12.8232C12.3716 12.8821 12.2061 12.8821 11.875 12.8821C11.5439 12.8821 11.3784 12.8821 11.2497 12.8232C11.1077 12.7583 10.9938 12.6444 10.9289 12.5024C10.87 12.3737 10.87 12.2081 10.87 11.8771ZM8.80727 13.3852C8.75 13.5124 8.75 13.6756 8.75 14.002C8.75 14.3283 8.75 14.4915 8.80727 14.6187C8.87245 14.7636 8.9884 14.8795 9.13323 14.9447C9.26047 15.002 9.42365 15.002 9.75 15.002C10.0764 15.002 10.2395 15.002 10.3668 14.9447C10.5116 14.8795 10.6276 14.7636 10.6927 14.6187C10.75 14.4915 10.75 14.3283 10.75 14.002C10.75 13.6756 10.75 13.5124 10.6927 13.3852C10.6276 13.2404 10.5116 13.1244 10.3668 13.0592C10.2395 13.002 10.0764 13.002 9.75 13.002C9.42365 13.002 9.26047 13.002 9.13323 13.0592C8.9884 13.1244 8.87245 13.2404 8.80727 13.3852ZM13 9.75195C13 9.4256 13 9.26242 13.0573 9.13518C13.1224 8.99035 13.2384 8.8744 13.3832 8.80922C13.5105 8.75195 13.6736 8.75195 14 8.75195C14.3264 8.75195 14.4895 8.75195 14.6168 8.80922C14.7616 8.8744 14.8776 8.99035 14.9427 9.13518C15 9.26242 15 9.4256 15 9.75195C15 10.0783 15 10.2415 14.9427 10.3687C14.8776 10.5136 14.7616 10.6295 14.6168 10.6947C14.4895 10.752 14.3264 10.752 14 10.752C13.6736 10.752 13.5105 10.752 13.3832 10.6947C13.2384 10.6295 13.1224 10.5136 13.0573 10.3687C13 10.2415 13 10.0783 13 9.75195ZM13.0573 13.3852C13 13.5124 13 13.6756 13 14.002C13 14.3283 13 14.4915 13.0573 14.6187C13.1224 14.7636 13.2384 14.8795 13.3832 14.9447C13.5105 15.002 13.6736 15.002 14 15.002C14.3264 15.002 14.4895 15.002 14.6168 14.9447C14.7616 14.8795 14.8776 14.7636 14.9427 14.6187C15 14.4915 15 14.3283 15 14.002C15 13.6756 15 13.5124 14.9427 13.3852C14.8776 13.2404 14.7616 13.1244 14.6168 13.0592C14.4895 13.002 14.3264 13.002 14 13.002C13.6736 13.002 13.5105 13.002 13.3832 13.0592C13.2384 13.1244 13.1224 13.2404 13.0573 13.3852Z\">`);\nconst QRIcon = (props) => {\n  const theme = useTheme();\n  const fill = () => props.fill || theme.colors.icon.secondary;\n  return (() => {\n    var _el$ = _tmpl$$8(), _el$2 = _el$.firstChild;\n    createRenderEffect(() => setAttribute(_el$2, \"fill\", fill()));\n    return _el$;\n  })();\n};\nconst IconButtonStyled = styled.button`\n    padding: 0;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    width: 32px;\n    height: 32px;\n    border-radius: 50%;\n    background-color: transparent;\n    border: none;\n    cursor: pointer;\n\n    transition: transform 0.125s ease-in-out;\n\n    ${mediaNotTouch} {\n        &:hover {\n            transform: scale(1.04);\n        }\n    }\n\n    &:active {\n        transform: scale(0.96);\n    }\n\n    ${mediaTouch} {\n        &:active {\n            transform: scale(0.92);\n        }\n    }\n`;\nconst IconButton = (props) => {\n  const dataAttrs = useDataAttributes(props);\n  const icon = () => props.icon || \"close\";\n  return createComponent(IconButtonStyled, mergeProps({\n    get [\"class\"]() {\n      return props.class;\n    },\n    onClick: () => props.onClick(),\n    \"data-tc-icon-button\": \"true\"\n  }, dataAttrs, {\n    get children() {\n      return [createComponent(Show, {\n        get when() {\n          return !!props.children;\n        },\n        get children() {\n          return props.children;\n        }\n      }), createComponent(Show, {\n        get when() {\n          return !props.children;\n        },\n        get children() {\n          return createComponent(Switch, {\n            get children() {\n              return [createComponent(Match, {\n                get when() {\n                  return icon() === \"close\";\n                },\n                get children() {\n                  return createComponent(CloseIcon, {\n                    get fill() {\n                      return props.fill;\n                    }\n                  });\n                }\n              }), createComponent(Match, {\n                get when() {\n                  return icon() === \"arrow\";\n                },\n                get children() {\n                  return createComponent(ArrowIcon, {\n                    get fill() {\n                      return props.fill;\n                    }\n                  });\n                }\n              }), createComponent(Match, {\n                get when() {\n                  return icon() === \"question\";\n                },\n                get children() {\n                  return createComponent(QuestionIcon, {\n                    get fill() {\n                      return props.fill;\n                    }\n                  });\n                }\n              }), createComponent(Match, {\n                get when() {\n                  return typeof icon() !== \"string\";\n                },\n                get children() {\n                  return icon();\n                }\n              })];\n            }\n          });\n        }\n      })];\n    }\n  }));\n};\nconst borders$1 = {\n  m: \"24px\",\n  s: \"16px\",\n  none: \"0\"\n};\nconst ModalBackgroundStyled = styled.div`\n  display: flex;\n  position: fixed;\n  z-index: 1000;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, 0.4);\n  padding: 20px 0;\n  overflow-y: auto;\n\n  ${media(\"mobile\")} {\n    padding-bottom: 0;\n  }\n`;\nconst ModalWrapperClass = u`\n  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.08), 0 16px 64px rgba(0, 0, 0, 0.16);\n  width: fit-content;\n  margin: auto;\n\n  ${media(\"mobile\")} {\n    width: 100%;\n    height: fit-content;\n    margin: auto 0 0 0;\n  }\n`;\nconst ModalBodyStyled = styled.div`\n  position: relative;\n  min-height: 100px;\n  width: 416px;\n  padding: 44px 56px 24px;\n\n  box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.04);\n\n  background-color: ${(props) => props.theme.colors.background.primary};\n  border-radius: ${(props) => borders$1[props.theme.borderRadius]};\n\n  ${media(\"mobile\")} {\n    width: 100%;\n    border-radius: 24px 24px 0px 0px;\n  }\n`;\nconst CloseButtonStyled = styled(IconButton)`\n  position: absolute;\n  right: 16px;\n  top: 12px;\n`;\nstyled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 16px 16px 16px 18px;\n  border-radius: 0 0 ${(props) => borders$1[props.theme.borderRadius]}\n    ${(props) => borders$1[props.theme.borderRadius]};\n`;\nstyled(IconButton)`\n  background-color: ${(props) => rgba(props.theme.colors.icon.secondary, 0.12)};\n`;\nclass AnimationTimelineNoop {\n  constructor() {\n    __publicField(this, \"currentTime\", 0);\n  }\n}\nconst _AnimationNoop = class {\n  constructor() {\n    __publicField(this, \"currentTime\", 0);\n    __publicField(this, \"playbackRate\", 1);\n    __publicField(this, \"startTime\", null);\n    __publicField(this, \"timeline\", new AnimationTimelineNoop());\n    __publicField(this, \"finished\", Promise.resolve(this));\n    __publicField(this, \"effect\", null);\n    __publicField(this, \"id\", \"\");\n    __publicField(this, \"pending\", false);\n    __publicField(this, \"playState\", \"finished\");\n    __publicField(this, \"replaceState\", \"active\");\n    __publicField(this, \"ready\", Promise.resolve(this));\n    __publicField(this, \"oncancel\", null);\n    __publicField(this, \"onfinish\", null);\n    __publicField(this, \"onremove\", null);\n  }\n  static create() {\n    if (!_AnimationNoop._instance) {\n      logWarning(\n        \"Animation is not supported in this environment: please consider using the `web-animations-js` polyfill to provide a fallback implementation of the Web Animations API.\"\n      );\n      _AnimationNoop._instance = new _AnimationNoop();\n    }\n    return _AnimationNoop._instance;\n  }\n  cancel() {\n  }\n  finish() {\n  }\n  pause() {\n  }\n  play() {\n  }\n  reverse() {\n  }\n  addEventListener(_type, _listener, _options) {\n  }\n  dispatchEvent(_event) {\n    return false;\n  }\n  removeEventListener(_type, _callback, _options) {\n  }\n  updatePlaybackRate(_playbackRate) {\n  }\n  commitStyles() {\n  }\n  persist() {\n  }\n};\nlet AnimationNoop = _AnimationNoop;\n__publicField(AnimationNoop, \"_instance\", null);\nfunction animate(element, keyframes, options) {\n  if (\"animate\" in element) {\n    return element.animate(keyframes, options);\n  }\n  return AnimationNoop.create();\n}\nvar _tmpl$$7 = /* @__PURE__ */ template$1(`<div>`);\nconst clickOutside = clickOutside$1;\nconst keyPressed = escPressed;\nconst androidBackHandler = androidBackHandler$1;\nconst Modal = (props) => {\n  const theme = useTheme();\n  const dataAttrs = useDataAttributes(props);\n  createEffect(() => {\n    if (props.opened) {\n      disableScroll();\n    } else {\n      enableScroll();\n    }\n  });\n  return createComponent(Transition, {\n    onBeforeEnter: (el) => {\n      const duration = isDevice(\"mobile\") ? 200 : 100;\n      animate(el, [{\n        opacity: 0\n      }, {\n        opacity: 1\n      }], {\n        duration\n      });\n      if (isDevice(\"mobile\")) {\n        animate(el.firstElementChild, [{\n          transform: \"translateY(390px)\"\n        }, {\n          transform: \"translateY(0)\"\n        }], {\n          duration\n        });\n      }\n    },\n    onExit: (el, done) => {\n      const duration = isDevice(\"mobile\") ? 200 : 100;\n      const backgroundAnimation = animate(el, [{\n        opacity: 1\n      }, {\n        opacity: 0\n      }], {\n        duration\n      });\n      if (isDevice(\"mobile\")) {\n        const contentAnimation = animate(el.firstElementChild, [{\n          transform: \"translateY(0)\"\n        }, {\n          transform: \"translateY(390px)\"\n        }], {\n          duration\n        });\n        Promise.all([backgroundAnimation.finished, contentAnimation.finished]).then(done);\n      } else {\n        backgroundAnimation.finished.then(done);\n      }\n    },\n    get children() {\n      return createComponent(Show, {\n        get when() {\n          return props.opened;\n        },\n        get children() {\n          return createComponent(ModalBackgroundStyled, mergeProps({\n            \"data-tc-modal\": \"true\"\n          }, dataAttrs, {\n            get children() {\n              var _el$ = _tmpl$$7();\n              use(androidBackHandler, _el$, () => ({\n                isEnabled: true,\n                onClose: () => props.onClose()\n              }));\n              use(keyPressed, _el$, () => () => props.onClose());\n              use(clickOutside, _el$, () => () => props.onClose());\n              insert(_el$, createComponent(ModalBodyStyled, {\n                get [\"class\"]() {\n                  return props.class;\n                },\n                get children() {\n                  return [createComponent(CloseButtonStyled, {\n                    icon: \"close\",\n                    onClick: () => props.onClose()\n                  }), createMemo(() => props.children)];\n                }\n              }));\n              createRenderEffect(() => className(_el$, cn__default.default(ModalWrapperClass, u`\n                                border-radius: ${borders$1[theme.borderRadius]};\n                                background-color: ${theme.colors.background.tint};\n\n                                ${media(\"mobile\")} {\n                                    border-radius: ${borders$1[theme.borderRadius]}\n                                        ${borders$1[theme.borderRadius]} 0 0;\n                                }\n                            `)));\n              return _el$;\n            }\n          }));\n        }\n      });\n    }\n  });\n};\nconst wrapperBorderRadius = {\n  m: \"22px\",\n  s: \"12px\",\n  none: \"0\"\n};\nconst sliderBorderRadius = {\n  m: \"18px\",\n  s: \"8px\",\n  none: \"0\"\n};\nstyled.div`\n    display: grid;\n    grid-template: 1fr / 1fr 1fr;\n    width: fit-content;\n    justify-items: center;\n    gap: 4px;\n\n    position: relative;\n    padding: 4px;\n    border-radius: ${(props) => wrapperBorderRadius[props.theme.borderRadius]};\n\n    background-color: ${(props) => props.theme.colors.background.secondary};\n`;\nstyled.div`\n    position: absolute;\n    top: 4px;\n    left: 4px;\n\n    height: calc(100% - 8px);\n    width: calc(50% - 4px);\n\n    border-radius: ${(props) => sliderBorderRadius[props.theme.borderRadius]};\n    background-color: ${(props) => props.theme.colors.background.segment};\n\n    transform: ${(props) => props.right ? \"translateX(100%)\" : \"translateX(0)\"};\n\n    transition: transform 0.13s ease-in-out;\n`;\nstyled.input`\n    display: none;\n`;\nstyled.label`\n    padding: 9px 12px;\n    z-index: 1;\n\n    cursor: ${(props) => props.isActive ? \"default\" : \"pointer\"};\n\n    transition: transform 0.13s ease-in-out;\n\n    &:hover {\n        transform: ${(props) => props.isActive ? \"none\" : \"scale(1.025)\"};\n    }\n\n    > * {\n        ${(props) => !props.isActive ? `color: ${props.theme.colors.text.secondary};` : \"\"}\n    }\n`;\nconst backgroundBorders = {\n  m: \"16px\",\n  s: \"12px\",\n  none: \"0\"\n};\nconst imageBorders = {\n  m: \"12px\",\n  s: \"8px\",\n  none: \"0\"\n};\nconst qrNormalSize = 263;\nconst imgSizeDefault = 56;\nconst picSizeDefault = 54;\nconst qrPaddingTop = 0;\nconst CopyIconButton = styled.div`\n    width: 52px;\n    height: 52px;\n    background: transparent;\n    position: absolute;\n    right: 0;\n    bottom: 0;\n\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    transition: transform 0.125s ease-in-out;\n`;\nconst QrCodeBackground = styled.button`\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    position: relative;\n    background-color: ${(props) => props.theme.colors.background.qr};\n    border-radius: ${(props) => backgroundBorders[props.theme.borderRadius]};\n    padding: ${toPx(qrPaddingTop)} 0;\n    height: ${toPx(qrNormalSize + qrPaddingTop * 2)};\n    width: 100%;\n\n    overflow: hidden;\n    cursor: pointer;\n    border: none;\n\n    ${mediaNotTouch} {\n        &:hover {\n            ${CopyIconButton.class} {\n                transform: scale(1.04);\n            }\n        }\n    }\n\n    &:active {\n        ${CopyIconButton.class} {\n            transform: scale(0.96);\n        }\n    }\n\n    ${mediaTouch} {\n        &:active {\n            ${CopyIconButton.class} {\n                transform: scale(0.92);\n            }\n        }\n    }\n`;\nconst QrCodeWrapper$1 = styled.div`\n    position: relative;\n  \n    width: fit-content;\n    margin: 0 auto;\n\n    > div:first-child {\n        display: flex;\n        align-items: center;\n        justify-content: center;\n    }\n    \n    rect {\n        fill: transparent;\n    }\n    \n    path {\n        fill: ${(props) => props.theme.colors.qrFill};\n    }\n`;\nconst ImageBackground = styled.div`\n    position: absolute;\n    width: ${toPx(imgSizeDefault)};\n    height: ${toPx(imgSizeDefault)};\n    background: ${(props) => props.theme.colors.background.qr};\n\n    display: flex;\n    align-items: center;\n    justify-content: center;\n`;\nconst ImageStyled$2 = styled(Image)`\n    width: ${(props) => toPx(props.size)};\n    height: ${(props) => toPx(props.size)};\n    border-radius: ${(props) => imageBorders[props.theme.borderRadius]};\n    background-color: ${(props) => props.theme.colors.background.qr};\n`;\nstyled.div`\n    position: absolute;\n    bottom: 14px;\n    left: 50%;\n    transform: translate(-50%, 0);\n\n    display: flex;\n    gap: 6px;\n    align-items: center;\n    border-radius: 18px;\n    min-width: 126px;\n    padding: 9px 16px 9px 10px;\n\n    filter: drop-shadow(0px 2px 8px rgba(0, 0, 0, 0.08));\n    background-color: ${(props) => props.theme.colors.background.segment};\n`;\nvar qrcode$1 = { exports: {} };\n(function(module2, exports2) {\n  var qrcode2 = function() {\n    var qrcode3 = function(typeNumber, errorCorrectionLevel) {\n      var PAD0 = 236;\n      var PAD1 = 17;\n      var _typeNumber = typeNumber;\n      var _errorCorrectionLevel = QRErrorCorrectionLevel[errorCorrectionLevel];\n      var _modules = null;\n      var _moduleCount = 0;\n      var _dataCache = null;\n      var _dataList = [];\n      var _this = {};\n      var makeImpl = function(test, maskPattern) {\n        _moduleCount = _typeNumber * 4 + 17;\n        _modules = function(moduleCount) {\n          var modules = new Array(moduleCount);\n          for (var row = 0; row < moduleCount; row += 1) {\n            modules[row] = new Array(moduleCount);\n            for (var col = 0; col < moduleCount; col += 1) {\n              modules[row][col] = null;\n            }\n          }\n          return modules;\n        }(_moduleCount);\n        setupPositionProbePattern(0, 0);\n        setupPositionProbePattern(_moduleCount - 7, 0);\n        setupPositionProbePattern(0, _moduleCount - 7);\n        setupPositionAdjustPattern();\n        setupTimingPattern();\n        setupTypeInfo(test, maskPattern);\n        if (_typeNumber >= 7) {\n          setupTypeNumber(test);\n        }\n        if (_dataCache == null) {\n          _dataCache = createData(_typeNumber, _errorCorrectionLevel, _dataList);\n        }\n        mapData(_dataCache, maskPattern);\n      };\n      var setupPositionProbePattern = function(row, col) {\n        for (var r = -1; r <= 7; r += 1) {\n          if (row + r <= -1 || _moduleCount <= row + r)\n            continue;\n          for (var c2 = -1; c2 <= 7; c2 += 1) {\n            if (col + c2 <= -1 || _moduleCount <= col + c2)\n              continue;\n            if (0 <= r && r <= 6 && (c2 == 0 || c2 == 6) || 0 <= c2 && c2 <= 6 && (r == 0 || r == 6) || 2 <= r && r <= 4 && 2 <= c2 && c2 <= 4) {\n              _modules[row + r][col + c2] = true;\n            } else {\n              _modules[row + r][col + c2] = false;\n            }\n          }\n        }\n      };\n      var getBestMaskPattern = function() {\n        var minLostPoint = 0;\n        var pattern = 0;\n        for (var i2 = 0; i2 < 8; i2 += 1) {\n          makeImpl(true, i2);\n          var lostPoint = QRUtil.getLostPoint(_this);\n          if (i2 == 0 || minLostPoint > lostPoint) {\n            minLostPoint = lostPoint;\n            pattern = i2;\n          }\n        }\n        return pattern;\n      };\n      var setupTimingPattern = function() {\n        for (var r = 8; r < _moduleCount - 8; r += 1) {\n          if (_modules[r][6] != null) {\n            continue;\n          }\n          _modules[r][6] = r % 2 == 0;\n        }\n        for (var c2 = 8; c2 < _moduleCount - 8; c2 += 1) {\n          if (_modules[6][c2] != null) {\n            continue;\n          }\n          _modules[6][c2] = c2 % 2 == 0;\n        }\n      };\n      var setupPositionAdjustPattern = function() {\n        var pos = QRUtil.getPatternPosition(_typeNumber);\n        for (var i2 = 0; i2 < pos.length; i2 += 1) {\n          for (var j = 0; j < pos.length; j += 1) {\n            var row = pos[i2];\n            var col = pos[j];\n            if (_modules[row][col] != null) {\n              continue;\n            }\n            for (var r = -2; r <= 2; r += 1) {\n              for (var c2 = -2; c2 <= 2; c2 += 1) {\n                if (r == -2 || r == 2 || c2 == -2 || c2 == 2 || r == 0 && c2 == 0) {\n                  _modules[row + r][col + c2] = true;\n                } else {\n                  _modules[row + r][col + c2] = false;\n                }\n              }\n            }\n          }\n        }\n      };\n      var setupTypeNumber = function(test) {\n        var bits = QRUtil.getBCHTypeNumber(_typeNumber);\n        for (var i2 = 0; i2 < 18; i2 += 1) {\n          var mod = !test && (bits >> i2 & 1) == 1;\n          _modules[Math.floor(i2 / 3)][i2 % 3 + _moduleCount - 8 - 3] = mod;\n        }\n        for (var i2 = 0; i2 < 18; i2 += 1) {\n          var mod = !test && (bits >> i2 & 1) == 1;\n          _modules[i2 % 3 + _moduleCount - 8 - 3][Math.floor(i2 / 3)] = mod;\n        }\n      };\n      var setupTypeInfo = function(test, maskPattern) {\n        var data = _errorCorrectionLevel << 3 | maskPattern;\n        var bits = QRUtil.getBCHTypeInfo(data);\n        for (var i2 = 0; i2 < 15; i2 += 1) {\n          var mod = !test && (bits >> i2 & 1) == 1;\n          if (i2 < 6) {\n            _modules[i2][8] = mod;\n          } else if (i2 < 8) {\n            _modules[i2 + 1][8] = mod;\n          } else {\n            _modules[_moduleCount - 15 + i2][8] = mod;\n          }\n        }\n        for (var i2 = 0; i2 < 15; i2 += 1) {\n          var mod = !test && (bits >> i2 & 1) == 1;\n          if (i2 < 8) {\n            _modules[8][_moduleCount - i2 - 1] = mod;\n          } else if (i2 < 9) {\n            _modules[8][15 - i2 - 1 + 1] = mod;\n          } else {\n            _modules[8][15 - i2 - 1] = mod;\n          }\n        }\n        _modules[_moduleCount - 8][8] = !test;\n      };\n      var mapData = function(data, maskPattern) {\n        var inc = -1;\n        var row = _moduleCount - 1;\n        var bitIndex = 7;\n        var byteIndex = 0;\n        var maskFunc = QRUtil.getMaskFunction(maskPattern);\n        for (var col = _moduleCount - 1; col > 0; col -= 2) {\n          if (col == 6)\n            col -= 1;\n          while (true) {\n            for (var c2 = 0; c2 < 2; c2 += 1) {\n              if (_modules[row][col - c2] == null) {\n                var dark = false;\n                if (byteIndex < data.length) {\n                  dark = (data[byteIndex] >>> bitIndex & 1) == 1;\n                }\n                var mask = maskFunc(row, col - c2);\n                if (mask) {\n                  dark = !dark;\n                }\n                _modules[row][col - c2] = dark;\n                bitIndex -= 1;\n                if (bitIndex == -1) {\n                  byteIndex += 1;\n                  bitIndex = 7;\n                }\n              }\n            }\n            row += inc;\n            if (row < 0 || _moduleCount <= row) {\n              row -= inc;\n              inc = -inc;\n              break;\n            }\n          }\n        }\n      };\n      var createBytes = function(buffer, rsBlocks) {\n        var offset2 = 0;\n        var maxDcCount = 0;\n        var maxEcCount = 0;\n        var dcdata = new Array(rsBlocks.length);\n        var ecdata = new Array(rsBlocks.length);\n        for (var r = 0; r < rsBlocks.length; r += 1) {\n          var dcCount = rsBlocks[r].dataCount;\n          var ecCount = rsBlocks[r].totalCount - dcCount;\n          maxDcCount = Math.max(maxDcCount, dcCount);\n          maxEcCount = Math.max(maxEcCount, ecCount);\n          dcdata[r] = new Array(dcCount);\n          for (var i2 = 0; i2 < dcdata[r].length; i2 += 1) {\n            dcdata[r][i2] = 255 & buffer.getBuffer()[i2 + offset2];\n          }\n          offset2 += dcCount;\n          var rsPoly = QRUtil.getErrorCorrectPolynomial(ecCount);\n          var rawPoly = qrPolynomial(dcdata[r], rsPoly.getLength() - 1);\n          var modPoly = rawPoly.mod(rsPoly);\n          ecdata[r] = new Array(rsPoly.getLength() - 1);\n          for (var i2 = 0; i2 < ecdata[r].length; i2 += 1) {\n            var modIndex = i2 + modPoly.getLength() - ecdata[r].length;\n            ecdata[r][i2] = modIndex >= 0 ? modPoly.getAt(modIndex) : 0;\n          }\n        }\n        var totalCodeCount = 0;\n        for (var i2 = 0; i2 < rsBlocks.length; i2 += 1) {\n          totalCodeCount += rsBlocks[i2].totalCount;\n        }\n        var data = new Array(totalCodeCount);\n        var index = 0;\n        for (var i2 = 0; i2 < maxDcCount; i2 += 1) {\n          for (var r = 0; r < rsBlocks.length; r += 1) {\n            if (i2 < dcdata[r].length) {\n              data[index] = dcdata[r][i2];\n              index += 1;\n            }\n          }\n        }\n        for (var i2 = 0; i2 < maxEcCount; i2 += 1) {\n          for (var r = 0; r < rsBlocks.length; r += 1) {\n            if (i2 < ecdata[r].length) {\n              data[index] = ecdata[r][i2];\n              index += 1;\n            }\n          }\n        }\n        return data;\n      };\n      var createData = function(typeNumber2, errorCorrectionLevel2, dataList) {\n        var rsBlocks = QRRSBlock.getRSBlocks(typeNumber2, errorCorrectionLevel2);\n        var buffer = qrBitBuffer();\n        for (var i2 = 0; i2 < dataList.length; i2 += 1) {\n          var data = dataList[i2];\n          buffer.put(data.getMode(), 4);\n          buffer.put(data.getLength(), QRUtil.getLengthInBits(data.getMode(), typeNumber2));\n          data.write(buffer);\n        }\n        var totalDataCount = 0;\n        for (var i2 = 0; i2 < rsBlocks.length; i2 += 1) {\n          totalDataCount += rsBlocks[i2].dataCount;\n        }\n        if (buffer.getLengthInBits() > totalDataCount * 8) {\n          throw \"code length overflow. (\" + buffer.getLengthInBits() + \">\" + totalDataCount * 8 + \")\";\n        }\n        if (buffer.getLengthInBits() + 4 <= totalDataCount * 8) {\n          buffer.put(0, 4);\n        }\n        while (buffer.getLengthInBits() % 8 != 0) {\n          buffer.putBit(false);\n        }\n        while (true) {\n          if (buffer.getLengthInBits() >= totalDataCount * 8) {\n            break;\n          }\n          buffer.put(PAD0, 8);\n          if (buffer.getLengthInBits() >= totalDataCount * 8) {\n            break;\n          }\n          buffer.put(PAD1, 8);\n        }\n        return createBytes(buffer, rsBlocks);\n      };\n      _this.addData = function(data, mode) {\n        mode = mode || \"Byte\";\n        var newData = null;\n        switch (mode) {\n          case \"Numeric\":\n            newData = qrNumber(data);\n            break;\n          case \"Alphanumeric\":\n            newData = qrAlphaNum(data);\n            break;\n          case \"Byte\":\n            newData = qr8BitByte(data);\n            break;\n          case \"Kanji\":\n            newData = qrKanji(data);\n            break;\n          default:\n            throw \"mode:\" + mode;\n        }\n        _dataList.push(newData);\n        _dataCache = null;\n      };\n      _this.isDark = function(row, col) {\n        if (row < 0 || _moduleCount <= row || col < 0 || _moduleCount <= col) {\n          throw row + \",\" + col;\n        }\n        return _modules[row][col];\n      };\n      _this.getModuleCount = function() {\n        return _moduleCount;\n      };\n      _this.make = function() {\n        if (_typeNumber < 1) {\n          var typeNumber2 = 1;\n          for (; typeNumber2 < 40; typeNumber2++) {\n            var rsBlocks = QRRSBlock.getRSBlocks(typeNumber2, _errorCorrectionLevel);\n            var buffer = qrBitBuffer();\n            for (var i2 = 0; i2 < _dataList.length; i2++) {\n              var data = _dataList[i2];\n              buffer.put(data.getMode(), 4);\n              buffer.put(data.getLength(), QRUtil.getLengthInBits(data.getMode(), typeNumber2));\n              data.write(buffer);\n            }\n            var totalDataCount = 0;\n            for (var i2 = 0; i2 < rsBlocks.length; i2++) {\n              totalDataCount += rsBlocks[i2].dataCount;\n            }\n            if (buffer.getLengthInBits() <= totalDataCount * 8) {\n              break;\n            }\n          }\n          _typeNumber = typeNumber2;\n        }\n        makeImpl(false, getBestMaskPattern());\n      };\n      _this.createTableTag = function(cellSize, margin) {\n        cellSize = cellSize || 2;\n        margin = typeof margin == \"undefined\" ? cellSize * 4 : margin;\n        var qrHtml = \"\";\n        qrHtml += '<table style=\"';\n        qrHtml += \" border-width: 0px; border-style: none;\";\n        qrHtml += \" border-collapse: collapse;\";\n        qrHtml += \" padding: 0px; margin: \" + margin + \"px;\";\n        qrHtml += '\">';\n        qrHtml += \"<tbody>\";\n        for (var r = 0; r < _this.getModuleCount(); r += 1) {\n          qrHtml += \"<tr>\";\n          for (var c2 = 0; c2 < _this.getModuleCount(); c2 += 1) {\n            qrHtml += '<td style=\"';\n            qrHtml += \" border-width: 0px; border-style: none;\";\n            qrHtml += \" border-collapse: collapse;\";\n            qrHtml += \" padding: 0px; margin: 0px;\";\n            qrHtml += \" width: \" + cellSize + \"px;\";\n            qrHtml += \" height: \" + cellSize + \"px;\";\n            qrHtml += \" background-color: \";\n            qrHtml += _this.isDark(r, c2) ? \"#000000\" : \"#ffffff\";\n            qrHtml += \";\";\n            qrHtml += '\"/>';\n          }\n          qrHtml += \"</tr>\";\n        }\n        qrHtml += \"</tbody>\";\n        qrHtml += \"</table>\";\n        return qrHtml;\n      };\n      _this.createSvgTag = function(cellSize, margin, alt, title) {\n        var opts = {};\n        if (typeof arguments[0] == \"object\") {\n          opts = arguments[0];\n          cellSize = opts.cellSize;\n          margin = opts.margin;\n          alt = opts.alt;\n          title = opts.title;\n        }\n        cellSize = cellSize || 2;\n        margin = typeof margin == \"undefined\" ? cellSize * 4 : margin;\n        alt = typeof alt === \"string\" ? { text: alt } : alt || {};\n        alt.text = alt.text || null;\n        alt.id = alt.text ? alt.id || \"qrcode-description\" : null;\n        title = typeof title === \"string\" ? { text: title } : title || {};\n        title.text = title.text || null;\n        title.id = title.text ? title.id || \"qrcode-title\" : null;\n        var size2 = _this.getModuleCount() * cellSize + margin * 2;\n        var c2, mc, r, mr, qrSvg = \"\", rect;\n        rect = \"l\" + cellSize + \",0 0,\" + cellSize + \" -\" + cellSize + \",0 0,-\" + cellSize + \"z \";\n        qrSvg += '<svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\"';\n        qrSvg += !opts.scalable ? ' width=\"' + size2 + 'px\" height=\"' + size2 + 'px\"' : \"\";\n        qrSvg += ' viewBox=\"0 0 ' + size2 + \" \" + size2 + '\" ';\n        qrSvg += ' preserveAspectRatio=\"xMinYMin meet\"';\n        qrSvg += title.text || alt.text ? ' role=\"img\" aria-labelledby=\"' + escapeXml([title.id, alt.id].join(\" \").trim()) + '\"' : \"\";\n        qrSvg += \">\";\n        qrSvg += title.text ? '<title id=\"' + escapeXml(title.id) + '\">' + escapeXml(title.text) + \"</title>\" : \"\";\n        qrSvg += alt.text ? '<description id=\"' + escapeXml(alt.id) + '\">' + escapeXml(alt.text) + \"</description>\" : \"\";\n        qrSvg += '<rect width=\"100%\" height=\"100%\" fill=\"white\" cx=\"0\" cy=\"0\"/>';\n        qrSvg += '<path d=\"';\n        for (r = 0; r < _this.getModuleCount(); r += 1) {\n          mr = r * cellSize + margin;\n          for (c2 = 0; c2 < _this.getModuleCount(); c2 += 1) {\n            if (_this.isDark(r, c2)) {\n              mc = c2 * cellSize + margin;\n              qrSvg += \"M\" + mc + \",\" + mr + rect;\n            }\n          }\n        }\n        qrSvg += '\" stroke=\"transparent\" fill=\"black\"/>';\n        qrSvg += \"</svg>\";\n        return qrSvg;\n      };\n      _this.createDataURL = function(cellSize, margin) {\n        cellSize = cellSize || 2;\n        margin = typeof margin == \"undefined\" ? cellSize * 4 : margin;\n        var size2 = _this.getModuleCount() * cellSize + margin * 2;\n        var min2 = margin;\n        var max2 = size2 - margin;\n        return createDataURL(size2, size2, function(x, y) {\n          if (min2 <= x && x < max2 && min2 <= y && y < max2) {\n            var c2 = Math.floor((x - min2) / cellSize);\n            var r = Math.floor((y - min2) / cellSize);\n            return _this.isDark(r, c2) ? 0 : 1;\n          } else {\n            return 1;\n          }\n        });\n      };\n      _this.createImgTag = function(cellSize, margin, alt) {\n        cellSize = cellSize || 2;\n        margin = typeof margin == \"undefined\" ? cellSize * 4 : margin;\n        var size2 = _this.getModuleCount() * cellSize + margin * 2;\n        var img = \"\";\n        img += \"<img\";\n        img += ' src=\"';\n        img += _this.createDataURL(cellSize, margin);\n        img += '\"';\n        img += ' width=\"';\n        img += size2;\n        img += '\"';\n        img += ' height=\"';\n        img += size2;\n        img += '\"';\n        if (alt) {\n          img += ' alt=\"';\n          img += escapeXml(alt);\n          img += '\"';\n        }\n        img += \"/>\";\n        return img;\n      };\n      var escapeXml = function(s2) {\n        var escaped = \"\";\n        for (var i2 = 0; i2 < s2.length; i2 += 1) {\n          var c2 = s2.charAt(i2);\n          switch (c2) {\n            case \"<\":\n              escaped += \"&lt;\";\n              break;\n            case \">\":\n              escaped += \"&gt;\";\n              break;\n            case \"&\":\n              escaped += \"&amp;\";\n              break;\n            case '\"':\n              escaped += \"&quot;\";\n              break;\n            default:\n              escaped += c2;\n              break;\n          }\n        }\n        return escaped;\n      };\n      var _createHalfASCII = function(margin) {\n        var cellSize = 1;\n        margin = typeof margin == \"undefined\" ? cellSize * 2 : margin;\n        var size2 = _this.getModuleCount() * cellSize + margin * 2;\n        var min2 = margin;\n        var max2 = size2 - margin;\n        var y, x, r1, r2, p2;\n        var blocks = {\n          \"\\u2588\\u2588\": \"\\u2588\",\n          \"\\u2588 \": \"\\u2580\",\n          \" \\u2588\": \"\\u2584\",\n          \"  \": \" \"\n        };\n        var blocksLastLineNoMargin = {\n          \"\\u2588\\u2588\": \"\\u2580\",\n          \"\\u2588 \": \"\\u2580\",\n          \" \\u2588\": \" \",\n          \"  \": \" \"\n        };\n        var ascii = \"\";\n        for (y = 0; y < size2; y += 2) {\n          r1 = Math.floor((y - min2) / cellSize);\n          r2 = Math.floor((y + 1 - min2) / cellSize);\n          for (x = 0; x < size2; x += 1) {\n            p2 = \"\\u2588\";\n            if (min2 <= x && x < max2 && min2 <= y && y < max2 && _this.isDark(r1, Math.floor((x - min2) / cellSize))) {\n              p2 = \" \";\n            }\n            if (min2 <= x && x < max2 && min2 <= y + 1 && y + 1 < max2 && _this.isDark(r2, Math.floor((x - min2) / cellSize))) {\n              p2 += \" \";\n            } else {\n              p2 += \"\\u2588\";\n            }\n            ascii += margin < 1 && y + 1 >= max2 ? blocksLastLineNoMargin[p2] : blocks[p2];\n          }\n          ascii += \"\\n\";\n        }\n        if (size2 % 2 && margin > 0) {\n          return ascii.substring(0, ascii.length - size2 - 1) + Array(size2 + 1).join(\"\\u2580\");\n        }\n        return ascii.substring(0, ascii.length - 1);\n      };\n      _this.createASCII = function(cellSize, margin) {\n        cellSize = cellSize || 1;\n        if (cellSize < 2) {\n          return _createHalfASCII(margin);\n        }\n        cellSize -= 1;\n        margin = typeof margin == \"undefined\" ? cellSize * 2 : margin;\n        var size2 = _this.getModuleCount() * cellSize + margin * 2;\n        var min2 = margin;\n        var max2 = size2 - margin;\n        var y, x, r, p2;\n        var white = Array(cellSize + 1).join(\"\\u2588\\u2588\");\n        var black = Array(cellSize + 1).join(\"  \");\n        var ascii = \"\";\n        var line = \"\";\n        for (y = 0; y < size2; y += 1) {\n          r = Math.floor((y - min2) / cellSize);\n          line = \"\";\n          for (x = 0; x < size2; x += 1) {\n            p2 = 1;\n            if (min2 <= x && x < max2 && min2 <= y && y < max2 && _this.isDark(r, Math.floor((x - min2) / cellSize))) {\n              p2 = 0;\n            }\n            line += p2 ? white : black;\n          }\n          for (r = 0; r < cellSize; r += 1) {\n            ascii += line + \"\\n\";\n          }\n        }\n        return ascii.substring(0, ascii.length - 1);\n      };\n      _this.renderTo2dContext = function(context, cellSize) {\n        cellSize = cellSize || 2;\n        var length = _this.getModuleCount();\n        for (var row = 0; row < length; row++) {\n          for (var col = 0; col < length; col++) {\n            context.fillStyle = _this.isDark(row, col) ? \"black\" : \"white\";\n            context.fillRect(row * cellSize, col * cellSize, cellSize, cellSize);\n          }\n        }\n      };\n      return _this;\n    };\n    qrcode3.stringToBytesFuncs = {\n      \"default\": function(s2) {\n        var bytes = [];\n        for (var i2 = 0; i2 < s2.length; i2 += 1) {\n          var c2 = s2.charCodeAt(i2);\n          bytes.push(c2 & 255);\n        }\n        return bytes;\n      }\n    };\n    qrcode3.stringToBytes = qrcode3.stringToBytesFuncs[\"default\"];\n    qrcode3.createStringToBytes = function(unicodeData, numChars) {\n      var unicodeMap = function() {\n        var bin = base64DecodeInputStream(unicodeData);\n        var read = function() {\n          var b = bin.read();\n          if (b == -1)\n            throw \"eof\";\n          return b;\n        };\n        var count = 0;\n        var unicodeMap2 = {};\n        while (true) {\n          var b0 = bin.read();\n          if (b0 == -1)\n            break;\n          var b1 = read();\n          var b2 = read();\n          var b3 = read();\n          var k = String.fromCharCode(b0 << 8 | b1);\n          var v = b2 << 8 | b3;\n          unicodeMap2[k] = v;\n          count += 1;\n        }\n        if (count != numChars) {\n          throw count + \" != \" + numChars;\n        }\n        return unicodeMap2;\n      }();\n      var unknownChar = \"?\".charCodeAt(0);\n      return function(s2) {\n        var bytes = [];\n        for (var i2 = 0; i2 < s2.length; i2 += 1) {\n          var c2 = s2.charCodeAt(i2);\n          if (c2 < 128) {\n            bytes.push(c2);\n          } else {\n            var b = unicodeMap[s2.charAt(i2)];\n            if (typeof b == \"number\") {\n              if ((b & 255) == b) {\n                bytes.push(b);\n              } else {\n                bytes.push(b >>> 8);\n                bytes.push(b & 255);\n              }\n            } else {\n              bytes.push(unknownChar);\n            }\n          }\n        }\n        return bytes;\n      };\n    };\n    var QRMode = {\n      MODE_NUMBER: 1 << 0,\n      MODE_ALPHA_NUM: 1 << 1,\n      MODE_8BIT_BYTE: 1 << 2,\n      MODE_KANJI: 1 << 3\n    };\n    var QRErrorCorrectionLevel = {\n      L: 1,\n      M: 0,\n      Q: 3,\n      H: 2\n    };\n    var QRMaskPattern = {\n      PATTERN000: 0,\n      PATTERN001: 1,\n      PATTERN010: 2,\n      PATTERN011: 3,\n      PATTERN100: 4,\n      PATTERN101: 5,\n      PATTERN110: 6,\n      PATTERN111: 7\n    };\n    var QRUtil = function() {\n      var PATTERN_POSITION_TABLE = [\n        [],\n        [6, 18],\n        [6, 22],\n        [6, 26],\n        [6, 30],\n        [6, 34],\n        [6, 22, 38],\n        [6, 24, 42],\n        [6, 26, 46],\n        [6, 28, 50],\n        [6, 30, 54],\n        [6, 32, 58],\n        [6, 34, 62],\n        [6, 26, 46, 66],\n        [6, 26, 48, 70],\n        [6, 26, 50, 74],\n        [6, 30, 54, 78],\n        [6, 30, 56, 82],\n        [6, 30, 58, 86],\n        [6, 34, 62, 90],\n        [6, 28, 50, 72, 94],\n        [6, 26, 50, 74, 98],\n        [6, 30, 54, 78, 102],\n        [6, 28, 54, 80, 106],\n        [6, 32, 58, 84, 110],\n        [6, 30, 58, 86, 114],\n        [6, 34, 62, 90, 118],\n        [6, 26, 50, 74, 98, 122],\n        [6, 30, 54, 78, 102, 126],\n        [6, 26, 52, 78, 104, 130],\n        [6, 30, 56, 82, 108, 134],\n        [6, 34, 60, 86, 112, 138],\n        [6, 30, 58, 86, 114, 142],\n        [6, 34, 62, 90, 118, 146],\n        [6, 30, 54, 78, 102, 126, 150],\n        [6, 24, 50, 76, 102, 128, 154],\n        [6, 28, 54, 80, 106, 132, 158],\n        [6, 32, 58, 84, 110, 136, 162],\n        [6, 26, 54, 82, 110, 138, 166],\n        [6, 30, 58, 86, 114, 142, 170]\n      ];\n      var G15 = 1 << 10 | 1 << 8 | 1 << 5 | 1 << 4 | 1 << 2 | 1 << 1 | 1 << 0;\n      var G18 = 1 << 12 | 1 << 11 | 1 << 10 | 1 << 9 | 1 << 8 | 1 << 5 | 1 << 2 | 1 << 0;\n      var G15_MASK = 1 << 14 | 1 << 12 | 1 << 10 | 1 << 4 | 1 << 1;\n      var _this = {};\n      var getBCHDigit = function(data) {\n        var digit = 0;\n        while (data != 0) {\n          digit += 1;\n          data >>>= 1;\n        }\n        return digit;\n      };\n      _this.getBCHTypeInfo = function(data) {\n        var d = data << 10;\n        while (getBCHDigit(d) - getBCHDigit(G15) >= 0) {\n          d ^= G15 << getBCHDigit(d) - getBCHDigit(G15);\n        }\n        return (data << 10 | d) ^ G15_MASK;\n      };\n      _this.getBCHTypeNumber = function(data) {\n        var d = data << 12;\n        while (getBCHDigit(d) - getBCHDigit(G18) >= 0) {\n          d ^= G18 << getBCHDigit(d) - getBCHDigit(G18);\n        }\n        return data << 12 | d;\n      };\n      _this.getPatternPosition = function(typeNumber) {\n        return PATTERN_POSITION_TABLE[typeNumber - 1];\n      };\n      _this.getMaskFunction = function(maskPattern) {\n        switch (maskPattern) {\n          case QRMaskPattern.PATTERN000:\n            return function(i2, j) {\n              return (i2 + j) % 2 == 0;\n            };\n          case QRMaskPattern.PATTERN001:\n            return function(i2, j) {\n              return i2 % 2 == 0;\n            };\n          case QRMaskPattern.PATTERN010:\n            return function(i2, j) {\n              return j % 3 == 0;\n            };\n          case QRMaskPattern.PATTERN011:\n            return function(i2, j) {\n              return (i2 + j) % 3 == 0;\n            };\n          case QRMaskPattern.PATTERN100:\n            return function(i2, j) {\n              return (Math.floor(i2 / 2) + Math.floor(j / 3)) % 2 == 0;\n            };\n          case QRMaskPattern.PATTERN101:\n            return function(i2, j) {\n              return i2 * j % 2 + i2 * j % 3 == 0;\n            };\n          case QRMaskPattern.PATTERN110:\n            return function(i2, j) {\n              return (i2 * j % 2 + i2 * j % 3) % 2 == 0;\n            };\n          case QRMaskPattern.PATTERN111:\n            return function(i2, j) {\n              return (i2 * j % 3 + (i2 + j) % 2) % 2 == 0;\n            };\n          default:\n            throw \"bad maskPattern:\" + maskPattern;\n        }\n      };\n      _this.getErrorCorrectPolynomial = function(errorCorrectLength) {\n        var a2 = qrPolynomial([1], 0);\n        for (var i2 = 0; i2 < errorCorrectLength; i2 += 1) {\n          a2 = a2.multiply(qrPolynomial([1, QRMath.gexp(i2)], 0));\n        }\n        return a2;\n      };\n      _this.getLengthInBits = function(mode, type) {\n        if (1 <= type && type < 10) {\n          switch (mode) {\n            case QRMode.MODE_NUMBER:\n              return 10;\n            case QRMode.MODE_ALPHA_NUM:\n              return 9;\n            case QRMode.MODE_8BIT_BYTE:\n              return 8;\n            case QRMode.MODE_KANJI:\n              return 8;\n            default:\n              throw \"mode:\" + mode;\n          }\n        } else if (type < 27) {\n          switch (mode) {\n            case QRMode.MODE_NUMBER:\n              return 12;\n            case QRMode.MODE_ALPHA_NUM:\n              return 11;\n            case QRMode.MODE_8BIT_BYTE:\n              return 16;\n            case QRMode.MODE_KANJI:\n              return 10;\n            default:\n              throw \"mode:\" + mode;\n          }\n        } else if (type < 41) {\n          switch (mode) {\n            case QRMode.MODE_NUMBER:\n              return 14;\n            case QRMode.MODE_ALPHA_NUM:\n              return 13;\n            case QRMode.MODE_8BIT_BYTE:\n              return 16;\n            case QRMode.MODE_KANJI:\n              return 12;\n            default:\n              throw \"mode:\" + mode;\n          }\n        } else {\n          throw \"type:\" + type;\n        }\n      };\n      _this.getLostPoint = function(qrcode4) {\n        var moduleCount = qrcode4.getModuleCount();\n        var lostPoint = 0;\n        for (var row = 0; row < moduleCount; row += 1) {\n          for (var col = 0; col < moduleCount; col += 1) {\n            var sameCount = 0;\n            var dark = qrcode4.isDark(row, col);\n            for (var r = -1; r <= 1; r += 1) {\n              if (row + r < 0 || moduleCount <= row + r) {\n                continue;\n              }\n              for (var c2 = -1; c2 <= 1; c2 += 1) {\n                if (col + c2 < 0 || moduleCount <= col + c2) {\n                  continue;\n                }\n                if (r == 0 && c2 == 0) {\n                  continue;\n                }\n                if (dark == qrcode4.isDark(row + r, col + c2)) {\n                  sameCount += 1;\n                }\n              }\n            }\n            if (sameCount > 5) {\n              lostPoint += 3 + sameCount - 5;\n            }\n          }\n        }\n        for (var row = 0; row < moduleCount - 1; row += 1) {\n          for (var col = 0; col < moduleCount - 1; col += 1) {\n            var count = 0;\n            if (qrcode4.isDark(row, col))\n              count += 1;\n            if (qrcode4.isDark(row + 1, col))\n              count += 1;\n            if (qrcode4.isDark(row, col + 1))\n              count += 1;\n            if (qrcode4.isDark(row + 1, col + 1))\n              count += 1;\n            if (count == 0 || count == 4) {\n              lostPoint += 3;\n            }\n          }\n        }\n        for (var row = 0; row < moduleCount; row += 1) {\n          for (var col = 0; col < moduleCount - 6; col += 1) {\n            if (qrcode4.isDark(row, col) && !qrcode4.isDark(row, col + 1) && qrcode4.isDark(row, col + 2) && qrcode4.isDark(row, col + 3) && qrcode4.isDark(row, col + 4) && !qrcode4.isDark(row, col + 5) && qrcode4.isDark(row, col + 6)) {\n              lostPoint += 40;\n            }\n          }\n        }\n        for (var col = 0; col < moduleCount; col += 1) {\n          for (var row = 0; row < moduleCount - 6; row += 1) {\n            if (qrcode4.isDark(row, col) && !qrcode4.isDark(row + 1, col) && qrcode4.isDark(row + 2, col) && qrcode4.isDark(row + 3, col) && qrcode4.isDark(row + 4, col) && !qrcode4.isDark(row + 5, col) && qrcode4.isDark(row + 6, col)) {\n              lostPoint += 40;\n            }\n          }\n        }\n        var darkCount = 0;\n        for (var col = 0; col < moduleCount; col += 1) {\n          for (var row = 0; row < moduleCount; row += 1) {\n            if (qrcode4.isDark(row, col)) {\n              darkCount += 1;\n            }\n          }\n        }\n        var ratio = Math.abs(100 * darkCount / moduleCount / moduleCount - 50) / 5;\n        lostPoint += ratio * 10;\n        return lostPoint;\n      };\n      return _this;\n    }();\n    var QRMath = function() {\n      var EXP_TABLE = new Array(256);\n      var LOG_TABLE = new Array(256);\n      for (var i2 = 0; i2 < 8; i2 += 1) {\n        EXP_TABLE[i2] = 1 << i2;\n      }\n      for (var i2 = 8; i2 < 256; i2 += 1) {\n        EXP_TABLE[i2] = EXP_TABLE[i2 - 4] ^ EXP_TABLE[i2 - 5] ^ EXP_TABLE[i2 - 6] ^ EXP_TABLE[i2 - 8];\n      }\n      for (var i2 = 0; i2 < 255; i2 += 1) {\n        LOG_TABLE[EXP_TABLE[i2]] = i2;\n      }\n      var _this = {};\n      _this.glog = function(n2) {\n        if (n2 < 1) {\n          throw \"glog(\" + n2 + \")\";\n        }\n        return LOG_TABLE[n2];\n      };\n      _this.gexp = function(n2) {\n        while (n2 < 0) {\n          n2 += 255;\n        }\n        while (n2 >= 256) {\n          n2 -= 255;\n        }\n        return EXP_TABLE[n2];\n      };\n      return _this;\n    }();\n    function qrPolynomial(num, shift2) {\n      if (typeof num.length == \"undefined\") {\n        throw num.length + \"/\" + shift2;\n      }\n      var _num = function() {\n        var offset2 = 0;\n        while (offset2 < num.length && num[offset2] == 0) {\n          offset2 += 1;\n        }\n        var _num2 = new Array(num.length - offset2 + shift2);\n        for (var i2 = 0; i2 < num.length - offset2; i2 += 1) {\n          _num2[i2] = num[i2 + offset2];\n        }\n        return _num2;\n      }();\n      var _this = {};\n      _this.getAt = function(index) {\n        return _num[index];\n      };\n      _this.getLength = function() {\n        return _num.length;\n      };\n      _this.multiply = function(e2) {\n        var num2 = new Array(_this.getLength() + e2.getLength() - 1);\n        for (var i2 = 0; i2 < _this.getLength(); i2 += 1) {\n          for (var j = 0; j < e2.getLength(); j += 1) {\n            num2[i2 + j] ^= QRMath.gexp(QRMath.glog(_this.getAt(i2)) + QRMath.glog(e2.getAt(j)));\n          }\n        }\n        return qrPolynomial(num2, 0);\n      };\n      _this.mod = function(e2) {\n        if (_this.getLength() - e2.getLength() < 0) {\n          return _this;\n        }\n        var ratio = QRMath.glog(_this.getAt(0)) - QRMath.glog(e2.getAt(0));\n        var num2 = new Array(_this.getLength());\n        for (var i2 = 0; i2 < _this.getLength(); i2 += 1) {\n          num2[i2] = _this.getAt(i2);\n        }\n        for (var i2 = 0; i2 < e2.getLength(); i2 += 1) {\n          num2[i2] ^= QRMath.gexp(QRMath.glog(e2.getAt(i2)) + ratio);\n        }\n        return qrPolynomial(num2, 0).mod(e2);\n      };\n      return _this;\n    }\n    var QRRSBlock = function() {\n      var RS_BLOCK_TABLE = [\n        [1, 26, 19],\n        [1, 26, 16],\n        [1, 26, 13],\n        [1, 26, 9],\n        [1, 44, 34],\n        [1, 44, 28],\n        [1, 44, 22],\n        [1, 44, 16],\n        [1, 70, 55],\n        [1, 70, 44],\n        [2, 35, 17],\n        [2, 35, 13],\n        [1, 100, 80],\n        [2, 50, 32],\n        [2, 50, 24],\n        [4, 25, 9],\n        [1, 134, 108],\n        [2, 67, 43],\n        [2, 33, 15, 2, 34, 16],\n        [2, 33, 11, 2, 34, 12],\n        [2, 86, 68],\n        [4, 43, 27],\n        [4, 43, 19],\n        [4, 43, 15],\n        [2, 98, 78],\n        [4, 49, 31],\n        [2, 32, 14, 4, 33, 15],\n        [4, 39, 13, 1, 40, 14],\n        [2, 121, 97],\n        [2, 60, 38, 2, 61, 39],\n        [4, 40, 18, 2, 41, 19],\n        [4, 40, 14, 2, 41, 15],\n        [2, 146, 116],\n        [3, 58, 36, 2, 59, 37],\n        [4, 36, 16, 4, 37, 17],\n        [4, 36, 12, 4, 37, 13],\n        [2, 86, 68, 2, 87, 69],\n        [4, 69, 43, 1, 70, 44],\n        [6, 43, 19, 2, 44, 20],\n        [6, 43, 15, 2, 44, 16],\n        [4, 101, 81],\n        [1, 80, 50, 4, 81, 51],\n        [4, 50, 22, 4, 51, 23],\n        [3, 36, 12, 8, 37, 13],\n        [2, 116, 92, 2, 117, 93],\n        [6, 58, 36, 2, 59, 37],\n        [4, 46, 20, 6, 47, 21],\n        [7, 42, 14, 4, 43, 15],\n        [4, 133, 107],\n        [8, 59, 37, 1, 60, 38],\n        [8, 44, 20, 4, 45, 21],\n        [12, 33, 11, 4, 34, 12],\n        [3, 145, 115, 1, 146, 116],\n        [4, 64, 40, 5, 65, 41],\n        [11, 36, 16, 5, 37, 17],\n        [11, 36, 12, 5, 37, 13],\n        [5, 109, 87, 1, 110, 88],\n        [5, 65, 41, 5, 66, 42],\n        [5, 54, 24, 7, 55, 25],\n        [11, 36, 12, 7, 37, 13],\n        [5, 122, 98, 1, 123, 99],\n        [7, 73, 45, 3, 74, 46],\n        [15, 43, 19, 2, 44, 20],\n        [3, 45, 15, 13, 46, 16],\n        [1, 135, 107, 5, 136, 108],\n        [10, 74, 46, 1, 75, 47],\n        [1, 50, 22, 15, 51, 23],\n        [2, 42, 14, 17, 43, 15],\n        [5, 150, 120, 1, 151, 121],\n        [9, 69, 43, 4, 70, 44],\n        [17, 50, 22, 1, 51, 23],\n        [2, 42, 14, 19, 43, 15],\n        [3, 141, 113, 4, 142, 114],\n        [3, 70, 44, 11, 71, 45],\n        [17, 47, 21, 4, 48, 22],\n        [9, 39, 13, 16, 40, 14],\n        [3, 135, 107, 5, 136, 108],\n        [3, 67, 41, 13, 68, 42],\n        [15, 54, 24, 5, 55, 25],\n        [15, 43, 15, 10, 44, 16],\n        [4, 144, 116, 4, 145, 117],\n        [17, 68, 42],\n        [17, 50, 22, 6, 51, 23],\n        [19, 46, 16, 6, 47, 17],\n        [2, 139, 111, 7, 140, 112],\n        [17, 74, 46],\n        [7, 54, 24, 16, 55, 25],\n        [34, 37, 13],\n        [4, 151, 121, 5, 152, 122],\n        [4, 75, 47, 14, 76, 48],\n        [11, 54, 24, 14, 55, 25],\n        [16, 45, 15, 14, 46, 16],\n        [6, 147, 117, 4, 148, 118],\n        [6, 73, 45, 14, 74, 46],\n        [11, 54, 24, 16, 55, 25],\n        [30, 46, 16, 2, 47, 17],\n        [8, 132, 106, 4, 133, 107],\n        [8, 75, 47, 13, 76, 48],\n        [7, 54, 24, 22, 55, 25],\n        [22, 45, 15, 13, 46, 16],\n        [10, 142, 114, 2, 143, 115],\n        [19, 74, 46, 4, 75, 47],\n        [28, 50, 22, 6, 51, 23],\n        [33, 46, 16, 4, 47, 17],\n        [8, 152, 122, 4, 153, 123],\n        [22, 73, 45, 3, 74, 46],\n        [8, 53, 23, 26, 54, 24],\n        [12, 45, 15, 28, 46, 16],\n        [3, 147, 117, 10, 148, 118],\n        [3, 73, 45, 23, 74, 46],\n        [4, 54, 24, 31, 55, 25],\n        [11, 45, 15, 31, 46, 16],\n        [7, 146, 116, 7, 147, 117],\n        [21, 73, 45, 7, 74, 46],\n        [1, 53, 23, 37, 54, 24],\n        [19, 45, 15, 26, 46, 16],\n        [5, 145, 115, 10, 146, 116],\n        [19, 75, 47, 10, 76, 48],\n        [15, 54, 24, 25, 55, 25],\n        [23, 45, 15, 25, 46, 16],\n        [13, 145, 115, 3, 146, 116],\n        [2, 74, 46, 29, 75, 47],\n        [42, 54, 24, 1, 55, 25],\n        [23, 45, 15, 28, 46, 16],\n        [17, 145, 115],\n        [10, 74, 46, 23, 75, 47],\n        [10, 54, 24, 35, 55, 25],\n        [19, 45, 15, 35, 46, 16],\n        [17, 145, 115, 1, 146, 116],\n        [14, 74, 46, 21, 75, 47],\n        [29, 54, 24, 19, 55, 25],\n        [11, 45, 15, 46, 46, 16],\n        [13, 145, 115, 6, 146, 116],\n        [14, 74, 46, 23, 75, 47],\n        [44, 54, 24, 7, 55, 25],\n        [59, 46, 16, 1, 47, 17],\n        [12, 151, 121, 7, 152, 122],\n        [12, 75, 47, 26, 76, 48],\n        [39, 54, 24, 14, 55, 25],\n        [22, 45, 15, 41, 46, 16],\n        [6, 151, 121, 14, 152, 122],\n        [6, 75, 47, 34, 76, 48],\n        [46, 54, 24, 10, 55, 25],\n        [2, 45, 15, 64, 46, 16],\n        [17, 152, 122, 4, 153, 123],\n        [29, 74, 46, 14, 75, 47],\n        [49, 54, 24, 10, 55, 25],\n        [24, 45, 15, 46, 46, 16],\n        [4, 152, 122, 18, 153, 123],\n        [13, 74, 46, 32, 75, 47],\n        [48, 54, 24, 14, 55, 25],\n        [42, 45, 15, 32, 46, 16],\n        [20, 147, 117, 4, 148, 118],\n        [40, 75, 47, 7, 76, 48],\n        [43, 54, 24, 22, 55, 25],\n        [10, 45, 15, 67, 46, 16],\n        [19, 148, 118, 6, 149, 119],\n        [18, 75, 47, 31, 76, 48],\n        [34, 54, 24, 34, 55, 25],\n        [20, 45, 15, 61, 46, 16]\n      ];\n      var qrRSBlock = function(totalCount, dataCount) {\n        var _this2 = {};\n        _this2.totalCount = totalCount;\n        _this2.dataCount = dataCount;\n        return _this2;\n      };\n      var _this = {};\n      var getRsBlockTable = function(typeNumber, errorCorrectionLevel) {\n        switch (errorCorrectionLevel) {\n          case QRErrorCorrectionLevel.L:\n            return RS_BLOCK_TABLE[(typeNumber - 1) * 4 + 0];\n          case QRErrorCorrectionLevel.M:\n            return RS_BLOCK_TABLE[(typeNumber - 1) * 4 + 1];\n          case QRErrorCorrectionLevel.Q:\n            return RS_BLOCK_TABLE[(typeNumber - 1) * 4 + 2];\n          case QRErrorCorrectionLevel.H:\n            return RS_BLOCK_TABLE[(typeNumber - 1) * 4 + 3];\n          default:\n            return void 0;\n        }\n      };\n      _this.getRSBlocks = function(typeNumber, errorCorrectionLevel) {\n        var rsBlock = getRsBlockTable(typeNumber, errorCorrectionLevel);\n        if (typeof rsBlock == \"undefined\") {\n          throw \"bad rs block @ typeNumber:\" + typeNumber + \"/errorCorrectionLevel:\" + errorCorrectionLevel;\n        }\n        var length = rsBlock.length / 3;\n        var list = [];\n        for (var i2 = 0; i2 < length; i2 += 1) {\n          var count = rsBlock[i2 * 3 + 0];\n          var totalCount = rsBlock[i2 * 3 + 1];\n          var dataCount = rsBlock[i2 * 3 + 2];\n          for (var j = 0; j < count; j += 1) {\n            list.push(qrRSBlock(totalCount, dataCount));\n          }\n        }\n        return list;\n      };\n      return _this;\n    }();\n    var qrBitBuffer = function() {\n      var _buffer = [];\n      var _length = 0;\n      var _this = {};\n      _this.getBuffer = function() {\n        return _buffer;\n      };\n      _this.getAt = function(index) {\n        var bufIndex = Math.floor(index / 8);\n        return (_buffer[bufIndex] >>> 7 - index % 8 & 1) == 1;\n      };\n      _this.put = function(num, length) {\n        for (var i2 = 0; i2 < length; i2 += 1) {\n          _this.putBit((num >>> length - i2 - 1 & 1) == 1);\n        }\n      };\n      _this.getLengthInBits = function() {\n        return _length;\n      };\n      _this.putBit = function(bit) {\n        var bufIndex = Math.floor(_length / 8);\n        if (_buffer.length <= bufIndex) {\n          _buffer.push(0);\n        }\n        if (bit) {\n          _buffer[bufIndex] |= 128 >>> _length % 8;\n        }\n        _length += 1;\n      };\n      return _this;\n    };\n    var qrNumber = function(data) {\n      var _mode = QRMode.MODE_NUMBER;\n      var _data = data;\n      var _this = {};\n      _this.getMode = function() {\n        return _mode;\n      };\n      _this.getLength = function(buffer) {\n        return _data.length;\n      };\n      _this.write = function(buffer) {\n        var data2 = _data;\n        var i2 = 0;\n        while (i2 + 2 < data2.length) {\n          buffer.put(strToNum(data2.substring(i2, i2 + 3)), 10);\n          i2 += 3;\n        }\n        if (i2 < data2.length) {\n          if (data2.length - i2 == 1) {\n            buffer.put(strToNum(data2.substring(i2, i2 + 1)), 4);\n          } else if (data2.length - i2 == 2) {\n            buffer.put(strToNum(data2.substring(i2, i2 + 2)), 7);\n          }\n        }\n      };\n      var strToNum = function(s2) {\n        var num = 0;\n        for (var i2 = 0; i2 < s2.length; i2 += 1) {\n          num = num * 10 + chatToNum(s2.charAt(i2));\n        }\n        return num;\n      };\n      var chatToNum = function(c2) {\n        if (\"0\" <= c2 && c2 <= \"9\") {\n          return c2.charCodeAt(0) - \"0\".charCodeAt(0);\n        }\n        throw \"illegal char :\" + c2;\n      };\n      return _this;\n    };\n    var qrAlphaNum = function(data) {\n      var _mode = QRMode.MODE_ALPHA_NUM;\n      var _data = data;\n      var _this = {};\n      _this.getMode = function() {\n        return _mode;\n      };\n      _this.getLength = function(buffer) {\n        return _data.length;\n      };\n      _this.write = function(buffer) {\n        var s2 = _data;\n        var i2 = 0;\n        while (i2 + 1 < s2.length) {\n          buffer.put(\n            getCode(s2.charAt(i2)) * 45 + getCode(s2.charAt(i2 + 1)),\n            11\n          );\n          i2 += 2;\n        }\n        if (i2 < s2.length) {\n          buffer.put(getCode(s2.charAt(i2)), 6);\n        }\n      };\n      var getCode = function(c2) {\n        if (\"0\" <= c2 && c2 <= \"9\") {\n          return c2.charCodeAt(0) - \"0\".charCodeAt(0);\n        } else if (\"A\" <= c2 && c2 <= \"Z\") {\n          return c2.charCodeAt(0) - \"A\".charCodeAt(0) + 10;\n        } else {\n          switch (c2) {\n            case \" \":\n              return 36;\n            case \"$\":\n              return 37;\n            case \"%\":\n              return 38;\n            case \"*\":\n              return 39;\n            case \"+\":\n              return 40;\n            case \"-\":\n              return 41;\n            case \".\":\n              return 42;\n            case \"/\":\n              return 43;\n            case \":\":\n              return 44;\n            default:\n              throw \"illegal char :\" + c2;\n          }\n        }\n      };\n      return _this;\n    };\n    var qr8BitByte = function(data) {\n      var _mode = QRMode.MODE_8BIT_BYTE;\n      var _bytes = qrcode3.stringToBytes(data);\n      var _this = {};\n      _this.getMode = function() {\n        return _mode;\n      };\n      _this.getLength = function(buffer) {\n        return _bytes.length;\n      };\n      _this.write = function(buffer) {\n        for (var i2 = 0; i2 < _bytes.length; i2 += 1) {\n          buffer.put(_bytes[i2], 8);\n        }\n      };\n      return _this;\n    };\n    var qrKanji = function(data) {\n      var _mode = QRMode.MODE_KANJI;\n      var stringToBytes = qrcode3.stringToBytesFuncs[\"SJIS\"];\n      if (!stringToBytes) {\n        throw \"sjis not supported.\";\n      }\n      !function(c2, code) {\n        var test = stringToBytes(c2);\n        if (test.length != 2 || (test[0] << 8 | test[1]) != code) {\n          throw \"sjis not supported.\";\n        }\n      }(\"\\u53CB\", 38726);\n      var _bytes = stringToBytes(data);\n      var _this = {};\n      _this.getMode = function() {\n        return _mode;\n      };\n      _this.getLength = function(buffer) {\n        return ~~(_bytes.length / 2);\n      };\n      _this.write = function(buffer) {\n        var data2 = _bytes;\n        var i2 = 0;\n        while (i2 + 1 < data2.length) {\n          var c2 = (255 & data2[i2]) << 8 | 255 & data2[i2 + 1];\n          if (33088 <= c2 && c2 <= 40956) {\n            c2 -= 33088;\n          } else if (57408 <= c2 && c2 <= 60351) {\n            c2 -= 49472;\n          } else {\n            throw \"illegal char at \" + (i2 + 1) + \"/\" + c2;\n          }\n          c2 = (c2 >>> 8 & 255) * 192 + (c2 & 255);\n          buffer.put(c2, 13);\n          i2 += 2;\n        }\n        if (i2 < data2.length) {\n          throw \"illegal char at \" + (i2 + 1);\n        }\n      };\n      return _this;\n    };\n    var byteArrayOutputStream = function() {\n      var _bytes = [];\n      var _this = {};\n      _this.writeByte = function(b) {\n        _bytes.push(b & 255);\n      };\n      _this.writeShort = function(i2) {\n        _this.writeByte(i2);\n        _this.writeByte(i2 >>> 8);\n      };\n      _this.writeBytes = function(b, off, len) {\n        off = off || 0;\n        len = len || b.length;\n        for (var i2 = 0; i2 < len; i2 += 1) {\n          _this.writeByte(b[i2 + off]);\n        }\n      };\n      _this.writeString = function(s2) {\n        for (var i2 = 0; i2 < s2.length; i2 += 1) {\n          _this.writeByte(s2.charCodeAt(i2));\n        }\n      };\n      _this.toByteArray = function() {\n        return _bytes;\n      };\n      _this.toString = function() {\n        var s2 = \"\";\n        s2 += \"[\";\n        for (var i2 = 0; i2 < _bytes.length; i2 += 1) {\n          if (i2 > 0) {\n            s2 += \",\";\n          }\n          s2 += _bytes[i2];\n        }\n        s2 += \"]\";\n        return s2;\n      };\n      return _this;\n    };\n    var base64EncodeOutputStream = function() {\n      var _buffer = 0;\n      var _buflen = 0;\n      var _length = 0;\n      var _base64 = \"\";\n      var _this = {};\n      var writeEncoded = function(b) {\n        _base64 += String.fromCharCode(encode(b & 63));\n      };\n      var encode = function(n2) {\n        if (n2 < 0)\n          ;\n        else if (n2 < 26) {\n          return 65 + n2;\n        } else if (n2 < 52) {\n          return 97 + (n2 - 26);\n        } else if (n2 < 62) {\n          return 48 + (n2 - 52);\n        } else if (n2 == 62) {\n          return 43;\n        } else if (n2 == 63) {\n          return 47;\n        }\n        throw \"n:\" + n2;\n      };\n      _this.writeByte = function(n2) {\n        _buffer = _buffer << 8 | n2 & 255;\n        _buflen += 8;\n        _length += 1;\n        while (_buflen >= 6) {\n          writeEncoded(_buffer >>> _buflen - 6);\n          _buflen -= 6;\n        }\n      };\n      _this.flush = function() {\n        if (_buflen > 0) {\n          writeEncoded(_buffer << 6 - _buflen);\n          _buffer = 0;\n          _buflen = 0;\n        }\n        if (_length % 3 != 0) {\n          var padlen = 3 - _length % 3;\n          for (var i2 = 0; i2 < padlen; i2 += 1) {\n            _base64 += \"=\";\n          }\n        }\n      };\n      _this.toString = function() {\n        return _base64;\n      };\n      return _this;\n    };\n    var base64DecodeInputStream = function(str) {\n      var _str = str;\n      var _pos = 0;\n      var _buffer = 0;\n      var _buflen = 0;\n      var _this = {};\n      _this.read = function() {\n        while (_buflen < 8) {\n          if (_pos >= _str.length) {\n            if (_buflen == 0) {\n              return -1;\n            }\n            throw \"unexpected end of file./\" + _buflen;\n          }\n          var c2 = _str.charAt(_pos);\n          _pos += 1;\n          if (c2 == \"=\") {\n            _buflen = 0;\n            return -1;\n          } else if (c2.match(/^\\s$/)) {\n            continue;\n          }\n          _buffer = _buffer << 6 | decode(c2.charCodeAt(0));\n          _buflen += 6;\n        }\n        var n2 = _buffer >>> _buflen - 8 & 255;\n        _buflen -= 8;\n        return n2;\n      };\n      var decode = function(c2) {\n        if (65 <= c2 && c2 <= 90) {\n          return c2 - 65;\n        } else if (97 <= c2 && c2 <= 122) {\n          return c2 - 97 + 26;\n        } else if (48 <= c2 && c2 <= 57) {\n          return c2 - 48 + 52;\n        } else if (c2 == 43) {\n          return 62;\n        } else if (c2 == 47) {\n          return 63;\n        } else {\n          throw \"c:\" + c2;\n        }\n      };\n      return _this;\n    };\n    var gifImage = function(width, height) {\n      var _width = width;\n      var _height = height;\n      var _data = new Array(width * height);\n      var _this = {};\n      _this.setPixel = function(x, y, pixel) {\n        _data[y * _width + x] = pixel;\n      };\n      _this.write = function(out) {\n        out.writeString(\"GIF87a\");\n        out.writeShort(_width);\n        out.writeShort(_height);\n        out.writeByte(128);\n        out.writeByte(0);\n        out.writeByte(0);\n        out.writeByte(0);\n        out.writeByte(0);\n        out.writeByte(0);\n        out.writeByte(255);\n        out.writeByte(255);\n        out.writeByte(255);\n        out.writeString(\",\");\n        out.writeShort(0);\n        out.writeShort(0);\n        out.writeShort(_width);\n        out.writeShort(_height);\n        out.writeByte(0);\n        var lzwMinCodeSize = 2;\n        var raster = getLZWRaster(lzwMinCodeSize);\n        out.writeByte(lzwMinCodeSize);\n        var offset2 = 0;\n        while (raster.length - offset2 > 255) {\n          out.writeByte(255);\n          out.writeBytes(raster, offset2, 255);\n          offset2 += 255;\n        }\n        out.writeByte(raster.length - offset2);\n        out.writeBytes(raster, offset2, raster.length - offset2);\n        out.writeByte(0);\n        out.writeString(\";\");\n      };\n      var bitOutputStream = function(out) {\n        var _out = out;\n        var _bitLength = 0;\n        var _bitBuffer = 0;\n        var _this2 = {};\n        _this2.write = function(data, length) {\n          if (data >>> length != 0) {\n            throw \"length over\";\n          }\n          while (_bitLength + length >= 8) {\n            _out.writeByte(255 & (data << _bitLength | _bitBuffer));\n            length -= 8 - _bitLength;\n            data >>>= 8 - _bitLength;\n            _bitBuffer = 0;\n            _bitLength = 0;\n          }\n          _bitBuffer = data << _bitLength | _bitBuffer;\n          _bitLength = _bitLength + length;\n        };\n        _this2.flush = function() {\n          if (_bitLength > 0) {\n            _out.writeByte(_bitBuffer);\n          }\n        };\n        return _this2;\n      };\n      var getLZWRaster = function(lzwMinCodeSize) {\n        var clearCode = 1 << lzwMinCodeSize;\n        var endCode = (1 << lzwMinCodeSize) + 1;\n        var bitLength = lzwMinCodeSize + 1;\n        var table = lzwTable();\n        for (var i2 = 0; i2 < clearCode; i2 += 1) {\n          table.add(String.fromCharCode(i2));\n        }\n        table.add(String.fromCharCode(clearCode));\n        table.add(String.fromCharCode(endCode));\n        var byteOut = byteArrayOutputStream();\n        var bitOut = bitOutputStream(byteOut);\n        bitOut.write(clearCode, bitLength);\n        var dataIndex = 0;\n        var s2 = String.fromCharCode(_data[dataIndex]);\n        dataIndex += 1;\n        while (dataIndex < _data.length) {\n          var c2 = String.fromCharCode(_data[dataIndex]);\n          dataIndex += 1;\n          if (table.contains(s2 + c2)) {\n            s2 = s2 + c2;\n          } else {\n            bitOut.write(table.indexOf(s2), bitLength);\n            if (table.size() < 4095) {\n              if (table.size() == 1 << bitLength) {\n                bitLength += 1;\n              }\n              table.add(s2 + c2);\n            }\n            s2 = c2;\n          }\n        }\n        bitOut.write(table.indexOf(s2), bitLength);\n        bitOut.write(endCode, bitLength);\n        bitOut.flush();\n        return byteOut.toByteArray();\n      };\n      var lzwTable = function() {\n        var _map = {};\n        var _size = 0;\n        var _this2 = {};\n        _this2.add = function(key) {\n          if (_this2.contains(key)) {\n            throw \"dup key:\" + key;\n          }\n          _map[key] = _size;\n          _size += 1;\n        };\n        _this2.size = function() {\n          return _size;\n        };\n        _this2.indexOf = function(key) {\n          return _map[key];\n        };\n        _this2.contains = function(key) {\n          return typeof _map[key] != \"undefined\";\n        };\n        return _this2;\n      };\n      return _this;\n    };\n    var createDataURL = function(width, height, getPixel) {\n      var gif = gifImage(width, height);\n      for (var y = 0; y < height; y += 1) {\n        for (var x = 0; x < width; x += 1) {\n          gif.setPixel(x, y, getPixel(x, y));\n        }\n      }\n      var b = byteArrayOutputStream();\n      gif.write(b);\n      var base64 = base64EncodeOutputStream();\n      var bytes = b.toByteArray();\n      for (var i2 = 0; i2 < bytes.length; i2 += 1) {\n        base64.writeByte(bytes[i2]);\n      }\n      base64.flush();\n      return \"data:image/gif;base64,\" + base64;\n    };\n    return qrcode3;\n  }();\n  !function() {\n    qrcode2.stringToBytesFuncs[\"UTF-8\"] = function(s2) {\n      function toUTF8Array(str) {\n        var utf8 = [];\n        for (var i2 = 0; i2 < str.length; i2++) {\n          var charcode = str.charCodeAt(i2);\n          if (charcode < 128)\n            utf8.push(charcode);\n          else if (charcode < 2048) {\n            utf8.push(\n              192 | charcode >> 6,\n              128 | charcode & 63\n            );\n          } else if (charcode < 55296 || charcode >= 57344) {\n            utf8.push(\n              224 | charcode >> 12,\n              128 | charcode >> 6 & 63,\n              128 | charcode & 63\n            );\n          } else {\n            i2++;\n            charcode = 65536 + ((charcode & 1023) << 10 | str.charCodeAt(i2) & 1023);\n            utf8.push(\n              240 | charcode >> 18,\n              128 | charcode >> 12 & 63,\n              128 | charcode >> 6 & 63,\n              128 | charcode & 63\n            );\n          }\n        }\n        return utf8;\n      }\n      return toUTF8Array(s2);\n    };\n  }();\n  (function(factory) {\n    {\n      module2.exports = factory();\n    }\n  })(function() {\n    return qrcode2;\n  });\n})(qrcode$1);\nconst qrcode = qrcode$1.exports;\nvar _tmpl$$6 = /* @__PURE__ */ template$1(`<div>`);\nconst QRCode = (props) => {\n  let qrCodeCanvasRef;\n  let qrCodeWrapperRef;\n  let imageRef;\n  createSignal(false);\n  const [picSize, setPicSize] = createSignal(picSizeDefault);\n  createEffect(() => {\n    const errorCorrectionLevel = \"L\";\n    const cellSize = 4;\n    const qr = qrcode(0, errorCorrectionLevel);\n    qr.addData(props.sourceUrl);\n    qr.make();\n    qrCodeCanvasRef.innerHTML = qr.createSvgTag(cellSize, 0);\n    const qrSize = qrCodeCanvasRef.firstElementChild.clientWidth;\n    const scale = Math.round(qrNormalSize / qrSize * 1e5) / 1e5;\n    if (imageRef) {\n      const imgSize = Math.ceil(imgSizeDefault / (scale * cellSize)) * cellSize;\n      const imgOffset = toPx(Math.ceil((qrSize - imgSize) / (2 * cellSize)) * cellSize);\n      imageRef.style.top = imgOffset;\n      imageRef.style.left = imgOffset;\n      imageRef.style.height = toPx(imgSize);\n      imageRef.style.width = toPx(imgSize);\n      setPicSize(Math.round(picSizeDefault / scale));\n    }\n    qrCodeWrapperRef.style.transform = `scale(${scale})`;\n  });\n  return createComponent(QrCodeBackground, {\n    get [\"class\"]() {\n      return props.class;\n    },\n    get children() {\n      return [createComponent(QrCodeWrapper$1, {\n        ref(r$) {\n          var _ref$ = qrCodeWrapperRef;\n          typeof _ref$ === \"function\" ? _ref$(r$) : qrCodeWrapperRef = r$;\n        },\n        get children() {\n          return [(() => {\n            var _el$ = _tmpl$$6();\n            var _ref$2 = qrCodeCanvasRef;\n            typeof _ref$2 === \"function\" ? use(_ref$2, _el$) : qrCodeCanvasRef = _el$;\n            return _el$;\n          })(), createComponent(Show, {\n            get when() {\n              return props.imageUrl;\n            },\n            get children() {\n              return createComponent(ImageBackground, {\n                ref(r$) {\n                  var _ref$3 = imageRef;\n                  typeof _ref$3 === \"function\" ? _ref$3(r$) : imageRef = r$;\n                },\n                get children() {\n                  return createComponent(ImageStyled$2, {\n                    get src() {\n                      return props.imageUrl;\n                    },\n                    alt: \"\",\n                    get size() {\n                      return picSize();\n                    }\n                  });\n                }\n              });\n            }\n          })];\n        }\n      }), createComponent(Transition, {\n        onBeforeEnter: (el) => {\n          animate(el, [{\n            opacity: 0,\n            transform: \"translate(-50%, 44px)\"\n          }, {\n            opacity: 1,\n            transform: \"translate(-50%, 0)\"\n          }], {\n            duration: 150,\n            easing: \"ease-out\"\n          });\n        },\n        onExit: (el, done) => {\n          animate(el, [{\n            opacity: 1,\n            transform: \"translate(-50%, 0)\"\n          }, {\n            opacity: 0,\n            transform: \"translate(-50%, 44px)\"\n          }], {\n            duration: 150,\n            easing: \"ease-out\"\n          }).finished.then(() => {\n            done();\n          });\n        }\n      })];\n    }\n  });\n};\nconst $RAW = Symbol(\"store-raw\"), $NODE = Symbol(\"store-node\"), $HAS = Symbol(\"store-has\"), $SELF = Symbol(\"store-self\");\nfunction wrap$1(value) {\n  let p2 = value[$PROXY];\n  if (!p2) {\n    Object.defineProperty(value, $PROXY, {\n      value: p2 = new Proxy(value, proxyTraps$1)\n    });\n    if (!Array.isArray(value)) {\n      const keys = Object.keys(value), desc = Object.getOwnPropertyDescriptors(value);\n      for (let i2 = 0, l2 = keys.length; i2 < l2; i2++) {\n        const prop = keys[i2];\n        if (desc[prop].get) {\n          Object.defineProperty(value, prop, {\n            enumerable: desc[prop].enumerable,\n            get: desc[prop].get.bind(p2)\n          });\n        }\n      }\n    }\n  }\n  return p2;\n}\nfunction isWrappable(obj) {\n  let proto;\n  return obj != null && typeof obj === \"object\" && (obj[$PROXY] || !(proto = Object.getPrototypeOf(obj)) || proto === Object.prototype || Array.isArray(obj));\n}\nfunction unwrap(item, set = /* @__PURE__ */ new Set()) {\n  let result, unwrapped, v, prop;\n  if (result = item != null && item[$RAW])\n    return result;\n  if (!isWrappable(item) || set.has(item))\n    return item;\n  if (Array.isArray(item)) {\n    if (Object.isFrozen(item))\n      item = item.slice(0);\n    else\n      set.add(item);\n    for (let i2 = 0, l2 = item.length; i2 < l2; i2++) {\n      v = item[i2];\n      if ((unwrapped = unwrap(v, set)) !== v)\n        item[i2] = unwrapped;\n    }\n  } else {\n    if (Object.isFrozen(item))\n      item = Object.assign({}, item);\n    else\n      set.add(item);\n    const keys = Object.keys(item), desc = Object.getOwnPropertyDescriptors(item);\n    for (let i2 = 0, l2 = keys.length; i2 < l2; i2++) {\n      prop = keys[i2];\n      if (desc[prop].get)\n        continue;\n      v = item[prop];\n      if ((unwrapped = unwrap(v, set)) !== v)\n        item[prop] = unwrapped;\n    }\n  }\n  return item;\n}\nfunction getNodes(target, symbol) {\n  let nodes = target[symbol];\n  if (!nodes)\n    Object.defineProperty(target, symbol, {\n      value: nodes = /* @__PURE__ */ Object.create(null)\n    });\n  return nodes;\n}\nfunction getNode(nodes, property, value) {\n  if (nodes[property])\n    return nodes[property];\n  const [s2, set] = createSignal(value, {\n    equals: false,\n    internal: true\n  });\n  s2.$ = set;\n  return nodes[property] = s2;\n}\nfunction proxyDescriptor$1(target, property) {\n  const desc = Reflect.getOwnPropertyDescriptor(target, property);\n  if (!desc || desc.get || !desc.configurable || property === $PROXY || property === $NODE)\n    return desc;\n  delete desc.value;\n  delete desc.writable;\n  desc.get = () => target[$PROXY][property];\n  return desc;\n}\nfunction trackSelf(target) {\n  getListener() && getNode(getNodes(target, $NODE), $SELF)();\n}\nfunction ownKeys(target) {\n  trackSelf(target);\n  return Reflect.ownKeys(target);\n}\nconst proxyTraps$1 = {\n  get(target, property, receiver) {\n    if (property === $RAW)\n      return target;\n    if (property === $PROXY)\n      return receiver;\n    if (property === $TRACK) {\n      trackSelf(target);\n      return receiver;\n    }\n    const nodes = getNodes(target, $NODE);\n    const tracked = nodes[property];\n    let value = tracked ? tracked() : target[property];\n    if (property === $NODE || property === $HAS || property === \"__proto__\")\n      return value;\n    if (!tracked) {\n      const desc = Object.getOwnPropertyDescriptor(target, property);\n      if (getListener() && (typeof value !== \"function\" || target.hasOwnProperty(property)) && !(desc && desc.get))\n        value = getNode(nodes, property, value)();\n    }\n    return isWrappable(value) ? wrap$1(value) : value;\n  },\n  has(target, property) {\n    if (property === $RAW || property === $PROXY || property === $TRACK || property === $NODE || property === $HAS || property === \"__proto__\")\n      return true;\n    getListener() && getNode(getNodes(target, $HAS), property)();\n    return property in target;\n  },\n  set() {\n    return true;\n  },\n  deleteProperty() {\n    return true;\n  },\n  ownKeys,\n  getOwnPropertyDescriptor: proxyDescriptor$1\n};\nfunction setProperty(state, property, value, deleting = false) {\n  if (!deleting && state[property] === value)\n    return;\n  const prev = state[property], len = state.length;\n  if (value === void 0) {\n    delete state[property];\n    if (state[$HAS] && state[$HAS][property] && prev !== void 0)\n      state[$HAS][property].$();\n  } else {\n    state[property] = value;\n    if (state[$HAS] && state[$HAS][property] && prev === void 0)\n      state[$HAS][property].$();\n  }\n  let nodes = getNodes(state, $NODE), node;\n  if (node = getNode(nodes, property, prev))\n    node.$(() => value);\n  if (Array.isArray(state) && state.length !== len) {\n    for (let i2 = state.length; i2 < len; i2++)\n      (node = nodes[i2]) && node.$();\n    (node = getNode(nodes, \"length\", len)) && node.$(state.length);\n  }\n  (node = nodes[$SELF]) && node.$();\n}\nfunction mergeStoreNode(state, value) {\n  const keys = Object.keys(value);\n  for (let i2 = 0; i2 < keys.length; i2 += 1) {\n    const key = keys[i2];\n    setProperty(state, key, value[key]);\n  }\n}\nfunction updateArray(current, next) {\n  if (typeof next === \"function\")\n    next = next(current);\n  next = unwrap(next);\n  if (Array.isArray(next)) {\n    if (current === next)\n      return;\n    let i2 = 0, len = next.length;\n    for (; i2 < len; i2++) {\n      const value = next[i2];\n      if (current[i2] !== value)\n        setProperty(current, i2, value);\n    }\n    setProperty(current, \"length\", len);\n  } else\n    mergeStoreNode(current, next);\n}\nfunction updatePath(current, path, traversed = []) {\n  let part, prev = current;\n  if (path.length > 1) {\n    part = path.shift();\n    const partType = typeof part, isArray = Array.isArray(current);\n    if (Array.isArray(part)) {\n      for (let i2 = 0; i2 < part.length; i2++) {\n        updatePath(current, [part[i2]].concat(path), traversed);\n      }\n      return;\n    } else if (isArray && partType === \"function\") {\n      for (let i2 = 0; i2 < current.length; i2++) {\n        if (part(current[i2], i2))\n          updatePath(current, [i2].concat(path), traversed);\n      }\n      return;\n    } else if (isArray && partType === \"object\") {\n      const {\n        from = 0,\n        to = current.length - 1,\n        by = 1\n      } = part;\n      for (let i2 = from; i2 <= to; i2 += by) {\n        updatePath(current, [i2].concat(path), traversed);\n      }\n      return;\n    } else if (path.length > 1) {\n      updatePath(current[part], path, [part].concat(traversed));\n      return;\n    }\n    prev = current[part];\n    traversed = [part].concat(traversed);\n  }\n  let value = path[0];\n  if (typeof value === \"function\") {\n    value = value(prev, traversed);\n    if (value === prev)\n      return;\n  }\n  if (part === void 0 && value == void 0)\n    return;\n  value = unwrap(value);\n  if (part === void 0 || isWrappable(prev) && isWrappable(value) && !Array.isArray(value)) {\n    mergeStoreNode(prev, value);\n  } else\n    setProperty(current, part, value);\n}\nfunction createStore(...[store, options]) {\n  const unwrappedStore = unwrap(store || {});\n  const isArray = Array.isArray(unwrappedStore);\n  const wrappedStore = wrap$1(unwrappedStore);\n  function setStore(...args) {\n    batch(() => {\n      isArray && args.length === 1 ? updateArray(unwrappedStore, args[0]) : updatePath(unwrappedStore, args);\n    });\n  }\n  return [wrappedStore, setStore];\n}\nfunction deepReadObject(obj, path, defaultValue) {\n  const value = obj[path] || path.trim().split(\".\").reduce((a2, b) => a2 ? a2[b] : void 0, obj);\n  return value !== void 0 ? value : defaultValue;\n}\nvar template = (str, params, reg = /{{([^{}]+)}}/g) => str.replace(reg, (_, key) => deepReadObject(params, key, \"\"));\nvar createI18nContext = (init = {}, lang = typeof navigator !== \"undefined\" && navigator.language in init ? navigator.language : ((_h) => (_h = Object.keys(init)[0]) != null ? _h : \"\")()) => {\n  const [locale, setLocale] = createSignal(lang);\n  const [dict, setDict] = createStore(init);\n  const translate = (key, params, defaultValue) => {\n    const val = deepReadObject(dict[locale()], key, defaultValue || \"\");\n    if (typeof val === \"function\")\n      return val(params);\n    if (typeof val === \"string\")\n      return template(val, params || {});\n    return val;\n  };\n  const actions = {\n    add(lang2, table) {\n      setDict(lang2, (t2) => Object.assign(t2 || {}, table));\n    },\n    locale: (lang2) => lang2 ? setLocale(lang2) : locale(),\n    dict: (lang2) => deepReadObject(dict, lang2)\n  };\n  return [translate, actions];\n};\nvar I18nContext = createContext({});\nvar useI18n = () => useContext(I18nContext);\nconst TextStyled$2 = styled.div`\n    font-style: normal;\n    font-weight: ${(props) => props.fontWeight};\n    font-size: ${(props) => props.fontSize};\n    line-height: ${(props) => props.lineHeight};\n\n    color: ${(props) => props.color};\n`;\nconst Text = (inputs) => {\n  const theme = useTheme();\n  const [t2] = useI18n();\n  let textRef;\n  const color = () => inputs.color || theme.colors.text.primary;\n  const props = mergeProps({\n    fontSize: \"14px\",\n    fontWeight: \"510\",\n    lineHeight: \"130%\"\n  }, inputs);\n  createEffect(() => {\n    if (!textRef) {\n      return;\n    }\n    if (props.cursor === \"unset\") {\n      return;\n    }\n    if (getComputedStyle(textRef).cursor !== \"pointer\") {\n      textRef.style.cursor = \"default\";\n    }\n  });\n  return createComponent(TextStyled$2, {\n    get fontSize() {\n      return props.fontSize;\n    },\n    get fontWeight() {\n      return props.fontWeight;\n    },\n    get lineHeight() {\n      return props.lineHeight;\n    },\n    get color() {\n      return color();\n    },\n    get [\"class\"]() {\n      return props.class;\n    },\n    ref(r$) {\n      var _ref$ = textRef;\n      typeof _ref$ === \"function\" ? _ref$(r$) : textRef = r$;\n    },\n    \"data-tc-text\": \"true\",\n    get children() {\n      var _a2;\n      return createMemo(() => !!props.translationKey)() ? t2(props.translationKey, props.translationValues, (_a2 = props.children) == null ? void 0 : _a2.toString()) : props.children;\n    }\n  });\n};\nconst ImageContainer = styled.div`\n    position: relative;\n\n    &::after {\n        content: '';\n        display: block;\n        position: absolute;\n        top: 0;\n        bottom: 0;\n        left: 0;\n        right: 0;\n        border: 0.5px solid rgba(0, 0, 0, 0.08);\n\n        border-radius: inherit;\n    }\n`;\nconst ImageStyled$1 = styled(Image)`\n    width: 100%;\n    height: 100%;\n    border-radius: inherit;\n`;\nconst WalletImage = (props) => {\n  return createComponent(ImageContainer, {\n    get [\"class\"]() {\n      return props.class;\n    },\n    get children() {\n      return createComponent(ImageStyled$1, {\n        get src() {\n          return props.src;\n        }\n      });\n    }\n  });\n};\nconst borders = {\n  m: \"16px\",\n  s: \"12px\",\n  none: \"0\"\n};\nconst badgeBorders = {\n  m: \"6px\",\n  s: \"6px\",\n  none: \"0\"\n};\nstyled.button`\n    position: relative;\n    cursor: pointer;\n    border: none;\n    background-color: unset;\n    padding: 8px 4px;\n    width: 92px;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n\n    transition: transform 0.125s ease-in-out;\n\n    ${mediaNotTouch} {\n        &:hover {\n            transform: scale(1.04);\n        }\n    }\n\n    &:active {\n        transform: scale(0.96);\n    }\n\n    ${media(\"mobile\")} {\n        padding: 8px 4px;\n        width: 82px;\n    }\n\n    ${mediaTouch} {\n        &:active {\n            transform: scale(0.92);\n        }\n    }\n`;\nstyled(WalletImage)`\n    width: 60px;\n    height: 60px;\n    border-radius: ${(props) => borders[props.theme.borderRadius]};\n\n    margin-bottom: 8px;\n`;\nstyled(Image)`\n    position: absolute;\n    right: 10px;\n    top: 50px;\n    width: 24px;\n    height: 24px;\n    border-radius: ${(props) => badgeBorders[props.theme.borderRadius]};\n    box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.08);\n`;\nstyled(Text)`\n    max-width: 90px;\n    font-weight: 510;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n    overflow: hidden;\n\n    ${media(\"mobile\")} {\n        max-width: 80px;\n    }\n`;\nstyled(Text)`\n    font-weight: ${(props) => props.colorPrimary ? \"510\" : \"400\"};\n    max-width: 90px;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n    overflow: hidden;\n    color: ${(props) => props.colorPrimary ? props.theme.colors.text.primary : props.theme.colors.text.secondary};\n\n    ${media(\"mobile\")} {\n        max-width: 80px;\n    }\n`;\nconst H1Styled$2 = styled.h1`\n    font-style: normal;\n    font-weight: 590;\n    font-size: 20px;\n    line-height: 28px;\n\n    text-align: center;\n\n    color: ${(props) => props.theme.colors.text.primary};\n\n    margin-top: 0;\n    margin-bottom: 0;\n\n    cursor: default;\n`;\nconst H1 = (props) => {\n  const [t2] = useI18n();\n  return createComponent(H1Styled$2, {\n    get [\"class\"]() {\n      return props.class;\n    },\n    \"data-tc-h1\": \"true\",\n    get children() {\n      var _a2;\n      return createMemo(() => !!props.translationKey)() ? t2(props.translationKey, props.translationValues, (_a2 = props.children) == null ? void 0 : _a2.toString()) : props.children;\n    }\n  });\n};\nconst H2Styled$1 = styled.h2`\n    font-style: normal;\n    font-weight: 400;\n    font-size: 16px;\n    line-height: 22px;\n\n    text-align: center;\n\n    color: ${(props) => props.theme.colors.text.secondary};\n\n    margin-top: 0;\n    margin-bottom: 32px;\n\n    cursor: default;\n`;\nconst H2 = (props) => {\n  const [t2] = useI18n();\n  return createComponent(H2Styled$1, {\n    get [\"class\"]() {\n      return props.class;\n    },\n    \"data-tc-h2\": \"true\",\n    get children() {\n      var _a2;\n      return createMemo(() => !!props.translationKey)() ? t2(props.translationKey, props.translationValues, (_a2 = props.children) == null ? void 0 : _a2.toString()) : props.children;\n    }\n  });\n};\nconst H3Styled = styled.h3`\n    font-style: normal;\n    font-weight: 510;\n    font-size: 16px;\n    line-height: 20px;\n\n    color: ${(props) => props.theme.colors.text.primary};\n\n    margin-top: 0;\n    margin-bottom: 0;\n\n    cursor: default;\n`;\nconst H3 = (props) => {\n  const [t2] = useI18n();\n  return createComponent(H3Styled, {\n    \"data-tc-h3\": \"true\",\n    get [\"class\"]() {\n      return props.class;\n    },\n    get children() {\n      var _a2;\n      return createMemo(() => !!props.translationKey)() ? t2(props.translationKey, props.translationValues, (_a2 = props.children) == null ? void 0 : _a2.toString()) : props.children;\n    }\n  });\n};\nconst containerBorders = {\n  m: \"16px\",\n  s: \"12px\",\n  none: \"0\"\n};\nconst walletBorders = {\n  m: \"6px\",\n  s: \"6px\",\n  none: \"0\"\n};\nstyled.div`\n    width: 60px;\n    height: 60px;\n    padding: 8px;\n    margin-bottom: 8px;\n    border-radius: ${(props) => containerBorders[props.theme.borderRadius]};\n    background-color: ${(props) => props.theme.colors.background.tint};\n    display: grid;\n    grid-template: 1fr 1fr / 1fr 1fr;\n    gap: 4px;\n`;\nstyled(WalletImage)`\n    width: 20px;\n    height: 20px;\n    border-radius: ${(props) => walletBorders[props.theme.borderRadius]};\n`;\nstyled.div`\n    width: 100%;\n    overflow-y: auto;\n    max-height: ${(props) => props.maxHeight};\n\n    scrollbar-width: none;\n    &&::-webkit-scrollbar {\n        display: none;\n    }\n\n    &&::-webkit-scrollbar-track {\n        background: transparent;\n    }\n\n    &&::-webkit-scrollbar-thumb {\n        display: none;\n    }\n`;\nstyled.div`\n    height: 1px;\n    margin: 0 -24px;\n    width: calc(100% + 48px);\n    opacity: 0.08;\n    background: ${(props) => props.isShown ? props.theme.colors.icon.secondary : \"transparent\"};\n    transition: background 0.15s ease-in-out;\n\n    ${media(\"mobile\")} {\n        width: 100%;\n        margin: 0;\n    }\n`;\nconst [windowHeight, setWindowHeight] = createSignal(((_i = getWindow$1()) == null ? void 0 : _i.innerHeight) || 0);\nif (getWindow$1()) {\n  window.addEventListener(\"resize\", () => setWindowHeight(window.innerHeight));\n}\nconst AStyled = styled.a`\n    display: block;\n    text-decoration: unset;\n`;\nconst Link = (props) => {\n  const attributes = () => props.blank ? {\n    rel: \"noreferrer noopener\"\n  } : {};\n  return createComponent(AStyled, mergeProps({\n    get href() {\n      return props.href;\n    },\n    get target() {\n      return props.blank ? \"_blank\" : \"_self\";\n    },\n    get [\"class\"]() {\n      return props.class;\n    },\n    get onClick() {\n      return props.onClick;\n    }\n  }, attributes, {\n    get children() {\n      return props.children;\n    }\n  }));\n};\nvar _tmpl$$5 = /* @__PURE__ */ template$1(`<svg width=24 height=24 viewBox=\"0 0 24 24\"fill=none xmlns=http://www.w3.org/2000/svg><path fill-rule=evenodd clip-rule=evenodd d=\"M7.76228 2.09998H10.2378C11.0458 2.09997 11.7067 2.09996 12.2438 2.14384C12.7997 2.18926 13.3017 2.28614 13.7706 2.52505C14.5045 2.89896 15.1011 3.49558 15.475 4.22941C15.7139 4.6983 15.8108 5.20038 15.8562 5.75629C15.9001 6.29337 15.9001 6.95422 15.9001 7.76227V8.1H16.2377C17.0457 8.09999 17.7066 8.09998 18.2437 8.14386C18.7996 8.18928 19.3017 8.28616 19.7705 8.52507C20.5044 8.89898 21.101 9.4956 21.4749 10.2294C21.7138 10.6983 21.8107 11.2004 21.8561 11.7563C21.9 12.2934 21.9 12.9542 21.9 13.7623V16.2377C21.9 17.0458 21.9 17.7066 21.8561 18.2437C21.8107 18.7996 21.7138 19.3017 21.4749 19.7706C21.101 20.5044 20.5044 21.101 19.7705 21.4749C19.3017 21.7138 18.7996 21.8107 18.2437 21.8561C17.7066 21.9 17.0458 21.9 16.2378 21.9H13.7623C12.9543 21.9 12.2934 21.9 11.7563 21.8561C11.2004 21.8107 10.6983 21.7138 10.2294 21.4749C9.49561 21.101 8.89898 20.5044 8.52508 19.7706C8.28616 19.3017 8.18928 18.7996 8.14386 18.2437C8.09998 17.7066 8.09999 17.0458 8.1 16.2377V15.9H7.76227C6.95426 15.9 6.29335 15.9 5.75629 15.8561C5.20038 15.8107 4.6983 15.7138 4.22941 15.4749C3.49558 15.101 2.89896 14.5044 2.52505 13.7705C2.28614 13.3017 2.18926 12.7996 2.14384 12.2437C2.09996 11.7066 2.09997 11.0458 2.09998 10.2377V7.76228C2.09997 6.95424 2.09996 6.29336 2.14384 5.75629C2.18926 5.20038 2.28614 4.6983 2.52505 4.22941C2.89896 3.49558 3.49558 2.89896 4.22941 2.52505C4.6983 2.28614 5.20038 2.18926 5.75629 2.14384C6.29336 2.09996 6.95425 2.09997 7.76228 2.09998ZM8.1 14.1V13.7623C8.09999 12.9542 8.09998 12.2934 8.14386 11.7563C8.18928 11.2004 8.28616 10.6983 8.52508 10.2294C8.89898 9.4956 9.49561 8.89898 10.2294 8.52507C10.6983 8.28616 11.2004 8.18928 11.7563 8.14386C12.2934 8.09998 12.9542 8.09999 13.7623 8.1H14.1001V7.79998C14.1001 6.94505 14.0994 6.35798 14.0622 5.90287C14.0259 5.45827 13.9593 5.21944 13.8712 5.0466C13.6699 4.65146 13.3486 4.3302 12.9535 4.12886C12.7806 4.04079 12.5418 3.97419 12.0972 3.93786C11.6421 3.90068 11.055 3.89998 10.2001 3.89998H7.79998C6.94505 3.89998 6.35798 3.90068 5.90287 3.93786C5.45827 3.97419 5.21944 4.04079 5.0466 4.12886C4.65146 4.3302 4.3302 4.65146 4.12886 5.0466C4.04079 5.21944 3.97419 5.45827 3.93786 5.90287C3.90068 6.35798 3.89998 6.94505 3.89998 7.79998V10.2C3.89998 11.0549 3.90068 11.642 3.93786 12.0971C3.97419 12.5417 4.04079 12.7805 4.12886 12.9534C4.3302 13.3485 4.65146 13.6698 5.0466 13.8711C5.21944 13.9592 5.45827 14.0258 5.90287 14.0621C6.35798 14.0993 6.94505 14.1 7.79998 14.1H8.1ZM11.0466 10.1289C11.2195 10.0408 11.4583 9.97421 11.9029 9.93788C12.358 9.9007 12.9451 9.9 13.8 9.9H16.2C17.0549 9.9 17.642 9.9007 18.0971 9.93788C18.5417 9.97421 18.7805 10.0408 18.9534 10.1289C19.3485 10.3302 19.6698 10.6515 19.8711 11.0466C19.9592 11.2195 20.0258 11.4583 20.0621 11.9029C20.0993 12.358 20.1 12.9451 20.1 13.8V16.2C20.1 17.0549 20.0993 17.642 20.0621 18.0971C20.0258 18.5417 19.9592 18.7805 19.8711 18.9534C19.6698 19.3485 19.3485 19.6698 18.9534 19.8711C18.7805 19.9592 18.5417 20.0258 18.0971 20.0621C17.642 20.0993 17.0549 20.1 16.2 20.1H13.8C12.9451 20.1 12.358 20.0993 11.9029 20.0621C11.4583 20.0258 11.2195 19.9592 11.0466 19.8711C10.6515 19.6698 10.3302 19.3485 10.1289 18.9534C10.0408 18.7805 9.97421 18.5417 9.93788 18.0971C9.9007 17.642 9.9 17.0549 9.9 16.2V13.8C9.9 12.9451 9.9007 12.358 9.93788 11.9029C9.97421 11.4583 10.0408 11.2195 10.1289 11.0466C10.3302 10.6515 10.6515 10.3302 11.0466 10.1289Z\">`);\nconst CopyIcon = (props) => {\n  const theme = useTheme();\n  const fill = () => props.fill || theme.colors.icon.primary;\n  return (() => {\n    var _el$ = _tmpl$$5(), _el$2 = _el$.firstChild;\n    createRenderEffect((_p$) => {\n      var _v$ = props.class, _v$2 = fill();\n      _v$ !== _p$.e && setAttribute(_el$, \"class\", _p$.e = _v$);\n      _v$2 !== _p$.t && setAttribute(_el$2, \"fill\", _p$.t = _v$2);\n      return _p$;\n    }, {\n      e: void 0,\n      t: void 0\n    });\n    return _el$;\n  })();\n};\nvar _tmpl$$4 = /* @__PURE__ */ template$1(`<svg width=24 height=24 viewBox=\"0 0 24 24\"fill=none xmlns=http://www.w3.org/2000/svg><path d=\"M8.7624 3.10001C7.95435 3.1 7.29349 3.09999 6.75642 3.14387C6.2005 3.18929 5.69842 3.28617 5.22954 3.52508C4.4957 3.89899 3.89908 4.49561 3.52517 5.22944C3.28626 5.69833 3.18938 6.20041 3.14396 6.75632C3.10008 7.2934 3.10009 7.95424 3.1001 8.76229V15.2377C3.10009 16.0458 3.10008 16.7066 3.14396 17.2437C3.18938 17.7996 3.28626 18.3017 3.52517 18.7706C3.89908 19.5044 4.4957 20.101 5.22954 20.4749C5.69842 20.7138 6.2005 20.8107 6.75642 20.8561C7.29349 20.9 7.95434 20.9 8.76239 20.9H12.0001C12.4972 20.9 12.9001 20.4971 12.9001 20C12.9001 19.503 12.4972 19.1 12.0001 19.1H8.8001C7.94517 19.1 7.3581 19.0993 6.90299 19.0621C6.45839 19.0258 6.21956 18.9592 6.04672 18.8711C5.65158 18.6698 5.33032 18.3485 5.12898 17.9534C5.04092 17.7805 4.97431 17.5417 4.93798 17.0971C4.9008 16.642 4.9001 16.0549 4.9001 15.2V8.80001C4.9001 7.94508 4.9008 7.35801 4.93798 6.9029C4.97431 6.4583 5.04092 6.21947 5.12898 6.04663C5.33032 5.65149 5.65158 5.33023 6.04672 5.12889C6.21956 5.04082 6.45839 4.97422 6.90299 4.93789C7.3581 4.90071 7.94517 4.90001 8.8001 4.90001H12.0001C12.4972 4.90001 12.9001 4.49706 12.9001 4.00001C12.9001 3.50295 12.4972 3.10001 12.0001 3.10001H8.7624Z\"></path><path d=\"M17.6364 7.3636C17.2849 7.01212 16.7151 7.01212 16.3636 7.3636C16.0121 7.71507 16.0121 8.28492 16.3636 8.63639L18.8272 11.1H9.00001C8.50295 11.1 8.10001 11.5029 8.10001 12C8.10001 12.497 8.50295 12.9 9.00001 12.9H18.8272L16.3636 15.3636C16.0121 15.7151 16.0121 16.2849 16.3636 16.6364C16.7151 16.9879 17.2849 16.9879 17.6364 16.6364L21.6364 12.6364C21.9879 12.2849 21.9879 11.7151 21.6364 11.3636L17.6364 7.3636Z\">`);\nconst DisconnectIcon = (props) => {\n  const theme = useTheme();\n  const fill = () => props.fill || theme.colors.icon.primary;\n  return (() => {\n    var _el$ = _tmpl$$4(), _el$2 = _el$.firstChild, _el$3 = _el$2.nextSibling;\n    createRenderEffect((_p$) => {\n      var _v$ = fill(), _v$2 = fill();\n      _v$ !== _p$.e && setAttribute(_el$2, \"fill\", _p$.e = _v$);\n      _v$2 !== _p$.t && setAttribute(_el$3, \"fill\", _p$.t = _v$2);\n      return _p$;\n    }, {\n      e: void 0,\n      t: void 0\n    });\n    return _el$;\n  })();\n};\nfunction copyToClipboard(text) {\n  return __async(this, null, function* () {\n    try {\n      if (!(navigator == null ? void 0 : navigator.clipboard)) {\n        throw new OKXConnectUiError(\"Clipboard API not available\");\n      }\n      return yield navigator.clipboard.writeText(text);\n    } catch (e2) {\n    }\n    fallbackCopyTextToClipboard(text);\n  });\n}\nfunction fallbackCopyTextToClipboard(text) {\n  const textArea = document.createElement(\"textarea\");\n  textArea.value = text;\n  textArea.style.top = \"0\";\n  textArea.style.left = \"0\";\n  textArea.style.position = \"fixed\";\n  document.body.appendChild(textArea);\n  textArea.focus();\n  textArea.select();\n  try {\n    document.execCommand(\"copy\");\n  } finally {\n    document.body.removeChild(textArea);\n  }\n}\nconst hoverBorders = {\n  m: \"8px\",\n  s: \"4px\",\n  none: \"0\"\n};\nconst dropdownBorders = {\n  m: \"16px\",\n  s: \"8px\",\n  none: \"0\"\n};\nconst AccountButtonDropdownStyled = styled.div`\n    width: 256px;\n    box-shadow: 0 4px 24px rgba(0, 0, 0, 0.16);\n    border-radius: ${(props) => dropdownBorders[props.theme.borderRadius]};\n\n    background-color: ${(props) => props.theme.colors.background.primary}\n           \n    color: ${(props) => props.theme.colors.text.primary}\n`;\nconst UlStyled = styled.ul`\n    background-color: ${(props) => props.theme.colors.background.primary};\n    padding: 8px;\n`;\nconst MenuButtonStyled = styled.button`\n    display: flex;\n    align-items: center;\n    gap: 8px;\n    height: 40px;\n    padding-left: 8px;\n    width: 100%;\n\n    background-color: ${(props) => props.theme.colors.background.primary};\n    border: none;\n    border-radius: ${(props) => hoverBorders[props.theme.borderRadius]};\n    cursor: pointer;\n\n    transition: background-color, transform 0.1s ease-in-out;\n\n    &:hover {\n        background-color: ${(props) => props.theme.colors.background.secondary};\n    }\n\n    &:active {\n        transform: scale(0.96);\n    }\n`;\nconst OKXConnectUiContext = createContext();\nvar _tmpl$$3 = /* @__PURE__ */ template$1(`<li>`);\nconst MenuItemText = (props) => createComponent(Text, {\n  get translationKey() {\n    return props.translationKey;\n  },\n  fontSize: \"15px\",\n  fontWeight: \"590\",\n  get children() {\n    return props.children;\n  }\n});\nconst AccountButtonDropdown = (props) => {\n  const tonConnectUi = useContext(OKXConnectUiContext);\n  const [isCopiedShown, setIsCopiedShown] = createSignal(false);\n  const onCopy = () => __async(exports, null, function* () {\n    const userFriendlyAddress = tonsdk.toUserFriendlyAddress(tonConnectUi.account.address);\n    yield copyToClipboard(userFriendlyAddress);\n    setIsCopiedShown(true);\n    setTimeout(() => setIsCopiedShown(false), 1e3);\n  });\n  const onDisconnect = () => {\n    tonConnectUi.disconnect();\n    props.onClose();\n  };\n  return createComponent(AccountButtonDropdownStyled, {\n    ref(r$) {\n      var _ref$ = props.ref;\n      typeof _ref$ === \"function\" ? _ref$(r$) : props.ref = r$;\n    },\n    get [\"class\"]() {\n      return props.class;\n    },\n    \"data-tc-dropdown\": \"true\",\n    get children() {\n      return createComponent(UlStyled, {\n        get children() {\n          return [(() => {\n            var _el$ = _tmpl$$3();\n            insert(_el$, createComponent(MenuButtonStyled, {\n              onClick: () => onCopy(),\n              get children() {\n                return [createComponent(CopyIcon, {}), createComponent(Show, {\n                  get when() {\n                    return !isCopiedShown();\n                  },\n                  get children() {\n                    return createComponent(MenuItemText, {\n                      translationKey: \"button.dropdown.copy\",\n                      children: \"Copy address\"\n                    });\n                  }\n                }), createComponent(Show, {\n                  get when() {\n                    return isCopiedShown();\n                  },\n                  get children() {\n                    return createComponent(MenuItemText, {\n                      translationKey: \"button.dropdown.copied\",\n                      children: \"Address copied!\"\n                    });\n                  }\n                })];\n              }\n            }));\n            return _el$;\n          })(), (() => {\n            var _el$2 = _tmpl$$3();\n            insert(_el$2, createComponent(MenuButtonStyled, {\n              onClick: () => onDisconnect(),\n              get children() {\n                return [createComponent(DisconnectIcon, {}), createComponent(MenuItemText, {\n                  translationKey: \"button.dropdown.disconnect\",\n                  children: \"Disconnect\"\n                })];\n              }\n            }));\n            return _el$2;\n          })()];\n        }\n      });\n    }\n  });\n};\nconst AccountButtonStyled = styled(Button)`\n    background-color: ${(props) => props.theme.colors.connectButton.background};\n    color: ${(props) => props.theme.colors.connectButton.foreground};\n    box-shadow: ${(props) => `0 4px 24px ${rgba(props.theme.colors.constant.black, 0.16)}`};\n    padding: 8px 16px 8px 12px;\n\n    display: flex;\n    align-items: center;\n    gap: 4px;\n    height: 40px;\n`;\nconst DropdownButtonStyled = styled(AccountButtonStyled)`\n    padding: 12px 16px;\n    min-width: 148px;\n    justify-content: center;\n    background-color: ${(props) => props.theme.colors.background.primary};\n`;\nconst LoaderButtonStyled = styled(Button)`\n    min-width: 148px;\n    height: 40px;\n\n    background-color: ${(props) => props.theme.colors.background.primary};\n    color: ${(props) => props.theme.colors.connectButton.foreground};\n    box-shadow: ${(props) => `0 4px 24px ${rgba(props.theme.colors.constant.black, 0.16)}`};\n\n    display: flex;\n    align-items: center;\n    justify-content: center;\n`;\nconst LoaderIconStyled = styled(LoaderIcon)`\n    height: 18px;\n    width: 18px;\n`;\nconst DropdownContainerStyled = styled.div`\n    width: fit-content;\n    display: flex;\n    flex-direction: column;\n    align-items: flex-end;\n`;\nconst DropdownStyled = styled(AccountButtonDropdown)`\n    box-sizing: border-box;\n    overflow: hidden;\n    margin-top: 12px;\n`;\nconst sides = [\"top\", \"right\", \"bottom\", \"left\"];\nconst alignments = [\"start\", \"end\"];\nconst placements = /* @__PURE__ */ sides.reduce((acc, side) => acc.concat(side, side + \"-\" + alignments[0], side + \"-\" + alignments[1]), []);\nconst min = Math.min;\nconst max = Math.max;\nconst round = Math.round;\nconst floor = Math.floor;\nconst createCoords = (v) => ({\n  x: v,\n  y: v\n});\nconst oppositeSideMap = {\n  left: \"right\",\n  right: \"left\",\n  bottom: \"top\",\n  top: \"bottom\"\n};\nconst oppositeAlignmentMap = {\n  start: \"end\",\n  end: \"start\"\n};\nfunction clamp(start, value, end) {\n  return max(start, min(value, end));\n}\nfunction evaluate(value, param) {\n  return typeof value === \"function\" ? value(param) : value;\n}\nfunction getSide(placement) {\n  return placement.split(\"-\")[0];\n}\nfunction getAlignment(placement) {\n  return placement.split(\"-\")[1];\n}\nfunction getOppositeAxis(axis) {\n  return axis === \"x\" ? \"y\" : \"x\";\n}\nfunction getAxisLength(axis) {\n  return axis === \"y\" ? \"height\" : \"width\";\n}\nfunction getSideAxis(placement) {\n  return [\"top\", \"bottom\"].includes(getSide(placement)) ? \"y\" : \"x\";\n}\nfunction getAlignmentAxis(placement) {\n  return getOppositeAxis(getSideAxis(placement));\n}\nfunction getAlignmentSides(placement, rects, rtl) {\n  if (rtl === void 0) {\n    rtl = false;\n  }\n  const alignment = getAlignment(placement);\n  const alignmentAxis = getAlignmentAxis(placement);\n  const length = getAxisLength(alignmentAxis);\n  let mainAlignmentSide = alignmentAxis === \"x\" ? alignment === (rtl ? \"end\" : \"start\") ? \"right\" : \"left\" : alignment === \"start\" ? \"bottom\" : \"top\";\n  if (rects.reference[length] > rects.floating[length]) {\n    mainAlignmentSide = getOppositePlacement(mainAlignmentSide);\n  }\n  return [mainAlignmentSide, getOppositePlacement(mainAlignmentSide)];\n}\nfunction getExpandedPlacements(placement) {\n  const oppositePlacement = getOppositePlacement(placement);\n  return [getOppositeAlignmentPlacement(placement), oppositePlacement, getOppositeAlignmentPlacement(oppositePlacement)];\n}\nfunction getOppositeAlignmentPlacement(placement) {\n  return placement.replace(/start|end/g, (alignment) => oppositeAlignmentMap[alignment]);\n}\nfunction getSideList(side, isStart, rtl) {\n  const lr = [\"left\", \"right\"];\n  const rl = [\"right\", \"left\"];\n  const tb = [\"top\", \"bottom\"];\n  const bt = [\"bottom\", \"top\"];\n  switch (side) {\n    case \"top\":\n    case \"bottom\":\n      if (rtl)\n        return isStart ? rl : lr;\n      return isStart ? lr : rl;\n    case \"left\":\n    case \"right\":\n      return isStart ? tb : bt;\n    default:\n      return [];\n  }\n}\nfunction getOppositeAxisPlacements(placement, flipAlignment, direction, rtl) {\n  const alignment = getAlignment(placement);\n  let list = getSideList(getSide(placement), direction === \"start\", rtl);\n  if (alignment) {\n    list = list.map((side) => side + \"-\" + alignment);\n    if (flipAlignment) {\n      list = list.concat(list.map(getOppositeAlignmentPlacement));\n    }\n  }\n  return list;\n}\nfunction getOppositePlacement(placement) {\n  return placement.replace(/left|right|bottom|top/g, (side) => oppositeSideMap[side]);\n}\nfunction expandPaddingObject(padding) {\n  return __spreadValues({\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 0\n  }, padding);\n}\nfunction getPaddingObject(padding) {\n  return typeof padding !== \"number\" ? expandPaddingObject(padding) : {\n    top: padding,\n    right: padding,\n    bottom: padding,\n    left: padding\n  };\n}\nfunction rectToClientRect(rect) {\n  const {\n    x,\n    y,\n    width,\n    height\n  } = rect;\n  return {\n    width,\n    height,\n    top: y,\n    left: x,\n    right: x + width,\n    bottom: y + height,\n    x,\n    y\n  };\n}\nfunction computeCoordsFromPlacement(_ref, placement, rtl) {\n  let {\n    reference,\n    floating\n  } = _ref;\n  const sideAxis = getSideAxis(placement);\n  const alignmentAxis = getAlignmentAxis(placement);\n  const alignLength = getAxisLength(alignmentAxis);\n  const side = getSide(placement);\n  const isVertical = sideAxis === \"y\";\n  const commonX = reference.x + reference.width / 2 - floating.width / 2;\n  const commonY = reference.y + reference.height / 2 - floating.height / 2;\n  const commonAlign = reference[alignLength] / 2 - floating[alignLength] / 2;\n  let coords;\n  switch (side) {\n    case \"top\":\n      coords = {\n        x: commonX,\n        y: reference.y - floating.height\n      };\n      break;\n    case \"bottom\":\n      coords = {\n        x: commonX,\n        y: reference.y + reference.height\n      };\n      break;\n    case \"right\":\n      coords = {\n        x: reference.x + reference.width,\n        y: commonY\n      };\n      break;\n    case \"left\":\n      coords = {\n        x: reference.x - floating.width,\n        y: commonY\n      };\n      break;\n    default:\n      coords = {\n        x: reference.x,\n        y: reference.y\n      };\n  }\n  switch (getAlignment(placement)) {\n    case \"start\":\n      coords[alignmentAxis] -= commonAlign * (rtl && isVertical ? -1 : 1);\n      break;\n    case \"end\":\n      coords[alignmentAxis] += commonAlign * (rtl && isVertical ? -1 : 1);\n      break;\n  }\n  return coords;\n}\nconst computePosition$1 = (reference, floating, config) => __async(exports, null, function* () {\n  const {\n    placement = \"bottom\",\n    strategy = \"absolute\",\n    middleware = [],\n    platform: platform2\n  } = config;\n  const validMiddleware = middleware.filter(Boolean);\n  const rtl = yield platform2.isRTL == null ? void 0 : platform2.isRTL(floating);\n  let rects = yield platform2.getElementRects({\n    reference,\n    floating,\n    strategy\n  });\n  let {\n    x,\n    y\n  } = computeCoordsFromPlacement(rects, placement, rtl);\n  let statefulPlacement = placement;\n  let middlewareData = {};\n  let resetCount = 0;\n  for (let i2 = 0; i2 < validMiddleware.length; i2++) {\n    const {\n      name,\n      fn\n    } = validMiddleware[i2];\n    const {\n      x: nextX,\n      y: nextY,\n      data,\n      reset\n    } = yield fn({\n      x,\n      y,\n      initialPlacement: placement,\n      placement: statefulPlacement,\n      strategy,\n      middlewareData,\n      rects,\n      platform: platform2,\n      elements: {\n        reference,\n        floating\n      }\n    });\n    x = nextX != null ? nextX : x;\n    y = nextY != null ? nextY : y;\n    middlewareData = __spreadProps(__spreadValues({}, middlewareData), {\n      [name]: __spreadValues(__spreadValues({}, middlewareData[name]), data)\n    });\n    if (reset && resetCount <= 50) {\n      resetCount++;\n      if (typeof reset === \"object\") {\n        if (reset.placement) {\n          statefulPlacement = reset.placement;\n        }\n        if (reset.rects) {\n          rects = reset.rects === true ? yield platform2.getElementRects({\n            reference,\n            floating,\n            strategy\n          }) : reset.rects;\n        }\n        ({\n          x,\n          y\n        } = computeCoordsFromPlacement(rects, statefulPlacement, rtl));\n      }\n      i2 = -1;\n    }\n  }\n  return {\n    x,\n    y,\n    placement: statefulPlacement,\n    strategy,\n    middlewareData\n  };\n});\nfunction detectOverflow(state, options) {\n  return __async(this, null, function* () {\n    var _await$platform$isEle;\n    if (options === void 0) {\n      options = {};\n    }\n    const {\n      x,\n      y,\n      platform: platform2,\n      rects,\n      elements,\n      strategy\n    } = state;\n    const {\n      boundary = \"clippingAncestors\",\n      rootBoundary = \"viewport\",\n      elementContext = \"floating\",\n      altBoundary = false,\n      padding = 0\n    } = evaluate(options, state);\n    const paddingObject = getPaddingObject(padding);\n    const altContext = elementContext === \"floating\" ? \"reference\" : \"floating\";\n    const element = elements[altBoundary ? altContext : elementContext];\n    const clippingClientRect = rectToClientRect(yield platform2.getClippingRect({\n      element: ((_await$platform$isEle = yield platform2.isElement == null ? void 0 : platform2.isElement(element)) != null ? _await$platform$isEle : true) ? element : element.contextElement || (yield platform2.getDocumentElement == null ? void 0 : platform2.getDocumentElement(elements.floating)),\n      boundary,\n      rootBoundary,\n      strategy\n    }));\n    const rect = elementContext === \"floating\" ? {\n      x,\n      y,\n      width: rects.floating.width,\n      height: rects.floating.height\n    } : rects.reference;\n    const offsetParent = yield platform2.getOffsetParent == null ? void 0 : platform2.getOffsetParent(elements.floating);\n    const offsetScale = (yield platform2.isElement == null ? void 0 : platform2.isElement(offsetParent)) ? (yield platform2.getScale == null ? void 0 : platform2.getScale(offsetParent)) || {\n      x: 1,\n      y: 1\n    } : {\n      x: 1,\n      y: 1\n    };\n    const elementClientRect = rectToClientRect(platform2.convertOffsetParentRelativeRectToViewportRelativeRect ? yield platform2.convertOffsetParentRelativeRectToViewportRelativeRect({\n      elements,\n      rect,\n      offsetParent,\n      strategy\n    }) : rect);\n    return {\n      top: (clippingClientRect.top - elementClientRect.top + paddingObject.top) / offsetScale.y,\n      bottom: (elementClientRect.bottom - clippingClientRect.bottom + paddingObject.bottom) / offsetScale.y,\n      left: (clippingClientRect.left - elementClientRect.left + paddingObject.left) / offsetScale.x,\n      right: (elementClientRect.right - clippingClientRect.right + paddingObject.right) / offsetScale.x\n    };\n  });\n}\nconst arrow = (options) => ({\n  name: \"arrow\",\n  options,\n  fn(state) {\n    return __async(this, null, function* () {\n      const {\n        x,\n        y,\n        placement,\n        rects,\n        platform: platform2,\n        elements,\n        middlewareData\n      } = state;\n      const {\n        element,\n        padding = 0\n      } = evaluate(options, state) || {};\n      if (element == null) {\n        return {};\n      }\n      const paddingObject = getPaddingObject(padding);\n      const coords = {\n        x,\n        y\n      };\n      const axis = getAlignmentAxis(placement);\n      const length = getAxisLength(axis);\n      const arrowDimensions = yield platform2.getDimensions(element);\n      const isYAxis = axis === \"y\";\n      const minProp = isYAxis ? \"top\" : \"left\";\n      const maxProp = isYAxis ? \"bottom\" : \"right\";\n      const clientProp = isYAxis ? \"clientHeight\" : \"clientWidth\";\n      const endDiff = rects.reference[length] + rects.reference[axis] - coords[axis] - rects.floating[length];\n      const startDiff = coords[axis] - rects.reference[axis];\n      const arrowOffsetParent = yield platform2.getOffsetParent == null ? void 0 : platform2.getOffsetParent(element);\n      let clientSize = arrowOffsetParent ? arrowOffsetParent[clientProp] : 0;\n      if (!clientSize || !(yield platform2.isElement == null ? void 0 : platform2.isElement(arrowOffsetParent))) {\n        clientSize = elements.floating[clientProp] || rects.floating[length];\n      }\n      const centerToReference = endDiff / 2 - startDiff / 2;\n      const largestPossiblePadding = clientSize / 2 - arrowDimensions[length] / 2 - 1;\n      const minPadding = min(paddingObject[minProp], largestPossiblePadding);\n      const maxPadding = min(paddingObject[maxProp], largestPossiblePadding);\n      const min$1 = minPadding;\n      const max2 = clientSize - arrowDimensions[length] - maxPadding;\n      const center = clientSize / 2 - arrowDimensions[length] / 2 + centerToReference;\n      const offset2 = clamp(min$1, center, max2);\n      const shouldAddOffset = !middlewareData.arrow && getAlignment(placement) != null && center !== offset2 && rects.reference[length] / 2 - (center < min$1 ? minPadding : maxPadding) - arrowDimensions[length] / 2 < 0;\n      const alignmentOffset = shouldAddOffset ? center < min$1 ? center - min$1 : center - max2 : 0;\n      return {\n        [axis]: coords[axis] + alignmentOffset,\n        data: __spreadValues({\n          [axis]: offset2,\n          centerOffset: center - offset2 - alignmentOffset\n        }, shouldAddOffset && {\n          alignmentOffset\n        }),\n        reset: shouldAddOffset\n      };\n    });\n  }\n});\nfunction getPlacementList(alignment, autoAlignment, allowedPlacements) {\n  const allowedPlacementsSortedByAlignment = alignment ? [...allowedPlacements.filter((placement) => getAlignment(placement) === alignment), ...allowedPlacements.filter((placement) => getAlignment(placement) !== alignment)] : allowedPlacements.filter((placement) => getSide(placement) === placement);\n  return allowedPlacementsSortedByAlignment.filter((placement) => {\n    if (alignment) {\n      return getAlignment(placement) === alignment || (autoAlignment ? getOppositeAlignmentPlacement(placement) !== placement : false);\n    }\n    return true;\n  });\n}\nconst autoPlacement = function(options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: \"autoPlacement\",\n    options,\n    fn(state) {\n      return __async(this, null, function* () {\n        var _middlewareData$autoP, _middlewareData$autoP2, _placementsThatFitOnE;\n        const {\n          rects,\n          middlewareData,\n          placement,\n          platform: platform2,\n          elements\n        } = state;\n        const _a3 = evaluate(options, state), {\n          crossAxis = false,\n          alignment,\n          allowedPlacements = placements,\n          autoAlignment = true\n        } = _a3, detectOverflowOptions = __objRest(_a3, [\n          \"crossAxis\",\n          \"alignment\",\n          \"allowedPlacements\",\n          \"autoAlignment\"\n        ]);\n        const placements$1 = alignment !== void 0 || allowedPlacements === placements ? getPlacementList(alignment || null, autoAlignment, allowedPlacements) : allowedPlacements;\n        const overflow = yield detectOverflow(state, detectOverflowOptions);\n        const currentIndex = ((_middlewareData$autoP = middlewareData.autoPlacement) == null ? void 0 : _middlewareData$autoP.index) || 0;\n        const currentPlacement = placements$1[currentIndex];\n        if (currentPlacement == null) {\n          return {};\n        }\n        const alignmentSides = getAlignmentSides(currentPlacement, rects, yield platform2.isRTL == null ? void 0 : platform2.isRTL(elements.floating));\n        if (placement !== currentPlacement) {\n          return {\n            reset: {\n              placement: placements$1[0]\n            }\n          };\n        }\n        const currentOverflows = [overflow[getSide(currentPlacement)], overflow[alignmentSides[0]], overflow[alignmentSides[1]]];\n        const allOverflows = [...((_middlewareData$autoP2 = middlewareData.autoPlacement) == null ? void 0 : _middlewareData$autoP2.overflows) || [], {\n          placement: currentPlacement,\n          overflows: currentOverflows\n        }];\n        const nextPlacement = placements$1[currentIndex + 1];\n        if (nextPlacement) {\n          return {\n            data: {\n              index: currentIndex + 1,\n              overflows: allOverflows\n            },\n            reset: {\n              placement: nextPlacement\n            }\n          };\n        }\n        const placementsSortedByMostSpace = allOverflows.map((d) => {\n          const alignment2 = getAlignment(d.placement);\n          return [d.placement, alignment2 && crossAxis ? d.overflows.slice(0, 2).reduce((acc, v) => acc + v, 0) : d.overflows[0], d.overflows];\n        }).sort((a2, b) => a2[1] - b[1]);\n        const placementsThatFitOnEachSide = placementsSortedByMostSpace.filter((d) => d[2].slice(\n          0,\n          getAlignment(d[0]) ? 2 : 3\n        ).every((v) => v <= 0));\n        const resetPlacement = ((_placementsThatFitOnE = placementsThatFitOnEachSide[0]) == null ? void 0 : _placementsThatFitOnE[0]) || placementsSortedByMostSpace[0][0];\n        if (resetPlacement !== placement) {\n          return {\n            data: {\n              index: currentIndex + 1,\n              overflows: allOverflows\n            },\n            reset: {\n              placement: resetPlacement\n            }\n          };\n        }\n        return {};\n      });\n    }\n  };\n};\nconst flip = function(options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: \"flip\",\n    options,\n    fn(state) {\n      return __async(this, null, function* () {\n        var _middlewareData$arrow, _middlewareData$flip;\n        const {\n          placement,\n          middlewareData,\n          rects,\n          initialPlacement,\n          platform: platform2,\n          elements\n        } = state;\n        const _a3 = evaluate(options, state), {\n          mainAxis: checkMainAxis = true,\n          crossAxis: checkCrossAxis = true,\n          fallbackPlacements: specifiedFallbackPlacements,\n          fallbackStrategy = \"bestFit\",\n          fallbackAxisSideDirection = \"none\",\n          flipAlignment = true\n        } = _a3, detectOverflowOptions = __objRest(_a3, [\n          \"mainAxis\",\n          \"crossAxis\",\n          \"fallbackPlacements\",\n          \"fallbackStrategy\",\n          \"fallbackAxisSideDirection\",\n          \"flipAlignment\"\n        ]);\n        if ((_middlewareData$arrow = middlewareData.arrow) != null && _middlewareData$arrow.alignmentOffset) {\n          return {};\n        }\n        const side = getSide(placement);\n        const initialSideAxis = getSideAxis(initialPlacement);\n        const isBasePlacement = getSide(initialPlacement) === initialPlacement;\n        const rtl = yield platform2.isRTL == null ? void 0 : platform2.isRTL(elements.floating);\n        const fallbackPlacements = specifiedFallbackPlacements || (isBasePlacement || !flipAlignment ? [getOppositePlacement(initialPlacement)] : getExpandedPlacements(initialPlacement));\n        const hasFallbackAxisSideDirection = fallbackAxisSideDirection !== \"none\";\n        if (!specifiedFallbackPlacements && hasFallbackAxisSideDirection) {\n          fallbackPlacements.push(...getOppositeAxisPlacements(initialPlacement, flipAlignment, fallbackAxisSideDirection, rtl));\n        }\n        const placements2 = [initialPlacement, ...fallbackPlacements];\n        const overflow = yield detectOverflow(state, detectOverflowOptions);\n        const overflows = [];\n        let overflowsData = ((_middlewareData$flip = middlewareData.flip) == null ? void 0 : _middlewareData$flip.overflows) || [];\n        if (checkMainAxis) {\n          overflows.push(overflow[side]);\n        }\n        if (checkCrossAxis) {\n          const sides2 = getAlignmentSides(placement, rects, rtl);\n          overflows.push(overflow[sides2[0]], overflow[sides2[1]]);\n        }\n        overflowsData = [...overflowsData, {\n          placement,\n          overflows\n        }];\n        if (!overflows.every((side2) => side2 <= 0)) {\n          var _middlewareData$flip2, _overflowsData$filter;\n          const nextIndex = (((_middlewareData$flip2 = middlewareData.flip) == null ? void 0 : _middlewareData$flip2.index) || 0) + 1;\n          const nextPlacement = placements2[nextIndex];\n          if (nextPlacement) {\n            return {\n              data: {\n                index: nextIndex,\n                overflows: overflowsData\n              },\n              reset: {\n                placement: nextPlacement\n              }\n            };\n          }\n          let resetPlacement = (_overflowsData$filter = overflowsData.filter((d) => d.overflows[0] <= 0).sort((a2, b) => a2.overflows[1] - b.overflows[1])[0]) == null ? void 0 : _overflowsData$filter.placement;\n          if (!resetPlacement) {\n            switch (fallbackStrategy) {\n              case \"bestFit\": {\n                var _overflowsData$filter2;\n                const placement2 = (_overflowsData$filter2 = overflowsData.filter((d) => {\n                  if (hasFallbackAxisSideDirection) {\n                    const currentSideAxis = getSideAxis(d.placement);\n                    return currentSideAxis === initialSideAxis || currentSideAxis === \"y\";\n                  }\n                  return true;\n                }).map((d) => [d.placement, d.overflows.filter((overflow2) => overflow2 > 0).reduce((acc, overflow2) => acc + overflow2, 0)]).sort((a2, b) => a2[1] - b[1])[0]) == null ? void 0 : _overflowsData$filter2[0];\n                if (placement2) {\n                  resetPlacement = placement2;\n                }\n                break;\n              }\n              case \"initialPlacement\":\n                resetPlacement = initialPlacement;\n                break;\n            }\n          }\n          if (placement !== resetPlacement) {\n            return {\n              reset: {\n                placement: resetPlacement\n              }\n            };\n          }\n        }\n        return {};\n      });\n    }\n  };\n};\nfunction getSideOffsets(overflow, rect) {\n  return {\n    top: overflow.top - rect.height,\n    right: overflow.right - rect.width,\n    bottom: overflow.bottom - rect.height,\n    left: overflow.left - rect.width\n  };\n}\nfunction isAnySideFullyClipped(overflow) {\n  return sides.some((side) => overflow[side] >= 0);\n}\nconst hide = function(options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: \"hide\",\n    options,\n    fn(state) {\n      return __async(this, null, function* () {\n        const {\n          rects\n        } = state;\n        const _a3 = evaluate(options, state), {\n          strategy = \"referenceHidden\"\n        } = _a3, detectOverflowOptions = __objRest(_a3, [\n          \"strategy\"\n        ]);\n        switch (strategy) {\n          case \"referenceHidden\": {\n            const overflow = yield detectOverflow(state, __spreadProps(__spreadValues({}, detectOverflowOptions), {\n              elementContext: \"reference\"\n            }));\n            const offsets = getSideOffsets(overflow, rects.reference);\n            return {\n              data: {\n                referenceHiddenOffsets: offsets,\n                referenceHidden: isAnySideFullyClipped(offsets)\n              }\n            };\n          }\n          case \"escaped\": {\n            const overflow = yield detectOverflow(state, __spreadProps(__spreadValues({}, detectOverflowOptions), {\n              altBoundary: true\n            }));\n            const offsets = getSideOffsets(overflow, rects.floating);\n            return {\n              data: {\n                escapedOffsets: offsets,\n                escaped: isAnySideFullyClipped(offsets)\n              }\n            };\n          }\n          default: {\n            return {};\n          }\n        }\n      });\n    }\n  };\n};\nfunction getBoundingRect(rects) {\n  const minX = min(...rects.map((rect) => rect.left));\n  const minY = min(...rects.map((rect) => rect.top));\n  const maxX = max(...rects.map((rect) => rect.right));\n  const maxY = max(...rects.map((rect) => rect.bottom));\n  return {\n    x: minX,\n    y: minY,\n    width: maxX - minX,\n    height: maxY - minY\n  };\n}\nfunction getRectsByLine(rects) {\n  const sortedRects = rects.slice().sort((a2, b) => a2.y - b.y);\n  const groups = [];\n  let prevRect = null;\n  for (let i2 = 0; i2 < sortedRects.length; i2++) {\n    const rect = sortedRects[i2];\n    if (!prevRect || rect.y - prevRect.y > prevRect.height / 2) {\n      groups.push([rect]);\n    } else {\n      groups[groups.length - 1].push(rect);\n    }\n    prevRect = rect;\n  }\n  return groups.map((rect) => rectToClientRect(getBoundingRect(rect)));\n}\nconst inline = function(options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: \"inline\",\n    options,\n    fn(state) {\n      return __async(this, null, function* () {\n        const {\n          placement,\n          elements,\n          rects,\n          platform: platform2,\n          strategy\n        } = state;\n        const {\n          padding = 2,\n          x,\n          y\n        } = evaluate(options, state);\n        const nativeClientRects = Array.from((yield platform2.getClientRects == null ? void 0 : platform2.getClientRects(elements.reference)) || []);\n        const clientRects = getRectsByLine(nativeClientRects);\n        const fallback = rectToClientRect(getBoundingRect(nativeClientRects));\n        const paddingObject = getPaddingObject(padding);\n        function getBoundingClientRect2() {\n          if (clientRects.length === 2 && clientRects[0].left > clientRects[1].right && x != null && y != null) {\n            return clientRects.find((rect) => x > rect.left - paddingObject.left && x < rect.right + paddingObject.right && y > rect.top - paddingObject.top && y < rect.bottom + paddingObject.bottom) || fallback;\n          }\n          if (clientRects.length >= 2) {\n            if (getSideAxis(placement) === \"y\") {\n              const firstRect = clientRects[0];\n              const lastRect = clientRects[clientRects.length - 1];\n              const isTop = getSide(placement) === \"top\";\n              const top2 = firstRect.top;\n              const bottom2 = lastRect.bottom;\n              const left2 = isTop ? firstRect.left : lastRect.left;\n              const right2 = isTop ? firstRect.right : lastRect.right;\n              const width2 = right2 - left2;\n              const height2 = bottom2 - top2;\n              return {\n                top: top2,\n                bottom: bottom2,\n                left: left2,\n                right: right2,\n                width: width2,\n                height: height2,\n                x: left2,\n                y: top2\n              };\n            }\n            const isLeftSide = getSide(placement) === \"left\";\n            const maxRight = max(...clientRects.map((rect) => rect.right));\n            const minLeft = min(...clientRects.map((rect) => rect.left));\n            const measureRects = clientRects.filter((rect) => isLeftSide ? rect.left === minLeft : rect.right === maxRight);\n            const top = measureRects[0].top;\n            const bottom = measureRects[measureRects.length - 1].bottom;\n            const left = minLeft;\n            const right = maxRight;\n            const width = right - left;\n            const height = bottom - top;\n            return {\n              top,\n              bottom,\n              left,\n              right,\n              width,\n              height,\n              x: left,\n              y: top\n            };\n          }\n          return fallback;\n        }\n        const resetRects = yield platform2.getElementRects({\n          reference: {\n            getBoundingClientRect: getBoundingClientRect2\n          },\n          floating: elements.floating,\n          strategy\n        });\n        if (rects.reference.x !== resetRects.reference.x || rects.reference.y !== resetRects.reference.y || rects.reference.width !== resetRects.reference.width || rects.reference.height !== resetRects.reference.height) {\n          return {\n            reset: {\n              rects: resetRects\n            }\n          };\n        }\n        return {};\n      });\n    }\n  };\n};\nfunction convertValueToCoords(state, options) {\n  return __async(this, null, function* () {\n    const {\n      placement,\n      platform: platform2,\n      elements\n    } = state;\n    const rtl = yield platform2.isRTL == null ? void 0 : platform2.isRTL(elements.floating);\n    const side = getSide(placement);\n    const alignment = getAlignment(placement);\n    const isVertical = getSideAxis(placement) === \"y\";\n    const mainAxisMulti = [\"left\", \"top\"].includes(side) ? -1 : 1;\n    const crossAxisMulti = rtl && isVertical ? -1 : 1;\n    const rawValue = evaluate(options, state);\n    let {\n      mainAxis,\n      crossAxis,\n      alignmentAxis\n    } = typeof rawValue === \"number\" ? {\n      mainAxis: rawValue,\n      crossAxis: 0,\n      alignmentAxis: null\n    } : {\n      mainAxis: rawValue.mainAxis || 0,\n      crossAxis: rawValue.crossAxis || 0,\n      alignmentAxis: rawValue.alignmentAxis\n    };\n    if (alignment && typeof alignmentAxis === \"number\") {\n      crossAxis = alignment === \"end\" ? alignmentAxis * -1 : alignmentAxis;\n    }\n    return isVertical ? {\n      x: crossAxis * crossAxisMulti,\n      y: mainAxis * mainAxisMulti\n    } : {\n      x: mainAxis * mainAxisMulti,\n      y: crossAxis * crossAxisMulti\n    };\n  });\n}\nconst offset = function(options) {\n  if (options === void 0) {\n    options = 0;\n  }\n  return {\n    name: \"offset\",\n    options,\n    fn(state) {\n      return __async(this, null, function* () {\n        var _middlewareData$offse, _middlewareData$arrow;\n        const {\n          x,\n          y,\n          placement,\n          middlewareData\n        } = state;\n        const diffCoords = yield convertValueToCoords(state, options);\n        if (placement === ((_middlewareData$offse = middlewareData.offset) == null ? void 0 : _middlewareData$offse.placement) && (_middlewareData$arrow = middlewareData.arrow) != null && _middlewareData$arrow.alignmentOffset) {\n          return {};\n        }\n        return {\n          x: x + diffCoords.x,\n          y: y + diffCoords.y,\n          data: __spreadProps(__spreadValues({}, diffCoords), {\n            placement\n          })\n        };\n      });\n    }\n  };\n};\nconst shift = function(options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: \"shift\",\n    options,\n    fn(state) {\n      return __async(this, null, function* () {\n        const {\n          x,\n          y,\n          placement\n        } = state;\n        const _a3 = evaluate(options, state), {\n          mainAxis: checkMainAxis = true,\n          crossAxis: checkCrossAxis = false,\n          limiter = {\n            fn: (_ref) => {\n              let {\n                x: x2,\n                y: y2\n              } = _ref;\n              return {\n                x: x2,\n                y: y2\n              };\n            }\n          }\n        } = _a3, detectOverflowOptions = __objRest(_a3, [\n          \"mainAxis\",\n          \"crossAxis\",\n          \"limiter\"\n        ]);\n        const coords = {\n          x,\n          y\n        };\n        const overflow = yield detectOverflow(state, detectOverflowOptions);\n        const crossAxis = getSideAxis(getSide(placement));\n        const mainAxis = getOppositeAxis(crossAxis);\n        let mainAxisCoord = coords[mainAxis];\n        let crossAxisCoord = coords[crossAxis];\n        if (checkMainAxis) {\n          const minSide = mainAxis === \"y\" ? \"top\" : \"left\";\n          const maxSide = mainAxis === \"y\" ? \"bottom\" : \"right\";\n          const min2 = mainAxisCoord + overflow[minSide];\n          const max2 = mainAxisCoord - overflow[maxSide];\n          mainAxisCoord = clamp(min2, mainAxisCoord, max2);\n        }\n        if (checkCrossAxis) {\n          const minSide = crossAxis === \"y\" ? \"top\" : \"left\";\n          const maxSide = crossAxis === \"y\" ? \"bottom\" : \"right\";\n          const min2 = crossAxisCoord + overflow[minSide];\n          const max2 = crossAxisCoord - overflow[maxSide];\n          crossAxisCoord = clamp(min2, crossAxisCoord, max2);\n        }\n        const limitedCoords = limiter.fn(__spreadProps(__spreadValues({}, state), {\n          [mainAxis]: mainAxisCoord,\n          [crossAxis]: crossAxisCoord\n        }));\n        return __spreadProps(__spreadValues({}, limitedCoords), {\n          data: {\n            x: limitedCoords.x - x,\n            y: limitedCoords.y - y,\n            enabled: {\n              [mainAxis]: checkMainAxis,\n              [crossAxis]: checkCrossAxis\n            }\n          }\n        });\n      });\n    }\n  };\n};\nconst limitShift = function(options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    options,\n    fn(state) {\n      const {\n        x,\n        y,\n        placement,\n        rects,\n        middlewareData\n      } = state;\n      const {\n        offset: offset2 = 0,\n        mainAxis: checkMainAxis = true,\n        crossAxis: checkCrossAxis = true\n      } = evaluate(options, state);\n      const coords = {\n        x,\n        y\n      };\n      const crossAxis = getSideAxis(placement);\n      const mainAxis = getOppositeAxis(crossAxis);\n      let mainAxisCoord = coords[mainAxis];\n      let crossAxisCoord = coords[crossAxis];\n      const rawOffset = evaluate(offset2, state);\n      const computedOffset = typeof rawOffset === \"number\" ? {\n        mainAxis: rawOffset,\n        crossAxis: 0\n      } : __spreadValues({\n        mainAxis: 0,\n        crossAxis: 0\n      }, rawOffset);\n      if (checkMainAxis) {\n        const len = mainAxis === \"y\" ? \"height\" : \"width\";\n        const limitMin = rects.reference[mainAxis] - rects.floating[len] + computedOffset.mainAxis;\n        const limitMax = rects.reference[mainAxis] + rects.reference[len] - computedOffset.mainAxis;\n        if (mainAxisCoord < limitMin) {\n          mainAxisCoord = limitMin;\n        } else if (mainAxisCoord > limitMax) {\n          mainAxisCoord = limitMax;\n        }\n      }\n      if (checkCrossAxis) {\n        var _middlewareData$offse, _middlewareData$offse2;\n        const len = mainAxis === \"y\" ? \"width\" : \"height\";\n        const isOriginSide = [\"top\", \"left\"].includes(getSide(placement));\n        const limitMin = rects.reference[crossAxis] - rects.floating[len] + (isOriginSide ? ((_middlewareData$offse = middlewareData.offset) == null ? void 0 : _middlewareData$offse[crossAxis]) || 0 : 0) + (isOriginSide ? 0 : computedOffset.crossAxis);\n        const limitMax = rects.reference[crossAxis] + rects.reference[len] + (isOriginSide ? 0 : ((_middlewareData$offse2 = middlewareData.offset) == null ? void 0 : _middlewareData$offse2[crossAxis]) || 0) - (isOriginSide ? computedOffset.crossAxis : 0);\n        if (crossAxisCoord < limitMin) {\n          crossAxisCoord = limitMin;\n        } else if (crossAxisCoord > limitMax) {\n          crossAxisCoord = limitMax;\n        }\n      }\n      return {\n        [mainAxis]: mainAxisCoord,\n        [crossAxis]: crossAxisCoord\n      };\n    }\n  };\n};\nconst size = function(options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: \"size\",\n    options,\n    fn(state) {\n      return __async(this, null, function* () {\n        var _state$middlewareData, _state$middlewareData2;\n        const {\n          placement,\n          rects,\n          platform: platform2,\n          elements\n        } = state;\n        const _a3 = evaluate(options, state), {\n          apply = () => {\n          }\n        } = _a3, detectOverflowOptions = __objRest(_a3, [\n          \"apply\"\n        ]);\n        const overflow = yield detectOverflow(state, detectOverflowOptions);\n        const side = getSide(placement);\n        const alignment = getAlignment(placement);\n        const isYAxis = getSideAxis(placement) === \"y\";\n        const {\n          width,\n          height\n        } = rects.floating;\n        let heightSide;\n        let widthSide;\n        if (side === \"top\" || side === \"bottom\") {\n          heightSide = side;\n          widthSide = alignment === ((yield platform2.isRTL == null ? void 0 : platform2.isRTL(elements.floating)) ? \"start\" : \"end\") ? \"left\" : \"right\";\n        } else {\n          widthSide = side;\n          heightSide = alignment === \"end\" ? \"top\" : \"bottom\";\n        }\n        const maximumClippingHeight = height - overflow.top - overflow.bottom;\n        const maximumClippingWidth = width - overflow.left - overflow.right;\n        const overflowAvailableHeight = min(height - overflow[heightSide], maximumClippingHeight);\n        const overflowAvailableWidth = min(width - overflow[widthSide], maximumClippingWidth);\n        const noShift = !state.middlewareData.shift;\n        let availableHeight = overflowAvailableHeight;\n        let availableWidth = overflowAvailableWidth;\n        if ((_state$middlewareData = state.middlewareData.shift) != null && _state$middlewareData.enabled.x) {\n          availableWidth = maximumClippingWidth;\n        }\n        if ((_state$middlewareData2 = state.middlewareData.shift) != null && _state$middlewareData2.enabled.y) {\n          availableHeight = maximumClippingHeight;\n        }\n        if (noShift && !alignment) {\n          const xMin = max(overflow.left, 0);\n          const xMax = max(overflow.right, 0);\n          const yMin = max(overflow.top, 0);\n          const yMax = max(overflow.bottom, 0);\n          if (isYAxis) {\n            availableWidth = width - 2 * (xMin !== 0 || xMax !== 0 ? xMin + xMax : max(overflow.left, overflow.right));\n          } else {\n            availableHeight = height - 2 * (yMin !== 0 || yMax !== 0 ? yMin + yMax : max(overflow.top, overflow.bottom));\n          }\n        }\n        yield apply(__spreadProps(__spreadValues({}, state), {\n          availableWidth,\n          availableHeight\n        }));\n        const nextDimensions = yield platform2.getDimensions(elements.floating);\n        if (width !== nextDimensions.width || height !== nextDimensions.height) {\n          return {\n            reset: {\n              rects: true\n            }\n          };\n        }\n        return {};\n      });\n    }\n  };\n};\nfunction hasWindow() {\n  return typeof window !== \"undefined\";\n}\nfunction getNodeName(node) {\n  if (isNode(node)) {\n    return (node.nodeName || \"\").toLowerCase();\n  }\n  return \"#document\";\n}\nfunction getWindow(node) {\n  var _node$ownerDocument;\n  return (node == null || (_node$ownerDocument = node.ownerDocument) == null ? void 0 : _node$ownerDocument.defaultView) || window;\n}\nfunction getDocumentElement(node) {\n  var _ref;\n  return (_ref = (isNode(node) ? node.ownerDocument : node.document) || window.document) == null ? void 0 : _ref.documentElement;\n}\nfunction isNode(value) {\n  if (!hasWindow()) {\n    return false;\n  }\n  return value instanceof Node || value instanceof getWindow(value).Node;\n}\nfunction isElement(value) {\n  if (!hasWindow()) {\n    return false;\n  }\n  return value instanceof Element || value instanceof getWindow(value).Element;\n}\nfunction isHTMLElement(value) {\n  if (!hasWindow()) {\n    return false;\n  }\n  return value instanceof HTMLElement || value instanceof getWindow(value).HTMLElement;\n}\nfunction isShadowRoot(value) {\n  if (!hasWindow() || typeof ShadowRoot === \"undefined\") {\n    return false;\n  }\n  return value instanceof ShadowRoot || value instanceof getWindow(value).ShadowRoot;\n}\nfunction isOverflowElement(element) {\n  const {\n    overflow,\n    overflowX,\n    overflowY,\n    display\n  } = getComputedStyle$1(element);\n  return /auto|scroll|overlay|hidden|clip/.test(overflow + overflowY + overflowX) && ![\"inline\", \"contents\"].includes(display);\n}\nfunction isTableElement(element) {\n  return [\"table\", \"td\", \"th\"].includes(getNodeName(element));\n}\nfunction isTopLayer(element) {\n  return [\":popover-open\", \":modal\"].some((selector) => {\n    try {\n      return element.matches(selector);\n    } catch (e2) {\n      return false;\n    }\n  });\n}\nfunction isContainingBlock(elementOrCss) {\n  const webkit = isWebKit();\n  const css = isElement(elementOrCss) ? getComputedStyle$1(elementOrCss) : elementOrCss;\n  return css.transform !== \"none\" || css.perspective !== \"none\" || (css.containerType ? css.containerType !== \"normal\" : false) || !webkit && (css.backdropFilter ? css.backdropFilter !== \"none\" : false) || !webkit && (css.filter ? css.filter !== \"none\" : false) || [\"transform\", \"perspective\", \"filter\"].some((value) => (css.willChange || \"\").includes(value)) || [\"paint\", \"layout\", \"strict\", \"content\"].some((value) => (css.contain || \"\").includes(value));\n}\nfunction getContainingBlock(element) {\n  let currentNode = getParentNode(element);\n  while (isHTMLElement(currentNode) && !isLastTraversableNode(currentNode)) {\n    if (isContainingBlock(currentNode)) {\n      return currentNode;\n    } else if (isTopLayer(currentNode)) {\n      return null;\n    }\n    currentNode = getParentNode(currentNode);\n  }\n  return null;\n}\nfunction isWebKit() {\n  if (typeof CSS === \"undefined\" || !CSS.supports)\n    return false;\n  return CSS.supports(\"-webkit-backdrop-filter\", \"none\");\n}\nfunction isLastTraversableNode(node) {\n  return [\"html\", \"body\", \"#document\"].includes(getNodeName(node));\n}\nfunction getComputedStyle$1(element) {\n  return getWindow(element).getComputedStyle(element);\n}\nfunction getNodeScroll(element) {\n  if (isElement(element)) {\n    return {\n      scrollLeft: element.scrollLeft,\n      scrollTop: element.scrollTop\n    };\n  }\n  return {\n    scrollLeft: element.scrollX,\n    scrollTop: element.scrollY\n  };\n}\nfunction getParentNode(node) {\n  if (getNodeName(node) === \"html\") {\n    return node;\n  }\n  const result = node.assignedSlot || node.parentNode || isShadowRoot(node) && node.host || getDocumentElement(node);\n  return isShadowRoot(result) ? result.host : result;\n}\nfunction getNearestOverflowAncestor(node) {\n  const parentNode = getParentNode(node);\n  if (isLastTraversableNode(parentNode)) {\n    return node.ownerDocument ? node.ownerDocument.body : node.body;\n  }\n  if (isHTMLElement(parentNode) && isOverflowElement(parentNode)) {\n    return parentNode;\n  }\n  return getNearestOverflowAncestor(parentNode);\n}\nfunction getOverflowAncestors(node, list, traverseIframes) {\n  var _node$ownerDocument2;\n  if (list === void 0) {\n    list = [];\n  }\n  if (traverseIframes === void 0) {\n    traverseIframes = true;\n  }\n  const scrollableAncestor = getNearestOverflowAncestor(node);\n  const isBody = scrollableAncestor === ((_node$ownerDocument2 = node.ownerDocument) == null ? void 0 : _node$ownerDocument2.body);\n  const win = getWindow(scrollableAncestor);\n  if (isBody) {\n    const frameElement = getFrameElement(win);\n    return list.concat(win, win.visualViewport || [], isOverflowElement(scrollableAncestor) ? scrollableAncestor : [], frameElement && traverseIframes ? getOverflowAncestors(frameElement) : []);\n  }\n  return list.concat(scrollableAncestor, getOverflowAncestors(scrollableAncestor, [], traverseIframes));\n}\nfunction getFrameElement(win) {\n  return win.parent && Object.getPrototypeOf(win.parent) ? win.frameElement : null;\n}\nfunction getCssDimensions(element) {\n  const css = getComputedStyle$1(element);\n  let width = parseFloat(css.width) || 0;\n  let height = parseFloat(css.height) || 0;\n  const hasOffset = isHTMLElement(element);\n  const offsetWidth = hasOffset ? element.offsetWidth : width;\n  const offsetHeight = hasOffset ? element.offsetHeight : height;\n  const shouldFallback = round(width) !== offsetWidth || round(height) !== offsetHeight;\n  if (shouldFallback) {\n    width = offsetWidth;\n    height = offsetHeight;\n  }\n  return {\n    width,\n    height,\n    $: shouldFallback\n  };\n}\nfunction unwrapElement(element) {\n  return !isElement(element) ? element.contextElement : element;\n}\nfunction getScale(element) {\n  const domElement = unwrapElement(element);\n  if (!isHTMLElement(domElement)) {\n    return createCoords(1);\n  }\n  const rect = domElement.getBoundingClientRect();\n  const {\n    width,\n    height,\n    $\n  } = getCssDimensions(domElement);\n  let x = ($ ? round(rect.width) : rect.width) / width;\n  let y = ($ ? round(rect.height) : rect.height) / height;\n  if (!x || !Number.isFinite(x)) {\n    x = 1;\n  }\n  if (!y || !Number.isFinite(y)) {\n    y = 1;\n  }\n  return {\n    x,\n    y\n  };\n}\nconst noOffsets = /* @__PURE__ */ createCoords(0);\nfunction getVisualOffsets(element) {\n  const win = getWindow(element);\n  if (!isWebKit() || !win.visualViewport) {\n    return noOffsets;\n  }\n  return {\n    x: win.visualViewport.offsetLeft,\n    y: win.visualViewport.offsetTop\n  };\n}\nfunction shouldAddVisualOffsets(element, isFixed, floatingOffsetParent) {\n  if (isFixed === void 0) {\n    isFixed = false;\n  }\n  if (!floatingOffsetParent || isFixed && floatingOffsetParent !== getWindow(element)) {\n    return false;\n  }\n  return isFixed;\n}\nfunction getBoundingClientRect(element, includeScale, isFixedStrategy, offsetParent) {\n  if (includeScale === void 0) {\n    includeScale = false;\n  }\n  if (isFixedStrategy === void 0) {\n    isFixedStrategy = false;\n  }\n  const clientRect = element.getBoundingClientRect();\n  const domElement = unwrapElement(element);\n  let scale = createCoords(1);\n  if (includeScale) {\n    if (offsetParent) {\n      if (isElement(offsetParent)) {\n        scale = getScale(offsetParent);\n      }\n    } else {\n      scale = getScale(element);\n    }\n  }\n  const visualOffsets = shouldAddVisualOffsets(domElement, isFixedStrategy, offsetParent) ? getVisualOffsets(domElement) : createCoords(0);\n  let x = (clientRect.left + visualOffsets.x) / scale.x;\n  let y = (clientRect.top + visualOffsets.y) / scale.y;\n  let width = clientRect.width / scale.x;\n  let height = clientRect.height / scale.y;\n  if (domElement) {\n    const win = getWindow(domElement);\n    const offsetWin = offsetParent && isElement(offsetParent) ? getWindow(offsetParent) : offsetParent;\n    let currentWin = win;\n    let currentIFrame = getFrameElement(currentWin);\n    while (currentIFrame && offsetParent && offsetWin !== currentWin) {\n      const iframeScale = getScale(currentIFrame);\n      const iframeRect = currentIFrame.getBoundingClientRect();\n      const css = getComputedStyle$1(currentIFrame);\n      const left = iframeRect.left + (currentIFrame.clientLeft + parseFloat(css.paddingLeft)) * iframeScale.x;\n      const top = iframeRect.top + (currentIFrame.clientTop + parseFloat(css.paddingTop)) * iframeScale.y;\n      x *= iframeScale.x;\n      y *= iframeScale.y;\n      width *= iframeScale.x;\n      height *= iframeScale.y;\n      x += left;\n      y += top;\n      currentWin = getWindow(currentIFrame);\n      currentIFrame = getFrameElement(currentWin);\n    }\n  }\n  return rectToClientRect({\n    width,\n    height,\n    x,\n    y\n  });\n}\nfunction convertOffsetParentRelativeRectToViewportRelativeRect(_ref) {\n  let {\n    elements,\n    rect,\n    offsetParent,\n    strategy\n  } = _ref;\n  const isFixed = strategy === \"fixed\";\n  const documentElement = getDocumentElement(offsetParent);\n  const topLayer = elements ? isTopLayer(elements.floating) : false;\n  if (offsetParent === documentElement || topLayer && isFixed) {\n    return rect;\n  }\n  let scroll = {\n    scrollLeft: 0,\n    scrollTop: 0\n  };\n  let scale = createCoords(1);\n  const offsets = createCoords(0);\n  const isOffsetParentAnElement = isHTMLElement(offsetParent);\n  if (isOffsetParentAnElement || !isOffsetParentAnElement && !isFixed) {\n    if (getNodeName(offsetParent) !== \"body\" || isOverflowElement(documentElement)) {\n      scroll = getNodeScroll(offsetParent);\n    }\n    if (isHTMLElement(offsetParent)) {\n      const offsetRect = getBoundingClientRect(offsetParent);\n      scale = getScale(offsetParent);\n      offsets.x = offsetRect.x + offsetParent.clientLeft;\n      offsets.y = offsetRect.y + offsetParent.clientTop;\n    }\n  }\n  return {\n    width: rect.width * scale.x,\n    height: rect.height * scale.y,\n    x: rect.x * scale.x - scroll.scrollLeft * scale.x + offsets.x,\n    y: rect.y * scale.y - scroll.scrollTop * scale.y + offsets.y\n  };\n}\nfunction getClientRects(element) {\n  return Array.from(element.getClientRects());\n}\nfunction getWindowScrollBarX(element, rect) {\n  const leftScroll = getNodeScroll(element).scrollLeft;\n  if (!rect) {\n    return getBoundingClientRect(getDocumentElement(element)).left + leftScroll;\n  }\n  return rect.left + leftScroll;\n}\nfunction getDocumentRect(element) {\n  const html = getDocumentElement(element);\n  const scroll = getNodeScroll(element);\n  const body = element.ownerDocument.body;\n  const width = max(html.scrollWidth, html.clientWidth, body.scrollWidth, body.clientWidth);\n  const height = max(html.scrollHeight, html.clientHeight, body.scrollHeight, body.clientHeight);\n  let x = -scroll.scrollLeft + getWindowScrollBarX(element);\n  const y = -scroll.scrollTop;\n  if (getComputedStyle$1(body).direction === \"rtl\") {\n    x += max(html.clientWidth, body.clientWidth) - width;\n  }\n  return {\n    width,\n    height,\n    x,\n    y\n  };\n}\nfunction getViewportRect(element, strategy) {\n  const win = getWindow(element);\n  const html = getDocumentElement(element);\n  const visualViewport = win.visualViewport;\n  let width = html.clientWidth;\n  let height = html.clientHeight;\n  let x = 0;\n  let y = 0;\n  if (visualViewport) {\n    width = visualViewport.width;\n    height = visualViewport.height;\n    const visualViewportBased = isWebKit();\n    if (!visualViewportBased || visualViewportBased && strategy === \"fixed\") {\n      x = visualViewport.offsetLeft;\n      y = visualViewport.offsetTop;\n    }\n  }\n  return {\n    width,\n    height,\n    x,\n    y\n  };\n}\nfunction getInnerBoundingClientRect(element, strategy) {\n  const clientRect = getBoundingClientRect(element, true, strategy === \"fixed\");\n  const top = clientRect.top + element.clientTop;\n  const left = clientRect.left + element.clientLeft;\n  const scale = isHTMLElement(element) ? getScale(element) : createCoords(1);\n  const width = element.clientWidth * scale.x;\n  const height = element.clientHeight * scale.y;\n  const x = left * scale.x;\n  const y = top * scale.y;\n  return {\n    width,\n    height,\n    x,\n    y\n  };\n}\nfunction getClientRectFromClippingAncestor(element, clippingAncestor, strategy) {\n  let rect;\n  if (clippingAncestor === \"viewport\") {\n    rect = getViewportRect(element, strategy);\n  } else if (clippingAncestor === \"document\") {\n    rect = getDocumentRect(getDocumentElement(element));\n  } else if (isElement(clippingAncestor)) {\n    rect = getInnerBoundingClientRect(clippingAncestor, strategy);\n  } else {\n    const visualOffsets = getVisualOffsets(element);\n    rect = __spreadProps(__spreadValues({}, clippingAncestor), {\n      x: clippingAncestor.x - visualOffsets.x,\n      y: clippingAncestor.y - visualOffsets.y\n    });\n  }\n  return rectToClientRect(rect);\n}\nfunction hasFixedPositionAncestor(element, stopNode) {\n  const parentNode = getParentNode(element);\n  if (parentNode === stopNode || !isElement(parentNode) || isLastTraversableNode(parentNode)) {\n    return false;\n  }\n  return getComputedStyle$1(parentNode).position === \"fixed\" || hasFixedPositionAncestor(parentNode, stopNode);\n}\nfunction getClippingElementAncestors(element, cache) {\n  const cachedResult = cache.get(element);\n  if (cachedResult) {\n    return cachedResult;\n  }\n  let result = getOverflowAncestors(element, [], false).filter((el) => isElement(el) && getNodeName(el) !== \"body\");\n  let currentContainingBlockComputedStyle = null;\n  const elementIsFixed = getComputedStyle$1(element).position === \"fixed\";\n  let currentNode = elementIsFixed ? getParentNode(element) : element;\n  while (isElement(currentNode) && !isLastTraversableNode(currentNode)) {\n    const computedStyle = getComputedStyle$1(currentNode);\n    const currentNodeIsContaining = isContainingBlock(currentNode);\n    if (!currentNodeIsContaining && computedStyle.position === \"fixed\") {\n      currentContainingBlockComputedStyle = null;\n    }\n    const shouldDropCurrentNode = elementIsFixed ? !currentNodeIsContaining && !currentContainingBlockComputedStyle : !currentNodeIsContaining && computedStyle.position === \"static\" && !!currentContainingBlockComputedStyle && [\"absolute\", \"fixed\"].includes(currentContainingBlockComputedStyle.position) || isOverflowElement(currentNode) && !currentNodeIsContaining && hasFixedPositionAncestor(element, currentNode);\n    if (shouldDropCurrentNode) {\n      result = result.filter((ancestor) => ancestor !== currentNode);\n    } else {\n      currentContainingBlockComputedStyle = computedStyle;\n    }\n    currentNode = getParentNode(currentNode);\n  }\n  cache.set(element, result);\n  return result;\n}\nfunction getClippingRect(_ref) {\n  let {\n    element,\n    boundary,\n    rootBoundary,\n    strategy\n  } = _ref;\n  const elementClippingAncestors = boundary === \"clippingAncestors\" ? isTopLayer(element) ? [] : getClippingElementAncestors(element, this._c) : [].concat(boundary);\n  const clippingAncestors = [...elementClippingAncestors, rootBoundary];\n  const firstClippingAncestor = clippingAncestors[0];\n  const clippingRect = clippingAncestors.reduce((accRect, clippingAncestor) => {\n    const rect = getClientRectFromClippingAncestor(element, clippingAncestor, strategy);\n    accRect.top = max(rect.top, accRect.top);\n    accRect.right = min(rect.right, accRect.right);\n    accRect.bottom = min(rect.bottom, accRect.bottom);\n    accRect.left = max(rect.left, accRect.left);\n    return accRect;\n  }, getClientRectFromClippingAncestor(element, firstClippingAncestor, strategy));\n  return {\n    width: clippingRect.right - clippingRect.left,\n    height: clippingRect.bottom - clippingRect.top,\n    x: clippingRect.left,\n    y: clippingRect.top\n  };\n}\nfunction getDimensions(element) {\n  const {\n    width,\n    height\n  } = getCssDimensions(element);\n  return {\n    width,\n    height\n  };\n}\nfunction getRectRelativeToOffsetParent(element, offsetParent, strategy) {\n  const isOffsetParentAnElement = isHTMLElement(offsetParent);\n  const documentElement = getDocumentElement(offsetParent);\n  const isFixed = strategy === \"fixed\";\n  const rect = getBoundingClientRect(element, true, isFixed, offsetParent);\n  let scroll = {\n    scrollLeft: 0,\n    scrollTop: 0\n  };\n  const offsets = createCoords(0);\n  if (isOffsetParentAnElement || !isOffsetParentAnElement && !isFixed) {\n    if (getNodeName(offsetParent) !== \"body\" || isOverflowElement(documentElement)) {\n      scroll = getNodeScroll(offsetParent);\n    }\n    if (isOffsetParentAnElement) {\n      const offsetRect = getBoundingClientRect(offsetParent, true, isFixed, offsetParent);\n      offsets.x = offsetRect.x + offsetParent.clientLeft;\n      offsets.y = offsetRect.y + offsetParent.clientTop;\n    } else if (documentElement) {\n      offsets.x = getWindowScrollBarX(documentElement);\n    }\n  }\n  let htmlX = 0;\n  let htmlY = 0;\n  if (documentElement && !isOffsetParentAnElement && !isFixed) {\n    const htmlRect = documentElement.getBoundingClientRect();\n    htmlY = htmlRect.top + scroll.scrollTop;\n    htmlX = htmlRect.left + scroll.scrollLeft - getWindowScrollBarX(documentElement, htmlRect);\n  }\n  const x = rect.left + scroll.scrollLeft - offsets.x - htmlX;\n  const y = rect.top + scroll.scrollTop - offsets.y - htmlY;\n  return {\n    x,\n    y,\n    width: rect.width,\n    height: rect.height\n  };\n}\nfunction isStaticPositioned(element) {\n  return getComputedStyle$1(element).position === \"static\";\n}\nfunction getTrueOffsetParent(element, polyfill) {\n  if (!isHTMLElement(element) || getComputedStyle$1(element).position === \"fixed\") {\n    return null;\n  }\n  if (polyfill) {\n    return polyfill(element);\n  }\n  let rawOffsetParent = element.offsetParent;\n  if (getDocumentElement(element) === rawOffsetParent) {\n    rawOffsetParent = rawOffsetParent.ownerDocument.body;\n  }\n  return rawOffsetParent;\n}\nfunction getOffsetParent(element, polyfill) {\n  const win = getWindow(element);\n  if (isTopLayer(element)) {\n    return win;\n  }\n  if (!isHTMLElement(element)) {\n    let svgOffsetParent = getParentNode(element);\n    while (svgOffsetParent && !isLastTraversableNode(svgOffsetParent)) {\n      if (isElement(svgOffsetParent) && !isStaticPositioned(svgOffsetParent)) {\n        return svgOffsetParent;\n      }\n      svgOffsetParent = getParentNode(svgOffsetParent);\n    }\n    return win;\n  }\n  let offsetParent = getTrueOffsetParent(element, polyfill);\n  while (offsetParent && isTableElement(offsetParent) && isStaticPositioned(offsetParent)) {\n    offsetParent = getTrueOffsetParent(offsetParent, polyfill);\n  }\n  if (offsetParent && isLastTraversableNode(offsetParent) && isStaticPositioned(offsetParent) && !isContainingBlock(offsetParent)) {\n    return win;\n  }\n  return offsetParent || getContainingBlock(element) || win;\n}\nconst getElementRects = function(data) {\n  return __async(this, null, function* () {\n    const getOffsetParentFn = this.getOffsetParent || getOffsetParent;\n    const getDimensionsFn = this.getDimensions;\n    const floatingDimensions = yield getDimensionsFn(data.floating);\n    return {\n      reference: getRectRelativeToOffsetParent(data.reference, yield getOffsetParentFn(data.floating), data.strategy),\n      floating: {\n        x: 0,\n        y: 0,\n        width: floatingDimensions.width,\n        height: floatingDimensions.height\n      }\n    };\n  });\n};\nfunction isRTL(element) {\n  return getComputedStyle$1(element).direction === \"rtl\";\n}\nconst platform = {\n  convertOffsetParentRelativeRectToViewportRelativeRect,\n  getDocumentElement,\n  getClippingRect,\n  getOffsetParent,\n  getElementRects,\n  getClientRects,\n  getDimensions,\n  getScale,\n  isElement,\n  isRTL\n};\nfunction observeMove(element, onMove) {\n  let io = null;\n  let timeoutId;\n  const root = getDocumentElement(element);\n  function cleanup() {\n    var _io;\n    clearTimeout(timeoutId);\n    (_io = io) == null || _io.disconnect();\n    io = null;\n  }\n  function refresh(skip, threshold) {\n    if (skip === void 0) {\n      skip = false;\n    }\n    if (threshold === void 0) {\n      threshold = 1;\n    }\n    cleanup();\n    const {\n      left,\n      top,\n      width,\n      height\n    } = element.getBoundingClientRect();\n    if (!skip) {\n      onMove();\n    }\n    if (!width || !height) {\n      return;\n    }\n    const insetTop = floor(top);\n    const insetRight = floor(root.clientWidth - (left + width));\n    const insetBottom = floor(root.clientHeight - (top + height));\n    const insetLeft = floor(left);\n    const rootMargin = -insetTop + \"px \" + -insetRight + \"px \" + -insetBottom + \"px \" + -insetLeft + \"px\";\n    const options = {\n      rootMargin,\n      threshold: max(0, min(1, threshold)) || 1\n    };\n    let isFirstUpdate = true;\n    function handleObserve(entries) {\n      const ratio = entries[0].intersectionRatio;\n      if (ratio !== threshold) {\n        if (!isFirstUpdate) {\n          return refresh();\n        }\n        if (!ratio) {\n          timeoutId = setTimeout(() => {\n            refresh(false, 1e-7);\n          }, 1e3);\n        } else {\n          refresh(false, ratio);\n        }\n      }\n      isFirstUpdate = false;\n    }\n    try {\n      io = new IntersectionObserver(handleObserve, __spreadProps(__spreadValues({}, options), {\n        root: root.ownerDocument\n      }));\n    } catch (e2) {\n      io = new IntersectionObserver(handleObserve, options);\n    }\n    io.observe(element);\n  }\n  refresh(true);\n  return cleanup;\n}\nfunction autoUpdate(reference, floating, update, options) {\n  if (options === void 0) {\n    options = {};\n  }\n  const {\n    ancestorScroll = true,\n    ancestorResize = true,\n    elementResize = typeof ResizeObserver === \"function\",\n    layoutShift = typeof IntersectionObserver === \"function\",\n    animationFrame = false\n  } = options;\n  const referenceEl = unwrapElement(reference);\n  const ancestors = ancestorScroll || ancestorResize ? [...referenceEl ? getOverflowAncestors(referenceEl) : [], ...getOverflowAncestors(floating)] : [];\n  ancestors.forEach((ancestor) => {\n    ancestorScroll && ancestor.addEventListener(\"scroll\", update, {\n      passive: true\n    });\n    ancestorResize && ancestor.addEventListener(\"resize\", update);\n  });\n  const cleanupIo = referenceEl && layoutShift ? observeMove(referenceEl, update) : null;\n  let reobserveFrame = -1;\n  let resizeObserver = null;\n  if (elementResize) {\n    resizeObserver = new ResizeObserver((_ref) => {\n      let [firstEntry] = _ref;\n      if (firstEntry && firstEntry.target === referenceEl && resizeObserver) {\n        resizeObserver.unobserve(floating);\n        cancelAnimationFrame(reobserveFrame);\n        reobserveFrame = requestAnimationFrame(() => {\n          var _resizeObserver;\n          (_resizeObserver = resizeObserver) == null || _resizeObserver.observe(floating);\n        });\n      }\n      update();\n    });\n    if (referenceEl && !animationFrame) {\n      resizeObserver.observe(referenceEl);\n    }\n    resizeObserver.observe(floating);\n  }\n  let frameId;\n  let prevRefRect = animationFrame ? getBoundingClientRect(reference) : null;\n  if (animationFrame) {\n    frameLoop();\n  }\n  function frameLoop() {\n    const nextRefRect = getBoundingClientRect(reference);\n    if (prevRefRect && (nextRefRect.x !== prevRefRect.x || nextRefRect.y !== prevRefRect.y || nextRefRect.width !== prevRefRect.width || nextRefRect.height !== prevRefRect.height)) {\n      update();\n    }\n    prevRefRect = nextRefRect;\n    frameId = requestAnimationFrame(frameLoop);\n  }\n  update();\n  return () => {\n    var _resizeObserver2;\n    ancestors.forEach((ancestor) => {\n      ancestorScroll && ancestor.removeEventListener(\"scroll\", update);\n      ancestorResize && ancestor.removeEventListener(\"resize\", update);\n    });\n    cleanupIo == null || cleanupIo();\n    (_resizeObserver2 = resizeObserver) == null || _resizeObserver2.disconnect();\n    resizeObserver = null;\n    if (animationFrame) {\n      cancelAnimationFrame(frameId);\n    }\n  };\n}\noffset;\nautoPlacement;\nshift;\nflip;\nsize;\nhide;\narrow;\ninline;\nlimitShift;\nconst computePosition = (reference, floating, options) => {\n  const cache = /* @__PURE__ */ new Map();\n  const mergedOptions = __spreadValues({\n    platform\n  }, options);\n  const platformWithCache = __spreadProps(__spreadValues({}, mergedOptions.platform), {\n    _c: cache\n  });\n  return computePosition$1(reference, floating, __spreadProps(__spreadValues({}, mergedOptions), {\n    platform: platformWithCache\n  }));\n};\nfunction P(l2, u2, e2) {\n  let c2 = () => {\n    var t2;\n    return (t2 = e2 == null ? void 0 : e2.placement) != null ? t2 : \"bottom\";\n  }, d = () => {\n    var t2;\n    return (t2 = e2 == null ? void 0 : e2.strategy) != null ? t2 : \"absolute\";\n  }, [n2, o2] = createSignal({ x: null, y: null, placement: c2(), strategy: d(), middlewareData: {} }), [x, F] = createSignal();\n  createEffect(() => {\n    let t2 = x();\n    if (t2)\n      throw t2.value;\n  });\n  let s2 = createMemo(() => (l2(), u2(), {}));\n  function i2() {\n    let t2 = l2(), r = u2();\n    if (t2 && r) {\n      let a2 = s2();\n      computePosition(t2, r, { middleware: e2 == null ? void 0 : e2.middleware, placement: c2(), strategy: d() }).then((m) => {\n        a2 === s2() && o2(m);\n      }, (m) => {\n        F(m);\n      });\n    }\n  }\n  return createEffect(() => {\n    let t2 = l2(), r = u2();\n    if (e2 == null || e2.middleware, c2(), d(), t2 && r)\n      if (e2 != null && e2.whileElementsMounted) {\n        let a2 = e2.whileElementsMounted(t2, r, i2);\n        a2 && onCleanup(a2);\n      } else\n        i2();\n  }), { get x() {\n    return n2().x;\n  }, get y() {\n    return n2().y;\n  }, get placement() {\n    return n2().placement;\n  }, get strategy() {\n    return n2().strategy;\n  }, get middlewareData() {\n    return n2().middlewareData;\n  }, update: i2 };\n}\nconst ConnectorContext = createContext();\nconst UniversalConnectorContext = createContext();\nvar _tmpl$$2 = /* @__PURE__ */ template$1(`<okxc-root data-tc-dropdown-container=true>`, true, false);\nconst AccountButton = () => {\n  const theme = useTheme();\n  const connector = useContext(ConnectorContext);\n  const tonConnectUI = useContext(OKXConnectUiContext);\n  const [isOpened, setIsOpened] = createSignal(false);\n  const [account, setAccount] = createSignal(connector.account);\n  const [restoringProcess, setRestoringProcess] = createSignal(!connector.account);\n  let dropDownRef;\n  const [floating, setFloating] = createSignal();\n  const [anchor, setAnchor] = createSignal();\n  const position = P(anchor, floating, {\n    whileElementsMounted: autoUpdate,\n    placement: \"bottom-end\"\n  });\n  const normalizedAddress = () => {\n    const acc = account();\n    if (acc) {\n      const userFriendlyAddress = tonsdk.toUserFriendlyAddress(acc.address);\n      return userFriendlyAddress.slice(0, 4) + \"\\u2026\" + userFriendlyAddress.slice(-4);\n    }\n    return \"\";\n  };\n  tonConnectUI.connectionRestored.then(() => setRestoringProcess(false));\n  const unsubscribe = connector.onStatusChange((wallet) => {\n    if (!wallet) {\n      setIsOpened(false);\n      setAccount(null);\n      setRestoringProcess(false);\n      return;\n    }\n    setAccount(wallet.account);\n    setRestoringProcess(false);\n  });\n  const onClick = (e2) => {\n    if (!account() || !isOpened()) {\n      return;\n    }\n    const clickToButton = anchor().contains(e2.target);\n    const clickToDropdown = dropDownRef.contains(e2.target);\n    if (!clickToButton && !clickToDropdown) {\n      setIsOpened(false);\n    }\n  };\n  onMount(() => {\n    document.body.addEventListener(\"click\", onClick);\n  });\n  onCleanup(() => {\n    document.body.removeEventListener(\"click\", onClick);\n    unsubscribe();\n  });\n  return createComponent(Dynamic, {\n    component: globalStylesTag,\n    get children() {\n      return [createComponent(Show, {\n        get when() {\n          return restoringProcess();\n        },\n        get children() {\n          return createComponent(LoaderButtonStyled, {\n            disabled: true,\n            \"data-tc-connect-button-loading\": \"true\",\n            get children() {\n              return createComponent(LoaderIconStyled, {});\n            }\n          });\n        }\n      }), createComponent(Show, {\n        get when() {\n          return !restoringProcess();\n        },\n        get children() {\n          return [createComponent(Show, {\n            get when() {\n              return !account();\n            },\n            get children() {\n              return createComponent(AccountButtonStyled, {\n                onClick: () => tonConnectUI.openModal(),\n                \"data-tc-connect-button\": \"true\",\n                scale: \"s\",\n                get children() {\n                  return [createComponent(TonIcon, {\n                    get fill() {\n                      return theme.colors.connectButton.foreground;\n                    }\n                  }), createComponent(Text, {\n                    translationKey: \"button.connectWallet\",\n                    fontSize: \"15px\",\n                    lineHeight: \"18px\",\n                    fontWeight: \"590\",\n                    get color() {\n                      return theme.colors.connectButton.foreground;\n                    },\n                    children: \"Connect wallet\"\n                  })];\n                }\n              });\n            }\n          }), createComponent(Show, {\n            get when() {\n              return account();\n            },\n            get children() {\n              return createComponent(DropdownContainerStyled, {\n                get children() {\n                  return [createComponent(DropdownButtonStyled, {\n                    onClick: () => setIsOpened((v) => !v),\n                    ref: setAnchor,\n                    \"data-tc-dropdown-button\": \"true\",\n                    scale: \"s\",\n                    get children() {\n                      return [createComponent(Text, {\n                        fontSize: \"15px\",\n                        fontWeight: \"590\",\n                        lineHeight: \"18px\",\n                        get children() {\n                          return normalizedAddress();\n                        }\n                      }), createComponent(ArrowIcon, {\n                        direction: \"bottom\"\n                      })];\n                    }\n                  }), createComponent(Portal, {\n                    get children() {\n                      var _el$ = _tmpl$$2();\n                      use(setFloating, _el$);\n                      _el$.style.setProperty(\"z-index\", \"999\");\n                      _el$._$owner = getOwner();\n                      insert(_el$, createComponent(Transition, {\n                        onBeforeEnter: (el) => {\n                          animate(el, [{\n                            opacity: 0,\n                            transform: \"translateY(-8px)\"\n                          }, {\n                            opacity: 1,\n                            transform: \"translateY(0)\"\n                          }], {\n                            duration: 150\n                          });\n                        },\n                        onExit: (el, done) => {\n                          const a2 = animate(el, [{\n                            opacity: 1,\n                            transform: \"translateY(0)\"\n                          }, {\n                            opacity: 0,\n                            transform: \"translateY(-8px)\"\n                          }], {\n                            duration: 150\n                          });\n                          a2.finished.then(done);\n                        },\n                        get children() {\n                          return createComponent(Show, {\n                            get when() {\n                              return isOpened();\n                            },\n                            get children() {\n                              return createComponent(DropdownStyled, {\n                                get hidden() {\n                                  return !isOpened();\n                                },\n                                onClose: () => setIsOpened(false),\n                                ref(r$) {\n                                  var _ref$ = dropDownRef;\n                                  typeof _ref$ === \"function\" ? _ref$(r$) : dropDownRef = r$;\n                                }\n                              });\n                            }\n                          });\n                        }\n                      }));\n                      createRenderEffect((_p$) => {\n                        var _a2, _b2;\n                        var _v$ = position.strategy, _v$2 = `${(_a2 = position.y) != null ? _a2 : 0}px`, _v$3 = `${(_b2 = position.x) != null ? _b2 : 0}px`;\n                        _v$ !== _p$.e && ((_p$.e = _v$) != null ? _el$.style.setProperty(\"position\", _v$) : _el$.style.removeProperty(\"position\"));\n                        _v$2 !== _p$.t && ((_p$.t = _v$2) != null ? _el$.style.setProperty(\"top\", _v$2) : _el$.style.removeProperty(\"top\"));\n                        _v$3 !== _p$.a && ((_p$.a = _v$3) != null ? _el$.style.setProperty(\"left\", _v$3) : _el$.style.removeProperty(\"left\"));\n                        return _p$;\n                      }, {\n                        e: void 0,\n                        t: void 0,\n                        a: void 0\n                      });\n                      return _el$;\n                    }\n                  })];\n                }\n              });\n            }\n          })];\n        }\n      })];\n    }\n  });\n};\nconst [tonAppState, setTonAppState] = createStore({\n  buttonRootId: null,\n  language: \"en_US\"\n});\nconst StyledModal = styled(Modal)`\n  padding-left: 0;\n  padding-right: 0;\n  padding-top: 0;\n\n  ${media(\"mobile\")} {\n    padding-left: 0;\n    padding-right: 0;\n    min-height: 364px;\n  }\n`;\nconst H1Styled$1 = styled(H1)`\n  padding: 12px 64px;\n`;\nconst MobileConnectionModalStyled$1 = styled.div``;\nconst BodyStyled$1 = styled.div`\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  min-height: ${(props) => props.isDeclined ? \"200px\" : \"325px\"};;\n  gap: 24px;\n`;\nconst StyledIconButton = styled(IconButton)`\n  position: absolute;\n  top: 12px;\n  left: 16px;\n`;\nconst H2Styled = styled(H2)`\n  margin-bottom: 0;\n  padding: 16px 24px 24px 24px;\n  min-height: 44px;\n`;\nconst QrCodeWrapper = styled.div`\n  margin-top: 24px;\n  margin-left: 24px;\n  margin-right: 24px;\n`;\nconst LoaderWrapper = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\nfunction addReturnStrategy(url, strategy) {\n  let returnStrategy;\n  if (typeof strategy === \"string\") {\n    returnStrategy = strategy;\n  } else {\n    returnStrategy = strategy.returnStrategy;\n  }\n  const newUrl = addQueryParameter(url, \"ret\", returnStrategy);\n  if (!core.isTelegramUrl(url)) {\n    return newUrl;\n  }\n  const lastParam = newUrl.slice(newUrl.lastIndexOf(\"&\") + 1);\n  return newUrl.slice(0, newUrl.lastIndexOf(\"&\")) + \"-\" + core.encodeTelegramUrlParameters(lastParam);\n}\nfunction openLinkOnPhone(universalLink, deepLink) {\n  if (isOS(\"android\")) {\n    openDeeplinkWithFallback(deepLink, () => {\n    });\n  } else {\n    openLinkBlank(universalLink);\n  }\n}\nfunction redirectToWallet(universalLink, deepLink, options, setOpenMethod) {\n  if (!deepLink) {\n    deepLink = core.standardDeeplink;\n  }\n  options = __spreadValues({}, options);\n  if (isInTelegramBrowser()) {\n    if (isOS(\"ios\", \"android\")) {\n      if (options.returnStrategy === \"back\") {\n        options.returnStrategy = \"tg://resolve\";\n      }\n      setOpenMethod(\"universal-link\");\n      openLinkOnPhone(universalLink, deepLink);\n    } else {\n      setOpenMethod(\"universal-link\");\n      const linkWitStrategy = addReturnStrategy(universalLink, options.returnStrategy);\n      openLinkBlank(linkWitStrategy);\n    }\n  } else if (isInTMA()) {\n    if (isTmaPlatform(\"ios\", \"android\")) {\n      if (options.returnStrategy === \"back\") {\n        options.returnStrategy = \"tg://resolve\";\n      }\n      setOpenMethod(\"universal-link\");\n      openLinkOnPhone(universalLink, deepLink);\n    } else if (isTmaPlatform(\"macos\", \"tdesktop\")) {\n      if (options.returnStrategy === \"back\") {\n        options.returnStrategy = \"tg://resolve\";\n      }\n      const linkWitStrategy = addReturnStrategy(universalLink, options.returnStrategy);\n      const useDeepLink = !!deepLink && !options.forceRedirect;\n      if (useDeepLink) {\n        setOpenMethod(\"custom-deeplink\");\n        openDeeplinkWithFallback(toDeeplink(linkWitStrategy, deepLink), () => {\n          setOpenMethod(\"universal-link\");\n          openLinkBlank(linkWitStrategy);\n        });\n      } else {\n        setOpenMethod(\"universal-link\");\n        openLinkBlank(linkWitStrategy);\n      }\n    } else if (isTmaPlatform(\"weba\")) {\n      if (options.returnStrategy === \"back\") {\n        if (isBrowser(\"safari\")) {\n          options.returnStrategy = location.href;\n        } else if (isBrowser(\"chrome\")) {\n          options.returnStrategy = \"googlechrome://\";\n        } else if (isBrowser(\"firefox\")) {\n          options.returnStrategy = \"firefox://\";\n        } else if (isBrowser(\"opera\")) {\n          options.returnStrategy = \"opera-http://\";\n        } else {\n          options.returnStrategy = location.href;\n        }\n      }\n      const linkWitStrategy = addReturnStrategy(universalLink, options.returnStrategy);\n      const useDeepLink = !!deepLink && !options.forceRedirect;\n      if (useDeepLink) {\n        setOpenMethod(\"custom-deeplink\");\n        openDeeplinkWithFallback(toDeeplink(linkWitStrategy, deepLink), () => {\n          setOpenMethod(\"universal-link\");\n          openLinkBlank(linkWitStrategy);\n        });\n      } else {\n        setOpenMethod(\"universal-link\");\n        openLinkBlank(linkWitStrategy);\n      }\n    } else if (isTmaPlatform(\"web\")) {\n      if (options.returnStrategy === \"back\") {\n        if (isBrowser(\"safari\")) {\n          options.returnStrategy = location.href;\n        } else if (isBrowser(\"chrome\")) {\n          options.returnStrategy = \"googlechrome://\";\n        } else if (isBrowser(\"firefox\")) {\n          options.returnStrategy = \"firefox://\";\n        } else if (isBrowser(\"opera\")) {\n          options.returnStrategy = \"opera-http://\";\n        } else {\n          options.returnStrategy = location.href;\n        }\n      }\n      const linkWitStrategy = addReturnStrategy(universalLink, options.returnStrategy);\n      const useDeepLink = !!deepLink && !options.forceRedirect;\n      if (useDeepLink) {\n        setOpenMethod(\"custom-deeplink\");\n        openDeeplinkWithFallback(toDeeplink(linkWitStrategy, deepLink), () => {\n          setOpenMethod(\"universal-link\");\n          openLinkBlank(linkWitStrategy);\n        });\n      } else {\n        setOpenMethod(\"universal-link\");\n        openLinkBlank(linkWitStrategy);\n      }\n    } else {\n      setOpenMethod(\"universal-link\");\n      const linkWitStrategy = addReturnStrategy(universalLink, options.returnStrategy);\n      openLinkBlank(linkWitStrategy);\n    }\n  } else {\n    if (isOS(\"ios\")) {\n      if (options.returnStrategy === \"back\") {\n        if (isBrowser(\"safari\")) {\n          options.returnStrategy = \"none\";\n        } else if (isBrowser(\"chrome\")) {\n          options.returnStrategy = \"googlechrome://\";\n        } else if (isBrowser(\"firefox\")) {\n          options.returnStrategy = \"firefox://\";\n        } else if (isBrowser(\"opera\")) {\n          options.returnStrategy = \"opera-http://\";\n        } else {\n          options.returnStrategy = location.href;\n        }\n      }\n      setOpenMethod(\"universal-link\");\n      openLinkOnPhone(universalLink, deepLink);\n    } else if (isOS(\"android\")) {\n      if (options.returnStrategy === \"back\") {\n        if (isBrowser(\"chrome\")) {\n          options.returnStrategy = \"googlechrome://\";\n        } else if (isBrowser(\"firefox\")) {\n          options.returnStrategy = \"firefox://\";\n        } else if (isBrowser(\"opera\")) {\n          options.returnStrategy = \"opera-http://\";\n        } else {\n          options.returnStrategy = location.href;\n        }\n      }\n      setOpenMethod(\"universal-link\");\n      core.logDebug(\"url-strategy-helpers 489\");\n      openLinkOnPhone(universalLink, deepLink);\n    } else if (isOS(\"ipad\")) {\n      if (options.returnStrategy === \"back\") {\n        if (isBrowser(\"safari\")) {\n          options.returnStrategy = \"none\";\n        } else if (isBrowser(\"chrome\")) {\n          options.returnStrategy = \"googlechrome://\";\n        } else if (isBrowser(\"firefox\")) {\n          options.returnStrategy = \"firefox://\";\n        } else if (isBrowser(\"opera\")) {\n          options.returnStrategy = \"opera-http://\";\n        } else {\n          options.returnStrategy = location.href;\n        }\n      }\n      openLinkOnPhone(universalLink, deepLink);\n    } else if (isOS(\"macos\", \"windows\", \"linux\")) {\n      if (options.returnStrategy === \"back\") {\n        if (isBrowser(\"safari\")) {\n          options.returnStrategy = \"none\";\n        } else if (isBrowser(\"chrome\")) {\n          options.returnStrategy = \"googlechrome://\";\n        } else if (isBrowser(\"firefox\")) {\n          options.returnStrategy = \"firefox://\";\n        } else if (isBrowser(\"opera\")) {\n          options.returnStrategy = \"opera-http://\";\n        } else {\n          options.returnStrategy = \"none\";\n        }\n      }\n      const linkWitStrategy = addReturnStrategy(universalLink, options.returnStrategy);\n      const useDeepLink = !!deepLink && !options.forceRedirect;\n      if (useDeepLink) {\n        setOpenMethod(\"custom-deeplink\");\n        openDeeplinkWithFallback(toDeeplink(linkWitStrategy, deepLink), () => {\n          setOpenMethod(\"universal-link\");\n          openLinkBlank(linkWitStrategy);\n        });\n      } else {\n        setOpenMethod(\"universal-link\");\n        openLinkBlank(linkWitStrategy);\n      }\n    } else {\n      setOpenMethod(\"universal-link\");\n      openLinkBlank(addReturnStrategy(universalLink, options.returnStrategy));\n    }\n  }\n}\nfunction addQueryParameter(url, key, value) {\n  const parsed = new URL(url);\n  parsed.searchParams.append(key, value);\n  return parsed.toString();\n}\nconst imageUrl = \"data:image/png;base64,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\";\nvar _tmpl$$1 = /* @__PURE__ */ template$1(`<svg><path fill-rule=evenodd clip-rule=evenodd d=\"M96 51C96 75.8528 75.8528 96 51 96C26.1472 96 6 75.8528 6 51C6 26.1472 26.1472 6 51 6C75.8528 6 96 26.1472 96 51ZM102 51C102 79.1665 79.1665 102 51 102C22.8335 102 0 79.1665 0 51C0 22.8335 22.8335 0 51 0C79.1665 0 102 22.8335 102 51Z\"fill-opacity=0.2></svg>`, false, true), _tmpl$2 = /* @__PURE__ */ template$1(`<svg><path fill-rule=evenodd clip-rule=evenodd d=\"M6 51H0C0 79.1665 22.8335 102 51 102V96C26.1472 96 6 75.8528 6 51Z\"></svg>`, false, true);\nconst OKXLoaderIconWithLogo = (_) => {\n  return createComponent(LoaderContainerStyled$1, {\n    get children() {\n      return [createComponent(LoaderStyled, {}), createComponent(OKIconStyle, {\n        src: imageUrl\n      })];\n    }\n  });\n};\nconst OKXIconWithLogo = (_) => {\n  return createComponent(LoaderContainerStyled$1, {\n    get children() {\n      return createComponent(OKIconStyle, {\n        src: imageUrl\n      });\n    }\n  });\n};\nconst OKXLoaderIcon = (_) => {\n  const theme = useTheme();\n  const rotateAnimation = h`\n      0% {\n        transform: rotate(0deg);\n      }\n      100% {\n        transform: rotate(360deg);\n      }\n    `;\n  const RotatingSVG = styled.svg`\n    animation: ${rotateAnimation} 2s linear infinite;\n    transform-origin: center;\n  `;\n  return createComponent(RotatingSVG, {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: \"102\",\n    height: \"102\",\n    viewBox: \"0 0 102 102\",\n    fill: \"none\",\n    get children() {\n      return [(() => {\n        var _el$ = _tmpl$$1();\n        createRenderEffect(() => setAttribute(_el$, \"fill\", theme.colors.text.primary));\n        return _el$;\n      })(), (() => {\n        var _el$2 = _tmpl$2();\n        createRenderEffect(() => setAttribute(_el$2, \"fill\", theme.colors.text.primary));\n        return _el$2;\n      })()];\n    }\n  });\n};\nconst LoaderContainerStyled$1 = styled.div`\n  position: relative;\n  height: 102px;\n  width: 102px;\n`;\nconst LoaderStyled = styled(OKXLoaderIcon)`\n  height: 102px;\n  width: 102px;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n`;\nconst OKIconStyle = styled(Image)`\n  position: absolute;\n  width: 86px;\n  height: 86px;\n  border-radius: 44px;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n`;\nconst MobileConnectionQR = (props) => {\n  return [createComponent(H1Styled$1, {\n    translationKey: \"walletModal.mobileConnectionModal.OKXConnect\"\n  }), createComponent(QrCodeWrapper, {\n    get children() {\n      return [createComponent(Show, {\n        get when() {\n          return props.sessionConnecting();\n        },\n        get children() {\n          return createComponent(LoaderWrapper, {\n            get children() {\n              return createComponent(OKXLoaderIconWithLogo, {});\n            }\n          });\n        }\n      }), createComponent(Show, {\n        get when() {\n          return createMemo(() => props.universalLink !== null)() && !props.sessionConnecting();\n        },\n        get children() {\n          return createComponent(QRCode, {\n            imageUrl,\n            get sourceUrl() {\n              return addReturnStrategy(props.universalLink, \"none\");\n            },\n            disableCopy: true\n          });\n        }\n      })];\n    }\n  }), createComponent(H2Styled, {\n    translationKey: \"walletModal.mobileConnectionModal.scanQR\",\n    get translationValues() {\n      return {\n        name: props.walletInfo.name\n      };\n    },\n    get children() {\n      return [\"Scan the QR code below with your phone\\u2019s or \", createMemo(() => props.walletInfo.name), \"\\u2019s camera\"];\n    }\n  })];\n};\nstyled(H1)`\n  padding: 12px 64px;\n`;\nconst H1StyledMaxWidth = styled(H1)`\n  max-width: 262px;\n`;\nconst H1StyledRetry = styled(H1StyledMaxWidth)`\n  font-size: 14px;\n  color: ${(props) => props.theme.colors.text.primary};\n`;\nconst RetryButtonStyle = styled(Button)`\n  background-color: transparent;\n  color: ${(props) => props.theme.colors.text.primary};\n  padding: 0px;\n`;\nconst LoaderContainerStyled = styled.div`\n  margin: 30px 0;\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  gap: 16px;\n\n  ${media(\"mobile\")} {\n    height: 160px;\n    align-items: center;\n  }\n`;\nconst ErrorIconStyled = styled(ErrorIcon)`\n  margin-bottom: 16px;\n`;\nconst ButtonsContainerStyled = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  gap: 12px;\n`;\nconst ButtonsQRContainerStyled = styled.div`\n  background-color: ${(props) => props.theme.colors.text.primary};\n  height: 48px;\n  width: 262px;\n  justify-content: center;\n  border-radius: 24px;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n`;\nconst TextStyled$1 = styled(Text)`\n  max-width: 262px;\n  font-weight: 400;\n  font-size: 16px;\n  line-height: 20px;\n  text-align: center;\n  margin-top: 10px;\n  color: ${(props) => props.theme.colors.text.contrast};\n`;\nconst ContainedButton = styled(Button)`\n  height: 48px;\n  width: 262px;\n  border-radius: 999px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 12px 24px;\n`;\nconst ContainedPrimaryButton = styled(ContainedButton)`\n  background-color: ${(props) => props.theme.colors.text.primary};\n`;\nstyled(ContainedButton)`\n  background-color: transparent;\n  border-color: ${(props) => props.theme.colors.border.secondary};\n  border-width: 0.5px;\n  border-style: solid;\n`;\nconst ContainedPrimaryButtonText = styled(H1StyledMaxWidth)`\n  font-size: 14px;\n  color: ${(props) => props.theme.colors.background.primary};\n`;\nstyled(H1StyledMaxWidth)`\n  font-size: 14px;\n  color: ${(props) => props.theme.colors.text.primary};\n`;\nconst FooterStyled = styled.div`\n  padding: 16px;\n  display: flex;\n  align-items: center;\n  gap: 12px;\n  border-top: 0.5px solid\n    ${(props) => rgba(props.theme.colors.icon.secondary, 0.2)};\n  margin-top: 32px;\n`;\nconst ImageStyled = styled(Image)`\n  width: 32px;\n  height: 32px;\n  border-radius: 16px;\n`;\nconst FooterButton = styled(Link)`\n  margin-left: auto;\n  display: flex;\n`;\nconst FooterButtonCenter = styled.div`\n  display: flex;\n  gap: 8px;\n  align-items: center;\n  justify-content: center;\n`;\nconst ConnectAppTgModalPage = (props) => {\n  return [createComponent(ButtonsContainerStyled, {\n    get children() {\n      return [createComponent(OKXIconWithLogo, {}), createComponent(TextStyled$1, {\n        translationKey: \"walletModal.mobileConnectionModal.appAndTelegram.text\",\n        children: \"OKX Wallet supports OKX app and Telegram Mini Apps\"\n      })];\n    }\n  }), createComponent(ButtonsContainerStyled, {\n    get children() {\n      return [createComponent(ContainedPrimaryButton, {\n        get onClick() {\n          return props.onConnectApp;\n        },\n        get children() {\n          return createComponent(ContainedPrimaryButtonText, {\n            translationKey: \"walletModal.mobileConnectionModal.connectApp\",\n            children: \"Connect to OKX app\"\n          });\n        }\n      }), createComponent(ContainedPrimaryButton, {\n        get onClick() {\n          return props.onConnectMini;\n        },\n        get children() {\n          return createComponent(ContainedPrimaryButtonText, {\n            translationKey: \"walletModal.mobileConnectionModal.connectMini\",\n            children: \"Connect to Mini Apps\"\n          });\n        }\n      })];\n    }\n  })];\n};\nconst LoadingModalPage = (props) => {\n  return createComponent(LoaderContainerStyled, {\n    get children() {\n      return [createComponent(OKXLoaderIconWithLogo, {}), createComponent(Show, {\n        get when() {\n          return props.loadingTextTranslationKey || props.loadingTextTranslationKey;\n        },\n        get children() {\n          return createComponent(H1StyledMaxWidth, {\n            get translationKey() {\n              return props.loadingTextTranslationKey;\n            },\n            get children() {\n              return props.loadingText;\n            }\n          });\n        }\n      })];\n    }\n  });\n};\nconst Translation = (props) => {\n  const [t2] = useI18n();\n  return createMemo(() => {\n    var _a2;\n    return t2(props.translationKey, props.translationValues, (_a2 = props.children) == null ? void 0 : _a2.toString());\n  });\n};\nvar _tmpl$ = /* @__PURE__ */ template$1(`<svg width=40 height=12 viewBox=\"0 0 40 12\"fill=none xmlns=http://www.w3.org/2000/svg><g clip-path=url(#clip0_4356_43883)><path d=\"M11.7336 0H0.269322C0.198282 0 0.130151 0.0282212 0.0799182 0.0784542C0.0296852 0.128687 0.00146484 0.196817 0.00146484 0.267857V11.7321C0.00146484 11.8032 0.0296852 11.8713 0.0799182 11.9215C0.130151 11.9718 0.198282 12 0.269322 12H11.7336C11.8046 12 11.8728 11.9718 11.923 11.9215C11.9732 11.8713 12.0015 11.8032 12.0015 11.7321V0.267857C12.0015 0.196817 11.9732 0.128687 11.923 0.0784542C11.8728 0.0282212 11.8046 0 11.7336 0ZM8.00129 7.73303C8.00129 7.80407 7.97307 7.87221 7.92283 7.92244C7.8726 7.97267 7.80447 8.00089 7.73343 8.00089H4.26736C4.19632 8.00089 4.12819 7.97267 4.07795 7.92244C4.02772 7.87221 3.9995 7.80407 3.9995 7.73303V4.26643C3.9995 4.19539 4.02772 4.12726 4.07795 4.07702C4.12819 4.02679 4.19632 3.99857 4.26736 3.99857H7.73343C7.80447 3.99857 7.8726 4.02679 7.92283 4.07702C7.97307 4.12726 8.00129 4.19539 8.00129 4.26643V7.73303Z\"></path><path d=\"M35.7391 4.00018H32.2725C32.2015 4.00018 32.1333 4.0284 32.0831 4.07864C32.0329 4.12887 32.0046 4.197 32.0046 4.26804V7.73465C32.0046 7.80569 32.0329 7.87382 32.0831 7.92405C32.1333 7.97428 32.2015 8.0025 32.2725 8.0025H35.7391C35.8101 8.0025 35.8783 7.97428 35.9285 7.92405C35.9787 7.87382 36.007 7.80569 36.007 7.73465V4.26697C36.0067 4.19611 35.9783 4.12826 35.9281 4.07826C35.8779 4.02825 35.81 4.00018 35.7391 4.00018Z\"></path><path d=\"M31.7379 0H28.2713C28.2002 0 28.1321 0.0282212 28.0819 0.0784542C28.0316 0.128687 28.0034 0.196817 28.0034 0.267857V3.73446C28.0034 3.8055 28.0316 3.87364 28.0819 3.92387C28.1321 3.9741 28.2002 4.00232 28.2713 4.00232H31.7379C31.8089 4.00232 31.8771 3.9741 31.9273 3.92387C31.9775 3.87364 32.0057 3.8055 32.0057 3.73446V0.267857C32.0057 0.196817 31.9775 0.128687 31.9273 0.0784542C31.8771 0.0282212 31.8089 0 31.7379 0Z\"></path><path d=\"M39.7376 0H36.271C36.2 0 36.1319 0.0282212 36.0816 0.0784542C36.0314 0.128687 36.0032 0.196817 36.0032 0.267857V3.73446C36.0032 3.8055 36.0314 3.87364 36.0816 3.92387C36.1319 3.9741 36.2 4.00232 36.271 4.00232H39.7376C39.8087 4.00232 39.8768 3.9741 39.927 3.92387C39.9773 3.87364 40.0055 3.8055 40.0055 3.73446V0.267857C40.0055 0.232682 39.9986 0.19785 39.9851 0.165352C39.9716 0.132854 39.9519 0.103327 39.927 0.0784542C39.9022 0.0535813 39.8726 0.0338512 39.8401 0.0203901C39.8076 0.00692902 39.7728 0 39.7376 0Z\"></path><path d=\"M31.7379 7.99982H28.2713C28.2002 7.99982 28.1321 8.02804 28.0819 8.07827C28.0316 8.1285 28.0034 8.19663 28.0034 8.26767V11.7321C28.0034 11.8032 28.0316 11.8713 28.0819 11.9215C28.1321 11.9718 28.2002 12 28.2713 12H31.7379C31.8089 12 31.8771 11.9718 31.9273 11.9215C31.9775 11.8713 32.0057 11.8032 32.0057 11.7321V8.2666C32.0055 8.19575 31.9771 8.12789 31.9269 8.07789C31.8767 8.02789 31.8087 7.99982 31.7379 7.99982Z\"></path><path d=\"M39.7376 7.99982H36.271C36.2 7.99982 36.1319 8.02804 36.0816 8.07827C36.0314 8.1285 36.0032 8.19663 36.0032 8.26767V11.7321C36.0032 11.8032 36.0314 11.8713 36.0816 11.9215C36.1319 11.9718 36.2 12 36.271 12H39.7376C39.8087 12 39.8768 11.9718 39.927 11.9215C39.9773 11.8713 40.0055 11.8032 40.0055 11.7321V8.2666C40.0052 8.19575 39.9769 8.12789 39.9267 8.07789C39.8765 8.02789 39.8085 7.99982 39.7376 7.99982Z\"></path><path d=\"M25.733 0H22.2664C22.1954 0 22.1272 0.0282212 22.077 0.0784542C22.0268 0.128687 21.9985 0.196817 21.9985 0.267857V3.73446C21.9985 3.8055 22.0268 3.87364 22.077 3.92387C22.1272 3.9741 22.1954 4.00232 22.2664 4.00232H25.733C25.804 4.00232 25.8722 3.9741 25.9224 3.92387C25.9726 3.87364 26.0009 3.8055 26.0009 3.73446V0.267857C26.0009 0.196817 25.9726 0.128687 25.9224 0.0784542C25.8722 0.0282212 25.804 0 25.733 0Z\"></path><path d=\"M25.733 7.99982H22.2664C22.1954 7.99982 22.1272 8.02804 22.077 8.07827C22.0268 8.1285 21.9985 8.19663 21.9985 8.26767V11.7321C21.9985 11.8032 22.0268 11.8713 22.077 11.9215C22.1272 11.9718 22.1954 12 22.2664 12H25.733C25.804 12 25.8722 11.9718 25.9224 11.9215C25.9726 11.8713 26.0009 11.8032 26.0009 11.7321V8.2666C26.0006 8.19575 25.9722 8.12789 25.922 8.07789C25.8718 8.02789 25.8039 7.99982 25.733 7.99982Z\"></path><path d=\"M21.9996 4.26375C21.9996 4.19271 21.9714 4.12458 21.9212 4.07435C21.8709 4.02411 21.8028 3.99589 21.7317 3.99589H17.9994V0.267857C17.9994 0.196817 17.9712 0.128687 17.921 0.0784542C17.8707 0.0282212 17.8026 0 17.7316 0H14.2687C14.1977 0 14.1295 0.0282212 14.0793 0.0784542C14.0291 0.128687 14.0009 0.196817 14.0009 0.267857V11.7273C14.0009 11.7984 14.0291 11.8665 14.0793 11.9167C14.1295 11.967 14.1977 11.9952 14.2687 11.9952H17.7353C17.8064 11.9952 17.8745 11.967 17.9247 11.9167C17.975 11.8665 18.0032 11.7984 18.0032 11.7273V7.99661H21.7366C21.8076 7.99661 21.8757 7.96839 21.926 7.91815C21.9762 7.86792 22.0044 7.79979 22.0044 7.72875L21.9996 4.26375Z\"></path></g><defs><clipPath id=clip0_4356_43883><rect width=40.0039 height=12 fill=white>`);\nconst OKXLogo = (props) => {\n  const theme = useTheme();\n  const fill = () => props.fill || theme.colors.disable;\n  return (() => {\n    var _el$ = _tmpl$(), _el$2 = _el$.firstChild, _el$3 = _el$2.firstChild, _el$4 = _el$3.nextSibling, _el$5 = _el$4.nextSibling, _el$6 = _el$5.nextSibling, _el$7 = _el$6.nextSibling, _el$8 = _el$7.nextSibling, _el$9 = _el$8.nextSibling, _el$10 = _el$9.nextSibling, _el$11 = _el$10.nextSibling;\n    createRenderEffect((_p$) => {\n      var _v$ = fill(), _v$2 = fill(), _v$3 = fill(), _v$4 = fill(), _v$5 = fill(), _v$6 = fill(), _v$7 = fill(), _v$8 = fill(), _v$9 = fill();\n      _v$ !== _p$.e && setAttribute(_el$3, \"fill\", _p$.e = _v$);\n      _v$2 !== _p$.t && setAttribute(_el$4, \"fill\", _p$.t = _v$2);\n      _v$3 !== _p$.a && setAttribute(_el$5, \"fill\", _p$.a = _v$3);\n      _v$4 !== _p$.o && setAttribute(_el$6, \"fill\", _p$.o = _v$4);\n      _v$5 !== _p$.i && setAttribute(_el$7, \"fill\", _p$.i = _v$5);\n      _v$6 !== _p$.n && setAttribute(_el$8, \"fill\", _p$.n = _v$6);\n      _v$7 !== _p$.s && setAttribute(_el$9, \"fill\", _p$.s = _v$7);\n      _v$8 !== _p$.h && setAttribute(_el$10, \"fill\", _p$.h = _v$8);\n      _v$9 !== _p$.r && setAttribute(_el$11, \"fill\", _p$.r = _v$9);\n      return _p$;\n    }, {\n      e: void 0,\n      t: void 0,\n      a: void 0,\n      o: void 0,\n      i: void 0,\n      n: void 0,\n      s: void 0,\n      h: void 0,\n      r: void 0\n    });\n    return _el$;\n  })();\n};\nconst ModalFooter = (props) => {\n  const theme = useTheme();\n  const onDownloadClick = () => {\n    core.reportEvent(core.OKXReportType.CLICK, core.Report_ChooseType_Download_Click, \"\");\n  };\n  return [createComponent(FooterStyled, {\n    get children() {\n      return [createComponent(ImageStyled, {\n        src: imageUrl\n      }), createComponent(H3, {\n        get children() {\n          return props.wallet.name;\n        }\n      }), createComponent(FooterButton, {\n        get href() {\n          return props.wallet.aboutUrl;\n        },\n        onClick: onDownloadClick,\n        blank: true,\n        get children() {\n          return [createComponent(Text, {\n            get color() {\n              return theme.colors.text.contrast;\n            },\n            get children() {\n              return createComponent(Translation, {\n                translationKey: \"common.get\",\n                children: \"GET\"\n              });\n            }\n          }), createComponent(ArrowIcon, {\n            direction: \"right\"\n          })];\n        }\n      })];\n    }\n  }), createComponent(FooterButtonCenter, {\n    get children() {\n      return [createComponent(Text, {\n        get color() {\n          return theme.colors.disable;\n        },\n        get children() {\n          return createComponent(Translation, {\n            translationKey: \"walletModal.mobileConnectionModal.PoweredBy\",\n            children: \"PoweredBy\"\n          });\n        }\n      }), createComponent(OKXLogo, {})];\n    }\n  })];\n};\nconst ModalRetryButton = (props) => {\n  return createComponent(RetryButtonStyle, {\n    get leftIcon() {\n      return createComponent(RetryIcon, {});\n    },\n    get onClick() {\n      return props.onRetry;\n    },\n    get children() {\n      return createComponent(H1StyledRetry, {\n        translationKey: \"common.retry\",\n        children: \"Retry\"\n      });\n    }\n  });\n};\nconst ConnectionDeclinedModalPage = (props) => {\n  return [createComponent(ErrorIconStyled, {\n    size: \"s\"\n  }), createComponent(H1StyledMaxWidth, {\n    translationKey: \"walletModal.mobileConnectionModal.connectionDeclined\",\n    children: \"Connection declined\"\n  }), createComponent(Show, {\n    get when() {\n      return props.showRetry;\n    },\n    get children() {\n      return createComponent(ButtonsContainerStyled, {\n        get children() {\n          return createComponent(ModalRetryButton, {\n            get onRetry() {\n              return props.onRetry;\n            }\n          });\n        }\n      });\n    }\n  })];\n};\nconst ContinueInWalletModalPage = (props) => {\n  const theme = useTheme();\n  return [createComponent(ButtonsContainerStyled, {\n    get children() {\n      return [createComponent(OKXLoaderIconWithLogo, {}), createComponent(H1StyledMaxWidth, {\n        translationKey: \"walletModal.mobileConnectionModal.continueIn\",\n        children: \"Continue the transaction in OKX Wallet\"\n      })];\n    }\n  }), createComponent(ButtonsContainerStyled, {\n    get children() {\n      return [createComponent(ButtonsQRContainerStyled, {\n        get onClick() {\n          return props.onOpenQR;\n        },\n        get children() {\n          return [createComponent(QRIcon, {\n            get fill() {\n              return theme.colors.background.primary;\n            }\n          }), createComponent(ContainedPrimaryButtonText, {\n            translationKey: \"walletModal.mobileConnectionModal.showQR\",\n            children: \"Show QR Codes\"\n          })];\n        }\n      }), createComponent(ModalRetryButton, {\n        get onRetry() {\n          return props.onRetry;\n        }\n      })];\n    }\n  })];\n};\nconst MobileConnectionModal = (props) => {\n  useTheme();\n  const [firstClick, setFirstClick] = createSignal(true);\n  const [showQR, setShowQR] = createSignal(false);\n  const [connectClicked, setConnectClicked] = createSignal(false);\n  const showAppAndTgState = createMemo(() => !props.isSingleWallet && !connectClicked());\n  const [appDeepLink, setAppDeepLink] = createSignal(null);\n  const [miniUniversalLink, setMiniUniversalLink] = createSignal(null);\n  const [qrLink, setQrLink] = createSignal(null);\n  const okxConnectUI = useContext(OKXConnectUiContext);\n  var lastActionBtnShowState;\n  var lastQRViewShowState;\n  let showLoading = () => props.universalLinkParams() === null && !props.connectError();\n  var lastLoadingState;\n  createEffect(() => {\n    var _a2, _b2;\n    var info = props.universalLinkParams();\n    const showState = showAppAndTgState();\n    const showQRState = showQR();\n    const showLoadingState = showLoading();\n    if (showState != lastActionBtnShowState && !showQRState && !showLoadingState) {\n      if (showState) {\n        core.reportEvent(core.OKXReportType.PAGE_IN, core.Report_Proceed_Proceed_View, \"\");\n        core.reportEvent(core.OKXReportType.PAGE_OUT, core.Report_ChooseType_ConnectWallet_View, \"\");\n      } else {\n        core.reportEvent(core.OKXReportType.PAGE_OUT, core.Report_Proceed_Proceed_View, \"\");\n        core.reportEvent(core.OKXReportType.PAGE_IN, core.Report_ChooseType_ConnectWallet_View, \"\");\n      }\n      lastActionBtnShowState = showState;\n    }\n    if (showQRState != lastQRViewShowState && !showLoadingState) {\n      if (showQRState) {\n        core.reportEvent(core.OKXReportType.PAGE_IN, core.Report_Proceed_QRCode_View, \"\");\n      } else {\n        core.reportEvent(core.OKXReportType.PAGE_OUT, core.Report_Proceed_QRCode_View, \"\");\n      }\n      lastQRViewShowState = showQRState;\n    }\n    if (showLoadingState != lastLoadingState) {\n      if (showLoadingState) {\n        core.reportEvent(core.OKXReportType.PAGE_IN, core.Report_Loading_ConnectWallet_View, \"\");\n      } else {\n        core.reportEvent(core.OKXReportType.PAGE_OUT, core.Report_Loading_ConnectWallet_View, \"\");\n      }\n      lastLoadingState = showLoadingState;\n    }\n    if (info) {\n      props.setLastSelectedWalletInfo(__spreadProps(__spreadValues({}, props.wallet), {\n        openMethod: \"universal-link\"\n      }));\n      core.logDebug(`createEffect  ${JSON.stringify(info)}`);\n      var connectRequest = info.connectRequest;\n      var tonConnectRequest = info.tonConnectRequest;\n      if (!tonConnectRequest) {\n        tonConnectRequest = connectRequest;\n      }\n      var qrLink2 = \"\";\n      var appDeepLink2 = \"\";\n      if (connectRequest) {\n        if (core.useShortLink()) {\n          var shortUniversalLink = core.getOKXLink(connectRequest);\n          setQrLink(shortUniversalLink);\n          setAppDeepLink(shortUniversalLink);\n        } else {\n          var encodeParams = core.encodeConnectParams(__spreadProps(__spreadValues({}, tonConnectRequest), {\n            redirect: \"none\"\n          }));\n          qrLink2 = core.getUniversalLink(core.getAppWalletDeepLink(encodeParams));\n          setQrLink(qrLink2);\n          var appConnectEncodeParams = core.encodeConnectParams(__spreadProps(__spreadValues({}, tonConnectRequest), {\n            redirect: (_a2 = info.redirect) != null ? _a2 : \"none\"\n          }));\n          appDeepLink2 = core.getAppWalletDeepLink(appConnectEncodeParams);\n          setAppDeepLink(appDeepLink2);\n        }\n        var encodeTGParams = core.encodeTWAConnectURLParams(__spreadProps(__spreadValues({}, connectRequest), {\n          redirect: \"none\"\n        }));\n        var tgUrl = core.getTelegramWalletTWAUrl(encodeTGParams, (_b2 = info.tmaReturnUrl) != null ? _b2 : \"back\");\n        setMiniUniversalLink(tgUrl);\n        core.logDebug(`setUniversalLink  ${appDeepLink2}   tgUrl  ${tgUrl}    qrLink ${qrLink2}`);\n      }\n    }\n    if (props.connectError()) {\n      setShowQR(false);\n    }\n  });\n  onMount(() => __async(exports, null, function* () {\n    try {\n      yield props.connect().catch((error) => core.logDebug(`MobileConnectionModal onMount error ${JSON.stringify(error)}`));\n    } catch (error) {\n      console.error(\"Error while connecting:\", error);\n    }\n  }));\n  const onRetry = () => {\n    setConnectClicked(false);\n    !firstClick();\n    setFirstClick(false);\n    core.reportEvent(core.OKXReportType.CLICK, core.Report_Proceed_Retry_Click, \"\");\n    try {\n      props.connect();\n    } catch (error) {\n      console.error(\"Error while connecting:\", error);\n    }\n  };\n  const onOpenQR = () => {\n    core.reportEvent(core.OKXReportType.CLICK, core.Report_Proceed_QRCode_Click, \"\");\n    setShowQR(true);\n    props.setLastSelectedWalletInfo(__spreadProps(__spreadValues({}, props.wallet), {\n      openMethod: \"qrcode\"\n    }));\n  };\n  const onCloseQR = () => {\n    setShowQR(false);\n    props.setLastSelectedWalletInfo(__spreadProps(__spreadValues({}, props.wallet), {\n      openMethod: \"universal-link\"\n    }));\n  };\n  const onBack = () => {\n    if (showQR()) {\n      onCloseQR();\n    } else {\n      props.onBackClick();\n    }\n  };\n  const onConnectApp = () => {\n    core.reportEvent(core.OKXReportType.CLICK, core.Report_ChooseType_ConnectWallet_Click, JSON.stringify({\n      Report_WalletType_Key: \"app\"\n    }));\n    setConnectClicked(true);\n    if (core.useShortLink()) {\n      core.openOKXUniversalLink(appDeepLink());\n    } else {\n      core.openOKXDeeplinkWithFallback(appDeepLink());\n    }\n  };\n  const onConnectMini = () => {\n    core.reportEvent(core.OKXReportType.CLICK, core.Report_ChooseType_ConnectWallet_Click, JSON.stringify({\n      Report_WalletType_Key: \"tgminiwallet\"\n    }));\n    okxConnectUI == null ? void 0 : okxConnectUI.closeModal();\n    core.openOKXTMAWalletlinkWithFallback(miniUniversalLink());\n  };\n  return createComponent(MobileConnectionModalStyled$1, {\n    \"data-tc-wallets-modal-connection-mobile\": \"true\",\n    get children() {\n      return [createComponent(Show, {\n        get when() {\n          return !props.backDisabled || showQR();\n        },\n        get children() {\n          return createComponent(StyledIconButton, {\n            icon: \"arrow\",\n            onClick: onBack\n          });\n        }\n      }), createComponent(Show, {\n        get when() {\n          return createMemo(() => props.universalLinkParams() === null)() && !props.connectError();\n        },\n        get children() {\n          return [createComponent(H1Styled$1, {\n            children: \"OKX Connect\"\n          }), createComponent(LoadingModalPage, {}), createComponent(ModalFooter, {\n            get wallet() {\n              return props.wallet;\n            }\n          })];\n        }\n      }), createComponent(Show, {\n        get when() {\n          return props.universalLinkParams() !== null || props.connectError();\n        },\n        get children() {\n          return [createComponent(Show, {\n            get when() {\n              return createMemo(() => !!showQR())() && !props.connectError();\n            },\n            get children() {\n              return createComponent(MobileConnectionQR, {\n                get universalLink() {\n                  return qrLink();\n                },\n                get walletInfo() {\n                  return props.wallet;\n                },\n                get sessionConnecting() {\n                  return props.sessionConnecting;\n                }\n              });\n            }\n          }), createComponent(Show, {\n            get when() {\n              return !showQR();\n            },\n            get children() {\n              return [createComponent(H1Styled$1, {\n                children: \"OKX Connect\"\n              }), createComponent(BodyStyled$1, {\n                get isDeclined() {\n                  return props.connectError();\n                },\n                get children() {\n                  return [createComponent(Show, {\n                    get when() {\n                      return props.connectError();\n                    },\n                    get children() {\n                      return createComponent(ConnectionDeclinedModalPage, {\n                        onRetry,\n                        get showRetry() {\n                          return props.showRetry;\n                        }\n                      });\n                    }\n                  }), createComponent(Show, {\n                    get when() {\n                      return !props.connectError();\n                    },\n                    get children() {\n                      return [createComponent(Show, {\n                        get when() {\n                          return showAppAndTgState();\n                        },\n                        get children() {\n                          return createComponent(ConnectAppTgModalPage, {\n                            onConnectApp,\n                            onConnectMini\n                          });\n                        }\n                      }), createComponent(Show, {\n                        get when() {\n                          return !showAppAndTgState();\n                        },\n                        get children() {\n                          return createComponent(ContinueInWalletModalPage, {\n                            onOpenQR,\n                            onRetry\n                          });\n                        }\n                      })];\n                    }\n                  })];\n                }\n              }), createComponent(ModalFooter, {\n                get wallet() {\n                  return props.wallet;\n                }\n              })];\n            }\n          })];\n        }\n      })];\n    }\n  });\n};\nconst MobileConnectionModalStyled = styled.div``;\nconst BodyStyled = styled.div`\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  min-height: 200px;\n  gap: 24px;\n`;\nconst DesktopConnectionModal = (props) => {\n  useTheme();\n  const [firstClick, setFirstClick] = createSignal(true);\n  const [showQR, setShowQR] = createSignal(false);\n  const [walletType, setWalletType] = createSignal(null);\n  const showAppAndTgState = createMemo(() => !props.isSingleWallet && walletType() === null);\n  const [miniUniversalLink, setMiniUniversalLink] = createSignal(null);\n  const okxConnectUI = useContext(OKXConnectUiContext);\n  var lastActionBtnShowState;\n  let showLoading = () => props.universalLinkParams() === null && !props.connectError();\n  var lastLoadingState;\n  createEffect(() => {\n    var _a2;\n    core.logDebug(\"TON customEvent.detail  :::\", createEffect);\n    var info = props.universalLinkParams();\n    core.logDebug(\"TON customEvent.detail  :::\", JSON.stringify(info));\n    const showState = showAppAndTgState();\n    const showLoadingState = showLoading();\n    if (showState != lastActionBtnShowState && !showLoadingState) {\n      if (showState) {\n        core.reportEvent(core.OKXReportType.PAGE_IN, core.Report_ChooseType_ConnectWallet_View, \"\");\n        core.reportEvent(core.OKXReportType.PAGE_OUT, core.Report_Proceed_QRCode_View, \"\");\n      } else {\n        core.reportEvent(core.OKXReportType.PAGE_OUT, core.Report_ChooseType_ConnectWallet_View, \"\");\n        core.reportEvent(core.OKXReportType.PAGE_IN, core.Report_Proceed_QRCode_View, \"\");\n      }\n      lastActionBtnShowState = showState;\n    }\n    if (showLoadingState != lastLoadingState) {\n      if (showLoadingState) {\n        core.reportEvent(core.OKXReportType.PAGE_IN, core.Report_Loading_ConnectWallet_View, \"\");\n      } else {\n        core.reportEvent(core.OKXReportType.PAGE_OUT, core.Report_Loading_ConnectWallet_View, \"\");\n      }\n      lastLoadingState = showLoadingState;\n    }\n    if (info) {\n      props.setLastSelectedWalletInfo(__spreadProps(__spreadValues({}, props.wallet), {\n        openMethod: \"universal-link\"\n      }));\n      var connectRequest = info.connectRequest;\n      var tonConnectRequest = info.tonConnectRequest;\n      if (!tonConnectRequest) {\n        tonConnectRequest = connectRequest;\n      }\n      if (connectRequest) {\n        var qrLink2 = \"\";\n        if (core.useShortLink()) {\n          qrLink2 = core.getOKXLink(connectRequest);\n        } else {\n          var encodeParams = core.encodeConnectParams(__spreadProps(__spreadValues({}, tonConnectRequest), {\n            redirect: \"none\"\n          }));\n          qrLink2 = core.getAppWalletDeepLink(encodeParams);\n        }\n        setQrLink(qrLink2);\n        var encodeTGParams = core.encodeTWAConnectURLParams(connectRequest);\n        var tgUrl = core.getTelegramWalletTWAUrl(encodeTGParams, (_a2 = info.tmaReturnUrl) != null ? _a2 : \"back\");\n        setMiniUniversalLink(tgUrl);\n        core.logDebug(`DesktopConnectionModal  setUniversalLink  tgUrl  ${tgUrl}    qrLink ${qrLink2}`);\n      }\n    }\n    if (props.connectError()) {\n      setShowQR(false);\n    }\n  });\n  const [qrLink, setQrLink] = createSignal(null);\n  onMount(() => __async(exports, null, function* () {\n    try {\n      yield props.connect().catch((error) => core.logDebug(\"DesktopConnectionModal connect catch error \", JSON.stringify(error)));\n    } catch (error) {\n      core.logDebug(\"DesktopConnectionModal connect  error \", JSON.stringify(error));\n    }\n  }));\n  const onRetry = () => {\n    setWalletType(null);\n    !firstClick();\n    setFirstClick(false);\n    core.reportEvent(core.OKXReportType.CLICK, core.Report_Proceed_Retry_Click, \"\");\n    try {\n      props.connect();\n    } catch (error) {\n      console.error(\"Error while connecting:\", error);\n    }\n  };\n  const onOpenQR = () => {\n    core.reportEvent(core.OKXReportType.CLICK, core.Report_Proceed_QRCode_Click, \"\");\n    setShowQR(true);\n    props.setLastSelectedWalletInfo(__spreadProps(__spreadValues({}, props.wallet), {\n      openMethod: \"qrcode\"\n    }));\n  };\n  const onConnectApp = () => {\n    core.reportEvent(core.OKXReportType.CLICK, core.Report_ChooseType_ConnectWallet_Click, btoa(JSON.stringify({\n      Report_WalletType_Key: \"app\"\n    })));\n    setQrLink(qrLink());\n    setWalletType(\"app\");\n    onOpenQR();\n  };\n  const onConnectMini = () => {\n    core.logDebug(\"desktop on connect mini\");\n    core.reportEvent(core.OKXReportType.CLICK, core.Report_ChooseType_ConnectWallet_Click, btoa(JSON.stringify({\n      Report_WalletType_Key: \"tgminiwallet\"\n    })));\n    okxConnectUI == null ? void 0 : okxConnectUI.closeModal();\n    core.openOKXTMAWalletlinkWithFallback(miniUniversalLink());\n  };\n  return createComponent(MobileConnectionModalStyled, {\n    \"data-tc-wallets-modal-connection-mobile\": \"true\",\n    get children() {\n      return [createComponent(Show, {\n        get when() {\n          return props.universalLinkParams() === null || props.connectError() || showAppAndTgState();\n        },\n        get children() {\n          return createComponent(H1Styled$1, {\n            children: \"OKX Connect\"\n          });\n        }\n      }), createComponent(Show, {\n        get when() {\n          return createMemo(() => props.universalLinkParams() === null)() && !props.connectError();\n        },\n        get children() {\n          return [createComponent(LoadingModalPage, {}), createComponent(ModalFooter, {\n            get wallet() {\n              return props.wallet;\n            }\n          })];\n        }\n      }), createComponent(Show, {\n        get when() {\n          return props.universalLinkParams() !== null || props.connectError();\n        },\n        get children() {\n          return [createComponent(Show, {\n            get when() {\n              return props.connectError();\n            },\n            get children() {\n              return createComponent(BodyStyled, {\n                get children() {\n                  return createComponent(ConnectionDeclinedModalPage, {\n                    onRetry,\n                    get showRetry() {\n                      return props.showRetry;\n                    }\n                  });\n                }\n              });\n            }\n          }), createComponent(Show, {\n            get when() {\n              return !props.connectError();\n            },\n            get children() {\n              return [createComponent(Show, {\n                get when() {\n                  return !showAppAndTgState();\n                },\n                get children() {\n                  return createComponent(MobileConnectionQR, {\n                    get universalLink() {\n                      return qrLink();\n                    },\n                    get walletInfo() {\n                      return props.wallet;\n                    },\n                    get sessionConnecting() {\n                      return props.sessionConnecting;\n                    }\n                  });\n                }\n              }), createComponent(Show, {\n                get when() {\n                  return showAppAndTgState();\n                },\n                get children() {\n                  return createComponent(BodyStyled, {\n                    get children() {\n                      return createComponent(ConnectAppTgModalPage, {\n                        onConnectApp,\n                        onConnectMini\n                      });\n                    }\n                  });\n                }\n              })];\n            }\n          }), createComponent(ModalFooter, {\n            get wallet() {\n              return props.wallet;\n            }\n          })];\n        }\n      })];\n    }\n  });\n};\nconst SingleWalletModal = (props) => {\n  const {\n    locale\n  } = useI18n()[1];\n  createEffect(() => locale(props.language));\n  createEffect(() => {\n    if (props.opened) {\n      updateIsMobile();\n    }\n  });\n  return createComponent(StyledModal, {\n    get opened() {\n      return props.opened;\n    },\n    onClose: () => props.onClose(\"action-cancelled\"),\n    \"data-tc-wallets-modal-container\": \"true\",\n    get children() {\n      return [createComponent(Show, {\n        get when() {\n          return props.loadingBeforeConnect();\n        },\n        get children() {\n          return [createComponent(H1Styled$1, {\n            get children() {\n              var _a2;\n              return (_a2 = props.walletInfo) == null ? void 0 : _a2.name;\n            }\n          }), createComponent(LoadingModalPage, {})];\n        }\n      }), createComponent(Show, {\n        get when() {\n          return !props.loadingBeforeConnect();\n        },\n        get children() {\n          return createComponent(Dynamic, {\n            get component() {\n              return isMobile() ? MobileConnectionModal : DesktopConnectionModal;\n            },\n            get wallet() {\n              return props.walletInfo;\n            },\n            onBackClick: () => {\n            },\n            backDisabled: true,\n            get connect() {\n              return props.connect;\n            },\n            get isSingleWallet() {\n              return props.isSingleWallet;\n            },\n            get universalLinkParams() {\n              return props.universalLinkParams;\n            },\n            get lastSelectedWalletInfo() {\n              return props.lastSelectedWalletInfo;\n            },\n            get setLastSelectedWalletInfo() {\n              return props.setLastSelectedWalletInfo;\n            },\n            get connectError() {\n              return props.connectError;\n            },\n            get showRetry() {\n              return props.showRetry;\n            },\n            get sessionConnecting() {\n              return props.sessionConnecting;\n            }\n          });\n        }\n      })];\n    }\n  });\n};\nconst TonSingleWalletModal = () => {\n  const tonConnectUI = useContext(OKXConnectUiContext);\n  const connector = useContext(ConnectorContext);\n  const [connectError, setConnectError] = createSignal(false);\n  const [sessionConnecting, setSessionConnecting] = createSignal(false);\n  const additionalRequestLoading = () => {\n    var _a2;\n    return ((_a2 = tonAppState.connectRequestParameters) == null ? void 0 : _a2.state) === \"loading\";\n  };\n  const [universalLinkParams, setUniversalLinkParams] = createSignal(null);\n  window.addEventListener(\"okx-ton-connect-connection-info-before-jump\", (event) => {\n    const customEvent = event;\n    core.logDebug(\"TON   :::\", JSON.stringify(customEvent.detail));\n    if (customEvent.detail && \"connectInfo\" in customEvent.detail) {\n      setUniversalLinkParams(customEvent.detail.connectInfo);\n    }\n  });\n  const additionalRequest = createMemo(() => {\n    var _a2;\n    if (additionalRequestLoading()) {\n      return void 0;\n    }\n    return (_a2 = tonAppState.connectRequestParameters) == null ? void 0 : _a2.value;\n  });\n  const onClose = (closeReason) => {\n    tonConnectUI.closeModal(closeReason);\n  };\n  const unsubscribe = connector.onStatusChange((wallet) => {\n    if (wallet) {\n      onClose(\"wallet-selected\");\n    }\n  }, () => {\n    setConnectError(true);\n  });\n  onCleanup(unsubscribe);\n  return createComponent(SingleWalletModal, {\n    get opened() {\n      return getTonSingleWalletModalIsOpened();\n    },\n    get walletInfo() {\n      return getTonSingleWalletModalWalletInfo();\n    },\n    loadingBeforeConnect: () => {\n      var _a2;\n      return ((_a2 = tonAppState.connectRequestParameters) == null ? void 0 : _a2.state) === \"loading\";\n    },\n    connect: () => {\n      return new Promise((resolve, reject) => {\n        setUniversalLinkParams(null);\n        setConnectError(false);\n        tonConnectUI.handleConnect((actionConfiguration) => __async(exports, null, function* () {\n          var _a2;\n          return yield connector.connect({\n            openUniversalLink: defaultOpenTonUniversalLink(),\n            tonProof: (_a2 = additionalRequest()) == null ? void 0 : _a2.tonProof,\n            redirect: actionConfiguration == null ? void 0 : actionConfiguration.returnStrategy,\n            tmaReturnUrl: actionConfiguration == null ? void 0 : actionConfiguration.tmaReturnUrl\n          });\n        })).then((url) => {\n          resolve(url);\n        }).catch((error) => {\n          onClose(\"action-cancelled\");\n          core.logDebug(\"TonSingleWalletModal connect error\", JSON.stringify(error));\n          reject(error);\n        });\n      });\n    },\n    onClose,\n    universalLinkParams,\n    get isSingleWallet() {\n      return !showTonTgWallet();\n    },\n    get lastSelectedWalletInfo() {\n      return lastTonSelectedWalletInfo();\n    },\n    setLastSelectedWalletInfo: setLastTonSelectedWalletInfo,\n    get language() {\n      return tonAppState.language;\n    },\n    connectError,\n    showRetry: true,\n    sessionConnecting\n  });\n};\nconst common$j = {\n  openWallet: \"Open wallet\",\n  get: \"Get\",\n  close: \"Close\",\n  retry: \"Retry\"\n};\nconst button$j = {\n  connectWallet: \"Connect wallet\",\n  dropdown: {\n    copy: \"Copy address\",\n    copied: \"Address copied\",\n    disconnect: \"Disconnect\"\n  }\n};\nconst notifications$j = {\n  confirm: {\n    header: \"Open {{ name }} to\\xA0confirm.\"\n  },\n  transactionSent: {\n    header: \"Sent\",\n    text: \"This action\\xA0will be\\xA0completed in\\xA0a\\xA0few seconds.\"\n  },\n  transactionCanceled: {\n    header: \"Canceled\",\n    text: \"There\\u2019ll be no changes to your account.\"\n  }\n};\nconst walletModal$j = {\n  mobileConnectionModal: {\n    OKXConnect: \"OKX Connect\",\n    showQR: \"Show QR Code\",\n    scanQR: \"Scan the\\xA0QR code below with your phone\\u2019s\\xA0or\\xA0{{ name }}\\u2019s camera\",\n    continueIn: \"Proceed in OKX Wallet\",\n    connectionDeclined: \"Connection failed\",\n    PoweredBy: \"Powered by\",\n    appAndTelegram: {\n      header: \"Connect to OKX Wallet\",\n      text: \"OKX Wallet is available on OKX App and Telegram\"\n    },\n    connectApp: \"Connect to OKX App\",\n    connectMini: \"Connect to OKX Mini Wallet\"\n  }\n};\nconst actionModal$j = {\n  confirmTransaction: {\n    header: \"Confirm in\\xA0{{ name }}\",\n    text: \"It\\u2019ll only take a moment.\"\n  },\n  transactionSent: \"$notifications.transactionSent\",\n  transactionCanceled: \"$notifications.transactionCanceled\"\n};\nconst en = {\n  common: common$j,\n  button: button$j,\n  notifications: notifications$j,\n  walletModal: walletModal$j,\n  actionModal: actionModal$j\n};\nconst common$i = {\n  openWallet: \"\\u041E\\u0442\\u043A\\u0440\\u044B\\u0442\\u044C \\u043A\\u043E\\u0448\\u0435\\u043B\\u0435\\u043A\",\n  get: \"\\u041F\\u041E\\u041B\\u0423\\u0427\\u0418\\u0422\\u042C\",\n  close: \"\\u0417\\u0430\\u043A\\u0440\\u044B\\u0442\\u044C\",\n  retry: \"\\u041F\\u043E\\u0432\\u0442\\u043E\\u0440\\u0438\\u0442\\u044C \\u043F\\u043E\\u043F\\u044B\\u0442\\u043A\\u0443\"\n};\nconst button$i = {\n  connectWallet: \"\\u041F\\u043E\\u0434\\u043A\\u043B\\u044E\\u0447\\u0438\\u0442\\u044C \\u043A\\u043E\\u0448\\u0435\\u043B\\u0435\\u043A\",\n  dropdown: {\n    copy: \"\\u0421\\u043A\\u043E\\u043F\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C \\u0430\\u0434\\u0440\\u0435\\u0441\",\n    copied: \"\\u0410\\u0434\\u0440\\u0435\\u0441 \\u0441\\u043A\\u043E\\u043F\\u0438\\u0440\\u043E\\u0432\\u0430\\u043D.\",\n    disconnect: \"\\u041E\\u0442\\u043A\\u043B\\u044E\\u0447\\u0438\\u0442\\u044C\"\n  }\n};\nconst notifications$i = {\n  confirm: {\n    header: \"\\u041E\\u0442\\u043A\\u0440\\u043E\\u0439\\u0442\\u0435 {{ name }} \\u0434\\u043B\\u044F \\u043F\\u043E\\u0434\\u0442\\u0432\\u0435\\u0440\\u0436\\u0434\\u0435\\u043D\\u0438\\u044F \\u0442\\u0440\\u0430\\u043D\\u0437\\u0430\\u043A\\u0446\\u0438\\u0438.\"\n  },\n  transactionSent: {\n    header: \"\\u0422\\u0440\\u0430\\u043D\\u0437\\u0430\\u043A\\u0446\\u0438\\u044F \\u043E\\u0442\\u043F\\u0440\\u0430\\u0432\\u043B\\u0435\\u043D\\u0430\",\n    text: \"\\u0422\\u0440\\u0430\\u043D\\u0437\\u0430\\u043A\\u0446\\u0438\\u044F \\u0431\\u0443\\u0434\\u0435\\u0442 \\u043E\\u0431\\u0440\\u0430\\u0431\\u043E\\u0442\\u0430\\u043D\\u0430 \\u0447\\u0435\\u0440\\u0435\\u0437 \\u043D\\u0435\\u0441\\u043A\\u043E\\u043B\\u044C\\u043A\\u043E \\u0441\\u0435\\u043A\\u0443\\u043D\\u0434.\"\n  },\n  transactionCanceled: {\n    header: \"\\u0422\\u0440\\u0430\\u043D\\u0437\\u0430\\u043A\\u0446\\u0438\\u044F \\u043E\\u0442\\u043C\\u0435\\u043D\\u0435\\u043D\\u0430\",\n    text: \"\\u0418\\u0437\\u043C\\u0435\\u043D\\u0435\\u043D\\u0438\\u0439 \\u0432 \\u0430\\u043A\\u043A\\u0430\\u0443\\u043D\\u0442\\u0435 \\u043D\\u0435 \\u0431\\u0443\\u0434\\u0435\\u0442.\"\n  }\n};\nconst walletModal$i = {\n  mobileConnectionModal: {\n    showQR: \"\\u041F\\u043E\\u043A\\u0430\\u0437\\u0430\\u0442\\u044C QR-\\u043A\\u043E\\u0434\",\n    scanQR: \"\\u041E\\u0442\\u0441\\u043A\\u0430\\u043D\\u0438\\u0440\\u0443\\u0439\\u0442\\u0435 QR-\\u043A\\u043E\\u0434 \\u043D\\u0438\\u0436\\u0435 \\u0441 \\u043F\\u043E\\u043C\\u043E\\u0449\\u044C\\u044E \\u043A\\u0430\\u043C\\u0435\\u0440\\u044B \\u043D\\u0430 \\u0442\\u0435\\u043B\\u0435\\u0444\\u043E\\u043D\\u0435 \\u0438\\u043B\\u0438 {{ name }}\",\n    continueIn: \"\\u041F\\u0440\\u043E\\u0434\\u043E\\u043B\\u0436\\u0438\\u0442\\u044C \\u0432\\u044B\\u043F\\u043E\\u043B\\u043D\\u0435\\u043D\\u0438\\u0435 \\u0442\\u0440\\u0430\\u043D\\u0437\\u0430\\u043A\\u0446\\u0438\\u0438 \\u0432 \\u041A\\u043E\\u0448\\u0435\\u043B\\u044C\\u043A\\u0435 OKX\",\n    connectionDeclined: \"\\u041F\\u043E\\u0434\\u043A\\u043B\\u044E\\u0447\\u0435\\u043D\\u0438\\u0435 \\u043E\\u0442\\u043A\\u043B\\u043E\\u043D\\u0435\\u043D\\u043E\",\n    PoweredBy: \"Powered by\",\n    appAndTelegram: {\n      header: \"Connect to OKX Wallet\",\n      text: \"\\u041A\\u043E\\u0448\\u0435\\u043B\\u0435\\u043A OKX \\u0434\\u043E\\u0441\\u0442\\u0443\\u043F\\u0435\\u043D \\u0432 \\u043F\\u0440\\u0438\\u043B\\u043E\\u0436\\u0435\\u043D\\u0438\\u0438 OKX \\u0438 \\u0432 Telegram\"\n    },\n    connectApp: \"\\u041F\\u043E\\u0434\\u043A\\u043B\\u044E\\u0447\\u0438\\u0442\\u044C\\u0441\\u044F \\u043A \\u043F\\u0440\\u0438\\u043B\\u043E\\u0436\\u0435\\u043D\\u0438\\u044E OKX\",\n    connectMini: \"\\u041F\\u043E\\u0434\\u043A\\u043B\\u044E\\u0447\\u0438\\u0442\\u044C\\u0441\\u044F \\u043A \\u043C\\u0438\\u043D\\u0438-\\u041A\\u043E\\u0448\\u0435\\u043B\\u044C\\u043A\\u0443 OKX\"\n  }\n};\nconst actionModal$i = {\n  confirmTransaction: {\n    header: \"\\u041F\\u043E\\u0434\\u0442\\u0432\\u0435\\u0440\\u0434\\u0438\\u0442\\u0435 \\u0442\\u0440\\u0430\\u043D\\u0437\\u0430\\u043A\\u0446\\u0438\\u044E \\u0432 {{ name }}\",\n    text: \"\\u042D\\u0442\\u043E \\u0437\\u0430\\u0439\\u043C\\u0435\\u0442 \\u0432\\u0441\\u0435\\u0433\\u043E \\u043D\\u0435\\u0441\\u043A\\u043E\\u043B\\u044C\\u043A\\u043E \\u0441\\u0435\\u043A\\u0443\\u043D\\u0434.\"\n  },\n  transactionSent: \"$notifications.transactionSent\",\n  transactionCanceled: \"$notifications.transactionCanceled\"\n};\nconst ru = {\n  common: common$i,\n  button: button$i,\n  notifications: notifications$i,\n  walletModal: walletModal$i,\n  actionModal: actionModal$i\n};\nconst common$h = {\n  openWallet: \"\\u6253\\u5F00\\u94B1\\u5305\",\n  get: \"\\u83B7\\u53D6\",\n  close: \"\\u5173\\u95ED\",\n  retry: \"\\u518D\\u8BD5\\u4E00\\u6B21\"\n};\nconst button$h = {\n  connectWallet: \"\\u8FDE\\u63A5\\u94B1\\u5305\",\n  dropdown: {\n    copy: \"\\u590D\\u5236\\u5730\\u5740\",\n    copied: \"\\u5730\\u5740\\u5DF2\\u590D\\u5236\",\n    disconnect: \"\\u65AD\\u5F00\\u8FDE\\u63A5\"\n  }\n};\nconst notifications$h = {\n  confirm: {\n    header: \"\\u6253\\u5F00 {{ name }} \\u8FDB\\u884C\\u786E\\u8BA4\"\n  },\n  transactionSent: {\n    header: \"\\u5DF2\\u53D1\\u9001\",\n    text: \"\\u5373\\u5C06\\u5B8C\\u6210\\uFF0C\\u8BF7\\u7A0D\\u5019\"\n  },\n  transactionCanceled: {\n    header: \"\\u5DF2\\u53D6\\u6D88\",\n    text: \"\\u8D26\\u6237\\u672A\\u53D1\\u751F\\u4EFB\\u4F55\\u66F4\\u6539\"\n  }\n};\nconst walletModal$h = {\n  mobileConnectionModal: {\n    OKXConnect: \"OKX Connect\",\n    showQR: \"\\u5C55\\u793A\\u4E8C\\u7EF4\\u7801\",\n    scanQR: \"\\u4F7F\\u7528\\u624B\\u673A\\u6216\\u6B27\\u6613\\u94B1\\u5305\\u7684\\u76F8\\u673A\\u626B\\u63CF\\u4E0B\\u65B9\\u4E8C\\u7EF4\\u7801\",\n    continueIn: \"\\u5728\\u6B27\\u6613\\u94B1\\u5305\\u4E2D\\u7EE7\\u7EED\\u5B8C\\u6210\",\n    connectionDeclined: \"\\u8FDE\\u63A5\\u5931\\u8D25\",\n    PoweredBy: \"Powered by\",\n    appAndTelegram: {\n      header: \"\\u8FDE\\u63A5\\u6B27\\u6613\\u94B1\\u5305\",\n      text: \"\\u6B27\\u6613\\u94B1\\u5305\\u53EF\\u5728\\u6B27\\u6613 App \\u548C Telegram \\u4F7F\\u7528\"\n    },\n    connectApp: \"\\u8FDE\\u63A5\\u6B27\\u6613 App\",\n    connectMini: \"\\u8FDE\\u63A5\\u6B27\\u6613 Mini Wallet\"\n  }\n};\nconst actionModal$h = {\n  confirmTransaction: {\n    header: \"\\u5728 {{ name }} \\u4E2D\\u786E\\u8BA4\",\n    text: \"\\u8BF7\\u7A0D\\u5019\"\n  },\n  transactionSent: \"$notifications.transactionSent\",\n  transactionCanceled: \"$notifications.transactionCanceled\"\n};\nconst zh_CN = {\n  common: common$h,\n  button: button$h,\n  notifications: notifications$h,\n  walletModal: walletModal$h,\n  actionModal: actionModal$h\n};\nconst common$g = {\n  openWallet: \"\\u0641\\u062A\\u062D \\u0645\\u062D\\u0641\\u0638\\u0629\",\n  get: \"\\u062D\\u0635\\u0648\\u0644\",\n  close: \"\\u0625\\u063A\\u0644\\u0627\\u0642\",\n  retry: \"\\u0625\\u0639\\u0627\\u062F\\u0629 \\u0627\\u0644\\u0645\\u062D\\u0627\\u0648\\u0644\\u0629\"\n};\nconst button$g = {\n  connectWallet: \"\\u0631\\u0628\\u0637 \\u0627\\u0644\\u0645\\u062D\\u0641\\u0638\\u0629\",\n  dropdown: {\n    copy: \"\\u0646\\u0633\\u062E \\u0627\\u0644\\u0639\\u0646\\u0648\\u0627\\u0646\",\n    copied: \"\\u062A\\u0645 \\u0646\\u0633\\u062E \\u0627\\u0644\\u0639\\u0646\\u0648\\u0627\\u0646\",\n    disconnect: \"\\u0625\\u0644\\u063A\\u0627\\u0621 \\u0627\\u0644\\u0631\\u0628\\u0637\"\n  }\n};\nconst notifications$g = {\n  confirm: {\n    header: \"\\u0627\\u0641\\u062A\\u062D {{ name }} \\u0644\\u062A\\u0623\\u0643\\u064A\\u062F \\u0627\\u0644\\u0645\\u0639\\u0627\\u0645\\u0644\\u0629.\"\n  },\n  transactionSent: {\n    header: \"\\u0623\\u064F\\u0631\\u0633\\u0644\\u062A \\u0627\\u0644\\u0645\\u0639\\u0627\\u0645\\u0644\\u0629\",\n    text: \"\\u0633\\u062A\\u062A\\u0645 \\u0645\\u0639\\u0627\\u0644\\u062C\\u0629 \\u0645\\u0639\\u0627\\u0645\\u0644\\u062A\\u0643 \\u0641\\u064A \\u063A\\u0636\\u0648\\u0646 \\u062B\\u0648\\u0627\\u0646\\u064D \\u0642\\u0644\\u064A\\u0644\\u0629.\"\n  },\n  transactionCanceled: {\n    header: \"\\u0623\\u064F\\u0644\\u063A\\u064A\\u062A \\u0627\\u0644\\u0645\\u0639\\u0627\\u0645\\u0644\\u0629\",\n    text: \"\\u0644\\u0646 \\u062A\\u0637\\u0631\\u0623 \\u0623\\u064A\\u0629 \\u062A\\u063A\\u064A\\u064A\\u0631\\u0627\\u062A \\u0639\\u0644\\u0649 \\u062D\\u0633\\u0627\\u0628\\u0643.\"\n  }\n};\nconst walletModal$g = {\n  mobileConnectionModal: {\n    showQR: \"\\u0639\\u0631\\u0636 \\u0631\\u0645\\u0632 QR\",\n    scanQR: \"\\u0627\\u0645\\u0633\\u062D \\u0631\\u0645\\u0632 QR \\u0623\\u062F\\u0646\\u0627\\u0647 \\u0628\\u0627\\u0633\\u062A\\u062E\\u062F\\u0627\\u0645 \\u0643\\u0627\\u0645\\u064A\\u0631\\u0627 \\u0647\\u0627\\u062A\\u0641\\u0643 \\u0623\\u0648 \\u0643\\u0627\\u0645\\u064A\\u0631\\u0627 \\u0647\\u0627\\u062A\\u0641 {{ name }}\",\n    continueIn: \"\\u0645\\u062A\\u0627\\u0628\\u0639\\u0629 \\u0627\\u0644\\u0645\\u0639\\u0627\\u0645\\u0644\\u0629 \\u0641\\u064A \\u0645\\u062D\\u0641\\u0638\\u0629 OKX\",\n    connectionDeclined: \"\\u0641\\u0634\\u0644 \\u0627\\u0644\\u0627\\u062A\\u0635\\u0627\\u0644\",\n    PoweredBy: \"Powered by\",\n    appAndTelegram: {\n      header: \"Connect to OKX Wallet\",\n      text: \"\\u0645\\u062D\\u0641\\u0638\\u0629 OKX \\u0645\\u062A\\u0627\\u062D\\u0629 \\u0639\\u0644\\u0649 \\u062A\\u0637\\u0628\\u064A\\u0642 OKX \\u0648Telegram\"\n    },\n    connectApp: \"\\u0627\\u0644\\u0631\\u0628\\u0637 \\u0628\\u062A\\u0637\\u0628\\u064A\\u0642 OKX\",\n    connectMini: \"\\u0627\\u0644\\u0631\\u0628\\u0637 \\u0628\\u0645\\u062D\\u0641\\u0638\\u0629 OKX \\u0627\\u0644\\u0645\\u0635\\u063A\\u0631\\u0629\"\n  }\n};\nconst actionModal$g = {\n  confirmTransaction: {\n    header: \"\\u062A\\u0623\\u0643\\u064A\\u062F \\u0627\\u0644\\u0645\\u0639\\u0627\\u0645\\u0644\\u0629 \\u0641\\u064A {{ name }}\",\n    text: \"\\u0644\\u0646 \\u064A\\u0633\\u062A\\u063A\\u0631\\u0642 \\u0627\\u0644\\u0623\\u0645\\u0631 \\u0633\\u0648\\u0649 \\u0644\\u062D\\u0638\\u0627\\u062A.\"\n  }\n};\nconst ar_AE = {\n  common: common$g,\n  button: button$g,\n  notifications: notifications$g,\n  walletModal: walletModal$g,\n  actionModal: actionModal$g\n};\nconst common$f = {\n  openWallet: \"Otev\\u0159\\xEDt pen\\u011B\\u017Eenku\",\n  get: \"Z\\xEDskat\",\n  close: \"Zav\\u0159\\xEDt\",\n  retry: \"Zkusit znovu\"\n};\nconst button$f = {\n  connectWallet: \"P\\u0159ipojit pen\\u011B\\u017Eenku\",\n  dropdown: {\n    copy: \"Kop\\xEDrovat adresu\",\n    copied: \"Adresa zkop\\xEDrov\\xE1na\",\n    disconnect: \"Odpojit\"\n  }\n};\nconst notifications$f = {\n  confirm: {\n    header: \"Otev\\u0159ete {{ name }} a potvr\\u010Fte transakci.\"\n  },\n  transactionSent: {\n    header: \"Transakce odesl\\xE1na\",\n    text: \"Va\\u0161e transakce bude zru\\u0161ena b\\u011Bhem n\\u011Bkolika sekund.\"\n  },\n  transactionCanceled: {\n    header: \"Transakce zru\\u0161ena\",\n    text: \"Na va\\u0161em \\xFA\\u010Dtu nedojde k \\u017E\\xE1dn\\xFDm zm\\u011Bn\\xE1m.\"\n  }\n};\nconst walletModal$f = {\n  mobileConnectionModal: {\n    showQR: \"Zobrazit QR k\\xF3d\",\n    scanQR: \"Naskenujte n\\xED\\u017Ee uveden\\xFD QR k\\xF3d pomoc\\xED kamery telefonu nebo {{ name }}\",\n    continueIn: \"Potvr\\u010Fte transakci v OKX Pen\\u011B\\u017Eence.\",\n    connectionDeclined: \"P\\u0159ipojen\\xED selhalo\",\n    PoweredBy: \"Powered by\",\n    appAndTelegram: {\n      header: \"Connect to OKX Wallet\",\n      text: \"OKX Pen\\u011B\\u017Eenka je k dispozici v aplikaci OKX a na s\\xEDti Telegram.\"\n    },\n    connectApp: \"P\\u0159ipojit k aplikaci OKX\",\n    connectMini: \"P\\u0159ipojit k minipen\\u011B\\u017Eence OKX\"\n  }\n};\nconst actionModal$f = {\n  confirmTransaction: {\n    header: \"Potvr\\u010Fte transakci na {{ name }}.\",\n    text: \"Zabere to jen chvilku.\"\n  }\n};\nconst cs_CZ = {\n  common: common$f,\n  button: button$f,\n  notifications: notifications$f,\n  walletModal: walletModal$f,\n  actionModal: actionModal$f\n};\nconst common$e = {\n  openWallet: \"Wallet \\xF6ffnen\",\n  get: \"Erhalten\",\n  close: \"Schlie\\xDFen\",\n  retry: \"Wiederholen\"\n};\nconst button$e = {\n  connectWallet: \"Wallet verkn\\xFCpfen\",\n  dropdown: {\n    copy: \"Adresse kopieren\",\n    copied: \"Adresse kopiert\",\n    disconnect: \"Trennen\"\n  }\n};\nconst notifications$e = {\n  confirm: {\n    header: \"{{ name }} \\xF6ffnen und Transaktion best\\xE4tigen.\"\n  },\n  transactionSent: {\n    header: \"Transaktion gesendet\",\n    text: \"Ihre Transaktion wird in wenigen Sekunden bearbeitet.\"\n  },\n  transactionCanceled: {\n    header: \"Transaktion storniert\",\n    text: \"Es werden keine \\xC4nderungen an Ihrem Konto vorgenommen.\"\n  }\n};\nconst walletModal$e = {\n  mobileConnectionModal: {\n    showQR: \"QR-Code anzeigen\",\n    scanQR: \"Scannen Sie den QR-Code unten mit der Kamera Ihres Telefons oder {{ name }}\",\n    continueIn: \"Setzen Sie die Transaktion in der OKX Wallet fort\",\n    connectionDeclined: \"Verbindung fehlgeschlagen\",\n    PoweredBy: \"Powered by\",\n    appAndTelegram: {\n      header: \"Connect to OKX Wallet\",\n      text: \"OKX Wallet ist in der OKX App und auf Telegram verf\\xFCgbar\"\n    },\n    connectApp: \"Mit der OKX-App verbinden\",\n    connectMini: \"Mit der OKX-Mini-Wallet verbinden\"\n  }\n};\nconst actionModal$e = {\n  confirmTransaction: {\n    header: \"Transaktion in {{ name }} best\\xE4tigen\",\n    text: \"Es dauert nur einen Augenblick.\"\n  }\n};\nconst de_DE = {\n  common: common$e,\n  button: button$e,\n  notifications: notifications$e,\n  walletModal: walletModal$e,\n  actionModal: actionModal$e\n};\nconst common$d = {\n  openWallet: \"Abrir wallet\",\n  get: \"Consigue\",\n  close: \"Cerrar\",\n  retry: \"Volver a intentar\"\n};\nconst button$d = {\n  connectWallet: \"Conectar billetera\",\n  dropdown: {\n    copy: \"Copiar direcci\\xF3n\",\n    copied: \"Direcci\\xF3n copiada\",\n    disconnect: \"Desconectar\"\n  }\n};\nconst notifications$d = {\n  confirm: {\n    header: \"Abre {{ name }} para confirmar la transacci\\xF3n.\"\n  },\n  transactionSent: {\n    header: \"Transacci\\xF3n enviada\",\n    text: \"Tu transacci\\xF3n se procesar\\xE1 en unos segundos.\"\n  },\n  transactionCanceled: {\n    header: \"Transacci\\xF3n cancelada\",\n    text: \"No se realizar\\xE1n cambios en tu cuenta.\"\n  }\n};\nconst walletModal$d = {\n  mobileConnectionModal: {\n    showQR: \"Mostrar c\\xF3digo QR\",\n    scanQR: \"Escanea el siguiente c\\xF3digo QR con la c\\xE1mara de tu tel\\xE9fono o de tu {{ name }}\",\n    continueIn: \"Continuar con la transacci\\xF3n en OKX Wallet\",\n    connectionDeclined: \"Error de conexi\\xF3n\",\n    PoweredBy: \"Powered by\",\n    appAndTelegram: {\n      header: \"Connect to OKX Wallet\",\n      text: \"OKX Wallet est\\xE1 disponible en la OKX app y en Telegram\"\n    },\n    connectApp: \"Conectarse a la OKX app\",\n    connectMini: \"Conectarse a la OKX Mini Wallet\"\n  }\n};\nconst actionModal$d = {\n  confirmTransaction: {\n    header: \"Confirma la transacci\\xF3n de {{ name }}\",\n    text: \"Solo te llevar\\xE1 un momento.\"\n  }\n};\nconst es_ES = {\n  common: common$d,\n  button: button$d,\n  notifications: notifications$d,\n  walletModal: walletModal$d,\n  actionModal: actionModal$d\n};\nconst common$c = {\n  openWallet: \"Abrir billetera\",\n  get: \"Obtener\",\n  close: \"Cerrar\",\n  retry: \"Reintentar\"\n};\nconst button$c = {\n  connectWallet: \"Conectar billetera\",\n  dropdown: {\n    copy: \"Copiar direcci\\xF3n\",\n    copied: \"Direcci\\xF3n copiada\",\n    disconnect: \"Desconectar\"\n  }\n};\nconst notifications$c = {\n  confirm: {\n    header: \"Abre {{ name }} para confirmar la transacci\\xF3n.\"\n  },\n  transactionSent: {\n    header: \"Transacci\\xF3n enviada\",\n    text: \"Tu transacci\\xF3n se procesar\\xE1 en unos segundos.\"\n  },\n  transactionCanceled: {\n    header: \"Transacci\\xF3n cancelada\",\n    text: \"No habr\\xE1 cambios en tu cuenta.\"\n  }\n};\nconst walletModal$c = {\n  mobileConnectionModal: {\n    showQR: \"Mostrar c\\xF3digo QR\",\n    scanQR: \"Escanea el siguiente c\\xF3digo QR con la c\\xE1mara de tu tel\\xE9fono o {{ name }}\",\n    continueIn: \"Contin\\xFAa la transacci\\xF3n en OKX Wallet\",\n    connectionDeclined: \"Error de conexi\\xF3n\",\n    PoweredBy: \"Powered by\",\n    appAndTelegram: {\n      header: \"Connect to OKX Wallet\",\n      text: \"OKX Wallet est\\xE1 disponible en la aplicaci\\xF3n de OKX y Telegram\"\n    },\n    connectApp: \"Con\\xE9ctate a la aplicaci\\xF3n de OKX\",\n    connectMini: \"Con\\xE9ctate a la OKX\\xA0Mini Wallet\"\n  }\n};\nconst actionModal$c = {\n  confirmTransaction: {\n    header: \"Confirmar la transacci\\xF3n en {{ name }}\",\n    text: \"Solo tomar\\xE1 un momento.\"\n  }\n};\nconst es_LAT = {\n  common: common$c,\n  button: button$c,\n  notifications: notifications$c,\n  walletModal: walletModal$c,\n  actionModal: actionModal$c\n};\nconst common$b = {\n  openWallet: \"Portefeuille ouvert\",\n  get: \"Obtenir\",\n  close: \"Fermer\",\n  retry: \"R\\xE9essayer\"\n};\nconst button$b = {\n  connectWallet: \"Connecter le portefeuille\",\n  dropdown: {\n    copy: \"Copier l\\u2019adresse\",\n    copied: \"Adresse copi\\xE9e\",\n    disconnect: \"D\\xE9connecter\"\n  }\n};\nconst notifications$b = {\n  confirm: {\n    header: \"Ouvrir {{ name }} pour confirmer la transaction.\"\n  },\n  transactionSent: {\n    header: \"Transaction envoy\\xE9e\",\n    text: \"Votre transaction sera trait\\xE9e en quelques secondes.\"\n  },\n  transactionCanceled: {\n    header: \"Transaction annul\\xE9e\",\n    text: \"Aucun changement ne sera apport\\xE9 \\xE0 votre compte.\"\n  }\n};\nconst walletModal$b = {\n  mobileConnectionModal: {\n    showQR: \"Afficher le code QR\",\n    scanQR: \"Scannez le code QR ci-dessous avec la cam\\xE9ra de votre t\\xE9l\\xE9phone ou de votre {{ name }}.\",\n    continueIn: \"Poursuivre la transaction dans OKX Wallet\",\n    connectionDeclined: \"\\xC9chec de la connexion\",\n    PoweredBy: \"Powered by\",\n    appAndTelegram: {\n      header: \"Connect to OKX Wallet\",\n      text: \"OKX Wallet est disponible sur OKX App et Telegram\"\n    },\n    connectApp: \"Se connecter \\xE0 l\\u2019appli OKX\",\n    connectMini: \"Se connecter \\xE0 OKX Mini Wallet\"\n  }\n};\nconst actionModal$b = {\n  confirmTransaction: {\n    header: \"Confirmer la transaction dans {{ name }}\",\n    text: \"Cela ne prendra qu'un instant.\"\n  }\n};\nconst fr_FR = {\n  common: common$b,\n  button: button$b,\n  notifications: notifications$b,\n  walletModal: walletModal$b,\n  actionModal: actionModal$b\n};\nconst common$a = {\n  openWallet: \"Buka wallet\",\n  get: \"Dapatkan\",\n  close: \"Tutup\",\n  retry: \"Coba lagi\"\n};\nconst button$a = {\n  connectWallet: \"Hubungkan wallet\",\n  dropdown: {\n    copy: \"Salin alamat\",\n    copied: \"Alamat disalin\",\n    disconnect: \"Putuskan sambungan\"\n  }\n};\nconst notifications$a = {\n  confirm: {\n    header: \"Buka {{ name }} untuk mengonfirmasi transaksi.\"\n  },\n  transactionSent: {\n    header: \"Transaksi terkirim\",\n    text: \"Transaksi Anda akan diproses dalam beberapa detik.\"\n  },\n  transactionCanceled: {\n    header: \"Transaksi dibatalkan\",\n    text: \"Tidak akan ada perubahan pada akun Anda.\"\n  }\n};\nconst walletModal$a = {\n  mobileConnectionModal: {\n    showQR: \"Tampilkan Kode QR\",\n    scanQR: \"Pindai kode QR di bawah dengan kamera ponsel atau {{ name }} Anda\",\n    continueIn: \"Lanjutkan transaksi di OKX Wallet\",\n    connectionDeclined: \"Koneksi gagal\",\n    PoweredBy: \"Powered by\",\n    appAndTelegram: {\n      header: \"Connect to OKX Wallet\",\n      text: \"OKX Wallet tersedia di OKX App dan Telegram\"\n    },\n    connectApp: \"Hubungkan ke OKX App\",\n    connectMini: \"Hubungkan ke OKX Mini Wallet\"\n  }\n};\nconst actionModal$a = {\n  confirmTransaction: {\n    header: \"Konfirmasi transaksi pada {{ name }}\",\n    text: \"Hanya perlu beberapa saat.\"\n  }\n};\nconst id_ID = {\n  common: common$a,\n  button: button$a,\n  notifications: notifications$a,\n  walletModal: walletModal$a,\n  actionModal: actionModal$a\n};\nconst common$9 = {\n  openWallet: \"Apri portafoglio\",\n  get: \"Ottieni\",\n  close: \"Chiudi\",\n  retry: \"Riprova\"\n};\nconst button$9 = {\n  connectWallet: \"Connetti il portafoglio\",\n  dropdown: {\n    copy: \"Copia indirizzo\",\n    copied: \"Indirizzo copiato\",\n    disconnect: \"Disconnetti\"\n  }\n};\nconst notifications$9 = {\n  confirm: {\n    header: \"Apri {{ name }} per confermare la transazione.\"\n  },\n  transactionSent: {\n    header: \"Transazione inviata\",\n    text: \"La transazione verr\\xE0 elaborata in pochi secondi.\"\n  },\n  transactionCanceled: {\n    header: \"Transazione annullata\",\n    text: \"Il tuo conto non subir\\xE0 modifiche.\"\n  }\n};\nconst walletModal$9 = {\n  mobileConnectionModal: {\n    showQR: \"Mostra il codice QR\",\n    scanQR: \"Scansiona il codice QR di seguito con la fotocamera del tuo smartphone o {{ name }}\",\n    continueIn: \"Continua la transazione in OKX Wallet\",\n    connectionDeclined: \"Collegamento non riuscito\",\n    PoweredBy: \"Powered by\",\n    appAndTelegram: {\n      header: \"Connect to OKX Wallet\",\n      text: \"OKX Wallet \\xE8 disponibile sull'app OKX e Telegram\"\n    },\n    connectApp: \"Connettiti all'app OKX\",\n    connectMini: \"Connettiti a OKX Mini Wallet\"\n  }\n};\nconst actionModal$9 = {\n  confirmTransaction: {\n    header: \"Conferma la transazione in {{ name }}\",\n    text: \"Ci vorr\\xE0 solo un secondo.\"\n  }\n};\nconst it_IT = {\n  common: common$9,\n  button: button$9,\n  notifications: notifications$9,\n  walletModal: walletModal$9,\n  actionModal: actionModal$9\n};\nconst common$8 = {\n  openWallet: \"Wallet openen\",\n  get: \"Krijgen\",\n  close: \"Sluiten\",\n  retry: \"Opnieuw proberen\"\n};\nconst button$8 = {\n  connectWallet: \"Wallet koppelen\",\n  dropdown: {\n    copy: \"Adres kopi\\xEBren\",\n    copied: \"Adres gekopieerd\",\n    disconnect: \"Verbinding verbreken\"\n  }\n};\nconst notifications$8 = {\n  confirm: {\n    header: \"Open {{ name }} om de transactie te bevestigen.\"\n  },\n  transactionSent: {\n    header: \"Transactie verstuurd\",\n    text: \"Je transactie wordt binnen een paar seconden verwerkt.\"\n  },\n  transactionCanceled: {\n    header: \"Transactie geannuleerd\",\n    text: \"Er verandert niets aan je account.\"\n  }\n};\nconst walletModal$8 = {\n  mobileConnectionModal: {\n    showQR: \"QR-code weergeven\",\n    scanQR: \"Scan de QR-code hieronder met de camera van je telefoon of de camera van{{ name }}\",\n    continueIn: \"Ga verder met de transactie in OKX Wallet\",\n    connectionDeclined: \"Koppelen mislukt\",\n    PoweredBy: \"Powered by\",\n    appAndTelegram: {\n      header: \"Connect to OKX Wallet\",\n      text: \"OKX Wallet is beschikbaar op OKX App en Telegram\"\n    },\n    connectApp: \"Koppelen met de OKX-app\",\n    connectMini: \"Koppelen met OKX Mini Wallet\"\n  }\n};\nconst actionModal$8 = {\n  confirmTransaction: {\n    header: \"De transactie in {{ name }} bevestigen\",\n    text: \"Het is zo gebeurd.\"\n  }\n};\nconst nl_NL = {\n  common: common$8,\n  button: button$8,\n  notifications: notifications$8,\n  walletModal: walletModal$8,\n  actionModal: actionModal$8\n};\nconst common$7 = {\n  openWallet: \"Otw\\xF3rz portfel\",\n  get: \"Otrzymaj\",\n  close: \"Zamknij\",\n  retry: \"Spr\\xF3buj ponownie\"\n};\nconst button$7 = {\n  connectWallet: \"Po\\u0142\\u0105cz portfel\",\n  dropdown: {\n    copy: \"Kopiuj adres\",\n    copied: \"Adres skopiowany\",\n    disconnect: \"Roz\\u0142\\u0105cz\"\n  }\n};\nconst notifications$7 = {\n  confirm: {\n    header: \"Otw\\xF3rz {{ name }}, aby potwierdzi\\u0107 transakcj\\u0119.\"\n  },\n  transactionSent: {\n    header: \"Wys\\u0142ano transakcj\\u0119\",\n    text: \"Transakcja zostanie przetworzona w ci\\u0105gu kilku sekund.\"\n  },\n  transactionCanceled: {\n    header: \"Anulowano transakcj\\u0119\",\n    text: \"Na koncie nie zostan\\u0105 wprowadzone \\u017Cadne zmiany.\"\n  }\n};\nconst walletModal$7 = {\n  mobileConnectionModal: {\n    showQR: \"Poka\\u017C kod QR\",\n    scanQR: \"Zeskanuj poni\\u017Cszy kod QR za pomoc\\u0105 aparatu w telefonie lub {{ name }}\",\n    continueIn: \"Kontynuuj transakcj\\u0119 w OKX Wallet\",\n    connectionDeclined: \"Po\\u0142\\u0105czenie nieudane\",\n    PoweredBy: \"Powered by\",\n    appAndTelegram: {\n      header: \"Connect to OKX Wallet\",\n      text: \"OKX Wallet jest dost\\u0119pny w aplikacji OKX i Telegramie\"\n    },\n    connectApp: \"Po\\u0142\\u0105cz z aplikacj\\u0105 OKX\",\n    connectMini: \"Po\\u0142\\u0105cz z OKX Mini Wallet\"\n  }\n};\nconst actionModal$7 = {\n  confirmTransaction: {\n    header: \"Potwierd\\u017A transakcj\\u0119 w {{ name }}\",\n    text: \"To zajmie tylko chwil\\u0119.\"\n  }\n};\nconst pl_PL = {\n  common: common$7,\n  button: button$7,\n  notifications: notifications$7,\n  walletModal: walletModal$7,\n  actionModal: actionModal$7\n};\nconst common$6 = {\n  openWallet: \"Abrir carteira\",\n  get: \"Receber\",\n  close: \"Fechar\",\n  retry: \"Tentar novamente\"\n};\nconst button$6 = {\n  connectWallet: \"Conectar carteira\",\n  dropdown: {\n    copy: \"Copiar endere\\xE7o\",\n    copied: \"Endere\\xE7o copiado\",\n    disconnect: \"Desconectar\"\n  }\n};\nconst notifications$6 = {\n  confirm: {\n    header: \"Abrir {{ name }} para confirmar a transa\\xE7\\xE3o.\"\n  },\n  transactionSent: {\n    header: \"Transa\\xE7\\xE3o enviada\",\n    text: \"Sua transa\\xE7\\xE3o ser\\xE1 processada em alguns segundos.\"\n  },\n  transactionCanceled: {\n    header: \"Transa\\xE7\\xE3o cancelada\",\n    text: \"N\\xE3o haver\\xE1 altera\\xE7\\xF5es em sua conta.\"\n  }\n};\nconst walletModal$6 = {\n  mobileConnectionModal: {\n    showQR: \"Mostrar C\\xF3digo QR\",\n    scanQR: \"Digitalize o c\\xF3digo QR abaixo com a c\\xE2mera do seu telefone ou do {{ name }}\",\n    continueIn: \"Continuar a transa\\xE7\\xE3o na OKX Wallet\",\n    connectionDeclined: \"Falha na conex\\xE3o\",\n    PoweredBy: \"Powered by\",\n    appAndTelegram: {\n      header: \"Connect to OKX Wallet\",\n      text: \"A OKX Wallet est\\xE1 dispon\\xEDvel na OKX App e no Telegram\"\n    },\n    connectApp: \"Conecte-se \\xE0 OKX App\",\n    connectMini: \"Conecte-se \\xE0 OKX Mini Wallet\"\n  }\n};\nconst actionModal$6 = {\n  confirmTransaction: {\n    header: \"Confirmar a transa\\xE7\\xE3o em {{ name }}\",\n    text: \"Isso levar\\xE1 apenas um momento.\"\n  }\n};\nconst pt_BR = {\n  common: common$6,\n  button: button$6,\n  notifications: notifications$6,\n  walletModal: walletModal$6,\n  actionModal: actionModal$6\n};\nconst common$5 = {\n  openWallet: \"Abrir carteira\",\n  get: \"Receber\",\n  close: \"Fechar\",\n  retry: \"Tentar novamente\"\n};\nconst button$5 = {\n  connectWallet: \"Associar carteira\",\n  dropdown: {\n    copy: \"Copiar endere\\xE7o\",\n    copied: \"Endere\\xE7o copiado\",\n    disconnect: \"Desassociar\"\n  }\n};\nconst notifications$5 = {\n  confirm: {\n    header: \"Abra {{ name }} para confirmar a transa\\xE7\\xE3o.\"\n  },\n  transactionSent: {\n    header: \"Transa\\xE7\\xE3o efetuada\",\n    text: \"A sua transa\\xE7\\xE3o ser\\xE1 processada dentro de poucos segundos.\"\n  },\n  transactionCanceled: {\n    header: \"Transa\\xE7\\xE3o cancelada\",\n    text: \"N\\xE3o ser\\xE3o feitas altera\\xE7\\xF5es \\xE0 sua conta.\"\n  }\n};\nconst walletModal$5 = {\n  mobileConnectionModal: {\n    showQR: \"Mostrar c\\xF3digo QR\",\n    scanQR: \"Leia o c\\xF3digo QR abaixo com a c\\xE2mara do seu telem\\xF3vel ou {{ name }}\",\n    continueIn: \"Continuar a transa\\xE7\\xE3o na OKX Wallet\",\n    connectionDeclined: \"Falha na liga\\xE7\\xE3o\",\n    PoweredBy: \"Powered by\",\n    appAndTelegram: {\n      header: \"Connect to OKX Wallet\",\n      text: \"A OKX Wallet est\\xE1 dispon\\xEDvel na Aplica\\xE7\\xE3o da OKX e no Telegram\"\n    },\n    connectApp: \"Associar \\xE0 Aplica\\xE7\\xE3o da OKX\",\n    connectMini: \"Associar \\xE0 OKX Mini Wallet\"\n  }\n};\nconst actionModal$5 = {\n  confirmTransaction: {\n    header: \"Confirmar a transa\\xE7\\xE3o na {{ name }}\",\n    text: \"Demora apenas um momento.\"\n  }\n};\nconst pt_PT = {\n  common: common$5,\n  button: button$5,\n  notifications: notifications$5,\n  walletModal: walletModal$5,\n  actionModal: actionModal$5\n};\nconst common$4 = {\n  openWallet: \"Deschide\\u021Bi portofelul\",\n  get: \"Primi\\u021Bi\",\n  close: \"\\xCEnchide\\u021Bi\",\n  retry: \"Re\\xEEncerca\\u021Bi\"\n};\nconst button$4 = {\n  connectWallet: \"Conecta\\u021Bi portofelul\",\n  dropdown: {\n    copy: \"Copia\\u021Bi adresa\",\n    copied: \"Adres\\u0103 copiat\\u0103\",\n    disconnect: \"Deconecta\\u021Bi\"\n  }\n};\nconst notifications$4 = {\n  confirm: {\n    header: \"Deschide\\u021Bi {{ name }} pentru a confirma tranzac\\u021Bia.\"\n  },\n  transactionSent: {\n    header: \"Tranzac\\u021Bie trimis\\u0103\",\n    text: \"Tranzac\\u021Bia dvs. va fi procesat\\u0103 \\xEEn c\\xE2teva secunde.\"\n  },\n  transactionCanceled: {\n    header: \"Tranzac\\u021Bie anulat\\u0103\",\n    text: \"Nu va exista nicio modificare \\xEEn cont.\"\n  }\n};\nconst walletModal$4 = {\n  mobileConnectionModal: {\n    showQR: \"Scana\\u021Bi codul QR\",\n    scanQR: \"Scana\\u021Bi codul QR mai jos cu camera telefonului sau a {{ name }}\",\n    continueIn: \"Continua\\u021Bi tranzac\\u021Bia \\xEEn OKX Wallet\",\n    connectionDeclined: \"Conexiunea a e\\u0219uat\",\n    PoweredBy: \"Powered by\",\n    appAndTelegram: {\n      header: \"Connect to OKX Wallet\",\n      text: \"OKX Wallet este disponibil din aplica\\u021Bia OKX \\u0219i Telegram\"\n    },\n    connectApp: \"Conecta\\u021Bi-v\\u0103 la aplica\\u021Bia OKX\",\n    connectMini: \"Conecta\\u021Bi-v\\u0103 la OKX Mini Wallet\"\n  }\n};\nconst actionModal$4 = {\n  confirmTransaction: {\n    header: \"Confirma\\u021Bi tranzac\\u021Bia \\xEEn {{ name }}\",\n    text: \"Va dura doar un moment.\"\n  }\n};\nconst ro_RO = {\n  common: common$4,\n  button: button$4,\n  notifications: notifications$4,\n  walletModal: walletModal$4,\n  actionModal: actionModal$4\n};\nconst common$3 = {\n  openWallet: \"C\\xFCzdan\\u0131 a\\xE7\",\n  get: \"Al\",\n  close: \"Kapat\",\n  retry: \"Tekrar Dene\"\n};\nconst button$3 = {\n  connectWallet: \"C\\xFCzdan\\u0131 ba\\u011Fla\",\n  dropdown: {\n    copy: \"Adresi kopyala\",\n    copied: \"Adres kopyaland\\u0131!\",\n    disconnect: \"Ba\\u011Flant\\u0131y\\u0131 kes\"\n  }\n};\nconst notifications$3 = {\n  confirm: {\n    header: \"\\u0130\\u015Flemi onaylamak i\\xE7in {{ name }} \\xF6gesini a\\xE7\\u0131n.\"\n  },\n  transactionSent: {\n    header: \"\\u0130\\u015Flem g\\xF6nderildi.\",\n    text: \"\\u0130\\u015Fleminiz birka\\xE7 saniye i\\xE7inde ger\\xE7ekle\\u015Ftirilecek.\"\n  },\n  transactionCanceled: {\n    header: \"\\u0130\\u015Flem iptal edildi!\",\n    text: \"Hesab\\u0131n\\u0131zda de\\u011Fi\\u015Fiklik olmayacak.\"\n  }\n};\nconst walletModal$3 = {\n  mobileConnectionModal: {\n    showQR: \"QR Kodunu G\\xF6ster\",\n    scanQR: \"A\\u015Fa\\u011F\\u0131daki QR kodunu telefonunuzun veya {{ name }} cihaz\\u0131n\\u0131z\\u0131n kameras\\u0131yla taray\\u0131n.\",\n    continueIn: \"\\u0130\\u015Fleme OKX Web3 C\\xFCzdan\\u2019da devam edin.\",\n    connectionDeclined: \"Ba\\u011Flant\\u0131 ba\\u015Far\\u0131s\\u0131z.\",\n    PoweredBy: \"Powered by\",\n    appAndTelegram: {\n      header: \"Connect to OKX Wallet\",\n      text: \"OKX Web3 C\\xFCzdan, OKX Uygulamas\\u0131nda ve Telegram\\u2019da kullan\\u0131ma sunuldu\"\n    },\n    connectApp: \"OKX Uygulamas\\u0131na Ba\\u011Flan\",\n    connectMini: \"OKX Mini C\\xFCzdan\\u0131na Ba\\u011Flan\"\n  }\n};\nconst actionModal$3 = {\n  confirmTransaction: {\n    header: \"{{ name }} Konumunda \\u0130\\u015Flemi Onaylay\\u0131n\",\n    text: \"Bu yaln\\u0131zca bir dakikan\\u0131z\\u0131 alacak.\"\n  }\n};\nconst tr_TR = {\n  common: common$3,\n  button: button$3,\n  notifications: notifications$3,\n  walletModal: walletModal$3,\n  actionModal: actionModal$3\n};\nconst common$2 = {\n  openWallet: \"\\u0412\\u0456\\u0434\\u043A\\u0440\\u0438\\u0442\\u0438\\u0439 \\u0433\\u0430\\u043C\\u0430\\u043D\\u0435\\u0446\\u044C\",\n  get: \"\\u041E\\u0442\\u0440\\u0438\\u043C\\u0430\\u0442\\u0438\",\n  close: \"\\u0417\\u0430\\u043A\\u0440\\u0438\\u0442\\u0438\",\n  retry: \"\\u041F\\u043E\\u0432\\u0442\\u043E\\u0440\\u0438\\u0442\\u0438 \\u0441\\u043F\\u0440\\u043E\\u0431\\u0443\"\n};\nconst button$2 = {\n  connectWallet: \"\\u041F\\u0456\\u0434\\u043A\\u043B\\u044E\\u0447\\u0438\\u0442\\u0438 \\u0433\\u0430\\u043C\\u0430\\u043D\\u0435\\u0446\\u044C\",\n  dropdown: {\n    copy: \"\\u041A\\u043E\\u043F\\u0456\\u044E\\u0432\\u0430\\u0442\\u0438 \\u0430\\u0434\\u0440\\u0435\\u0441\\u0443\",\n    copied: \"\\u0410\\u0434\\u0440\\u0435\\u0441\\u0443 \\u0441\\u043A\\u043E\\u043F\\u0456\\u0439\\u043E\\u0432\\u0430\\u043D\\u043E\",\n    disconnect: \"\\u0412\\u0456\\u0434\\u043A\\u043B\\u044E\\u0447\\u0438\\u0442\\u0438\"\n  }\n};\nconst notifications$2 = {\n  confirm: {\n    header: \"\\u0412\\u0456\\u0434\\u043A\\u0440\\u0438\\u0439\\u0442\\u0435 {{ name }}, \\u0449\\u043E\\u0431 \\u043F\\u0456\\u0434\\u0442\\u0432\\u0435\\u0440\\u0434\\u0438\\u0442\\u0438 \\u0442\\u0440\\u0430\\u043D\\u0437\\u0430\\u043A\\u0446\\u0456\\u044E.\"\n  },\n  transactionSent: {\n    header: \"\\u0422\\u0440\\u0430\\u043D\\u0437\\u0430\\u043A\\u0446\\u0456\\u044E \\u043D\\u0430\\u0434\\u0456\\u0441\\u043B\\u0430\\u043D\\u043E\",\n    text: \"\\u0412\\u0430\\u0448\\u0443 \\u0442\\u0440\\u0430\\u043D\\u0437\\u0430\\u043A\\u0446\\u0456\\u044E \\u0431\\u0443\\u0434\\u0435 \\u043E\\u0431\\u0440\\u043E\\u0431\\u043B\\u0435\\u043D\\u043E \\u0447\\u0435\\u0440\\u0435\\u0437 \\u043A\\u0456\\u043B\\u044C\\u043A\\u0430 \\u0441\\u0435\\u043A\\u0443\\u043D\\u0434.\"\n  },\n  transactionCanceled: {\n    header: \"\\u0422\\u0440\\u0430\\u043D\\u0437\\u0430\\u043A\\u0446\\u0456\\u044E \\u0441\\u043A\\u0430\\u0441\\u043E\\u0432\\u0430\\u043D\\u043E\",\n    text: \"\\u0423 \\u0432\\u0430\\u0448\\u043E\\u043C\\u0443 \\u0430\\u043A\\u0430\\u0443\\u043D\\u0442\\u0456 \\u043D\\u0435 \\u0431\\u0443\\u0434\\u0435 \\u0437\\u043C\\u0456\\u043D.\"\n  }\n};\nconst walletModal$2 = {\n  mobileConnectionModal: {\n    showQR: \"\\u041F\\u043E\\u043A\\u0430\\u0437\\u0430\\u0442\\u0438 QR-\\u043A\\u043E\\u0434\",\n    scanQR: \"\\u0412\\u0456\\u0434\\u0441\\u043A\\u0430\\u043D\\u0443\\u0439\\u0442\\u0435 \\u043D\\u0430\\u0432\\u0435\\u0434\\u0435\\u043D\\u0438\\u0439 \\u043D\\u0438\\u0436\\u0447\\u0435 QR-\\u043A\\u043E\\u0434 \\u0437\\u0430 \\u0434\\u043E\\u043F\\u043E\\u043C\\u043E\\u0433\\u043E\\u044E \\u043A\\u0430\\u043C\\u0435\\u0440\\u0438 \\u0441\\u0432\\u043E\\u0433\\u043E \\u0442\\u0435\\u043B\\u0435\\u0444\\u043E\\u043D\\u0430 \\u0430\\u0431\\u043E {{ name }}\",\n    continueIn: \"\\u041F\\u0440\\u043E\\u0434\\u043E\\u0432\\u0436\\u0442\\u0435 \\u0442\\u0440\\u0430\\u043D\\u0437\\u0430\\u043A\\u0446\\u0456\\u044E \\u0432 OKX Wallet\",\n    connectionDeclined: \"\\u041F\\u043E\\u043C\\u0438\\u043B\\u043A\\u0430 \\u043F\\u0456\\u0434\\u043A\\u043B\\u044E\\u0447\\u0435\\u043D\\u043D\\u044F\",\n    PoweredBy: \"Powered by\",\n    appAndTelegram: {\n      header: \"Connect to OKX Wallet\",\n      text: \"OKX \\u0413\\u0430\\u043C\\u0430\\u043D\\u0435\\u0446\\u044C \\u0434\\u043E\\u0441\\u0442\\u0443\\u043F\\u043D\\u0438\\u0439 \\u0443 \\u0437\\u0430\\u0441\\u0442\\u043E\\u0441\\u0443\\u043D\\u043A\\u0443 OKX \\u0456 Telegram\"\n    },\n    connectApp: \"\\u041F\\u0456\\u0434\\u043A\\u043B\\u044E\\u0447\\u0438\\u0442\\u0438\\u0441\\u044F \\u0434\\u043E \\u0437\\u0430\\u0441\\u0442\\u043E\\u0441\\u0443\\u043D\\u043A\\u0430 OKX\",\n    connectMini: \"\\u041F\\u0456\\u0434\\u043A\\u043B\\u044E\\u0447\\u0438\\u0442\\u0438\\u0441\\u044F \\u0434\\u043E \\u043C\\u0456\\u043D\\u0456\\u0433\\u0430\\u043C\\u0430\\u043D\\u0446\\u044F OKX\"\n  }\n};\nconst actionModal$2 = {\n  confirmTransaction: {\n    header: \"\\u041F\\u0456\\u0434\\u0442\\u0432\\u0435\\u0440\\u0434\\u044C\\u0442\\u0435 \\u0442\\u0440\\u0430\\u043D\\u0437\\u0430\\u043A\\u0446\\u0456\\u044E \\u0432 {{ name }}\",\n    text: \"\\u0426\\u0435 \\u0437\\u0430\\u0439\\u043C\\u0435 \\u043B\\u0438\\u0448\\u0435 \\u043C\\u0438\\u0442\\u044C.\"\n  }\n};\nconst uk_UA = {\n  common: common$2,\n  button: button$2,\n  notifications: notifications$2,\n  walletModal: walletModal$2,\n  actionModal: actionModal$2\n};\nconst common$1 = {\n  openWallet: \"M\\u1EDF v\\xED\",\n  get: \"Nh\\u1EADn\",\n  close: \"\\u0110\\xF3ng\",\n  retry: \"Th\\u1EED l\\u1EA1i\"\n};\nconst button$1 = {\n  connectWallet: \"K\\u1EBFt n\\u1ED1i v\\xED\",\n  dropdown: {\n    copy: \"Sao ch\\xE9p \\u0111\\u1ECBa ch\\u1EC9\",\n    copied: \"\\u0110\\xE3 sao ch\\xE9p \\u0111\\u1ECBa ch\\u1EC9\",\n    disconnect: \"Ng\\u1EAFt k\\u1EBFt n\\u1ED1i\"\n  }\n};\nconst notifications$1 = {\n  confirm: {\n    header: \"M\\u1EDF {{ name }} \\u0111\\u1EC3 x\\xE1c nh\\u1EADn giao d\\u1ECBch.\"\n  },\n  transactionSent: {\n    header: \"\\u0110\\xE3 g\\u1EEDi giao d\\u1ECBch\",\n    text: \"Giao d\\u1ECBch c\\u1EE7a b\\u1EA1n s\\u1EBD \\u0111\\u01B0\\u1EE3c x\\u1EED l\\xFD trong v\\xE0i gi\\xE2y.\"\n  },\n  transactionCanceled: {\n    header: \"\\u0110\\xE3 h\\u1EE7y giao d\\u1ECBch\",\n    text: \"Kh\\xF4ng c\\xF3 thay \\u0111\\u1ED5i n\\xE0o v\\u1EDBi t\\xE0i kho\\u1EA3n c\\u1EE7a b\\u1EA1n.\"\n  }\n};\nconst walletModal$1 = {\n  mobileConnectionModal: {\n    showQR: \"Hi\\u1EC3n th\\u1ECB m\\xE3 QR\",\n    scanQR: \"Qu\\xE9t m\\xE3 QR b\\xEAn d\\u01B0\\u1EDBi b\\u1EB1ng m\\xE1y \\u1EA3nh \\u0111i\\u1EC7n tho\\u1EA1i ho\\u1EB7c {{ name }} c\\u1EE7a b\\u1EA1n\",\n    continueIn: \"Ti\\u1EBFp t\\u1EE5c giao d\\u1ECBch tr\\xEAn V\\xED Web3 OKX\",\n    connectionDeclined: \"K\\u1EBFt n\\u1ED1i kh\\xF4ng th\\xE0nh c\\xF4ng\",\n    PoweredBy: \"Powered by\",\n    appAndTelegram: {\n      header: \"Connect to OKX Wallet\",\n      text: \"V\\xED Web3 OKX hi\\u1EC7n c\\xF3 tr\\xEAn c\\u1EA3 \\u1EE8ng d\\u1EE5ng OKX v\\xE0 Telegram\"\n    },\n    connectApp: \"K\\u1EBFt n\\u1ED1i \\u1EE8ng d\\u1EE5ng OKX\",\n    connectMini: \"K\\u1EBFt n\\u1ED1i V\\xED Web3 OKX Mini\"\n  }\n};\nconst actionModal$1 = {\n  confirmTransaction: {\n    header: \"X\\xE1c nh\\u1EADn giao d\\u1ECBch trong {{ name }}\",\n    text: \"N\\xF3 ch\\u1EC9 m\\u1EA5t ch\\xFAt th\\u1EDDi gian.\"\n  }\n};\nconst vi_VN = {\n  common: common$1,\n  button: button$1,\n  notifications: notifications$1,\n  walletModal: walletModal$1,\n  actionModal: actionModal$1\n};\nconst common = {\n  openWallet: \"\\u6253\\u958B\\u9322\\u5305\",\n  get: \"\\u7372\\u53D6\",\n  close: \"\\u95DC\\u9589\",\n  retry: \"\\u91CD\\u8A66\"\n};\nconst button = {\n  connectWallet: \"\\u9023\\u63A5\\u9322\\u5305\",\n  dropdown: {\n    copy: \"\\u8907\\u88FD\\u5730\\u5740\",\n    copied: \"\\u5730\\u5740\\u5DF2\\u8907\\u88FD\",\n    disconnect: \"\\u65B7\\u958B\\u9023\\u63A5\"\n  }\n};\nconst notifications = {\n  confirm: {\n    header: \"\\u6253\\u958B {{ name }} \\u4EE5\\u78BA\\u8A8D\\u4EA4\\u6613\"\n  },\n  transactionSent: {\n    header: \"\\u4EA4\\u6613\\u5DF2\\u767C\\u9001\",\n    text: \"\\u4EA4\\u6613\\u5373\\u5C07\\u5B8C\\u6210\\uFF0C\\u8ACB\\u7A0D\\u5019\"\n  },\n  transactionCanceled: {\n    header: \"\\u4EA4\\u6613\\u5DF2\\u53D6\\u6D88\",\n    text: \"\\u8CEC\\u6236\\u672A\\u767C\\u751F\\u4EFB\\u4F55\\u66F4\\u6539\"\n  }\n};\nconst walletModal = {\n  mobileConnectionModal: {\n    OKXConnect: \"OKX Connect\",\n    showQR: \"\\u5C55\\u793A\\u4E8C\\u7DAD\\u78BC\",\n    scanQR: \"\\u4F7F\\u7528\\u624B\\u6A5F\\u6216 OKX \\u9322\\u5305\\u7684\\u76F8\\u6A5F\\u6383\\u63CF\\u4E0B\\u65B9\\u4E8C\\u7DAD\\u78BC\",\n    continueIn: \"\\u5728 OKX \\u9322\\u5305\\u4E2D\\u7E7C\\u7E8C\\u5B8C\\u6210\",\n    connectionDeclined: \"\\u9023\\u63A5\\u5931\\u6557\",\n    PoweredBy: \"Powered by\",\n    appAndTelegram: {\n      header: \"\\u9023\\u63A5 OKX \\u9322\\u5305\",\n      text: \" OKX \\u9322\\u5305\\u53EF\\u5728 OKX App \\u548C Telegram \\u4F7F\\u7528\"\n    },\n    connectApp: \"\\u9023\\u63A5 OKX App\",\n    connectMini: \"\\u9023\\u63A5 OKX Mini Wallet\"\n  }\n};\nconst actionModal = {\n  confirmTransaction: {\n    header: \"\\u5728 {{ name }} \\u4E2D\\u78BA\\u8A8D\\u4EA4\\u6613\",\n    text: \"\\u8ACB\\u7A0D\\u5019\"\n  }\n};\nconst zh_TW = {\n  common,\n  button,\n  notifications,\n  walletModal,\n  actionModal\n};\nconst i18nDictionary = {\n  en_US: parseDictionary(en),\n  ru_RU: parseDictionary(ru),\n  zh_CN: parseDictionary(zh_CN),\n  zh: parseDictionary(zh_CN),\n  ar_AE: parseDictionary(ar_AE),\n  cs_CZ: parseDictionary(cs_CZ),\n  de_DE: parseDictionary(de_DE),\n  es_ES: parseDictionary(es_ES),\n  es_LAT: parseDictionary(es_LAT),\n  fr_FR: parseDictionary(fr_FR),\n  id_ID: parseDictionary(id_ID),\n  it_IT: parseDictionary(it_IT),\n  nl_NL: parseDictionary(nl_NL),\n  pl_PL: parseDictionary(pl_PL),\n  pt_BR: parseDictionary(pt_BR),\n  pt_PT: parseDictionary(pt_PT),\n  ro_RO: parseDictionary(ro_RO),\n  tr_TR: parseDictionary(tr_TR),\n  uk_UA: parseDictionary(uk_UA),\n  vi_VN: parseDictionary(vi_VN),\n  zh_TW: parseDictionary(zh_TW)\n};\nfunction parseDictionary(dictionary) {\n  const refSymbol = \"$\";\n  const iterate = (subDictionary) => {\n    Object.entries(subDictionary).forEach(([key, value]) => {\n      if (typeof value === \"object\" && value) {\n        return iterate(value);\n      }\n      if (typeof value === \"string\") {\n        if (value[0] === refSymbol) {\n          const path = value.slice(1).split(\".\");\n          let obj = dictionary;\n          path.forEach((item) => {\n            if (item in obj) {\n              obj = obj[item];\n            } else {\n              throw new Error(\n                `Cannot parse translations: there is no property ${item} in translation`\n              );\n            }\n          });\n          subDictionary[key] = obj;\n        }\n        if (value.slice(0, 2) === `\\\\${refSymbol}`) {\n          subDictionary[key] = value.slice(1);\n        }\n      }\n    });\n  };\n  iterate(dictionary);\n  return dictionary;\n}\nconst ActionModalStyled = styled.div`\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    padding-bottom: 8px;\n`;\nconst H1Styled = styled(H1)`\n    margin-top: 16px;\n`;\nconst TextStyled = styled(Text)`\n    font-weight: 400;\n    font-size: 16px;\n    line-height: 20px;\n    text-align: center;\n    max-width: 250px;\n    margin-top: 10px;\n    color: ${(props) => props.theme.colors.text.contrast};\n`;\nstyled(Button)`\n    min-width: 112px;\n    margin-top: 32px;\n`;\nstyled(LoaderIcon)`\n    height: 16px;\n    width: 16px;\n`;\nconst ButtonStyled = styled.div`\n    margin-top: 24px;\n  background-color: ${(props) => props.theme.colors.text.primary};\n  height: 48px;\n  width: 262px;\n  justify-content: center;\n  border-radius: 24px;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n`;\nconst ActionModal = (props) => {\n  const dataAttrs = useDataAttributes(props);\n  const connectUI = useContext(OKXConnectUiContext);\n  const [firstClick, setFirstClick] = createSignal(true);\n  const [sent, setSent] = createSignal(false);\n  const theme = useTheme();\n  const {\n    action\n  } = useContext(ActionsModalContext);\n  createEffect(() => {\n    const currentAction = action;\n    setSent(!!currentAction && \"sent\" in currentAction && currentAction.sent);\n  });\n  let universalLink = connectUI == null ? void 0 : connectUI.universalLink;\n  const onOpenWallet = () => {\n    core.logDebug(\"ActionModal ====> onOpenWallet \");\n    !firstClick();\n    setFirstClick(false);\n    redirectToWallet(universalLink, \"okx://web3?stack=true\", {\n      returnStrategy: \"none\",\n      forceRedirect: false\n    }, () => {\n    });\n  };\n  return createComponent(ActionModalStyled, mergeProps(dataAttrs, {\n    get children() {\n      return [createMemo(() => props.icon), createComponent(H1Styled, {\n        get translationKey() {\n          return props.headerTranslationKey;\n        },\n        get translationValues() {\n          return props.headerTranslationValues;\n        }\n      }), createComponent(TextStyled, {\n        get translationKey() {\n          return props.textTranslationKey;\n        },\n        get translationValues() {\n          return props.textTranslationValues;\n        }\n      }), createComponent(Show, {\n        get when() {\n          return connectUI == null ? void 0 : connectUI.showActionButton();\n        },\n        get children() {\n          return [createComponent(Show, {\n            get when() {\n              return props.showButton === \"close\";\n            },\n            get children() {\n              return createComponent(ButtonStyled, {\n                onClick: () => props.onClose(),\n                get children() {\n                  return createComponent(Text, {\n                    fontWeight: 700,\n                    fontSize: \"16px\",\n                    get color() {\n                      return theme.colors.background.primary;\n                    },\n                    get children() {\n                      return createComponent(Translation, {\n                        translationKey: \"common.close\",\n                        children: \"Close\"\n                      });\n                    }\n                  });\n                }\n              });\n            }\n          }), createComponent(Show, {\n            get when() {\n              return props.showButton === \"open-wallet\";\n            },\n            get children() {\n              return createComponent(ButtonStyled, {\n                onClick: onOpenWallet,\n                get children() {\n                  return createComponent(Text, {\n                    fontWeight: 700,\n                    fontSize: \"16px\",\n                    get color() {\n                      return theme.colors.background.primary;\n                    },\n                    get children() {\n                      return createComponent(Translation, {\n                        translationKey: \"common.openWallet\",\n                        children: \"Open wallet\"\n                      });\n                    }\n                  });\n                }\n              });\n            }\n          })];\n        }\n      })];\n    }\n  }));\n};\nconst ConfirmTransactionModal = (props) => {\n  const tonConnectUI = useContext(OKXConnectUiContext);\n  const [t2] = useI18n();\n  const name = () => tonConnectUI.walletName ? tonConnectUI.walletName : t2(\"common.yourWallet\", {}, \"Your wallet\");\n  return createComponent(ActionModal, {\n    headerTranslationKey: \"actionModal.confirmTransaction.header\",\n    get headerTranslationValues() {\n      return {\n        name: name()\n      };\n    },\n    textTranslationKey: \"actionModal.confirmTransaction.text\",\n    get icon() {\n      return createComponent(OKXLoaderIconWithLogo, {});\n    },\n    onClose: () => props.onClose(),\n    get showButton() {\n      return isMobile() ? \"open-wallet\" : void 0;\n    },\n    \"data-tc-confirm-modal\": \"true\"\n  });\n};\nconst TransactionCanceledModal = (props) => {\n  return createComponent(ActionModal, {\n    headerTranslationKey: \"actionModal.transactionCanceled.header\",\n    textTranslationKey: \"actionModal.transactionCanceled.text\",\n    get icon() {\n      return createComponent(ErrorIcon, {\n        size: \"m\"\n      });\n    },\n    onClose: () => props.onClose(),\n    get showButton() {\n      return isMobile() ? \"close\" : void 0;\n    },\n    \"data-tc-transaction-canceled-modal\": \"true\"\n  });\n};\nconst TransactionSentModal = (props) => {\n  return createComponent(ActionModal, {\n    headerTranslationKey: \"actionModal.transactionSent.header\",\n    textTranslationKey: \"actionModal.transactionSent.text\",\n    get icon() {\n      return createComponent(SuccessIcon, {\n        size: \"m\"\n      });\n    },\n    onClose: () => props.onClose(),\n    get showButton() {\n      return isMobile() ? \"close\" : void 0;\n    },\n    \"data-tc-transaction-sent-modal\": \"true\"\n  });\n};\nconst ActionsModalContext = createContext({\n  action: null\n});\nconst ActionsModal = (props) => {\n  createEffect(() => {\n    console.log(\"ActionsModal\", props.action);\n  });\n  return createComponent(ActionsModalContext.Provider, {\n    get value() {\n      return {\n        action: props.action\n      };\n    },\n    get children() {\n      return createComponent(Modal, {\n        get opened() {\n          var _a2;\n          return props.action !== null && ((_a2 = props.action) == null ? void 0 : _a2.openModal) === true;\n        },\n        onClose: () => props.setAction(null),\n        \"data-tc-actions-modal-container\": \"true\",\n        get children() {\n          return createComponent(Switch, {\n            get children() {\n              return [createComponent(Match, {\n                get when() {\n                  return props.action.name === \"transaction-sent\";\n                },\n                get children() {\n                  return createComponent(TransactionSentModal, {\n                    onClose: () => props.setAction(null)\n                  });\n                }\n              }), createComponent(Match, {\n                get when() {\n                  return props.action.name === \"transaction-canceled\";\n                },\n                get children() {\n                  return createComponent(TransactionCanceledModal, {\n                    onClose: () => props.setAction(null)\n                  });\n                }\n              }), createComponent(Match, {\n                get when() {\n                  return props.action.name === \"confirm-transaction\";\n                },\n                get children() {\n                  return createComponent(ConfirmTransactionModal, {\n                    onClose: () => props.setAction(null)\n                  });\n                }\n              })];\n            }\n          });\n        }\n      });\n    }\n  });\n};\nconst defaultLightColorsSet = {\n  constant: {\n    black: \"#000000\",\n    white: \"#FFFFFF\"\n  },\n  connectButton: {\n    background: \"#0098EA\",\n    foreground: \"#FFFFFF\"\n  },\n  accent: \"#0098EA\",\n  telegramButton: \"#0098EA\",\n  qrFill: \"#000000\",\n  icon: {\n    primary: \"#0F0F0F\",\n    secondary: \"#7A8999\",\n    tertiary: \"#C1CAD2\",\n    success: \"#29CC6A\",\n    error: \"#F5A73B\"\n  },\n  background: {\n    primary: \"#FFFFFF\",\n    secondary: \"#F1F3F5\",\n    segment: \"#FFFFFF\",\n    tint: \"#F1F3F5\",\n    qr: \"#FFFFFF\"\n  },\n  text: {\n    primary: \"#000000\",\n    secondary: \"#6A7785\",\n    contrast: \"#909090\"\n  },\n  border: {\n    primary: \"#00000014\",\n    secondary: \"#00000024\"\n  },\n  disable: \"#B3B3B3\"\n};\nconst defaultDarkColorsSet = {\n  constant: {\n    black: \"#000000\",\n    white: \"#FFFFFF\"\n  },\n  connectButton: {\n    background: \"#0098EA\",\n    foreground: \"#FFFFFF\"\n  },\n  accent: \"#E5E5EA\",\n  telegramButton: \"#31A6F5\",\n  qrFill: \"#FFFFFF\",\n  icon: {\n    primary: \"#E5E5EA\",\n    secondary: \"#909099\",\n    tertiary: \"#434347\",\n    success: \"#29CC6A\",\n    error: \"#F5A73B\"\n  },\n  background: {\n    primary: \"#121214\",\n    secondary: \"#18181A\",\n    segment: \"#262629\",\n    tint: \"#222224\",\n    qr: \"#121214\"\n  },\n  text: {\n    primary: \"#FFFFFF\",\n    secondary: \"#7D7D85\",\n    contrast: \"#909090\"\n  },\n  border: {\n    primary: \"#FFFFFF1F\",\n    secondary: \"#FFFFFF30\"\n  },\n  disable: \"#5B5B5B\"\n};\nconst [tonThemeState, setTonThemeState] = createStore({\n  theme: THEME.LIGHT,\n  colors: defaultLightColorsSet,\n  borderRadius: \"m\"\n});\nconst themeColorsMappingDefault$1 = {\n  [THEME.LIGHT]: defaultLightColorsSet,\n  [THEME.DARK]: defaultDarkColorsSet\n};\n({\n  [THEME.LIGHT]: void 0,\n  [THEME.DARK]: void 0\n});\nfunction setTonTheme(theme) {\n  setTonThemeState({\n    theme,\n    colors: themeColorsMappingDefault$1[theme]\n  });\n}\nconst TONApp = (props) => {\n  const translations = createI18nContext(i18nDictionary, tonAppState.language);\n  defineStylesRoot();\n  fixMobileSafariActiveTransition();\n  return createComponent(I18nContext.Provider, {\n    value: translations,\n    get children() {\n      return createComponent(OKXConnectUiContext.Provider, {\n        get value() {\n          return props.connectUI;\n        },\n        get children() {\n          return createComponent(ConnectorContext.Provider, {\n            get value() {\n              return tonAppState.connector;\n            },\n            get children() {\n              return [createComponent(GlobalStyles, {}), createComponent(ThemeProvider, {\n                theme: tonThemeState,\n                get children() {\n                  return [createComponent(Show, {\n                    get when() {\n                      return tonAppState.buttonRootId;\n                    },\n                    get children() {\n                      return createComponent(Portal, {\n                        get mount() {\n                          return document.getElementById(tonAppState.buttonRootId);\n                        },\n                        get children() {\n                          return createComponent(AccountButton, {});\n                        }\n                      });\n                    }\n                  }), createComponent(Dynamic, {\n                    component: globalStylesTag,\n                    get children() {\n                      return [createComponent(TonSingleWalletModal, {}), createComponent(ActionsModal, {\n                        get action() {\n                          return tonAction();\n                        },\n                        setAction: setTonAction\n                      })];\n                    }\n                  })];\n                }\n              })];\n            }\n          });\n        }\n      });\n    }\n  });\n};\nconst tonWidgetController = {\n  openSingleWalletModal: (walletInfo) => {\n    core.logDebug(`tonWidgetController : openSingleWalletModal : ${JSON.stringify(walletInfo)}`);\n    void setTimeout(() => setTonSingleWalletModalState({\n      status: \"opened\",\n      closeReason: null,\n      walletInfo\n    }));\n  },\n  closeSingleWalletModal: (reason) => void setTimeout(() => setTonSingleWalletModalState({\n    status: \"closed\",\n    closeReason: reason\n  })),\n  setAction: (action) => void setTimeout(() => setTonAction(action)),\n  clearAction: () => void setTimeout(() => {\n    console.log(\"clearAction\");\n    setTonAction(null);\n  }),\n  getSelectedWalletInfo: () => lastTonSelectedWalletInfo(),\n  removeSelectedWalletInfo: () => setLastTonSelectedWalletInfo(null),\n  renderApp: (root, connectUI) => {\n    return render(() => createComponent(TONApp, {\n      connectUI\n    }), document.getElementById(root));\n  }\n};\n/*!\n * is-plain-object <https://github.com/jonschlinkert/is-plain-object>\n *\n * Copyright (c) 2014-2017, Jon Schlinkert.\n * Released under the MIT License.\n */\nfunction isObject(o2) {\n  return Object.prototype.toString.call(o2) === \"[object Object]\";\n}\nfunction isPlainObject(o2) {\n  var ctor, prot;\n  if (isObject(o2) === false)\n    return false;\n  ctor = o2.constructor;\n  if (ctor === void 0)\n    return true;\n  prot = ctor.prototype;\n  if (isObject(prot) === false)\n    return false;\n  if (prot.hasOwnProperty(\"isPrototypeOf\") === false) {\n    return false;\n  }\n  return true;\n}\nfunction mergeOptions(options, defaultOptions) {\n  if (!options) {\n    return defaultOptions;\n  }\n  const overwriteMerge = (_, sourceArray, __) => sourceArray;\n  return deepmerge__default.default(defaultOptions, options, {\n    arrayMerge: overwriteMerge,\n    isMergeableObject: isPlainObject\n  });\n}\nclass TransactionModalManager {\n  constructor() {\n    __publicField(this, \"consumers\", []);\n    createEffect(() => {\n      const currentAction = tonAction();\n      this.consumers.forEach((consumer) => consumer(currentAction));\n    });\n  }\n  onStateChange(consumer) {\n    this.consumers.push(consumer);\n    return () => {\n      this.consumers = this.consumers.filter((c2) => c2 !== consumer);\n    };\n  }\n}\nvar OKX_UI_CONNECTION_AND_TRANSACTION_EVENT = /* @__PURE__ */ ((OKX_UI_CONNECTION_AND_TRANSACTION_EVENT2) => {\n  OKX_UI_CONNECTION_AND_TRANSACTION_EVENT2[\"OKX_UI_CONNECTION_STARTED\"] = \"okx-connect-ui-connection-started\";\n  OKX_UI_CONNECTION_AND_TRANSACTION_EVENT2[\"OKX_UI_CONNECTION_COMPLETED\"] = \"okx-connect-ui-connection-completed\";\n  OKX_UI_CONNECTION_AND_TRANSACTION_EVENT2[\"OKX_UI_CONNECTION_ERROR\"] = \"okx-connect-ui-connection-error\";\n  OKX_UI_CONNECTION_AND_TRANSACTION_EVENT2[\"OKX_UI_CONNECTION_RESTORING_STARTED\"] = \"okx-connect-ui-connection-restoring-started\";\n  OKX_UI_CONNECTION_AND_TRANSACTION_EVENT2[\"OKX_UI_CONNECTION_RESTORING_COMPLETED\"] = \"okx-connect-ui-connection-restoring-completed\";\n  OKX_UI_CONNECTION_AND_TRANSACTION_EVENT2[\"OKX_UI_CONNECTION_RESTORING_ERROR\"] = \"okx-connect-ui-connection-restoring-error\";\n  OKX_UI_CONNECTION_AND_TRANSACTION_EVENT2[\"OKX_UI_DISCONNECTION\"] = \"okx-connect-ui-disconnection\";\n  OKX_UI_CONNECTION_AND_TRANSACTION_EVENT2[\"OKX_UI_TRANSACTION_SENT_FOR_SIGNATURE\"] = \"okx-connect-ui-transaction-sent-for-signature\";\n  OKX_UI_CONNECTION_AND_TRANSACTION_EVENT2[\"OKX_UI_TRANSACTION_SIGNED\"] = \"okx-connect-ui-transaction-signed\";\n  OKX_UI_CONNECTION_AND_TRANSACTION_EVENT2[\"OKX_UI_TRANSACTION_SIGNING_FAILED\"] = \"okx-connect-ui-transaction-signing-failed\";\n  return OKX_UI_CONNECTION_AND_TRANSACTION_EVENT2;\n})(OKX_UI_CONNECTION_AND_TRANSACTION_EVENT || {});\nclass OKXTonConnectUITracker {\n  constructor(options) {\n    __publicField(this, \"eventPrefix\", \"okx-connect-ui-\");\n    __publicField(this, \"OKXConnectUiVersion\");\n    __publicField(this, \"OKXtonConnectSdkVersion\", null);\n    __publicField(this, \"eventDispatcher\");\n    var _a2;\n    this.eventDispatcher = (_a2 = options == null ? void 0 : options.eventDispatcher) != null ? _a2 : new tonsdk.BrowserEventDispatcher();\n    this.OKXConnectUiVersion = options.tonConnectUiVersion;\n    this.init().catch();\n  }\n  get version() {\n    return tonsdk.createVersionInfo({\n      okx_ton_connect_sdk_lib: this.OKXtonConnectSdkVersion,\n      okx_connect_ui_lib: this.OKXConnectUiVersion\n    });\n  }\n  init() {\n    return __async(this, null, function* () {\n      try {\n        yield this.setRequestVersionHandler();\n        this.OKXtonConnectSdkVersion = yield this.requestTonConnectSdkVersion();\n      } catch (e2) {\n        console.log(`okx-ton-connect-response-version  init error  ====> requestTonConnectSdkVersion`);\n      }\n    });\n  }\n  setRequestVersionHandler() {\n    return __async(this, null, function* () {\n      yield this.eventDispatcher.addEventListener(\"okx-connect-ui-request-version\", () => __async(this, null, function* () {\n        yield this.eventDispatcher.dispatchEvent(\n          \"okx-connect-ui-response-version\",\n          tonsdk.createResponseVersionEvent(this.OKXConnectUiVersion)\n        );\n      }));\n    });\n  }\n  requestTonConnectSdkVersion() {\n    return __async(this, null, function* () {\n      return new Promise((resolve, reject) => __async(this, null, function* () {\n        try {\n          yield this.eventDispatcher.addEventListener(\n            \"okx-ton-connect-response-version\",\n            (event) => {\n              resolve(event.detail.version);\n            },\n            { once: true }\n          );\n          yield this.eventDispatcher.dispatchEvent(\n            \"okx-ton-connect-request-version\",\n            tonsdk.createRequestVersionEvent()\n          );\n        } catch (e2) {\n          console.log(`okx-ton-connect-response-version    ====> ${e2.message}`);\n          reject(e2);\n        }\n      }));\n    });\n  }\n  dispatchUserActionEvent(eventDetails) {\n    var _a2;\n    try {\n      (_a2 = this.eventDispatcher) == null ? void 0 : _a2.dispatchEvent(`${this.eventPrefix}${eventDetails.type}`, eventDetails).catch();\n    } catch (e2) {\n    }\n  }\n  trackConnectionStarted(...args) {\n    try {\n      const event = tonsdk.createConnectionStartedEvent(this.version, ...args);\n      this.dispatchUserActionEvent(event);\n    } catch (e2) {\n    }\n  }\n  trackConnectionCompleted(...args) {\n    try {\n      const event = tonsdk.createConnectionCompletedEvent(this.version, ...args);\n      this.dispatchUserActionEvent(event);\n    } catch (e2) {\n    }\n  }\n  trackConnectionError(...args) {\n    try {\n      const event = tonsdk.createConnectionErrorEvent(this.version, ...args);\n      this.dispatchUserActionEvent(event);\n    } catch (e2) {\n    }\n  }\n  trackConnectionRestoringStarted(...args) {\n    try {\n      const event = tonsdk.createConnectionRestoringStartedEvent(this.version, ...args);\n      this.dispatchUserActionEvent(event);\n    } catch (e2) {\n    }\n  }\n  trackConnectionRestoringCompleted(...args) {\n    try {\n      const event = tonsdk.createConnectionRestoringCompletedEvent(this.version, ...args);\n      this.dispatchUserActionEvent(event);\n    } catch (e2) {\n    }\n  }\n  trackConnectionRestoringError(...args) {\n    try {\n      const event = tonsdk.createConnectionRestoringErrorEvent(this.version, ...args);\n      this.dispatchUserActionEvent(event);\n    } catch (e2) {\n    }\n  }\n  trackDisconnection(...args) {\n    try {\n      const event = tonsdk.createDisconnectionEvent(this.version, ...args);\n      this.dispatchUserActionEvent(event);\n    } catch (e2) {\n    }\n  }\n  trackTransactionSentForSignature(...args) {\n    try {\n      const event = tonsdk.createTransactionSentForSignatureEvent(this.version, ...args);\n      this.dispatchUserActionEvent(event);\n    } catch (e2) {\n    }\n  }\n  trackTransactionSigned(...args) {\n    try {\n      const event = tonsdk.createTransactionSignedEvent(this.version, ...args);\n      this.dispatchUserActionEvent(event);\n    } catch (e2) {\n    }\n  }\n  trackTransactionSigningFailed(...args) {\n    try {\n      const event = tonsdk.createTransactionSigningFailedEvent(this.version, ...args);\n      this.dispatchUserActionEvent(event);\n    } catch (e2) {\n    }\n  }\n}\nconst tonConnectUiVersion = \"1\";\nclass TonSingleWalletModalManager {\n  constructor(options) {\n    __publicField(this, \"consumers\", []);\n    __publicField(this, \"getWalltsInfo\");\n    __publicField(this, \"state\", tonSingleWalletModalState());\n    this.getWalltsInfo = options.getWalltsInfo;\n    createEffect(() => {\n      const state = tonSingleWalletModalState();\n      this.state = state;\n      this.consumers.forEach((consumer) => consumer(state));\n    });\n  }\n  open(wallet) {\n    return __async(this, null, function* () {\n      const fetchedWalletsList = this.getWalltsInfo();\n      const walletsList = fetchedWalletsList;\n      const externalWallets = walletsList;\n      const externalWallet = externalWallets.find((walletInfo) => eqWalletName(walletInfo, wallet));\n      if (externalWallet) {\n        return this.openSingleWalletModal(externalWallet);\n      }\n      const error = `Trying to open modal window with unknown wallet \"${wallet}\".`;\n      throw new OKXConnectUiError(error);\n    });\n  }\n  close(reason = \"action-cancelled\") {\n    tonWidgetController.closeSingleWalletModal(reason);\n  }\n  onStateChange(onChange) {\n    this.consumers.push(onChange);\n    return () => {\n      this.consumers = this.consumers.filter((consumer) => consumer !== onChange);\n    };\n  }\n  handleConnect(connectMethod, actionConfiguration) {\n    return __async(this, null, function* () {\n      return new Promise((resolve, reject) => {\n        try {\n          connectMethod(actionConfiguration).then((result) => {\n            resolve(result);\n            core.logDebug(\"TonSingleWalletModalManager  result >>>\", JSON.stringify(result));\n          }).catch((error) => {\n            reject(error);\n            core.logDebug(\"TonSingleWalletModalManager  error >>>\", JSON.stringify(error));\n          });\n        } catch (error) {\n          reject(error);\n          core.logDebug(\"TonSingleWalletModalManager  catch error >>>\", JSON.stringify(error));\n        }\n      });\n    });\n  }\n  openSingleWalletModal(wallet) {\n    return __async(this, null, function* () {\n      if (isInTMA()) {\n        sendExpand();\n      }\n      tonWidgetController.openSingleWalletModal(wallet);\n      return new Promise((resolve) => {\n        const unsubscribe = this.onStateChange((state) => {\n          const { status } = state;\n          if (status === \"opened\") {\n            unsubscribe();\n            resolve();\n          }\n        });\n      });\n    });\n  }\n}\nconst validLocales = [\n  \"en_US\",\n  \"ru_RU\",\n  \"zh_CN\",\n  \"zh\",\n  \"ar_AE\",\n  \"cs_CZ\",\n  \"de_DE\",\n  \"es_ES\",\n  \"es_LAT\",\n  \"fr_FR\",\n  \"id_ID\",\n  \"it_IT\",\n  \"nl_NL\",\n  \"pl_PL\",\n  \"pt_BR\",\n  \"pt_PT\",\n  \"ro_RO\",\n  \"tr_TR\",\n  \"uk_UA\",\n  \"vi_VN\",\n  \"zh_TW\"\n];\nfunction isValidLocale(locale) {\n  return validLocales.includes(locale);\n}\nclass OKXTonConnectUIInner {\n  constructor(options) {\n    __publicField(this, \"walletInfoStorage\", new WalletInfoStorage(\"okx-wallet-connect-ui-ton_wallet-info\"));\n    __publicField(this, \"tracker\");\n    __publicField(this, \"walletInfo\", null);\n    __publicField(this, \"systemThemeChangeUnsubscribe\", null);\n    __publicField(this, \"actionsConfiguration\");\n    __publicField(this, \"walletsList\");\n    __publicField(this, \"connectRequestParametersCallback\");\n    __publicField(this, \"connector\");\n    __publicField(this, \"singleWalletModal\");\n    __publicField(this, \"transactionModal\");\n    __publicField(this, \"connectionRestored\", Promise.resolve(false));\n    __publicField(this, \"dispose\");\n    core.logDebug(\"OKXTonConnectUI constructor() option:\", JSON.stringify(options));\n    if (options && \"dappMetaData\" in options && options.dappMetaData) {\n      this.connector = new tonsdk.OKXTonConnect({ metaData: options.dappMetaData });\n    } else {\n      throw new OKXConnectUiError(\n        \"You have to specify a `dappMetaData`in the options.\"\n      );\n    }\n    if (options.language && !isValidLocale(options.language.toString())) {\n      options.language = \"en_US\";\n    }\n    this.tracker = new OKXTonConnectUITracker({\n      eventDispatcher: null,\n      tonConnectUiVersion\n    });\n    this.singleWalletModal = new TonSingleWalletModalManager({\n      getWalltsInfo: () => tonsdk.OKXTonConnect.getWallets()\n    });\n    this.transactionModal = new TransactionModalManager();\n    this.walletsList = this.getWallets();\n    preloadImages(uniq(this.walletsList.map((item) => item.imageUrl)));\n    const rootId = this.normalizeWidgetRoot(void 0);\n    this.subscribeToWalletChange();\n    if ((options == null ? void 0 : options.restoreConnection) !== false) {\n      this.connectionRestored = createMacrotaskAsync(() => __async(this, null, function* () {\n        this.tracker.trackConnectionRestoringStarted();\n        yield this.connector.restoreConnection();\n        if (!this.connector.connected) {\n          this.tracker.trackConnectionRestoringError(\"Connection was not restored\");\n          this.walletInfoStorage.removeWalletInfo();\n        } else {\n          this.tracker.trackConnectionRestoringCompleted(this.wallet);\n        }\n        return this.connector.connected;\n      }));\n    }\n    this.uiOptions = mergeOptions(options, { uiPreferences: { theme: \"SYSTEM\" } });\n    setTonAppState({\n      connector: this.connector,\n      preferredWalletAppName: void 0\n    });\n    this.dispose = tonWidgetController.renderApp(rootId, this);\n  }\n  static getWallets() {\n    return tonsdk.OKXTonConnect.getWallets();\n  }\n  get connected() {\n    return this.connector.connected;\n  }\n  get account() {\n    return this.connector.account;\n  }\n  get wallet() {\n    if (!this.connector.wallet) {\n      return null;\n    }\n    return __spreadValues(__spreadValues({}, this.connector.wallet), this.walletInfo);\n  }\n  get universalLink() {\n    if (this.wallet && \"universalLink\" in this.wallet) {\n      return this.wallet.universalLink;\n    }\n    return void 0;\n  }\n  get deepLink() {\n    if (this.wallet && \"deepLink\" in this.wallet) {\n      return this.wallet.deepLink;\n    }\n    return void 0;\n  }\n  get walletName() {\n    if (this.wallet && \"name\" in this.wallet) {\n      return this.wallet.name;\n    }\n    return void 0;\n  }\n  set uiOptions(options) {\n    var _a2, _b2, _c2;\n    core.logDebug(\"OKXTonConnectUI uiOptions() called\");\n    this.checkButtonRootExist(options.buttonRootId);\n    this.actionsConfiguration = options.actionsConfiguration;\n    if ((_a2 = options.uiPreferences) == null ? void 0 : _a2.theme) {\n      if (((_b2 = options.uiPreferences) == null ? void 0 : _b2.theme) !== \"SYSTEM\") {\n        (_c2 = this.systemThemeChangeUnsubscribe) == null ? void 0 : _c2.call(this);\n        setTonTheme(options.uiPreferences.theme);\n      } else {\n        setTonTheme(getSystemTheme());\n        if (!this.systemThemeChangeUnsubscribe) {\n          this.systemThemeChangeUnsubscribe = subscribeToThemeChange(setTonTheme);\n        }\n      }\n    }\n    setTonAppState((state) => {\n      var _a3, _b3;\n      const merged = mergeOptions(\n        __spreadValues(__spreadValues(__spreadValues({}, options.language && { language: options.language }), !!((_a3 = options.actionsConfiguration) == null ? void 0 : _a3.returnStrategy) && {\n          returnStrategy: options.actionsConfiguration.returnStrategy\n        }), ((_b3 = options.actionsConfiguration) == null ? void 0 : _b3.tmaReturnUrl) && {\n          tmaReturnUrl: options.actionsConfiguration.tmaReturnUrl\n        }),\n        unwrap(state)\n      );\n      if (options.buttonRootId !== void 0) {\n        merged.buttonRootId = options.buttonRootId;\n      }\n      return merged;\n    });\n  }\n  destory() {\n    if (this.dispose) {\n      this.dispose();\n    }\n  }\n  setConnectRequestParameters(connectRequestParameters) {\n    var _a2;\n    setTonAppState({ connectRequestParameters });\n    if ((connectRequestParameters == null ? void 0 : connectRequestParameters.state) === \"ready\" || !connectRequestParameters) {\n      (_a2 = this.connectRequestParametersCallback) == null ? void 0 : _a2.call(this, {\n        tonProof: connectRequestParameters.value.tonProof\n      });\n    }\n  }\n  getWallets() {\n    return [core.creatOKXWalletInfo(), core.creatOKXMiniAppWalletInfo()];\n  }\n  onStatusChange(callback, errorsHandler) {\n    return this.connector.onStatusChange((wallet) => __async(this, null, function* () {\n      if (wallet) {\n        yield this.getSelectedWalletInfo(wallet);\n        let info = this.getWalletInfo(wallet);\n        core.logDebug(\"OKXTonConnectUI onStatusChange info :\", JSON.stringify(info));\n        core.logDebug(\"OKXTonConnectUI onStatusChange wallet :\", JSON.stringify(wallet));\n        callback(__spreadValues(__spreadValues({}, wallet), info || this.getWallets()[0]));\n      } else {\n        callback(wallet);\n      }\n    }), errorsHandler);\n  }\n  handleConnect(connectMethod) {\n    return __async(this, null, function* () {\n      return this.singleWalletModal.handleConnect(connectMethod, this.actionsConfiguration);\n    });\n  }\n  openModal() {\n    return __async(this, null, function* () {\n      core.logDebug(\"OKXTonConnectUI openModal() called\");\n      return new Promise((_, reject) => __async(this, null, function* () {\n        yield Promise.all(\n          [\n            this.waitForWalletConnection({}),\n            this.openSingleWalletModal(\"okxAppWallet\")\n          ]\n        ).catch((error) => {\n          reject(error);\n        });\n      }));\n    });\n  }\n  closeModal(reason) {\n    this.closeSingleWalletModal(reason);\n  }\n  waitForWalletConnection(options) {\n    return __async(this, null, function* () {\n      return new Promise((resolve, reject) => {\n        const onStatusChangeHandler = (wallet) => __async(this, null, function* () {\n          if (!wallet) {\n            this.tracker.trackConnectionError(\"Connection was cancelled\");\n            unsubscribe();\n            reject(new OKXConnectUiError(\"Wallet was not connected\"));\n          } else {\n            this.tracker.trackConnectionCompleted(wallet);\n            unsubscribe();\n            resolve(wallet);\n          }\n        });\n        const onErrorsHandler = (reason) => {\n          this.tracker.trackConnectionError(reason.message);\n          unsubscribe();\n          reject(reason);\n        };\n        const unsubscribe = this.onStatusChange(\n          (wallet) => onStatusChangeHandler(wallet),\n          (reason) => onErrorsHandler(reason)\n        );\n      });\n    });\n  }\n  onModalStateChange(onChange) {\n    return this.onSingleWalletModalStateChange(onChange);\n  }\n  get modalState() {\n    return this.singleWalletModalState;\n  }\n  openSingleWalletModal(wallet) {\n    return __async(this, null, function* () {\n      this.tracker.trackConnectionStarted();\n      try {\n        return this.singleWalletModal.open(wallet);\n      } catch (error) {\n        this.tracker.trackConnectionError(error.message);\n        throw error;\n      }\n    });\n  }\n  closeSingleWalletModal(closeReason) {\n    if (closeReason === \"action-cancelled\") {\n      this.tracker.trackConnectionError(\"Connection was cancelled\");\n    }\n    this.singleWalletModal.close(closeReason);\n  }\n  onSingleWalletModalStateChange(onChange) {\n    return this.singleWalletModal.onStateChange(onChange);\n  }\n  get singleWalletModalState() {\n    return this.singleWalletModal.state;\n  }\n  disconnect() {\n    core.logDebug(\"OKXTonConnectUI disconnect() called\");\n    this.tracker.trackDisconnection(this.wallet, \"dapp\");\n    tonWidgetController.clearAction();\n    tonWidgetController.removeSelectedWalletInfo();\n    this.walletInfoStorage.removeWalletInfo();\n    return this.connector.disconnect();\n  }\n  sendTransaction(tx, actionConfiguration) {\n    return __async(this, null, function* () {\n      core.logDebug(\"OKXTonConnectUI sendTransaction() called\");\n      return this.sendTransactionInner(\n        tx,\n        {\n          returnStrategy: actionConfiguration == null ? void 0 : actionConfiguration.returnStrategy,\n          modals: actionConfiguration == null ? void 0 : actionConfiguration.modals\n        }\n      );\n    });\n  }\n  sendTransactionInner(tx, actionConfiguration) {\n    return __async(this, null, function* () {\n      var _a2, _b2;\n      this.tracker.trackTransactionSentForSignature(this.wallet, tx);\n      if (!this.connected) {\n        this.tracker.trackTransactionSigningFailed(this.wallet, tx, \"Wallet was not connected\");\n        throw new OKXConnectUiError(\"Connect wallet to send a transaction.\");\n      }\n      if (isInTMA()) {\n        sendExpand();\n      }\n      const options = {\n        returnStrategy: isDevice(\"mobile\") && ((_a2 = lastTonSelectedWalletInfo()) == null ? void 0 : _a2.openMethod) !== \"qrcode\" ? actionConfiguration == null ? void 0 : actionConfiguration.returnStrategy : \"none\",\n        modals: actionConfiguration == null ? void 0 : actionConfiguration.modals,\n        tmaReturnUrl: (_b2 = actionConfiguration == null ? void 0 : actionConfiguration.tmaReturnUrl) != null ? _b2 : \"back\"\n      };\n      const { modals, returnStrategy, tmaReturnUrl } = this.getModalsAndNotificationsConfiguration(options);\n      tonWidgetController.setAction({\n        name: \"confirm-transaction\",\n        openModal: modals.includes(\"before\"),\n        sent: false\n      });\n      const onRequestSent = () => {\n        var _a3;\n        if (abortController.signal.aborted) {\n          return;\n        }\n        if (!this.connector.openUniversalLink && openWalletForUIRequest(this.walletInfo, (_a3 = lastTonSelectedWalletInfo()) == null ? void 0 : _a3.openMethod)) {\n          openTonWallet(this.walletInfo, tmaReturnUrl);\n        }\n        tonWidgetController.setAction({\n          name: \"confirm-transaction\",\n          openModal: modals.includes(\"before\"),\n          sent: true\n        });\n      };\n      const abortController = new AbortController();\n      const unsubscribe = this.onTransactionModalStateChange((action) => {\n        if (action == null ? void 0 : action.openModal) {\n          return;\n        }\n        unsubscribe();\n      });\n      const transaction = __spreadProps(__spreadValues({}, tx), { redirect: returnStrategy });\n      try {\n        const result = yield this.waitForSendTransaction(\n          {\n            transaction,\n            signal: abortController.signal\n          },\n          onRequestSent\n        );\n        this.tracker.trackTransactionSigned(this.wallet, tx, result);\n        tonWidgetController.setAction({\n          name: \"transaction-sent\",\n          openModal: modals.includes(\"success\")\n        });\n        return result;\n      } catch (e2) {\n        tonWidgetController.setAction({\n          name: \"transaction-canceled\",\n          openModal: modals.includes(\"error\")\n        });\n        if (e2 instanceof core.OKXConnectError) {\n          throw e2;\n        } else {\n          throw new OKXConnectUiError(\"Unhandled error:\" + e2);\n        }\n      } finally {\n        unsubscribe();\n      }\n    });\n  }\n  waitForSendTransaction(options, onRequestSent) {\n    return __async(this, null, function* () {\n      return new Promise((resolve, reject) => {\n        var _a2;\n        const { transaction, signal } = options;\n        if (signal.aborted) {\n          this.tracker.trackTransactionSigningFailed(\n            this.wallet,\n            transaction,\n            \"Transaction was cancelled\"\n          );\n          return reject(new OKXConnectUiError(\"Transaction was not sent\"));\n        }\n        const onTransactionHandler = (transaction2) => __async(this, null, function* () {\n          resolve(transaction2);\n        });\n        const onErrorsHandler = (reason) => {\n          reject(reason);\n        };\n        const onCanceledHandler = () => {\n          this.tracker.trackTransactionSigningFailed(\n            this.wallet,\n            transaction,\n            \"Transaction was cancelled\"\n          );\n          reject(new OKXConnectUiError(\"Transaction was not sent\"));\n        };\n        signal.addEventListener(\"abort\", onCanceledHandler, { once: true });\n        this.connector.sendTransaction(transaction, {\n          doNotOpenWallet: !(isMobile() && ((_a2 = lastTonSelectedWalletInfo()) == null ? void 0 : _a2.openMethod) !== \"qrcode\"),\n          onRequestSent\n        }).then((result) => {\n          signal.removeEventListener(\"abort\", onCanceledHandler);\n          return onTransactionHandler(result);\n        }).catch((reason) => {\n          this.tracker.trackTransactionSigningFailed(\n            this.wallet,\n            transaction,\n            reason.message\n          );\n          signal.removeEventListener(\"abort\", onCanceledHandler);\n          return onErrorsHandler(reason);\n        });\n      });\n    });\n  }\n  onTransactionModalStateChange(onChange) {\n    return this.transactionModal.onStateChange(onChange);\n  }\n  subscribeToWalletChange() {\n    this.connector.onStatusChange((wallet) => __async(this, null, function* () {\n      var _a2;\n      if (wallet) {\n        yield this.updateWalletInfo(wallet);\n        this.setPreferredWalletAppName(((_a2 = this.walletInfo) == null ? void 0 : _a2.appName) || wallet.device.appName);\n      } else {\n        this.walletInfoStorage.removeWalletInfo();\n      }\n    }));\n  }\n  setPreferredWalletAppName(value) {\n    setTonAppState({ preferredWalletAppName: value });\n  }\n  getSelectedWalletInfo(wallet) {\n    return __async(this, null, function* () {\n      let lastSelectedWalletInfo = tonWidgetController.getSelectedWalletInfo();\n      if (!lastSelectedWalletInfo) {\n        return null;\n      }\n      let fullLastSelectedWalletInfo;\n      if (!(\"name\" in lastSelectedWalletInfo)) {\n        const walletsList = this.walletsList;\n        const walletInfo = walletsList.find((item) => eqWalletName(item, wallet.device.appName));\n        if (!walletInfo) {\n          throw new OKXConnectUiError(\n            `Cannot find WalletInfo for the '${wallet.device.appName}' wallet`\n          );\n        }\n        fullLastSelectedWalletInfo = __spreadValues(__spreadValues({}, walletInfo), lastSelectedWalletInfo);\n      } else {\n        fullLastSelectedWalletInfo = lastSelectedWalletInfo;\n      }\n      return fullLastSelectedWalletInfo;\n    });\n  }\n  updateWalletInfo(wallet) {\n    return __async(this, null, function* () {\n      this.walletInfo = this.getWalletInfo(wallet);\n      core.logDebug(\"updateWalletInfo ---this.walletInfo -\", JSON.stringify(this.walletInfo));\n    });\n  }\n  getWalletInfo(wallet) {\n    core.logDebug(\"getWalletInfo ----\", JSON.stringify(wallet));\n    let info = this.walletsList.find(\n      (walletInfo) => eqWalletName(walletInfo, wallet.device.appName)\n    ) || null;\n    core.logDebug(\"getWalletInfo ---info -\", JSON.stringify(info));\n    return info;\n  }\n  normalizeWidgetRoot(rootId) {\n    if (!rootId || !document.getElementById(rootId)) {\n      rootId = `okxton-widget-root`;\n      const rootElement = document.createElement(\"div\");\n      rootElement.id = rootId;\n      document.body.appendChild(rootElement);\n    }\n    return rootId;\n  }\n  checkButtonRootExist(buttonRootId) {\n    if (buttonRootId == null) {\n      return;\n    }\n    if (!document.getElementById(buttonRootId)) {\n      throw new OKXConnectUiError(`${buttonRootId} element not found in the document.`);\n    }\n  }\n  getModalsAndNotificationsConfiguration(options) {\n    var _a2, _b2, _c2;\n    const allActions = [\n      \"before\",\n      \"success\",\n      \"error\"\n    ];\n    let modals = [\"before\"];\n    if ((_a2 = this.actionsConfiguration) == null ? void 0 : _a2.modals) {\n      if (this.actionsConfiguration.modals === \"all\") {\n        modals = allActions;\n      } else {\n        modals = this.actionsConfiguration.modals;\n      }\n    }\n    if (options == null ? void 0 : options.modals) {\n      if (options.modals === \"all\") {\n        modals = allActions;\n      } else {\n        modals = options.modals;\n      }\n    }\n    const returnStrategy = (options == null ? void 0 : options.returnStrategy) || ((_b2 = this.actionsConfiguration) == null ? void 0 : _b2.returnStrategy) || \"back\";\n    const tmaReturnUrl = (options == null ? void 0 : options.tmaReturnUrl) || ((_c2 = this.actionsConfiguration) == null ? void 0 : _c2.tmaReturnUrl) || \"back\";\n    return {\n      modals,\n      tmaReturnUrl,\n      returnStrategy\n    };\n  }\n  showActionButton() {\n    return isAppWallet(this.walletInfo) && isMobile();\n  }\n}\nclass OKXTonConnectUI {\n  constructor(options) {\n    __publicField(this, \"okxTonConnectUI\");\n    __publicField(this, \"connectionRestored\", Promise.resolve(false));\n    core.logDebug(\"okx-connect-ton-ui-wrapper constructor called\");\n    if (window && window.okxConnectTonUIinwindow && window.okxConnectTonUIinwindow instanceof OKXTonConnectUIInner) {\n      this.okxTonConnectUI = window.okxConnectTonUIinwindow;\n      core.logDebug(\"okx-connect-ton-ui-wrapper constructor old called\");\n    } else {\n      this.okxTonConnectUI = new OKXTonConnectUIInner(options);\n      core.logDebug(\"okx-connect-ton-ui-wrapper constructor new called\");\n      if (window) {\n        window.okxConnectTonUIinwindow = this.okxTonConnectUI;\n      }\n    }\n  }\n  static getWallets() {\n    return OKXTonConnectUIInner.getWallets();\n  }\n  get connected() {\n    return this.okxTonConnectUI.connected;\n  }\n  get account() {\n    return this.okxTonConnectUI.account;\n  }\n  get wallet() {\n    return this.okxTonConnectUI.wallet;\n  }\n  get universalLink() {\n    return this.okxTonConnectUI.universalLink;\n  }\n  get deepLink() {\n    return this.okxTonConnectUI.deepLink;\n  }\n  get walletName() {\n    return this.okxTonConnectUI.walletName;\n  }\n  set uiOptions(options) {\n    this.okxTonConnectUI.uiOptions = options;\n  }\n  setConnectRequestParameters(connectRequestParameters) {\n    this.okxTonConnectUI.setConnectRequestParameters(connectRequestParameters);\n  }\n  getWallets() {\n    return this.okxTonConnectUI.getWallets();\n  }\n  onStatusChange(callback, errorsHandler) {\n    return this.okxTonConnectUI.onStatusChange(callback, errorsHandler);\n  }\n  handleConnect(connectMethod) {\n    return __async(this, null, function* () {\n      return this.okxTonConnectUI.handleConnect(connectMethod);\n    });\n  }\n  openModal() {\n    return __async(this, null, function* () {\n      return this.okxTonConnectUI.openModal();\n    });\n  }\n  closeModal(reason) {\n    return this.okxTonConnectUI.closeModal(reason);\n  }\n  onModalStateChange(onChange) {\n    return this.okxTonConnectUI.onModalStateChange(onChange);\n  }\n  get modalState() {\n    return this.okxTonConnectUI.modalState;\n  }\n  disconnect() {\n    return this.okxTonConnectUI.disconnect();\n  }\n  sendTransaction(tx, actionConfiguration) {\n    return __async(this, null, function* () {\n      return this.okxTonConnectUI.sendTransaction(tx, actionConfiguration);\n    });\n  }\n  showActionButton() {\n    return this.okxTonConnectUI.showActionButton();\n  }\n}\nconst [universalWalletsModalState, setUniversalWalletsModalState] = createSignal({\n  status: \"closed\",\n  closeReason: null\n});\ncreateMemo(\n  () => universalWalletsModalState().status === \"opened\"\n);\nconst [universalSingleWalletModalState, setUniversalSingleWalletModalState] = createSignal({\n  status: \"closed\",\n  closeReason: null\n});\nconst getUniversalSingleWalletModalIsOpened = createMemo(\n  () => universalSingleWalletModalState().status === \"opened\"\n);\nconst getUniversalSingleWalletModalWalletInfo = createMemo(() => {\n  const state = universalSingleWalletModalState();\n  if (state.status === \"opened\") {\n    return state.walletInfo;\n  }\n  return null;\n});\nlet lastSelectedWalletInfoStorage = typeof window !== \"undefined\" ? new LastSelectedWalletInfoStorage() : void 0;\nconst [lastUniversalSelectedWalletInfo, _setLastUniversalSelectedWalletInfo] = createSignal((lastSelectedWalletInfoStorage == null ? void 0 : lastSelectedWalletInfoStorage.getLastSelectedWalletInfo()) || null);\nconst setLastUniversalSelectedWalletInfo = (walletInfo) => {\n  if (!lastSelectedWalletInfoStorage) {\n    lastSelectedWalletInfoStorage = new LastSelectedWalletInfoStorage();\n  }\n  if (walletInfo) {\n    logDebug(`modals-state.ts: setLastSelectedWalletInfo ${JSON.stringify(walletInfo)}`);\n    lastSelectedWalletInfoStorage.setLastSelectedWalletInfo(walletInfo);\n  } else {\n    logDebug(\"modals-state.ts: setLastSelectedWalletInfo    removeLastSelectedWalletInfo\");\n    lastSelectedWalletInfoStorage.removeLastSelectedWalletInfo();\n  }\n  _setLastUniversalSelectedWalletInfo(walletInfo);\n};\nconst [universalAction, setUniversalAction] = createSignal(null);\nconst [universalAppState, setUniversalAppState] = createStore({\n  language: \"en_US\"\n});\nconst UniversalSingleWalletModal = () => {\n  const universalConnectUI = useContext(OKXConnectUiContext);\n  const connector = useContext(UniversalConnectorContext);\n  const [universalLinkParams, setUniversalLinkParams] = createSignal(null);\n  const [connectError, setConnectError] = createSignal(false);\n  const [sessionConnecting, setSessionConnecting] = createSignal(false);\n  const onClose = (closeReason) => {\n    universalConnectUI.closeModal(closeReason);\n  };\n  connector == null ? void 0 : connector.on(\"okx_engine_connect_params\", (info) => {\n    core.logDebug(`UniversalSigneWalletModal  okx_engine_connect_params  ${JSON.stringify(info)}`);\n    setUniversalLinkParams(info);\n  });\n  connector == null ? void 0 : connector.on(\"session_connecting\", () => {\n    core.logDebug(`UniversalSigneWalletModal  session_connecting  }`);\n    setSessionConnecting(true);\n  });\n  return createComponent(SingleWalletModal, {\n    get opened() {\n      return getUniversalSingleWalletModalIsOpened();\n    },\n    get walletInfo() {\n      return getUniversalSingleWalletModalWalletInfo();\n    },\n    loadingBeforeConnect: () => {\n      return false;\n    },\n    connect: () => {\n      return new Promise((resolve, reject) => {\n        var _a2, _b2;\n        if (universalAppState.connectRequestParameters) {\n          new OKXConnectUiError(\"connect params is nil\");\n        }\n        let opts = __spreadValues({}, JSON.parse(JSON.stringify(universalAppState.connectRequestParameters)));\n        opts.sessionConfig = {};\n        opts.sessionConfig.openUniversalUrl = defaultOpenUniversalLink((_a2 = universalAppState.connectRequestParameters) == null ? void 0 : _a2.namespaces, (_b2 = universalAppState.connectRequestParameters) == null ? void 0 : _b2.optionalNamespaces);\n        setConnectError(false);\n        setUniversalLinkParams(null);\n        setSessionConnecting(false);\n        universalConnectUI.handleConnect((actionConfiguration) => {\n          opts.sessionConfig.tmaReturnUrl = actionConfiguration == null ? void 0 : actionConfiguration.tmaReturnUrl;\n          opts.sessionConfig.redirect = actionConfiguration == null ? void 0 : actionConfiguration.returnStrategy;\n          return connector.connect(opts);\n        }).then((session) => {\n          if (session) {\n            onClose(\"wallet-selected\");\n            resolve(session);\n          } else {\n            setConnectError(true);\n            onClose(\"action-cancelled\");\n          }\n        }).catch((error) => {\n          setConnectError(true);\n          core.logDebug(\"UniversalSingleWalletModal connect  error\", JSON.stringify(error));\n          reject(error);\n        });\n      });\n    },\n    onClose,\n    universalLinkParams,\n    get isSingleWallet() {\n      var _a2, _b2;\n      return !showUniversalTgWalletByRequestNameSpaces((_a2 = universalAppState.connectRequestParameters) == null ? void 0 : _a2.namespaces, (_b2 = universalAppState.connectRequestParameters) == null ? void 0 : _b2.optionalNamespaces);\n    },\n    get lastSelectedWalletInfo() {\n      return lastUniversalSelectedWalletInfo();\n    },\n    setLastSelectedWalletInfo: setLastUniversalSelectedWalletInfo,\n    connectError,\n    showRetry: false,\n    get language() {\n      return universalAppState.language;\n    },\n    sessionConnecting\n  });\n};\nconst [universalThemeState, setUniversalThemeState] = createStore({\n  theme: THEME.LIGHT,\n  colors: defaultLightColorsSet,\n  borderRadius: \"m\"\n});\nconst themeColorsMappingDefault = {\n  [THEME.LIGHT]: defaultLightColorsSet,\n  [THEME.DARK]: defaultDarkColorsSet\n};\n({\n  [THEME.LIGHT]: void 0,\n  [THEME.DARK]: void 0\n});\nfunction setUniversalTheme(theme) {\n  setUniversalThemeState({\n    theme,\n    colors: themeColorsMappingDefault[theme]\n  });\n}\nconst UniversalApp = (props) => {\n  const translations = createI18nContext(i18nDictionary, universalAppState.language);\n  defineStylesRoot();\n  fixMobileSafariActiveTransition();\n  return createComponent(I18nContext.Provider, {\n    value: translations,\n    get children() {\n      return createComponent(OKXConnectUiContext.Provider, {\n        get value() {\n          return props.connectUI;\n        },\n        get children() {\n          return createComponent(UniversalConnectorContext.Provider, {\n            get value() {\n              return universalAppState.connector;\n            },\n            get children() {\n              return [createComponent(GlobalStyles, {}), createComponent(ThemeProvider, {\n                theme: universalThemeState,\n                get children() {\n                  return createComponent(Dynamic, {\n                    component: globalStylesTag,\n                    get children() {\n                      return [createComponent(UniversalSingleWalletModal, {}), createComponent(ActionsModal, {\n                        get action() {\n                          return universalAction();\n                        },\n                        setAction: setUniversalAction\n                      })];\n                    }\n                  });\n                }\n              })];\n            }\n          });\n        }\n      });\n    }\n  });\n};\nconst universalWidgetController = {\n  openSingleWalletModal: (walletInfo) => {\n    core.logDebug(`universalWidgetController : openSingleWalletModal : ${JSON.stringify(walletInfo)}`);\n    void setTimeout(() => setUniversalSingleWalletModalState({\n      status: \"opened\",\n      closeReason: null,\n      walletInfo\n    }));\n  },\n  closeSingleWalletModal: (reason) => void setTimeout(() => setUniversalSingleWalletModalState({\n    status: \"closed\",\n    closeReason: reason\n  })),\n  setAction: (action) => void setTimeout(() => setUniversalAction(action)),\n  clearAction: () => void setTimeout(() => {\n    console.log(\"clearAction\");\n    setUniversalAction(null);\n  }),\n  getSelectedWalletInfo: () => lastUniversalSelectedWalletInfo(),\n  removeSelectedWalletInfo: () => setLastUniversalSelectedWalletInfo(null),\n  renderUniversalApp: (root, connectUI) => {\n    return render(() => createComponent(UniversalApp, {\n      connectUI\n    }), document.getElementById(root));\n  }\n};\nclass Signal {\n  constructor() {\n    __publicField(this, \"listeners\", []);\n  }\n  listen(callback) {\n    this.listeners.push(callback);\n  }\n  trigger(data) {\n    this.listeners.forEach((listener) => listener(data));\n  }\n}\nclass UniversalSingleWalletModalManager {\n  constructor(options) {\n    __publicField(this, \"consumers\", []);\n    __publicField(this, \"getWalltsInfo\");\n    __publicField(this, \"connectSignal\", new Signal());\n    __publicField(this, \"state\", universalSingleWalletModalState());\n    this.getWalltsInfo = options.getWalltsInfo;\n    createEffect(() => {\n      const state = universalSingleWalletModalState();\n      this.state = state;\n      this.consumers.forEach((consumer) => consumer(state));\n    });\n  }\n  open(wallet, opts) {\n    return __async(this, null, function* () {\n      core.logDebug(`UniversalSingleWalletModalManager : open : ${JSON.stringify(opts)}`);\n      const externalWallets = this.getWalltsInfo();\n      const externalWallet = externalWallets.find((walletInfo) => eqWalletName(walletInfo, wallet));\n      if (externalWallet) {\n        return this.openSingleWalletModal(externalWallet, opts);\n      }\n      const error = `Trying to open modal window with unknown wallet \"${wallet}\".`;\n      throw new OKXConnectUiError(error);\n    });\n  }\n  close(reason = \"action-cancelled\") {\n    universalWidgetController.closeSingleWalletModal(reason);\n  }\n  onStateChange(onChange) {\n    this.consumers.push(onChange);\n    return () => {\n      this.consumers = this.consumers.filter((consumer) => consumer !== onChange);\n    };\n  }\n  handleConnect(connectMethod, actionConfiguration) {\n    return __async(this, null, function* () {\n      return new Promise((resolve, reject) => {\n        try {\n          connectMethod(actionConfiguration).then((result) => {\n            resolve(result);\n            core.logDebug(\"UniversalSingleWalletModalManager  result >>>\", JSON.stringify(result));\n            this.connectSignal.trigger(result);\n          }).catch((error) => {\n            reject(error);\n            core.logDebug(\"UniversalSingleWalletModalManager  error >>>\", JSON.stringify(error));\n            this.connectSignal.trigger(error);\n          });\n        } catch (error) {\n          reject(error);\n          core.logDebug(\"UniversalSingleWalletModalManager  catch error >>>\", JSON.stringify(error));\n          this.connectSignal.trigger(error);\n        }\n      });\n    });\n  }\n  openSingleWalletModal(wallet, opts) {\n    return __async(this, null, function* () {\n      core.logDebug(`UniversalSingleWalletModalManager : openSingleWalletModal : ${JSON.stringify(opts)}`);\n      if (isInTMA()) {\n        sendExpand();\n      }\n      setUniversalAppState({ connectRequestParameters: opts });\n      universalWidgetController.openSingleWalletModal(wallet);\n      return new Promise((resolve, reject) => {\n        this.connectSignal.listen((resultOrError) => {\n          if (resultOrError instanceof Error) {\n            reject(resultOrError);\n          } else {\n            resolve(resultOrError);\n          }\n        });\n      });\n    });\n  }\n}\nfunction base(ALPHABET2) {\n  if (ALPHABET2.length >= 255) {\n    throw new TypeError(\"Alphabet too long\");\n  }\n  var BASE_MAP = new Uint8Array(256);\n  for (var j = 0; j < BASE_MAP.length; j++) {\n    BASE_MAP[j] = 255;\n  }\n  for (var i2 = 0; i2 < ALPHABET2.length; i2++) {\n    var x = ALPHABET2.charAt(i2);\n    var xc = x.charCodeAt(0);\n    if (BASE_MAP[xc] !== 255) {\n      throw new TypeError(x + \" is ambiguous\");\n    }\n    BASE_MAP[xc] = i2;\n  }\n  var BASE = ALPHABET2.length;\n  var LEADER = ALPHABET2.charAt(0);\n  var FACTOR = Math.log(BASE) / Math.log(256);\n  var iFACTOR = Math.log(256) / Math.log(BASE);\n  function encode(source) {\n    if (source instanceof Uint8Array)\n      ;\n    else if (ArrayBuffer.isView(source)) {\n      source = new Uint8Array(source.buffer, source.byteOffset, source.byteLength);\n    } else if (Array.isArray(source)) {\n      source = Uint8Array.from(source);\n    }\n    if (!(source instanceof Uint8Array)) {\n      throw new TypeError(\"Expected Uint8Array\");\n    }\n    if (source.length === 0) {\n      return \"\";\n    }\n    var zeroes = 0;\n    var length = 0;\n    var pbegin = 0;\n    var pend = source.length;\n    while (pbegin !== pend && source[pbegin] === 0) {\n      pbegin++;\n      zeroes++;\n    }\n    var size2 = (pend - pbegin) * iFACTOR + 1 >>> 0;\n    var b58 = new Uint8Array(size2);\n    while (pbegin !== pend) {\n      var carry = source[pbegin];\n      var i3 = 0;\n      for (var it1 = size2 - 1; (carry !== 0 || i3 < length) && it1 !== -1; it1--, i3++) {\n        carry += 256 * b58[it1] >>> 0;\n        b58[it1] = carry % BASE >>> 0;\n        carry = carry / BASE >>> 0;\n      }\n      if (carry !== 0) {\n        throw new Error(\"Non-zero carry\");\n      }\n      length = i3;\n      pbegin++;\n    }\n    var it2 = size2 - length;\n    while (it2 !== size2 && b58[it2] === 0) {\n      it2++;\n    }\n    var str = LEADER.repeat(zeroes);\n    for (; it2 < size2; ++it2) {\n      str += ALPHABET2.charAt(b58[it2]);\n    }\n    return str;\n  }\n  function decodeUnsafe(source) {\n    if (typeof source !== \"string\") {\n      throw new TypeError(\"Expected String\");\n    }\n    if (source.length === 0) {\n      return new Uint8Array();\n    }\n    var psz = 0;\n    var zeroes = 0;\n    var length = 0;\n    while (source[psz] === LEADER) {\n      zeroes++;\n      psz++;\n    }\n    var size2 = (source.length - psz) * FACTOR + 1 >>> 0;\n    var b256 = new Uint8Array(size2);\n    while (source[psz]) {\n      var carry = BASE_MAP[source.charCodeAt(psz)];\n      if (carry === 255) {\n        return;\n      }\n      var i3 = 0;\n      for (var it3 = size2 - 1; (carry !== 0 || i3 < length) && it3 !== -1; it3--, i3++) {\n        carry += BASE * b256[it3] >>> 0;\n        b256[it3] = carry % 256 >>> 0;\n        carry = carry / 256 >>> 0;\n      }\n      if (carry !== 0) {\n        throw new Error(\"Non-zero carry\");\n      }\n      length = i3;\n      psz++;\n    }\n    var it4 = size2 - length;\n    while (it4 !== size2 && b256[it4] === 0) {\n      it4++;\n    }\n    var vch = new Uint8Array(zeroes + (size2 - it4));\n    var j2 = zeroes;\n    while (it4 !== size2) {\n      vch[j2++] = b256[it4++];\n    }\n    return vch;\n  }\n  function decode(string) {\n    var buffer = decodeUnsafe(string);\n    if (buffer) {\n      return buffer;\n    }\n    throw new Error(\"Non-base\" + BASE + \" character\");\n  }\n  return {\n    encode,\n    decodeUnsafe,\n    decode\n  };\n}\nvar src = base;\nconst basex = src;\nconst ALPHABET = \"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz\";\nvar bs58 = basex(ALPHABET);\nclass OKXUniversalConnectUI {\n  constructor(options, universalProvider2) {\n    __publicField(this, \"singleWalletModal\");\n    __publicField(this, \"actionsConfiguration\");\n    __publicField(this, \"systemThemeChangeUnsubscribe\", null);\n    __publicField(this, \"universalProvider\");\n    core.logDebug(\"OKXUniversalConnectUI constructor options:\", JSON.stringify(options));\n    this.singleWalletModal = new UniversalSingleWalletModalManager({\n      getWalltsInfo: () => OKXUniversalConnectUI.getWallets()\n    });\n    const rootId = this.normalizeWidgetRoot(void 0);\n    this.universalProvider = universalProvider2;\n    this.uiOptions = mergeOptions(options, { uiPreferences: { theme: \"SYSTEM\" }, dappMetaData: options.dappMetaData });\n    setUniversalAppState({ connector: universalProvider2 });\n    universalWidgetController.renderUniversalApp(rootId, this);\n  }\n  static getWallets() {\n    return [core.creatOKXWalletInfo(), core.creatOKXMiniAppWalletInfo()];\n  }\n  set uiOptions(options) {\n    var _a2, _b2, _c2;\n    core.logDebug(\"OKXUniversalConnectUI uiOptions() called\");\n    this.actionsConfiguration = options.actionsConfiguration;\n    if ((_a2 = options.uiPreferences) == null ? void 0 : _a2.theme) {\n      if (((_b2 = options.uiPreferences) == null ? void 0 : _b2.theme) !== \"SYSTEM\") {\n        (_c2 = this.systemThemeChangeUnsubscribe) == null ? void 0 : _c2.call(this);\n        setUniversalTheme(options.uiPreferences.theme);\n      } else {\n        setUniversalTheme(getSystemTheme());\n        if (!this.systemThemeChangeUnsubscribe) {\n          this.systemThemeChangeUnsubscribe = subscribeToThemeChange(setUniversalTheme);\n        }\n      }\n    }\n    if (options.language && !isValidLocale(options.language.toString())) {\n      options.language = \"en_US\";\n    }\n    setUniversalAppState((state) => {\n      var _a3;\n      const merged = mergeOptions(\n        __spreadValues(__spreadValues({}, options.language && { language: options.language }), !!((_a3 = options.actionsConfiguration) == null ? void 0 : _a3.returnStrategy) && {\n          returnStrategy: options.actionsConfiguration.returnStrategy\n        }),\n        unwrap(state)\n      );\n      return merged;\n    });\n  }\n  request(args, chain, actionConfiguration) {\n    return __async(this, null, function* () {\n      var _a2, _b2, _c2, _d2, _e2;\n      core.logDebug(\"OKXUniversalConnectUI request() called\");\n      if (!this.session) {\n        throw new OKXConnectUiError(\"Connect wallet to send a transaction.\");\n      }\n      const options = {\n        returnStrategy: isDevice(\"mobile\") && ((_a2 = lastUniversalSelectedWalletInfo()) == null ? void 0 : _a2.openMethod) !== \"qrcode\" ? actionConfiguration == null ? void 0 : actionConfiguration.returnStrategy : \"none\",\n        modals: actionConfiguration == null ? void 0 : actionConfiguration.modals,\n        tmaReturnUrl: (_b2 = actionConfiguration == null ? void 0 : actionConfiguration.tmaReturnUrl) != null ? _b2 : \"back\"\n      };\n      const { modals, returnStrategy, tmaReturnUrl } = this.getModalsAndNotificationsConfiguration(options);\n      const reqArgs = __spreadProps(__spreadValues({}, args), { redirect: returnStrategy });\n      const showRequestModal = this.universalProvider.showRequestModal(reqArgs, chain);\n      universalWidgetController.setAction({\n        name: \"confirm-transaction\",\n        openModal: modals.includes(\"before\") && showRequestModal,\n        sent: false\n      });\n      if (!((_c2 = this.session.sessionConfig) == null ? void 0 : _c2.openUniversalUrl) && showRequestModal && openWalletForUIRequest(this.getConnectWallet(), (_d2 = lastUniversalSelectedWalletInfo()) == null ? void 0 : _d2.openMethod)) {\n        openUniversalWallet(\n          this.getConnectWallet(),\n          tmaReturnUrl,\n          this.session.namespaces\n        );\n      }\n      if (this.session.sessionConfig) {\n        this.session.sessionConfig.openUniversalUrl = this.session.sessionConfig.openUniversalUrl && isMobile() && ((_e2 = lastUniversalSelectedWalletInfo()) == null ? void 0 : _e2.openMethod) !== \"qrcode\";\n      }\n      try {\n        const result = yield this.universalProvider.request(reqArgs, chain);\n        universalWidgetController.setAction({\n          name: \"transaction-sent\",\n          openModal: modals.includes(\"success\") && showRequestModal\n        });\n        return result;\n      } catch (e2) {\n        core.logDebug(`OKXUniversalConnectUI  request  ==>  ${typeof e2} ==> is core OKXConnectError: ${e2 instanceof core.OKXConnectError} ==> is universal-provider OKXConnectError: ${e2 instanceof universalProvider.OKXConnectError} ==>  ${JSON.stringify(e2)}`);\n        universalWidgetController.setAction({\n          name: \"transaction-canceled\",\n          openModal: modals.includes(\"error\") && showRequestModal\n        });\n        if (e2 instanceof core.OKXConnectError || e2 instanceof universalProvider.OKXConnectError) {\n          core.logDebug(`OKXUniversalConnectUI  request  ==> ${JSON.stringify(e2)}`);\n          throw e2;\n        } else {\n          throw new OKXConnectUiError(\"Unhandled error:\" + e2);\n        }\n      }\n    });\n  }\n  getModalsAndNotificationsConfiguration(options) {\n    var _a2, _b2, _c2;\n    const allActions = [\n      \"before\",\n      \"success\",\n      \"error\"\n    ];\n    let modals = [\"before\"];\n    if ((_a2 = this.actionsConfiguration) == null ? void 0 : _a2.modals) {\n      if (this.actionsConfiguration.modals === \"all\") {\n        modals = allActions;\n      } else {\n        modals = this.actionsConfiguration.modals;\n      }\n    }\n    if (options == null ? void 0 : options.modals) {\n      if (options.modals === \"all\") {\n        modals = allActions;\n      } else {\n        modals = options.modals;\n      }\n    }\n    const returnStrategy = (options == null ? void 0 : options.returnStrategy) || ((_b2 = this.actionsConfiguration) == null ? void 0 : _b2.returnStrategy) || \"back\";\n    const tmaReturnUrl = (options == null ? void 0 : options.tmaReturnUrl) || ((_c2 = this.actionsConfiguration) == null ? void 0 : _c2.tmaReturnUrl) || \"back\";\n    return {\n      modals,\n      tmaReturnUrl,\n      returnStrategy\n    };\n  }\n  static init(opts) {\n    return __async(this, null, function* () {\n      core.logDebug(\"OKXUniversalConnectUI init() called\");\n      if (opts && \"dappMetaData\" in opts && opts.dappMetaData) {\n        let provider;\n        if (window && window.okxConnectUniversalUIinwindow && window.okxConnectUniversalUIinwindow instanceof OKXUniversalConnectUI) {\n          core.logDebug(\"OKXUniversalConnectUI init() old called\");\n          provider = window.okxConnectUniversalUIinwindow;\n        } else {\n          core.logDebug(\"OKXUniversalConnectUI init() new called\");\n          let universalProvider$1 = yield universalProvider.OKXUniversalProvider.init({ dappMetaData: opts.dappMetaData });\n          provider = new OKXUniversalConnectUI(opts, universalProvider$1);\n          if (window) {\n            window.okxConnectUniversalUIinwindow = provider;\n          }\n        }\n        return provider;\n      } else {\n        throw new OKXConnectUiError(\n          \"You have to specify a `dappMetaData`in the options.\"\n        );\n      }\n    });\n  }\n  normalizeWidgetRoot(rootId) {\n    if (!rootId || !document.getElementById(rootId)) {\n      rootId = `universal-widget-root`;\n      const rootElement = document.createElement(\"div\");\n      rootElement.id = rootId;\n      document.body.appendChild(rootElement);\n    }\n    return rootId;\n  }\n  getWallets() {\n    return OKXUniversalConnectUI.getWallets();\n  }\n  handleConnect(connectMethod) {\n    return __async(this, null, function* () {\n      return this.singleWalletModal.handleConnect(connectMethod, this.actionsConfiguration);\n    });\n  }\n  checkConnectMethods(connectParams, responseItems) {\n    return __async(this, null, function* () {\n      core.logDebug(\"checkConnectMethods connectParams>>>>\", JSON.stringify(connectParams));\n      core.logDebug(\"checkConnectMethods responseItems>>>>\", JSON.stringify(responseItems));\n      if (this.universalProvider.session && connectParams && connectParams.length > 0) {\n        if (!responseItems || responseItems.length === 0) {\n          var requestItem = connectParams[0];\n          if (requestItem) {\n            if (requestItem.method === \"sync_all_addresses\") {\n              return;\n            }\n            let list = [];\n            try {\n              let callBackParams = yield universalProvider.connectMethodsAdaptOldVersion(requestItem, this.universalProvider.session);\n              core.logDebug(\"checkConnectMethods callBackParams111>>>>\", JSON.stringify(callBackParams));\n              let config = {};\n              if (isInTMA()) {\n                config[\"returnStrategy\"] = \"tg://resolve\";\n              }\n              core.logDebug(\"checkConnectMethods requestItem>>>>\", JSON.stringify(requestItem));\n              core.logDebug(\"checkConnectMethods callBackParams222>>>>\", JSON.stringify(callBackParams));\n              this.request(requestItem, requestItem.chainId, config).then((requestResult) => {\n                let resultItem = requestResult;\n                core.logDebug(`checkConnectMethods then resultItem ====> ${JSON.stringify(resultItem)}`);\n                if (requestItem.method === \"wallet_addEthereumChain\") {\n                  resultItem = {\n                    method: requestItem.method,\n                    chainId: requestItem.chainId,\n                    result: \"\"\n                  };\n                } else if (requestItem.method === \"personal_sign\") {\n                  resultItem = {\n                    method: requestItem.method,\n                    chainId: requestItem.chainId,\n                    result: resultItem\n                  };\n                } else if (requestItem.method === \"btc_signMessage\") {\n                  resultItem.chainId = requestItem.chainId;\n                } else if (requestItem.method === \"solana_signMessage\") {\n                  let sol_successData = resultItem.result;\n                  resultItem.chainId = requestItem.chainId;\n                  resultItem.result = __spreadProps(__spreadValues({}, callBackParams), {\n                    signature: bs58.decode(sol_successData)\n                  });\n                } else if (requestItem.method === \"sui_signMessage\" || requestItem.method === \"sui_signPersonalMessage\") {\n                  const sui_sign = resultItem.result;\n                  resultItem.chainId = requestItem.chainId;\n                  resultItem.result = __spreadProps(__spreadValues({}, callBackParams), {\n                    signature: sui_sign\n                  });\n                } else if (requestItem.method === \"aptos_signMessage\") {\n                  let aptos_sign = resultItem.result;\n                  if (aptos_sign.startsWith(\"0x\")) {\n                    aptos_sign = aptos_sign.slice(2, aptos_sign.length);\n                  }\n                  resultItem.chainId = requestItem.chainId;\n                  resultItem.result = __spreadProps(__spreadValues({}, callBackParams), {\n                    signature: aptos_sign\n                  });\n                } else if (requestItem.method === \"cosmos_signArbitrary\") {\n                  if (typeof resultItem.result == \"string\") {\n                    resultItem.chainId = requestItem.chainId;\n                    resultItem.result = JSON.parse(resultItem.result);\n                  }\n                }\n                list.push(resultItem);\n                core.logDebug(`OKXUniversalConnectUI checkConnectMethods success result ====> ${JSON.stringify(list)}`);\n                this.universalProvider.events.emit(\"connect_signResponse\", list);\n              }).catch((error) => {\n                let errorItem = universalProvider.creatNotSupportMethodItemReplay(requestItem);\n                list.push(errorItem);\n                core.logDebug(`OKXUniversalConnectUI checkConnectMethods error ====> ${JSON.stringify(error)}`);\n                this.universalProvider.events.emit(\"connect_signResponse\", list);\n              });\n            } catch (err) {\n              let errorItem = universalProvider.creatNotSupportMethodItemReplay(requestItem);\n              list.push(errorItem);\n              core.logDebug(`OKXUniversalConnectUI checkConnectMethods error ====> ${JSON.stringify(err)}`);\n              this.universalProvider.events.emit(\"connect_signResponse\", list);\n            }\n          } else {\n            console.log(\"checkConnectMethods requestItem is nil\", JSON.stringify(connectParams));\n          }\n        }\n      }\n    });\n  }\n  openModalAndSign(opts, signRequest) {\n    return __async(this, null, function* () {\n      core.logDebug(\"OKXUniversalConnectUI openModalAndSign() called\");\n      const updatedOpts = __spreadProps(__spreadValues({}, opts), { signRequest });\n      core.logDebug(\"OKXUniversalConnectUI openModalAndSign() opts:\", JSON.stringify(opts));\n      core.logDebug(\"OKXUniversalConnectUI openModalAndSign() signRequest:\", JSON.stringify(signRequest));\n      return yield this.openModal(updatedOpts);\n    });\n  }\n  openModal(opts) {\n    return __async(this, null, function* () {\n      core.logDebug(\"OKXUniversalConnectUI openModal() called\");\n      try {\n        if (this.connected()) {\n          return this.session;\n        }\n        var sessionInfo = yield this.singleWalletModal.open(\"okxAppWallet\", opts);\n        this.checkConnectMethods(opts.signRequest, sessionInfo == null ? void 0 : sessionInfo.signResponse);\n        return sessionInfo;\n      } catch (error) {\n        throw error;\n      }\n    });\n  }\n  closeModal(reason) {\n    this.singleWalletModal.close(reason);\n  }\n  onSingleWalletModalStateChange(onChange) {\n    console.log(\"ui - onSingleWalletModalStateChange\", onChange);\n    return this.singleWalletModal.onStateChange(onChange);\n  }\n  onModalStateChange(onChange) {\n    console.log(\"ui - onModalStateChange\", onChange);\n    return this.onSingleWalletModalStateChange(onChange);\n  }\n  showActionButton() {\n    return isAppWallet(this.getConnectWallet()) && isMobile();\n  }\n  getUniversalProvider() {\n    return this.universalProvider;\n  }\n  getConnectWallet() {\n    var _a2, _b2;\n    core.logDebug(`this.session?.wallet?.appName ${(_b2 = (_a2 = this.universalProvider.session) == null ? void 0 : _a2.wallet) == null ? void 0 : _b2.appName}`);\n    return this.getWallets().find((wallet) => {\n      var _a3, _b3;\n      return eqWalletName(wallet, (_b3 = (_a3 = this.universalProvider.session) == null ? void 0 : _a3.wallet) == null ? void 0 : _b3.appName);\n    });\n  }\n  get universalLink() {\n    var _a2, _b2;\n    core.logDebug(`this.getConnectWallet()?.universalLink ${(_a2 = this.getConnectWallet()) == null ? void 0 : _a2.universalLink}`);\n    return (_b2 = this.getConnectWallet()) == null ? void 0 : _b2.universalLink;\n  }\n  get deepLink() {\n    var _a2;\n    return (_a2 = this.getConnectWallet()) == null ? void 0 : _a2.deepLink;\n  }\n  get session() {\n    return this.universalProvider.session;\n  }\n  setDefaultChain(chain, rpcUrl) {\n    this.universalProvider.setDefaultChain(chain, rpcUrl);\n  }\n  on(event, listener) {\n    this.universalProvider.on(event, listener);\n  }\n  once(event, listener) {\n    this.universalProvider.once(event, listener);\n  }\n  removeListener(event, listener) {\n    this.universalProvider.removeListener(event, listener);\n  }\n  off(event, listener) {\n    this.universalProvider.off(event, listener);\n  }\n  get walletName() {\n    var _a2, _b2;\n    core.logDebug(`this.getConnectWallet()?.walletName ${(_a2 = this.getConnectWallet()) == null ? void 0 : _a2.name}`);\n    return (_b2 = this.getConnectWallet()) == null ? void 0 : _b2.name;\n  }\n  disconnect() {\n    return this.universalProvider.disconnect();\n  }\n  connected() {\n    return this.universalProvider.connected();\n  }\n  requestAccountsWithNamespace(namespace) {\n    return this.universalProvider.requestAccountsWithNamespace(namespace);\n  }\n  requestDefaultChainWithNamespace(namespace) {\n    return this.universalProvider.requestDefaultChainWithNamespace(namespace);\n  }\n}\nexports.OKXConnectUiError = OKXConnectUiError;\nexports.OKXTonConnectUI = OKXTonConnectUI;\nexports.OKXUniversalConnectUI = OKXUniversalConnectUI;\nexports.OKX_UI_CONNECTION_AND_TRANSACTION_EVENT = OKX_UI_CONNECTION_AND_TRANSACTION_EVENT;\nexports.THEME = THEME;\nfor (const k in tonsdk) {\n  if (k !== \"default\" && !exports.hasOwnProperty(k))\n    Object.defineProperty(exports, k, {\n      enumerable: true,\n      get: () => tonsdk[k]\n    });\n}\n//# sourceMappingURL=index.cjs.map\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","__webpack_require__.amdO = {};","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = function(module) {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t524: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkokxconnectdemo\"] = self[\"webpackChunkokxconnectdemo\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [504], function() { return __webpack_require__(12211); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["Object","defineProperty","exports","value","CONNECT_METHOD_BATCH_FETCHMSG","CONNECT_METHOD_FETCHMSG","CONNECT_METHOD_RECEIVE","CONNECT_METHOD_UNSUB","CONNECT_METHOD_SUB","CONNECT_METHOD_PUBLISH","CONNECT_METHOD_LOGIN","CONNECT_METHOD_PUSH","require","__createBinding","this","create","o","m","k","k2","undefined","desc","getOwnPropertyDescriptor","__esModule","writable","configurable","enumerable","get","__setModuleDefault","v","__importStar","mod","result","prototype","hasOwnProperty","call","__awaiter","thisArg","_arguments","P","generator","adopt","resolve","Promise","reject","fulfilled","step","next","e","rejected","done","then","apply","OKXWalletConnector","constants_1","storageconstants_1","storage_1","utils_1","utils_2","eventemitter3_1","log","protocol_1","WS","resolveWebSocketImplementation","constructor","url","events","EventEmitter","state","ConnectorState","InitState","selectedUrlIndex","retryCount","timeOutLimit","checkWSUrl","Error","heartbeatTimer","connectionTimeoutTimer","connectURLStorage","Storage","OKXCONNECTOR_CACHE_KEY","connecting","Connecting","onPayload","data","logDebug","rsp","Date","now","toString","emit","onClose","event","_a","socket","code","onError","id","payload","msg","onopen","onmessage","onclose","Connected","emitError","errorEvent","heartbeat","clearTimeout","OnError","readyState","WebSocket","OPEN","send","setTimeout","bind","tryRegistOpen","logError","registOpen","inRetry","toUTCString","URLSearchParams","startTimeOutTimer","hasBuiltInWebSocket","onerror","close","on","resetTimeOutTimer","OKXCONNECTOR_WS_URL_PENDING_CLOSE_CODE","FINISHED","checkMaxRetry","OKXCONNECTOR_WS_URL_LIST","length","connectionTryNext","nextUrl","getNextSelectUrl","CANCELED","pendingSocket","TIME_OUT","cacheSuccessUrlSelect","saveContent","onVisibleChanged","document","visibilityState","arguments","once","err","OKXConnectError","OKX_CONNECT_ERROR_CODES","CONNECTION_ERROR","connect","removeEventListener","addEventListener","disconnect","Disconnected","currentStatus","addListener","decrypt","success","failed","splitCheckComplete","listenPayloadHandler","removeListener","parsedEvent","safeJsonParse","params","rawMsg","message","skipMsg","checkResult","isSplitPackage","finalMessage","failHandler","addPackageParse","callback","payloadHandler","param","listener","off","doLogin","safeJsonStringify","getMsgPayloadFromHistory","tmpMsg","jsonstr","onOpen","openHandler","ConnectionManager","connect_1","commands_1","jwtconstants_1","crypto_1","jwt_1","safejson_1","log_1","report_1","url_1","connectionSplitPackages_1","appname","splitManager","ConnectionSplitPackages","connectStorage","OKXCONNECTOR_CACHE_KEY_DAPP","crypto","SessionCrypto","inTMA","isInTMA","reportLog","keyPairInfo","getCachedCryptoKeyPair","jwtKeyPair","getCachedJWTKeyPair","saveJWTKeyPair","connector","OKXCONNECTOR_WS_URL_1","packageId","connectedWalletPK","currentTopic","refreshPackageId","nowDate","saveCryptoKeyPair","keyPair","cacheInfo","encryptStoreMsg","OKXCONNECTOR_CRYPTO_KEY","kp","getAndDecrypt","content","clearCache","strkeyPair","publicKey","toHexString","secretKey","OKXCONNECTOR_JWT_KEY","strKeyPairInfo","hexToByteArray","generateKeyPair","isWalletPKReady","makeJWT","topic","signJWT","OKXCONNECTOR_JWT_SIDE","OKXCONNECTOR_JWT_TTL","parsePackage","input_1","input","ignoreACK","_b","_c","_d","_e","_f","_g","_h","_j","_k","_l","_m","_o","sendACK","getItem","OKXCONNECTOR_TOKEN_CACHE","inputObj","messageId","msgPlayloadObject","tryParseMessageSplitPayload","msgObject","topicId","messageObject","publishedAt","onReceivedPackageCheck","completeMessageIdList","forEach","msgId","sendReceive","restoreConnect","getConnectInfo","generateTopic","info","channelId","clientId","stringifyKeypair","fromRestore","timeLog","getTime","lastConnectId","cachedSenderPublicKey","OKXCONNECTOR_CRYPTO_SENDER_PK_CACHE","jwtToken","timeOne","error","name","timeF","sendFetchAndConsumeMessages","init","sendRaw","timeTh","catch","jsonrpc","CONNECT_JSONRPC_VER","method","token","replace","parsedMessage","updateProtocolVersion","protocolVersion","updateTopicSenderVersion","fail","msgObj","trimStart","startsWith","inputDataObj","msgResult","ttl","OKXCONNECTOR_MESSAGE_TTL","sendEncryptedMsg","topic_1","encryptedMsg_1","encryptedMsg","msg_1","encrypt","reportEvent","OKXReportType","LOG","sendSplitPackages","msgId_1","success_1","reason","fetchedMessages","hasMore","receivedMsgs","i","timeFive","cleanCache","saveSessionContent","key","OKXCONNECTOR_SESSION_PREFIX_KEY","jsonData","getSessionContent","jsonStr","object","getCurrentConnectionReady","__importDefault","localforage_1","ConnectionSplitSupportedVersionLimit","ConnectionSplitSupportedSizeLimit","ConnectionReceiveKey","ConnectionSendKey","ConnectionTopicVersionKey","side","splitMessageSendArray","Map","splitMessageReceivedArray","splitMessageSenderVersionMap","splitPackageCache","default","createInstance","OKXCONNECTOR_STORAGE_PROTOCOL_CACHE","sendRawMsg","recoverFromCache","size","payloadList","entries","splice","syncCache","messageObj","protocol_version","protocolMessageObject","package_group_id","set","sendMsg","senderVersion","msgLength","msg_parts","msg_part_length","push","slice","groupId","generateGroupId","splitMessagePackages","map","index","total_count","package_index","mergePackageArray","completeMap","inputTopic","itemList","item","messageCache","Array","index_check","Set","add","sort","a","b","messageList","reduce","msgList","messageIdList","msgIdList","join","receivedList","filter","includes","isSending","inputPayloadArray","inputSendArray","filtedArray","accept","sendCacheArray","cachedPayload","sendArray","concat","inputReceiveArray","receiveCacheArray","receiveArray","setItem","rec_array","send_array","CONNECT_PROTOCOL_VER","OKXCONNECTOR_WS_URL_IDX_KEY","OKXCONNECTOR_WS_URL_3","OKXCONNECTOR_WS_URL_2","EVENT_EMITTER_MAX_LISTENERS","OKXCONNECTOR_PROTOCOL_VERSION","Engine","sessionUtils_1","connectionManager","pendingRequests","disconnectListener","getDefaultReporter","beginReport","jsonResponse","handleResponse","addDisconnectListener","disconnecter","setSessionConnectingListener","sessionConnectingListener","clear","getRequestId","requestId","bindRequestForPromise","request","requestAnswer","option","JSON","stringify","assign","onAck","sendSession","sessionInfo","response","delete","restoreconnect","onConnectResult","conect","sessionConfig","connectInfo","openUniversalLink","openUniversalUrl","connectRequest","protocolVer","Number","tonConnectSdkVersion","dAppInfo","dappInfo","requests","connectRequestStr","utf8Array","TextEncoder","encode","base64Encoded","btoa","String","fromCharCode","deeplinkUrl","standardDeeplink","isIOS","isIos","openOKXDeeplinkWithFallback","session","onConnect","getUniversalLink","connectResponse","namespaces","buildNameSpacesByConnectResponse","wallet","maxProtocolVersion","universalConnect","connectInfoAndUrl","tonRequest","universalRequest","universalConnectRequest","redirect","encodeConnectParams","tonConnectRequest","isFromTonSDK","defaultConnectRequest","openOKXLink","getOKXLink","useMini","tmaReturnUrl","openMethod","openOKXTMAWalletlinkWithFallback","useShortLink","openOKXUniversalLink","UNKNOWN_ERROR","walletName","responses","methodsResponse","find","connectRequestMethods","signResponse","WalletConnectionManager","connectionManager_1","walletConnectionManager_1","engine_1","MULTICODEC_ED25519_LENGTH","MULTICODEC_ED25519_HEADER","MULTICODEC_ED25519_BASE","MULTICODEC_ED25519_ENCODING","DID_METHOD","DID_PREFIX","DID_DELIMITER","KEY_PAIR_SEED_LENGTH","DATA_ENCODING","JSON_ENCODING","JWT_ENCODING","JWT_DELIMITER","JWT_IRIDIUM_TYP","JWT_IRIDIUM_ALG","JWTHeaderType","decodeJSON","encodeJSON","encodeIss","decodeIss","encodeSig","decodeSig","encodeData","decodeData","encodeJWT","decodeJWT","verifyJWT","ed25519","tweetnacl_1","stringUtils_1","sign","str","okxtoString","okxfromString","val","publicKeyStr","issuer","prefix","multicodec","split","bytes","encoded","header","signature","jwt","sub_1","aud_1","ttl_1","keyPair_1","sub","aud","iat","Math","floor","alg","typ","iss","exp","act","detached","verify","OKXCONNECTOR_JWT_WALLET_SIDE","buildRequestAccountNameSpacesByConnectResponse","requestAccountNameSpaces","universalResponse","tonAddress","tonProof","address","network","ton_addr","ton_proof","accounts","namespace","addresses","methods","extra","chains","addressItem","addressArr","chain","utils_3","crypto_js_1","subKey","beforeKey","localStorage","resolveLocalStorage","checkAndUpgradeCache","storeKey","cipherIV","cacheStr","cacheKey","cache","cacheObj","fromCacheKey","toCacheKey","removeItem","timestamp","saveItem","localKey","totalCacheStr","getCachedPBKDF2InfoKey","pwLen","saltLen","pw","iv","salt","OKXCONNECTOR_STORAGER_CRYPTO_SALT","randomBytes","OKXCONNECTOR_STORAGE_CRYPTO_PASSWORD","OKXCONNECTOR_STORAGE_CRYPTO_CIPHERIV","ivBuffer","PBKDF2","iterations","storeInfo","AES","enc","Utf8","OKXCONNECTOR_STORAGE_CIPHER_METHOD","OKXCONNECTOR_TON_KEY","WalletConnectionManagerEvent","WalletConnectionManagerTopicInfoCacheKey","RECEIVE_REQUEST","walletConnectionConstants_1","communicateEvents","sessionCryptoInfoMap","inLogin","isLogined","offset","isTopicPublicKeyExist","timestampStr","parseInternalMsg","internalMsg","internalObj","origin","originContent","base64decode","updateClientId","cid","lastCheck","dappPublicKey","syncCacheSessionInfo","_p","_q","_r","_s","ignoreReceive","isInternalData","inner_message","inner_topic","decryptWallet","sessionInfoString","base64Content","inner_connection","toObject","recovrySessionInfoFromCache","cacheMap","topicItem","cryptoItem","cryptoKeyPair","cacheSessionInfo","sync","duplicatedTopics","appendTopic","sessionPublicKey","subscribeTopics","from","confirmAppendingTopics","keys","getSessionPublicKey","getCurrentCachedTopicIdList","needPublicKey","useRaw","connectedDappPK","cryptoObject","useCrypto","encryptWallet","messageStr","sendUnsubscribe","sendBatchFetchAndConsumeMessages","topicIdList","topics","withInternalData","finishCount","idx","nonceLength","sessionKeyPair","createKeypairFromString","createKeypair","box","createNonce","receiverPublicKey","encodedMessage","nonce","encrypted","concatInfo","concatUint8Arrays","hexResult","encodedResult","base64encode","senderPublicKey","messageByteArray","toUint8Array","internalMessage","splitToUint8Arrays","decrypted","open","TextDecoder","decode","__exportStar","p","IEngine","ISignClient","ISignClientEvents","IEngineEvents","super","client","creatOKXMiniAppWalletInfo","creatOKXWalletInfo","getBigIntRpcId","formatJsonRpcRequest","isJsonRpcError","isJsonRpcResponse","parseConnectionError","isHttpUrl","formatJsonRpcError","json_rpc_1","wallet_info_1","isJsonRpcPayload","isJsonRpcRequest","isJsonRpcResult","payloadId","formatJsonRpcResult","isReservedErrorCode","getError","getErrorByCode","formatErrorMessage","isWsUrl","okx_connect_error_1","IncrementalRandomGenerator","bits","Uint8Array","Uint16Array","Uint32Array","initialValue","getNextValue","uint8Generator","uint16Generator","date","BigInt","RESERVED_ERROR_CODES","type","STANDARD_ERROR_MAP","DEFAULT_ERROR","match","values","INTERNAL_ERROR","SERVER_ERROR","getUrlProtocol","matches","RegExp","matchRegexProtocol","regex","protocol","test","CONNECT_ITEM_ERROR_CODES","TONCHAIN","connect_wallet_1","connect_event_1","downloadUrl","standardUniversalLink","tgwalletName","tgwalletAppName","shortUniversalLink","okxDeeplink","window","location","hostname","SERVER_ERROR_CODE_RANGE","INVALID_PARAMS","METHOD_NOT_FOUND","INVALID_REQUEST","PARSE_ERROR","getDefaultMessageByCode","setPrototypeOf","toJSON","BAD_REQUEST_ERROR","ALREADY_CONNECTED_ERROR","NOT_CONNECTED_ERROR","UNKNOWN_APP_ERROR","USER_REJECTS_ERROR","METHOD_NOT_SUPPORTED","NameSpaceKeyTron","NameSpaceKeyCosmos","NameSpaceKeyAptos","NameSpaceKeyBtc","NameSpaceKeySui","NameSpaceKeyTON","NameSpaceKeySOL","NameSpaceKeyEip155","misc_1","callForSuccess","fn","options","attempts","delayMs","lastError","delay","timeout","signal","aborted","timeoutId","versionCompare","isBrowser","isOS","isMobileUserAgent","openDeeplinkWithFallback","openLinkBlank","openLink","toSafeBase64FromBase64","isValidObject","getAppWalletShortDeepLink","encodeTWAConnectURLParams","getTelegramWalletTWAUrl","getAppWalletDeepLink","encodeTelegramUrlParameters","isTelegramUrl","openOKXDeeplink","logWarning","call_for_success_1","web_api_1","tma_api_1","debug","forceReport","defaultReporter","OKXReporter","args","console","okxLogDebug","sendRecordContent","warn","action","content_1","OKXReportSide","versionStr","cross_fetch_1","reportApiList","reportCacheKey","reportUUIDKey","MAX_LIMIT_REPORTCOUNT","DEFAULT_HTTP_HEADERS","Accept","DEFAULT_HTTP_METHOD","DEFAULT_FETCH_OPTS","headers","PAGE_IN","PAGE_OUT","CLICK","DAPP","WALLET","fetchListWithTimeout","urls_1","args_1","urls","controller","AbortController","fetchPromise","timeoutPromise","_","abort","race","ok","status","currentSide","currentVersion","storage","recordList","currentUUID","configVersionAndSide","version","appName","recordCacheKey","reportPlatform","startErrorCatching","records","uuid","sendCachedRecords","getWindow","cachedErrors","sendRecord","record","body","res","path","pathname","language","navigator","ua","userAgent","platform","reportItem","lang","markRecordItem","sendList","allSettled","results","keepIndex","markRecord","Report_WalletType_Key","Report_Proceed_QRCode_Click","Report_ChooseType_Download_Click","Report_ChooseType_ConnectWallet_Click","Report_Proceed_Retry_Click","Report_ChooseType_ConnectWallet_View","Report_Loading_ConnectWallet_View","Report_Proceed_QRCode_View","Report_Proceed_Proceed_View","JSONStringify","JSONParse","json","numbersBiggerThanMaxInt","serializedData","group","parse","isCustomFormatBigInt","substring","alloc","allocUnsafe","basics_1","string","encoding","base","BASES","decoder","array","encoder","createCodec","buf","ascii","bufNum","charCodeAt","utf8","hex","bases","base16","latin1","binary","isTmaPlatform","isInTelegramBrowser","sendExpand","sendOpenTelegramLink","initParams","locationHash","hash","urlParseHashParams","tmaPlatform","tgWebAppPlatform","Telegram","WebApp","webAppVersion","tgWebAppVersion","platforms","TelegramWebviewProxy","isTelegramWebview","TelegramWebview","postEvent","link","fallback","URL","pathFull","search","isIframe","versionAtLeast","path_full","parent","eventType","eventData","external","notify","trustedTarget","postMessage","indexOf","_path","urlSafeDecode","qIndex","pathParam","substr","query_params","urlParseQueryString","urlencoded","decodeURIComponent","queryString","paramName","paramValue","queryStringParams","v1","v2","p1","p2","v1List","v2List","max","parseInt","ver","removeUrlLastSlash","addPathToUrl","constants_2","deeplinkEncodeUrl","encodeURIComponent","fullUrl","isTelegram","newWindow","href","deepLinkOpened","timeoutDuration","fallbackToDownloadPage","parameters","encodedParameters","connectRequestWithVersion","connectParam","getLastSixMd5Hash","redirectStr","okxconnect","extraparams","base64ContentStr","urlSafeBase64","twaDeepLink","openTelegramLink","encodeTGParams","RANDOM_LENGTH","hasLocalStorage","hashKey","generateRandomBytes32","tweetnacl_util_1","to_string_1","sha256_1","BASE16","hexString","byteArray","byte","buffer1","buffer2","mergedArray","subArray1","subArray2","encodeUint8Array","urlSafe","encodeBase64","decodeToUint8Array","decodeBase64","uint8Array","decodeUTF8","decodedUint8Array","encodeUTF8","scheme","global","self","randomBytes32","obj","getPrototypeOf","maxTouchPoints","isIOSDevice","MSStream","isIPadOS","MD5","base64","getUserAgent","ua_parser_js_1","target","doFallback","fallbackTimeout","check","vendor","opera","getResult","osName","os","toLowerCase","deviceModel","device","model","browserName","browser","toUserFriendlyAddress","createVersionInfo","BrowserEventDispatcher","createTransactionSigningFailedEvent","createTransactionSignedEvent","createTransactionSentForSignatureEvent","createDisconnectionEvent","createConnectionStartedEvent","createConnectionRestoringStartedEvent","createConnectionRestoringErrorEvent","createConnectionRestoringCompletedEvent","createConnectionErrorEvent","createConnectionCompletedEvent","createResponseVersionEvent","createRequestVersionEvent","OKX_TON_CONNECTION_AND_TRANSACTION_EVENT","OKXTonConnect","okx_connect_ton_1","tracker_1","__rest","s","t","getOwnPropertySymbols","propertyIsEnumerable","OKXTonConnectInner","bridge_provider_1","core_1","feature_support_1","ton_connect_tracker_1","send_transaction_parser_1","bridge_connection_storage_1","_wallet","provider","statusChangeSubscriptions","statusChangeErrorSubscriptions","metaData","dappSettings","tracker","TonConnectTracker","OKXtonConnectSdkVersion","bridgeConnectionStorage","BridgeConnectionStorage","connected","account","closeConnection","BridgeProvider","listen","walletEventsListener","trackConnectionStarted","createConnectRequest","onWalletConnected","onWalletConnectError","onWalletDisconnected","connectEvent","tonAccountItem","items","tonProofItem","walletStateInit","connectItems","trackConnectionCompleted","connectEventError","errorsHandler","trackConnectionError","scope","trackDisconnection","onStatusChange","restoreConnection","trackConnectionRestoringStarted","fromStorage","trackConnectionRestoringError","removeConnection","trackConnectionRestoringCompleted","sendTransaction","transaction","checkConnection","checkSendTransactionSupport","features","requiredMessagesNumber","messages","trackTransactionSentForSignature","validUntil","tx","doNotOpenWallet","openOKXWallet","sendRequest","sendTransactionParser","convertToRpcRequest","valid_until","onRequestSent","isError","trackTransactionSigningFailed","convertFromRpcResponse","trackTransactionSigned","getWallets","walletsList","okx_connect_ton_inner_1","okxConnectTonsdkinwindow","tonInner","RpcParser","rpc_parser_1","SendTransactionParser","rpcResponse","boc","storeConnection","connection","getConnection","stored","getHttpConnection","storeLastWalletEventId","lastWalletEventId","getLastWalletEventId","bridge_connection_1","listeners","walletConnectionSource","connectManager","engine","connectionStorage","isPendingConnectionHttp","tonNameSpace","requiredNamespaces","engineRequest","config","deepLink","universalUrl","trackConnectionInfoBeforeJump","connectSuccessHandle","errorMessage","disconnectMessage","itemArr","tonDeviceInfo","appVersion","tonConnectInfo","connectionSource","successMessage","needOpenUrl","storedConnection","called","dispatchEvent","eventName","eventDetails","CustomEvent","detail","tracker_constants_1","types_1","browser_event_dispatcher_1","okx_ton_connect_sdk_lib","okx_connect_ui_lib","OKXConnectUiVersion","eventPrefix","eventDispatcher","setRequestVersionHandler","requestTonConnectUiVersion","dispatchUserActionEvent","trackConnectionDeepLink","createConnectionDeepLinkEvent","createConnectionInfoBeforeJumpEvent","createConnectionInfo","isTonProof","authType","wallet_address","wallet_type","wallet_version","auth_type","custom_data","chain_id","is_success","error_message","errorCode","error_code","createTransactionInfo","amount","signedTransaction","signed_transaction","noBounceableTag","testOnlyTag","hexAddress","testOnly","wc","parseHexAddress","tag","addr","Int8Array","addressWithChecksum","crc16","addressBase64","parts","hexToBytes","poly","reg","mask","toByteMap","ord","length2","doubled","hexSubstring","supportsDeprecatedSendTransactionFeature","address_1","OKXBtcProvider","_1","caip","getAddressForChainId","chainId","ns","checkChainId","getAccount","signMessage","signStr","ret","errorData","sendBitcoin","toAddress","satoshis","to","feeRate","txhash","checkParameters","signPsbt","psbtHex","signPsbts","psbtResults","psbtHexs","signAndPushPsbt","sendInscription","inscriptionId","extension","coinId","protocolId","atomicSuffix","ordinalsSuffix","endsWith","removeSuffix","scenario","txType","batchBean","coinAmount","nftId","suffix","unexistKeys","namespaceKey","OKXCosmosProvider","accountArray","algo","bech32Address","pubKey","hexToUint8Array","signArbitrary","signerAddress","signDoc","account_number","sequence","fee","gas","msgs","memo","signData","signAmino","signOptions","resData","signed","signDirect","bodyBytes","bufferToHex","authInfoBytes","accountNumber","messageToBuffer","buffer","arr","output","x","padStart","arrayBuffer","byteValue","isNaN","OKXTonProvider","tonWallet","sessionWallet","MAINNET","requestAccountsWithNamespace","requestParams","OKXTronProvider","TRON_CHAIN_ID","getChain","CHAIN_NOT_SUPPORTED","stringToHex","signMessageV2","signTransaction","signedTx","realSignTx","visible","txID","rawData","contract","raw_data","expiration","ref_block_bytes","ref_block_hash","raw_data_hex","signAndSendTransaction","OKXUniversalProvider","eip155_1","sui_1","client_1","namespaces_1","solana_1","btc_1","aptos_1","ton_1","cosmos_1","tron_1","packages_1","provider_1","opts","setGlobal","okxConnectUniversalinwindow","initialize","providerOpts","dappMetaData","rpcProviders","requestParam","buildRequestParamFromRequest","getProvider","validateChain","keyArr","enable","connectOpts","requestAccounts","disconnectAndEmit","cleanup","aptosChainNameToGeneralId","replaceAptos","aptosNameSpace","realNS","replaceAptosInner","aptos","optionAptosNameSpace","optionalNamespaces","realOptionNS","defaultChain","replaceAptosGeneralIdWithNetName","replaceSessionAptos","disconnectInner","connectAndSign","signRequest","updatedOpts","setNamespaces","requestItem","signResponseList","okxConnectUniversalUIinwindow","creatNotSupportMethodItemReplay","syncAllAddresses","syncAddressAvailable","syncAllAddress","setDefaultChain","rpcUrl","checkStorage","sessionInfoStr","getFromStore","createProviders","registerEventListeners","SignClient","providersToCreate","parseNamespaceKey","namespacesValue","currentNameSpace","Eip155Provider","opts1","solanaProvider","sonicProvider","svmProvider","optsTon","tonProvider","optsSui","suiProvider","SuiProvider","optsBtc","btcProvider","fbProvider","aptosProvider","moveProvider","cosmosProvider","tronProvider","PROVIDER_EVENTS","DEFAULT_CHAIN_CHANGED","caip2ChainId","onChainChanged","UPDATE_NAMESPACES","nameSpaces","nameSpacekey","persist","icon","isChainNamespaceInSession","chainsArr","defaultNamespace","getDefaultChain","namespaceStr","requestDefaultChainWithNamespace","caip2Chain","sessionProperties","showRequestModal","OKXUniversalProvider_1","OKXBtcProvider_1","OKXCosmosProvider_1","OKXTonProvider_1","OKXTronProvider_1","ConnectMethodUtils_1","requestAccountItem","nameSpaceToConnectWalletNameSpace","SESSION_CONNECTING","connectMethodsToConnectWalletMethods","metadata","fillParamsToSession","connectMethodsResponseUpdate","allAddressStr","syncResoonseToRequire","connectSupportMethods","connectMethodsAdaptOldVersion","bs58_1","uint8array_extras_1","isArray","isRecord","notSupportError","errorItem","callBackParams","solAccount","account1","solAddress","fromAccountToAddress","realMessage","stringToUint8Array","suiMessage","convertedArray","b64encoded","atob","btcAccounts","account2","btcAccount","btcAddress","paramData","aptosAccount","account3","aptosAddress","fullMessage","application","aptosChainId","cosmosAccount","account_cosmos","cosmosAddress","cosmosData","cosmosBase64Encoded","stringToBase64","methodItem","solanaSuccessData","suiMethod","requestMethod","suiMessageb64","aptosSignature","requireNameSpace","includeEip155","some","space","syncAddressHostAvailable","includeChain","paramsArr","firstParam","firstObj","aptosParams","currentURL","signChainId","applicationUrl","cosmosChain","responseAddressStr","allAddress","isEvm","deriveName","ci","evmAddress","freeze","getAccountsChains","isCaipNamespace","mergeRpcMap","targetRpcMap","sourceRpcMap","mergeNamespaces","source","rpcMap","GENERIC_SUBPROVIDER_NAME","RPC_URL","STORAGE","CONTEXT","WC_VERSION","PROTOCOL","RELAY_URL","LOGGER","JsonRpcConnection_1","JsonRpcProvider_1","AptosProvider","httpProviders","createHttpProviders","updateNamespace","getAccounts","setHttpProvider","http","parsedChainId","getChainId","parsedRpc","getRpcUrl","httpProvider","createHttpProvider","getHttpProvider","rpc","JsonRpcProvider","JsonRpcConnection","getGlobal","BtcProvider","CosmosProvider","updateRequestParams","isDic","switchChainId","decimalNumber","selectedChainId","chainNum","paramsChainId","paramsChainString","adaptArray","addressObj","isEqual","chainAddress","typedDataJson","secondObj","hexChainId","getHexChainIdFromRequest","isChainApproved","handleSwitchChain","addEthereumChain","resultData","nameSpace","rpcUrls","eip155","core_2","disableProviderPing","isAvailable","registering","register","parseError","IJSONRpcProvider","hasRegisteredEventListeners","setConnection","context","requestStrict","_error","SolanaProvider","getPubkey","getWalletAddress","components","TONProvider","newParams","fromAddress","TronProvider","IJSONRpcConnection","opt","globals","convertChainIdToNumber","parseChainId","mergeArrays","projectId","reference","CAIP_DELIMITER","okxGlobal","_createElementBlock","_hoisted_1","_createVNode","_component_el_container","_withCtx","_component_el_header","_cache","_createTextVNode","_component_el_main","_component_el_card","class","_createElementVNode","style","_component_el_row","_component_el_col","span","_toDisplayString","$options","_ctx","_component_el_checkbox","modelValue","withUI","$event","onChange","handleWithUI","universalToTG","handleUniversalToTG","_component_el_select","modals","placeholder","handleModalsSelect","multiple","_component_el_option","label","returnStrategy","handleReturnStrategySelect","_Fragment","_renderList","returnStrategies","strategy","_createBlock","_component_el_input","deeplink","handleReturnStrategyDeeplink","disabled","_createCommentVNode","handleLanguageSelect","locales","locale","theme","handleThemeSelect","THEME","LIGHT","DARK","selectedMethod","handleConnectMethodsSelect","connectMethods","tonProofValue","gutter","align","availableChains","checked","areChainsInit","isOptionalChecked","handleOptionChange","_component_el_button","onClick","initBtnClicked","connectInitStr","connectBtnClicked","connectStatusStr","syncAllAddressClick","syncAllAddressStr","disconnectAction","walletAddress","disconnectStatusStr","_Teleport","showModal","closeModal","_withModifiers","_component_qrcode_vue","qrValue","level","_component_el_tabs","activeTab","onTabClick","clickActiveTab","_component_el_tab_pane","eth_requestAccounts","eth_chainId","wallet_switchEthereumChain","wallet_addEthereumChain","personal_sign","eth_signTypedData_v4","eth_sendTransaction_transfer","eth_sendTransaction_approve","eth_sendTransaction_mint","wallet_watchAsset","ton_getAccount","ton_sendTransaction","sol_signMessage","sol_signTransaction","sol_signVersionedTransaction","sol_signAllTransactions","sol_signAllVersionedTransactions","sol_signAndSendTransaction","sol_signAndSendVersionedTransaction","_component_SuiPanel","onGenerateTransactionParams","sui_generateTransactionParams","_component_BTCPanel","btc_generateTransactionParams","_component_FractalPanel","fractal_generateTransactionParams","_component_TronTransactionPanel","tron_generateTransactionParams","onGenerateTransactionResult","tron_getTransactionResult","aptos_signMessage","aptos_signTransaction","aptos_signAndSubmitTransaction","cosmos_signArbitrary","cosmos_signAmino","cosmos_signDirect","wallet_testRpc","eth_sendTransaction_swap","move_signTransaction","move_signAndSubmitTransaction","testBase64UrlSafe","xs","sm","handleRedirectSelect","canChainAddRedirectParam","redirectDeeplink","handleRedirectDeeplink","addRedirectParam","testTransaction","rows","testboc","testTransactionStr","btc_signMessage","$setup","sendAmount","clearable","btc_send","sendSatoshisAmount","btc_sendBitcoin","btc_signPsbt_up","btc_signAndPushPsbt_up","receiver","btc_sendInscription","props","setup","ref","$emit","alert","autoFinalized","__exports__","fractal_signMessage","fractal_send","fractal_sendBitcoin","fractal_signPsbt_up","fractal_signAndPushPsbt_up","fractal_sendInscription","sui_getAccount","sui_signMessage","sui_signPersonalMessage","sui_signTransaction2","sui_signAndExecuteTransaction","sui_requestRpc","sui_signTransaction_pre_execution","sui_signAndExecuteTransaction_pre_execution","recipientAddress","SuiTransaction","coin","splitCoins","transferObjects","transactionBlock","showEffects","txBytes","txSerialize","generateTsBytesAndSerizlize","resultTuple","senderAccounts","getFullnodeUrl","suiClient","SuiClient","setSender","build","Buffer","currentSuiTransaction","currentSuiMethod","tron_signMessage","tron_signMessageV2","tron_signTransaction","tron_signAndSendTransactionContract","tron_signAndSendTransactionApprove","tronWeb","TronWeb","trx","verifyMessage","base58Address","verifyMessageV2","isOnlySign","transactionBuilder","sendTrx","getContract","contractAddress","abi","entrys","parameter","triggerSmartContract","verifyADR36Amino","fromBech32","VConsole","allChains","chainsThatCanAddRedirectParam","optionChains","selectedModals","selectedReturnStrategy","selectedDeepLink","selectedLanguage","selectedTheme","TronTransactionPanel","QrcodeVue","BTCPanel","FractalPanel","SuiPanel","testTopic","testPublicKey","testProofPayload","pendingDeepLink","logList","connectReady","localPubKey","localSecKey","selectedChain","ProofPayloadVerify","showVerifyRow","has","selectedMethodData","isChecked","reload","computed","selectedChains","initChains","newChains","updatedChains","tab","tabName","initCall","OKXUniversalConnectUI","actionsConfiguration","uiPreferences","walletInfo","onModalStateChange","uri","isPC","testTonSdk","blockExplorerUrls","chainName","nativeCurrency","symbol","decimals","dataETH","dataPolygon","types","EIP712Domain","Person","Mail","primaryType","domain","verifyingContract","contents","maxPriorityFeePerGas","maxFeePerGas","gasPrice","gasLimit","image","tonUniversalLog","sendTransactionAlert","fetch","confirm","sendData","adapter","SuiAdapter","suiResult","signAndExecuteTransaction","sui_verifySignature","signPersonalMessage","btcAdapter","btcResult","currentBtcMethod","currentBtcTransaction","hexToBase64","bs64Str","fractalResult","currentFractalMethod","currentFractalTransaction","hexStr","blob","Blob","reader","FileReader","onload","base64Data","readAsDataURL","datatest","firstStr","showUrl","hasEip155","hasSolana","hasSui","hasBtc","hasAptos","hasTon","hasCosmos","nameSpacesChains","optSpaceChains","solanaChains","hasTron","suiChains","btcChains","connectMethod","connectData","requireData","solana","cosmos","tron","tonParams","ton","sui","btc","optData","signMethods","getCurrentSelectedMethodData","openModalAndSign","openModal","methodList","suiData","currentMethod","userAgentInfo","Agents","flag","isSafariOrChrome","pubkey","OKXSolanaProvider","result1","nacl","PublicKey","toBytes","OKXAptosProvider","AptosConfig","Network","Aptos","simple","sender","function","typeArguments","functionArguments","signAndSubmitTransaction","Connection","getSolConnect","blockhash","getLatestBlockhash","versionedTransactionMessage","TransactionMessage","payerKey","recentBlockhash","instructions","SystemProgram","transfer","fromPubkey","toPubkey","lamports","compileToV0Message","VersionedTransaction","signAllTransactions","Transaction","feePayer","isValid","cosmos_verifySignArbitrary","pub_key","signer","prefixStr","signatureBuffer","uint8Signature","pubKeyValueBuffer","pubKeyUint8Array","uiOptions","eth_verifyMessage","ethAddress","originalMessage","recoveredAddress","ethers","list","verifyList","requestItme","ethMessage","solanaMessage","verifySol","aptosMessage","aptosPublicKey","cosmosMessage","tronMessage","signatureResult","resultObj","verifyPersonalMessageSignature","toSuiAddress","toBase64","newTransaction","c","created","mounted","scriptTag","createElement","src","getElementsByTagName","appendChild","title","render","app","createApp","App","use","ElementPlus","mount","_i","__defProp","__defProps","defineProperties","__getOwnPropDescs","getOwnPropertyDescriptors","__getOwnPropSymbols","__hasOwnProp","__propIsEnum","__defNormalProp","__spreadValues","a2","prop","__spreadProps","__publicField","__async","__this","__arguments","e2","throw","Symbol","toStringTag","core","tonsdk","UAParser","cn","deepmerge","universalProvider","_interopDefaultLegacy","UAParser__default","cn__default","deepmerge__default","THEME2","OKXConnectUiError","sharedConfig","registry","effects","getContextId","count","getNextContextId","num","len","equalFn","$PROXY","SUPPORTS_PROXY","Proxy","$TRACK","signalOptions","equals","runEffects","runQueue","STALE","PENDING","UNOWNED","owned","cleanups","owner","Owner","Transition$1","Listener","Updates","Effects","ExecCount","createRoot","detachedOwner","unowned","current","root","updateFn","untrack","cleanNode","runUpdates","createSignal","s2","observers","observerSlots","comparator","setter","value2","writeSignal","readSignal","createComputed","c2","createComputation","updateComputation","createRenderEffect","createEffect","runUserEffects","user","createMemo","batch","onMount","onCleanup","getListener","getOwner","runWithOwner","o2","prev","prevListener","handleError","createContext","defaultValue","Provider","createProvider","useContext","children","children2","resolveChildren","toArray","sources","updates","lookUpstream","sSlot","sourceSlots","node","isComp","i2","TransitionRunning","running","disposed","tState","pure","markDownstream","time","runComputation","nextValue","updatedAt","runTop","suspense","inFallback","ancestors","wait","completeUpdates","queue","userLength","ignore","pop","obs","n2","tOwned","castError","cause","createComponent","Comp","trueFn","propTraps","property","deleteProperty","ownKeys","resolveSource","resolveSources","mergeProps","proxy","sourcesMap","defined","sourceKeys","getOwnPropertyNames","i3","sources2","definedKeys","splitProps","blocked","flat","otherObject","objects","propName","isDefaultDesc","objectIndex","narrowedError","Show","keyed","condition","when","child","Switch","conditions","evalConditions","conds","cond","Match","booleans","Properties","ChildProperties","Aliases","className","htmlFor","PropAliases","formnovalidate","$","BUTTON","INPUT","ismap","IMG","nomodule","SCRIPT","playsinline","VIDEO","readonly","TEXTAREA","getPropAlias","tagName","DelegatedEvents","SVGElements","SVGNamespace","xlink","xml","reconcileArrays","parentNode","bLength","aEnd","bEnd","aStart","bStart","after","nextSibling","insertBefore","remove","t2","replaceChild","$$EVENTS","element","disposer","dispose","insert","firstChild","textContent","template$1","html","isImportNode","isSVG","innerHTML","importNode","cloneNode","delegateEvents","eventNames","document2","l2","eventHandler","setAttribute","removeAttribute","setAttributeNS","removeAttributeNS","setBoolAttribute","handler","delegate","handlerFn","classList","classKeys","prevKeys","toggleClassKey","classValue","nodeStyle","cssText","removeProperty","setProperty","spread","skipChildren","prevProps","insertExpression","arg","accessor","marker","initial","skipRef","assignProp","toPropertyName","w","toUpperCase","classNames","trim","nameLen","toggle","isCE","isProp","isChildProp","propAlias","forceProp","h2","nodeName","oriTarget","oriCurrentTarget","currentTarget","retarget","handleNode","cancelBubble","host","_$host","contains","walkUpTree","composedPath","unwrapArray","multi","nodeType","createTextNode","cleanChildren","currentArray","normalizeIncomingArray","appendNodes","normalized","unwrap2","dynamic","replacement","inserted","el","isParent","SVG_NAMESPACE","createElementNS","Portal","useShadow","hydrating","HTMLHeadElement","clean","setClean","container","renderRoot","attachShadow","mode","removeChild","Dynamic","others","cached","component","isSvg","querySelector","_goober","head","l","n","r","e3","t3","u2","d","r2","t4","exec","shift","unshift","f","g","e4","u","raw","h","ThemeContext","ThemeProvider","useTheme","makeStyled","Styled","withTheme","clone","pClass","append","className2","Boolean","local","newProps","htmlProps","createTag","as","styled","createGlobalStyles","globalStylesTag","disableScrollClass","usingMouseClass","GlobalStyles","Styles","hexToRgb","bigint","rgba","color","opacity","toPx","_InMemoryStorage","getInstance","instance","_a2","InMemoryStorage","uniq","window2","getWindow$1","maxWidth","mobile","tablet","isDevice","width","innerWidth","isMobile2","media","mediaTouch","mediaNotTouch","isMobile","setIsMobile","updateIsMobile","eqWalletName","wallet1","inTg","showTonTgWallet","showTgNameSpace","showUniversalTgWalletByRequestNameSpaces","optionalNameSpace","EqnameSpace","showUniversalTgWalletBySessionNameSpaces","sessionNameSpace","nameSpaceMap","every","defaultOpenUniversalLink","defaultOpenTonUniversalLink","isAppWallet","openUniversalWallet","twaReturnUrl","openWallet","openTonWallet","universalLink","openWalletForUIRequest","getSystemTheme","matchMedia","subscribeToThemeChange","disableScroll","documentElement","scrollHeight","clientHeight","top","scrollTop","enableScroll","scrollTo","parseFloat","getComputedStyle","fixMobileSafariActiveTransition","hasAttribute","defineStylesRoot","customElements","define","HTMLElement","createMacrotask","requestAnimationFrame","createMacrotaskAsync","preloadImages","images","img","Image","tryGetLocalStorage","isLocalStorageAvailable","isNodeJs","process","versions","_b2","_c2","toDeeplink","WalletInfoStorage","storageKey","setWalletInfo","getWalletInfo","walletInfoString","removeWalletInfo","LastSelectedWalletInfoStorage","setLastSelectedWalletInfo","getLastSelectedWalletInfo","removeLastSelectedWalletInfo","tonWalletsModalState","setTonWalletsModalState","closeReason","tonSingleWalletModalState","setTonSingleWalletModalState","getTonSingleWalletModalIsOpened","getTonSingleWalletModalWalletInfo","lastSelectedWalletInfoStorage$1","lastTonSelectedWalletInfo","_setLastTonSelectedWalletInfo","setLastTonSelectedWalletInfo","tonAction","setTonAction","ImagePlaceholder","div","colors","background","secondary","imgRef","setImage","alt","complete","r$","_ref$","borders$2","none","scaleValues","ButtonStyled$1","button","leftIcon","rightIcon","appearance","tint","accent","text","primary","borderRadius","scale","useDataAttributes","dataAttrs","Button","onMouseEnter","onMouseLeave","nextFrame","Transition","first","s1","set1","set2","resolved","onBeforeEnter","onEnter","onAfterEnter","onBeforeExit","onExit","onAfterExit","classnames","enterActiveClass","enterClass","enterToClass","exitActiveClass","exitClass","exitToClass","enterTransition","el2","appear","endTransition","enterActiveClasses","enterToClasses","exitTransition","enterClasses","exitClasses","exitActiveClasses","exitToClasses","clickOutside$1","escPressed","onKeyPress","activeElement","blur","androidBackHandler$1","isEnabled","userOSIsAndroid","history","pushState","ROUTE_STATE","popstateHandler","preventDefault","ROUTE_STATE_KEY","back","_tmpl$$g","rotationDegrees","left","right","bottom","ArrowIcon","fill","direction","Svg","props2","svgDirection","xmlns","height","viewBox","_el$","_tmpl$$f","CloseIcon","_el$2","_tmpl$$e","TonIcon","_tmpl$$d","_tmpl$2$3","_tmpl$3$2","SuccessIcon","size2","_el$3","_el$4","_p$","_v$","_v$2","_v$3","constant","white","_el$5","_el$6","_el$7","_v$4","_v$5","_v$6","_el$8","_el$9","_el$10","_v$7","_v$8","_v$9","_tmpl$$c","_tmpl$2$2","_tmpl$3$1","ErrorIcon","_tmpl$$b","_tmpl$2$1","_tmpl$3","LoaderIcon","tertiary","rotateAnimation","svgClass","_tmpl$$a","QuestionIcon","_tmpl$$9","RetryIcon","_tmpl$$8","QRIcon","IconButtonStyled","IconButton","borders$1","ModalBackgroundStyled","ModalWrapperClass","ModalBodyStyled","CloseButtonStyled","AnimationTimelineNoop","_AnimationNoop","_instance","cancel","finish","pause","play","reverse","_type","_listener","_options","_event","_callback","updatePlaybackRate","_playbackRate","commitStyles","AnimationNoop","animate","keyframes","_tmpl$$7","clickOutside","keyPressed","androidBackHandler","Modal","opened","duration","firstElementChild","transform","backgroundAnimation","contentAnimation","all","finished","wrapperBorderRadius","sliderBorderRadius","segment","isActive","backgroundBorders","imageBorders","qrNormalSize","imgSizeDefault","picSizeDefault","qrPaddingTop","CopyIconButton","QrCodeBackground","qr","QrCodeWrapper$1","qrFill","ImageBackground","ImageStyled$2","qrcode$1","module2","qrcode2","qrcode3","typeNumber","errorCorrectionLevel","PAD0","PAD1","_typeNumber","_errorCorrectionLevel","QRErrorCorrectionLevel","_modules","_moduleCount","_dataCache","_dataList","_this","makeImpl","maskPattern","moduleCount","modules","row","col","setupPositionProbePattern","setupPositionAdjustPattern","setupTimingPattern","setupTypeInfo","setupTypeNumber","createData","mapData","getBestMaskPattern","minLostPoint","pattern","lostPoint","QRUtil","getLostPoint","pos","getPatternPosition","j","getBCHTypeNumber","getBCHTypeInfo","inc","bitIndex","byteIndex","maskFunc","getMaskFunction","dark","createBytes","rsBlocks","offset2","maxDcCount","maxEcCount","dcdata","ecdata","dcCount","dataCount","ecCount","totalCount","getBuffer","rsPoly","getErrorCorrectPolynomial","rawPoly","qrPolynomial","getLength","modPoly","modIndex","getAt","totalCodeCount","typeNumber2","errorCorrectionLevel2","dataList","QRRSBlock","getRSBlocks","qrBitBuffer","put","getMode","getLengthInBits","write","totalDataCount","putBit","addData","newData","qrNumber","qrAlphaNum","qr8BitByte","qrKanji","isDark","getModuleCount","make","createTableTag","cellSize","margin","qrHtml","createSvgTag","mc","mr","rect","qrSvg","scalable","escapeXml","createDataURL","min2","max2","y","createImgTag","escaped","charAt","_createHalfASCII","r1","blocks","blocksLastLineNoMargin","createASCII","black","line","renderTo2dContext","fillStyle","fillRect","stringToBytesFuncs","stringToBytes","createStringToBytes","unicodeData","numChars","unicodeMap","bin","base64DecodeInputStream","read","unicodeMap2","b0","b1","b2","b3","unknownChar","QRMode","MODE_NUMBER","MODE_ALPHA_NUM","MODE_8BIT_BYTE","MODE_KANJI","L","M","Q","H","QRMaskPattern","PATTERN000","PATTERN001","PATTERN010","PATTERN011","PATTERN100","PATTERN101","PATTERN110","PATTERN111","PATTERN_POSITION_TABLE","G15","G18","G15_MASK","getBCHDigit","digit","errorCorrectLength","multiply","QRMath","gexp","qrcode4","sameCount","darkCount","ratio","abs","EXP_TABLE","LOG_TABLE","shift2","_num","_num2","num2","glog","RS_BLOCK_TABLE","qrRSBlock","_this2","getRsBlockTable","rsBlock","_buffer","_length","bufIndex","bit","_mode","_data","data2","strToNum","chatToNum","getCode","_bytes","byteArrayOutputStream","writeByte","base64EncodeOutputStream","_buflen","_base64","writeEncoded","flush","padlen","_str","_pos","gifImage","_width","_height","pixel","out","writeString","writeShort","lzwMinCodeSize","raster","getLZWRaster","writeBytes","bitOutputStream","_out","_bitLength","_bitBuffer","clearCode","endCode","bitLength","table","lzwTable","byteOut","bitOut","dataIndex","toByteArray","_map","_size","getPixel","gif","setPixel","toUTF8Array","charcode","factory","qrcode","_tmpl$$6","QRCode","qrCodeCanvasRef","qrCodeWrapperRef","imageRef","picSize","setPicSize","sourceUrl","qrSize","clientWidth","round","imgSize","ceil","imgOffset","_ref$2","imageUrl","_ref$3","easing","$RAW","$NODE","$HAS","$SELF","wrap$1","proxyTraps$1","isWrappable","proto","unwrap","unwrapped","isFrozen","getNodes","nodes","getNode","internal","proxyDescriptor$1","Reflect","trackSelf","tracked","deleting","mergeStoreNode","updateArray","updatePath","traversed","part","partType","by","createStore","store","unwrappedStore","wrappedStore","setStore","deepReadObject","template","createI18nContext","setLocale","dict","setDict","translate","actions","lang2","I18nContext","useI18n","TextStyled$2","fontWeight","fontSize","lineHeight","Text","inputs","textRef","cursor","translationKey","translationValues","ImageContainer","ImageStyled$1","WalletImage","borders","badgeBorders","colorPrimary","H1Styled$2","h1","H1","H2Styled$1","H2","H3Styled","h3","H3","containerBorders","walletBorders","maxHeight","isShown","windowHeight","setWindowHeight","innerHeight","AStyled","Link","attributes","blank","rel","_tmpl$$5","CopyIcon","_tmpl$$4","DisconnectIcon","copyToClipboard","clipboard","writeText","fallbackCopyTextToClipboard","textArea","position","focus","select","execCommand","hoverBorders","dropdownBorders","AccountButtonDropdownStyled","UlStyled","ul","MenuButtonStyled","OKXConnectUiContext","_tmpl$$3","MenuItemText","AccountButtonDropdown","tonConnectUi","isCopiedShown","setIsCopiedShown","onCopy","userFriendlyAddress","onDisconnect","AccountButtonStyled","connectButton","foreground","DropdownButtonStyled","LoaderButtonStyled","LoaderIconStyled","DropdownContainerStyled","DropdownStyled","min","createCoords","getSide","placement","getAlignment","getOppositeAxis","axis","getAxisLength","getSideAxis","getAlignmentAxis","rectToClientRect","computeCoordsFromPlacement","_ref","rtl","floating","sideAxis","alignmentAxis","alignLength","isVertical","commonX","commonY","commonAlign","coords","computePosition$1","middleware","platform2","validMiddleware","isRTL","rects","getElementRects","statefulPlacement","middlewareData","resetCount","nextX","nextY","reset","initialPlacement","elements","hasWindow","getNodeName","isNode","_node$ownerDocument","ownerDocument","defaultView","getDocumentElement","Node","isElement","Element","isHTMLElement","isShadowRoot","ShadowRoot","isOverflowElement","overflow","overflowX","overflowY","display","getComputedStyle$1","isTableElement","isTopLayer","selector","isContainingBlock","elementOrCss","webkit","isWebKit","css","perspective","containerType","backdropFilter","willChange","contain","getContainingBlock","currentNode","getParentNode","isLastTraversableNode","CSS","supports","getNodeScroll","scrollLeft","scrollX","scrollY","assignedSlot","getNearestOverflowAncestor","getOverflowAncestors","traverseIframes","_node$ownerDocument2","scrollableAncestor","isBody","win","frameElement","getFrameElement","visualViewport","getCssDimensions","hasOffset","offsetWidth","offsetHeight","shouldFallback","unwrapElement","contextElement","getScale","domElement","getBoundingClientRect","isFinite","noOffsets","getVisualOffsets","offsetLeft","offsetTop","shouldAddVisualOffsets","isFixed","floatingOffsetParent","includeScale","isFixedStrategy","offsetParent","clientRect","visualOffsets","offsetWin","currentWin","currentIFrame","iframeScale","iframeRect","clientLeft","paddingLeft","clientTop","paddingTop","convertOffsetParentRelativeRectToViewportRelativeRect","topLayer","scroll","offsets","isOffsetParentAnElement","offsetRect","getClientRects","getWindowScrollBarX","leftScroll","getDocumentRect","scrollWidth","getViewportRect","visualViewportBased","getInnerBoundingClientRect","getClientRectFromClippingAncestor","clippingAncestor","hasFixedPositionAncestor","stopNode","getClippingElementAncestors","cachedResult","currentContainingBlockComputedStyle","elementIsFixed","computedStyle","currentNodeIsContaining","shouldDropCurrentNode","ancestor","getClippingRect","boundary","rootBoundary","elementClippingAncestors","clippingAncestors","firstClippingAncestor","clippingRect","accRect","getDimensions","getRectRelativeToOffsetParent","htmlX","htmlY","htmlRect","isStaticPositioned","getTrueOffsetParent","polyfill","rawOffsetParent","getOffsetParent","svgOffsetParent","getOffsetParentFn","getDimensionsFn","floatingDimensions","observeMove","onMove","io","_io","refresh","skip","threshold","insetTop","insetRight","insetBottom","insetLeft","rootMargin","isFirstUpdate","handleObserve","intersectionRatio","IntersectionObserver","observe","autoUpdate","update","ancestorScroll","ancestorResize","elementResize","ResizeObserver","layoutShift","animationFrame","referenceEl","passive","cleanupIo","frameId","reobserveFrame","resizeObserver","firstEntry","unobserve","cancelAnimationFrame","_resizeObserver","prevRefRect","frameLoop","nextRefRect","_resizeObserver2","computePosition","mergedOptions","platformWithCache","F","whileElementsMounted","ConnectorContext","UniversalConnectorContext","_tmpl$$2","AccountButton","tonConnectUI","isOpened","setIsOpened","setAccount","restoringProcess","setRestoringProcess","dropDownRef","setFloating","anchor","setAnchor","normalizedAddress","acc","connectionRestored","unsubscribe","clickToButton","clickToDropdown","_$owner","hidden","tonAppState","setTonAppState","buttonRootId","StyledModal","H1Styled$1","MobileConnectionModalStyled$1","BodyStyled$1","isDeclined","StyledIconButton","H2Styled","QrCodeWrapper","LoaderWrapper","addReturnStrategy","newUrl","addQueryParameter","lastParam","lastIndexOf","openLinkOnPhone","redirectToWallet","setOpenMethod","linkWitStrategy","useDeepLink","forceRedirect","parsed","searchParams","_tmpl$$1","_tmpl$2","OKXLoaderIconWithLogo","LoaderContainerStyled$1","LoaderStyled","OKIconStyle","OKXIconWithLogo","OKXLoaderIcon","RotatingSVG","svg","MobileConnectionQR","sessionConnecting","disableCopy","H1StyledMaxWidth","H1StyledRetry","RetryButtonStyle","LoaderContainerStyled","ErrorIconStyled","ButtonsContainerStyled","ButtonsQRContainerStyled","TextStyled$1","contrast","ContainedButton","ContainedPrimaryButton","border","ContainedPrimaryButtonText","FooterStyled","ImageStyled","FooterButton","FooterButtonCenter","ConnectAppTgModalPage","onConnectApp","onConnectMini","LoadingModalPage","loadingTextTranslationKey","loadingText","Translation","_tmpl$","OKXLogo","disable","_el$11","ModalFooter","onDownloadClick","aboutUrl","ModalRetryButton","onRetry","ConnectionDeclinedModalPage","showRetry","ContinueInWalletModalPage","onOpenQR","MobileConnectionModal","firstClick","setFirstClick","showQR","setShowQR","connectClicked","setConnectClicked","showAppAndTgState","isSingleWallet","appDeepLink","setAppDeepLink","miniUniversalLink","setMiniUniversalLink","qrLink","setQrLink","okxConnectUI","lastActionBtnShowState","lastQRViewShowState","showLoading","universalLinkParams","connectError","lastLoadingState","showState","showQRState","showLoadingState","qrLink2","appDeepLink2","encodeParams","appConnectEncodeParams","tgUrl","onCloseQR","onBack","onBackClick","backDisabled","MobileConnectionModalStyled","BodyStyled","DesktopConnectionModal","walletType","setWalletType","SingleWalletModal","loadingBeforeConnect","lastSelectedWalletInfo","TonSingleWalletModal","setConnectError","setSessionConnecting","additionalRequestLoading","connectRequestParameters","setUniversalLinkParams","customEvent","additionalRequest","handleConnect","actionConfiguration","common$j","retry","button$j","connectWallet","dropdown","copy","copied","notifications$j","transactionSent","transactionCanceled","walletModal$j","mobileConnectionModal","OKXConnect","scanQR","continueIn","connectionDeclined","PoweredBy","appAndTelegram","connectApp","connectMini","actionModal$j","confirmTransaction","en","common","notifications","walletModal","actionModal","common$i","button$i","notifications$i","walletModal$i","actionModal$i","ru","common$h","button$h","notifications$h","walletModal$h","actionModal$h","zh_CN","common$g","button$g","notifications$g","walletModal$g","actionModal$g","ar_AE","common$f","button$f","notifications$f","walletModal$f","actionModal$f","cs_CZ","common$e","button$e","notifications$e","walletModal$e","actionModal$e","de_DE","common$d","button$d","notifications$d","walletModal$d","actionModal$d","es_ES","common$c","button$c","notifications$c","walletModal$c","actionModal$c","es_LAT","common$b","button$b","notifications$b","walletModal$b","actionModal$b","fr_FR","common$a","button$a","notifications$a","walletModal$a","actionModal$a","id_ID","common$9","button$9","notifications$9","walletModal$9","actionModal$9","it_IT","common$8","button$8","notifications$8","walletModal$8","actionModal$8","nl_NL","common$7","button$7","notifications$7","walletModal$7","actionModal$7","pl_PL","common$6","button$6","notifications$6","walletModal$6","actionModal$6","pt_BR","common$5","button$5","notifications$5","walletModal$5","actionModal$5","pt_PT","common$4","button$4","notifications$4","walletModal$4","actionModal$4","ro_RO","common$3","button$3","notifications$3","walletModal$3","actionModal$3","tr_TR","common$2","button$2","notifications$2","walletModal$2","actionModal$2","uk_UA","common$1","button$1","notifications$1","walletModal$1","actionModal$1","vi_VN","zh_TW","i18nDictionary","en_US","parseDictionary","ru_RU","zh","dictionary","refSymbol","iterate","subDictionary","ActionModalStyled","H1Styled","TextStyled","ButtonStyled","ActionModal","connectUI","sent","setSent","ActionsModalContext","currentAction","onOpenWallet","headerTranslationKey","headerTranslationValues","textTranslationKey","textTranslationValues","showActionButton","showButton","ConfirmTransactionModal","TransactionCanceledModal","TransactionSentModal","ActionsModal","setAction","defaultLightColorsSet","telegramButton","defaultDarkColorsSet","tonThemeState","setTonThemeState","themeColorsMappingDefault$1","setTonTheme","TONApp","translations","getElementById","tonWidgetController","openSingleWalletModal","closeSingleWalletModal","clearAction","getSelectedWalletInfo","removeSelectedWalletInfo","renderApp","isObject","isPlainObject","ctor","prot","mergeOptions","defaultOptions","overwriteMerge","sourceArray","__","arrayMerge","isMergeableObject","TransactionModalManager","consumers","consumer","onStateChange","OKX_UI_CONNECTION_AND_TRANSACTION_EVENT","OKX_UI_CONNECTION_AND_TRANSACTION_EVENT2","OKXTonConnectUITracker","tonConnectUiVersion","requestTonConnectSdkVersion","TonSingleWalletModalManager","getWalltsInfo","fetchedWalletsList","externalWallets","externalWallet","validLocales","isValidLocale","OKXTonConnectUIInner","singleWalletModal","transactionModal","rootId","normalizeWidgetRoot","subscribeToWalletChange","walletInfoStorage","preferredWalletAppName","checkButtonRootExist","systemThemeChangeUnsubscribe","_a3","_b3","merged","destory","setConnectRequestParameters","connectRequestParametersCallback","waitForWalletConnection","onStatusChangeHandler","onErrorsHandler","onSingleWalletModalStateChange","modalState","singleWalletModalState","sendTransactionInner","getModalsAndNotificationsConfiguration","abortController","onTransactionModalStateChange","waitForSendTransaction","onTransactionHandler","transaction2","onCanceledHandler","updateWalletInfo","setPreferredWalletAppName","fullLastSelectedWalletInfo","rootElement","allActions","OKXTonConnectUI","okxConnectTonUIinwindow","okxTonConnectUI","universalWalletsModalState","setUniversalWalletsModalState","universalSingleWalletModalState","setUniversalSingleWalletModalState","getUniversalSingleWalletModalIsOpened","getUniversalSingleWalletModalWalletInfo","lastSelectedWalletInfoStorage","lastUniversalSelectedWalletInfo","_setLastUniversalSelectedWalletInfo","setLastUniversalSelectedWalletInfo","universalAction","setUniversalAction","universalAppState","setUniversalAppState","UniversalSingleWalletModal","universalConnectUI","universalThemeState","setUniversalThemeState","themeColorsMappingDefault","setUniversalTheme","UniversalApp","universalWidgetController","renderUniversalApp","Signal","trigger","UniversalSingleWalletModalManager","connectSignal","resultOrError","ALPHABET2","TypeError","BASE_MAP","xc","BASE","LEADER","FACTOR","iFACTOR","ArrayBuffer","isView","byteOffset","byteLength","zeroes","pbegin","pend","b58","carry","it1","it2","repeat","decodeUnsafe","psz","b256","it3","it4","vch","j2","basex","ALPHABET","bs58","universalProvider2","_d2","_e2","reqArgs","getConnectWallet","universalProvider$1","checkConnectMethods","connectParams","responseItems","requestResult","resultItem","sol_successData","sui_sign","aptos_sign","getUniversalProvider","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","module","loaded","__webpack_modules__","amdO","deferred","O","chunkIds","priority","notFulfilled","Infinity","getter","definition","globalThis","Function","nmd","paths","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","chunkLoadingGlobal","__webpack_exports__"],"sourceRoot":""}