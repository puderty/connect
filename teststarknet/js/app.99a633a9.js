(function(){var e={46262:function(e,t,n){"use strict";n(41011),n(71433),n(27007),n(70354),n(41011),n(71433),n(27007),n(70354);var s=this&&this.__awaiter||function(e,t,n,s){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,a){function r(e){try{c(s.next(e))}catch(t){a(t)}}function o(e){try{c(s["throw"](e))}catch(t){a(t)}}function c(e){e.done?n(e.value):i(e.value).then(r,o)}c((s=s.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.OKXBtcProvider=void 0;const i=n(6280);class a{constructor(e){this.caip=["btc:mainnet","fractal:mainnet"],this.provider=e.getUniversalProvider()}getAddressForChainId(e){var t,n;let s=this.checkChainId(e);if(void 0==s)throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"invalid chainId");let a=null===(n=null===(t=this.provider.session)||void 0===t?void 0:t.namespaces["btc"])||void 0===n?void 0:n.accounts.filter((function(t){return t.startsWith(e)}));if(void 0==a||a.length<0)throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"no connected account");let r=a[0];const o=r.split(":")[2];return o}getAccount(e){var t,n,s;let a=this.checkChainId(e);if(void 0==a)throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"invalid chainId");let r=null===(s=null===(n=null===(t=this.provider.session)||void 0===t?void 0:t.namespaces[a])||void 0===n?void 0:n.extra)||void 0===s?void 0:s[e],o="";return void 0!=r&&(o=r["publicKey"]),{address:this.getAddressForChainId(e),publicKey:o}}signMessage(e,t,n){return s(this,void 0,void 0,(function*(){let s=this.checkChainId(e);if(void 0==s)throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"invalid chainId");if("undefined"===t)throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"the method signMessage parmas error");let a={signStr:t,from:this.getAddressForChainId(e)};n&&(a.type=n);try{const t=yield this.provider.request({method:"btc_signMessage",params:a},e);if("result"in t)return t.result;{let e=t;return e.error}}catch(r){throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"the method signTransaction request error")}}))}sendBitcoin(e,t,n,a){return s(this,void 0,void 0,(function*(){let s=this.checkChainId(e);if(void 0==s)throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"invalid chainId");let r={from:this.getAddressForChainId(e),to:t,value:(n/1e8).toString()};(null===a||void 0===a?void 0:a.feeRate)&&(r["satBytes"]=a.feeRate.toString());let o=yield this.send(e,r);return void 0!==o&&"txhash"in o?o.txhash:o}))}send(e,t){return s(this,void 0,void 0,(function*(){let n=this.checkChainId(e);if(void 0==n)throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"invalid chainId");if(!this.checkParameters(t,"to","value"))throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"the method send parmas  error");t["from"]=this.getAddressForChainId(e);try{const n=yield this.provider.request({method:"btc_send",params:t},e);if("result"in n)return{txhash:n.result};{let e=n;return e.error}}catch(s){throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`the method send request error: ${s}`)}}))}signPsbt(e,t,n){return s(this,void 0,void 0,(function*(){return new Promise(((s,i)=>{this.signPsbts(e,[t],[n]).then((e=>{let t=JSON.parse(e);s(t[0])})).catch((e=>{i(e)}))}))}))}signPsbts(e,t,n){return s(this,void 0,void 0,(function*(){let s=this.checkChainId(e);if(void 0==s)throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"invalid chainId");if(void 0===t)throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"the method signPsbts params error");let a={psbtHexs:t,options:n};a.from=this.getAddressForChainId(e);try{const t=yield this.provider.request({method:"btc_signPsbts",params:a},e);if("result"in t)return t.result;{let e=t;return e.error}}catch(r){throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`the method send request error: ${r}`)}}))}signAndPushPsbt(e,t,n){return s(this,void 0,void 0,(function*(){let s=this.checkChainId(e);if(void 0==s)throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"invalid chainId");if(void 0===t)throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"the method signPsbts params error");let a={psbtHex:t,options:n};a.from=this.getAddressForChainId(e);try{const t=yield this.provider.request({method:"btc_signAndPushPsbt",params:a},e);if("result"in t)return JSON.parse(t.result);{let e=t;return e.error}}catch(r){throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`the method send request error: ${r}`)}}))}sendInscription(e,t,n,a){return s(this,void 0,void 0,(function*(){let s={address:t,inscriptionId:n,options:a},r=this.checkChainId(e);if(void 0==r)throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"invalid chainId");if("undefined"===t)throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"the method sendInscription params error");var o=0;a&&"feeRate"in a&&(o=a.feeRate);let c="",l=this.getAddressForChainId(e);var d=7;if("undefined"!==n){let e="-Atomicals",t="-Ordinals";(null===n||void 0===n?void 0:n.toLowerCase().endsWith(e.toLowerCase()))?(d=8,n=this.removeSuffix(n,e)):(null===n||void 0===n?void 0:n.toLowerCase().endsWith(t.toLowerCase()))&&(n=this.removeSuffix(n,t))}let u={scenario:5,feeRate:o,txType:"20",to:t,batchBean:[{coinAmount:"1",nftId:n,protocolId:d,coinId:c,inscriptionId:"",from:l}],extension:s};try{const t=yield this.provider.request({method:"btc_sendInscription",params:u},e);if("result"in t)return t.result;{let e=t;return e.error}}catch(h){throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"the method signTransaction request error")}}))}removeSuffix(e,t){return e.endsWith(t)?e.slice(0,e.length-t.length):e}checkParameters(e,...t){var n=[];return t.forEach((t=>{`${t}`in e||n.push(t)})),!(n.length>0)||(console.log("not find key: ",n.join(",")),!1)}checkChainId(e){if(this.caip.includes(e)){let[t,n]=e.split(":");return t}}}t.OKXBtcProvider=a,t["default"]=a},79203:function(e,t,n){"use strict";n(92806),n(53287),n(70039),n(70144),n(86823),n(51204),n(71433),n(27007),n(57039),n(27618),n(92806),n(53287),n(70039),n(70144),n(86823),n(51204),n(71433),n(27007),n(57039),n(27618);var s=this&&this.__awaiter||function(e,t,n,s){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,a){function r(e){try{c(s.next(e))}catch(t){a(t)}}function o(e){try{c(s["throw"](e))}catch(t){a(t)}}function c(e){e.done?n(e.value):i(e.value).then(r,o)}c((s=s.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.OKXCosmosProvider=void 0;const i=n(59198);class a{constructor(e){this.provider=e.getUniversalProvider()}getAccount(e){var t,n,s,a,r;let o=null===(n=null===(t=this.provider.session)||void 0===t?void 0:t.namespaces[i.NameSpaceKeyCosmos])||void 0===n?void 0:n.accounts.filter((function(t){return t.startsWith(e)}))[0];if(!o)return;const c=o.split(":"),l=o.split(":")[2];let d=null===(r=null===(a=null===(s=this.provider.session)||void 0===s?void 0:s.namespaces[i.NameSpaceKeyCosmos])||void 0===a?void 0:a.extra)||void 0===r?void 0:r[`${c[0]}:${c[1]}`],u="";return void 0!=d&&(u=d["publicKey"],console.log("aptos_publicKey",u)),l?{algo:"secp256k1",address:l,bech32Address:l,pubKey:this.hexToUint8Array(u)}:void 0}signArbitrary(e,t,n){return s(this,void 0,void 0,(function*(){const s=window.btoa(n),i={chain_id:"",account_number:"0",sequence:"0",fee:{gas:"0",amount:[]},msgs:[{type:"sign/MsgSignData",value:{signer:t,data:s}}],memo:""};let a={chainId:e,method:"cosmos_signArbitrary",params:{signer:t,chain_id:e.split(":")[1],data:i}};try{const t=yield this.provider.request(a,e);if("result"in t)return"string"==typeof t.result?JSON.parse(t.result):t.result;{let e=t;return e.error}}catch(r){return r}}))}signAmino(e,t,n,i){return s(this,void 0,void 0,(function*(){if("sign/MsgSignData"==n.msgs[0].type){let i={chainId:e,method:"cosmos_signArbitrary",params:{signer:t,chain_id:e.split(":")[1],data:n}};try{const t=yield this.provider.request(i,e);if("result"in t)return t.result;{let e=t;return e.error}}catch(s){return s}}else{let a={chainId:e,method:"cosmos_signAmino",params:{signer:t,chainId:e.split(":")[1],sign_doc:n,signOptions:i}};try{const t=yield this.provider.request(a,e);if("result"in t){const e=JSON.parse(t.result);return console.log("signdoc",n,e.signDoc),n.fee=e.signDoc.fee,{signed:n,signature:e.signature}}{let e=t;return e.error}}catch(s){return s}}}))}signDirect(e,t,n,i){return s(this,void 0,void 0,(function*(){const s={bodyBytes:this.bufferToHex(n.bodyBytes),authInfoBytes:this.bufferToHex(n.authInfoBytes),chainId:n.chainId,accountNumber:n.accountNumber?n.accountNumber.toString():null,signOptions:i||null};let a={chainId:e,method:"cosmos_signDirect",params:{signer:t,chainId:e.split(":")[1],sign_doc:s}};try{const t=yield this.provider.request(a,e);if("result"in t){const e=JSON.parse(t.result);return console.log("signdirect result",e),n.authInfoBytes=this.messageToBuffer(e.signDoc.authInfoBytes),{signed:n,signature:e.signature}}}catch(r){return r}}))}messageToBuffer(e){var t=Uint8Array.from([]);try{t="string"===typeof e?this.hexToUint8Array(e.replace("0x","")):Uint8Array.from(e)}catch(n){console.log(`messageToBuffer error: ${n}`)}return t}bufferToHex(e){let t=[...new Uint8Array(e)].map((e=>e.toString(16).padStart(2,"0"))).join("");return"0x"+t}hexToUint8Array(e){if(e.length%2!==0)throw"Invalid hexString";for(var t=new Uint8Array(e.length/2),n=0;n<e.length;n+=2){var s=parseInt(e.substr(n,2),16);if(isNaN(s))throw"Invalid hexString";t[n/2]=s}return t}}t.OKXCosmosProvider=a},9631:function(e,t,n){"use strict";n(71433),n(27007),n(71433),n(27007);var s=this&&this.__awaiter||function(e,t,n,s){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,a){function r(e){try{c(s.next(e))}catch(t){a(t)}}function o(e){try{c(s["throw"](e))}catch(t){a(t)}}function c(e){e.done?n(e.value):i(e.value).then(r,o)}c((s=s.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.OKXStarknetProvider=void 0;const i=n(59198);class a{constructor(e){this.provider=e.getUniversalProvider()}getAccount(e){var t,n,s,a,r;let o=null===(n=null===(t=this.provider.session)||void 0===t?void 0:t.namespaces[i.NameSpaceKeyStarknet])||void 0===n?void 0:n.accounts.filter((function(t){return t.startsWith(e)}))[0];if(!o)return;const c=o.split(":"),l=o.split(":")[2];let d=null===(r=null===(a=null===(s=this.provider.session)||void 0===s?void 0:s.namespaces[i.NameSpaceKeyStarknet])||void 0===a?void 0:a.extra)||void 0===r?void 0:r[`${c[0]}:${c[1]}`],u="";return void 0!=d&&(u=d["publicKey"]),l?{address:l,pubKey:u}:void 0}signMessage(e,t,n){return s(this,void 0,void 0,(function*(){0==t.length&&(t=this.getAccount(e)["address"]);let s={chainId:e,method:"starknet_signMessage",params:{accountAddress:t,typedData:n}};try{const t=yield this.provider.request(s,e);if("result"in t){console.log("=====> 签名结果result的类型：",typeof t.result),console.log(t);let e=t.result;return"string"==typeof e&&(e=JSON.parse(e)),console.log(t),[e["signedDataR"],e["signedDataS"]]}{let e=t;return e.error}}catch(i){return i}}))}sendTransaction(e,t,n){return s(this,void 0,void 0,(function*(){let s={accountAddress:t,executionRequest:n},i={method:"starknet_sendTransaction",params:{data:JSON.stringify(s),from:t}};try{const t=yield this.provider.request(i,e);if("result"in t)return{transaction_hash:t.result};{let e=t;return e.error}}catch(a){return a}}))}signMessageDeclareContractPayload(e,t){return s(this,void 0,void 0,(function*(){try{let n={method:"starknet_signMessage",params:t};const s=yield this.provider.request(n,e);if("result"in s)return console.log("=====> (旧API)签名结果result的类型：",typeof s.result),console.log(s),{transaction_hash:s.result["txHash"],class_hash:s.result["classHash"]};{let e=s;return e.error}}catch(n){return n}}))}sendMessageExecuteTransactionDetail(e,t,n,i,a){return s(this,void 0,void 0,(function*(){const s=Array.isArray(n)?n:[n],r={calls:s,abis:i,transactionsDetail:{nonce:null===a||void 0===a?void 0:a.nonce,maxFee:null===a||void 0===a?void 0:a.nonce,version:null===a||void 0===a?void 0:a.version}};return this.sendTransaction(e,t,r)}))}}t.OKXStarknetProvider=a},55128:function(e,t,n){"use strict";n(41011),n(71433),n(27007),n(70354),n(41011),n(71433),n(27007),n(70354);var s=this&&this.__awaiter||function(e,t,n,s){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,a){function r(e){try{c(s.next(e))}catch(t){a(t)}}function o(e){try{c(s["throw"](e))}catch(t){a(t)}}function c(e){e.done?n(e.value):i(e.value).then(r,o)}c((s=s.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.OKXTonProvider=void 0;const i=n(6280),a=n(59198);class r{constructor(e){this.statusChangeSubscriptions=[],this.statusChangeErrorSubscriptions=[],this.provider=e.getUniversalProvider(),this.provider.on("connect",(()=>{let e=this.wallet();(0,a.logDebug)("OKXTONProvider event connect:",JSON.stringify(e)),this.statusChangeSubscriptions.forEach((t=>t(e)))})),this.provider.on("reconnect",(()=>{let e=this.wallet();(0,a.logDebug)("OKXTONProvider event reconnect:",JSON.stringify(e)),this.statusChangeSubscriptions.forEach((t=>t(e)))})),this.provider.on("disconnect",(()=>{(0,a.logDebug)("OKXTONProvider event disconnect:"),this.statusChangeSubscriptions.forEach((e=>e(null)))})),this.provider.on("connect_error",(e=>{(0,a.logDebug)("OKXTONProvider event connect_error:",JSON.stringify(e)),this.statusChangeErrorSubscriptions.forEach((t=>t(e)))}))}connected(){return!!this.provider.connected()&&!!this.provider.session.namespaces["ton"]}account(){try{if(!this.provider.session)return null;let e=this.provider.session.namespaces["ton"];if(!e||!e.payload||!e.payload.ton_addr)return null;let t=e.payload.ton_addr;return{address:t.address,chain:t.network,walletStateInit:t.walletStateInit,publicKey:t.publicKey}}catch(e){return(0,a.logDebug)("OKXTONProvider account  error:",JSON.stringify(e)),null}}wallet(){if(this.connected())try{let e=this.provider.session.wallet,t={platform:e.platform,appName:e.appName,appVersion:e.appVersion,maxProtocolVersion:e.maxProtocolVersion,features:["ton_sendTransaction"]};const n={device:t,provider:"http",account:this.account()};let s=this.provider.session.namespaces["ton"];return s&&s.payload&&s.payload.ton_proof&&(n.connectItems={tonProof:s.payload.ton_proof}),(0,a.logDebug)("OKXTONProvider wallet :",JSON.stringify(n)),n}catch(e){return(0,a.logDebug)("OKXTONProvider wallet  error:",JSON.stringify(e)),null}return null}onStatusChange(e,t){return this.statusChangeSubscriptions.push(e),t&&this.statusChangeErrorSubscriptions.push(t),()=>{this.statusChangeSubscriptions=this.statusChangeSubscriptions.filter((t=>t!==e)),t&&(this.statusChangeErrorSubscriptions=this.statusChangeErrorSubscriptions.filter((e=>e!==t)))}}sendTransaction(e){return s(this,void 0,void 0,(function*(){if(e.network&&e.network!==a.TONCHAIN.MAINNET)throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"OKXTONProvider sendTransaction network error");if(e.network||(e.network=a.TONCHAIN.MAINNET),this.provider.session&&!e.from){const t=this.provider.requestAccountsWithNamespace("ton");e.from=t[0]}const t={method:"ton_sendTransaction",params:e};let n="ton:"+a.TONCHAIN.MAINNET;return(0,a.logDebug)("OKXTONProvider sendTransaction transaction----:",n,JSON.stringify(t)),this.provider.request(t,n)}))}}t.OKXTonProvider=r,t["default"]=r},21408:function(e,t,n){"use strict";n(71433),n(27007),n(71433),n(27007);var s=this&&this.__awaiter||function(e,t,n,s){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,a){function r(e){try{c(s.next(e))}catch(t){a(t)}}function o(e){try{c(s["throw"](e))}catch(t){a(t)}}function c(e){e.done?n(e.value):i(e.value).then(r,o)}c((s=s.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.OKXTronProvider=void 0;const i=n(59198);class a{constructor(e){this.provider=e.getUniversalProvider()}getAccount(e){var t,n,s,a,r;let o=null===(n=null===(t=this.provider.session)||void 0===t?void 0:t.namespaces[i.NameSpaceKeyTron])||void 0===n?void 0:n.accounts.filter((function(t){return t.startsWith(e)}))[0];if(!o)return;const c=o.split(":"),l=o.split(":")[2];let d=null===(r=null===(a=null===(s=this.provider.session)||void 0===s?void 0:s.namespaces[i.NameSpaceKeyTron])||void 0===a?void 0:a.extra)||void 0===r?void 0:r[`${c[0]}:${c[1]}`],u="";return void 0!=d&&(u=d["publicKey"]),l?{address:l}:void 0}stringToHex(e){let t="";for(let n=0;n<e.length;n++)t+=e.charCodeAt(n).toString(16).padStart(2,"0");return t}signMessage(e,t){return s(this,void 0,void 0,(function*(){let n={chainId:e,method:"tron_signMessage",params:{message:this.stringToHex(t)}};try{const t=yield this.provider.request(n,e);if("result"in t)return t.result;{let e=t;return e.error}}catch(s){return s}}))}signMessageV2(e,t){return s(this,void 0,void 0,(function*(){let n={chainId:e,method:"tron_signMessageV2",params:{message:t}};try{const t=yield this.provider.request(n,e);if("result"in t)return t.result;{let e=t;return e.error}}catch(s){return s}}))}signTransaction(e,t){return s(this,void 0,void 0,(function*(){let n={method:"tron_signTransaction",params:t};try{const t=yield this.provider.request(n,e);if("result"in t){let e;e="string"==typeof t.result?JSON.parse(t.result):t.result;let n={};n.visible=e.visible,n.txID=e.txID;let s={};return s.contract=e.raw_data.contract,s.expiration=e.raw_data.expiration,s.ref_block_bytes=e.raw_data.ref_block_bytes,s.ref_block_hash=e.raw_data.ref_block_hash,s.timestamp=e.raw_data.timestamp,n.raw_data=s,n.raw_data_hex=e.raw_data_hex,n.signature=e.signature,n}}catch(s){return s}}))}signAndSendTransaction(e,t){return s(this,void 0,void 0,(function*(){let n={method:"tron_signAndSendTransaction",params:t};try{const t=yield this.provider.request(n,e);if("result"in t)return t.result}catch(s){return s}}))}}t.OKXTronProvider=a},11948:function(e,t,n){"use strict";n(88373),n(51555),n(33734),n(22035),n(94932),n(50427),n(19239),n(71433),n(70354),n(57039),n(88373),n(51555),n(33734),n(22035),n(94932),n(50427),n(19239),n(71433),n(70354),n(57039);var s=this&&this.__awaiter||function(e,t,n,s){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,a){function r(e){try{c(s.next(e))}catch(t){a(t)}}function o(e){try{c(s["throw"](e))}catch(t){a(t)}}function c(e){e.done?n(e.value):i(e.value).then(r,o)}c((s=s.apply(e,t||[])).next())}))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.OKXUniversalProvider=void 0;const a=n(19066),r=n(45530),o=n(27186),c=i(n(47736)),l=n(82781),d=n(59198),u=n(94524),h=i(n(55637)),p=i(n(24142)),f=i(n(96548)),g=i(n(21936)),m=i(n(93245)),_=i(n(28970)),b=i(n(57009));class v{static init(e){return s(this,void 0,void 0,(function*(){let t;return(0,d.logDebug)("OKXUniversalProvider init() called"),window&&window.okxConnectUniversalinwindow&&window.okxConnectUniversalinwindow instanceof v?((0,d.logDebug)("OKXUniversalConnect init() old called"),t=window.okxConnectUniversalinwindow):((0,d.logDebug)("OKXUniversalConnect init() new called"),t=new v(e),yield t.initialize(),window&&(window.okxConnectUniversalinwindow=t)),t}))}getUniversalProvider(){return this}constructor(e){this.rpcProviders={},this.events=new c.default,this.providerOpts=e}request(e,t){return s(this,void 0,void 0,(function*(){if((0,d.logDebug)("OKXUniversalProvider request() called"),!this.connected())throw new d.OKXConnectError(d.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR);const{namespace:n,requestParam:s}=this.buildRequestParamFromRequest(e,t);return yield this.getProvider(n).request(s)}))}buildRequestParamFromRequest(e,t){(0,d.logDebug)("UniversalProvider request args >>>: ",t,JSON.stringify(e));let[n,s]=this.validateChain(t);if(!this.session)throw new d.OKXConnectError(d.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"Please call connect() before request()");let i=Object.keys(this.session.namespaces);if(!t&&i&&i.length>1)throw new d.OKXConnectError(d.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR,"Multiple chains have been linked, the request method requires chain");(0,d.logDebug)("UniversalProvider request >>args>>>: ",e),"aptos"==n&&"mainnet"==s&&(n="aptos",s="637"),"movement"==n&&"testnet"==s&&(n="aptos",s="70000060");const a=Object.assign(Object.assign({},e),{chainId:`${n}:${s}`});return{namespace:n,requestParam:a}}enable(){return s(this,void 0,void 0,(function*(){if(!this.client)throw new d.OKXConnectError(d.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"Sign Client not initialized");if(!this.session){if(!this.connectOpts)throw new d.OKXConnectError(d.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"Sign Client not initialized");yield this.connect(this.connectOpts)}const e=yield this.requestAccounts();return e}))}disconnect(){return s(this,void 0,void 0,(function*(){if((0,d.logDebug)("OKXUniversalProvider disconnect() called"),!this.session)throw new d.OKXConnectError(d.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR);return new Promise((e=>s(this,void 0,void 0,(function*(){let t=!1;const n=()=>s(this,void 0,void 0,(function*(){t||(t=!0,yield this.disconnectAndEmit(),yield this.cleanup(),e(),(0,d.logDebug)("UniversalProvider disconnect Disconnected"))}));try{yield this.client.disconnect(),yield n()}catch(i){yield n()}}))))}))}disconnectAndEmit(){var e,t;this.client.engine.connectionManager.disconnect(),this.events.emit("disconnect",{topic:null===(e=this.session)||void 0===e?void 0:e.topic}),this.events.emit("session_delete",{topic:null===(t=this.session)||void 0===t?void 0:t.topic})}aptosChainNameToGeneralId(e){return"aptos:mainnet"==e?"aptos:637":"movement:testnet"==e?"aptos:70000060":e}replaceAptos(e){var t,n;let s=null===(t=e.namespaces)||void 0===t?void 0:t["aptos"];if(void 0!=s){let t=this.replaceAptosInner(s);void 0!=e.namespaces&&"aptos"in e.namespaces&&void 0!=t&&(e.namespaces.aptos=t)}let i=null===(n=e.optionalNamespaces)||void 0===n?void 0:n["aptos"];if(void 0!=i){let t=this.replaceAptosInner(i);void 0!=e.optionalNamespaces&&"aptos"in e.optionalNamespaces&&void 0!=t&&(e.optionalNamespaces.aptos=t)}return e}replaceAptosInner(e){var t;return void 0!=e&&(e.chains=null===(t=e.chains)||void 0===t?void 0:t.map((e=>this.aptosChainNameToGeneralId(e))),void 0!=e.defaultChain&&(e.defaultChain=this.aptosChainNameToGeneralId(e.defaultChain))),e}replaceAptosGeneralIdWithNetName(e){return e.includes("aptos:637")?e=e.replace("aptos:637","aptos:mainnet"):e.includes("aptos:70000060")&&(e=e.replace("aptos:70000060","movement:testnet")),e}replaceSessionAptos(e){var t;let n=null===(t=null===e||void 0===e?void 0:e.namespaces)||void 0===t?void 0:t["aptos"];if(void 0!=n&&void 0!=n.chains){n.chains=n.chains.map((e=>this.replaceAptosGeneralIdWithNetName(e))),n.accounts=n.accounts.map((e=>this.replaceAptosGeneralIdWithNetName(e)));let t={};Object.keys(n.extra||{}).forEach(((n,s)=>{this.replaceAptosGeneralIdWithNetName(n);t[this.replaceAptosGeneralIdWithNetName(n)]=Object.values((null===e||void 0===e?void 0:e.namespaces["aptos"].extra)||{})[s]})),n.extra=t}(0,d.logDebug)("replaceSessionAptos",e)}connected(){(0,d.logDebug)("OKXUniversalProvider connected() called");let e=()=>{try{this.cleanup(),this.client.engine.connectionManager.disconnect()}catch(e){(0,d.logDebug)("Error during disconnect:",e)}};try{return!!this.session&&(!!this.client.engine.connectionManager.getCurrentConnectionReady()||(e(),!1))}catch(t){return e(),!1}}connect(e){return s(this,void 0,void 0,(function*(){if((0,d.logDebug)("OKXUniversalProvider connect() called"),!this.client)throw new d.OKXConnectError(d.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"Sign Client not initialized");if(this.connected())return this.session;e=this.replaceAptos(e),(0,d.logDebug)("OKXUniversalProvider connect >>>>",JSON.stringify(e)),void 0===e.sessionConfig&&(e.sessionConfig={}),void 0===e.sessionConfig.openUniversalUrl&&(e.sessionConfig.openUniversalUrl=(0,d.isMobileUserAgent)()),this.setNamespaces(e);try{(0,d.logDebug)(`UniversalProvider connect opts.stringify ====> ${JSON.stringify(e)}`);let t=yield this.client.connect(e);return this.replaceSessionAptos(t),(0,d.logDebug)(`UniversalProvider connect success ====> ${JSON.stringify(t)}`),t?(this.session=t,this.onConnect(),t):void 0}catch(t){throw(0,d.logDebug)("UniversalProvider connect error ====> ",JSON.stringify(t)),t}}))}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}removeListener(e,t){this.events.removeListener(e,t)}off(e,t){this.events.off(e,t)}setDefaultChain(e,t){(0,d.logDebug)("OKXUniversalProvider setDefaultChain() called");try{if(!this.connected())return;const[n,s]=this.validateChain(e),i=this.getProvider(n);i.setDefaultChain(s,t)}catch(n){if(!/Please call connect/.test(n.message))throw n}}checkStorage(){return s(this,void 0,void 0,(function*(){let e=yield this.getFromStore("connectSession");if((0,d.logDebug)(e),e){let t=e;this.session=t,this.client.session=this.session,this.sessionConfig=t.sessionConfig,this.client.sessionConfig=this.sessionConfig,(0,d.logDebug)("[evm u-provider] do reconnection",this.session),yield this.client.restoreconnect(t),this.createProviders(),this.registerEventListeners(),setTimeout((()=>{this.events.emit("reconnect",{session:this.session})}),100),this.registerEventListeners()}}))}initialize(){return s(this,void 0,void 0,(function*(){(0,d.logDebug)("OKXUniversalProvider initialize() called");const e=Object.assign({url:window.location.hostname,origin:window.location.origin},this.providerOpts.dappMetaData);this.client=new l.SignClient(e,this.events),yield this.checkStorage()}))}createProviders(){if(!this.client)throw new d.OKXConnectError(d.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"Sign Client not initialized");if(!this.connected())throw new d.OKXConnectError(d.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"Session not initialized. Please call connect() before enable()");const e=[...new Set(Object.keys(this.session.namespaces).map((e=>(0,u.parseNamespaceKey)(e))))];e.forEach((e=>{if(!this.session)return;const t=this.session.namespaces,n=t[e];switch((0,d.logDebug)("init eip155 >> ",n),e){case"eip155":const t={namespace:n};this.rpcProviders[e]=new a.Eip155Provider(t,this.client,this.events);break;case"solana":const s={namespace:n};let i=new h.default(s,"solana",this.client,this.events);this.rpcProviders[e]=i;let o=new h.default(s,"sonic",this.client,this.events);this.rpcProviders["sonic"]=o;let c=new h.default(s,"svm",this.client,this.events);this.rpcProviders["svm"]=c;break;case"ton":const l={namespace:n};let d=new g.default(l,this.client,this.events);this.rpcProviders[e]=d;break;case"sui":const u={namespace:n};let v=new r.SuiProvider(u,this.client,this.events);v.name="sui",this.rpcProviders[e]=v;break;case"btc":const y={namespace:n};let C=new p.default(y,"btc",this.client,this.events);this.rpcProviders["btc"]=C;let w=new p.default(y,"fractal",this.client,this.events);this.rpcProviders["fractal"]=w;break;case"aptos":let O=new f.default({namespace:n},"aptos",this.client,this.events);this.rpcProviders[e]=O;let k=new f.default({namespace:n},"movement",this.client,this.events);this.rpcProviders["movement"]=k;break;case"cosmos":let E=new m.default({namespace:n},this.client,this.events);this.rpcProviders[e]=E;break;case"tron":let N=new _.default({namespace:n},this.client,this.events);this.rpcProviders[e]=N;break;case"starknet":let R=new b.default({namespace:n},"starknet",this.client,this.events);this.rpcProviders[e]=R;break}}))}registerEventListeners(){if("undefined"===typeof this.client)throw new d.OKXConnectError(d.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"Sign Client is not initialized");this.client.engine.addDisconnectListener((()=>{this.disconnectAndEmit(),this.cleanup()})),this.on(o.PROVIDER_EVENTS.DEFAULT_CHAIN_CHANGED,(e=>{this.onChainChanged(e)})),this.on(o.PROVIDER_EVENTS.UPDATE_NAMESPACES,(e=>{if(e){const t=Object.keys(e)[0];this.session&&(this.session.namespaces[t]=e[t],this.session&&(this.persist("connectSession",this.session),this.events.emit("session_update",this.session)),(0,d.logDebug)("PROVIDER_EVENTS.UPDATE_NAMESPACES this.session... ->>>",JSON.stringify(this.session)))}}))}getProvider(e){return(0,d.logDebug)("current get providers",this.rpcProviders),(0,d.logDebug)("query namespace: ",e),this.rpcProviders[e]}setNamespaces(e){this.connectOpts=e;const{namespaces:t,sessionConfig:n}=e,s={origin:window.location.origin,url:window.location.hostname,name:this.providerOpts.dappMetaData.name,icon:this.providerOpts.dappMetaData.icon};this.sessionConfig={dappInfo:s,openUniversalUrl:null===n||void 0===n?void 0:n.openUniversalUrl,redirect:null===n||void 0===n?void 0:n.redirect},(0,d.logDebug)("setNamespaces sessionConfig>>>",this.sessionConfig),this.client.sessionConfig=this.sessionConfig,this.persist("sessionConfig",n)}validateChain(e){var t;let[n,s]=(null===e||void 0===e?void 0:e.split(":"))||["",""];if(!this.session||!this.session.namespaces||!Object.keys(this.session.namespaces).length)return(0,d.logDebug)("get name & chain",n,s),[n,s];if(n){if(!this.isChainNamespaceInSession(n))throw new d.OKXConnectError(d.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR,`Namespace '${n}' is not configured. Please call connect() first with namespace config.`);if(s&&e){(0,d.logDebug)("this.session.namespaces --\x3e> ",n,JSON.stringify(this.session.namespaces));const s=null===(t=this.session.namespaces[n])||void 0===t?void 0:t.chains;if((0,d.logDebug)("get chainsArr & chain",JSON.stringify(s),e),s&&!s.includes(e))throw new d.OKXConnectError(d.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR,`Namespace not include the chain '${e}'`)}}if(n&&s)return(0,d.logDebug)("get name & chain",n,s),[n,s];let i=(0,u.parseNamespaceKey)(Object.keys(this.session.namespaces)[0]);const a=this.rpcProviders[i].getDefaultChain();return(0,d.logDebug)("get default chain:",a),[i,a]}isChainNamespaceInSession(e){var t,n;if(Object.keys((null===(t=this.session)||void 0===t?void 0:t.namespaces)||{}).map((e=>(0,u.parseNamespaceKey)(e))).includes(e))return!0;let s=!1;return Object.values((null===(n=this.session)||void 0===n?void 0:n.namespaces)||{}).forEach((t=>{t.chains.forEach((t=>{t.split(":")[0]==e&&(s=!0)}))})),s}requestAccountsWithNamespace(e){return this.getProvider(e).requestAccounts()}requestDefaultChainWithNamespace(e){return this.getProvider(e).getDefaultChain()}requestAccounts(){return s(this,void 0,void 0,(function*(){const[e]=this.validateChain();return yield this.getProvider(e).requestAccounts()}))}onChainChanged(e){var t;if(!(null===(t=this.session)||void 0===t?void 0:t.namespaces))return;const[n,s]=this.validateChain(e);s&&(this.session.namespaces[n]&&(this.session.namespaces[n].defaultChain=s,this.persist("connectSession",this.session)),this.events.emit("chainChanged",s))}onConnect(){this.createProviders(),this.session&&this.persist("connectSession",this.session),this.events.emit("connect",{session:this.session}),this.registerEventListeners()}cleanup(){return s(this,void 0,void 0,(function*(){this.session=void 0,this.sessionProperties=void 0,this.persist("optionalNamespaces",void 0),this.persist("sessionProperties",void 0),this.persist("connectSession",void 0)}))}persist(e,t){return(0,d.logDebug)("[evm u-provider] persisit data",e,t),this.client.engine.connectionManager.saveSessionContent(e,t)}getFromStore(e){return s(this,void 0,void 0,(function*(){return this.client.engine.connectionManager.getSessionContent(e)}))}showRequestModal(e,t){try{const{namespace:n,requestParam:s}=this.buildRequestParamFromRequest(e,t);return this.getProvider(n).showRequestModal(s)}catch(n){return!1}}}t.OKXUniversalProvider=v,t["default"]=v},6280:function(e,t,n){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,i)}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||s(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.OKXStarknetProvider=t.OKXTronProvider=t.OKXTonProvider=t.OKXCosmosProvider=t.OKXBtcProvider=t.OKXUniversalProvider=void 0,i(n(66154),t);var a=n(11948);Object.defineProperty(t,"OKXUniversalProvider",{enumerable:!0,get:function(){return a.OKXUniversalProvider}});var r=n(46262);Object.defineProperty(t,"OKXBtcProvider",{enumerable:!0,get:function(){return r.OKXBtcProvider}});var o=n(79203);Object.defineProperty(t,"OKXCosmosProvider",{enumerable:!0,get:function(){return o.OKXCosmosProvider}});var c=n(55128);Object.defineProperty(t,"OKXTonProvider",{enumerable:!0,get:function(){return c.OKXTonProvider}});var l=n(21408);Object.defineProperty(t,"OKXTronProvider",{enumerable:!0,get:function(){return l.OKXTronProvider}});var d=n(9631);Object.defineProperty(t,"OKXStarknetProvider",{enumerable:!0,get:function(){return d.OKXStarknetProvider}}),i(n(59198),t)},82781:function(e,t,n){"use strict";n(41011),n(41011);var s=this&&this.__awaiter||function(e,t,n,s){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,a){function r(e){try{c(s.next(e))}catch(t){a(t)}}function o(e){try{c(s["throw"](e))}catch(t){a(t)}}function c(e){e.done?n(e.value):i(e.value).then(r,o)}c((s=s.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.SignClient=void 0;const i=n(59198),a=n(94524),r=n(89440);class o extends i.ISignClient{constructor(e,t){super(e),this.engine=new i.Engine(new i.ConnectionManager),this.connect=e=>s(this,void 0,void 0,(function*(){return new Promise(((t,n)=>s(this,void 0,void 0,(function*(){try{var o=[];(0,i.logDebug)("client connect params >>>",JSON.stringify(e));var c={name:"requestAccounts",requiredNamespaces:(0,a.nameSpaceToConnectWalletNameSpace)(e.namespaces),optionalNamespaces:(0,a.nameSpaceToConnectWalletNameSpace)(e.optionalNamespaces)};e.connectMethods&&(c.connectRequestMethods=yield(0,r.connectMethodsToConnectWalletMethods)(e.connectMethods,c.requiredNamespaces)),o.push(c),(0,i.logDebug)("client connect connectRequest >>>",JSON.stringify(o)),this.engine.universalConnect(o,Object.assign({dappInfo:this.metadata},e.sessionConfig),(e=>{if(e&&e.connectRequest){var t=(0,i.encodeConnectParams)(e.connectRequest);(0,i.logDebug)("universalConect encodeParams:",t),(0,i.logDebug)("universalConect url:",(0,i.getUniversalLink)((0,i.getAppWalletDeepLink)(t))),this.events.emit("display_uri",(0,i.getUniversalLink)((0,i.getAppWalletDeepLink)(t))),(0,i.logDebug)(`universalConect EngineConnectInfo  ${JSON.stringify(e)}`),this.events.emit("okx_engine_connect_params",e)}})).then((n=>s(this,void 0,void 0,(function*(){(0,a.fillParamsToSession)(n,e.namespaces,e.optionalNamespaces,this.sessionConfig),(0,i.logDebug)(`signClient: connect: session ${JSON.stringify(n)}`),e.connectMethods&&(yield(0,r.connectMethodsResponseUpdate)(n,e.connectMethods)),t(n)})))).catch((e=>{(0,i.logDebug)(`signClient: connect: catch ${JSON.stringify(e)}`),this.events.emit("connect_error",e),n(e)}))}catch(l){(0,i.logDebug)(`signClient: connect:  ${JSON.stringify(l)}`),n(l)}}))))})),this.restoreconnect=e=>s(this,void 0,void 0,(function*(){return new Promise(((t,n)=>{this.engine.restoreconnect(e,(e=>{t(e)}))}))})),this.reject=e=>s(this,void 0,void 0,(function*(){})),this.request=e=>s(this,void 0,void 0,(function*(){return new Promise(((t,n)=>s(this,void 0,void 0,(function*(){var s,a;(0,i.logDebug)("clint request --params>>>> >",this.engine.connectionManager.getCurrentConnectionReady(),null===(s=this.sessionConfig)||void 0===s?void 0:s.openUniversalUrl,JSON.stringify(e));try{(null===(a=this.sessionConfig)||void 0===a?void 0:a.openUniversalUrl)&&(0,i.isIos)()&&this.openOKXWallet(),yield this.engine.send(e,{resolve:e=>{if(delete e.requestId,(0,i.logDebug)("clint request --response >",JSON.stringify(e)),"error"in e&&e.error){let t=e.error;n(new i.OKXConnectError(e.error.code,e.method+":"+t.message))}else t(e)},onAck:()=>{var e;!(0,i.isIos)()&&(null===(e=this.sessionConfig)||void 0===e?void 0:e.openUniversalUrl)&&this.openOKXWallet()}})}catch(r){n(r)}}))))})),this.disconnect=()=>s(this,void 0,void 0,(function*(){return new Promise(((e,t)=>{this.engine.send({method:"disconnect"},{onAck:()=>{e()}}).catch((e=>{console.log(`disconnect : ${JSON.stringify(e)}`),t(e)}))}))})),this.events=t,this.metadata=e}openOKXWallet(){(0,i.logDebug)("bridge-provider ==>> connect_5"),(0,i.openOKXDeeplink)(i.standardDeeplink)}}t.SignClient=o},89440:function(e,t,n){"use strict";n(41011),n(92806),n(53287),n(70039),n(70144),n(86823),n(51204),n(71433),n(27007),n(60233),n(27618),n(41011),n(92806),n(53287),n(70039),n(70144),n(86823),n(51204),n(71433),n(27007),n(60233),n(27618);var s=this&&this.__awaiter||function(e,t,n,s){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,a){function r(e){try{c(s.next(e))}catch(t){a(t)}}function o(e){try{c(s["throw"](e))}catch(t){a(t)}}function c(e){e.done?n(e.value):i(e.value).then(r,o)}c((s=s.apply(e,t||[])).next())}))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.connectSupportMethods=void 0,t.connectMethodsResponseUpdate=d,t.connectMethodsToConnectWalletMethods=u;const a=n(59198),r=i(n(81071)),o=n(72297);function c(e){return"object"===typeof e&&null!==e&&Array.isArray(e)}function l(e){return"object"===typeof e&&null!==e&&!Array.isArray(e)}function d(e,t){return s(this,void 0,void 0,(function*(){var n;try{if(e.connectMethodsReply){(0,a.logDebug)("connectMethodsResponseUpdate connectMethodsReply:",JSON.stringify(e.connectMethodsReply)),(0,a.logDebug)("connectMethodsResponseUpdate session.namespaces:",JSON.stringify(e.namespaces));for(const s of e.connectMethodsReply)if((0,a.logDebug)("connectMethodsResponseUpdate methodItem:",JSON.stringify(s)),"result"in s)if("solana_signMessage"===s.method){let t=s.result;(0,a.logDebug)("solana_signMessage methodItem.chainId:",s.chainId);let i=null===(n=e.namespaces["solana"])||void 0===n?void 0:n.accounts.filter((function(e){return(0,a.logDebug)("solana_signMessage account:",e),e.startsWith(s.chainId)}))[0];(0,a.logDebug)("solana_signMessage result account:",t,i),t&&i&&(s.result={signature:r.default.decode(t),publicKey:null===i||void 0===i?void 0:i.split(":")[2]})}else if("sui_signMessage"===s.method||"sui_signPersonalMessage"===s.method){let e=t.filter((function(e){return e.method===s.method}))[0];if(e&&e.params&&"message"in e.params){let t=e.params.message,n=btoa(t);console.log("sui_signMessag suiMessagee suiMessageb64:>>>>",t,n),"sui_signMessage"===s.method?s.result={messageBytes:n,signature:s.result}:"sui_signPersonalMessage"===s.method&&(s.result={bytes:n,signature:s.result})}}else if("aptos_signMessage"===s.method){if("aptos:637"===s.chainId?s.chainId="aptos:mainnet":"aptos:70000060"===s.chainId&&(s.chainId="movement:testnet"),s.result=JSON.parse(s.result),console.log("aptos_signMessage result methodItem.result before:>>>>",JSON.stringify(s.result)),s.result&&"signature"in s.result){let e=s.result.signature;e&&e.startsWith("0x")&&(e=e.slice(2,e.length),s.result.signature=e)}console.log("aptos_signMessage result methodItem.result after:>>>>",JSON.stringify(s.result))}else if("cosmos_signArbitrary"===s.method)s.result=JSON.parse(s.result);else if("starknet_signMessage"==s.method){let e=s.result;"string"==typeof e&&(e=JSON.parse(e)),s.result=[e["signedDataR"],e["signedDataS"]]}}else if(t&&t.length>0){e.connectMethodsReply=[];let n=new a.OKXConnectError(a.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED);for(const i of t){var s={method:i.method,chainId:i.chainId,error:{code:n.code,message:n.message}};e.connectMethodsReply.push(s)}}}catch(i){throw(0,a.logDebug)("connectMethodsResponseUpdate connectMethodsReply Error:",JSON.stringify(i)),i}}))}function u(e,t){return s(this,void 0,void 0,(function*(){try{(0,a.logDebug)("connectMethodsToConnectWalletMethods requestMethods:",JSON.stringify(e));const d=[];if(!t&&e&&e.length>0)throw new a.OKXConnectError(a.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"Connect request params error , RequestMethods cannot be added when the NameSpace is empty");for(const s of e)if("aptos_signMessage"===s.method&&("aptos:mainnet"===s.chainId?s.chainId="aptos:637":"movement:testnet"===s.chainId&&(s.chainId="aptos:70000060")),"wallet_addEthereumChain"===s.method){var n=null===t||void 0===t?void 0:t.some((e=>e.namespace.includes("eip155")));if(!n)throw new a.OKXConnectError(a.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Connect request params error, When using '${s.method}', the EVM chain needs to be included in the NameSpace`)}else{const e=!!(null===t||void 0===t?void 0:t.some((e=>e.chains.some((e=>e.includes(`${s.chainId}`))))));if(!e)throw new a.OKXConnectError(a.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Connect request params error, When using '${s.method}', NameSpace must contain '${s.chainId}'`)}for(const t of e){if("wallet_addEthereumChain"===t.method){if(Array.isArray(t.params)){const e=t.params;if(!e||1!==e.length)throw e&&e.length>1?new a.OKXConnectError(a.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`connect request params only support one data, method: '${t.method}'`):new a.OKXConnectError(a.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`connect request params is nil, method: '${t.method}'`);{const n=e[0];l(n)&&(t.params=n)}}}else if("personal_sign"===t.method){if(c(t.params)){if(t.params&&1!==t.params.length)throw new a.OKXConnectError(a.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`connect request params error,  method: '${t.method}' `);let e=t.params[0];if(!e||"string"!==typeof e)throw new a.OKXConnectError(a.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`connect request params is error,  method: '${t.method}' `);t.params={message:e}}}else if("sui_signMessage"===t.method||"sui_signPersonalMessage"===t.method){if(!l(t.params)||!("message"in t.params))throw new a.OKXConnectError(a.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`connect request params is error,  method: '${t.method}' `);if(!t.params.message)throw new a.OKXConnectError(a.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`connect request params is error,  method: '${t.method}' `);{(0,a.logDebug)("sui_signMessage item.params.message :",t.params.message);let e=JSON.parse(JSON.stringify(t.params.message)),n=Object.values(e),s=new Uint8Array(n),i=new TextDecoder("utf8"),r=btoa(i.decode(s));t.params.message=atob(r)}}else if("solana_signMessage"===t.method){if(!l(t.params)||!("message"in t.params))throw new a.OKXConnectError(a.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`connect request params is error,  method: '${t.method}' `);if(!t.params.message||"string"!==typeof t.params.message)throw new a.OKXConnectError(a.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`connect request params is error,  method: '${t.method}' `);t.params["bs58Message"]=r.default.encode((0,o.stringToUint8Array)(t.params.message))}else if("aptos_signMessage"===t.method){if(!l(t.params))throw new a.OKXConnectError(a.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`connect request params is error,  method: '${t.method}' `);if(!t.chainId||"aptos:637"!==t.chainId&&"aptos:70000060"!==t.chainId)throw new a.OKXConnectError(a.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`connect request params chainId is error,  method: '${t.method}' `);{var s=t.params,i=window.location.protocol+"//"+window.location.hostname;let e=1;"aptos:637"===t.chainId||"aptos:70000060"===t.chainId&&(e=2),t.params={data:s,applicationUrl:i,prefix:"APTOS",aptosChainId:e}}}else if("cosmos_signArbitrary"===t.method){if(!l(t.params))throw new a.OKXConnectError(a.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`connect request params is error,  method: '${t.method}' `);if(!t.params.message||"string"!==typeof t.params.message)throw new a.OKXConnectError(a.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`connect request params message is error,  method: '${t.method}' `);{const e=(0,o.stringToBase64)(t.params.message);let n=t.chainId.split(":")[1];if(!n)throw new a.OKXConnectError(a.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`connect request params chainId is error,  method: '${t.method}' `);t.params={chain_id:n,data:{chain_id:"",account_number:"0",sequence:"0",fee:{gas:"0",amount:[]},msgs:[{type:"sign/MsgSignData",value:{signer:"",data:e}}],memo:""}}}}else"tron_signMessage"==t.method&&"message"in t.params?t.params.message&&"string"===typeof t.params.message&&(t.params.message=h(t.params.message)):t.method;(0,a.logDebug)("connectMethodsToConnectWalletMethods item:",JSON.stringify(t)),d.push(t)}return d}catch(d){throw d}}))}function h(e){let t="";for(let n=0;n<e.length;n++)t+=e.charCodeAt(n).toString(16).padStart(2,"0");return t}t.connectSupportMethods=Object.freeze(["wallet_addEthereumChain","personal_sign","solana_signMessage","sui_signMessage","sui_signPersonalMessage","btc_signMessage","aptos_signMessage","cosmos_signArbitrary","tron_signMessage","tron_signMessageV2","starknet_signMessage"])},94524:function(e,t,n){"use strict";n(41011),n(71433),n(70354),n(60233),n(41011),n(71433),n(70354),n(60233),Object.defineProperty(t,"__esModule",{value:!0}),t.getAccountsChains=i,t.nameSpaceToConnectWalletNameSpace=a,t.fillParamsToSession=r,t.isCaipNamespace=o,t.parseNamespaceKey=c;const s=n(59198);function i(e){const t=[];return e.forEach((e=>{const[n,s]=e.split(":");t.push(`${n}:${s}`)})),t}function a(e){var t=[];return e?(Object.keys(e).forEach((n=>{n!==s.NameSpaceKeyEip155&&n!==s.NameSpaceKeySOL&&n!==s.NameSpaceKeySui&&n!==s.NameSpaceKeyAptos&&n!=s.NameSpaceKeyBtc&&n!==s.NameSpaceKeyTON&&n!==s.NameSpaceKeyCosmos&&n!==s.NameSpaceKeyTron&&n!==s.NameSpaceKeyStarknet||e[n].chains&&t.push({namespace:n,chains:e[n].chains,params:e[n].params})})),t):t}function r(e,t,n,s){const i=(e,t)=>{Object.assign(e,t)},a=(e,t)=>{for(const n in t)t.hasOwnProperty(n)&&t[n].rpcMap&&(t[n].rpcMap&&(e[n].rpcMap||(e[n].rpcMap={}),i(e[n].rpcMap,t[n].rpcMap)),t[n].defaultChain&&void 0===e[n].defaultChain&&e[n].chains.some((e=>e.split(":")[1]===t[n].defaultChain))&&(e[n].defaultChain=t[n].defaultChain))};t&&a(e.namespaces,t),n&&a(e.namespaces,n),e.sessionConfig=s}function o(e){return e.includes(":")}function c(e){return o(e)?e.split(":")[0]:e}},79385:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PROVIDER_EVENTS=void 0,t.PROVIDER_EVENTS={DEFAULT_CHAIN_CHANGED:"default_chain_changed",UPDATE_NAMESPACES:"update_name_spaces"}},27186:function(e,t,n){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,i)}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||s(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(92530),t),i(n(79385),t)},92530:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GENERIC_SUBPROVIDER_NAME=t.RPC_URL=t.STORAGE=t.CONTEXT=t.WC_VERSION=t.PROTOCOL=t.RELAY_URL=t.LOGGER=void 0,t.LOGGER="error",t.RELAY_URL="wss://relay.walletconnect.com",t.PROTOCOL="wc",t.WC_VERSION=2,t.CONTEXT="universal_provider",t.STORAGE=`${t.PROTOCOL}@${t.WC_VERSION}:${t.CONTEXT}:`,t.RPC_URL="https://rpc.walletconnect.com/v1/",t.GENERIC_SUBPROVIDER_NAME="generic"},96548:function(e,t,n){"use strict";n(88373),n(51555),n(33734),n(22035),n(94932),n(50427),n(19239),n(71433),n(27007),n(70354),n(57039),n(88373),n(51555),n(33734),n(22035),n(94932),n(50427),n(19239),n(71433),n(27007),n(70354),n(57039);var s=this&&this.__awaiter||function(e,t,n,s){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,a){function r(e){try{c(s.next(e))}catch(t){a(t)}}function o(e){try{c(s["throw"](e))}catch(t){a(t)}}function c(e){e.done?n(e.value):i(e.value).then(r,o)}c((s=s.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=n(27186),a=n(59198),r=n(34310),o=n(56100),c=n(34225);class l{constructor(e,t,n,s){this.name="aptos",this.namespace=e.namespace,this.events=s,this.client=n,this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders(),this.name=t}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return s(this,void 0,void 0,(function*(){if((0,a.logDebug)("solana request --args--string>",JSON.stringify(e)),(0,a.logDebug)("solana provider namespace: ",this.namespace),this.namespace.methods.includes(e.method))return this.client.request(e);throw new a.OKXConnectError(a.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED,"Please upgrade OKX APP")}))}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(i.PROVIDER_EVENTS.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter((e=>e.split(":")[1]===this.chainId.toString())).map((e=>e.split(":")[2])))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach((t=>{const n=(0,r.getChainId)(t),s=(0,r.getRpcUrl)(t,this.namespace);let i=this.createHttpProvider(n,s);i&&(e[n]=i)})),e}getHttpProvider(){const e=`${this.chainId}`,t=this.httpProviders[e];if("undefined"===typeof t)throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){const n=this.createHttpProvider(e,t);n&&(this.httpProviders[e]=n)}createHttpProvider(e,t){const n=t;if(n){const e=new c.JsonRpcProvider(new o.JsonRpcConnection(n,(0,r.getGlobal)("disableProviderPing")));return e}}showRequestModal(e){return!0}}t["default"]=l},24142:function(e,t,n){"use strict";n(88373),n(51555),n(33734),n(22035),n(94932),n(50427),n(19239),n(71433),n(27007),n(70354),n(57039),n(88373),n(51555),n(33734),n(22035),n(94932),n(50427),n(19239),n(71433),n(27007),n(70354),n(57039);var s=this&&this.__awaiter||function(e,t,n,s){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,a){function r(e){try{c(s.next(e))}catch(t){a(t)}}function o(e){try{c(s["throw"](e))}catch(t){a(t)}}function c(e){e.done?n(e.value):i(e.value).then(r,o)}c((s=s.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=n(27186),a=n(59198),r=n(34310),o=n(56100),c=n(34225);class l{constructor(e,t,n,s){this.name=a.NameSpaceKeyBtc,this.namespace=e.namespace,this.events=s,this.client=n,this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders(),this.name=t}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return s(this,void 0,void 0,(function*(){return(0,a.logDebug)("btc request --args--string>",JSON.stringify(e)),(0,a.logDebug)("btc provider namespace: ",JSON.stringify(this.namespace)),this.namespace.methods.includes(e.method)?this.client.request(e):this.getHttpProvider().request(e)}))}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(i.PROVIDER_EVENTS.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter((e=>e.split(":")[1]===this.chainId.toString())).map((e=>e.split(":")[2])))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach((t=>{const n=(0,r.getChainId)(t),s=(0,r.getRpcUrl)(t,this.namespace);let i=this.createHttpProvider(n,s);i&&(e[n]=i)})),e}getHttpProvider(){const e=`${this.chainId}`,t=this.httpProviders[e];if("undefined"===typeof t)throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){const n=this.createHttpProvider(e,t);n&&(this.httpProviders[e]=n)}createHttpProvider(e,t){const n=t;if(n){const e=new c.JsonRpcProvider(new o.JsonRpcConnection(n,(0,r.getGlobal)("disableProviderPing")));return e}(0,a.logError)(`No RPC url provided for chainId: ${e}`)}showRequestModal(e){return!0}}t["default"]=l},93245:function(e,t,n){"use strict";n(88373),n(51555),n(33734),n(22035),n(94932),n(50427),n(19239),n(71433),n(27007),n(70354),n(57039),n(88373),n(51555),n(33734),n(22035),n(94932),n(50427),n(19239),n(71433),n(27007),n(70354),n(57039);var s=this&&this.__awaiter||function(e,t,n,s){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,a){function r(e){try{c(s.next(e))}catch(t){a(t)}}function o(e){try{c(s["throw"](e))}catch(t){a(t)}}function c(e){e.done?n(e.value):i(e.value).then(r,o)}c((s=s.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=n(27186),a=n(59198),r=n(34310),o=n(56100),c=n(34225);class l{constructor(e,t,n){this.name=a.NameSpaceKeyCosmos,this.namespace=e.namespace,this.events=n,this.client=t,this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return s(this,void 0,void 0,(function*(){if((0,a.logDebug)("cosmos request --args--string>",JSON.stringify(e)),(0,a.logDebug)("cosmos provider namespace: ",JSON.stringify(this.namespace)),this.namespace.methods.includes(e.method))return this.client.request(e);throw new a.OKXConnectError(a.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED,"Please upgrade OKX APP")}))}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(i.PROVIDER_EVENTS.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter((e=>e.split(":")[1]===this.chainId.toString())).map((e=>e.split(":")[2])))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach((t=>{const n=(0,r.getChainId)(t),s=(0,r.getRpcUrl)(t,this.namespace);let i=this.createHttpProvider(n,s);i&&(e[n]=i)})),e}getHttpProvider(){const e=`${this.chainId}`,t=this.httpProviders[e];if("undefined"===typeof t)throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){const n=this.createHttpProvider(e,t);n&&(this.httpProviders[e]=n)}createHttpProvider(e,t){const n=t;if(n){const e=new c.JsonRpcProvider(new o.JsonRpcConnection(n,(0,r.getGlobal)("disableProviderPing")));return e}}showRequestModal(e){return!0}}t["default"]=l},19066:function(e,t,n){"use strict";n(41011),n(88373),n(51555),n(33734),n(22035),n(94932),n(50427),n(19239),n(71433),n(27007),n(70354),n(57039),n(41011),n(88373),n(51555),n(33734),n(22035),n(94932),n(50427),n(19239),n(71433),n(27007),n(70354),n(57039);var s=this&&this.__awaiter||function(e,t,n,s){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,a){function r(e){try{c(s.next(e))}catch(t){a(t)}}function o(e){try{c(s["throw"](e))}catch(t){a(t)}}function c(e){e.done?n(e.value):i(e.value).then(r,o)}c((s=s.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.Eip155Provider=void 0;const i=n(34310),a=n(27186),r=n(59198),o=n(34225),c=n(56100);class l{constructor(e,t,n){this.name="eip155",this.namespace=e.namespace,this.events=n,this.client=t,this.chainId=parseInt(this.getDefaultChain()),this.httpProviders=this.createHttpProviders(),(0,r.logDebug)("eip155 constructor --opts.namespace--\x3e",e.namespace)}isRecord(e){return"object"===typeof e&&null!==e&&!Array.isArray(e)}isArray(e){return"object"===typeof e&&null!==e&&Array.isArray(e)}updateRequestParams(e){let t=e.params&&"object"===typeof e.params&&!Array.isArray(e.params);if("wallet_switchEthereumChain"===e.method){const n=e.chainId.split(":")[1],s=parseInt(n,10);if(isNaN(s))throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR,`Invalid decimal number,  chainId: '${n}' `);if(e.params){if(!t)throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR,`Request params error ,  method: '${e.method}' `);{let t=e.params;"chainId"in t||(t["chainId"]="0x"+s.toString(16),e.params=t)}}else e.params={chainId:"0x"+s.toString(16)}}else if("personal_sign"===e.method||"eth_signTypedData_v4"===e.method||"eth_sendTransaction"===e.method||"wallet_watchAsset"===e.method){if(!e.params)throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR,`Request params is nil, method: '${e.method}'`);if(!this.isRecord(e.params))throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR,`Invalid request params type, method: '${e.method}'`);{let t=e.params;if((0,r.logDebug)("eip155 updateRequestParams params>",JSON.stringify(t)),"chainId"in t){const n=e.chainId.split(":")[1],s=parseInt(n,10);let i,a=String(t.chainId);if(a.startsWith(this.name)&&e.chainId===a)i=s;else if(a.startsWith("0x"))i=parseInt(a,16);else{if(isNaN(Number(a)))throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR,`Invalid params.chainId format, method: '${e.method}'`);i=parseInt(a,10)}if(s!==i)throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR,`Request params.chainId not equal chain,  method: '${e.method}' `)}}}}adaptArray(e){if("wallet_switchEthereumChain"===e.method||"wallet_addEthereumChain"===e.method||"wallet_watchAsset"===e.method||"eth_sendTransaction"===e.method){if(this.isArray(e.params)){let t=e.params;if(t){if(1!==t.length)throw t.length>1?new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Request params only Support one data,  method: '${e.method}' `):new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Request params is nil,  method: '${e.method}' `);{let t=e.params[0];this.isRecord(t)&&(e.params=t)}}}}else if("eth_signTypedData_v4"===e.method){if(this.isArray(e.params)){let n=e.params;if(n&&n.length>2)throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Request params only Support one data,  method: '${e.method}' `);if(n&&0===n.length)throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Request params is nil,  method: '${e.method}' `);let s={};if(n&&2===n.length){let t=e.params[0];if(!t||"string"!==typeof t)throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Request params address error , not string,  method: '${e.method}' `);{let n=!1;if(this.namespace.accounts.forEach((e=>{let s=e.split(":")[2];s.toLowerCase()===t.toLowerCase()&&(n=!0)})),(0,r.logDebug)("eip155 adaptArray eth_signTypedData_v4 >>>isEqual: ",n),!n)throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Request params address error, not equal,  method: '${e.method}' `);if(!this.isRecord(e.params[1]))throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Request params message data error,  method: '${e.method}' `);s=e.params[1]}}else if(n&&1===n.length){if(!this.isRecord(e.params[0]))throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Request params message data error,  method: '${e.method}' `);s=e.params[0]}try{let t=JSON.stringify(s);e.params={typedDataJson:t}}catch(t){throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Request params call JSON.stringify() failed,  method: '${e.method}' `)}}}else if("personal_sign"===e.method&&this.isArray(e.params)){if(e.params&&e.params.length>2)throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Request params error,  method: '${e.method}' `);if(e.params&&0===e.params.length)throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Request params is nil,  method: '${e.method}' `);let t=e.params[0],n=e.params[1];if(n&&"string"===typeof n){let t=!1;if(this.namespace.accounts.forEach((e=>{let s=e.split(":")[2];s.toLowerCase()===n.toLowerCase()&&(t=!0)})),(0,r.logDebug)("eip155 adaptArray personal_sign >>>isEqual: ",t),!t)throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Request params address error,  method: '${e.method}' `)}if(!t||"string"!==typeof t)throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Request params is error,  method: '${e.method}' `);e.params={message:t}}}showRequestModal(e){switch(e.method){case"eth_requestAccounts":case"eth_accounts":case"eth_chainId":return!1;case"eth_sendTransaction":case"eth_signTransaction":case"eth_sign":case"personal_sign":case"eth_signTypedData":case"wallet_addEthereumChain":case"wallet_watchAsset":case"eth_signTypedData_v4":return!0;case"wallet_switchEthereumChain":{this.adaptArray(e),this.updateRequestParams(e);const{parsedChainId:t,hexChainId:n}=this.getHexChainIdFromRequest(e);return!this.isChainApproved(t)}default:return!1}return!1}request(e){return s(this,void 0,void 0,(function*(){switch(this.adaptArray(e),(0,r.logDebug)("eip155 request --args--string>",JSON.stringify(e)),this.updateRequestParams(e),(0,r.logDebug)("eip155 request --params--string>",JSON.stringify(e)),e.method){case"eth_requestAccounts":return this.getAccounts();case"eth_accounts":return this.getAccounts();case"eth_chainId":return parseInt(this.getDefaultChain());case"wallet_switchEthereumChain":return yield this.handleSwitchChain(e);case"wallet_addEthereumChain":return this.addEthereumChain(e);default:break}if(!this.namespace.methods.includes(e.method))return(0,r.logDebug)("[RPC] request begin"),yield this.getHttpProvider().request(e);try{const t=yield this.client.request(e);if((0,r.logDebug)("eip155 request --response----string>",JSON.stringify(t)),this.isRecord(t)&&"result"in t){let e=t.result;return!e||"string"!==typeof e||"true"!==e&&"false"!==e?t.result:((0,r.logDebug)("eip155 request --wallet_watchAsset>>>>","true"===e),"true"===e)}return t}catch(t){throw(0,r.logDebug)(`eip155 request --response --error--string> e instanceof OKXConnectError ${t instanceof r.OKXConnectError}`,JSON.stringify(t)),t}}))}addEthereumChain(e){return s(this,void 0,void 0,(function*(){let t=yield this.client.request(e);try{if("result"in t){let n=t.result;if(n){const t=n.split(":")[0],s=n.split(":")[1],i=t+":"+s;this.namespace;if(this.namespace.accounts.push(n),this.namespace.chains.push(i),this.isRecord(e.params)&&"rpcUrls"in e.params){let t=e.params.rpcUrls,n=t?t[0]:void 0;n&&(this.namespace.rpcMap?this.namespace.rpcMap[s]=n:this.namespace.rpcMap={[s]:n},this.setHttpProvider(s,n))}this.events.emit(a.PROVIDER_EVENTS.UPDATE_NAMESPACES,{eip155:this.namespace})}}else new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`the method ${e.method} request error`)}catch(n){throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`the method ${e.method} request  error`)}return null}))}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}setDefaultChain(e,t){if(this.chainId=parseInt(e),!this.httpProviders[e]){const n=t||(0,i.getRpcUrl)(`${this.name}:${e}`,this.namespace);n?this.setHttpProvider(e,n):(0,r.logError)(`No RPC url provided for chainId: ${e}`)}this.events.emit(a.PROVIDER_EVENTS.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return(0,r.logDebug)("eip155 getAccounts ",e,this.chainId),e?[...new Set(e.filter((e=>e.split(":")[1]===this.chainId.toString())).map((e=>e.split(":")[2])))]:[]}getHexChainIdFromRequest(e){let t=e.params,n="0x0";t&&"chainId"in t&&(n=t.chainId),n=n.startsWith("0x")?n:`0x${n}`,(0,r.logDebug)("handleSwitchChain --\x3eargs ",e),(0,r.logDebug)("handleSwitchChain --\x3ehexChainId ",n);const s=parseInt(n,16);return(0,r.logDebug)("handleSwitchChain --\x3eparsedChainId ",s),{parsedChainId:s,hexChainId:n}}handleSwitchChain(e){return s(this,void 0,void 0,(function*(){const{parsedChainId:t,hexChainId:n}=this.getHexChainIdFromRequest(e);if(this.isChainApproved(t))this.setDefaultChain(`${t}`);else{const i=yield this.client.request({method:"wallet_switchEthereumChain",chainId:e.chainId,params:{chainId:n}});try{if("result"in i){let e=i.result;if(e){const n=e.split(":")[0],s=e.split(":")[1],o=n+":"+s;this.namespace;this.namespace.accounts.push(e),this.namespace.chains.push(o),(0,r.logDebug)("handleSwitchChain --\x3ewallet_switchEthereumChain ",i),this.setDefaultChain(`${t}`),this.events.emit(a.PROVIDER_EVENTS.UPDATE_NAMESPACES,{eip155:this.namespace})}}else new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`the method ${e.method} request error`)}catch(s){throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`the method ${e.method} request  error`)}}return null}))}isChainApproved(e){return this.namespace.chains.includes(`${this.name}:${e}`)}createHttpProvider(e,t){const n=t;if(n){const e=new o.JsonRpcProvider(new c.JsonRpcConnection(n,(0,i.getGlobal)("disableProviderPing")));return e}(0,r.logError)(`No RPC url provided for chainId: ${e}`)}createHttpProviders(){const e={};return this.namespace.chains.forEach((t=>{const n=(0,i.getChainId)(t),s=(0,i.getRpcUrl)(t,this.namespace);(0,r.logDebug)("get parsed chain and rpc:",n,s);let a=this.createHttpProvider(n,s);a&&(e[n]=a)})),(0,r.logDebug)("get http providermap:",e),e}setHttpProvider(e,t){const n=this.createHttpProvider(e,t);n&&(this.httpProviders[e]=n)}getHttpProvider(){const e=`${this.chainId}`,t=this.httpProviders[e];if((0,r.logDebug)("[RPC] get http provider:",e,t),"undefined"===typeof t)throw new Error(`JSON-RPC provider for ${e} not found`);return t}}t.Eip155Provider=l,t["default"]=l},56100:function(e,t,n){"use strict";var s=this&&this.__awaiter||function(e,t,n,s){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,a){function r(e){try{c(s.next(e))}catch(t){a(t)}}function o(e){try{c(s["throw"](e))}catch(t){a(t)}}function c(e){e.done?n(e.value):i(e.value).then(r,o)}c((s=s.apply(e,t||[])).next())}))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.JsonRpcConnection=void 0;const a=n(47736),r=i(n(60309)),o=n(59198),c=n(59198),l={Accept:"application/json","Content-Type":"application/json"},d="POST",u={headers:l,method:d};class h{constructor(e,t=!1){if(this.url=e,this.disableProviderPing=t,this.events=new a.EventEmitter,this.isAvailable=!1,this.registering=!1,!(0,c.isHttpUrl)(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);this.url=e,this.disableProviderPing=t}get connected(){return this.isAvailable}get connecting(){return this.registering}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}open(){return s(this,arguments,void 0,(function*(e=this.url){yield this.register(e)}))}close(){return s(this,void 0,void 0,(function*(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()}))}send(e){return s(this,void 0,void 0,(function*(){this.isAvailable||(yield this.register());try{const t=(0,o.safeJsonStringify)(e),n=yield(0,r.default)(this.url,Object.assign(Object.assign({},u),{body:t})),s=yield n.json();this.onPayload({data:s})}catch(t){this.onError(e.id,t)}}))}register(){return s(this,arguments,void 0,(function*(e=this.url){if(!(0,c.isHttpUrl)(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);if(this.registering)return new Promise(((e,t)=>{this.events.once("register_error",(e=>{t(e)})),this.events.once("open",(()=>{if("undefined"===typeof this.isAvailable)return t(new Error("HTTP connection is missing or invalid"));e()}))}));this.url=e,this.registering=!0;try{if(!this.disableProviderPing){const t=(0,o.safeJsonStringify)({id:1,jsonrpc:"2.0",method:"test",params:[]});yield(0,r.default)(e,Object.assign(Object.assign({},u),{body:t}))}this.onOpen()}catch(t){const e=this.parseError(t);throw this.events.emit("register_error",e),this.onClose(),e}}))}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(e){if("undefined"===typeof e.data)return;const t="string"===typeof e.data?(0,o.safeJsonParse)(e.data):e.data;this.events.emit("payload",t)}onError(e,t){const n=this.parseError(t),s=n.message||n.toString(),i=(0,c.formatJsonRpcError)(e,s);this.events.emit("payload",i)}parseError(e,t=this.url){return(0,c.parseConnectionError)(e,t,"HTTP")}}t.JsonRpcConnection=h},34225:function(e,t,n){"use strict";var s=this&&this.__awaiter||function(e,t,n,s){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,a){function r(e){try{c(s.next(e))}catch(t){a(t)}}function o(e){try{c(s["throw"](e))}catch(t){a(t)}}function c(e){e.done?n(e.value):i(e.value).then(r,o)}c((s=s.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.JsonRpcProvider=void 0;const i=n(47736),a=n(66154),r=n(59198),o=n(59198);class c extends a.IJSONRpcProvider{constructor(e){super(e),this.events=new i.EventEmitter,this.connected=!1,this.connecting=!1,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}connect(){return s(this,arguments,void 0,(function*(e=this.connection){yield this.open(e)}))}disconnect(){return s(this,void 0,void 0,(function*(){yield this.close()}))}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}request(e,t){return s(this,void 0,void 0,(function*(){return this.requestStrict((0,r.formatJsonRpcRequest)(e.method,e.params||[],(0,r.getBigIntRpcId)().toString()),t)}))}requestStrict(e,t){return s(this,void 0,void 0,(function*(){return new Promise(((n,i)=>s(this,void 0,void 0,(function*(){if(!this.connection.connected)try{yield this.open()}catch(s){i(s)}this.events.on(`${e.id}`,(e=>{(0,r.isJsonRpcError)(e)?i(e.error):n(e.result)}));try{(0,o.logDebug)("[RPC] >>> send request",e,t),yield this.connection.send(e,t)}catch(s){i(s)}}))))}))}setConnection(e=this.connection){return e}onPayload(e){this.events.emit("payload",e),(0,r.isJsonRpcResponse)(e)?this.events.emit(`${e.id}`,e):this.events.emit("message",{type:e.method,data:e.params})}onClose(e){e&&3e3===e.code&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${e.code} ${e.reason?`(${e.reason})`:""}`)),this.events.emit("disconnect")}open(){return s(this,arguments,void 0,(function*(e=this.connection){this.connection===e&&this.connection.connected||(this.connection.connected&&this.close(),"string"===typeof e&&(yield this.connection.open(e),e=this.connection),this.connection=this.setConnection(e),yield this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}))}close(){return s(this,void 0,void 0,(function*(){yield this.connection.close()}))}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",(e=>this.onPayload(e))),this.connection.on("close",(e=>this.onClose(e))),this.connection.on("error",(e=>this.events.emit("error",e))),this.connection.on("register_error",(e=>this.onClose())),this.hasRegisteredEventListeners=!0)}}t.JsonRpcProvider=c},55637:function(e,t,n){"use strict";n(88373),n(51555),n(33734),n(22035),n(94932),n(50427),n(19239),n(71433),n(27007),n(70354),n(57039),n(88373),n(51555),n(33734),n(22035),n(94932),n(50427),n(19239),n(71433),n(27007),n(70354),n(57039);var s=this&&this.__awaiter||function(e,t,n,s){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,a){function r(e){try{c(s.next(e))}catch(t){a(t)}}function o(e){try{c(s["throw"](e))}catch(t){a(t)}}function c(e){e.done?n(e.value):i(e.value).then(r,o)}c((s=s.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.SolanaProvider=void 0;const i=n(27186),a=n(59198),r=n(34310),o=n(56100),c=n(34225);class l{constructor(e,t,n,s){this.name="solana",this.namespace=e.namespace,this.events=s,this.client=n,this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders(),this.name=t}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return s(this,void 0,void 0,(function*(){if((0,a.logDebug)("solana request --args--string>",JSON.stringify(e)),(0,a.logDebug)("solana provider namespace: ",this.namespace),this.namespace.methods.includes(e.method))return this.client.request(e);throw new a.OKXConnectError(a.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED,"Please upgrade OKX APP")}))}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(i.PROVIDER_EVENTS.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter((e=>e.split(":")[1]===this.chainId.toString())).map((e=>e.split(":")[2])))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach((t=>{const n=(0,r.getChainId)(t),s=(0,r.getRpcUrl)(t,this.namespace);let i=this.createHttpProvider(n,s);i&&(e[n]=i)})),e}getHttpProvider(){const e=`${this.chainId}`,t=this.httpProviders[e];if("undefined"===typeof t)throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){const n=this.createHttpProvider(e,t);n&&(this.httpProviders[e]=n)}createHttpProvider(e,t){const n=t;if(n){const e=new c.JsonRpcProvider(new o.JsonRpcConnection(n,(0,r.getGlobal)("disableProviderPing")));return e}}getPubkey(e){return this.getWalletAddress(e)}getWalletAddress(e){return e||(e=this.namespace.defaultChain,(null===e||void 0===e?void 0:e.startsWith("solana"))||(e=`solana:${e}`)),this.namespace.accounts.filter((function(t){let n=t.split(":");return n.length>2&&t.startsWith(e)})).map((function(e){let t=e.split(":");return t[2]}))[0]}showRequestModal(e){return!0}}t.SolanaProvider=l,t["default"]=l},57009:function(e,t,n){"use strict";n(88373),n(51555),n(33734),n(22035),n(94932),n(50427),n(19239),n(71433),n(27007),n(70354),n(57039),n(88373),n(51555),n(33734),n(22035),n(94932),n(50427),n(19239),n(71433),n(27007),n(70354),n(57039);var s=this&&this.__awaiter||function(e,t,n,s){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,a){function r(e){try{c(s.next(e))}catch(t){a(t)}}function o(e){try{c(s["throw"](e))}catch(t){a(t)}}function c(e){e.done?n(e.value):i(e.value).then(r,o)}c((s=s.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=n(27186),a=n(59198),r=n(34310),o=n(56100),c=n(34225);class l{constructor(e,t,n,s){this.name="starknet",this.namespace=e.namespace,this.events=s,this.client=n,this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders(),this.name=t}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return s(this,void 0,void 0,(function*(){if((0,a.logDebug)("solana request --args--string>",JSON.stringify(e)),(0,a.logDebug)("solana provider namespace: ",this.namespace),this.namespace.methods.includes(e.method))return this.client.request(e);throw new a.OKXConnectError(a.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED,"Please upgrade OKX APP")}))}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(i.PROVIDER_EVENTS.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter((e=>e.split(":")[1]===this.chainId.toString())).map((e=>e.split(":")[2])))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach((t=>{const n=(0,r.getChainId)(t),s=(0,r.getRpcUrl)(t,this.namespace);let i=this.createHttpProvider(n,s);i&&(e[n]=i)})),e}getHttpProvider(){const e=`${this.chainId}`,t=this.httpProviders[e];if("undefined"===typeof t)throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){const n=this.createHttpProvider(e,t);n&&(this.httpProviders[e]=n)}createHttpProvider(e,t){const n=t;if(n){const e=new c.JsonRpcProvider(new o.JsonRpcConnection(n,(0,r.getGlobal)("disableProviderPing")));return e}}showRequestModal(e){return!0}}t["default"]=l},45530:function(e,t,n){"use strict";n(88373),n(51555),n(33734),n(22035),n(94932),n(50427),n(19239),n(71433),n(27007),n(70354),n(57039),n(88373),n(51555),n(33734),n(22035),n(94932),n(50427),n(19239),n(71433),n(27007),n(70354),n(57039);var s=this&&this.__awaiter||function(e,t,n,s){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,a){function r(e){try{c(s.next(e))}catch(t){a(t)}}function o(e){try{c(s["throw"](e))}catch(t){a(t)}}function c(e){e.done?n(e.value):i(e.value).then(r,o)}c((s=s.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.SuiProvider=void 0;const i=n(27186),a=n(59198),r=n(34310),o=n(56100),c=n(34225);class l{constructor(e,t,n){this.name=a.NameSpaceKeySui,this.namespace=e.namespace,this.events=n,this.client=t,this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}request(e){return s(this,void 0,void 0,(function*(){return(0,a.logDebug)("sui request --args--string>",JSON.stringify(e)),(0,a.logDebug)("sui provider namespace: ",this.namespace),this.namespace.methods.includes(e.method)?this.client.request(e):this.getHttpProvider().request(e)}))}requestAccounts(){return this.getAccounts()}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(i.PROVIDER_EVENTS.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter((e=>e.split(":")[1]===this.chainId.toString())).map((e=>e.split(":")[2])))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach((t=>{const n=(0,r.getChainId)(t),s=(0,r.getRpcUrl)(t,this.namespace);let i=this.createHttpProvider(n,s);i&&(e[n]=i)})),e}getHttpProvider(){const e=`${this.chainId}`,t=this.httpProviders[e];if((0,a.logDebug)("[RPC] get http provider:",e,t),"undefined"===typeof t)throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){const n=this.createHttpProvider(e,t);n&&((0,a.logDebug)("setHttpProvider",e,t),this.httpProviders[e]=n)}createHttpProvider(e,t){const n=t;if(n){const e=new c.JsonRpcProvider(new o.JsonRpcConnection(n,(0,r.getGlobal)("disableProviderPing")));return e}(0,a.logError)(`No RPC url provided for chainId: ${e}`)}getPubkey(e){return this.getWalletAddress(e)}getWalletAddress(e){return e||(e=this.namespace.defaultChain,(null===e||void 0===e?void 0:e.startsWith("sui"))||(e=`sui:${e}`)),this.namespace.accounts.filter((function(t){let n=t.split(":");return n.length>2&&t.startsWith(e)})).map((function(e){let t=e.split(":");return t[2]}))[0]}showRequestModal(e){switch(e.method){case"sui_signMessage":case"sui_signPersonalMessage":case"sui_signTransactionBlock":case"sui_signAndExecuteTransactionBlock":return!0;default:return!1}return!1}}t.SuiProvider=l,t["default"]=l},21936:function(e,t,n){"use strict";n(71433),n(70354),n(71433),n(70354);var s=this&&this.__awaiter||function(e,t,n,s){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,a){function r(e){try{c(s.next(e))}catch(t){a(t)}}function o(e){try{c(s["throw"](e))}catch(t){a(t)}}function c(e){e.done?n(e.value):i(e.value).then(r,o)}c((s=s.apply(e,t||[])).next())}))},i=this&&this.__rest||function(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(s=Object.getOwnPropertySymbols(e);i<s.length;i++)t.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(e,s[i])&&(n[s[i]]=e[s[i]])}return n};Object.defineProperty(t,"__esModule",{value:!0});const a=n(27186),r=n(59198),o=n(34310),c=n(56100),l=n(34225);class d{constructor(e,t,n){this.name=r.NameSpaceKeyTON,this.namespace=e.namespace,this.events=n,this.client=t,this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}isRecord(e){return"object"===typeof e&&null!==e&&!Array.isArray(e)}request(e){return s(this,void 0,void 0,(function*(){var t,n,s,a;if((0,r.logDebug)("TONProvider request --args--string>",JSON.stringify(e)),(0,r.logDebug)("TONProvider request provider namespace: ",this.namespace),this.namespace.methods.includes(e.method)){if(!e.params)throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"ton request params is nil");if(this.isRecord(e.params)){const o=e.params,{validUntil:c}=o,l=i(o,["validUntil"]);let d=null===(n=null===(t=this.namespace.payload)||void 0===t?void 0:t.ton_addr)||void 0===n?void 0:n.address;"from"in l&&(d=l.from||(null===(a=null===(s=this.namespace.payload)||void 0===s?void 0:s.ton_addr)||void 0===a?void 0:a.address)),e.params["from"]=d,e.params["network"]=this.getDefaultChain(),e.params["valid_until"]=c;let u=yield this.client.request(e);if(this.isRecord(u)&&"result"in u){const e={boc:u.result.toString()};return(0,r.logDebug)("TONProvider request provider response: ",JSON.stringify(u)),(0,r.logDebug)("TONProvider request provider result: ",JSON.stringify(e)),e}throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"ton_send request response is nil")}throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"ton request params type add nil")}return this.getHttpProvider().request(e)}))}requestAccounts(){return this.getAccounts()}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(a.PROVIDER_EVENTS.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){var e,t;const n=this.namespace.accounts;if((0,r.logDebug)("ton getAccounts accounts :",n),(0,r.logDebug)("ton getAccounts .namespace :",JSON.stringify(this.namespace)),!n)return[];let s=null===(t=null===(e=this.namespace.payload)||void 0===e?void 0:e.ton_addr)||void 0===t?void 0:t.address;return(0,r.logDebug)("ton getAccounts address :",s),s?[s]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach((t=>{const n=(0,o.getChainId)(t),s=(0,o.getRpcUrl)(t,this.namespace);let i=this.createHttpProvider(n,s);i&&(e[n]=i)})),e}getHttpProvider(){const e=`${this.chainId}`,t=this.httpProviders[e];if((0,r.logDebug)("[RPC] get http provider:",e,t),"undefined"===typeof t)throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){const n=this.createHttpProvider(e,t);n&&((0,r.logDebug)("setHttpProvider",e,t),this.httpProviders[e]=n)}createHttpProvider(e,t){const n=t;if(n){const e=new l.JsonRpcProvider(new c.JsonRpcConnection(n,(0,o.getGlobal)("disableProviderPing")));return e}(0,r.logError)(`No RPC url provided for chainId: ${e}`)}showRequestModal(e){switch(e.method){case"ton_sendTransaction":return!0;default:return!1}return!1}}t["default"]=d},28970:function(e,t,n){"use strict";n(88373),n(51555),n(33734),n(22035),n(94932),n(50427),n(19239),n(71433),n(27007),n(70354),n(57039),n(88373),n(51555),n(33734),n(22035),n(94932),n(50427),n(19239),n(71433),n(27007),n(70354),n(57039);var s=this&&this.__awaiter||function(e,t,n,s){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,a){function r(e){try{c(s.next(e))}catch(t){a(t)}}function o(e){try{c(s["throw"](e))}catch(t){a(t)}}function c(e){e.done?n(e.value):i(e.value).then(r,o)}c((s=s.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=n(27186),a=n(59198),r=n(34310),o=n(56100),c=n(34225);class l{constructor(e,t,n){this.name=a.NameSpaceKeyTron,this.namespace=e.namespace,this.events=n,this.client=t,this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return s(this,void 0,void 0,(function*(){if((0,a.logDebug)("tron request --args--string>",JSON.stringify(e)),(0,a.logDebug)("tron provider namespace: ",JSON.stringify(this.namespace)),this.namespace.methods.includes(e.method))return this.client.request(e);throw new a.OKXConnectError(a.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED,"Please upgrade OKX APP")}))}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(i.PROVIDER_EVENTS.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter((e=>e.split(":")[1]===this.chainId.toString())).map((e=>e.split(":")[2])))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach((t=>{const n=(0,r.getChainId)(t),s=(0,r.getRpcUrl)(t,this.namespace);let i=this.createHttpProvider(n,s);i&&(e[n]=i)})),e}getHttpProvider(){const e=`${this.chainId}`,t=this.httpProviders[e];if("undefined"===typeof t)throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){const n=this.createHttpProvider(e,t);n&&(this.httpProviders[e]=n)}createHttpProvider(e,t){const n=t;if(n){const e=new c.JsonRpcProvider(new o.JsonRpcConnection(n,(0,r.getGlobal)("disableProviderPing")));return e}}showRequestModal(e){return!0}}t["default"]=l},66154:function(e,t,n){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,i)}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||s(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(88312),t),i(n(73332),t)},73332:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},88312:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IJSONRpcProvider=t.IJSONRpcConnection=void 0;class n{}t.IJSONRpcConnection=n;class s{constructor(e){}}t.IJSONRpcProvider=s},18558:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setGlobal=t.getGlobal=void 0;const n={},s=e=>n[e];t.getGlobal=s;const i=(e,t)=>{n[e]=t};t.setGlobal=i},34310:function(e,t,n){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,i)}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||s(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(18104),t),i(n(18558),t)},18104:function(e,t,n){"use strict";function s(e,t,n){var s;const i=o(e);return(null===(s=t.rpcMap)||void 0===s?void 0:s[i.reference])||""}function i(e){return e.includes(":")?e.split(":")[1]:e}function a(e){return"number"===typeof e?e:e.includes("0x")?parseInt(e,16):(e=e.includes(":")?e.split(":")[1]:e,isNaN(Number(e))?e:Number(e))}n(88373),n(51555),n(33734),n(22035),n(94932),n(50427),n(19239),n(88373),n(51555),n(33734),n(22035),n(94932),n(50427),n(19239),Object.defineProperty(t,"__esModule",{value:!0}),t.getRpcUrl=s,t.getChainId=i,t.convertChainIdToNumber=a,t.parseChainId=o,t.mergeArrays=c;const r=":";function o(e){const[t,n]=e.split(r);return{namespace:t,reference:n}}function c(e=[],t=[]){return[...new Set([...e,...t])]}},93380:function(e,t,n){"use strict";var s=n(93067),i=n(59584),a=(n(4188),n(2757)),r=n(46357);const o={id:"app"};function c(e,t,n,i,c,l){const d=(0,a.g2)("el-header"),u=(0,a.g2)("el-col"),h=(0,a.g2)("el-row"),p=(0,a.g2)("el-card"),f=(0,a.g2)("el-checkbox"),g=(0,a.g2)("el-option"),m=(0,a.g2)("el-select"),_=(0,a.g2)("el-input"),b=(0,a.g2)("el-button"),v=(0,a.g2)("qrcode-vue"),y=(0,a.g2)("el-tab-pane"),C=(0,a.g2)("SuiPanel"),w=(0,a.g2)("BTCPanel"),O=(0,a.g2)("FractalPanel"),k=(0,a.g2)("TronTransactionPanel"),E=(0,a.g2)("StarknetPanel"),N=(0,a.g2)("el-tabs"),R=(0,a.g2)("el-main"),T=(0,a.g2)("el-container");return(0,a.uX)(),(0,a.CE)("div",o,[(0,a.bF)(T,null,{default:(0,a.k6)((()=>[(0,a.bF)(d,null,{default:(0,a.k6)((()=>t[42]||(t[42]=[(0,a.eW)("OKX Connect")]))),_:1}),(0,a.bF)(R,null,{default:(0,a.k6)((()=>[(0,a.bF)(p,{class:"wallet-info"},{header:(0,a.k6)((()=>t[43]||(t[43]=[(0,a.Lk)("div",null,"Wallet Info",-1)]))),default:(0,a.k6)((()=>[(0,a.bF)(h,{class:"info-row"},{default:(0,a.k6)((()=>[(0,a.bF)(u,{span:24},{default:(0,a.k6)((()=>[t[44]||(t[44]=(0,a.Lk)("strong",null,"Wallet Address:",-1)),(0,a.eW)(" "+(0,r.v_)(l.getWalletAddress),1)])),_:1})])),_:1}),(0,a.bF)(h,{class:"info-row"},{default:(0,a.k6)((()=>[(0,a.bF)(u,{span:24},{default:(0,a.k6)((()=>[t[45]||(t[45]=(0,a.Lk)("strong",null,"Status :",-1)),(0,a.eW)(" "+(0,r.v_)(e.currentStatus),1)])),_:1})])),_:1})])),_:1}),(0,a.bF)(p,{class:"wallet-actions"},{header:(0,a.k6)((()=>t[46]||(t[46]=[(0,a.Lk)("div",null,"Actions",-1)]))),default:(0,a.k6)((()=>[(0,a.bF)(h,{class:"info-row"},{default:(0,a.k6)((()=>[(0,a.bF)(u,{span:24},{default:(0,a.k6)((()=>[(0,a.bF)(f,{modelValue:e.withUI,"onUpdate:modelValue":t[0]||(t[0]=t=>e.withUI=t),onChange:e.handleWithUI},{default:(0,a.k6)((()=>t[47]||(t[47]=[(0,a.eW)(" show UI")]))),_:1},8,["modelValue","onChange"])])),_:1})])),_:1}),(0,a.bF)(h,{style:{"align-items":"center"}},{default:(0,a.k6)((()=>[(0,a.bF)(u,{span:4},{default:(0,a.k6)((()=>t[48]||(t[48]=[(0,a.Lk)("p",{style:{"font-size":"11pt"}},"Modals",-1)]))),_:1}),(0,a.bF)(u,{span:20},{default:(0,a.k6)((()=>[(0,a.bF)(m,{modelValue:e.modals,"onUpdate:modelValue":t[1]||(t[1]=t=>e.modals=t),placeholder:"Modals",onChange:l.handleModalsSelect,multiple:""},{default:(0,a.k6)((()=>[(0,a.bF)(g,{label:"Before",value:"before"}),(0,a.bF)(g,{label:"Success",value:"success"}),(0,a.bF)(g,{label:"Error",value:"error"})])),_:1},8,["modelValue","onChange"])])),_:1})])),_:1}),(0,a.bF)(h,{style:{"align-items":"center","justify-content":"space-between"}},{default:(0,a.k6)((()=>[(0,a.bF)(u,{span:4,style:{gap:"2px"}},{default:(0,a.k6)((()=>t[49]||(t[49]=[(0,a.Lk)("p",{style:{"font-size":"11pt",margin:"0px"}},"Return Strategy",-1),(0,a.Lk)("p",{style:{"font-size":"9pt",margin:"0px"}},"(Mobile only)",-1)]))),_:1}),(0,a.bF)(u,{span:10},{default:(0,a.k6)((()=>[(0,a.bF)(m,{modelValue:e.returnStrategy,"onUpdate:modelValue":t[2]||(t[2]=t=>e.returnStrategy=t),onChange:l.handleReturnStrategySelect,placeholder:"Return Strategy"},{default:(0,a.k6)((()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.returnStrategies,(e=>((0,a.uX)(),(0,a.Wv)(g,{key:`return-strategy-select-option-${e}`,label:e,value:e},null,8,["label","value"])))),128))])),_:1},8,["modelValue","onChange"])])),_:1}),(0,a.bF)(u,{span:10},{default:(0,a.k6)((()=>["deeplink"===e.returnStrategy?((0,a.uX)(),(0,a.Wv)(_,{key:0,modelValue:e.deeplink,"onUpdate:modelValue":t[3]||(t[3]=t=>e.deeplink=t),onChange:l.handleReturnStrategyDeeplink,placeholder:"Deeplink",disabled:"deeplink"!==e.returnStrategy,style:{margin:"0px"}},null,8,["modelValue","onChange","disabled"])):(0,a.Q3)("",!0)])),_:1})])),_:1}),(0,a.bF)(h,{style:{"align-items":"center"}},{default:(0,a.k6)((()=>[(0,a.bF)(u,{span:4},{default:(0,a.k6)((()=>t[50]||(t[50]=[(0,a.Lk)("p",{style:{"font-size":"11pt"}},"Language",-1)]))),_:1}),(0,a.bF)(u,{span:20},{default:(0,a.k6)((()=>[(0,a.bF)(m,{modelValue:e.language,"onUpdate:modelValue":t[4]||(t[4]=t=>e.language=t),onChange:l.handleLanguageSelect,placeholder:"Language"},{default:(0,a.k6)((()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.locales,(e=>((0,a.uX)(),(0,a.Wv)(g,{key:`language-select-option-${e}`,label:e,value:e},null,8,["label","value"])))),128))])),_:1},8,["modelValue","onChange"])])),_:1})])),_:1}),(0,a.bF)(h,{style:{"align-items":"center"}},{default:(0,a.k6)((()=>[(0,a.bF)(u,{span:4},{default:(0,a.k6)((()=>t[51]||(t[51]=[(0,a.Lk)("p",{style:{"font-size":"11pt"}},"Theme",-1)]))),_:1}),(0,a.bF)(u,{span:20},{default:(0,a.k6)((()=>[(0,a.bF)(m,{modelValue:e.theme,"onUpdate:modelValue":t[5]||(t[5]=t=>e.theme=t),onChange:l.handleThemeSelect,placeholder:"Theme"},{default:(0,a.k6)((()=>[(0,a.bF)(g,{label:"LIGHT",value:e.THEME.LIGHT},null,8,["value"]),(0,a.bF)(g,{label:"DARK",value:e.THEME.DARK},null,8,["value"])])),_:1},8,["modelValue","onChange"])])),_:1})])),_:1}),(0,a.bF)(h,{style:{"align-items":"center"}},{default:(0,a.k6)((()=>[(0,a.bF)(u,{span:4},{default:(0,a.k6)((()=>t[52]||(t[52]=[(0,a.Lk)("p",{style:{"font-size":"11pt"}},"Connect",-1),(0,a.Lk)("p",{style:{"font-size":"11pt"}},"Methods",-1)]))),_:1}),(0,a.bF)(u,{span:20},{default:(0,a.k6)((()=>[(0,a.bF)(m,{modelValue:e.selectedMethod,"onUpdate:modelValue":t[6]||(t[6]=t=>e.selectedMethod=t),onChange:l.handleConnectMethodsSelect,multiple:"",placeholder:"methods"},{default:(0,a.k6)((()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.connectMethods,(e=>((0,a.uX)(),(0,a.Wv)(g,{key:e,label:e,value:e},null,8,["label","value"])))),128))])),_:1},8,["modelValue","onChange"])])),_:1})])),_:1}),(0,a.bF)(h,{style:{"align-items":"center"}},{default:(0,a.k6)((()=>[(0,a.bF)(u,{span:4},{default:(0,a.k6)((()=>t[53]||(t[53]=[(0,a.Lk)("p",{style:{"font-size":"11pt"}},"ton_proof",-1)]))),_:1}),(0,a.bF)(u,{span:20},{default:(0,a.k6)((()=>[(0,a.bF)(_,{modelValue:e.tonProofValue,"onUpdate:modelValue":t[7]||(t[7]=t=>e.tonProofValue=t),placeholder:"input ton_proof"},null,8,["modelValue"])])),_:1})])),_:1}),(0,a.bF)(h,{gutter:12,align:"middle"},{default:(0,a.k6)((()=>[(0,a.bF)(u,{span:4},{default:(0,a.k6)((()=>t[54]||(t[54]=[(0,a.Lk)("div",null,"req",-1)]))),_:1}),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(Object.keys(e.availableChains),(t=>((0,a.uX)(),(0,a.Wv)(u,{span:6,key:t},{default:(0,a.k6)((()=>[(0,a.bF)(f,{modelValue:e.availableChains[t].checked,"onUpdate:modelValue":n=>e.availableChains[t].checked=n,disabled:!e.areChainsInit},{default:(0,a.k6)((()=>[(0,a.eW)((0,r.v_)(e.availableChains[t].name),1)])),_:2},1032,["modelValue","onUpdate:modelValue","disabled"])])),_:2},1024)))),128))])),_:1}),(0,a.bF)(h,{gutter:12,align:"middle",style:{"margin-top":"20px"}},{default:(0,a.k6)((()=>[(0,a.bF)(u,{span:4},{default:(0,a.k6)((()=>t[55]||(t[55]=[(0,a.Lk)("div",null,"opt",-1)]))),_:1}),(0,a.bF)(u,{span:5},{default:(0,a.k6)((()=>[(0,a.bF)(f,{checked:e.isOptionalChecked(43114),onChange:t[8]||(t[8]=()=>e.handleOptionChange(43114))},{default:(0,a.k6)((()=>t[56]||(t[56]=[(0,a.eW)(" avax")]))),_:1},8,["checked"])])),_:1}),(0,a.bF)(u,{span:5},{default:(0,a.k6)((()=>[(0,a.bF)(f,{checked:e.isOptionalChecked(10),onChange:t[9]||(t[9]=()=>e.handleOptionChange(10))},{default:(0,a.k6)((()=>t[57]||(t[57]=[(0,a.eW)("op")]))),_:1},8,["checked"])])),_:1}),(0,a.bF)(u,{span:5},{default:(0,a.k6)((()=>[(0,a.bF)(f,{checked:e.isOptionalChecked(8453),onChange:t[10]||(t[10]=()=>e.handleOptionChange(8453))},{default:(0,a.k6)((()=>t[58]||(t[58]=[(0,a.eW)(" BASE")]))),_:1},8,["checked"])])),_:1}),(0,a.bF)(u,{span:5},{default:(0,a.k6)((()=>[(0,a.bF)(f,{checked:e.isOptionalChecked(99781165),onChange:t[11]||(t[11]=()=>e.handleOptionChange(99781165))},{default:(0,a.k6)((()=>t[59]||(t[59]=[(0,a.eW)("Non-exist chain")]))),_:1},8,["checked"])])),_:1})])),_:1}),(0,a.bF)(h,{gutter:12,class:"button-row"},{default:(0,a.k6)((()=>[(0,a.bF)(u,{span:24},{default:(0,a.k6)((()=>[(0,a.bF)(b,{type:"primary",onClick:l.initBtnClicked,icon:"el-icon-connection",disabled:!e.areChainsInit},{default:(0,a.k6)((()=>[(0,a.eW)((0,r.v_)(e.connectInitStr),1)])),_:1},8,["onClick","disabled"])])),_:1})])),_:1}),(0,a.bF)(h,{gutter:12,class:"button-row"},{default:(0,a.k6)((()=>[(0,a.bF)(u,{span:24},{default:(0,a.k6)((()=>[(0,a.bF)(b,{type:"primary",onClick:l.connectBtnClicked,icon:"el-icon-connection",disabled:!e.areChainsInit},{default:(0,a.k6)((()=>[(0,a.eW)((0,r.v_)(e.connectStatusStr),1)])),_:1},8,["onClick","disabled"])])),_:1})])),_:1}),(0,a.bF)(h,{gutter:12,class:"button-row"},{default:(0,a.k6)((()=>[(0,a.bF)(u,{span:24},{default:(0,a.k6)((()=>[(0,a.bF)(b,{type:"primary",onClick:l.connectBtnAndSignClicked,icon:"el-icon-connection",disabled:!e.areChainsInit},{default:(0,a.k6)((()=>[(0,a.eW)((0,r.v_)(e.connectAndSignStr),1)])),_:1},8,["onClick","disabled"])])),_:1})])),_:1}),(0,a.bF)(h,{gutter:12,class:"button-row"},{default:(0,a.k6)((()=>[(0,a.bF)(u,{span:24},{default:(0,a.k6)((()=>[(0,a.bF)(b,{type:"danger",onClick:l.disconnectAction,icon:"el-icon-switch-button",disabled:!e.areChainsInit||0==e.walletAddress.length},{default:(0,a.k6)((()=>[(0,a.eW)((0,r.v_)(e.disconnectStatusStr),1)])),_:1},8,["onClick","disabled"])])),_:1})])),_:1}),((0,a.uX)(),(0,a.Wv)(a.Im,{to:"body"},[e.showModal?((0,a.uX)(),(0,a.CE)("div",{key:0,class:"modal-overlay",onClick:t[14]||(t[14]=(...e)=>l.closeModal&&l.closeModal(...e))},[(0,a.Lk)("div",{class:"modal-content",onClick:t[13]||(t[13]=(0,s.D$)((()=>{}),["stop"]))},[(0,a.Lk)("button",{class:"close-button",onClick:t[12]||(t[12]=(...e)=>l.closeModal&&l.closeModal(...e))}," × "),t[60]||(t[60]=(0,a.Lk)("h2",null,"Scan to connect",-1)),(0,a.bF)(v,{value:e.qrValue,size:350,level:"L"},null,8,["value"])])])):(0,a.Q3)("",!0)]))])),_:1}),(0,a.bF)(p,{class:"wallet-actions"},{header:(0,a.k6)((()=>t[61]||(t[61]=[(0,a.Lk)("div",null,"Transactions",-1)]))),default:(0,a.k6)((()=>[(0,a.bF)(N,{modelValue:e.activeTab,"onUpdate:modelValue":t[38]||(t[38]=t=>e.activeTab=t),type:"border-card",onTabClick:l.clickActiveTab},{default:(0,a.k6)((()=>[(0,a.bF)(y,{label:"ETH",name:"eip155:1"},{default:(0,a.k6)((()=>[(0,a.bF)(h,{gutter:12,class:"button-row"},{default:(0,a.k6)((()=>[(0,a.bF)(u,{span:24},{default:(0,a.k6)((()=>[(0,a.bF)(b,{type:"primary",onClick:l.eth_requestAccounts},{default:(0,a.k6)((()=>t[62]||(t[62]=[(0,a.eW)("eth_requestAccounts(ETH)")]))),_:1},8,["onClick"])])),_:1})])),_:1}),(0,a.bF)(h,{gutter:12,class:"button-row"},{default:(0,a.k6)((()=>[(0,a.bF)(u,{span:24},{default:(0,a.k6)((()=>[(0,a.bF)(b,{type:"primary",onClick:t[15]||(t[15]=e=>l.eth_chainId())},{default:(0,a.k6)((()=>t[63]||(t[63]=[(0,a.eW)("eth_chainId(ETH)")]))),_:1})])),_:1})])),_:1}),(0,a.bF)(h,{gutter:12,class:"button-row"},{default:(0,a.k6)((()=>[(0,a.bF)(u,{span:24},{default:(0,a.k6)((()=>[(0,a.bF)(b,{type:"primary",onClick:t[16]||(t[16]=e=>l.wallet_switchEthereumChain())},{default:(0,a.k6)((()=>t[64]||(t[64]=[(0,a.eW)("wallet_switchEthereumChain(switch to ETH)")]))),_:1})])),_:1})])),_:1}),(0,a.bF)(h,{gutter:12,class:"button-row"},{default:(0,a.k6)((()=>[(0,a.bF)(u,{span:24},{default:(0,a.k6)((()=>[(0,a.bF)(b,{type:"primary",onClick:t[17]||(t[17]=e=>l.wallet_addEthereumChain())},{default:(0,a.k6)((()=>t[65]||(t[65]=[(0,a.eW)("wallet_addEthereumChain")]))),_:1})])),_:1})])),_:1}),(0,a.bF)(h,{gutter:12,class:"button-row"},{default:(0,a.k6)((()=>[(0,a.bF)(u,{span:24},{default:(0,a.k6)((()=>[(0,a.bF)(b,{type:"primary",onClick:t[18]||(t[18]=e=>l.personal_sign())},{default:(0,a.k6)((()=>t[66]||(t[66]=[(0,a.eW)("personal_sign")]))),_:1})])),_:1})])),_:1}),(0,a.bF)(h,{gutter:12,class:"button-row"},{default:(0,a.k6)((()=>[(0,a.bF)(u,{span:24},{default:(0,a.k6)((()=>[(0,a.bF)(b,{type:"primary",onClick:t[19]||(t[19]=e=>l.eth_signTypedData_v4())},{default:(0,a.k6)((()=>t[67]||(t[67]=[(0,a.eW)("eth_signTypedData_v4")]))),_:1})])),_:1})])),_:1}),(0,a.bF)(h,{gutter:12,class:"button-row"},{default:(0,a.k6)((()=>[(0,a.bF)(u,{span:24},{default:(0,a.k6)((()=>[(0,a.bF)(b,{type:"primary",onClick:l.eth_sendTransaction_transfer},{default:(0,a.k6)((()=>t[68]||(t[68]=[(0,a.eW)("eth_sendTransaction(send ETH)")]))),_:1},8,["onClick"])])),_:1})])),_:1}),(0,a.bF)(h,{gutter:12,class:"button-row"},{default:(0,a.k6)((()=>[(0,a.bF)(u,{span:24},{default:(0,a.k6)((()=>[(0,a.bF)(b,{type:"primary",onClick:l.eth_sendTransaction_approve},{default:(0,a.k6)((()=>t[69]||(t[69]=[(0,a.eW)("eth_sendTransaction(approve TONCoin)")]))),_:1},8,["onClick"])])),_:1})])),_:1}),(0,a.bF)(h,{gutter:12,class:"button-row"},{default:(0,a.k6)((()=>[(0,a.bF)(u,{span:24},{default:(0,a.k6)((()=>[(0,a.bF)(b,{type:"primary",onClick:l.eth_sendTransaction_mint},{default:(0,a.k6)((()=>t[70]||(t[70]=[(0,a.eW)("eth_sendTransaction(eth mint nft)")]))),_:1},8,["onClick"])])),_:1})])),_:1}),(0,a.bF)(h,{gutter:12,class:"button-row"},{default:(0,a.k6)((()=>[(0,a.bF)(u,{span:24},{default:(0,a.k6)((()=>[(0,a.bF)(b,{type:"primary",onClick:t[20]||(t[20]=e=>l.wallet_watchAsset())},{default:(0,a.k6)((()=>t[71]||(t[71]=[(0,a.eW)("wallet_watchAsset(add SPX6900) ")]))),_:1})])),_:1})])),_:1})])),_:1}),(0,a.bF)(y,{label:"Polygon",name:"eip155:137"},{default:(0,a.k6)((()=>[(0,a.bF)(h,{gutter:12,class:"button-row"},{default:(0,a.k6)((()=>[(0,a.bF)(u,{span:24},{default:(0,a.k6)((()=>[(0,a.bF)(b,{type:"primary",onClick:l.eth_requestAccounts},{default:(0,a.k6)((()=>t[72]||(t[72]=[(0,a.eW)("eth_requestAccounts")]))),_:1},8,["onClick"])])),_:1})])),_:1}),(0,a.bF)(h,{gutter:12,class:"button-row"},{default:(0,a.k6)((()=>[(0,a.bF)(u,{span:24},{default:(0,a.k6)((()=>[(0,a.bF)(b,{type:"primary",onClick:t[21]||(t[21]=e=>l.eth_chainId())},{default:(0,a.k6)((()=>t[73]||(t[73]=[(0,a.eW)("eth_chainId")]))),_:1})])),_:1})])),_:1}),(0,a.bF)(h,{gutter:12,class:"button-row"},{default:(0,a.k6)((()=>[(0,a.bF)(u,{span:24},{default:(0,a.k6)((()=>[(0,a.bF)(b,{type:"primary",onClick:t[22]||(t[22]=e=>l.wallet_switchEthereumChain())},{default:(0,a.k6)((()=>t[74]||(t[74]=[(0,a.eW)("wallet_switchEthereumChain")]))),_:1})])),_:1})])),_:1}),(0,a.bF)(h,{gutter:12,class:"button-row"},{default:(0,a.k6)((()=>[(0,a.bF)(u,{span:24},{default:(0,a.k6)((()=>[(0,a.bF)(b,{type:"primary",onClick:t[23]||(t[23]=e=>l.wallet_addEthereumChain())},{default:(0,a.k6)((()=>t[75]||(t[75]=[(0,a.eW)("wallet_addEthereumChain")]))),_:1})])),_:1})])),_:1}),(0,a.bF)(h,{gutter:12,class:"button-row"},{default:(0,a.k6)((()=>[(0,a.bF)(u,{span:24},{default:(0,a.k6)((()=>[(0,a.bF)(b,{type:"primary",onClick:t[24]||(t[24]=e=>l.personal_sign())},{default:(0,a.k6)((()=>t[76]||(t[76]=[(0,a.eW)("personal_sign")]))),_:1})])),_:1})])),_:1}),(0,a.bF)(h,{gutter:12,class:"button-row"},{default:(0,a.k6)((()=>[(0,a.bF)(u,{span:24},{default:(0,a.k6)((()=>[(0,a.bF)(b,{type:"primary",onClick:t[25]||(t[25]=e=>l.eth_signTypedData_v4())},{default:(0,a.k6)((()=>t[77]||(t[77]=[(0,a.eW)("eth_signTypedData_v4")]))),_:1})])),_:1})])),_:1}),(0,a.bF)(h,{gutter:12,class:"button-row"},{default:(0,a.k6)((()=>[(0,a.bF)(u,{span:24},{default:(0,a.k6)((()=>[(0,a.bF)(b,{type:"primary",onClick:l.eth_sendTransaction_transfer},{default:(0,a.k6)((()=>t[78]||(t[78]=[(0,a.eW)("eth_sendTransaction(send POL)")]))),_:1},8,["onClick"])])),_:1})])),_:1}),(0,a.bF)(h,{gutter:12,class:"button-row"},{default:(0,a.k6)((()=>[(0,a.bF)(u,{span:24},{default:(0,a.k6)((()=>[(0,a.bF)(b,{type:"primary",onClick:l.eth_sendTransaction_approve},{default:(0,a.k6)((()=>t[79]||(t[79]=[(0,a.eW)("eth_sendTransaction(approve sushi)")]))),_:1},8,["onClick"])])),_:1})])),_:1}),(0,a.bF)(h,{gutter:12,class:"button-row"},{default:(0,a.k6)((()=>[(0,a.bF)(u,{span:24},{default:(0,a.k6)((()=>[(0,a.bF)(b,{type:"primary",onClick:l.eth_sendTransaction_mint},{default:(0,a.k6)((()=>t[80]||(t[80]=[(0,a.eW)("eth_sendTransaction(polygon mint nft)")]))),_:1},8,["onClick"])])),_:1})])),_:1}),(0,a.bF)(h,{gutter:12,class:"button-row"},{default:(0,a.k6)((()=>[(0,a.bF)(u,{span:24},{default:(0,a.k6)((()=>[(0,a.bF)(b,{type:"primary",onClick:t[26]||(t[26]=e=>l.wallet_watchAsset())},{default:(0,a.k6)((()=>t[81]||(t[81]=[(0,a.eW)("wallet_watchAsset(add LGNS) ")]))),_:1})])),_:1})])),_:1}),(0,a.bF)(h,{gutter:12,class:"button-row"},{default:(0,a.k6)((()=>[(0,a.bF)(u,{span:24},{default:(0,a.k6)((()=>[(0,a.bF)(b,{type:"primary",onClick:t[27]||(t[27]=e=>l.wallet_testRpc())},{default:(0,a.k6)((()=>t[82]||(t[82]=[(0,a.eW)("wallet_testRpc(Polygon)")]))),_:1})])),_:1})])),_:1})])),_:1}),(0,a.bF)(y,{label:"BNB",name:"eip155:56"},{default:(0,a.k6)((()=>[(0,a.bF)(h,{gutter:12,class:"button-row"},{default:(0,a.k6)((()=>[(0,a.bF)(u,{span:24},{default:(0,a.k6)((()=>[(0,a.bF)(b,{type:"primary",onClick:l.eth_requestAccounts},{default:(0,a.k6)((()=>t[83]||(t[83]=[(0,a.eW)("eth_requestAccounts(BNB)")]))),_:1},8,["onClick"])])),_:1})])),_:1}),(0,a.bF)(h,{gutter:12,class:"button-row"},{default:(0,a.k6)((()=>[(0,a.bF)(u,{span:24},{default:(0,a.k6)((()=>[(0,a.bF)(b,{type:"primary",onClick:t[28]||(t[28]=e=>l.eth_chainId())},{default:(0,a.k6)((()=>t[84]||(t[84]=[(0,a.eW)("eth_chainId(BNB)")]))),_:1})])),_:1})])),_:1}),(0,a.bF)(h,{gutter:12,class:"button-row"},{default:(0,a.k6)((()=>[(0,a.bF)(u,{span:24},{default:(0,a.k6)((()=>[(0,a.bF)(b,{type:"primary",onClick:t[29]||(t[29]=e=>l.wallet_switchEthereumChain())},{default:(0,a.k6)((()=>t[85]||(t[85]=[(0,a.eW)("wallet_switchEthereumChain(switch to BNB)")]))),_:1})])),_:1})])),_:1}),(0,a.bF)(h,{gutter:12,class:"button-row"},{default:(0,a.k6)((()=>[(0,a.bF)(u,{span:24},{default:(0,a.k6)((()=>[(0,a.bF)(b,{type:"primary",onClick:t[30]||(t[30]=e=>l.wallet_addEthereumChain())},{default:(0,a.k6)((()=>t[86]||(t[86]=[(0,a.eW)("wallet_addEthereumChain")]))),_:1})])),_:1})])),_:1}),(0,a.bF)(h,{gutter:12,class:"button-row"},{default:(0,a.k6)((()=>[(0,a.bF)(u,{span:24},{default:(0,a.k6)((()=>[(0,a.bF)(b,{type:"primary",onClick:t[31]||(t[31]=e=>l.personal_sign())},{default:(0,a.k6)((()=>t[87]||(t[87]=[(0,a.eW)("personal_sign")]))),_:1})])),_:1})])),_:1}),(0,a.bF)(h,{gutter:12,class:"button-row"},{default:(0,a.k6)((()=>[(0,a.bF)(u,{span:24},{default:(0,a.k6)((()=>[(0,a.bF)(b,{type:"primary",onClick:t[32]||(t[32]=e=>l.eth_signTypedData_v4())},{default:(0,a.k6)((()=>t[88]||(t[88]=[(0,a.eW)("eth_signTypedData_v4")]))),_:1})])),_:1})])),_:1}),(0,a.bF)(h,{gutter:12,class:"button-row"},{default:(0,a.k6)((()=>[(0,a.bF)(u,{span:24},{default:(0,a.k6)((()=>[(0,a.bF)(b,{type:"primary",onClick:l.eth_sendTransaction_transfer},{default:(0,a.k6)((()=>t[89]||(t[89]=[(0,a.eW)("eth_sendTransaction(send BNB)")]))),_:1},8,["onClick"])])),_:1})])),_:1}),(0,a.bF)(h,{gutter:12,class:"button-row"},{default:(0,a.k6)((()=>[(0,a.bF)(u,{span:24},{default:(0,a.k6)((()=>[(0,a.bF)(b,{type:"primary",onClick:l.eth_sendTransaction_approve},{default:(0,a.k6)((()=>t[90]||(t[90]=[(0,a.eW)("eth_sendTransaction(approve POSI)")]))),_:1},8,["onClick"])])),_:1})])),_:1}),(0,a.bF)(h,{gutter:12,class:"button-row"},{default:(0,a.k6)((()=>[(0,a.bF)(u,{span:24},{default:(0,a.k6)((()=>[(0,a.bF)(b,{type:"primary",onClick:t[33]||(t[33]=e=>l.wallet_watchAsset())},{default:(0,a.k6)((()=>t[91]||(t[91]=[(0,a.eW)("wallet_watchAsset(add FET) ")]))),_:1})])),_:1})])),_:1}),(0,a.bF)(h,{gutter:12,class:"button-row"},{default:(0,a.k6)((()=>[(0,a.bF)(u,{span:24},{default:(0,a.k6)((()=>[(0,a.bF)(b,{type:"primary",onClick:t[34]||(t[34]=e=>l.wallet_testRpc())},{default:(0,a.k6)((()=>t[92]||(t[92]=[(0,a.eW)("wallet_testRpc(check balance on eth)")]))),_:1})])),_:1})])),_:1})])),_:1}),(0,a.bF)(y,{label:"Fuse",name:"eip155:122"},{default:(0,a.k6)((()=>[(0,a.bF)(h,{gutter:12,class:"button-row"},{default:(0,a.k6)((()=>[(0,a.bF)(u,{span:24},{default:(0,a.k6)((()=>[(0,a.bF)(b,{type:"primary",onClick:l.eth_requestAccounts},{default:(0,a.k6)((()=>t[93]||(t[93]=[(0,a.eW)("eth_requestAccounts")]))),_:1},8,["onClick"])])),_:1})])),_:1}),(0,a.bF)(h,{gutter:12,class:"button-row"},{default:(0,a.k6)((()=>[(0,a.bF)(u,{span:24},{default:(0,a.k6)((()=>[(0,a.bF)(b,{type:"primary",onClick:t[35]||(t[35]=e=>l.eth_chainId())},{default:(0,a.k6)((()=>t[94]||(t[94]=[(0,a.eW)("eth_chainId")]))),_:1})])),_:1})])),_:1}),(0,a.bF)(h,{gutter:12,class:"button-row"},{default:(0,a.k6)((()=>[(0,a.bF)(u,{span:24},{default:(0,a.k6)((()=>[(0,a.bF)(b,{type:"primary",onClick:t[36]||(t[36]=e=>l.personal_sign())},{default:(0,a.k6)((()=>t[95]||(t[95]=[(0,a.eW)("personal_sign")]))),_:1})])),_:1})])),_:1}),(0,a.bF)(h,{gutter:12,class:"button-row"},{default:(0,a.k6)((()=>[(0,a.bF)(u,{span:24},{default:(0,a.k6)((()=>[(0,a.bF)(b,{type:"primary",onClick:t[37]||(t[37]=e=>l.eth_signTypedData_v4())},{default:(0,a.k6)((()=>t[96]||(t[96]=[(0,a.eW)("eth_signTypedData_v4")]))),_:1})])),_:1})])),_:1}),(0,a.bF)(h,{gutter:12,class:"button-row"},{default:(0,a.k6)((()=>[(0,a.bF)(u,{span:24},{default:(0,a.k6)((()=>[(0,a.bF)(b,{type:"primary",onClick:l.eth_sendTransaction_swap},{default:(0,a.k6)((()=>t[97]||(t[97]=[(0,a.eW)("eth_sendTransaction(Swap)")]))),_:1},8,["onClick"])])),_:1})])),_:1}),(0,a.bF)(h,{gutter:12,class:"button-row"},{default:(0,a.k6)((()=>[(0,a.bF)(u,{span:24},{default:(0,a.k6)((()=>[(0,a.bF)(b,{type:"primary",onClick:l.eth_sendTransaction_transfer},{default:(0,a.k6)((()=>t[98]||(t[98]=[(0,a.eW)("eth_sendTransaction(转账FUSE)")]))),_:1},8,["onClick"])])),_:1})])),_:1}),(0,a.bF)(h,{gutter:12,class:"button-row"},{default:(0,a.k6)((()=>[(0,a.bF)(u,{span:24},{default:(0,a.k6)((()=>[(0,a.bF)(b,{type:"primary",onClick:l.eth_sendTransaction_approve},{default:(0,a.k6)((()=>t[99]||(t[99]=[(0,a.eW)("eth_sendTransaction(授权USDC)")]))),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1}),(0,a.bF)(y,{label:"TON",name:"ton:-239"},{default:(0,a.k6)((()=>[(0,a.bF)(h,{gutter:12,class:"button-row"},{default:(0,a.k6)((()=>[(0,a.bF)(u,{span:24},{default:(0,a.k6)((()=>[(0,a.bF)(b,{type:"primary",onClick:l.ton_getAccount},{default:(0,a.k6)((()=>t[100]||(t[100]=[(0,a.eW)("ton_getAccount")]))),_:1},8,["onClick"])])),_:1})])),_:1}),(0,a.bF)(h,{gutter:12,class:"button-row"},{default:(0,a.k6)((()=>[(0,a.bF)(u,{span:24},{default:(0,a.k6)((()=>[(0,a.bF)(b,{type:"primary",onClick:l.ton_sendTransaction},{default:(0,a.k6)((()=>t[101]||(t[101]=[(0,a.eW)("ton_sendTransaction")]))),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1}),(0,a.bF)(y,{label:"Sol",name:"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp"},{default:(0,a.k6)((()=>[(0,a.bF)(h,{gutter:12,class:"button-row"},{default:(0,a.k6)((()=>[(0,a.bF)(u,{span:24},{default:(0,a.k6)((()=>[(0,a.bF)(b,{type:"primary",onClick:l.sol_signMessage},{default:(0,a.k6)((()=>t[102]||(t[102]=[(0,a.eW)("solana_signMessage")]))),_:1},8,["onClick"])])),_:1})])),_:1}),(0,a.bF)(h,{gutter:12,class:"button-row"},{default:(0,a.k6)((()=>[(0,a.bF)(u,{span:24},{default:(0,a.k6)((()=>[(0,a.bF)(b,{type:"primary",onClick:l.sol_signTransaction},{default:(0,a.k6)((()=>t[103]||(t[103]=[(0,a.eW)("solana_signTransaction")]))),_:1},8,["onClick"])])),_:1})])),_:1}),(0,a.bF)(h,{gutter:12,class:"button-row"},{default:(0,a.k6)((()=>[(0,a.bF)(u,{span:24},{default:(0,a.k6)((()=>[(0,a.bF)(b,{type:"primary",onClick:l.sol_signVersionedTransaction},{default:(0,a.k6)((()=>t[104]||(t[104]=[(0,a.eW)("solana_signVersionedTransaction")]))),_:1},8,["onClick"])])),_:1})])),_:1}),(0,a.bF)(h,{gutter:12,class:"button-row"},{default:(0,a.k6)((()=>[(0,a.bF)(u,{span:24},{default:(0,a.k6)((()=>[(0,a.bF)(b,{type:"primary",onClick:l.sol_signAllTransactions},{default:(0,a.k6)((()=>t[105]||(t[105]=[(0,a.eW)("sol_signAllTransactions")]))),_:1},8,["onClick"])])),_:1})])),_:1}),(0,a.bF)(h,{gutter:12,class:"button-row"},{default:(0,a.k6)((()=>[(0,a.bF)(u,{span:24},{default:(0,a.k6)((()=>[(0,a.bF)(b,{type:"primary",onClick:l.sol_signAllVersionedTransactions},{default:(0,a.k6)((()=>t[106]||(t[106]=[(0,a.eW)("sol_signAllVersionedTransactions")]))),_:1},8,["onClick"])])),_:1})])),_:1}),(0,a.bF)(h,{gutter:12,class:"button-row"},{default:(0,a.k6)((()=>[(0,a.bF)(u,{span:24},{default:(0,a.k6)((()=>[(0,a.bF)(b,{type:"primary",onClick:l.sol_signAndSendTransaction},{default:(0,a.k6)((()=>t[107]||(t[107]=[(0,a.eW)("sol_signAndSendTransaction")]))),_:1},8,["onClick"])])),_:1})])),_:1}),(0,a.bF)(h,{gutter:12,class:"button-row"},{default:(0,a.k6)((()=>[(0,a.bF)(u,{span:24},{default:(0,a.k6)((()=>[(0,a.bF)(b,{type:"primary",onClick:l.sol_signAndSendVersionedTransaction},{default:(0,a.k6)((()=>t[108]||(t[108]=[(0,a.eW)("signAndSendVersionedTransaction")]))),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1}),(0,a.bF)(y,{label:"Sonic testnet",name:"svm:70000062"},{default:(0,a.k6)((()=>[(0,a.bF)(h,{gutter:12,class:"button-row"},{default:(0,a.k6)((()=>[(0,a.bF)(u,{span:24},{default:(0,a.k6)((()=>[(0,a.bF)(b,{type:"primary",onClick:l.sol_signMessage},{default:(0,a.k6)((()=>t[109]||(t[109]=[(0,a.eW)("solana_signMessage")]))),_:1},8,["onClick"])])),_:1})])),_:1}),(0,a.bF)(h,{gutter:12,class:"button-row"},{default:(0,a.k6)((()=>[(0,a.bF)(u,{span:24},{default:(0,a.k6)((()=>[(0,a.bF)(b,{type:"primary",onClick:l.sol_signTransaction},{default:(0,a.k6)((()=>t[110]||(t[110]=[(0,a.eW)("solana_signTransaction")]))),_:1},8,["onClick"])])),_:1})])),_:1}),(0,a.bF)(h,{gutter:12,class:"button-row"},{default:(0,a.k6)((()=>[(0,a.bF)(u,{span:24},{default:(0,a.k6)((()=>[(0,a.bF)(b,{type:"primary",onClick:l.sol_signAllTransactions},{default:(0,a.k6)((()=>t[111]||(t[111]=[(0,a.eW)("sol_signAllTransactions")]))),_:1},8,["onClick"])])),_:1})])),_:1}),(0,a.bF)(h,{gutter:12,class:"button-row"},{default:(0,a.k6)((()=>[(0,a.bF)(u,{span:24},{default:(0,a.k6)((()=>[(0,a.bF)(b,{type:"primary",onClick:l.sol_signAndSendTransaction},{default:(0,a.k6)((()=>t[112]||(t[112]=[(0,a.eW)("sol_signAndSendTransaction")]))),_:1},8,["onClick"])])),_:1})])),_:1}),(0,a.bF)(h,{gutter:12,class:"button-row"},{default:(0,a.k6)((()=>[(0,a.bF)(u,{span:24},{default:(0,a.k6)((()=>[(0,a.bF)(b,{type:"primary",onClick:l.sol_signAndSendVersionedTransaction},{default:(0,a.k6)((()=>t[113]||(t[113]=[(0,a.eW)("signAndSendVersionedTransaction")]))),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1}),(0,a.bF)(y,{label:"Sui",name:"sui:mainnet"},{default:(0,a.k6)((()=>[(0,a.bF)(C,{onGenerateTransactionParams:l.sui_generateTransactionParams},null,8,["onGenerateTransactionParams"])])),_:1}),(0,a.bF)(y,{label:"BTC",name:"btc:mainnet"},{default:(0,a.k6)((()=>[(0,a.bF)(w,{onGenerateTransactionParams:l.btc_generateTransactionParams},null,8,["onGenerateTransactionParams"])])),_:1}),(0,a.bF)(y,{label:"Fractal",name:"fractal:mainnet"},{default:(0,a.k6)((()=>[(0,a.bF)(O,{onGenerateTransactionParams:l.fractal_generateTransactionParams},null,8,["onGenerateTransactionParams"])])),_:1}),(0,a.bF)(y,{label:"Tron",name:"tron:mainnet"},{default:(0,a.k6)((()=>[(0,a.bF)(k,{onGenerateTransactionParams:l.tron_generateTransactionParams,onGenerateTransactionResult:l.tron_getTransactionResult},null,8,["onGenerateTransactionParams","onGenerateTransactionResult"])])),_:1}),(0,a.bF)(y,{label:"Aptos",name:"aptos:mainnet"},{default:(0,a.k6)((()=>[(0,a.bF)(h,{gutter:12,class:"button-row"},{default:(0,a.k6)((()=>[(0,a.bF)(u,{span:24},{default:(0,a.k6)((()=>[(0,a.bF)(b,{type:"primary",onClick:l.aptos_signMessage},{default:(0,a.k6)((()=>t[114]||(t[114]=[(0,a.eW)("aptos_signMessage")]))),_:1},8,["onClick"])])),_:1})])),_:1}),(0,a.bF)(h,{gutter:12,class:"button-row"},{default:(0,a.k6)((()=>[(0,a.bF)(u,{span:24},{default:(0,a.k6)((()=>[(0,a.bF)(b,{type:"primary",onClick:l.aptos_signTransaction},{default:(0,a.k6)((()=>t[115]||(t[115]=[(0,a.eW)("aptos_signTransaction")]))),_:1},8,["onClick"])])),_:1})])),_:1}),(0,a.bF)(h,{gutter:12,class:"button-row"},{default:(0,a.k6)((()=>[(0,a.bF)(u,{span:24},{default:(0,a.k6)((()=>[(0,a.bF)(b,{type:"primary",onClick:l.aptos_signAndSubmitTransaction},{default:(0,a.k6)((()=>t[116]||(t[116]=[(0,a.eW)("aptos_signAndSubmitTransaction")]))),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1}),(0,a.bF)(y,{label:"Movement",name:"movement:testnet"},{default:(0,a.k6)((()=>[(0,a.bF)(h,{gutter:12,class:"button-row"},{default:(0,a.k6)((()=>[(0,a.bF)(u,{span:24},{default:(0,a.k6)((()=>[(0,a.bF)(b,{type:"primary",onClick:l.aptos_signMessage},{default:(0,a.k6)((()=>t[117]||(t[117]=[(0,a.eW)("aptos_signMessage")]))),_:1},8,["onClick"])])),_:1})])),_:1}),(0,a.bF)(h,{gutter:12,class:"button-row"},{default:(0,a.k6)((()=>[(0,a.bF)(u,{span:24},{default:(0,a.k6)((()=>[(0,a.bF)(b,{type:"primary",onClick:l.move_signTransaction},{default:(0,a.k6)((()=>t[118]||(t[118]=[(0,a.eW)("move_signTransaction")]))),_:1},8,["onClick"])])),_:1})])),_:1}),(0,a.bF)(h,{gutter:12,class:"button-row"},{default:(0,a.k6)((()=>[(0,a.bF)(u,{span:24},{default:(0,a.k6)((()=>[(0,a.bF)(b,{type:"primary",onClick:l.move_signAndSubmitTransaction},{default:(0,a.k6)((()=>t[119]||(t[119]=[(0,a.eW)("move_signAndSubmitTransaction")]))),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1}),(0,a.bF)(y,{label:"cosmos",name:"cosmos:cosmoshub-4"},{default:(0,a.k6)((()=>[(0,a.bF)(h,{gutter:12,class:"button-row"},{default:(0,a.k6)((()=>[(0,a.bF)(u,{span:24},{default:(0,a.k6)((()=>[(0,a.bF)(b,{type:"primary",onClick:l.cosmos_signArbitrary},{default:(0,a.k6)((()=>t[120]||(t[120]=[(0,a.eW)("cosmos_signArbitrary")]))),_:1},8,["onClick"])])),_:1})])),_:1}),(0,a.bF)(h,{gutter:12,class:"button-row"},{default:(0,a.k6)((()=>[(0,a.bF)(u,{span:24},{default:(0,a.k6)((()=>[(0,a.bF)(b,{type:"primary",onClick:l.cosmos_signAmino},{default:(0,a.k6)((()=>t[121]||(t[121]=[(0,a.eW)("cosmos_signAmino")]))),_:1},8,["onClick"])])),_:1})])),_:1}),(0,a.bF)(h,{gutter:12,class:"button-row"},{default:(0,a.k6)((()=>[(0,a.bF)(u,{span:24},{default:(0,a.k6)((()=>[(0,a.bF)(b,{type:"primary",onClick:l.cosmos_signDirect},{default:(0,a.k6)((()=>t[122]||(t[122]=[(0,a.eW)("cosmos_signDirect")]))),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1}),(0,a.bF)(y,{label:"osmos",name:"cosmos:osmosis-1"},{default:(0,a.k6)((()=>[(0,a.bF)(h,{gutter:12,class:"button-row"},{default:(0,a.k6)((()=>[(0,a.bF)(u,{span:24},{default:(0,a.k6)((()=>[(0,a.bF)(b,{type:"primary",onClick:l.cosmos_signArbitrary},{default:(0,a.k6)((()=>t[123]||(t[123]=[(0,a.eW)("cosmos_signArbitrary")]))),_:1},8,["onClick"])])),_:1})])),_:1}),(0,a.bF)(h,{gutter:12,class:"button-row"},{default:(0,a.k6)((()=>[(0,a.bF)(u,{span:24},{default:(0,a.k6)((()=>[(0,a.bF)(b,{type:"primary",onClick:l.cosmos_signAmino},{default:(0,a.k6)((()=>t[124]||(t[124]=[(0,a.eW)("cosmos_signAmino")]))),_:1},8,["onClick"])])),_:1})])),_:1}),(0,a.bF)(h,{gutter:12,class:"button-row"},{default:(0,a.k6)((()=>[(0,a.bF)(u,{span:24},{default:(0,a.k6)((()=>[(0,a.bF)(b,{type:"primary",onClick:l.cosmos_signDirect},{default:(0,a.k6)((()=>t[125]||(t[125]=[(0,a.eW)("cosmos_signDirect")]))),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1}),(0,a.bF)(y,{label:"sei交易",name:"cosmos:pacific-1"},{default:(0,a.k6)((()=>[(0,a.bF)(h,{gutter:12,class:"button-row"},{default:(0,a.k6)((()=>[(0,a.bF)(u,{span:24},{default:(0,a.k6)((()=>[(0,a.bF)(b,{type:"primary",onClick:l.cosmos_signArbitrary},{default:(0,a.k6)((()=>t[126]||(t[126]=[(0,a.eW)("cosmos_signArbitrary")]))),_:1},8,["onClick"])])),_:1})])),_:1}),(0,a.bF)(h,{gutter:12,class:"button-row"},{default:(0,a.k6)((()=>[(0,a.bF)(u,{span:24},{default:(0,a.k6)((()=>[(0,a.bF)(b,{type:"primary",onClick:l.cosmos_signAmino},{default:(0,a.k6)((()=>t[127]||(t[127]=[(0,a.eW)("cosmos_signAmino")]))),_:1},8,["onClick"])])),_:1})])),_:1}),(0,a.bF)(h,{gutter:12,class:"button-row"},{default:(0,a.k6)((()=>[(0,a.bF)(u,{span:24},{default:(0,a.k6)((()=>[(0,a.bF)(b,{type:"primary",onClick:l.cosmos_signDirect},{default:(0,a.k6)((()=>t[128]||(t[128]=[(0,a.eW)("cosmos_signDirect")]))),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1}),(0,a.bF)(y,{label:"Starknet",name:"starknet:mainnet"},{default:(0,a.k6)((()=>[(0,a.bF)(E,{ref:"starknetPanelRef",onGenerateTransactionParams:l.starknet_generateTransactionParams,onGenerateTransactionResult:l.starknet_getTransactionResult},null,8,["onGenerateTransactionParams","onGenerateTransactionResult"])])),_:1}),(0,a.bF)(y,{label:"TEST ",name:"test:1"},{default:(0,a.k6)((()=>[(0,a.bF)(h,{gutter:12,class:"button-row"},{default:(0,a.k6)((()=>[(0,a.bF)(u,{span:24},{default:(0,a.k6)((()=>[(0,a.bF)(b,{type:"primary",onClick:l.testBase64UrlSafe},{default:(0,a.k6)((()=>t[129]||(t[129]=[(0,a.eW)("testBase64UrlSafe")]))),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue","onTabClick"]),(0,a.bF)(u,{xs:24,sm:12},{default:(0,a.k6)((()=>[t[130]||(t[130]=(0,a.Lk)("div",{class:"input-label"},"Data:",-1)),(0,a.bF)(_,{modelValue:e.testTransaction,"onUpdate:modelValue":t[39]||(t[39]=t=>e.testTransaction=t),type:"textarea",rows:5,placeholder:"sendTransactions"},null,8,["modelValue"])])),_:1}),(0,a.bF)(u,{xs:24,sm:12},{default:(0,a.k6)((()=>[t[131]||(t[131]=(0,a.Lk)("div",{class:"input-label"},"Result :",-1)),(0,a.bF)(_,{modelValue:e.testboc,"onUpdate:modelValue":t[40]||(t[40]=t=>e.testboc=t),type:"textarea",rows:5,placeholder:"boc"},null,8,["modelValue"])])),_:1}),(0,a.bF)(h,{gutter:12,class:"button-row"},{default:(0,a.k6)((()=>[(0,a.bF)(u,{span:24},{default:(0,a.k6)((()=>[(0,a.bF)(b,{type:"primary",disabled:i.sendBtnDisabled,onClick:t[41]||(t[41]=e=>l.sendTransaction())},{default:(0,a.k6)((()=>[(0,a.eW)((0,r.v_)(e.testTransactionStr),1)])),_:1},8,["disabled"])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])}n(41011),n(92806),n(53287),n(70039),n(88373),n(51555),n(33734),n(22035),n(94932),n(50427),n(19239),n(70144),n(86823),n(51204),n(71433),n(27007),n(70354),n(57039),n(27618);var l=n(16070),d=n(6280),u=n(42795),h=n(83847),p=n(15426),f=n(18584),g=n(29772),m=n(41387);function _(e,t,n,s,i,r){const o=(0,a.g2)("el-button"),c=(0,a.g2)("el-col"),l=(0,a.g2)("el-input"),d=(0,a.g2)("el-row");return(0,a.uX)(),(0,a.Wv)(d,{gutter:12},{default:(0,a.k6)((()=>[(0,a.bF)(c,{span:24},{default:(0,a.k6)((()=>[(0,a.bF)(o,{class:"grid-content",type:"warning",onClick:t[0]||(t[0]=e=>r.btc_signMessage())},{default:(0,a.k6)((()=>t[11]||(t[11]=[(0,a.eW)("signMessage(BTC)")]))),_:1})])),_:1}),t[23]||(t[23]=(0,a.Lk)("div",{class:"line"},null,-1)),(0,a.bF)(c,{span:24},{default:(0,a.k6)((()=>[t[14]||(t[14]=(0,a.Lk)("div",{style:{"font-size":"12px",color:"gray"}},"(发送到Pattern测试钱包的legacy地址)",-1)),(0,a.bF)(l,{class:"grid-content",modelValue:s.sendAmount,"onUpdate:modelValue":t[1]||(t[1]=e=>s.sendAmount=e),clearable:"",placeholder:"请输入要发送的数量"},null,8,["modelValue"]),(0,a.bF)(o,{class:"grid-content",type:"warning",onClick:t[2]||(t[2]=e=>r.btc_send())},{default:(0,a.k6)((()=>t[12]||(t[12]=[(0,a.eW)("send(BTC)")]))),_:1}),t[15]||(t[15]=(0,a.Lk)("br",null,null,-1)),(0,a.bF)(l,{class:"grid-content",modelValue:s.sendSatoshisAmount,"onUpdate:modelValue":t[3]||(t[3]=e=>s.sendSatoshisAmount=e),clearable:"",placeholder:"请输入要发送的satoshi数量"},null,8,["modelValue"]),(0,a.bF)(o,{class:"grid-content",type:"warning",onClick:t[4]||(t[4]=e=>r.btc_sendBitcoin())},{default:(0,a.k6)((()=>t[13]||(t[13]=[(0,a.eW)("sendBitcoin(BTC)")]))),_:1})])),_:1}),t[24]||(t[24]=(0,a.Lk)("div",{class:"line"},null,-1)),(0,a.bF)(c,{span:24},{default:(0,a.k6)((()=>[(0,a.bF)(l,{class:"grid-content",modelValue:s.psbtHex,"onUpdate:modelValue":t[5]||(t[5]=e=>s.psbtHex=e),clearable:"",placeholder:"请输入要签名的Psbt"},null,8,["modelValue"]),(0,a.bF)(o,{class:"grid-content",type:"warning",onClick:t[6]||(t[6]=e=>r.btc_signPsbt_up())},{default:(0,a.k6)((()=>t[16]||(t[16]=[(0,a.eW)("signPsbt(上架NFT)")]))),_:1}),t[18]||(t[18]=(0,a.Lk)("br",null,null,-1)),(0,a.bF)(o,{class:"grid-content",type:"warning",onClick:t[7]||(t[7]=e=>r.btc_signAndPushPsbt_up())},{default:(0,a.k6)((()=>t[17]||(t[17]=[(0,a.eW)("signAndPushPsbt(上架NFT)")]))),_:1}),t[19]||(t[19]=(0,a.Lk)("br",null,null,-1)),t[20]||(t[20]=(0,a.Lk)("div",{style:{"font-size":"12px","margin-top":"12px","margin-left":"4px",color:"gray","text-align":"left"}},[(0,a.Lk)("li",null," 1. 在OKX App选择要上架的Btc NFT，点击【上架】 "),(0,a.Lk)("li",null," 2. 弹出签名面板，点开高级选项，查看 "),(0,a.Lk)("li",null," 3. 单击复制，就可以得到psbt。然后退出上架流程。 "),(0,a.Lk)("li",null," 4. 验证 https://chainquery.com/bitcoin-cli/decodepsbt ")],-1))])),_:1}),t[25]||(t[25]=(0,a.Lk)("div",{class:"line"},null,-1)),(0,a.bF)(c,{span:24},{default:(0,a.k6)((()=>[(0,a.bF)(l,{class:"grid-content",modelValue:s.nftId,"onUpdate:modelValue":t[8]||(t[8]=e=>s.nftId=e),clearable:"",placeholder:"请输入要转移的NFT ID"},null,8,["modelValue"]),(0,a.bF)(l,{class:"grid-content",modelValue:s.receiver,"onUpdate:modelValue":t[9]||(t[9]=e=>s.receiver=e),clearable:"",placeholder:"接收者钱包地址"},null,8,["modelValue"]),(0,a.bF)(o,{class:"grid-content",type:"warning",onClick:t[10]||(t[10]=e=>r.btc_sendInscription())},{default:(0,a.k6)((()=>t[21]||(t[21]=[(0,a.eW)("sendInscription(BTC)")]))),_:1}),t[22]||(t[22]=(0,a.Lk)("div",{style:{"font-size":"12px","margin-top":"12px","margin-left":"4px",color:"gray","text-align":"left"}},[(0,a.Lk)("li",null," 1. 在web端NFT界面，选择要发送的Btc NFT，打开详情 "),(0,a.Lk)("li",null," 2. 从NFT详情页URL中获取NFT id（url最后一部分） "),(0,a.Lk)("li",null," 3. 复制到上面输入框中，再点击sendInscription按钮 ")],-1))])),_:1})])),_:1})}var b=n(50141),v={name:"BtcTransactionPanel",props:{msg:String},setup(){const e=(0,b.KR)(""),t=(0,b.KR)(15e-6),n=(0,b.KR)(17100),s=(0,b.KR)(""),i=(0,b.KR)("");return{nftId:e,receiver:i,psbtHex:s,sendAmount:t,sendSatoshisAmount:n}},methods:{btc_signMessage(){let e={from:"bc1p7pgnqe87red4cvd7ml6rh9pl9ufpr522k2y3dpeyrvfc6g2g3r3s3ae9dr",signStr:"Welcome to UniSat!\n\nClick to sign in and accept the UniSat Terms of Service (https://unisat.io/terms-of-service.html) and Privacy Policy (https://unisat.io/privacy-policy.html).\n    \nThis request will not trigger a blockchain transaction.\n    \nYour authentication status will reset after 24 hours.\n    \nWallet address:\nbc1p7pgnqe87red4cvd7ml6rh9pl9ufpr522k2y3dpeyrvfc6g2g3r3s3ae9dr\n    \nNonce:\n162d70e3-8c21-4cfd-9a22-9bf0a4b7be51\n"};this.$emit("generateTransactionParams",e,"btc_signMessage")},btc_send(){if(0==this.sendAmount)return void alert("不能为零");let e={from:"",to:"1NKnZ3uAuQLnmExA3WY44u1efwCgTiAxBn",value:`${this.sendAmount}`};this.$emit("generateTransactionParams",e,"btc_send")},btc_sendBitcoin(){if(0==this.sendAmount)return void alert("不能为零");let e={from:"",toAddress:"1NKnZ3uAuQLnmExA3WY44u1efwCgTiAxBn",satoshis:`${this.sendSatoshisAmount}`,options:{feeRate:16}};this.$emit("generateTransactionParams",e,"btc_sendBitcoin")},btc_signPsbt_up(){this.psbtHex?this.$emit("generateTransactionParams",{psbtHex:this.psbtHex,options:{autoFinalized:!1}},"btc_signPsbt"):alert("请输入psbt")},btc_signAndPushPsbt_up(){this.psbtHex?this.$emit("generateTransactionParams",{psbtHex:this.psbtHex,options:{autoFinalized:!0}},"btc_signAndPushPsbt"):alert("请输入psbt")},btc_sendInscription(){this.nftId?this.receiver?this.$emit("generateTransactionParams",{address:this.receiver,inscriptionId:this.nftId,options:{feeRate:"15"}},"btc_sendInscription"):alert("请输入接收者地址"):alert("请输入NFT ID")}}},y=n(15690);const C=(0,y.A)(v,[["render",_],["__scopeId","data-v-17e9106e"]]);var w=C;function O(e,t,n,s,i,r){const o=(0,a.g2)("el-button"),c=(0,a.g2)("el-col"),l=(0,a.g2)("el-input"),d=(0,a.g2)("el-row");return(0,a.uX)(),(0,a.Wv)(d,{gutter:12},{default:(0,a.k6)((()=>[(0,a.bF)(c,{span:24},{default:(0,a.k6)((()=>[(0,a.bF)(o,{class:"grid-content",type:"warning",onClick:t[0]||(t[0]=e=>r.fractal_signMessage())},{default:(0,a.k6)((()=>t[11]||(t[11]=[(0,a.eW)("signMessage(Fractal)")]))),_:1})])),_:1}),t[23]||(t[23]=(0,a.Lk)("div",{class:"line"},null,-1)),(0,a.bF)(c,{span:24},{default:(0,a.k6)((()=>[t[14]||(t[14]=(0,a.Lk)("div",{style:{"font-size":"12px",color:"gray"}},"(发送到Pattern测试钱包的legacy地址)",-1)),(0,a.bF)(l,{class:"grid-content",modelValue:s.sendAmount,"onUpdate:modelValue":t[1]||(t[1]=e=>s.sendAmount=e),clearable:"",placeholder:"请输入要发送的数量"},null,8,["modelValue"]),(0,a.bF)(o,{class:"grid-content",type:"warning",onClick:t[2]||(t[2]=e=>r.fractal_send())},{default:(0,a.k6)((()=>t[12]||(t[12]=[(0,a.eW)("send(Fractal)")]))),_:1}),t[15]||(t[15]=(0,a.Lk)("br",null,null,-1)),(0,a.bF)(l,{class:"grid-content",modelValue:s.sendSatoshisAmount,"onUpdate:modelValue":t[3]||(t[3]=e=>s.sendSatoshisAmount=e),clearable:"",placeholder:"请输入要发送的satoshi数量"},null,8,["modelValue"]),(0,a.bF)(o,{class:"grid-content",type:"warning",onClick:t[4]||(t[4]=e=>r.fractal_sendBitcoin())},{default:(0,a.k6)((()=>t[13]||(t[13]=[(0,a.eW)("sendBitcoin(Fractal)")]))),_:1})])),_:1}),t[24]||(t[24]=(0,a.Lk)("div",{class:"line"},null,-1)),(0,a.bF)(c,{span:24},{default:(0,a.k6)((()=>[(0,a.bF)(l,{class:"grid-content",modelValue:s.psbtHex,"onUpdate:modelValue":t[5]||(t[5]=e=>s.psbtHex=e),clearable:"",placeholder:"请输入要签名的Psbt"},null,8,["modelValue"]),(0,a.bF)(o,{class:"grid-content",type:"warning",onClick:t[6]||(t[6]=e=>r.fractal_signPsbt_up())},{default:(0,a.k6)((()=>t[16]||(t[16]=[(0,a.eW)("signPsbt(上架NFT)")]))),_:1}),t[18]||(t[18]=(0,a.Lk)("br",null,null,-1)),(0,a.bF)(o,{class:"grid-content",type:"warning",onClick:t[7]||(t[7]=e=>r.fractal_signAndPushPsbt_up())},{default:(0,a.k6)((()=>t[17]||(t[17]=[(0,a.eW)("signAndPushPsbt(上架NFT)")]))),_:1}),t[19]||(t[19]=(0,a.Lk)("br",null,null,-1)),t[20]||(t[20]=(0,a.Lk)("div",{style:{"font-size":"12px","margin-top":"12px","margin-left":"4px",color:"gray","text-align":"left"}},[(0,a.Lk)("li",null," 1. 在OKX App选择要上架的Fractal NFT，点击【上架】 "),(0,a.Lk)("li",null," 2. 弹出签名面板，点开高级选项，查看 "),(0,a.Lk)("li",null," 3. 单击复制，就可以得到psbt。然后退出上架流程。 "),(0,a.Lk)("li",null," 4. 验证 https://chainquery.com/bitcoin-cli/decodepsbt ")],-1))])),_:1}),t[25]||(t[25]=(0,a.Lk)("div",{class:"line"},null,-1)),(0,a.bF)(c,{span:24},{default:(0,a.k6)((()=>[(0,a.bF)(l,{class:"grid-content",modelValue:s.nftId,"onUpdate:modelValue":t[8]||(t[8]=e=>s.nftId=e),clearable:"",placeholder:"请输入要转移的NFT ID"},null,8,["modelValue"]),(0,a.bF)(l,{class:"grid-content",modelValue:s.receiver,"onUpdate:modelValue":t[9]||(t[9]=e=>s.receiver=e),clearable:"",placeholder:"接收者钱包地址"},null,8,["modelValue"]),(0,a.bF)(o,{class:"grid-content",type:"warning",onClick:t[10]||(t[10]=e=>r.fractal_sendInscription())},{default:(0,a.k6)((()=>t[21]||(t[21]=[(0,a.eW)("sendInscription(Fractal)")]))),_:1}),t[22]||(t[22]=(0,a.Lk)("div",{style:{"font-size":"12px","margin-top":"12px","margin-left":"4px",color:"gray","text-align":"left"}},[(0,a.Lk)("li",null," 1. 在web端NFT界面，选择要发送的Fractal NFT，打开详情 "),(0,a.Lk)("li",null," 2. 从NFT详情页URL中获取NFT id（url最后一部分） "),(0,a.Lk)("li",null," 3. 复制到上面输入框中，再点击sendInscription按钮 ")],-1))])),_:1})])),_:1})}var k={name:"BtcTransactionPanel",props:{msg:String},setup(){const e=(0,b.KR)(""),t=(0,b.KR)(15e-6),n=(0,b.KR)(17100),s=(0,b.KR)(""),i=(0,b.KR)("");return{nftId:e,receiver:i,psbtHex:s,sendAmount:t,sendSatoshisAmount:n}},methods:{fractal_signMessage(){let e={from:"bc1p7pgnqe87red4cvd7ml6rh9pl9ufpr522k2y3dpeyrvfc6g2g3r3s3ae9dr",signStr:"Welcome to UniSat!\n\nClick to sign in and accept the UniSat Terms of Service (https://unisat.io/terms-of-service.html) and Privacy Policy (https://unisat.io/privacy-policy.html).\n    \nThis request will not trigger a blockchain transaction.\n    \nYour authentication status will reset after 24 hours.\n    \nWallet address:\nbc1p7pgnqe87red4cvd7ml6rh9pl9ufpr522k2y3dpeyrvfc6g2g3r3s3ae9dr\n    \nNonce:\n162d70e3-8c21-4cfd-9a22-9bf0a4b7be51\n"};this.$emit("generateTransactionParams",e,"fractal_signMessage")},fractal_send(){if(0==this.sendAmount)return void alert("不能为零");let e={from:"",to:"1NKnZ3uAuQLnmExA3WY44u1efwCgTiAxBn",value:`${this.sendAmount}`};this.$emit("generateTransactionParams",e,"fractal_send")},fractal_sendBitcoin(){if(0==this.sendAmount)return void alert("不能为零");let e={from:"",toAddress:"1NKnZ3uAuQLnmExA3WY44u1efwCgTiAxBn",satoshis:`${this.sendSatoshisAmount}`,options:{feeRate:16}};this.$emit("generateTransactionParams",e,"fractal_sendBitcoin")},fractal_signPsbt_up(){this.psbtHex?this.$emit("generateTransactionParams",{psbtHex:this.psbtHex,options:{autoFinalized:!1}},"fractal_signPsbt"):alert("请输入psbt")},fractal_signAndPushPsbt_up(){this.psbtHex?this.$emit("generateTransactionParams",{psbtHex:this.psbtHex,options:{autoFinalized:!0}},"fractal_signAndPushPsbt"):alert("请输入psbt")},fractal_sendInscription(){this.nftId?this.receiver?this.$emit("generateTransactionParams",{address:this.receiver,inscriptionId:this.nftId,options:{feeRate:"15"}},"fractal_sendInscription"):alert("请输入接收者地址"):alert("请输入NFT ID")}}};const E=(0,y.A)(k,[["render",O],["__scopeId","data-v-02b5b8a5"]]);var N=E;function R(e,t,n,s,i,r){const o=(0,a.g2)("el-button"),c=(0,a.g2)("el-col"),l=(0,a.g2)("el-row");return(0,a.uX)(),(0,a.Wv)(l,{gutter:12,class:"button-row"},{default:(0,a.k6)((()=>[(0,a.bF)(c,{span:24},{default:(0,a.k6)((()=>[(0,a.bF)(o,{class:"grid-content",type:"primary",onClick:t[0]||(t[0]=e=>r.sui_getAccount())},{default:(0,a.k6)((()=>t[8]||(t[8]=[(0,a.eW)("getAccount(Sui)")]))),_:1})])),_:1}),(0,a.bF)(c,{span:24},{default:(0,a.k6)((()=>[(0,a.bF)(o,{class:"grid-content",type:"primary",onClick:t[1]||(t[1]=e=>r.sui_signMessage())},{default:(0,a.k6)((()=>t[9]||(t[9]=[(0,a.eW)("signMessage(Sui)")]))),_:1})])),_:1}),(0,a.bF)(c,{span:24},{default:(0,a.k6)((()=>[(0,a.bF)(o,{class:"grid-content",type:"primary",onClick:t[2]||(t[2]=e=>r.sui_signPersonalMessage())},{default:(0,a.k6)((()=>t[10]||(t[10]=[(0,a.eW)("signPersonalMessage(Sui)")]))),_:1})])),_:1}),(0,a.bF)(c,{span:24},{default:(0,a.k6)((()=>[(0,a.bF)(o,{class:"grid-content",type:"primary",onClick:t[3]||(t[3]=e=>r.sui_signTransaction2())},{default:(0,a.k6)((()=>t[11]||(t[11]=[(0,a.eW)("signTransaction(Sui)")]))),_:1})])),_:1}),(0,a.bF)(c,{span:24},{default:(0,a.k6)((()=>[(0,a.bF)(o,{class:"grid-content",type:"primary",onClick:t[4]||(t[4]=t=>e.sui_signAndExecuteTransaction())},{default:(0,a.k6)((()=>t[12]||(t[12]=[(0,a.eW)("sendTransaction(Sui)")]))),_:1}),t[13]||(t[13]=(0,a.Lk)("div",{style:{"font-size":"12px",color:"gray"}},"(send to Rally Tiger account)",-1))])),_:1}),(0,a.bF)(c,{span:24},{default:(0,a.k6)((()=>[(0,a.bF)(o,{class:"grid-content",type:"primary",onClick:t[5]||(t[5]=e=>r.sui_requestRpc())},{default:(0,a.k6)((()=>t[14]||(t[14]=[(0,a.eW)("RPC_getBalance")]))),_:1}),t[15]||(t[15]=(0,a.Lk)("div",{style:{"font-size":"12px",color:"gray"}},"get USDC balance of address:",-1)),t[16]||(t[16]=(0,a.Lk)("div",{style:{"font-size":"12px",color:"gray"}},"0x51ceab2edc89f74730e683ebee65578cb3bc9237ba6fca019438a9737cf156ae",-1))])),_:1}),t[19]||(t[19]=(0,a.Lk)("div",{class:"line"},null,-1)),(0,a.bF)(c,{span:24},{default:(0,a.k6)((()=>[(0,a.bF)(o,{class:"grid-content",type:"primary",onClick:t[6]||(t[6]=e=>r.sui_signTransaction_pre_execution())},{default:(0,a.k6)((()=>t[17]||(t[17]=[(0,a.eW)("signTransaction(prepared data)")]))),_:1})])),_:1}),(0,a.bF)(c,{span:24},{default:(0,a.k6)((()=>[(0,a.bF)(o,{class:"grid-content",type:"primary",onClick:t[7]||(t[7]=e=>r.sui_signAndExecuteTransaction_pre_execution())},{default:(0,a.k6)((()=>t[18]||(t[18]=[(0,a.eW)("sendTransaction(prepared data)")]))),_:1})])),_:1})])),_:1})}var T=n(20777),P=n(16310),S=n(82933),A=n(63987)["Buffer"],F={name:"SuiTransactionPanel",methods:{sui_getAccount(){this.$emit("generateTransactionParams","","sui_getAccount")},async sui_signMessage(){const e=[76,111,103,105,110,32,119,105,116,104,32,66,108,117,101,109,111,118,101],t=new Uint8Array(e);let n={message:t};this.$emit("generateTransactionParams",n,"sui_signMessage")},async sui_signPersonalMessage(){const e=[76,111,103,105,110,32,119,105,116,104,32,66,108,117,101,109,111,118,101],t=new Uint8Array(e);let n={message:t};this.$emit("generateTransactionParams",n,"sui_signPersonalMessage")},sui_signTransaction2(){const e=109,t="0x72f798f8b709902453d4bb55c65661e9e04154a506765f2333dfb7e7834056d2",n=new S.Z,[s]=n.splitCoins(n.gas,[e]);n.transferObjects([s],t);const i={transactionBlock:n,account:{},chain:"sui:mainnet",options:{showEffects:!0}};this.$emit("generateTransactionParams",i,"sui_signTransaction")},async sui_requestRpc(){let e=window.provider;e.setDefaultChain("sui:mainnet","https://fullnode.mainnet.sui.io:443");var t={method:"suix_getBalance",params:["0x51ceab2edc89f74730e683ebee65578cb3bc9237ba6fca019438a9737cf156ae","0x168da5bf1f48dafc111b0a488fa454aca95e0b5e::usdc::USDC"]};this.$emit("generateTransactionParams",t,"sui_testRpc")},async sui_signTransaction_pre_execution(){const e=102,t="0x72f798f8b709902453d4bb55c65661e9e04154a506765f2333dfb7e7834056d2",n=new S.Z,[s]=n.splitCoins(n.gas,[e]);n.transferObjects([s],t);const i={transactionBlock:n,options:{showEffects:!0}},[a,r]=await this.generateTsBytesAndSerizlize(i);i.txBytes=a,i.txSerialize=r,this.$emit("generateTransactionParams",i,"sui_signTransaction")},async sui_signAndExecuteTransaction_pre_execution(){const e=115,t="0x72f798f8b709902453d4bb55c65661e9e04154a506765f2333dfb7e7834056d2",n=new S.Z,[s]=n.splitCoins(n.gas,[e]);n.transferObjects([s],t);const i={transactionBlock:n,options:{showEffects:!0}},[a,r]=await this.generateTsBytesAndSerizlize(i);i.txBytes=a,i.txSerialize=r,this.$emit("generateTransactionParams",i,"sui_signAndExecuteTransaction")},async generateTsBytesAndSerizlize(e){let t=["",""];if("txBytes"in e&&e.txBytes.length>0&&"txSerialize"in e&&e.txSerialize.length>0&&(t=[e.txBytes,e.txSerialize]),!("transactionBlock"in e))return new Promise((e=>{e(t)}));if("connected"!=this.walletAddress)return alert("请先连接钱包"),new Promise((e=>{e(t)}));let n=window.provider.requestAccountsWithNamespace("sui");if(0==n.length)return new Promise((e=>{e(t)}));try{let s=(0,T.T)("mainnet");s="https://www.okx.com/fullnode/sui/discover/rpc";const i=new P.x({url:s});e.transactionBlock.setSender(n[0]);const a=await e.transactionBlock.build({client:i}),r=A(a).toString("base64"),o=await S.Z.from(r).toJSON();t=[r,o]}catch(s){return new Promise((e=>{e(t)}))}return new Promise((e=>{e(t)}))}}};const D=(0,y.A)(F,[["render",R],["__scopeId","data-v-30ae15b2"]]);var K=D;function I(e,t,n,s,i,r){const o=(0,a.g2)("el-button"),c=(0,a.g2)("el-col"),l=(0,a.g2)("el-row");return(0,a.uX)(),(0,a.Wv)(l,{gutter:12,class:"button-row"},{default:(0,a.k6)((()=>[(0,a.bF)(c,{span:24},{default:(0,a.k6)((()=>[(0,a.bF)(o,{class:"grid-content",type:"primary",onClick:t[0]||(t[0]=e=>r.starknet_signMessage())},{default:(0,a.k6)((()=>t[2]||(t[2]=[(0,a.eW)("signMessage")]))),_:1}),t[3]||(t[3]=(0,a.Lk)("div",{style:{"font-size":"12px","margin-top":"12px","margin-left":"4px",color:"gray","text-align":"left"}},[(0,a.Lk)("li",null," 1. 验签不成功的话，请尝试连接VPN ")],-1))])),_:1}),t[6]||(t[6]=(0,a.Lk)("div",{class:"line"},null,-1)),(0,a.bF)(c,{span:24},{default:(0,a.k6)((()=>[(0,a.bF)(o,{class:"grid-content",type:"primary",onClick:t[1]||(t[1]=e=>r.starknet_sendTransaction(!0))},{default:(0,a.k6)((()=>t[4]||(t[4]=[(0,a.eW)(" sendTransaction ")]))),_:1}),t[5]||(t[5]=(0,a.Lk)("div",{style:{"font-size":"12px","margin-top":"12px","margin-left":"4px",color:"gray","text-align":"left"}},[(0,a.Lk)("li",null," 1. 发送0.12个DAI到0x00b9...4237f的地址 "),(0,a.Lk)("li",null," 2. 请保证你的钱包有足够的DAI ")],-1))])),_:1})])),_:1})}var x=n(94237),M={name:"StarknetTransactionPanel",methods:{async starknet_signMessage(){if(this.address=this.getCurrentAddress(),""===this.address)return void alert("address can't be ''");let e=this.signData;this.$emit("generateTransactionParams",JSON.stringify(e));let t=new d.OKXStarknetProvider(window.provider),n=await t.signMessage("starknet:mainnet",this.address,e);if(n.code){if(301==n.code){let e="Wallet address is registering, please try again later!";alert(e),this.$emit("generateTransactionResult",e,"starknet_signMessage")}return void this.$emit("generateTransactionResult",n,"starknet_signMessage")}console.log(n);const s=new x.bd({nodeUrl:"https://free-rpc.nethermind.io/mainnet-juno/v0_7"});let i="0x123";const a=new x.gD(s,this.address,i);let r=this;a.verifyMessage(e,n).then((function(e){r.$emit("generateTransactionResult","verify:"+e+"\n"+n,"starknet_signMessage")})).catch((function(e){r.$emit("generateTransactionResult","failed:"+e+"\n"+n,"starknet_signMessage")}))},async starknet_sendTransaction(){if(this.address=this.getCurrentAddress(),""===this.address)return void alert("address can't be ''");let e=x.iN.bnToUint256(12e16);const t=x.fP.compile({to:"0x00b909cefa36ab6bc26f5887a867e46ef162238f0a171b1c2974b665afd4237f",value:e}),n="0x00da114221cb83fa859dbdb4c44beeaa0bb37c7537ad5ae66fe5e0efd20e6eb3",s={calls:[{contract_address:n,entry_point:"transfer",calldata:t}]};this.$emit("generateTransactionParams",JSON.stringify(s));let i=new d.OKXStarknetProvider(window.provider),a=this;i.sendTransaction("starknet:mainnet",this.address,s).then((function(){let e=i.sendTransaction("starknet:mainnet",this.address,s);this.$emit("generateTransactionResult",e,"starknet_sendTransaction")})).catch((function(e){if(301==e.code){let e="Wallet address is registering, please try again later!";alert(e),a.$emit("generateTransactionResult",e,"starknet_sendTransaction")}else a.$emit("generateTransactionResult",e,"starknet_sendTransaction")}))},getCurrentAddress(){let e=new d.OKXStarknetProvider(window.provider);const t=e.getAccount("starknet:mainnet")?.address;return t},getPublicKey(){let e=new d.OKXStarknetProvider(window.provider);const t=e.getAccount("starknet:mainnet");return console.log("获取到的account是："),console.log(t),"05d8e5e9c1dd686246716c888159271d2f13986cb4acee46164e2c4e034629c0"}},data(){const e={domain:{chainId:"0x534e5f4d41494e",name:"STRKFarm",version:"1"},message:{document:"app.strkfarm.xyz/tnc/v1",message:"Read and Agree T&C"},primaryType:"Tnc",types:{StarkNetDomain:[{name:"name",type:"felt"},{name:"version",type:"felt"},{name:"chainId",type:"felt"}],Tnc:[{name:"message",type:"felt"},{name:"document",type:"felt"}]}};return{signData:e}}};const W=(0,y.A)(M,[["render",I],["__scopeId","data-v-0f1e59d4"]]);var U=W,X=n(20571),q=n(79556),J=n(55138),B=n.n(J),$=n(41479),H=n.n($),V=n(74602);function L(e,t,n,s,i,r){const o=(0,a.g2)("el-button"),c=(0,a.g2)("el-col"),l=(0,a.g2)("el-row");return(0,a.uX)(),(0,a.Wv)(l,{gutter:12,class:"button-row"},{default:(0,a.k6)((()=>[(0,a.bF)(c,{span:24},{default:(0,a.k6)((()=>[(0,a.bF)(o,{class:"grid-content",type:"primary",onClick:t[0]||(t[0]=e=>r.tron_signMessage())},{default:(0,a.k6)((()=>t[8]||(t[8]=[(0,a.eW)("tron_signMessage")]))),_:1})])),_:1}),(0,a.bF)(c,{span:24},{default:(0,a.k6)((()=>[(0,a.bF)(o,{class:"grid-content",type:"primary",onClick:t[1]||(t[1]=e=>r.tron_signMessageV2())},{default:(0,a.k6)((()=>t[9]||(t[9]=[(0,a.eW)("tron_signMessageV2")]))),_:1})])),_:1}),t[16]||(t[16]=(0,a.Lk)("div",{class:"line"},null,-1)),(0,a.bF)(c,{span:24},{default:(0,a.k6)((()=>[(0,a.bF)(o,{class:"grid-content",type:"primary",onClick:t[2]||(t[2]=e=>r.tron_signTransaction(!0))},{default:(0,a.k6)((()=>t[10]||(t[10]=[(0,a.eW)(" tron_signTransaction(transfer) ")]))),_:1})])),_:1}),(0,a.bF)(c,{span:24},{default:(0,a.k6)((()=>[(0,a.bF)(o,{class:"grid-content",type:"primary",onClick:t[3]||(t[3]=e=>r.tron_signAndSendTransactionContract(!0))},{default:(0,a.k6)((()=>t[11]||(t[11]=[(0,a.eW)(" tron_signTransaction(contract) ")]))),_:1})])),_:1}),(0,a.bF)(c,{span:24},{default:(0,a.k6)((()=>[(0,a.bF)(o,{class:"grid-content",type:"primary",onClick:t[4]||(t[4]=e=>r.tron_signAndSendTransactionApprove(!0))},{default:(0,a.k6)((()=>t[12]||(t[12]=[(0,a.eW)(" tron_signTransaction(Approve) ")]))),_:1})])),_:1}),t[17]||(t[17]=(0,a.Lk)("div",{class:"line"},null,-1)),(0,a.bF)(c,{span:24},{default:(0,a.k6)((()=>[(0,a.bF)(o,{class:"grid-content",type:"primary",onClick:t[5]||(t[5]=e=>r.tron_signTransaction(!1))},{default:(0,a.k6)((()=>t[13]||(t[13]=[(0,a.eW)(" tron_signAndSendTransaction(transfer) ")]))),_:1})])),_:1}),(0,a.bF)(c,{span:24},{default:(0,a.k6)((()=>[(0,a.bF)(o,{class:"grid-content",type:"primary",onClick:t[6]||(t[6]=e=>r.tron_signAndSendTransactionContract(!1))},{default:(0,a.k6)((()=>t[14]||(t[14]=[(0,a.eW)(" tron_signAndSendTransaction(contract) ")]))),_:1})])),_:1}),(0,a.bF)(c,{span:24},{default:(0,a.k6)((()=>[(0,a.bF)(o,{class:"grid-content",type:"primary",onClick:t[7]||(t[7]=e=>r.tron_signAndSendTransactionApprove(!1))},{default:(0,a.k6)((()=>t[15]||(t[15]=[(0,a.eW)(" tron_signAndSendTransaction(approve) ")]))),_:1})])),_:1})])),_:1})}var j=n(30626),G=n(63987)["Buffer"],z={name:"TronTransactionPanel",methods:{async tron_signMessage(){this.$emit("generateTransactionParams","Hello Tron");let e=new d.OKXTronProvider(window.provider),t=await e.signMessage("tron:mainnet","Hello Tron");if(t.code)return void this.$emit("generateTransactionResult",t,"tron_signMessage");let n=new j.K_({fullHost:"https://api.trongrid.io",headers:{},privateKey:""});const s=await n.trx.verifyMessage("0x"+G.from("Hello Tron").toString("hex"),t,e.getAccount("tron:mainnet").address);this.$emit("generateTransactionResult","verify:"+s+"\n"+t,"tron_signMessage")},async tron_signMessageV2(){this.$emit("generateTransactionParams","Hello Tron");let e=new d.OKXTronProvider(window.provider),t=await e.signMessageV2("tron:mainnet","Hello Tron");if(t.code)return void this.$emit("generateTransactionResult",t,"tron_signMessage");let n=new j.K_({fullHost:"https://api.trongrid.io",headers:{},privateKey:""});const s=await n.trx.verifyMessageV2("Hello Tron",t);console.log("tron_signMessageV2_base58Address",s),console.log("tron_signMessageV2_address",e.getAccount("tron:mainnet").address);const i=s===e.getAccount("tron:mainnet").address;this.$emit("generateTransactionResult","verify:"+i+"\n"+t,"tron_signMessage")},async tron_signTransaction(e){let t=new d.OKXTronProvider(window.provider),n=new j.K_({fullHost:"https://api.trongrid.io",headers:{},privateKey:""}),s=t.getAccount("tron:mainnet").address;const i=await n.transactionBuilder.sendTrx("TGBcVLMnVtvJzjPWZpPiYBgwwb7th1w3BF",1e3,s);if(this.$emit("generateTransactionParams",i),e){let e=await t.signTransaction("tron:mainnet",i);this.$emit("generateTransactionResult",e,"tron_signTransaction")}else{let e=await t.signAndSendTransaction("tron:mainnet",i);this.$emit("generateTransactionResult",e,"tron_sendRawTransaction")}},async getContract(){let e=new j.K_({fullHost:"https://api.trongrid.io",headers:{},privateKey:""}),t="41b4a428ab7092c2f1395f376ce297033b3bb446c1";try{const n=await e.trx.getContract(t),s=n.abi.entrys;console.log("获取到的合约："),console.log(s)}catch(n){console.log("Error getting contract ABI:",n)}},async tron_signAndSendTransactionContract(e){let t=new j.K_({fullHost:"https://api.trongrid.io",headers:{},privateKey:""}),n="41e95812d8d5b5412d2b9f3a4d5a87ca15c5c51f33",s=new d.OKXTronProvider(window.provider),i=s.getAccount("tron:mainnet").address;const a=[{type:"uint256",value:1},{type:"uint256",value:1},{type:"uint256",value:1}],r=await t.transactionBuilder.triggerSmartContract(n,"quote(uint256,uint256,uint256)",{},a,i);if(console.log("=====>transaction: "),console.log(r),this.$emit("generateTransactionParams",r.transaction),e){let e=await s.signTransaction("tron:mainnet",r.transaction);this.$emit("generateTransactionResult",e,"tron_sendRawTransaction")}else{let e=await s.signAndSendTransaction("tron:mainnet",r.transaction);this.$emit("generateTransactionResult",e,"tron_sendRawTransaction")}},async tron_signAndSendTransactionApprove(e){let t="41b4a428ab7092c2f1395f376ce297033b3bb446c1",n=new d.OKXTronProvider(window.provider),s=n.getAccount("tron:mainnet").address;const i=[{type:"address",value:t},{type:"uint256",value:1e3}];let a=new j.K_({fullHost:"https://api.trongrid.io",headers:{},privateKey:""});const r=await a.transactionBuilder.triggerSmartContract(t,"approve(address,uint256)",{},i,s);let o=r.transaction;if(this.$emit("generateTransactionParams",o),e){let e=await n.signTransaction("tron:mainnet",o);this.$emit("generateTransactionResult",e,"tron_sendRawTransaction")}else{let e=await n.signAndSendTransaction("tron:mainnet",o);this.$emit("generateTransactionResult",e,"tron_sendRawTransaction")}}}};const Y=(0,y.A)(z,[["render",L],["__scopeId","data-v-7fdd8e4e"]]);var Z=Y,Q=n(63987)["Buffer"];const{verifyADR36Amino:ee}=n(98471),{fromBech32:te}=n(97777);new(B());const ne={1:{name:"eth",checked:!1},56:{name:"BNB",checked:!1},137:{name:"Polygon",checked:!1},122:{name:"Fuse",checked:!1},"ton:-239":{name:"TON",checked:!1},"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp":{name:"Sol mainnet",checked:!1},"solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z":{name:"Sol testnet",checked:!1},"svm:70000062":{name:"Sonic testnet",checked:!1},"sui:mainnet":{name:"Sui mainnet",checked:!1},"aptos:mainnet":{name:"Aptos mainnet",checked:!1},"movement:testnet":{name:"Movement",checked:!1},"btc:mainnet":{name:"BTC",checked:!1},"fractal:mainnet":{name:"Fractal",checked:!1},"cosmos:osmosis-1":{name:"osmos",checked:!1},"cosmos:cosmoshub-4":{name:"cosmoshub",checked:!1},"cosmos:pacific-1":{name:"sei",checked:!1},"cosmos:abvdefg":{name:"cosmos:abvdefg",checked:!1},"tron:mainnet":{name:"tron",checked:!1},997865:{name:"Non Exist chain",checked:!1},"starknet:mainnet":{name:"starknet",checked:!1}};var se=new Set([]),ie=["before","success","error"],ae="none",re="tg://resolve",oe="en_US",ce=X.THEME.LIGHT,le={name:"App",components:{TronTransactionPanel:Z,QrcodeVue:f.Ay,BTCPanel:w,FractalPanel:N,SuiPanel:K,StarknetPanel:U},setup(){const e=(0,b.KR)(!1);return{sendBtnDisabled:e}},data:()=>({activeTab:"eip155:1",testTopic:"",testPublicKey:"",testProofPayload:"",tonProofValue:"",pendingDeepLink:"-",logList:[],connectReady:!1,connectStatusStr:"Connect",connectAndSignStr:"ConnectAndsign(two steps only ETH)",connectInitStr:"init test",disconnectStatusStr:"Disconnect",localPubKey:"",localSecKey:"",testTransaction:"",selectedChain:"eip155:1",testTransactionStr:"Send",walletAddress:"",testboc:"",ProofPayloadVerify:"",showModal:!1,showVerifyRow:!1,qrValue:"https://www.okx.com/download",currentStatus:"",areChainsInit:!1,availableChains:ne,isOptionalChecked:e=>se.has(e),withUI:"false"!=localStorage.getItem("autoRefresh"),modals:ie,returnStrategies:["none","back","deeplink"],returnStrategy:ae,deeplink:re,locales:["en_US","ru_RU","zh_CN","zh","ar_AE","cs_CZ","de_DE","es_ES","es_LAT","fr_FR","id_ID","it_IT","nl_NL","pl_PL","pt_BR","pt_PT","ro_RO","tr_TR","uk_UA","vi_VN"],selectedMethod:[],selectedMethodData:[],connectMethods:["wallet_addEthereumChain(ETH)","personal_sign(ETH)","solana_signMessage(Sol mainnet)","sui_signMessage(Sui mainnet)","sui_signPersonalMessage(Sui mainnet)","btc_signMessage(BTC)","aptos_signMessage(aptos mainnet)","cosmos_signArbitrary(cosmoshub)","test_noSupport_eth(ETH)","tron_signMessage","tron_signMessageV2","starknet_signMessage"],language:oe,theme:ce,THEME:X.THEME,handleWithUI:e=>{localStorage.setItem("autoRefresh",`${e}`),location.reload()},handleOptionChange:e=>{se.has(e)?se.delete(e):se.add(e)},starknetPanelTypedData:""}),computed:{getWalletAddress:function(){return this.walletAddress}},methods:{isChecked(e){return this.selectedChains.has(e)},initChains(e){if(e.length>0){const t=Object.assign({},this.availableChains);for(const n of e)t[n]&&(t[n].checked=!t[n].checked);this.availableChains=t}this.areChainsInit=!0},async clickActiveTab(e){const t=e.props?e.props.name:e.name;this.selectedChain=t,console.log("已切换到链 :",t),window.provider||console.error("钱包 未初始化完成"),this.sendBtnDisabled="starknet:mainnet"==t,window.provider.setDefaultChain(this.selectedChain)},async initBtnClicked(){var e;e=this.withUI?X.OKXUniversalConnectUI.init({dappMetaData:{icon:"https://static.okx.com/cdn/assets/imgs/247/58E63FEA47A2B7D7.png",name:"OKX WalletConnect UI Demo"},actionsConfiguration:{returnStrategy:ae,modals:"all"},language:oe,uiPreferences:{theme:ce}}):d.OKXUniversalProvider.init({dappMetaData:{name:"univer test dapp",icon:"https://avatars.githubusercontent.com/u/37784886"}}),e.then((e=>{if(window.provider=e,window.tonProvider=new d.OKXTonProvider(window.provider),window.tonProvider.onStatusChange((e=>{console.log("TONConnection onStatusChange:",JSON.stringify(e))}),(e=>{console.log("TONConnection onStatusChange error:",e)})),console.log("init finished:",e),console.log("init finished session:",JSON.stringify(e.session)),e.session?.namespaces){const t=[];console.log("namespaces",e.session.namespaces),Object.entries(e.session.namespaces).forEach((([e,n])=>{"eip155"===e?n.chains.forEach((e=>{t.push(parseInt(e.substring(7)))})):n.chains.forEach((e=>{t.push(e)}))})),console.log("existing chains:",t),this.initChains(t)}else this.initChains([]);e.on("display_uri",(e=>{this.isPC()&&e&&!this.withUI&&(this.qrValue=e,this.showModal=!0),console.log("通知>>>display_uri  ==> ",e)})),e.on("connect",(e=>{console.log("通知>>>get connect session",e),this.verifyMessage()})),e.on("reconnect",(e=>{console.log("通知>>>get reconnect session",e),this.walletAddress="connected"})),e.on("disconnect",(({topic:e})=>{console.log(`通知>>>get disconnect  ${e}`),this.walletAddress="disconnecteddddd"})),e.on("session_delete",(({topic:e})=>{console.log(`通知>>>get session_delete  ${e}`)})),e.on("session_update",(e=>{console.log("通知>>>get session_update ",JSON.stringify(e))}))}))},async connectBtnClicked(){console.log(`encryptStoreMsg   connectBtnClicked  ${Date.now()}`),window.provider?this.testTonSdk(!1):console.log("connectBtnClicked provider not finish init")},async connectBtnAndSignClicked(){console.log(`encryptStoreMsg   connectBtnClicked  ${Date.now()}`),window.provider?this.testTonSdk(!0):console.log("connectBtnClicked provider not finish init")},async disconnectAction(){try{console.log("get disconnect wallet btn clicked");var e=window.provider;await e.disconnect(),this.walletAddress="disconnected"}catch(t){console.log("Disconnect  error ==>> ",t.message),this.currentStatus=t.message}},async eth_requestAccounts(){var e={method:"eth_requestAccounts"};this.testTransaction=JSON.stringify(e)},async eth_chainId(){var e={method:"eth_chainId"};this.testTransaction=JSON.stringify(e)},async wallet_switchEthereumChain(){var e={method:"wallet_switchEthereumChain"};this.testTransaction=JSON.stringify(e)},async wallet_addEthereumChain(){var e={method:"wallet_addEthereumChain",params:{blockExplorerUrls:["https://explorer.fuse.io"],chainId:"0x7a",chainName:"Fuse",nativeCurrency:{name:"Fuse",symbol:"FUSE",decimals:18},rpcUrls:["https://rpc.fuse.io"]}};this.testTransaction=JSON.stringify(e)},async personal_sign(){if("eip155:1"===this.selectedChain){var e=await window.provider.request({method:"eth_requestAccounts"},"eip155:1"),t=e[0];console.log("签名地址>>>",t,JSON.stringify(e));var n={method:"personal_sign",params:["0x4d7920656d61696c206973206a6f686e40646f652e636f6d202d2031373237353937343537313336",t]};this.testTransaction=JSON.stringify(n)}else if("eip155:137"===this.selectedChain||"eip155:122"===this.selectedChain){var s={method:"personal_sign",params:{message:"0x4d7920656d61696c206973206a6f686e40646f652e636f6d202d2031373237353937353831303437"}};this.testTransaction=JSON.stringify(s)}else if("eip155:56"===this.selectedChain){var i={method:"personal_sign",params:{message:"0x4d7920656d61696c206973206a6f686e40646f652e636f6d202d2031373237353937353831303437"}};this.testTransaction=JSON.stringify(i)}},async eth_sendTransaction_swap(){var e={method:"eth_sendTransaction",chainId:"eip155:122",params:{value:"0x38d7ea4c68000",gas:"0x2665f",to:"0xf2614A233c7C3e7f08b1F887Ba133a13f1eb2c55",from:"0xf2F3e73be57031114dd1f4E75c1DD87658be7F0E",data:"0x2646478b000000000000000000000000eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee00000000000000000000000000000000000000000000000000038d7ea4c68000000000000000000000000000620fd5fa44be6af63715ef4e65ddfa0387ad13f5000000000000000000000000000000000000000000000000000000000000001b000000000000000000000000f2f3e73be57031114dd1f4e75c1dd87658be7f0e00000000000000000000000000000000000000000000000000000000000000c000000000000000000000000000000000000000000000000000000000000000700301ffff0201602352A9Eb5234466Eac23E59e7B99bCaE79C39c0BE9e53fd7EDaC9F859882AfdDa116645287C629040BE9e53fd7EDaC9F859882AfdDa116645287C62900602352A9Eb5234466Eac23E59e7B99bCaE79C39c01f2F3e73be57031114dd1f4E75c1DD87658be7F0E000bb800000000000000000000000000000000"}};this.testTransaction=JSON.stringify(e)},async eth_signTypedData_v4(){var e=await window.provider.request({method:"eth_requestAccounts"},"eip155"),t=e[0];console.log("签名地址>>>",t,JSON.stringify(e));var n={method:"eth_signTypedData_v4",params:[t,{types:{EIP712Domain:[{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"}],Person:[{name:"name",type:"string"},{name:"wallet",type:"address"}],Mail:[{name:"from",type:"Person"},{name:"to",type:"Person"},{name:"contents",type:"string"}]},primaryType:"Mail",domain:{name:"Ether Mail",version:"1",chainId:1,verifyingContract:"0xCcCCccccCCCCcCCCCCCcCcCccCcCCCcCcccccccC"},message:{from:{name:"Cow",wallet:"0xCD2a3d9F938E13CD947Ec05AbC7FE734Df8DD826"},to:{name:"Bob",wallet:"0xbBbBBBBbbBBBbbbBbbBbbbbBBbBbbbbBbBbbBBbB"},contents:"Hello, Bob!"}}]};this.testTransaction=JSON.stringify(n)},async eth_sendTransaction_transfer(){var e={};"eip155:1"===this.selectedChain?e={method:"eth_sendTransaction",params:{from:"0x0cecb15396825a895ff8da8fc2d2c77a234dccee",chainId:"0x1",to:"0x0cecb15396825a895ff8da8fc2d2c77a234dccee",value:"0x5af3107a4000",maxPriorityFeePerGas:"0x3b9aca00",gas:"0x5e56",maxFeePerGas:"0x2643b9db8"}}:"eip155:137"===this.selectedChain?e={method:"eth_sendTransaction",params:{gasPrice:"0x17003f6530",nonce:"0x0d30",data:"0x",value:"0x00",to:"0xf2f3e73be57031114dd1f4e75c1dd87658be7f0e",gasLimit:"0x5208",from:"0xf2f3e73be57031114dd1f4e75c1dd87658be7f0e"}}:"eip155:56"===this.selectedChain?e={method:"eth_sendTransaction",params:{gas:"0x5e56",value:"0x5af3107a4000",from:"0xf2f3e73be57031114dd1f4e75c1dd87658be7f0e",gasPrice:"0x3b9aca00",to:"0xf2f3e73be57031114dd1f4e75c1dd87658be7f0e",chainId:"0x38"}}:"eip155:122"===this.selectedChain&&(e={method:"eth_sendTransaction",params:{from:"0xf2f3e73be57031114dd1f4e75c1dd87658be7f0e",to:"0xf2f3e73be57031114dd1f4e75c1dd87658be7f0e",value:"0x0",chainId:"0x7a"}});var t=await window.provider.request({method:"eth_requestAccounts"},"eip155"),n=t[0];console.log("当前钱包地址------",n),e.params["to"]=n,e.params["from"]=n,this.testTransaction=JSON.stringify(e)},async eth_sendTransaction_approve(){var e={};"eip155:1"===this.selectedChain?e={method:"eth_sendTransaction",params:{from:"0xf2F3e73be57031114dd1f4E75c1DD87658be7F0E",data:"0x095ea7b3000000000000000000000000000000000022d473030f116ddee9f6b43ac78ba3ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff",to:"0x582d872a1b094fc48f5de31d3b73f2d9be47def1"}}:"eip155:137"===this.selectedChain?e={method:"eth_sendTransaction",params:{from:"0xf2F3e73be57031114dd1f4E75c1DD87658be7F0E",data:"0x095ea7b3000000000000000000000000f2614a233c7c3e7f08b1f887ba133a13f1eb2c5500000000000000000000000000000000000000000000000000f6f8096ac575b0",to:"0x0b3F868E0BE5597D5DB7fEB59E1CADBb0fdDa50a"}}:"eip155:56"===this.selectedChain?e={method:"eth_sendTransaction",params:{from:"0x0cecb15396825A895FF8DA8fC2D2C77A234dcCee",value:"0x0",gas:"0xe117",gasPrice:"0xb2d05e00",data:"0x095ea7b300000000000000000000000031c2f6fcff4f8759b3bd5bf0e1084a055615c768ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff",to:"0x5CA42204cDaa70d5c773946e69dE942b85CA6706"}}:"eip155:122"===this.selectedChain&&(e={method:"eth_sendTransaction",params:{from:"0x0cecb15396825A895FF8DA8fC2D2C77A234dcCee",data:"0x095ea7b3000000000000000000000000f2614a233c7c3e7f08b1f887ba133a13f1eb2c5500000000000000000000000000000000000000000000000000000000000013b3",to:"0x620fd5fa44BE6af63715Ef4E65DDFA0387aD13F5"}});var t=await window.provider.request({method:"eth_requestAccounts"},"eip155"),n=t[0];console.log("当前钱包地址------",n),e.params["from"]=n,this.testTransaction=JSON.stringify(e)},async eth_sendTransaction_mint(){var e={};"eip155:1"===this.selectedChain?e={method:"eth_sendTransaction",params:{gas:"0x4cacb",data:"0xa64dfa75000000000000000000000000ed688002f3797599db8b4feacfe8b1dda0df1c8d000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000002a000000000000000000000000000000000000000000000000000000000000002e0000000000000000000000000000000000000000000000000000000000000032000000000000000000000000000000000000000000000000000000000000003a000000000000000000000000000000000000000000000000000000000000003c000000000000000000000000000000000000000000000000000000000000003e00000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000042000000000000000000000000000000000000000000000000000000000000005000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000052000000000000000000000000000000000000000000000000000000000000005400000000000000000000000000000000000000000000000000000000000000560000000000000000000000000000000000000000000000000000000000000058000000000000000000000000000000000000000000000000000000000000005a000000000000000000000000000000000000000000000000000000000000005c0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000cecb15396825a895ff8da8fc2d2c77a234dccee00000000000000000000000000000000000000000000000000000000000005e0000000000000000000000000000000000000000000000000000000000000062000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000047697066733a2f2f6261667962656968643737366b6177706e71336f6f6a6635693274787a76617737737164656b34616a776472637472703261366f626b70723773792f7b69647d0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000006000000000000000000000000000000000000000000000000000000000000000800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000002a3078303030303030303030303030303030303030303030303030303030303030303030303030303030300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000001",to:"0x864baa13e01d8f9e26549dc91b458cd15e34eb7c",value:"0x0",from:"0x0cecb15396825a895ff8da8fc2d2c77a234dccee"}}:"eip155:137"===this.selectedChain&&(e={method:"eth_sendTransaction",params:{gas:"0x30795",data:"0xa64dfa75000000000000000000000000341b3687f0309778f08f29336b2c4b9c38b9f110000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000002a000000000000000000000000000000000000000000000000000000000000002e0000000000000000000000000000000000000000000000000000000000000032000000000000000000000000000000000000000000000000000000000000003a000000000000000000000000000000000000000000000000000000000000003c000000000000000000000000000000000000000000000000000000000000003e00000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000042000000000000000000000000000000000000000000000000000000000000005000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000052000000000000000000000000000000000000000000000000000000000000005400000000000000000000000000000000000000000000000000000000000000560000000000000000000000000000000000000000000000000000000000000058000000000000000000000000000000000000000000000000000000000000005a000000000000000000000000000000000000000000000000000000000000005c000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000f2f3e73be57031114dd1f4e75c1dd87658be7f0e00000000000000000000000000000000000000000000000000000000000005e0000000000000000000000000000000000000000000000000000000000000062000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000047697066733a2f2f62616679626569686a6279676b68747a71376b68377434336266686e676e793236337668766f6578716a6d6e377161716166366e717a64743777712f7b69647d0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000006000000000000000000000000000000000000000000000000000000000000000800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000002a3078303030303030303030303030303030303030303030303030303030303030303030303030303030300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000001",to:"0x864baa13e01d8f9e26549dc91b458cd15e34eb7c",value:"0x0",from:"0xf2f3e73be57031114dd1f4e75c1dd87658be7f0e"}});let t=JSON.stringify(e);console.log("-----长度---\x3e",t.length);var n=await window.provider.request({method:"eth_requestAccounts"},"eip155"),s=n[0];console.log("当前钱包地址------",s),e.params["from"]=s,this.testTransaction=JSON.stringify(e)},async wallet_testRpc(){let e=window.provider;e.setDefaultChain("eip155:56","https://eth-mainnet.g.alchemy.com/v2/NxUfYJUr-TQtEpLmSXhhD5pXn70GwsyV");var t={method:"eth_getBalance",params:["0x8D97689C9818892B700e27F316cc3E41e17fBeb9","latest"]};this.testTransaction=JSON.stringify(t)},async wallet_watchAsset(){var e={};"eip155:1"===this.selectedChain?e={method:"wallet_watchAsset",params:{type:"ERC20",options:{address:"0xe0f63a424a4439cbe457d80e4f4b51ad25b2c56c",symbol:"SPX6900",image:"https://assets.coingecko.com/coins/images/31401/standard/sticker_%281%29.jpg?1702371083",decimals:8}}}:"eip155:137"===this.selectedChain?e={method:"wallet_watchAsset",params:{type:"ERC20",options:{address:"0xeB51D9A39AD5EEF215dC0Bf39a8821ff804A0F01",symbol:"LGNS",image:"https://polygonscan.com/token/images/originlgns_32.png",decimals:9}}}:"eip155:56"===this.selectedChain&&(e={method:"wallet_watchAsset",params:{type:"ERC20",options:{address:"0x031b41e504677879370e9dbcf937283a8691fa7f",symbol:"FET",image:"https://bscscan.com/token/images/fetch_32.png",decimals:18}}}),this.testTransaction=JSON.stringify(e)},async ton_sendTransaction(){var e={messages:[{address:"EQARULUYsmJq1RiZ-YiH-IJLcAZUVkVff-KBPwEmmaQGH6aC",amount:"205000000",payload:"te6cckEBAgEAhwABbQ+KfqUAAADNgG7tIEATEtAIAO87mQKicbKgHIk4pSPP4k5xhHqutqYgAB7USnesDnCcECwbgQMBAJUlk4VhgBD3JEg1TUr75iTijBghOKm/sxNDXUBl7CD6WMut0Q85x4RafwA/Es89DBXoTxuqxVFxyBbzt9Rav2HBUKl7hmkvLuKHLBCW57aK"}],validUntil:1792481054,network:"-239"};this.testTransaction=JSON.stringify(e)},ton_getAccount(){this.testTransaction="这里是同步获取 不再需要点击 <<发送交易>>";let e=window.tonProvider.account();this.testboc=e?JSON.stringify(e):"null"},async tonUniversalLog(){console.log("ton 信息: tonProvider  connected:",window.tonProvider.connected()),console.log("ton 信息: tonProvider  account:",JSON.stringify(window.tonProvider.account())),console.log("ton 信息: tonProvider  wallet:",JSON.stringify(window.tonProvider.wallet()))},async sendTransactionAlert(){const e=await fetch("https://apitest.fireverse.ai/oauth/okx/getNonce?publicAddress=0x0cecb15396825a895ff8da8fc2d2c77a234dccee"),t=await e.json();console.log("请求数据----",JSON.stringify(t)),await this.personal_sign(),confirm("Are you want to sign message?")&&this.sendTransaction()},async sendTransaction(){if(!(this.selectedChain.startsWith("aptos")||this.selectedChain.startsWith("movement")||this.selectedChain.startsWith("solana")||this.selectedChain.startsWith("sonic")||this.selectedChain.startsWith("cosmos")))if(console.log("sendTransaction",window.provider),console.log("sendTransaction内容11------",this.testTransaction),window.provider||console.error("钱包 未初始化完成"),this.testTransaction&&window.provider){const a=JSON.parse(this.testTransaction);try{console.log("sendTransaction-----22method>>",a.method);let i="eip155:1";if(this.selectedChain&&(i=this.selectedChain,console.log("sendTransaction-----this.selectedChain>>",this.selectedChain)),console.log("windowOpen[click_1]: ",Date.now()),"sui:mainnet"==i){const t=new p.Z(window.provider);var e="invalid result";if("sui_getAccount"==this.currentSuiMethod){let e=t.getAccount();this.testboc="string"==typeof e?e:JSON.stringify(e)}if("sui_signTransaction"==this.currentSuiMethod)e=await t.signTransaction(this.currentSuiTransaction),this.testboc=JSON.stringify(e);else if("sui_signAndExecuteTransaction"==this.currentSuiMethod)e=await t.signAndExecuteTransaction(this.currentSuiTransaction),this.testboc=JSON.stringify(e);else if("sui_signMessage"==this.currentSuiMethod)console.log("signMessage----",this.currentSuiTransaction),e=await t.signMessage(this.currentSuiTransaction),this.testboc=JSON.stringify(e),this.sui_verifySignature(e).then((e=>{this.testboc=`signature verify: ${e.result}\n${e.msg}\n\n${this.testboc}`}));else if("sui_signPersonalMessage"==this.currentSuiMethod)console.log("signPersonalMessage----",this.currentSuiTransaction),e=await t.signPersonalMessage(this.currentSuiTransaction),this.testboc=JSON.stringify(e),this.sui_verifySignature(e).then((e=>{this.testboc=`signature verify: ${e.result}\n${e.msg}\n\n${this.testboc}`}));else if("sui_testRpc"==this.currentSuiMethod){console.log("test rpc----",this.currentSuiTransaction),console.log(`请求数据发送 rpc -----\x3e> ${JSON.stringify(a)}`);const e=await window.provider.request(a,i);console.log(`请求数据回调 rpc -----\x3e> ${JSON.stringify(s)}`),this.testboc="string"==typeof e?e:JSON.stringify(e)}return void console.log("windowOpen[click_2]: ",Date.now())}if("ton:-239"===i){console.log(`请求数据发送 sendTransaction ---ton--\x3e> ${JSON.stringify(a)}`);let e=await window.tonProvider.sendTransaction(a);return console.log(`请求数据回调 sendTransaction -----\x3e> ${JSON.stringify(e)}`),void(this.testboc="string"==typeof e?e:JSON.stringify(e))}if("btc:mainnet"==i){const e=new d.OKXBtcProvider(window.provider);var t="invalid result";return void("btc_signMessage"==this.currentBtcMethod?(t=await e.signMessage(i,this.currentBtcTransaction["signStr"]),this.testboc=JSON.stringify(t)):"btc_send"==this.currentBtcMethod?(t=await e.send(i,this.currentBtcTransaction),this.testboc=JSON.stringify(t)):"btc_signPsbt"==this.currentBtcMethod?(t=await e.signPsbt(i,this.currentBtcTransaction.psbtHex,this.currentBtcTransaction.options),this.hexToBase64(t).then((e=>{this.testboc=JSON.stringify(e)})).catch((e=>{this.testboc=e}))):"btc_signPsbts"==this.currentBtcMethod?(t=await e.signPsbts(i,this.currentBtcTransaction.psbtHexs,this.currentBtcTransaction.options),this.testboc=JSON.stringify(t)):"btc_sendInscription"==this.currentBtcMethod?(t=await e.sendInscription(i,this.currentBtcTransaction.address,this.currentBtcTransaction.inscriptionId,this.currentBtcTransaction.options),this.testboc=JSON.stringify(t)):"btc_signAndPushPsbt"==this.currentBtcMethod?(t=await e.signAndPushPsbt(i,this.currentBtcTransaction.psbtHex,this.currentBtcTransaction.options),this.testboc=JSON.stringify(t)):"btc_sendBitcoin"==this.currentBtcMethod&&(t=await e.sendBitcoin(i,this.currentBtcTransaction.toAddress,this.currentBtcTransaction.satoshis,this.currentBtcTransaction.options),this.testboc=JSON.stringify(t)))}if("fractal:mainnet"==i){const e=new d.OKXBtcProvider(window.provider);var n="invalid result";return void("fractal_signMessage"==this.currentFractalMethod?(n=await e.signMessage(i,this.currentFractalTransaction["signStr"]),this.testboc=JSON.stringify(n)):"fractal_send"==this.currentFractalMethod?(n=await e.send(i,this.currentFractalTransaction),this.testboc=JSON.stringify(n)):"fractal_signPsbt"==this.currentFractalMethod?(n=await e.signPsbt(i,this.currentFractalTransaction.psbtHex,this.currentFractalTransaction.options),this.hexToBase64(n).then((e=>{this.testboc=JSON.stringify(e)})).catch((e=>{this.testboc=e}))):"fractal_signPsbts"==this.currentFractalMethod?(n=await e.signPsbts(i,this.currentFractalTransaction.psbtHexs,this.currentFractalTransaction.options),this.testboc=JSON.stringify(n)):"fractal_sendInscription"==this.currentFractalMethod?(n=await e.sendInscription(i,this.currentFractalTransaction.address,this.currentFractalTransaction.inscriptionId,this.currentFractalTransaction.options),this.testboc=JSON.stringify(n)):"fractal_signAndPushPsbt"==this.currentFractalMethod?(n=await e.signAndPushPsbt(i,this.currentFractalTransaction.psbtHex,this.currentFractalTransaction.options),this.testboc=JSON.stringify(n)):"fractal_sendBitcoin"==this.currentFractalMethod&&(n=await e.sendBitcoin(i,this.currentFractalTransaction.toAddress,this.currentFractalTransaction.satoshis,this.currentFractalTransaction.options),this.testboc=JSON.stringify(n)))}console.log(`请求数据发送 sendTransaction -----\x3e> ${JSON.stringify(a)}`);var s=await window.provider.request(a,i);console.log(`请求数据回调 sendTransaction -----\x3e> ${JSON.stringify(s)}`),console.log("windowOpen[click_3]: ",Date.now()),this.testboc="string"==typeof s?s:JSON.stringify(s),console.log("方法数据回调 --this.testboc--",this.testboc)}catch(i){console.error("方法数据回调失败 --Error--",i.message),i.code===l.OKX_CONNECT_ERROR_CODES.USER_REJECTS_ERROR?this.testboc=i.message:this.testboc="签名错误！"+i.message}}else alert("交易数据为空，请选则或输入交易数据。")},hexToBase64(e){for(var t=[],n=0;n<e.length;n+=2)t.push(parseInt(e.substr(n,2),16));const s=new Uint8Array(t),i=new Blob([s]);return new Promise(((e,t)=>{const n=new FileReader;n.onload=function(t){var n=t.target.result.split(",")[1];e(n)},n.onerror=function(e){t(e)},n.readAsDataURL(i)}))},testBase64UrlSafe(){let e={protocolVer:1,topic:"8a7a4c3be73802d0ae2587123ade7bb79f27433b9aa3ca589a2208a2089eecfd",clientId:"5f1bbf9eac92160affa7ef04d0a710817ddb6d8c22ebbd6263e86f059930b404",requestId:"1731383250054",dAppInfo:{url:"connect.oker.vip",origin:"https://connect.oker.vip",name:"univer test dapp",icon:"https://avatars.githubusercontent.com/u/37784886"},requests:[{name:"requestAccounts",requiredNamespaces:[{namespace:"aptos",chains:["aptos:637"]}],optionalNamespaces:[],connectRequestMethods:[{chainId:"aptos:637",method:"aptos_signMessage",params:{data:{address:!0,application:!0,chainId:!0,message:"123 中文测试!",nonce:"1234"},applicationUrl:"https://connect.oker.vip",prefix:"APTOS",aptosChainId:"1"}}]}],redirect:"none"},t=JSON.stringify(e);const n=(new TextEncoder).encode(t);let s="";n.forEach((e=>{s+=String.fromCharCode(e)}));let i=btoa(s);console.log("字符串编码1>>>>",i),i=i.replace(/\+/g,"-"),console.log("字符串编码2>>>>",i),i=i.replace(/\//g,"_"),console.log("字符串编码3>>>>",i),i=i.replace(/=+$/,""),console.log("字符串编码4>>>>",i);let a=(0,l.getUniversalLink)((0,l.getAppWalletDeepLink)(i));console.log("字符串编码5>>>>",a),this.qrValue=a,this.showModal=!0},async testTonSdk(e){let t,n,s,i,a,r,o,c,l=[],d=[],u=["solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","svm:70000062"],h=!1,p=["sui:mainnet"],f=["btc:mainnet","fractal:mainnet"];const g=Object.entries(this.availableChains).filter((e=>e[1].checked)).map((e=>e[0]));console.log(`chains  ===> ${g.values()}`),g.forEach((function(e){return console.log(`chains.forEach chainId  ===> ${e}`),u.includes(e)?(l.push(e),void(n=!0)):"string"==typeof e&&e.startsWith("ton")?(l.push(e),void(r=!0)):"string"==typeof e&&(e.startsWith("aptos")||e.startsWith("movement"))?(l.push(e),void(a=!0)):"string"==typeof e&&e.startsWith("svm")?(l.push(e),void(n=!0)):"string"==typeof e&&e.startsWith("cosmos")?(l.push(e),void(o=!0)):"string"==typeof e&&e.startsWith("tron")?(l.push(e),void(c=!0)):"string"==typeof e&&e.startsWith("starknet")?(l.push(e),void(h=!0)):p.includes(e)?(console.log(`nameSpacesChains.push  ===> ${e}`),l.push(e),void(s=!0)):f.includes(e)?(console.log(`nameSpacesChains.push  ===> ${e}`),l.push(e),void(i=!0)):(t=!0,void l.push(`eip155:${e}`))})),se.forEach((function(e){if(!u.includes(e))return"string"==typeof e&&e.startsWith("svm")?(l.push(e),void(n=!0)):void(p.includes(e)||f.includes(e)?d.push(e):d.push(`eip155:${e}`));d.push(e)})),console.log(`namespaceChains  ===> ${JSON.stringify(l)}`);var m,_={};if(l&&l.length>0){var b={};if(e){let e=l.includes("eip155:1");if(!e)return void alert("请选择ETH ")}if(t&&(b.eip155={chains:l.filter((e=>e.startsWith("eip155"))),defaultChain:l.filter((e=>e.startsWith("eip155")))[0]}),n&&(b.solana={chains:l.filter((e=>e.startsWith("solana")||e.startsWith("sonic")||e.startsWith("svm"))),defaultChain:l.filter((e=>e.startsWith("solana")||e.startsWith("sonic")||e.startsWith("svm")))[0]}),o&&(b.cosmos={chains:l.filter((e=>e.startsWith("cosmos"))),defaultChain:l.filter((e=>e.startsWith("cosmos")))[0]}),c&&(b.tron={chains:l.filter((e=>e.startsWith("tron"))),defaultChain:l.filter((e=>e.startsWith("tron")))[0]}),h&&(b.starknet={chains:l.filter((e=>e.startsWith("starknet"))),defaultChain:l.filter((e=>e.startsWith("starknet")))[0]}),r){let e={ton_addr:{name:"ton_addr"}};this.tonProofValue&&(e={ton_addr:{name:"ton_addr"},ton_proof:{name:"ton_proof",payload:this.tonProofValue}}),b.ton={chains:l.filter((e=>e.startsWith("ton"))),defaultChain:l.filter((e=>e.startsWith("ton")))[0],params:e}}if(s&&(b.sui={chains:l.filter((e=>e.startsWith("sui"))),defaultChain:l.filter((e=>e.startsWith("sui")))[0],rpcMap:{"sui:mainnet":"https://www.okx.com/fullnode/sui/discover/rpc"}}),a&&(b.aptos={chains:l.filter((e=>e.startsWith("aptos")||e.startsWith("movement"))),defaultChain:l.filter((e=>e.startsWith("aptos")||e.startsWith("movement")))[0]}),i){let e=l.filter((e=>e.startsWith("btc")||e.startsWith("fractal")));b.btc={chains:e,defaultChain:e[0]}}console.log(`requireData  ===> ${JSON.stringify(b)}`),_["namespaces"]=b,console.log(JSON.stringify(_))}if(d&&d.length>0){var v={eip155:{chains:d.filter((e=>e.startsWith("eip155"))),defaultChain:d.filter((e=>e.startsWith("eip155")))[0]}};_["optionalNamespaces"]=v}0!==l.length||0!==d.length?(console.log("=====>connectData "),console.log(_),e||(_.connectMethods=this.getCurrentSelectedMethodData()),m=window.provider instanceof X.OKXUniversalConnectUI?window.provider.openModal(_):window.provider.connect(_),await m.then((t=>{if(this.walletAddress="connected",this.isPC()&&(this.showModal=!1),t&&(this.testboc=JSON.stringify(t)),e&&this.sendTransactionAlert(),window.provider.session&&window.provider.session.namespaces){let e=window.provider.session.namespaces["ton"];console.log("是否包含ton",e),e&&this.tonUniversalLog()}})).catch((e=>{console.error("发生了错误：",e)}))):alert("请选择一条链")},getCurrentSelectedMethodData(){var e=[];return this.selectedMethod.forEach((t=>{switch(t){case"wallet_addEthereumChain(ETH)":e.push({method:"wallet_addEthereumChain",chainId:"eip155:1",params:{blockExplorerUrls:["https://explorer.fuse.io"],chainId:"0x7a",chainName:"Fuse",nativeCurrency:{name:"Fuse",symbol:"FUSE",decimals:18},rpcUrls:["https://rpc.fuse.io"]}});break;case"personal_sign(ETH)":e.push({method:"personal_sign",chainId:"eip155:1",params:["0x4d7920656d61696c206973206a6f686e40646f652e636f6d202d2031373237353937343537313336"]});break;case"solana_signMessage(Sol mainnet)":e.push({chainId:"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",method:"solana_signMessage",params:{message:"Hello Solana"}});break;case"sui_signMessage(Sui mainnet)":case"sui_signPersonalMessage(Sui mainnet)":{let n=[76,111,103,105,110,32,119,105,116,104,32,66,108,117,101,109,111,118,101],s=new Uint8Array(n),i="sui_signMessage";this.currentSuiTransaction={message:s},t.startsWith("sui_signPersonalMessage")&&(i="sui_signPersonalMessage"),e.push({method:i,chainId:"sui:mainnet",params:{message:s}});break}case"btc_signMessage(BTC)":e.push({method:"btc_signMessage",chainId:"btc:mainnet",params:{signStr:"Welcome to UniSat!\n\nClick to sign in and accept the UniSat Terms of Service (https://unisat.io/terms-of-service.html) and Privacy Policy (https://unisat.io/privacy-policy.html).\n    \nThis request will not trigger a blockchain transaction.\n    \nYour authentication status will reset after 24 hours.\n    \nWallet address:\nbc1p7pgnqe87red4cvd7ml6rh9pl9ufpr522k2y3dpeyrvfc6g2g3r3s3ae9dr\n    \nNonce:\n162d70e3-8c21-4cfd-9a22-9bf0a4b7be51\n"}});break;case"aptos_signMessage(aptos mainnet)":e.push({chainId:"aptos:mainnet",method:"aptos_signMessage",params:{address:!0,application:!0,chainId:!0,message:"Hello Aptos",nonce:"1234"}});break;case"cosmos_signArbitrary(cosmoshub)":e.push({chainId:"cosmos:cosmoshub-4",method:"cosmos_signArbitrary",params:{message:"test cosmos"}});break;case"test_noSupport_eth(ETH)":e.push({chainId:"eip155:1",method:"test_noSupport_eth",params:{message:"测试不支持的方法"}});break;case"tron_signMessage":e.push({chainId:"tron:mainnet",method:"tron_signMessage",params:{message:"Hello Tron"}});break;case"tron_signMessageV2":e.push({chainId:"tron:mainnet",method:"tron_signMessageV2",params:{message:"Hello Tron"}});break;case"starknet_signMessage":e.push({chainId:"starknet:mainnet",method:"starknet_signMessage",params:{accountAddress:"",typedData:this.starknetPanelTypedData}});break;default:break}})),this.selectedMethodData=e,e},closeModal(){this.showModal=!1},isPC(){const e=navigator.userAgent;console.log("current device ua is ===>",e);const t=["Android","iPhone","SymbianOS","Windows Phone","iPad","iPod"];let n=!0;for(let s=0;s<t.length;s++)if(e.indexOf(t[s])>0){n=!1;break}return n},isSafariOrChrome(){const e=navigator.userAgent,t=["Safari","Chrome"];let n=!1;for(let s=0;s<t.length;s++)if(e.indexOf(t[s])>0){n=!0;break}return n},async sol_signMessage(){let e={method:"solana_signMessage",params:{message:"Hello Solana",pubkey:""}};this.testTransaction=JSON.stringify(e);let t=new u.y(window.provider),n=await t.signMessage("Hello Solana",this.selectedChain);console.log("solana_signMessage Result:",JSON.stringify(n));const s=H().sign.detached.verify((new TextEncoder).encode("Hello Solana"),n.signature,new h.PublicKey(n.publicKey).toBytes());console.log(s),this.testboc=s},async aptos_signMessage(){let e={address:!0,application:!0,chainId:!0,message:"Hello Aptos",nonce:"1234"},t=new g.V(window.provider),n=await t.signMessage(e,this.selectedChain);this.testTransaction=JSON.stringify(e),this.testboc="string"==typeof n?n:JSON.stringify(n)},async aptos_signTransaction(){let e=new g.V(window.provider);const t=new m.qc8({network:m.lgv.MAINNET}),n=new m.i5T(t),s=await n.transaction.build.simple({sender:e.getAccount(this.selectedChain).address,data:{function:"0x80273859084bc47f92a6c2d3e9257ebb2349668a1b0fb3db1d759a04c7628855::router::swap_exact_coin_for_coin_x1",typeArguments:["0x1::aptos_coin::AptosCoin","0x111ae3e5bc816a5e63c2da97d0aa3886519e0cd5e4b046659fa35796bd11542a::stapt_token::StakedApt","0x0163df34fccbf003ce219d3f1d9e70d140b60622cb9dd47599c25fb2f797ba6e::curves::Uncorrelated","0x80273859084bc47f92a6c2d3e9257ebb2349668a1b0fb3db1d759a04c7628855::router::BinStepV0V05"],functionArguments:["10000",["9104"],["5"],["true"]]}});this.testTransaction=(0,l.safeJsonStringify)(s);let i=await e.signTransaction(s,this.selectedChain);this.testboc="string"==typeof i?i:JSON.stringify(i)},async move_signTransaction(){let e=new g.V(window.provider);const t=new m.qc8({network:m.lgv.MAINNET}),n=new m.i5T(t),s=await n.transaction.build.simple({sender:e.getAccount(this.selectedChain).address,data:{function:"0x0163df34fccbf003ce219d3f1d9e70d140b60622cb9dd47599c25fb2f797ba6e::scripts::swap",typeArguments:["0x1::aptos_coin::AptosCoin","0x275f508689de8756169d1ee02d889c777de1cebda3a7bbcce63ba8a27c563c6f::tokens::WBTC","0x0163df34fccbf003ce219d3f1d9e70d140b60622cb9dd47599c25fb2f797ba6e::curves::Uncorrelated"],functionArguments:["10000","12"]}});this.testTransaction=(0,l.safeJsonStringify)(s);let i=await e.signTransaction(s,this.selectedChain);this.testboc="string"==typeof i?i:JSON.stringify(i)},async move_signAndSubmitTransaction(){let e=new g.V(window.provider);const t=new m.qc8({network:m.lgv.MAINNET}),n=new m.i5T(t),s=await n.transaction.build.simple({sender:e.getAccount(this.selectedChain).address,data:{function:"0x0163df34fccbf003ce219d3f1d9e70d140b60622cb9dd47599c25fb2f797ba6e::scripts::swap",typeArguments:["0x1::aptos_coin::AptosCoin","0x275f508689de8756169d1ee02d889c777de1cebda3a7bbcce63ba8a27c563c6f::tokens::WBTC","0x0163df34fccbf003ce219d3f1d9e70d140b60622cb9dd47599c25fb2f797ba6e::curves::Uncorrelated"],functionArguments:["10000","12"]}});this.testTransaction=(0,l.safeJsonStringify)(s);let i=await e.signAndSubmitTransaction(s,this.selectedChain);this.testboc="string"==typeof i?i:JSON.stringify(i)},async aptos_signAndSubmitTransaction(){let e=new g.V(window.provider);const t=new m.qc8({network:m.lgv.MAINNET}),n=new m.i5T(t),s=await n.transaction.build.simple({sender:e.getAccount(this.selectedChain).address,data:{function:"0x80273859084bc47f92a6c2d3e9257ebb2349668a1b0fb3db1d759a04c7628855::router::swap_exact_coin_for_coin_x1",typeArguments:["0x1::aptos_coin::AptosCoin","0x111ae3e5bc816a5e63c2da97d0aa3886519e0cd5e4b046659fa35796bd11542a::stapt_token::StakedApt","0x0163df34fccbf003ce219d3f1d9e70d140b60622cb9dd47599c25fb2f797ba6e::curves::Uncorrelated","0x80273859084bc47f92a6c2d3e9257ebb2349668a1b0fb3db1d759a04c7628855::router::BinStepV0V05"],functionArguments:["10000",["9104"],["5"],["true"]]}});this.testTransaction=(0,l.safeJsonStringify)(s);let i=await e.signAndSubmitTransaction(s,this.selectedChain);this.testboc="string"==typeof i?i:JSON.stringify(i)},async sol_signVersionedTransaction(){let e=new u.y(window.provider),t=new h.PublicKey(e.getAccount("solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp").address);const n=new h.Connection(this.getSolConnect()),{blockhash:s}=await n.getLatestBlockhash(),i=new h.TransactionMessage({payerKey:t,recentBlockhash:s,instructions:[h.SystemProgram.transfer({fromPubkey:new h.PublicKey(e.getAccount().address),toPubkey:new h.PublicKey(e.getAccount().address),lamports:"100"})]}).compileToV0Message();let a=new h.VersionedTransaction(i);this.testTransaction=(0,l.safeJsonStringify)(a);let r=await e.signTransaction(a,this.selectedChain);console.log("sol_signTransaction result",JSON.stringify(r)),this.testboc="string"==typeof r?r:JSON.stringify(r)},async sol_signAndSendVersionedTransaction(){let e=new u.y(window.provider),t=new h.PublicKey(e.getAccount().address);const n=new h.Connection(this.getSolConnect()),{blockhash:s}=await n.getLatestBlockhash(),i=new h.TransactionMessage({payerKey:t,recentBlockhash:s,instructions:[h.SystemProgram.transfer({fromPubkey:new h.PublicKey(e.getAccount().address),toPubkey:new h.PublicKey(e.getAccount().address),lamports:"100"})]}).compileToV0Message();let a=new h.VersionedTransaction(i);this.testTransaction=(0,l.safeJsonStringify)(a);let r=await e.signAndSendTransaction(a,this.selectedChain);console.log("sol_signTransaction result",JSON.stringify(r)),this.testboc="string"==typeof r?r:JSON.stringify(r)},async sol_signAllVersionedTransactions(){let e=new u.y(window.provider);const t=new h.Connection(this.getSolConnect()),{blockhash:n}=await t.getLatestBlockhash();let s=new h.PublicKey(e.getAccount().address);const i=new h.TransactionMessage({payerKey:s,recentBlockhash:n,instructions:[h.SystemProgram.transfer({fromPubkey:new h.PublicKey(e.getAccount().address),toPubkey:new h.PublicKey(e.getAccount().address),lamports:"100"})]}).compileToV0Message();let a=new h.VersionedTransaction(i);this.testTransaction=(0,l.safeJsonStringify)(a);let r=await e.signAllTransactions([a],this.selectedChain);console.log("sol_signTransaction result",JSON.stringify(r)),this.testboc="string"==typeof r?r:JSON.stringify(r)},async sol_signTransaction(){const e=new h.Connection(this.getSolConnect()),{blockhash:t}=await e.getLatestBlockhash();let n=new u.y(window.provider);const s=new h.Transaction({feePayer:new h.PublicKey(n.getAccount().address),recentBlockhash:t}).add(h.SystemProgram.transfer({fromPubkey:new h.PublicKey(n.getAccount().address),toPubkey:new h.PublicKey(n.getAccount().address),lamports:1e3}));this.testTransaction=(0,l.safeJsonStringify)(s);let i=await n.signTransaction(s,this.selectedChain);console.log("sol_signTransaction result",JSON.stringify(i)),this.testboc="string"==typeof i?i:JSON.stringify(i)},async sol_signAllTransactions(){const e=new h.Connection(this.getSolConnect()),{blockhash:t}=await e.getLatestBlockhash();let n=new u.y(window.provider);const s=new h.Transaction({feePayer:new h.PublicKey(n.getAccount().address),recentBlockhash:t}).add(h.SystemProgram.transfer({fromPubkey:new h.PublicKey(n.getAccount().address),toPubkey:new h.PublicKey(n.getAccount().address),lamports:"100"}));this.testTransaction=(0,l.safeJsonStringify)(s);let i=await n.signAllTransactions([s],this.selectedChain);this.testboc="string"==typeof i?i:JSON.stringify(i)},getSolConnect(){let e="https://www.okx.com/fullnode/sol/discover/rpc";return"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp"===this.selectedChain?e="https://www.okx.com//fullnode/sol/discover/rpc":"solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z"===this.selectedChain?e="https://www.okx.com/fullnode/soltestnet/discover/rpc":"svm:70000062"===this.selectedChain&&(e="https://www.okx.com/fullnode/sonic/testnet/discover/rpc"),e},async sol_signAndSendTransaction(){const e=new h.Connection(this.getSolConnect()),{blockhash:t}=await e.getLatestBlockhash();let n=new u.y(window.provider);const s=new h.Transaction({feePayer:new h.PublicKey(n.getAccount().address),recentBlockhash:t}).add(h.SystemProgram.transfer({fromPubkey:new h.PublicKey(n.getAccount().address),toPubkey:new h.PublicKey(n.getAccount().address),lamports:"100"}));this.testTransaction=(0,l.safeJsonStringify)(s);let i=await n.signAndSendTransaction(s,this.selectedChain);this.testboc="string"==typeof i?i:JSON.stringify(i)},async cosmos_signArbitrary(){let e=new d.OKXCosmosProvider(window.provider),t=await e.signArbitrary(this.selectedChain,e.getAccount(this.selectedChain).address,"test cosmos");if("string"==typeof t)this.testboc=t;else{let n=await this.cosmos_verifySignArbitrary(e.getAccount(this.selectedChain).address,"test cosmos",t.signature,t.pub_key.value);console.log("verify",n),this.testboc="verify:"+n+JSON.stringify(t)}},async cosmos_verifySignArbitrary(e,t,n,s){try{const{prefix:i}=te(e),a=Q.from(n,"base64"),r=new Uint8Array(a),o=Q.from(s,"base64"),c=new Uint8Array(o);return await ee(i,e,t,c,r)}catch(i){return console.error("Verification failed:",i),!1}},async cosmos_signAmino(){let e=new d.OKXCosmosProvider(window.provider),t={chain_id:"osmosis-1",account_number:"630104",sequence:"480",fee:{gas:"683300",amount:[{denom:"uosmo",amount:"2818"}]},msgs:[{type:"osmosis/poolmanager/swap-exact-amount-in",value:{sender:"osmo1u6lts9ng4etxj0zdaxsada6zgl8dudpgelmuyu",routes:[{pool_id:"1096",token_out_denom:"ibc/987C17B11ABC2B20019178ACE62929FE9840202CE79498E29FE8E5CB02B7C0A4"},{pool_id:"611",token_out_denom:"ibc/27394FB092D2ECCD56123C74F36E4C1F926001CEADA9CA97EA622B25F41E5EB2"}],token_in:{denom:"uosmo",amount:"100"},token_out_min_amount:"8"}}],memo:"FE",timeout_height:"23603788",signOptions:{useOneClickTrading:!1,preferNoSetFee:!0,fee:{gas:"683300",amount:[{denom:"uosmo",amount:"2818"}]}}};this.testTransaction=(0,l.safeJsonStringify)(t);let n=await e.signAmino(this.selectedChain,e.getAccount(this.selectedChain).address,t);this.testboc="string"==typeof n?n:JSON.stringify(n)},messageToBuffer(e){var t=Q.from([]);try{t="string"===typeof e?Q.from(e.replace("0x",""),"hex"):Q.from(e)}catch(n){console.log(`messageToBuffer error: ${n}`)}return t},async cosmos_signDirect(){let e=new d.OKXCosmosProvider(window.provider),t={bodyBytes:this.messageToBuffer("0x0ac1010a292f6962632e6170706c69636174696f6e732e7472616e736665722e76312e4d73675472616e736665721293010a087472616e7366657212096368616e6e656c2d301a0d0a05756f736d6f120431303030222b6f736d6f3175366c7473396e67346574786a307a64617873616461367a676c386475647067656c6d7579752a2d636f736d6f733175366c7473396e67346574786a307a64617873616461367a676c386475647067337967766a773207080410ebe3f90a3880b0bcafd18cec8218"),authInfoBytes:this.messageToBuffer("0x0a510a460a1f2f636f736d6f732e63727970746f2e736563703235366b312e5075624b657912230a2102446e19e94ac0e83ea896d2712507577eb39fbdd2d6ae9f0fc0b9759f1fbaba9012040a02080118e00312140a0e0a05756f736d6f1205323530303010859a11"),chainId:"osmosis-1",accountNumber:"630104"};this.testTransaction=(0,l.safeJsonStringify)(t);let n=await e.signDirect(this.selectedChain,e.getAccount(this.selectedChain).address,t);this.testboc="string"==typeof n?n:JSON.stringify(n)},sui_generateTransactionParams(e,t){this.testTransaction=JSON.stringify(e),this.currentSuiTransaction=e,this.currentSuiMethod=t},btc_generateTransactionParams(e,t){this.testTransaction=JSON.stringify(e),this.currentBtcTransaction=e,this.currentBtcMethod=t,console.log("参数是: ",e),console.log("flag: ",t)},fractal_generateTransactionParams(e,t){this.testTransaction=JSON.stringify(e),this.currentFractalTransaction=e,this.currentFractalMethod=t,console.log("参数是: ",e),console.log("flag: ",t)},tron_getTransactionResult(e){this.testboc="string"==typeof e?e:JSON.stringify(e)},tron_generateTransactionParams(e){this.testTransaction="string"==typeof e?e:JSON.stringify(e)},starknet_getTransactionResult(e){this.testboc="string"==typeof e?e:JSON.stringify(e)},starknet_generateTransactionParams(e){this.testTransaction="string"==typeof e?e:JSON.stringify(e)},handleModalsSelect(e){ie=e,this.withUI&&(window.provider.uiOptions={actionsConfiguration:{returnStrategy:re,modals:3===e.length?"all":e},language:oe,uiPreferences:{theme:ce}})},handleReturnStrategySelect(e){ae="deeplink"===e?this.deeplink:e,this.withUI&&(window.provider.uiOptions={actionsConfiguration:{returnStrategy:ae,modals:3===ie.length?"all":ie},language:oe,uiPreferences:{theme:ce}})},handleReturnStrategyDeeplink(e){ae=e,this.withUI&&(window.provider.uiOptions={actionsConfiguration:{returnStrategy:e,modals:3===ie.length?"all":ie},language:oe,uiPreferences:{theme:ce}})},handleLanguageSelect(e){oe=e,this.withUI&&(window.provider.uiOptions={actionsConfiguration:{returnStrategy:ae,modals:3===ie.length?"all":ie},language:e,uiPreferences:{theme:ce}})},handleConnectMethodsSelect(){console.log("当前的方法 this.selectedMethod>>>>",this.selectedMethod)},eth_verifyMessage(e,t,n){if(console.log("eth_verifyMessage   message>>>",e),console.log("eth_verifyMessage   signature>>>",t),console.log("eth_verifyMessage   ethAddress>>>",n),!e||!t)return"";let s=e;if(e.startsWith("0x")){s=s.replace(/^0x/,"");let e="";for(let t=0;t<s.length;t+=2){const n=s.slice(t,t+2);e+=String.fromCharCode(parseInt(n,16))}s=e}console.log("eth_verifyMessage   originalMessage>>>",s);const i=q.lT(s,t);return console.log("eth_verifyMessage recoveredAddress:",i),i.toLowerCase()===n.toLowerCase()},async verifyMessage(){if(window.provider&&window.provider.session&&window.provider.session.connectMethodsReply&&window.provider.session.connectMethodsReply.length>0){let e={};for(let t of window.provider.session.connectMethodsReply)if("result"in t&&"method"in t){let n=this.selectedMethodData.filter((e=>e.method===t.method))[0];if(console.log("验证签名 请求>>>:",JSON.stringify(n)),console.log("验证签名 结果>>>:",JSON.stringify(t)),"personal_sign"===t.method){let s=await window.provider.request({method:"eth_requestAccounts"},t.chainId);s=s[0],console.log("验证eth 钱包地址>>>:",s);let i=n.params[0];console.log("验证eth 签名消息体>>:",JSON.stringify(i)),e[t.method]=this.eth_verifyMessage(i,t.result,s)}else if("solana_signMessage"===t.method){let n=t.result;if("signature"in n&&"publicKey"in n){const s=H().sign.detached.verify((new TextEncoder).encode("Hello Solana"),n.signature,new h.PublicKey(n.publicKey).toBytes());e[t.method]=s}else e[t.method]=!1}else if("sui_signPersonalMessage"===t.method||"sui_signMessage"===t.method){let n=this.sui_verifySignature(t.result);e[t.method]=(await n).result}else if("btc_signMessage"===t.method)e[t.method]="Not verified yet";else if("aptos_signMessage"===t.method){let n=t.result,s=new g.V(window.provider),i=s.getAccount(t.chainId)?.publicKey,a=n.signature;a.startsWith("0x")&&(a=a.slice(2,a.length)),console.log("aptos_signMessage aptosPublicKey And signStr",i,a),e[t.method]=H().sign.detached.verify(Q.from(n.fullMessage),Q.from(a,"hex"),Q.from(i,"hex"))}else if("cosmos_signArbitrary"===t.method){let n=new d.OKXCosmosProvider(window.provider),s=n.getAccount(t.chainId)?.address,i=t.result,a=await this.cosmos_verifySignArbitrary(s,"test cosmos",i.signature,i.pub_key.value);e[t.method]=a}else if("tron_signMessage"===t.method){let n=t.result,s=new j.K_({fullHost:"https://api.trongrid.io",headers:{},privateKey:""}),i=new d.OKXTronProvider(window.provider);e[t.method]=await s.trx.verifyMessage("0x"+Q.from("Hello Tron").toString("hex"),n,i.getAccount("tron:mainnet").address)}else if("tron_signMessageV2"===t.method){let n=t.result,s=new j.K_({fullHost:"https://api.trongrid.io",headers:{},privateKey:""});const i=await s.trx.verifyMessageV2("Hello Tron",n);let a=new d.OKXTronProvider(window.provider);e[t.method]=i===a.getAccount("tron:mainnet").address}else if("starknet_signMessage"===t.method){let n=t.result,s=this.starknetPanelTypedData;const i=new x.bd({nodeUrl:"https://free-rpc.nethermind.io/mainnet-juno/v0_7"});let a=new d.OKXStarknetProvider(window.provider),r=a.getAccount("starknet:mainnet").address,o="0x123";const c=new x.gD(i,r,o);let l=this;c.verifyMessage(s,n).then((function(e){l.testTransaction=`Verifyed result: \n${e}`})).catch((function(e){l.testTransaction=`Verifyed failed: \n${e}`})),e[t.method]="starknet is verifying signature..."}else e[t.method]="Not verified yet"}else"method"in t&&"error"in t&&(e[t.method]=t.error);console.log("验证签名 最后的结果>>>:",JSON.stringify(e)),this.testTransaction="签名验证结果如下: \n"+JSON.stringify(e)}else console.log("验证签名 window.provider.session.connectMethodsReply 为空:")},handleThemeSelect(e){ce=e,this.withUI&&(window.provider.uiOptions={actionsConfiguration:{returnStrategy:ae,modals:3===ie.length?"all":ie},language:oe,uiPreferences:{theme:e}})},async sui_verifySignature(e){let t=e,n=!1,s="";try{const e=new p.Z(window.provider);let i=e.getAccount();console.log(`Account中获取的address：${i.address}`);let a=await(0,V.n0)(this.currentSuiTransaction.message,t.signature),r=a.toSuiAddress();console.log(`验签结果计算得到address：${r}`),console.log(`account pubkey: ${i.publicKey}`),console.log(`result pubkey: ${a.toBase64()}`),n=i.address===r&&i.publicKey===a.toBase64(),s=`address verify: ${i.address===r}\npublicKey verify: ${i.publicKey===a.toBase64()}`,console.log("signature verify success: ",a)}catch(i){console.log("signature verify failed: ",i)}return{result:n,msg:s}}},created(){},mounted(){var e=document.createElement("script");e.src="https://telegram.org/js/telegram-web-app.js",e.id="tgsdk",document.getElementsByTagName("head")[0].appendChild(e),this.connectReady=!0,document.title="OKX Connect",this.initBtnClicked(),console.log("挂载成功:"),this.$refs.starknetPanelRef?(this.starknetPanelTypedData=(0,b.ux)(this.$refs.starknetPanelRef.signData),console.log("111: ",this.starknetPanelTypedData)):console.log("222")}};const de=(0,y.A)(le,[["render",c],["__scopeId","data-v-781a7e82"]]);var ue=de;const he=(0,s.Ef)(ue);he.use(i.A),he.mount("#app")},44706:function(){},67439:function(){},21549:function(){},91163:function(){},91848:function(){},58954:function(){},80602:function(){},94615:function(){},65717:function(){},79331:function(){},24658:function(){},47167:function(){},12445:function(){},97643:function(){},49292:function(){},50441:function(){},45391:function(){},11949:function(){},84005:function(){},63770:function(){},38446:function(){},81670:function(){},12865:function(){},10622:function(){},86026:function(){},11418:function(){},89513:function(){},47790:function(){},61276:function(){},73776:function(){},17406:function(){},15340:function(){},79838:function(){},71281:function(){}},t={};function n(s){var i=t[s];if(void 0!==i)return i.exports;var a=t[s]={id:s,loaded:!1,exports:{}};return e[s].call(a.exports,a,a.exports,n),a.loaded=!0,a.exports}n.m=e,function(){n.amdO={}}(),function(){var e=[];n.O=function(t,s,i,a){if(!s){var r=1/0;for(d=0;d<e.length;d++){s=e[d][0],i=e[d][1],a=e[d][2];for(var o=!0,c=0;c<s.length;c++)(!1&a||r>=a)&&Object.keys(n.O).every((function(e){return n.O[e](s[c])}))?s.splice(c--,1):(o=!1,a<r&&(r=a));if(o){e.splice(d--,1);var l=i();void 0!==l&&(t=l)}}return t}a=a||0;for(var d=e.length;d>0&&e[d-1][2]>a;d--)e[d]=e[d-1];e[d]=[s,i,a]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(s,i){if(1&i&&(s=this(s)),8&i)return s;if("object"===typeof s&&s){if(4&i&&s.__esModule)return s;if(16&i&&"function"===typeof s.then)return s}var a=Object.create(null);n.r(a);var r={};e=e||[null,t({}),t([]),t(t)];for(var o=2&i&&s;"object"==typeof o&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach((function(e){r[e]=function(){return s[e]}}));return r["default"]=function(){return s},n.d(a,r),a}}(),function(){n.d=function(e,t){for(var s in t)n.o(t,s)&&!n.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){var e={524:0};n.O.j=function(t){return 0===e[t]};var t=function(t,s){var i,a,r=s[0],o=s[1],c=s[2],l=0;if(r.some((function(t){return 0!==e[t]}))){for(i in o)n.o(o,i)&&(n.m[i]=o[i]);if(c)var d=c(n)}for(t&&t(s);l<r.length;l++)a=r[l],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return n.O(d)},s=self["webpackChunkokxconnectdemo"]=self["webpackChunkokxconnectdemo"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=n.O(void 0,[504],(function(){return n(93380)}));s=n.O(s)})();
//# sourceMappingURL=app.99a633a9.js.map